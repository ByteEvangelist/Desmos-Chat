/*! For license information please see main.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkdesmos_chat_client=self.webpackChunkdesmos_chat_client||[]).push([[792],{913:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),i=n.n(r),o=n(314),a=n.n(o)()(i());a.push([e.id,"body {\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n}\n\n#topBar {\n  height: 48px;\n  width: 100vw;\n  background-color: #2a2a2a;\n  text-align: center;\n  display: grid;\n  grid-template-columns: 1fr max-content 1fr;\n  align-items: center;\n  padding: 0;\n}\n\n#calculator {\n  width: 100vw;\n  height: calc(100vh - 45px);\n}\n\n#svg-desmos {\n  height: 22px;\n  fill: rgb(221, 221, 221);\n  text-align: center;\n}\n\n#leftHamburger {\n  text-align: center;\n  color: rgb(221, 221, 221);\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n}\n\n#leftBar {\n  flex-grow: 1;\n  text-align: left;\n  flex-direction: row;\n  display: flex;\n  align-items: center;\n  font-family: Arial, sans-serif;\n  color: white;\n  padding: 0;\n}\n\n#rightBar {\n  flex-grow: 1;\n  text-align: right;\n  flex-direction: row;\n  display: flex;\n  align-items: center;\n  font-family: Arial, sans-serif;\n  color: white;\n  justify-content: right;\n  padding: 0;\n}\n\n#logIn {\n  background-color: transparent;\n  border: 1px solid rgba(250, 250, 250, 0.8);\n  box-sizing: border-box;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 12px;\n  padding-right: 12px;\n  color: rgba(250, 250, 250, 0.9);\n  font-family: Arial, sans-serif;\n  font-size: 15px;\n  border-radius: 3px;\n  margin-right: 8px;\n}\n\n#signUp {\n  background-color: rgb(47, 114, 220);\n  border: 1px solid rgb(41, 100, 194);\n  box-sizing: border-box;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 12px;\n  padding-right: 12px;\n  color: rgba(250, 250, 250, 0.9);\n  font-family: Arial, sans-serif;\n  font-size: 15px;\n  border-radius: 3px;\n  margin-left: 8px;\n  margin-right: 18px;\n}\n\n#rightBar > svg {\n  color: rgb(221, 221, 221);\n  fill: rgb(221, 221, 221);\n  margin-right: 20px;\n}\n",""]);const s=a},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&a[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),t.push(d))}},t}},601:e=>{e.exports=function(e){return e[1]}},385:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var l=e[s],c=r.base?l[0]+r.base:l[0],d=o[c]||0,p="".concat(c," ").concat(d);o[c]=d+1;var u=n(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var g=i(h,r);r.byIndex=s,t.splice(s,0,{identifier:p,updater:g,references:1})}a.push(p)}return a}function i(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var l=r(e,i),c=0;c<o.length;c++){var d=n(o[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=l}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},226:(module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>startDesmos,c:()=>desmosExported}),module=__webpack_require__.hmd(module);let desmosExported={};function startDesmos(){(function(){var desmosEnabledFeatures={GraphingCalculator:!0,FourFunctionCalculator:!0,ScientificCalculator:!0},desmosCommit="693e6e5f41d7bf39193d6057bf2ca0ea56808cf0";(function(global){var elt=document.createElement("style"),_Desmos;elt.innerHTML='@font-face {\n  font-family: Symbola;\n  src: url(data:application/font-woff;base64,d09GRgABAAAAAChwABEAAAAAQywAAoUeAAAAAAAAAAAAAAAAAAAAAAAAAABHREVGAAAncAAAACcAAAAoAOQA5kdQT1MAACeYAAAAEAAAABAAGQAMR1NVQgAAJ6gAAADFAAABKKK+thVPUy8yAAAhrAAAAE8AAABWjIaoAWNtYXAAACH8AAABFwAAAdz2W760Y3Z0IAAAJQgAAABaAAAAWhEGDTtmcGdtAAAjFAAAAbEAAAJl2bQvp2dhc3AAACdkAAAADAAAAAwAAwAHZ2x5ZgAAAYAAAB5ZAAA15ITPRN9oZWFkAAAgmAAAADYAAAA2+zj5+2hoZWEAACGMAAAAIAAAACQPEwHJaG10eAAAINAAAAC7AAABLm4VHxRsb2NhAAAf/AAAAJoAAACaHqoSHm1heHAAAB/cAAAAIAAAACACRAsCbmFtZQAAJWQAAADmAAABoCEMPvNwb3N0AAAmTAAAARYAAAGdYezlm3ByZXAAACTIAAAAQAAAAEBey7t5eJytWwl8VNW5P+dusyQzuXe2TGayzJKZyWS74U4mk4FAAoEAAQKERSBgQBAVwSgooiKyKVShCuJCtRV5lrr33mHQFltNrXvbV9e4VGy12p/i89WndYFkLu87905CQJbQ9wK599xl5p7vf/7f/3zfd24Qg9rVb5j17F2IRgZUiMoQwn7BTwt+ATu4YCDiDAoJV0yK14YS+a58l3YyHK+ti0kuZn3v60x1e99q6pP71lZJl4+fV/2IutGW2Hf5req+WGlpjPyq33B7j8isepSiD117c+4HOFzn2XVgVJfJO2lh30v6PTGEKPQpPPlZ9iAyIS8SUYrBqCJtYpGdqcByoSgbemSLlKY4ckLO728pRbgC1QwrdWndgl7FAxG6Nl6bgP7lu5wOJ83hjU1NVVXwW8BMLQ5UVgaKpzLvNs1tgv/7RPoBli3zFBZ6yli2b14VdAF1qHupUexh5ESlCMsu8uS0jUMepiJlM5gr9iMbMlXIVknJ1x6NHQBSmBJ4G3mm02FAAo9d1Ch7TvCj7u6Pgjl2t/omrnSraVvRQfwAjsK/Bw4W2Yxu9d3MgcwB9V03eepyeOrUwU/N6Ukj/ak5iDw1xwBPzRt4Kk8ZwGIwlDwOxoOYa6Om6g/Eleqbbq0DVIv6tjpfexyOUJOoSTjiNkJH1PnwzJXUIbqd86II6kApN40q5EAs7WDRcEA4LMl5okzH0jb9GElYLhNlc49i90pS2sChEKBfHJEkJYorFINZsO3ncj2+0vwkUhw2wZaCg2QyCV2FsQlEQnZHYCS2sxyMUqIKw1BJ+SxdKxVhOlQnuRwGlq73+MO5qlp8RZF6zBIKeHGJ+qE3ELJgXHRFMaZyw36P+iH9fW4iYnpC/d2wYSwe/oQpksjdvNlSV2Z6EjfCKfWFJ01ldZbNYN3Dx95ktzO/QvloMkpxwCbZLMpUTLGyn8lOKWU1A6pNVpsJ6OUWZWMPAZfhPpMdUooxkmsMjHPKyJCmMddUoRT0j7dfgDGPC36AP+YXAHqn4JfY7aHMoWg080EkQgWiUSoYolqOH5WGQpn3yThvVa/Ca9C7QKJGlKIIx7ksx+2iLPSkjRwqhzEXSA+QYDGRLQMPd8DDFY4CXJFR0HANESgBOqdDJ0JdvBa3+Jckh1/esjvgsO7y+0efN/rKxXd/4zLm/fT3xQQRqojdTnWBh+UjmRYVA/sZ+cUAjJIzYJxmFTGn95JIhLmLmBGNwqdvh+6vgJ6bUPwE7zzRU82av+jO2e+jOSf5KK7KemTWDQkuSN1DJdn/QhY0Ffhv1ZiGuM9SZo38ZiC/kocr5DrPwZFP/zOMnBVmRjZXW2VTt0KxR2S6G+2naJO5Gn5wClqwl5s8WLPJgHWEMDgolaRUt8EfofCnsGV/zxmOMJ4oZ+D6PKBBM469QXezy1EuKkazUKqQWMayKAxW5oJ/EGcIEytLRNnUk3ZyyA2u4eQVC9aMhSPFB95gcRL+57AwTkixFYJrYCNlAtcg3sATx42E+USdzy7URsI+A+d0wCjmu3yJOnrFjLbV//po9YLJV+GPvaGR6i9HhrB/BJ47MsBs/nnmpj1fvfYAtX3Pd30vYeadK55+ZuXb0b1l/7zm/TfXAIYphOhF0PtidAFKFZO+IxY1kh5KqRzovmLK4X3dYtqondWsYHvSAoe8YB8rEKKzJhPxdc0KgRVscg5YYETQEJKySZC5pJxjk3kwJJEvAeUELhiXEprWCmBB/nAcc4aBQ4anJ+92mVb8x9EN5iKONuYtNTSPHD9aXd40vomqsAWZxrqmG62cv3cxzDWGJo6D3i+D3j8EvQ+hO8ES0vsSVtM/okyEX9DntNWO3BbYZdkWFmVnD/Q3zevzAs8rHAyFh0MuOCqVZA+fDnJoHBwERSUCRvFkaOjcEhgamRP2M6Z8N4yLHLTJIbC0hFhKJ2W7kGKCpeQeqy3FOT2aw8U0CsVrw8EAZ9C0XqNVnY8B1ecM2C/VJWL0Mje+7b0dNy26228wXzOquutTfB5GUyqvUWfiPVvLPLVJm9+Lf/v1e7e8vPp8akV105U/ff+DJ1Zf1rhaXeR/SL2T+MJcYOFBQGIE+gtK1RLrQxrvwGcJA8mIWkSCiA1aHjFdpF+tFtMRFjkILg2izPWkczjtjhxervD1COkajlyUa8R0hd7K4RUXoIV07ALknoSGXCqQIGQIFILXjQTQcmqAwsa8SBWBqkIgCAVsTSaqwFNkC8Vqk5romyxwE+LynOQmjyC7knKRTQYIqwXFl4B9xKYEamAfEuQ64gkOxhchkYSkCUOkGMeAUXwkXIEDoGaJUViD2iBpSJOYAzwm38VzhmJMH1T/pe5fu63pouZxktlcnVp4/aiaWONNy/01ft/aqy9c/OxMil474vwR1y3HBZdvfPD6HX/ASx79pH3BXfGxzRc24SntV3Zgz9wrqjhMGZ+9bemNGy+pbhhRs3n6+PHtat9L0aI/k4ikARj5NrsZ+VAQ/QilvGSGzBXTgj4EnCTnizKKpYP6cQnMkKWiHOgBd0sXc6gQzmEpVRwgUBaTmMEopQLFGrD5cOSWlJCuaPHt73+jK5obFK2gm1WCpiOMHOimUu6CAFE0pSB4XM+CRCtiUtbR4i4C20jsj+M6zQ1hSsL026+a7PtYZsYI9e/1M0ThMocp8xa1no9x1KvqvSqN5z5XbAuB3zXhsFDyXBP9eoHA+fom06a+7wgDlwEDiS/G0QsoFSZ2V8RkTky7dFMFMZ2jMU0uEtOUro9FFLGsyA+WxcR0OUvEEMt1ohzUApm74RYUJFqORCIx/H4HslrBr3UqmsS0VW8hXvEAKRkO5YOaJoB9QRO4bI5gJ+6IBNmfVDxWwZamMOcq0pgnuASbwhTA5RxBNhHapWhEfFYpj4E/xwnZ6nw2HmmRayw7ZR4nXDBgxWRC14IoKRvGkTuwawWeeEj97rf3fHBh5ciRlTa+6LGLd0wdFhpx9dwrZxiLHCZh33e353KO0ts+mD2Pppapn6u3ql98dE/X8MrKEeyFN22dha+beVPLwii1NcA1jGLz+bL7vcCsfg8vQcPQXpTKIz5eqHsxoFytoxzqx1Z2iGk3SxwTyxKZGdNRXeCQJEd5otUELnKC4WWBuLFLP3SJRN2hpcQAR1dUsB3AVq4wVE1c1CekKEceARXgtbs92mQVqgYnphkzgjsUt0PT/Sx6FJm1hFoIczUAdShjxEM58NSI1gBm6qhi50x80eGvnvqqa8aePV3/2B2fmbiI5ZLrpre+jg+HGzduHJcMe64Yu21MKfXof6qH1S3qp989ie1/wpcsHLNqeeXw+uiCWeKNfV9cvKdtww0Xbf/Phc3ztrYSZrYCci+zG1EBWodSBQQ3iz5LWAoIuSwwf6XscBqDMMo2bXYj6i/wih1gcuhHDl4xw5FBx8are2Gt4b2DxAtlCzhhLoQVZi2sgGAil7gghBe5luqTwgoDJzgCcR7b/TAlBO0xSJBifvplu/rJ+YH8ZzD6VLVcVV5UO66Wyi35APeyNT6vetWmD+9Se1auxOvxbXii95f4cYclANlXPyecwIpyTKGUhVhXMKD80eysXaHN2mEOlZEwnZe9ZMBB6scSRRfTXr0V1rU9j0PNcOQj9yDtI0qlbu6hja/kE3OtsoEHqVEKc47I9u79QqHdXrHfpm2LyRYu7w8aAnBYSrYpOOm72XdzkAMfTJKowJZMwRVyEEyiJpNBKCwutdkDwer+H3yqkwRFxeUFRhJcy6KaIxcAQ/ezKCdPD5VggiiFvDMMwVKdDzgHwp/vomvDAY6EGnX22mocIbGTrw7mg171EfUIrkos7vg7jv4js2ByaOntj/1l/7Liv79aOe0n6X+9gI79CS94+G8v7P38Dt+0xdj9wsPbnt1QH4teQU24fNeVz0xx7VyTuXnykktW3PTuxsd2okFeGkQx9GOU8pHxKNPHgxFJokS8lBfTZs03IUlND8vGh7WiXNyTrtK90EjAt+jtKl4pBfw9EhkNQr44OGaVEfTLbAO9KoU5NM04fGU1Gh5mHlzTaLERKSsbRqbXomKPjk02itTkTBcrbR6AkIzzUTwiSkZnnbIIZ2PLg+9veXBN2/zOaL3fW8oZmrZPGb+mwtuu3nkY0weWzvrvZwKjbr55fEWoCbPjEtQv1bVvbYqNWLkkMavQjSeLU3+/5vXXcD7ejHPiu9Q/vNLxi83TfjH7/imbN1x07Bh6CJzzWnoqHyEVhEwQ4rEyUDYKPQz5zo/oVZA1eNDFKJVL4jpei94Ip43ZOM4rytYemZVIom3XhK2/ZePTZi0lgswiZbaROcYMs6dSCLiZrUSsjLxTA4vPzaJImKNnGpKL1pKkgVgNhGlTI0k95jZFPJ3J4bGVt5Q4rJtorqqRpCJ9H+dDzvTG7u9dOfxdSMshv4Uc8k5kR116tiYzMQxyDDmO4tT9yDvzBb/uRyZeNncrguGIzHcf/PhR/TQrMyAnbLdiMxxRBN4oC93oAGsiI5v1jieYwYf98hIiZQWS2GtZC3DfhF3s9qiR6+3yepkdnDHq7n2aGeMuidJUmcXttlBldNSTk1Ezag6C8XgYz2C300kYDzNCx+p4A9mjV062iSU20bpN6Ac2yTT0nepWTGCT+bhNVhI5msxGOGeFLOGIbAObKJM557hNJBfLOdmm45mYKVuyIDZ5e7uINcyY3qfdYB+zw0u1uC2Zd4g5FPzkeKJ05h0L9PxydS81gj0M2Zmo5a9myORNosKQFNYiynSPYiYZI61ljCTg4iTFejxp90v6lhoxVr0Gbxk7Vv0DjsMmapgw/UgHfH8XfP9w7fv9SMaiwsL3GyE1zn4/p2Wk/d+Yzf79AdhSw9Vrxo7FcfUPsN2i7o1GuZ9PJ/xZou6lSY9jaA2SKTEt6eoBQWSe3gLNKDiuGdaedETXiQivGGEsbFK6kkNBEp1LqUqtJlBJDPNImnBEwAGUXJ5M3LkSNI0VMJvnCXIkKRfaFHtQ9wWiE6AUQi1sa4lCCCS8BlaRrAX+QeYGO1d/Cgf/6BHRx7smOiy3rfaXCl9ZHBNXyFHbT2aU57JO8Z57RCebWz7jJzb11/ltsdHll+LkVetNVJjDJYdw8tLy0bEpUcY0q2J8oFP9fG7FwqqqheVz1c87A+MrZpkYgsoD6h70LeT6pA6hVQwYHVnyq9cK7I5sPOb8Ngo/6suAaF8kAp+9FxBdBYjWEkQBR17HEbCN6a2wNlNqiMZF2dUDcXma0zEUpZSLIxi6rIBhRJI5nkz+/VJcB4gimJEUOkYQpcAnFS4fEI0Jsjcph21KiZhVl37QsqKSGEBVB5rgDVgTEdZQJZCu0pHsevwUSEblFTraVItAYFRfJDC25duzOGLn3HKCY8Vc7MziGJ1CoFdfJNATTEN4LZ2h/ohcaBrxDdkcI3nKSLCa1cjWoJUBMElZcnu0WAhpsZDiBqvtIJ0yRSJpGmw25MJ0kwfJv4LsWXsDpTCRaEEyiCoT02JkOnPrq+q7s7dWcHZb8Y4/48jse0ImVyF1e9eDn20qmpBc8dDhXw1DDLpRfYLbzn6NLEDdCWgSrkapSVjLKNKl+hRqlVIhOJOKkwm2TjuXqosTqa+rh3AOkfyjYGDCLZLSE6pK6y0VclMsPSEbFE0WZakn3cChYvis1EA+K9XBIFdJcgOvtGLiQOlyDvkYUkRNlbeSO8oJDVxSqrWcHLWWwlFIUqZkk7J3Dl08WNdp0Dmq+2Bs63s5+ukQL4chVZvkglSttZs6QCQv3JoVQP1o0qBYp4E4qKEe6NQqpArHNJPAu9wmI1IuLQD42aRcKsiGpFI1AY7KknJckBuSJ5ev7MeTP0iTDfH8gdyPVCFj+ISijObPA4kiFjD7F673tRx3GceIsE3dy5rXGri2yFulbcMn53LqQvxhXkHw3qO4eYWVnbb2d4tyw2zOAwZjc5X6elUz8zd1D7vFYjpyvVBmMXGbhCNfrLGZ7E0s24QdZmFNPbXdKWZ2UQ9SbpOTeq5k1Nyqvv+2mZ1wQ+Zu/L5aCuN4o/oktxy44EVRNBmHUMp4vLaTMmlVV1MODHkhGfJyMd3CIj9cadEGqKUVBmi4mI6zqACG0Sv2l7fskhwjMVZjlgxTtAg5TycDmzeoriXn8UoDjG+5RCodkGDKCV6pAWcYrZXa5UmSPJpPt+pZQquotJ3MBW3QlRLgQnE32l9cEgprwz3Q0oY6Ty+cyQ2C4nTBMCds+6vio1pI0lUj7K8ujDWS7Gp0K9w1GYa/pRwaVUl5uCBXw7DblJrR4IBa0S0PCGA/05ieQA58vEBlcA1Up1yDq1M/PvXQZgbzQp3vxJV7Lu7cOuKCePj8A9j4wkjffPVNXLTI4xhRTW364fjSYwfTwujyOHHZz7bPveFqanqw5rwVd+9e1z6lbJqasV+p9oIiNA9ShAVoId6JUgt/oAgLS8m4LSwDNhBxOEEAlIYyrZBZoxOnoYaIekMchrhZ40yjNnrpWXplonUWudw6jVT6F4ny9J50mz72bbxcT3gT45CT0coW9XqrjVeagBRV+m0TyD1zOEK61IQ5pFcTxpm0UL7zB7rSOVhXOjXadmZ15YJz05WFRFc6+3Wl8wRdWThIV+qnQ44QHz6Z6EmbINck5Qm2JrPYMKa5xdA6c1YHoVpnFXCpEPRGOIXeNDfo9GsR5A4QJ5s855xVx8H5Iv2VFYOWh8RrSRWPlPB0LmrTpLYiR8p3Q5aivvY/H0Odly0qr1/QumNORVCeHjwwe9t1TbP3L5rxznlLV8xcchN165BkiV645qf1o5fNGxZuZ2dNGD73/Zh5bcfOZuP4adPPrx82LNk5daPfu6VvnCZUoFQPIydEyVdDjGJHRSiBZLdWZ9XzFrJqIlvFtD2bvhSLsrdH5iVSd9EqrpJSctJ6ChpY/bANtI6vsWR+M7ZZFJvHVpPfamhriy6UsXnBmDELmvvWwwaaZJ6PoKeYDmYXTN5dSEaiwkFPGBFYBDGqQdSCRiBZQdfz4wYF8KzCGI6QLOTgPy54fp6eliC4guEKxx5RWMYIF1EKU6wWvSNM0QzLnZSR4Dh2mjDT0ftHprbvAvpnT+GeYfj189TL1GVaBAI9m9vfM4ieKb1n7Gl6RsHzaXg+LoKeocE9Y6oVijZqF1kWLnLQM0Rzp++ZCcfhP2bm9v6Rvq9vEVNLbVerZ+Od+M4OtRx69hB1CHLTx/SVKyMFMw6tVS8Ht7U4lNVKlXCU3Q2simnVLkgn8bWjZo2C//S48lGjyuEXvr1W7WTs9D2QM9yLUgaS3zp03aFJGzgzB9oGB5ECgwXUjIeHym5IuQKinKctLZNKsUmCVFfOzZYKCvUSf67esvFk1Zekxx79hIcn/OqP4IIQweXbwIkNWt2dTsolejTHF4E0sD6/vlyoGaGt6DsMQZhQYoIjJul7sr4fiTH2zp/PuvCdGSNDu0K337dhz66KUBuVeGrm1RvmfFgw5tCmx25m2MwlX7yymarL0JFxj8wmoy4d+5xpAOsDaBtK8USoDbGUn+DqYtEo6B3KlSDsDGoFEY+eyUP3C3Mq0oX6EaRAeksRwCarprOylSfYkzW1MQQcAgunaTMpnyhWAax1aOVeZ1KhTHBkBHtdJGIvLNZiVr+TJ2pDSiRCkOaI/tjseokyRqbFmJ9pUL9Z7rw/5P54Gn+HeemYZ5IjE5i/4UI6TCf2qjufD+eNef6GHfjqTNO2UTnFOIEfj5YymI/cAFZ3UkX0/dpKKjru4vT9oYw5EqG+zS6Z6vcZfnCf4f7QEbiPG7iPxEW7uTuzcdE4hM5hyncYaJKNkHyJt9clBtchhzLX4xz+zYlua3v7s3iPet9Mj6uhvp4yOPbim846z/fd6HGoRzv2nv/E7NmYwhb8ivUaLAkGhxbz7+auB3uK0XCI+c9DKDS4XkUmCTDQTmSQ117UCA3ZYHsdZFf9Ra2YxF3/0EUb549shThjjLgltpltXr39wEu3tDX/6qhwSvNZYbD59rKCyt9LxZ6q+fNvVo/smBssb59S7mvI9RVPwfblz+CcJ0MX/uIsOBz9zZi/NlzcPuyy4ZfUtENEeqP6lrE3O5ZxNB11nNN4kuVhn746fMZgPs4HA4KTj0lDGWV6WOOIDnVbB2zxlb1PnfoTrU/Dz9lHfUaXOuPSfXu68GOX7uu77Yd3442P4anq7Y+pSpbXV2exmHcuONjPNaQYCgz/dfZg4qzB7bGhhBFg+dSs5QE0Ay0Cy88emp9zFEWfgNjUMwXt9GtnNf2dwUhRY88Yw2eWDQUFdt0g4PpVblmWDQvOhQ00WSL2DazdVWB9kUlXguMrd6PwwMqds24ohJix5ZE/qt8+NjtUWxsyF1zdclF90FP+ZGvY5Csw515/2+IGqqC46+GGUdPOyoveC55Wf3PvpTMrA4HK4ZNm130XnzkxHMaP+5kyr81jLb4s7/MRWVYs01gxGy0ZGiv+DdPtQycGtXOoELx8DvxQ/3R2NJjVJ7GjOYtNDJBZCfPlv2H4uSciJyDF1g8VDNV+dil59IR5Vjg7IlT5ULwK/88JuDGoiuDG0TDXtqOFaDEgd5Zs7f/MKEjfqG9Ok7FRzUPF8I3B+PQl1D109FSJW+ahc+RS5td6DscMmn0SEFXNPIviSC5efzGrTl/h1swlmNAnmW/XV7vJYjcJY04jNPt+fOCpHU/Nbrz2ulmpa9vbJ5ZvrNvJjf3rYKPrCys7Ojq8lS+LnlMJjPrOM2qm++G1uPnb0VXT2tpamwyh4nb1y0uZ5YPDD9O4pbHpOzu2jFw8q4ZYPXXA6qmgsss1TzqtZf8OGUJnQoOtPaXdfX8bKi2YRYMhGnMcIuw9DRz0prMz5LPTI8YO4omIRqLxELOdmSlZyBLaeoouNSfOxfaBNWrscEkEzQh3apqwu6e9ovb+6a3g6PHyJ+mUJA42fvZ1962bFNi9U52w/eDOlbGtj56SJQVT3/vJlpU/XWIXxz73o6sWr59TwBwePDP9ddyCiatqXOdNUS+bftmC28eVTJwNNjdnbbZD3tqO5qOlEKOf1a5z19dTAMFFzmBypumswkq7ToZl/pkRyGwbiq5mvj8lTlMHcBqPZqFOdMmpcfp/8KMhQNX7+r/nRQuHgBg+Nyc6Ja0ArzjBi8OA14AvnRKvM+St7Dnjkik8bRa7fTAO686OA1t6mqy27WzGU8h37A0mlz2ISiGGQZg3UP4ASeSAEvmxuuwrUuTIob0ET15mpLXQz4qdDs2ZmNz196kfP3l04/2fLP+Zj+Indz75aqPBEK5LTInbp+Evdm1+7ZYNBy8IRG66Ib20nS5XX/xafUvF1977uy2Xbp794tYH9+K6SYnhY2vfe/M3qnHLs080frVg04PP/gxhdKH6AZfHPo6GwSDplYgRWIoLfsEBe+egM8SftTKF0wEtp3ady/OqAa93+oSMa8J0b7ZNWuyV2daxYDCY4CxHvk4ESYvt0fdHyxPw7CA8ewM8u5j8bQkm44/9vgSJbv3ZlwHgefYg0IMemXmEquGMmQeoB3HhPZ+3SruOThRY6srMNs7OPnFHbNr397JL+741Wq3mjFOa8rra6uA42kBfbEyqS9+eLJI3H/S33HlOe+MBo9vVFu4NrgXlkxqMxqyITq9G8sKkiXCMe4Pqm2ASLax68QauyPS10cnhLnqpyRPliszM9xNtufSGC4pMhl9x1r53Dbl2RGFebaG+hG8l9WFS28kuVx9vUV9qK9crte2loZDhiVDo+1Z9D70S1Rb6Nfg8KRM58rD+FwXZnSHbPf1PC7I7bcn1tfxX4Nuei0Zv8drL3C9Ho7gB2h5HGTPG5v2f3vGhEDNH3ZLxh0LUun2+iFD0JfPrUKj3IbyG+msolNm0r0R/176F7oVnh/UoW4sGSGnMQFO0tqYdrpX69d2WAO+so6unrL+7WZw4u6w4z1YwKb95zq1t63a31Ey8oLqstrDW3dDGtczcNWmcKbx67n71M3Vr5v2fr7htxh1wJrJ6KfXlR3jbo5f8iDx7FV7MPk9HEekISXhErD9az31iUgmGx5KXfyEcf75718q1r153xd4ZRSbWXfjMHauu//Parlk/9ufluouow3f/c84Dc26vnRdr1FpLppWuJW++rEIXs88zAT6CxiJ0jOUNZI+OEGao5C9C7uTDqAAh/Y2YvidPOO89fp70FXzlRXYm4kHD+qt3A3/u8WLo6PeRCDUvGqXmh8ggM4cA6aDeA+1zwMAJqP8viqrZwyhPZ0rEdPyVHqq6PN+hbsTrHPnlRnU7XmVUXwqL9FX0VWJYsPft69tn7//roEb9G+yD358xYe7OciNepW43wvfgdepGh7oXPkjPo+fZhbDYd0vfLeL/Ao92huUAAAAAAQAAAEwIwADRAHEADAACAAEAAgAWAAABAAHJAAMABAAAAEQARABEAEQAiADDAP0BbAG3AfUCFAJDAoYC5QNEA8kEjQUKBboGVwbEB40IIwgvCI4I6wj4CVUJhQmuCjkKVwrjCzAMNg05DosO1w8kD3EPoBAfEJoQrhDCESoRqBIuEqsTNRO2FEQU4BVtFegWgRb7F48YJxilGPMZMRloGXAZmxm7GfkaNxpoGnUagRqNGqkasRrSGvIAAAABAAAAAoUeC2yUzV8PPPUCnwgAAAAAAMheFaoAAAAAyF4VqvwA/kYMygZGAAAACAAAAAAAAAAAeJxjucQQxAAETDC8iuEFEEcDcQ7zEYYiNnOGVUDxDig9mcmSgYFFmCEYiDcBcRYQRwKxDRLbC0pHMikzrASqXwXSC8NAcwuAOJ/5OkMK4yyGJUB6DosSgyrbLoZWKHYGqWNpZlAHYlWQGSwJDCYseQxGLAwM8RxADFPLGQTX449EOwOxLpq4M5RtymLPoMBWwpDKtoRBGeymVQyTWRgYBYBm6zP/ZmAAihVDMczNYD7TLIZohhwAfaU9ewB4nGNgZGBgc/vnxsDAy/eH4ZsmzykGoAgK8AYAck4E6nicY2BkbmWcwMDCwMBawSrCwMBwAkIzdTEEMX7hYWZlYmRiZAeBBgaGxUB5BwYocCtKTQXyFNRfsrn9c2NgYHNj3AUU5p3EzMAAAP7iDLEAeJyN0E9Kw0AUBvDPpG6KUPpnUUqV+LBJNdgDiBZFlOoVSjeSbgRPUOjWg3gJF13E9BJdmEF0056gm5bx67zg2sAv3xt4M/MSACUAPp1A60+u9tzaR9mtS3hnniFgVcYx+hhihCnW3tyf+WnQEE8qUpOWhBLLQMZRFq2s5Z4AXdc7YW/meuuut8rejutN2Lu01v7Y3H7Y1L7Z3jbZvGyev5rmwvTMuQlN2zTzbf69eF08ucn++xzsXn8bGm4ecH793i71aZ+GhTaNCoc0oSkd0brQAbyM5qxDHjVTOGWmiv8KQZ12d8aAeAqXzIrCFbNKNZ1DWgrXTN4hPBs3zFjhljlQuGMmNGZ9D0SZwgNzSSvWj7/ICEuFAHicXVG7blNBEN0lDwNJiB9BcrQpZhlC471xC1KiXF2EI9uN5SjSLnLBjeMCf4ALpNRE+zVjp6GkoKVBkQskPoFPQGJmHRCi2dmZnXPOnFlSjlSjT7sDT71ZIIWnTdps+ZOQatcB7kg3jpoZaQffabuV0QPXH/o3GGxGa+59EygfeEt5yGjdCdSi/eB/mK/BcJ//ZX4Gg5Y2Wp46s5AeQmC+DbczepvRpps/0zesDjejkSHFNBU3f55K+d/SQ1evwat2Ro8cXIvIF6YBWjvsItD6ix6pgY+TWIJcXhprg4kpG64yEXy8mq5qqpYZtxx8S3a2HbSp0hp5gDPslFPwcHW5opC+HVFmaYhwFjslRoiY5FDIKedO9icFyieSMOZJUjpZNq01sIy8BgZ1eZqL+9lsatt1CMt7cQTfPzeWdPCRDXUxIsRuxFIAK4iEjKryDXWeuyYG5FL/z0CUgOX03b9OBNpwbCJ+lLX1rjBWCAb+2Hzmlz13q3KdF4Xuf6qqsUqnNF94OYceL3l6LAwHjQVvPh/6hQL1elwsNGgOBGPanxz80XrqiKu8Fz6y37gisOAAAAC4Af+FsAGNAEuwCFBYsQEBjlmxRgYrWCGwEFlLsBRSWCGwgFkdsAYrXFgAsAUgRbADK0QBsAYgRbADK0RZsBQr/mIAAAObBTwFvwBSAEoAUAAtADAAOQC8AKoAnQCRACgAowA8ADIAPwClADQANwCIAHsAiwCUAHQAjgBOAGsAWABMALAAoACDAEYAeACWALcAwQBEAHEAKgCsAAB4nF2PTU4CQRBGH4JGN65dkTkBMSQsjCsTo3v/9oDDOMkI2mIInsATcBIP4cJD+bqnjWgmU/2q6qs/YJ8ZXTq9A6Dxb7nDoV7LO/Jb5q78nrlHn03mXY74yLy3VfvJnC9utTVTFtxTUnAhzVnyIs/k4HtmZKqqTJmCa72g/5R0p0YuzUVtlXqcy696i5wdcux3Yt2aRybGG8Zcqa3URQ6s9CZpYpzxV1n8097pBXvXSR37Dxhpb3gw9rN5u+vKihip0vaxbmy89NrC/mvt0qrty+N9z86q1QYzTb7vtzpeOvgGmLtAIAAAeJxtz0lOw0AQBdD/k0BiYmeeGQI3SBo5wwaBEKw4A2CRBrcUnMh2wkVAjFvEHjbcig2wRBjT7Cip9X51qVpqJBDX1z4q+K8OokMkkEQKWZiwkEMeBRRRQjnaqaKGOhpoooVlrGAVa2hjHRvYwjYOcYRjOPjAOz7xygSTTOEa93jGCxe4yDQzNLjELE1azDHPAosssYwb3OEWb3hkhVU8sIYnXOKKdTbYZCs981RH7ArtpuF4k1COpXJ+bkTX7mi7WpGZeDJ0lT8ywotJHAI9srU9bV870A61O0b0hFRnbuiaoetLnYPsqZr/ZTOQc+npJt4Twtb20oE6V2PHt6bSn0pvpE5mURdP+79fEf29gXb4DalzW4kAAAAAAAIABAAC//8AA3icY2BkYGDgYYAAJgYWIKnOwMigyeAMJF0Z3IGkJ4M3AyMAFFIBywAAAQAAAAoADAAOAAAAAAAAeJwtjjFuwkAQRd/GVhQQMbZZEBVFQBRIEEggASKlpKSktyygACFkpeECHIUD5BQ5QO4Ds8sUqzf68//sxwBlekwJ8lOxx26L9Q67z34OWELZcr3iXGZTZDlPbvIv9FsjiuGfR1KOnLnwyx8lybboMuCDbxYsWfEq/goRz6IFMtV480wZesaug7AuKccGfU9L27PKi2fCg/wW8a7pkaYDaRLTZKZXxrrvaMo1nqh2vzBX56f2cY4v1Yx3VOViIn57A23XFhoAAAA=) format("woff");\n}\n\n.dcg-mq-aria-alert,\n.dcg-calculator-api-container .dcg-mq-mathspeak {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  text-align: left;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor {\n  border-left: 1px solid currentColor;\n  margin-left: -1px;\n  position: relative;\n  z-index: 1;\n  padding: 0;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor.dcg-mq-blink {\n  visibility: hidden;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {\n  border: 1px solid gray;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-focused,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field.dcg-mq-focused {\n  -webkit-box-shadow: #8bd 0 0 1px 2px,inset #6ae 0 0 2px 0;\n  -moz-box-shadow: #8bd 0 0 1px 2px,inset #6ae 0 0 2px 0;\n  box-shadow: #8bd 0 0 1px 2px,inset #6ae 0 0 2px;\n  border-color: #709ac0;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {\n  margin: 1px;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input {\n  color: inherit;\n  font-family: Courier New,monospace;\n  border: 1px solid gray;\n  padding-right: 1px;\n  margin-right: 1px;\n  margin-left: 2px;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-empty {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-hasCursor {\n  border-color: ActiveBorder;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-empty:after,\n.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-text-mode:after,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty:after {\n  visibility: hidden;\n  content: "c";\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor:only-child:after,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea+.dcg-mq-cursor:last-child:after {\n  visibility: hidden;\n  content: "c";\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-text-mode .dcg-mq-cursor:only-child:after {\n  content: "";\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-text-mode {\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block {\n  display: -moz-inline-box;\n  display: inline-block;\n  width: 100%;\n  padding: 2px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  white-space: nowrap;\n  overflow: hidden;\n  vertical-align: middle;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-digit,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-digit {\n  margin-left: .009em;\n  margin-right: .009em;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-start,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-start {\n  margin-left: .11em;\n  margin-right: -.01em;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-other,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-other {\n  margin-left: -.01em;\n  margin-right: -.01em;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-1,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-1,\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-2,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-2 {\n  margin-left: 0;\n  margin-right: -.01em;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-3,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-3 {\n  margin-left: .036em;\n  margin-right: -.01em;\n}\n\n.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-start,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-start,\n.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-other,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-other,\n.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-1,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-1,\n.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-2,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-2,\n.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-3,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-3 {\n  margin-left: .009em;\n  margin-right: .009em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode {\n  font-variant: normal;\n  font-weight: 400;\n  font-style: normal;\n  font-size: 115%;\n  line-height: 1;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-non-leaf,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-scaled {\n  display: -moz-inline-box;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode var,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-nonSymbola {\n  font-family: Times New Roman,Symbola,serif;\n  line-height: .9;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode svg {\n  fill: currentColor;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode * {\n  font-size: inherit;\n  line-height: inherit;\n  margin: 0;\n  padding: 0;\n  border-color: #000;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  user-select: none;\n  box-sizing: border-box;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty {\n  background: rgba(0,0,0,.2);\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty.dcg-mq-root-block,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty.dcg-mq-quiet-delimiter,\n.dcg-calculator-api-container .dcg-mq-math-mode.dcg-mq-empty {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode {\n  display: inline-block;\n  white-space: pre;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode.dcg-mq-hasCursor {\n  box-shadow: inset #a9a9a9 0 .1em .2em;\n  padding: 0 .1em;\n  margin: 0 -.1em;\n  min-width: 1ex;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-font {\n  font: 1em Times New Roman,Symbola,serif;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-font * {\n  font-family: inherit;\n  font-style: inherit;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode b,\n.dcg-calculator-api-container .dcg-mq-math-mode b.dcg-mq-font {\n  font-weight: bolder;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode var,\n.dcg-calculator-api-container .dcg-mq-math-mode i,\n.dcg-calculator-api-container .dcg-mq-math-mode i.dcg-mq-font {\n  font-style: italic;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-f {\n  margin-right: .2em;\n  margin-left: .1em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-roman var.dcg-mq-f {\n  margin: 0;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode big {\n  font-size: 200%;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int>big {\n  display: inline-block;\n  -webkit-transform: scaleX(.7);\n  -moz-transform: scaleX(.7);\n  -ms-transform: scaleX(.7);\n  -o-transform: scaleX(.7);\n  transform: scaleX(.7);\n  vertical-align: -.16em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub {\n  font-size: 80%;\n  vertical-align: -1.1em;\n  padding-right: .2em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub>.dcg-mq-sup>.dcg-mq-sup-inner {\n  vertical-align: 1.3em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int>.dcg-mq-supsub>.dcg-mq-sub {\n  margin-left: -.35em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-roman {\n  font-style: normal;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sans-serif {\n  font-family: sans-serif,Symbola,serif;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-monospace {\n  font-family: monospace,Symbola,serif;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overline {\n  border-top: 1px solid;\n  margin-top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-underline {\n  border-bottom: 1px solid;\n  margin-bottom: 1px;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-binary-operator {\n  padding: 0 .2em;\n  display: -moz-inline-box;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub {\n  text-align: left;\n  font-size: 90%;\n  vertical-align: -.5em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only {\n  vertical-align: .5em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only>.dcg-mq-sup {\n  display: inline-block;\n  vertical-align: text-bottom;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sup {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sub {\n  display: block;\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-binary-operator {\n  padding: 0 .1em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-fraction {\n  font-size: 70%;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode sup.dcg-mq-nthroot {\n  font-size: 80%;\n  vertical-align: .8em;\n  margin-right: -.6em;\n  margin-left: .2em;\n  min-width: .5em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-ghost svg {\n  opacity: .2;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-middle {\n  margin-top: .1em;\n  margin-bottom: .1em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-l,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-r {\n  position: absolute;\n  top: 0;\n  bottom: 2px;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-l {\n  left: 0;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-r {\n  right: 0;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-container {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-array {\n  vertical-align: middle;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-array>span {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-operator-name {\n  font-family: Symbola,Times New Roman,serif;\n  line-height: .9;\n  font-style: normal;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-first {\n  padding-left: .2em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-last,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-after-operator-name {\n  padding-right: .2em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction {\n  font-size: 90%;\n  text-align: center;\n  vertical-align: -.4em;\n  padding: 0 .2em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator,\n.dcg-calculator-api-container .dcg-mq-math-mode x:-moz-any-link {\n  display: -moz-groupbox;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator,\n.dcg-calculator-api-container .dcg-mq-math-mode x:-moz-any-link,\n.dcg-calculator-api-container .dcg-mq-math-mode x:default {\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-numerator,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-denominator,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-dot-recurring {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-numerator {\n  padding: 0 .1em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-denominator {\n  border-top: 1px solid;\n  float: right;\n  width: 100%;\n  padding: .1em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-dot-recurring {\n  text-align: center;\n  height: .3em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-prefix {\n  position: absolute;\n  top: 1px;\n  bottom: .15em;\n  width: .95em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-container {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-stem {\n  border-top: 1px solid;\n  margin-top: 1px;\n  margin-left: .9em;\n  padding-left: .15em;\n  padding-right: .2em;\n  margin-right: .1em;\n  padding-top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-diacritic-above {\n  display: block;\n  text-align: center;\n  line-height: .4em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-diacritic-stem {\n  display: block;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-hat-prefix {\n  display: block;\n  text-align: center;\n  line-height: .95em;\n  margin-bottom: -.7em;\n  transform: scaleX(1.5);\n  -moz-transform: scaleX(1.5);\n  -o-transform: scaleX(1.5);\n  -webkit-transform: scaleX(1.5);\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-hat-stem {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator {\n  vertical-align: -.2em;\n  padding: .2em;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator big,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from {\n  float: right;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {\n  cursor: text;\n  font-family: Symbola,Times New Roman,serif;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarc {\n  border-top: 1px solid black;\n  -webkit-border-top-right-radius: 50% .3em;\n  -moz-border-radius-topright: 50% .3em;\n  border-top-right-radius: 50% .3em;\n  -webkit-border-top-left-radius: 50% .3em;\n  -moz-border-radius-topleft: 50% .3em;\n  border-top-left-radius: 50% .3em;\n  margin-top: 1px;\n  padding-top: .15em;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow {\n  min-width: .5em;\n  border-top: 1px solid black;\n  margin-top: 1px;\n  padding-top: .2em;\n  text-align: center;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow:after {\n  position: absolute;\n  right: -.1em;\n  top: -.48em;\n  font-size: .5em;\n  content: "\\27a4";\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:after {\n  content: "";\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:before,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-leftright:before {\n  position: absolute;\n  top: -.48em;\n  left: -.1em;\n  font-size: .5em;\n  content: "\\27a4";\n  -moz-transform: scaleX(-1);\n  -o-transform: scaleX(-1);\n  -webkit-transform: scaleX(-1);\n  transform: scaleX(-1);\n  filter: FlipH;\n  -ms-filter: "FlipH";\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-non-leaf,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-non-leaf,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-scaled,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-scaled {\n  background: #B4D5FE!important;\n}\n\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled,\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled {\n  background: #D4D4D4!important;\n  color: #000;\n  border-color: #000;\n}\n\nhtml.dcg-calculator-api-container body .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-nthroot-container *,\nhtml body .dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-nthroot-container *,\nhtml.dcg-calculator-api-container body .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-nthroot-container *,\nhtml body .dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-nthroot-container * {\n  background: transparent!important;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-textarea {\n  position: relative;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n}\n\n.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea *,\n.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-textarea * {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  user-select: text;\n  position: absolute;\n  clip: rect(1em 1em 1em 1em);\n  -webkit-transform: scale(0);\n  -moz-transform: scale(0);\n  -ms-transform: scale(0);\n  -o-transform: scale(0);\n  transform: scale(0);\n  resize: none;\n  width: 1px;\n  height: 1px;\n  box-sizing: content-box;\n}\n\n.dcg-calculator-api-container .dcg-tap-container [ontap] {\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-loading-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-loading-container .dcg-cancel-while-loading {\n  color: #2f72dc80;\n  padding: 8px 35px 8px 15px;\n  cursor: pointer;\n  -webkit-animation: dcg-fadeIn .5s;\n  -moz-animation: dcg-fadeIn .5s;\n  -o-animation: dcg-fadeIn .5s;\n  -ms-animation: dcg-fadeIn .5s;\n  animation: dcg-fadeIn .5s;\n  position: absolute;\n  top: 50%;\n  margin-top: 10px;\n  width: 100%;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-loading-container .dcg-cancel-while-loading.dcg-hovered {\n  text-decoration: underline;\n  color: #2f72dccc;\n}\n\n.dcg-calculator-api-container .dcg-loading-container .dcg-cancel-while-loading.dcg-depressed {\n  color: #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-loading-container .dcg-graph-loading-error {\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%,-50%);\n  -moz-transform: translate(-50%,-50%);\n  -o-transform: translate(-50%,-50%);\n  -ms-transform: translate(-50%,-50%);\n  transform: translate(-50%,-50%);\n}\n\n.dcg-calculator-api-container .dcg-loading-container .dcg-graph-loading-error .dcg-graph-loading-error-title {\n  color: #00000080;\n  font-size: 115%;\n}\n\n.dcg-calculator-api-container .dcg-loading-container .dcg-graph-loading-error .dcg-graph-loading-error-subtitle {\n  margin-bottom: 15px;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-loading-container .dcg-graph-loading-error .dcg-graph-loading-error-options {\n  font-size: 90%;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-loading-container .dcg-graph-loading-error .dcg-graph-loading-error-options .dcg-btn-medium {\n  margin: 0 8px;\n  padding: 4px 14px;\n  line-height: 28px;\n}\n\n.dcg-calculator-api-container .trip-block {\n  position: absolute;\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  -webkit-transition: .3s ease;\n  -moz-transition: .3s ease;\n  -o-transition: .3s ease;\n  -ms-transition: .3s ease;\n  transition: .3s ease;\n  display: none;\n  -webkit-transform: scale(0,0);\n  -moz-transform: scale(0,0);\n  -o-transform: scale(0,0);\n  -ms-transform: scale(0,0);\n  transform: scale(0);\n}\n\n.dcg-calculator-api-container .trip-block.trip-is-loaded:not(.trip-hidden) {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  -webkit-transform: scale(1,1);\n  -moz-transform: scale(1,1);\n  -o-transform: scale(1,1);\n  -ms-transform: scale(1,1);\n  transform: scale(1);\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior {\n  padding: 10px 40px 10px 10px;\n  text-align: left;\n  min-width: 100px;\n  -webkit-border-radius: 6px;\n  border-radius: 6px;\n  width: 275px;\n  background: #fff;\n  border: 3px solid #2f72dc;\n  color: #444;\n  font-size: 100%;\n  -webkit-box-shadow: 0 2px 7px 0 rgba(0,0,0,.3);\n  box-shadow: 0 2px 7px #0000004d;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-link {\n  color: #2f72dc;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-title {\n  font-weight: 700;\n  margin-bottom: 5px;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-hint {\n  font-size: 80%;\n  line-height: 12px;\n  margin-top: 4px;\n  color: #666;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior i {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior code {\n  border: solid 1px #d3d3d3;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  padding: 2px 3px;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior code i {\n  font-size: 70%;\n  font-family: Arial,sans-serif;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-close {\n  color: #00000080;\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  font-size: 170%;\n  line-height: 16px;\n  float: right;\n  padding: 6px;\n  text-decoration: none;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-close.dcg-hovered {\n  color: #000000a6;\n}\n\n.dcg-calculator-api-container .trip-block .trip-interior .trip-close.dcg-depressed {\n  color: #000c;\n}\n\n.dcg-calculator-api-container .trip-block .trip-arrow {\n  border: 10px solid transparent;\n  height: 0;\n  width: 0;\n  position: absolute;\n}\n\n.dcg-calculator-api-container .trip-block.trip-n .trip-arrow {\n  border-bottom-width: 0;\n  border-top-color: #2f72dc;\n}\n\n.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {\n  border-bottom-color: #2f72dc;\n  border-top-width: 0;\n}\n\n.dcg-calculator-api-container .trip-block.trip-e .trip-arrow {\n  border-left-width: 0;\n  border-right-color: #2f72dc;\n}\n\n.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {\n  border-right-width: 0;\n  border-left-color: #2f72dc;\n}\n\n.dcg-calculator-api-container .trip-block.trip-n .trip-arrow,\n.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {\n  left: 50%;\n  margin-left: -10px;\n}\n\n.dcg-calculator-api-container .trip-block.trip-e .trip-arrow,\n.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {\n  top: 50%;\n  margin-top: -10px;\n}\n\n.dcg-calculator-api-container .trip-block.trip-n .trip-arrow {\n  top: 100%;\n}\n\n.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {\n  bottom: 100%;\n}\n\n.dcg-calculator-api-container .trip-block.trip-e .trip-arrow {\n  right: 100%;\n}\n\n.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {\n  left: 100%;\n}\n\n.dcg-calculator-api-container .trip-progress-bar {\n  height: 1px;\n  background-color: #444;\n  width: 0;\n}\n\n@media (prefers-reduced-motion) {\n  .dcg-calculator-api-container .dcg-container *,\n  .dcg-calculator-api-container .dcg-container *:after,\n  .dcg-calculator-api-container .dcg-container *:before {\n    -webkit-transition: none!important;\n    -moz-transition: none!important;\n    -o-transition: none!important;\n    -ms-transition: none!important;\n    transition: none!important;\n    -webkit-animation-duration: 0ms!important;\n    -moz-animation-duration: 0ms!important;\n    -o-animation-duration: 0ms!important;\n    -ms-animation-duration: 0ms!important;\n    animation-duration: 0ms!important;\n    -webkit-animation-delay: 0ms!important;\n    -moz-animation-delay: 0ms!important;\n    -o-animation-delay: 0ms!important;\n    -ms-animation-delay: 0ms!important;\n    animation-delay: 0ms!important;\n  }\n}\n\n.dcg-aria-alert,\n.dcg-calculator-api-container .dcg-offscreen-element {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 1px;\n  height: 1px;\n  text-align: left;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-default-border {\n  border: 1px solid rgba(0,0,0,.2);\n}\n\n.dcg-calculator-api-container .dcg-container a,\n.dcg-calculator-api-container .dcg-container a:hover {\n  text-decoration: none;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-grapher,\n.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-resize-list-btn,\n.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-graph-icon {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-horizontal {\n  cursor: ew-resize;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-vertical {\n  cursor: ns-resize;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-both {\n  cursor: nesw-resize;\n}\n\n.dcg-calculator-api-container .dcg-graph-outer {\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-no-expression-topbar .dcg-expression-top-bar {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-no-expression-topbar .dcg-exppanel-container {\n  padding-top: 0;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-no-hyperlinks a[target=_blank] {\n  display: none!important;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-inverted-colors {\n  filter: invert(100%);\n}\n\n.dcg-calculator-api-container .dcg-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background: #fff;\n  z-index: 0;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  overflow: hidden;\n  font-family: arial,sans-serif;\n  font-size: 16px;\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-is-interactive,\n.dcg-calculator-api-container .dcg-container.dcg-is-interactive .dcg-grapher {\n  touch-action: none;\n  -ms-touch-action: none;\n}\n\n.dcg-calculator-api-container .dcg-container * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-text-selectable {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding {\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n}\n\n.dcg-calculator-api-container .dcg-graphpaper-branding {\n  position: absolute;\n  bottom: 0;\n  right: -8px;\n  display: none;\n  z-index: 21;\n}\n\n.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding {\n  display: block;\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding .dcg-powered-by,\n.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding i {\n  position: relative;\n  text-shadow: -1px -1px 0 #fff,-1px 1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,0 -1px 0 #fff,0 1px 0 #fff,1px 0 0 #fff,-1px 0 0 #fff;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding,\n.dcg-calculator-api-container .dcg-graphpaper-branding {\n  text-align: center;\n  font-size: 75%;\n  width: 110px;\n  margin-left: -55px;\n  text-decoration: none;\n  line-height: 1em;\n  height: 45px;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding.dcg-unclickable,\n.dcg-calculator-api-container .dcg-graphpaper-branding.dcg-unclickable {\n  pointer-events: none;\n  z-index: -1;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding .dcg-powered-by,\n.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-powered-by {\n  color: #0003;\n  text-decoration: none;\n  -webkit-transition: color .3s;\n  -moz-transition: color .3s;\n  -o-transition: color .3s;\n  -ms-transition: color .3s;\n  transition: color .3s;\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding i,\n.dcg-calculator-api-container .dcg-graphpaper-branding i {\n  color: #0003;\n  font-size: 650%;\n  margin-right: 2px;\n  line-height: 18px;\n  -webkit-transition: color .3s;\n  -moz-transition: color .3s;\n  -o-transition: color .3s;\n  -ms-transition: color .3s;\n  transition: color .3s;\n  height: 18px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding a,\n.dcg-calculator-api-container .dcg-graphpaper-branding a,\n.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding,\n.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding {\n  cursor: pointer;\n  display: block;\n  height: 50px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding a.dcg-hovered .dcg-powered-by,\n.dcg-calculator-api-container .dcg-graphpaper-branding a.dcg-hovered .dcg-powered-by,\n.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by,\n.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by {\n  color: #aaa;\n}\n\n.dcg-calculator-api-container .dcg-expressions-branding a.dcg-hovered i,\n.dcg-calculator-api-container .dcg-graphpaper-branding a.dcg-hovered i,\n.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding.dcg-hovered i,\n.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered i {\n  color: #127a3d;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-graphpaper-branding,\n.dcg-calculator-api-container .dcg-no-branding .dcg-expressions-branding,\n.dcg-calculator-api-container .dcg-no-branding .dcg-graphpaper-branding {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-btn-blue,\n.dcg-calculator-api-container .dcg-btn-red,\n.dcg-calculator-api-container .dcg-btn-light-gray,\n.dcg-calculator-api-container .dcg-btn-primary,\n.dcg-calculator-api-container .dcg-btn-secondary,\n.dcg-calculator-api-container .dcg-btn-white-outline {\n  text-decoration: none;\n  white-space: nowrap;\n  padding: 0 20px;\n  -webkit-appearance: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  line-height: 34px;\n  border: none;\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-btn-red,\n.dcg-calculator-api-container .dcg-btn-blue,\n.dcg-calculator-api-container .dcg-btn-primary,\n.dcg-calculator-api-container .dcg-btn-secondary {\n  color: #fff;\n  -webkit-box-shadow: inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.05);\n  box-shadow: inset 0 1px #ffffff1a,inset 0 -1px #0000000d;\n}\n\n.dcg-calculator-api-container .dcg-btn-red.dcg-hovered:not(.dcg-disabled),\n.dcg-calculator-api-container .dcg-btn-blue.dcg-hovered:not(.dcg-disabled),\n.dcg-calculator-api-container .dcg-btn-primary.dcg-hovered:not(.dcg-disabled) {\n  -webkit-transition: background .2s;\n  -moz-transition: background .2s;\n  -o-transition: background .2s;\n  -ms-transition: background .2s;\n  transition: background .2s;\n}\n\n.dcg-calculator-api-container .dcg-btn-red.dcg-depressed:not(.dcg-disabled),\n.dcg-calculator-api-container .dcg-btn-blue.dcg-depressed:not(.dcg-disabled),\n.dcg-calculator-api-container .dcg-btn-primary.dcg-depressed:not(.dcg-disabled) {\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-btn-red {\n  background: #ce4945;\n  border: 1px solid #aa3a37;\n}\n\n.dcg-calculator-api-container .dcg-btn-red.dcg-hovered:not(.dcg-disabled) {\n  background: #bc433f;\n}\n\n.dcg-calculator-api-container .dcg-btn-red.dcg-depressed:not(.dcg-disabled) {\n  background: #b03936;\n}\n\n.dcg-calculator-api-container .dcg-btn-blue,\n.dcg-calculator-api-container .dcg-btn-primary {\n  background: #2f72dc;\n  border: 1px solid #2964c2;\n}\n\n.dcg-calculator-api-container .dcg-btn-blue.dcg-hovered,\n.dcg-calculator-api-container .dcg-btn-primary.dcg-hovered {\n  background: #2964c2;\n}\n\n.dcg-calculator-api-container .dcg-btn-blue.dcg-depressed,\n.dcg-calculator-api-container .dcg-btn-primary.dcg-depressed {\n  background: #2457a8;\n}\n\n.dcg-calculator-api-container .dcg-btn-secondary {\n  background: #fff;\n  border: 1px solid #2f72dc;\n  color: #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-btn-secondary.dcg-hovered {\n  border-color: #2964c2;\n  -webkit-box-shadow: 0 0 0 1px #2964c2;\n  box-shadow: 0 0 0 1px #2964c2;\n  color: #2253a1;\n}\n\n.dcg-calculator-api-container .dcg-btn-secondary.dcg-depressed {\n  border-color: #2457a8;\n  -webkit-box-shadow: 0 0 0 1px #2457a8;\n  box-shadow: 0 0 0 1px #2457a8;\n  color: #17396e;\n  background: rgba(47,114,220,.1);\n}\n\n.dcg-calculator-api-container .dcg-btn-white-outline {\n  border: 1px solid rgba(250,250,250,.8);\n  color: #fafafae6;\n}\n\n.dcg-calculator-api-container .dcg-btn-white-outline.dcg-hovered,\n.dcg-calculator-api-container .dcg-btn-white-outline.dcg-depressed {\n  border-color: #fafafae6;\n  -webkit-box-shadow: 0 0 0 1px rgba(250,250,250,.9);\n  box-shadow: 0 0 0 1px #fafafae6;\n  color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-btn-white-outline.dcg-depressed {\n  background: rgba(250,250,250,.1);\n}\n\n.dcg-calculator-api-container .dcg-btn-light-gray {\n  -webkit-box-shadow: inset 0 1px rgba(255,255,255,.25),inset 0 -1px rgba(0,0,0,.02);\n  box-shadow: inset 0 1px #ffffff40,inset 0 -1px #00000005;\n  background: -webkit-linear-gradient(#f6f6f6,#f0f0f0);\n  background: -moz-linear-gradient(#f6f6f6,#f0f0f0);\n  background: -o-linear-gradient(#f6f6f6,#f0f0f0);\n  background: -ms-linear-gradient(#f6f6f6,#f0f0f0);\n  background: linear-gradient(#f6f6f6,#f0f0f0);\n  border: 1px solid rgba(0,0,0,.1);\n}\n\n.dcg-calculator-api-container .dcg-btn-light-gray.dcg-hovered {\n  background: #ededed;\n  border: 1px solid rgba(0,0,0,.13);\n}\n\n.dcg-calculator-api-container .dcg-btn-light-gray.dcg-depressed {\n  background: #e0e0e0;\n  border: 1px solid rgba(0,0,0,.15);\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-primary-link {\n  color: #2f72dc;\n  cursor: pointer;\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-primary-link.dcg-hovered {\n  color: #2253a1;\n}\n\n.dcg-calculator-api-container .dcg-primary-link.dcg-depressed {\n  color: #17396e;\n}\n\n.dcg-calculator-api-container .dcg-pull-right {\n  float: right;\n}\n\n.dcg-calculator-api-container .dcg-pull-left {\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-red,\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-blue,\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-primary {\n  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,.15),inset 0 1px rgba(0,0,0,.1);\n  box-shadow: inset 0 -1px #ffffff26,inset 0 1px #0000001a;\n}\n\n.dcg-calculator-api-container input.dcg-input-blue-outline,\n.dcg-calculator-api-container textarea.dcg-input-blue-outline {\n  outline: none;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  border: 1px solid #ccc;\n  padding: 7px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  font-size: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.dcg-calculator-api-container input.dcg-input-blue-outline:focus,\n.dcg-calculator-api-container textarea.dcg-input-blue-outline:focus {\n  border: 1px solid #2f72dc;\n  -webkit-box-shadow: 0 0 0 1px #2f72dc;\n  box-shadow: 0 0 0 1px #2f72dc;\n}\n\n.dcg-calculator-api-container input.dcg-input-blue-outline::-ms-clear,\n.dcg-calculator-api-container textarea.dcg-input-blue-outline::-ms-clear {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-container {\n  text-align: left;\n  -webkit-transform-origin: 0 0;\n  -moz-transform-origin: 0 0;\n  -o-transform-origin: 0 0;\n  -ms-transform-origin: 0 0;\n  transform-origin: 0 0;\n}\n\n.dcg-calculator-api-container .dcg-container pre {\n  white-space: pre-wrap;\n}\n\n.dcg-calculator-api-container .dcg-container img {\n  border: 0;\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-container input::-ms-clear {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-container button,\n.dcg-calculator-api-container .dcg-container input,\n.dcg-calculator-api-container .dcg-container select,\n.dcg-calculator-api-container .dcg-container textarea {\n  font-family: inherit;\n}\n\n.dcg-calculator-api-container .dcg-container button,\n.dcg-calculator-api-container .dcg-container select {\n  text-transform: none;\n}\n\n.dcg-calculator-api-container .dcg-container button,\n.dcg-calculator-api-container .dcg-container input[type=button],\n.dcg-calculator-api-container .dcg-container input[type=reset],\n.dcg-calculator-api-container .dcg-container input[type=submit] {\n  -webkit-appearance: button;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-container button[disabled],\n.dcg-calculator-api-container .dcg-container input[disabled] {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-container input[type=search] {\n  -webkit-appearance: textfield;\n  -webkit-box-sizing: content-box;\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.dcg-calculator-api-container .dcg-container input[type=search]::-webkit-search-cancel-button,\n.dcg-calculator-api-container .dcg-container input[type=search]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n.dcg-calculator-api-container .dcg-container button::-moz-focus-inner,\n.dcg-calculator-api-container .dcg-container input::-moz-focus-inner {\n  border: 0;\n  padding: 0;\n}\n\n.dcg-calculator-api-container .dcg-container table {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n\n.dcg-calculator-api-container .dcg-container input::-webkit-outer-spin-button,\n.dcg-calculator-api-container .dcg-container input::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem textarea.dcg-smart-textarea,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-displayTextarea,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-image-name {\n  font-size: 113%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-math-mode {\n  font-size: 130%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-editable-field.dcg-math-input {\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label .dcg-pt {\n  border-width: 8px;\n  -webkit-border-radius: 8px;\n  border-radius: 8px;\n  margin-left: -4px;\n  margin-top: -4px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label.dcg-hole .dcg-pt {\n  border-width: 4px;\n  padding: 5px;\n  -webkit-border-radius: 9px;\n  border-radius: 9px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label:not(.dcg-tracept) .dcg-pt {\n  border-width: 8px;\n  -webkit-border-radius: 8px;\n  border-radius: 8px;\n  margin-left: -4px;\n  margin-top: -4px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider-container .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mathquill-braille {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-placeholder {\n  margin-top: -.88em;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation {\n  font-size: 135%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mathquill-braille {\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-main:after {\n  width: 2px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders {\n  height: 30px;\n  line-height: 30px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-msg {\n  font-size: 100%;\n  padding: 2px 0;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-btn-slider {\n  font-size: 120%;\n  height: 30px;\n  line-height: 30px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider {\n  bottom: 30px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-display-domain {\n  bottom: 12px;\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain {\n  bottom: 6px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-math-mode {\n  font-size: 120%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu table,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain table {\n  border-collapse: collapse;\n  font-size: 20px;\n  margin: 0 auto;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu table input,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain table input {\n  font-size: 81%;\n}\n\n@font-face {\n  font-family: dcg-icons;\n  src: url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBkUAAAC8AAAAYGNtYXAH4a6uAAABHAAAAGRnYXNwAAAAEAAAAYAAAAAIZ2x5Zht7D+IAAAGIAACSPGhlYWQiqfY/AACTxAAAADZoaGVhByoEegAAk/wAAAAkaG10eCF4KFwAAJQgAAACKGxvY2EjHPysAACWSAAAARZtYXhwAJ0CkAAAl2AAAAAgbmFtZZMnHvMAAJeAAAABnnBvc3QAAwAAAACZIAAAACAAAwQDAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpGAPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQASAAAAA4ACAACAAYAAQAg4m/pFOkY//3//wAAAAAAIOIA6QDpGP/9//8AAf/jHgQXdBdxAAMAAQAAAAAAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAwAx/8QEGAPAADQAPABEAAABIzU0JiMhIgYdASMiBh0BFBY7AR4BFxUjIgYdARQWMyEyNj0BNCYrATU+ATczMjY9ATQmIwU1MxUjIiY1IRQGKwE1MxUD8KcyIv5fIjKmERhKM10Wck5SNEkYEQHUEBhKMlNNcxZdNUgYEPySflISGgNFGhJSfgMPXSIyMiJdGBGJNEhMbRJbSjNSERcXEVI0SVsSbUxKMokRGLJhjRkTEhqNYQAAAAYAAP/ABAADwAAfAC8AWQCIAl4CjQAAASEiBw4BBwYVERQXHgEXFjMhMjc+ATc2NRE0Jy4BJyYTFAYjISImNRE0NjMhMhYVJRYmMRYXHgEXFhceARcwBjEOAQcOAQcwBjkBLgEnJicuAScmJzEmFic3BQYUMQYHDgEHBgcOAQcxKgEjMCIxIiYnLgEnMCYxPgE3PgE3Njc+ATc2NwY2NxcTNhYXFTgBMS4BJzgBMTAiNTgBMTgBJzAiIzAiIzAiIzAiNTgBMTAiNTgBMS4BIyYGBzAiFTgBIw4BIzgBMQ4BBw4BBw4BBzEOAQcwBjE4ATEiBiMwIiMiBiMiBgc4ATEOAQcwIjEiBiMwIhUiBgc4ATEiBiMwIjE4ASMwIjEwMjEOASMyNjcOAScuASc4ATEwIjE4ATE4ATEwJjUwJjUiJiM4ATEuAScxLgEnHgEXLgEnMBYxLgEnLgEnLgEnLgEnLgEnLgEjDgEHMCIVDgEHMjYzDgEVMDY1DgEHDgEHDgEHDgEHDgEHPgE3DgEjMjY3DgEjBiYnLgEnMR4BFy4BJzUwFjE4ATEeARc4ATEeARcwFjE4ATE4ATEeARciJiceATMwMjkBMDIxMjY3OAExMDI1OAEzPgE3MjYzMDYxMjYzMDI1PgE3MTgBMTgBMT4BNzgBMT4BNz4BNzAGBz4BNw4BBz4BNz4BNzI2MzgBMTI2MzI2MzgBMTYyMyImBzYWFy4BIx4BFx4BFx4BFx4BMR4BFx4BFy4BNR4BFy4BJx4BFx4BMxY2Nz4BNzgBMT4BNz4BNzA2NTA2MTI2MzgBMTI2MzgBMz4BNyIGBz4BNw4BBz4BNwUxDgEjMSImJy4BJzA2MT4BPwE+ATcwNjkBHgEXHgEzMjY3MBYxHgEXHgEXNjIXAzP9mislJTgQEBAQOCUlKwJmKyUlOBAQEBA4JSV3X0P9mkNfX0MCZkNf/LEEBgwODh8SEhULGg4CCBAIBAgFAhEeDRIRESAODwwFCQQ9AyAIDA4NHxEQExE0IQIBAQMECgcJEgkCAQQBHy4TEhARIBAPEAMCAUINFSYSAwcDAgIBAQEBAQEDAgUJBQsXCwICAgUCAwgDBQgFAQUCFiwYAgEBAgEBAgEBAgUCAgMBAwEBAgICAQECAQEDAgICDRoODRkNDh0ODRcJAgMCAQECEx8QBg0HAgMCAgQDAgMGAwIDAgEEAQUMBQQNBggTCQwTCAIFBwUCAQEBAwIFCwUIEggPHRAIEAgCBQICBQIOHhALGAoKEQkaNhQVJBAFBwUFBwUCAwUDFSoWAgoUDQMJAwYNBwICDRYKAgICAQECAQEDAQECAgIBAQIBAgQKBwsWDAEBBAoFAwUDChMMCBAKAQYBAgMCAQQDChMKBwoHFysTAQUCDh0MBw0IBQoEAgMBAQIGDQYBAwoWDQsTCAQJBAkVDBAbDQEEAQsUChUoGAICAgECAQECAgUJAwIDAQYLBgUHAwUSCf68HT0gID8fEBsOAggQCAQCBQICDRcLECcaDh8PAgsUCwQHBAUCAgPAEBE4JSUq/ZwqJiY4ERAQEDglJSsCZiolJTgREPzNQ19fQwJmQ19fQ68JFCwwMWU0NDMbPB4CCA4IBQgEAyRHHi0tLl0wMDAUJxMtDR4CLC8vXi8wLi1uNgMBBQwHAgMGATBlMisuLmQ3NjsNBwYc/i0CCQhVAwQEAgICAgIEBAMFAgICAwUDAwkDAQYBFysUAgICBQECAQICAgEBAgUEAwQFBQMCBgUBAQEBAgocEAYPBgEDAgIDBAMEBgMCAwIBAwIFCQUFCQMFBAIGBQIDBwMCAQECAQEFCQUIEggPGwwGCgMBAQICAQEGCQQFAwYDExAKHhIFBwUFCQNkAgIFARUrFAIICgMDAQMDCgcCAgEBAgIDAgEBAgIBAQUKBAwUCwMBBQkFAgUEChEIBAkEAgICAgICAg8MAQMIFg0GDggECgUBAwIBAQcMBQIBAQkNBQMOBgMGBAYJAQ8IAQECCBMJFCkQAQECAwIDBAECAgMEAQEBAggGAfcaGh0bDiASAggQCAQCBQICEhwMDhoMCwIJEAcBBgEBAQAACgAA/8AEAAPAAAUALQBWAG4AiwC7AOsBGwE7AUsAAAEnNR4BFxcGBw4BBwYjBicuAScmJx4BMzI2NxYXHgEXFjMyNjc+ATceATM+ATcDDgEHBhQVLgEnLgEjIgcOAQcGBxQGFSImJy4BIyIGBzY3PgE3NjMyFhcqASMiBgcOAQcOAQcnMjY3MjYxPgE3FwcUFhchPgE1MDQ1NCYnLgEnJRQWFx4BFwUhDgEVJw4BBw4BBw4BByIGIyoBMS4BJy4BJy4BNTkBNTwBMT4BNz4BMzE+ATMyFhUxNhYxFw4BBw4BBw4BByIGIyoBMS4BJy4BJy4BNTkBNTwBMT4BNz4BMzE+ATM2FhUxNBQxIQ4BBw4BBw4BByIGIyoBMS4BJy4BJy4BNTkBNTwBMT4BNz4BMzE+ATM2FhUxNBQxASEiBw4BBwYVERQXHgEXFjMhMjc+ATc2NRE0Jy4BJyYTFAYjISImNRE0NjMhMhYVAx5EGSEKBAkbGk0wMDU2MTBNGRoJBQkDCA4GCRYWQSgoLS1SIR8qCAcNCAUJBaAGDAMCBAQDFjAaKycoPxcXCgICBQIFCQUFCQMKGxpNLzA1I0KuAQQBBQsDBAMCAgUEQAULBAEDBQoCRD4EA/5KBAMDBAMHBQFYAwMEBgX+0wGJBgUGAgMBBAkFAQUCAwQCAQUFBwUFCQMCAgEHBAQEAwUHBRIZAQFrAgMCAwkFAQYBBAMCAgQFCAQFCQMCAwIGBQMFAwUHBRMa/eICAwIDCQUBBgEDBAIBBQUHBQUJAwIDAgYFAwUDBQcFEhsCF/2aKyUlOBAQEBA4JSUrAmYrJSU4EBAQEDglJXdfQ/2aQ19fQwJmQ18CCXsCGz8jfjQrLEASEgESE0AsLDMCAwUCKyUlNRAPHx0bRigFAgMCBAE+BQ8IAwUDAgMCCQoPDjIjIigDBAIBAgEDAwEzKyw/EhEP3QMCAQECAgUBdQMBAgMHBXk6Bg0EBA0GAQEHDQgFCgKoBgwFBQsDlgYLBtMFBwUFCQMCAQECAQMCAwkFBQkDAgIFBgwFAwQBAxkSAgLZBQgEBQkEAQECAgIDAQQJBQQGBwIBBQcMBQMDAgICGxEBAQUIBAUJBAEBAgICAwEECQUEBgcCAQUHDAUDAwICAhsRAQECBhAROCUlKv2cKiYmOBEQEBA4JSUrAmYqJSU4ERD8zUNfX0MCZkNfX0MAAAAGAAD/wAQAA8AAJABPAI8BBAEkATQAACUxIiYvAQcGJicmNj8BPgEzHgEfARM+ATMhMhYVFAYjIQMOASMlFRQGDwEOAQcGFBUUBiMiJjU0NjcxPgE3IyoBMRQGBxUjNTc1MxUwFjMXDwEjNTQ2PwE+ATU0JicuASMiBgcOAQceARUUBgcOASMiJjU0Njc+ATMyFhceARUUBgcOAQ8BMzI2NzQ2NzUzFSUUBgcOASMiJicuATU0Njc+ATMyFhceARUUBgcOAQceATMeATMyNjc+ATU0JicuASsBIiY1NDY3MToBMzI2Nz4BNTQmJy4BIyIGBzIWFR4BFRQGBw4BIyImJy4BNTQ2Nz4BMzIWFx4BFRQGBw4BBx4BFx4BFQEhIgcOAQcGFREUFx4BFxYzITI3PgE3NjURNCcuAScmExQGIyEiJjURNDYzITIWFQEvBgwBLwcGEwQFAgccAwsFBQYEJokDCQcBggoLDQj+i5gBDAYB6wMCKAcJAQIKCgwHExEFDgk8CAYEAwsJDQsVTakLdQMBOA4QBAUFDAgHCgUDBgEICQQDAwcFCQwJCAgWDQ4XCgkKBgUDDAg0LQoIAQMCFf7cCQgIEwwJEQgJCAMBBAYDAwcDAwEDAwIDAgIEAwUJBQcHAwIDAwIDBwcNBAQEBwEDAgYIAwMDAgIBBwUGDAMCAgIDAwIBBwUDBgMCAwkIBw8ICBAICAkFBQMHAwUJAwYHAeb9mislJTgQEBAQOCUlKwJmKyUlOBAQEBA4JSV3X0P9mkNfX0MCZkNf8QYHYgYFAgcGEwUVAwEBBwRUAQcFBQ0ICgv+4AUG6wcDBgE4CBgPCSAVCQwRBBw5HAcTDQIJDQQJNwQGAgKJPgkDBgI9ECAOCg4GBwYDAwQGAwIJCAUHAwQDDAoLFQgICQkICBgNCREIBQwIMgECAQkNBAK2DBEIBgcGBQcQCQMIAgMDAgIDBwMDCAIBAQIBAwICBgQFCwgICgUFBgUDAgUCBgUEDQYFBwMDAwMDAwECBgUDBwMDAQMBAgYFCA8FBQMDBQUPCAgOCAMGAgEHBAoQCAG3EBE4JSUq/ZwqJiY4ERAQEDglJSsCZiolJTgREPzNQ19fQwJmQ19fQwAACAAA/8AEAAPAAB8ALQBOAGYAdQCNAK0AvQAAJRYUBw4BLwEHBiInLgE/AScmNDc+AR8BNzYyFx4BDwEDMzI2NTQmKwEiBhUUFicyFhUUBisBFRQGIyImPQEjIiY1NDY7ATU0NjMyFh0BMwMUBgcOASMiJicuATU0Njc+ATMyFhceATcUBisBIiY1NDY7AR4BFScUBgcOASMiJicuATU0Njc+ATMyFhceAQEhIgcOAQcGFREUFx4BFxYzITI3PgE3NjURNCcuAScmExQGIyEiJjURNDYzITIWFQMXBwcGEwc5OgYTBwYCCDo6BgYHEwY6OQcTBgcBCDmJzwoODgrPCQ4OoQkMDAlRDQsJDlEKDgwMUQ4JCg5RQgYFBQ0IBg8EBQYGBQQNCAgNBQUGWQwJzwoODQvNCwxZBgUFDQgIDQQFBgYFBA0IBw4FBQYByv2aKyUlOBAQEBA4JSUrAmYrJSU4EBAQEDglJXdfQ/2aQ19fQwJmQ1/ABhQGBgIIOjoGBgYUBjo5BxMGBwEIOTkHBwYTBzkBYg4JCg4OCgkOLQ4KCg1RCg4MDFEMCwoOUQkMDAlR/iIIDQUFBgYFBQ0ICAwFBQYGBQYNSQoODAwJDgIMCU8IDQUFBgYFBQ0ICAwFBQYGBQYNAnEQETglJSr9nComJjgREBAQOCUlKwJmKiUlOBEQ/M1DX19DAmZDX19DAAAAAAgAdf/AA4kDwAAPAB8ALwA/AE8AcAB8AJQAACUhIiY9ATQ2MyEyFh0BFAYnIyImPQE0NjsBMhYdARQGNyEiJj0BNDYzITIWHQEUBjchIiY9ATQ2MyEyFh0BFgYnIyImPQE0NjsBMhYdARQGExceARcUBiMhIiY1PgE/ASMiBhURFBYzITI2NRE0JisBJyIGFRQWMzI2NTQmARE0NjMhPgEzMhYVITIWFREUBiMhIiY1Asb+WAUGBgUBqAUGBrzxBQYGBfEFBgZK/sAFBgYFAUAFBgZ//jwFBgYFAcIFBgEH1vEFBgYF8QUGBnAPMyUCBgX+PAUGAicvEacGCwkIAlYGCwkIp4QQFhYQEBYW/mUOCAEkAi8gIC8BJAoMDgj9GgoOxgYFBAUGBgUEBQZPBgUEBQYGBQQFBk8GBQQFBgYFBAUGTwYFBAUGBgUEBQZPBgUEBQYGBQQFBgEgLQs2IwUGBgUiMw0xCQj9DQYLCQgC8QYLeBcQEBYWEA8Y/DsDhwkMIi0tIg0I/HkJDA0IAAAFAAQBOgPzAroAFwAjAC8AOwCKAAATLgExDgEdARQWPwE+ATcyNjM+ATUuAScXFAYjIiY1NDYzMhYXFAYjIiY1NDYzMhY3IgYVFBYzMjY1NCYFBw4BBzAGFSoBIzAiMTAiMSImJzgBMS4BPQEjIiYjLgE1NDY3NjI7ATU0Njc0NjUwNjEwNjUwMjE6ATMwMjEwMjEwFjEwMhUeAR8BFhQHrQIURk0RCzETExIDHwITHAIYFcQjGRgjIxgZI5gjGRkjIxkZI1kYJCQYGCQiAXegAwYEAgEBAgICAwUDAwMrAwcFExgYEwMHBSsCAgICAgICAQICAgQCBAQDoAoIAjcCAQJkRSQPBQsxExUDBAceFRUiBDkZIyMZGSMjGRkjIxkZIyMjJBgYJCQYGSNUoAMGAQEBAgIDDQlpAgcgExMgBgJlCAoDAgEBAgECAwIBBAOgBxYKAAAAAAMABP/NA+8CvgAcADsAjQAAASIHDgEHBhUUFx4BFxYzMjc+ATc2NTQnLgEnJiMTFAYrASImPQEHBiInLgEvASY2Nz4BMTI2MTMyFhURAQcOAQcwBhUqATEwIjEwIjEiJic4ATEuAT0BISIGBw4BDwEGJj0BNDYzITU0Njc0NjUwNjEwMjUwMjE6ATMwMjEwMjEwFjEwFhUeAR8BFhQPAQELLCcnOhERERA6JyctLCcmOhERERE6JicsJgYFIgYJFwMJBQMEAgYCAggEOAICHAcIArORAwYEAgEBAgIDBQMDA/2NBQoFESsVMw0RakwCcQICAgICAgIBAgICBAICBQKgCAgLAXcQETknJy0sJyc6EBEQETknJy0sJyc6ERD+owUGCgXRDwICAgUEGQMLAwIeAgoE/vEBwpEEBQIBAQMBAw0IYgMCAxUUNAwFECZMamQICgMCAQICAgIBAQIEA6AIGAgNAAAAAAIABAAVA/oDawBRAKMAAAEHDgEHMAYVKgExMCIxMCIxIiYnOAExLgE9ASEiBgcOAQ8BBiY9ATQ2MyE1NDY3NDY1MDYxMDI1MDIxOgEzOgExMDIxMBYxMBYVHgEfARYUDwEBNz4BNzA2NToBMToBMTAyMTIWFzgBMR4BHQEhMjY3PgE/ATYWHQEUBiMhFRQGBxQGFTAGMTAiFTAiMSoBIyoBMTAiMTAmMTAmNS4BLwEmND8BA+SRAwYEAgEBAgIDBQMDA/2NBQoFESsVMw0RakwCcQICAgICAgIBAgMBAgQDAQUCoAgIDfw4kQMGBAIBAQEBAgMFAwMDAnEFCgQSKxUzDRFrS/2RAgICAgICAgECAwECBAMBBQKgCAgNAomSAwYBAQECAgMMCGUDAgMVFDQMBRAmTGpiCAoDAgEBAwICAQIBBAOgCBkIDP5ukgMGAQEBAgIDDAhlAwIDFRQ0DAUQJkxqYggKAwIBAQMCAgECAQQDoAgZCAwAAAAAAgAEABUD8QNrAFEAowAAAQcOAQcwBhUqATEwIjEwIjEiJic4ATEuAT0BISIGBw4BDwEGJj0BNDYzITU0Njc0NjUwNjEwMjUwMjE6ATM6ATEwMjEwFjEwFhUeAR8BFhQPAREHDgEHMCIVKgExMCIxMCIxIiYnOAExLgE9ASEiBgcOAQ8BBiY9ATQ2MyE1NDY3NDY1MDYxMDY1MDIxOgEzMDIxMDIxMBYxMDIVHgEfARYUDwED5JEDBgQCAQECAgMFAwMD/Y0FCgURKxUzDRFqTAJxAgICAgICAgECAwECBAMBBQKgCAgNkQMGBAIBAQICAwUDAwP9jQUKBRErFTMNEWpMAnECAgICAgICAQICAgQCAgUCoAgICwKJkgMGAQEBAgIDDAhlAwIDFRQ0DAUQJkxqYggKAwIBAQMCAgECAQQDoAgZCAz+KpEDBgICAwIDDAhkAgIDFRUzDQYQJktqYggLAwEBAgIBAQICAgMDoAgZCA0AA//+/8UEAAO8ACkARACDAAAlJy4BBw4BFxUuAScOAQcOAQcWFx4BFxYXMhYzFRQWFxY2PwE+ASc0JicBDgEXHgE3NhceARcWFz4BNz4BNyYnLgEnJgcFJy4BBw4BHQEqAQciBw4BBwYHBgcOAQcGIyYGBwYWFzoBMzI3PgE3Njc2Nz4BNzY3FRQWFxY2PwE+ASc0JicD9KgKDwYGBwEjdDoCBQITJxQ0MzNSGxsCAQIBBgYGEAmoBgcBBgb8Uh8qAQIuHwMYGE0zMjcECQQQJBRFQUBoIyIJA66oCg8GBgYBAgEDJidxQUI6Pjs7Xh4eAx8uAgEpHwIEAhMvL4FLTEshJSREHx4UBgYGEAmpBgYBBga0qAoFAgMODV4QUk4DBwMiOxs8JicuCQkBAWoMDwMDBwipBg4ICBAGAp4BLx8gKQEBBAMoKipOBw4HHDQZVi4vKgMDAUypCgUCAw4NYwEPDklAP2RsOzs3BgUCKh8fLwIJCElKSoI5Kio7EhIJZQwPAwIGCakGDQgIDwYAAAMATQAIA7UDegApAEYAZgAAJSc+ATU0Jy4BJyYjIgcOAQcGFRQXHgEXFjMyNjcXHgEzMjY3PgE1NCYnAxQHDgEHBiMiJy4BJyY1NDc+ATc2MzIXHgEXFhUnIzU0JiMiBh0BIyIGFRQWOwEVFBYzMjY9ATMyNjU0JgOlkCkrHx9tSElSUklJbB8fHx9tSElSQHc0kQgUCwsUCAgICAiqFhdONTQ8PDQ1ThcXFxdONTQ8PDQ1ThcWh2waExMabBIbGxJsGhMTGmwSGxtmkDV+QlNISWwfICAfbElIU1JJSGwgHycmkggICAgIFAsLFAgBhTs1NE8WFxcWTzQ1Ozw1NE4XFxcXTjQ1PC5rExoaE2sbEhMabBMaGhNsGhMSGwAAAAIABAA3A/4DTwAvAFsAAAEWBgceARceAQcGJicuAScuAScmBiMGJy4BJyYnFjc+ATc2NzY3PgE3Nic6ARUeAScWBgcGBw4BBwYnLgEjDgEHDgEHDgEnJjY3PgE3LgE3PgE3PgE3NhYXHgEXA/4GZDoHEw0GJQUFKwwjNR0LHgoKGg0vLS5TIiMYMi8wWCgoIyclJTEIBxMBATpf1QMfFR0pKmg8PUILGAgJIgobMiYQKQUIJggNEAo1aAUDSC8xfkhYjzk0VQYBqV1uJxMdEAghEBIIAwgXDgcWAQIIBAQEFA8PEgQEBBURERYaJSVdNzg/AiVhPjJPGyYdHicICAcBBQEYBQ4WCAQFDREhChAdECpqYENjICIqAwUmISBoSwAAAAABAMUAdANAAxMAIQAANyoBJy4BNxM+ATc2FhcbAT4BFx4BBwMOAQcGJi8BAw4BI/ACBAISFANYAxAMCxgI75sHIRAQDge0BBELCxUH40gDGA90AQMeEQHRDBIDBAcJ/v4BcRAOBwchEP5RCg0CAgcI9P6DDxQAAAABAR8AqQLhAusAGgAAAREUBiMhIiY1ETQ2OwE1NDY7ATIWHQEzMhYVAuEPC/5yCw8PC2sPC4UKD2sLDwJJ/noLDw8LAQcLD+4KDw8Kbw8LAAQBHwCpAuEC6wAaAB8AJQApAAABIzU0JisBIgYdASMiBhURFBYzITI2NRE0JiMFMxUjNTc1MxEjNRcjETMCx2sPC4UKD2sLDw8LAY4LDw8L/otSUoVSUtdSUgJjbwoPDwruDwv++QsPDwsBhgsPstXVGe7+JO7uAVMAAAABAHIBLwNpAlEADwAAAS4BIyIGBw4BIxUhNSImJwKnJE4zMUolLmxWAvdAWigB8SM9NiIrSVZWRCgAAAAB/rgBLwSvAlEAIgAAASImJy4BIyIGBw4BIyEVITI3PgE3Njc+ATMyFhceATMhNSEDZkBaKCROMzBLJS5sVv5JAbc4LSxJHB0YHjAXGDMdLXdbAUn+twGFRCgjPTYiK0lWDQ4pGBkWGyYqHS1YVgAACQEtAMEC0wL8ADMAZgCZAM0A+AElAVgBkgHCAAABMS4BIyIGDwEnLgEjIgYHDgEVFBYfAQcOARUUFhceATMyNj8BFx4BMzI2NzY0LwE3NjQnJyIGDwEnLgEjIgYHDgEVFBYfAQcOARUUFhceATMyNj8BFx4BMzI2NzY0LwE3NjQnLgEjAxQWFx4BMzI2PwEXHgEzMjY3PgE1NCYvATc2NCcuASMiBg8BJyYiBw4BFRQWHwEHDgEVFzEuASMiBg8BJyYiBw4BFRQWHwEHDgEVFBYXHgEzMjY/ARceATMyNjc+ATU0Ji8BNzY0JzcxHgEzMjY/ARceATMyNjc2NC8BNzY0Jy4BIyIGDwEnJiIHBhQfAQcGFBcVMR4BMzI2PwEXHgEzMjY3NjQvATc2NCcuASM4ATEiBg8BJyYiBwYUHwEHBhQXNz4BNTQmJy4BIzgBMSIGDwEnLgEjIgYHBhQfAQcGFBceATMyNj8BFx4BMzI2NzY0LwEnMR4BMzI2PwEXHgEzMjY3PgE1NCYvATc+ATU0JicuASM4ATEiBg8BJy4BIzgBMSIGBwYUHwEHBhQXFzQmJyYiDwEnLgEjIgYHBhQfAQcGFBceATMyNj8BFx4BMzI2Nz4BNTQmLwE3PgE1AjECBwQEBwIXFwIHBAQGAwMDAwMWFgMDAwMCBwQEBwIXFwIHBAQGAwYGFhYGBg0EBwIXFgMHBAMHAwMCAgMXFwMCAgMDBwMEBwMWFwIHBAQHAgYGFhcFBQMHBPcDAgMHBAMHAxcWAwcDBAcDAgMDAhcXBQUDBwMEBwMWFwUQBQMDAwMWFgMDaAMHAwQHAxYXBRAFAwMDAxYWAwMDAwIHBAQGAxcWAwcEAwcDAwICAxYWBgbWAwcEAwcDFhcDBgQEBwMFBRcXBQUDBwQDBwMXFgYPBQYGFhYGBQMHBAMHAxYXAwYEBAcDBQUXFwUFAwcEAwcDFxYGDwUGBhYWBlEXAgMDAgMHBAMHAxcWAwcDBAcDBQUXFwUFAwcDBAcDFhcCBwQEBwIGBhboAgcEBAcCFxcCBwQEBgMDAwMDFhYDAwMDAgcEBAcCFxYDBwQDBwMFBRcXBgZoAwMFEAUXFgMHAwQHAwUFFxcFBQMHAwQHAxYXAgcEBAcCAwMDAxYXAgMCXAMDAwMWFgMDAwMCBwQEBgMXFgMHBAMHAwIDAwIXFwIDAwIGDwYWFwYPBaADAxYWAwMDAwMGBAQHAxYXAgcEBAYDAwMDAxYWAwMDAwUQBRcWBg8GAwP+cgQGAwMDAwMWFgMDAwMCBwQEBwIXFgYPBgIDAwIXFwUFAwcDBAcDFhcCBwRFAwMDAxYWBgYCBwQEBwIXFgMHBAMHAwMDAwMWFgMDAwMDBgQEBwMWFwUQBdECAwMCFxcCAwMCBg8GFhcGDwUDAwMDFhYGBgUPBhYXBg8GmQMDAwMWFgMDAwMFEAUXFgYPBgIDAwIXFwUFBg8GFhcFEG4XAgcEBAcCAwMDAxYWAwMDAwUPBhYXBg8FAwMDAxYWAwMDAwUPBhZpAwMDAxYWAwMDAwIHBAQHAhcWAwcEAwcDAwMDAxYWAwMDAwUQBRcWBhAFRQQHAgYGFhYDAwMDBRAFFxYGDwYCAwMCFxcCAwMCAwcEAwcDFxYDBgQAAAAAEgEuAMQC0gL5AAsAGAAkADEAPQBKAFYAZABwAH0AiQCWAKIArwC7AMgA1ADhAAABMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjBTIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIwcyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiM1MhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjMRcyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMnMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjAzIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIxcyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMXMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjAWcKEBAKCw8PCxghIRgXISEXATILDw8LChAQChchIRcYISEYmQsPDwsLDw8LGCEhGBghIRgLDw8LCw8PCxghIRgYISEYmQsPDwsKEBAKFyEhFxghIRiZCw8PCwsPDwsYISEYGCEhGJkKEBAKCw8PCxghIRgXISEXmQsPDwsLDw8LGCEhGBghIRiZCw8PCwoQEAoXISEXGCEhGAGuEAoLDw8LChAeIRcYISEYFyEeEAoLDw8LChAeIRcYISEYFyEeEAoLDw8LChAeIRcYISEYFyF4DwsLDw8LCw8fIRgXIiEYFyIfDwsLDw8LCw8fIRgXIiIXGCF4EAoLDw8LChAeIRcYISEYFyH+Hg8LCw8PCwsPHyEYFyIiFxghHw8LCw8PCwsPHyEYFyIiFxghHw8LCw8PCwsPHyEYFyIiFxghAAkBLwDEAtIC+QAMABgAJAAwADwASABUAGAAbAAAAR4BBw4BJy4BNz4BFwUUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFiceAQcOAScuATc+ARcUBiMiJjU0NjMyFiceAQcOAScuATc+AQMeAQcOAScuATc+ARcUBiMiJjU0NjMyFhcUBiMiJjU0NjMyFgFwFxwEBCYXGBsEBCYXAWIhGBchIRcYIZkiFxciIhcXIjAXHAQEJhcXHAQEJuAhGBchIRcYIckXHAQEJhcXHAQEJoIXGwMEJhcYGwQDJ+AiFxciIhcXIpkhGBchIRcYIQHLAycXFxsDBCYXGBsEOBchIRcYISEYFyEhFxghIbcEJhcXHAQEJhcXHDwXIiIXGCEhtwQmGBcbBAMmGBcb/jkEJhcXHAQEJhcXHDwYISEYFyIiFxghIRgXIiIAAAADANEBNwMvAkkANAA4ADwAAAEVIzU0JiMiBh0BFBYzMjY9ATMVFBY7ATI2PQEzFRQWMzI2PQE0JiMiBh0BIzU0JisBIgYVFzMVIzMjNTMBhHYSDQwSEgwNEnYSDd8NElESDQ0REgwNElESDd8NEj1DQ6MjIwIqSxwNEhINdg0SEg0dTA0SEg1MHQ0SEg12DRISDR1MDRISDR6YmAAEAIEANAN/A0wACwAYACQAMQAAJRQGIyImNTQ2MzIWExQGIyImNTQ2MzIWFQEUBiMiJjU0NjMyFhMiBhUUFjMyNjU0JiMBVj4sLD8/LCw+Uz4tLD4+LC0+ATI+LSw+PiwtPjksPj4sLD8/LJ8sPz8sLD8/AY4sPz8sLD8/LP7zLT4+LSw+PgHUPywsPz8sLD8AAAAABQEkACAC3wNeAA8AIAAxAEIAUAAAASMiJj0BNDY7ATIWHQEUBgMiBh0BFBY7ATI2PQE0JisBEyMiJj0BNDY7ATIWHQEUBiMDIgYdARQWOwEyNj0BNCYrASUhIiY1NDYzITIWFRQGAl+7GicnGrsaJybWBQcHBbsFBwcFu7u7GicnGrsaJyYbuwUHBwW7BQcHBbsBIP57CxAQCwGFCxAQAiEmG7saJycauxsmAQgHBbsFBwcFuwUH/PcnGrsbJiYbuxonAQgHBbsFBwcFuwUHfQ8LCw8PCwsPAAAAAAEBSgD+ArYCdgAmAAABFhQHDgEjIiYvAQcOASMiJicmND8BJyY0NzYyHwE3NjIXFhQPARcCtgwMBg8ICA8GfHwGDwgIDwYMDHx8DAwMIg17fAwiDAwMfHwBRAwiDAYGBgZ8fAYGBgYMIgx8fAwiDAwMfHwMDAwiDHx8AAACATwA/ALEAoQAGwAoAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmAyImNTQ2MzIWFRQGIwIAKCQkNQ8QEA81JCQoKCQkNQ8QEA81JCQoL0JCLy9CQi8ChBAPNSQkKCgkJDUPEBAPNSQkKCgkJDUPEP7LQi8vQkIvL0IAAAEBZgEmApoCWgAMAAABFAYjIiY1NDYzMhYVAppaQEBaWkBAWgHAQFpaQEBaWkAAAAEAnf/EA/wDIwAWAAABFAcOAQcGIyInLgEnJicBFhceARcWFQP8KCiKXF1pNDExWigoIwLOIhsbJQoKAcBpXVyKKCgKCiUbGyECzyIpKFoxMTQAAAUAeAA7A+4DSAAFABgAHgAkADQAAAEuASceAScHJzcUMhUeARceARcWFDMUFhUPAS8BNxcDBy8BNxcDBy4BJy4BJzgBMS4BJzcXA+4BAQEBAWhMP00BBhoGBQkFAQECtIEZJoEn0YEZJoEm0EcDBwQDBQMHGgZIPwI6AwQCAgTLTUBNAQEFGQYFCwUBAQEBAbSCGSeBJ/7/ghkmgif+/0cDBgMDBQMGGwZIPwABAU0CqQKyA6EARQAAAS4BJzQmNSMuAS8BLgEHDgEHDgEPATAGBw4BFzEeARceARUyFhUeATMyNjc+ATc+ATceAR8BMBYXHgEzMjY3MzA0Mz4BJwKyAw8GAgEbNR0CBhYSDhIFAQEBbQIBBhIDAQ8FAQEBAQYUEBIZBwEBAQ8dDw4eDgECAQcXEhAUBgEBBhgGAvsLDwUBAQEcNhwCBhACAg8FAQEBbQIBBhcTDhIFAQEBAQEGDxUIAQIBDx0ODh4OAQICCBQQBgEFHxcAAAAABQBK//0DtgODACcAUAB4AKAArAAAATYWHwEeARcWBgcOAQcOAQcGJicuATU0Njc+ATcuAScuATU0Njc+AQEGJi8BLgEnJjY3PgE3PgE3NhYXHgEVFAYHDgEHHgEXHgEVFAYHDgEHEyY2PwE+ATcyFhceARceARcWBgcOASMiJicuAScOAQcOASMiJicuAQEWBg8BDgEHIiYnLgEnLgEnJjY3PgEzMhYXHgEXPgE3PgEzMhYXHgEDFAYjIiY1NDYzMhYDHwgMBm0ECwEBCQYcNxwECgUKDwQFCRIFFCoTFSYWBRIJBQUK/ckIDAZtBAsBAQkGHDccBAoFCg8EBQkSBRQqExUmFgUSCQUFCgeKAQsGbQUKBggKBR02HAULAQMOBAULBgkQBRMrEhYmFQUQCgcKBgQKASkBCwZtBQoGCAoFHTYcBQsBAw4EBQsGCRAFEysSFiYVBRAKBwoGBAo5NCUkNDQkJTQCVQELBm0FCgYICgUdNhwFCwEDDgQFCwYJEAUTKxIWJhUFEAoHCgYECv7XAQsGbQQLBgcLBR02HAQMAQMOBAULBwkPBRQqEhYmFgQRCgYLBQQKAQHBCAwGbQQLAQkFHDccBAoFCg8EBQkSBRMrExUnFQUSCQUFCv2vCAwGbQQLAQkFHDccBAoFCg8EBQkSBRMrExUnFQUSCQUFCgEfJTQ0JSQ0NAABAD7/0wPCAp4AMAAAARQHDgEHBiMiJy4BJyYnNz4BNz4BNz4BMzIWFx4BFx4BFx4BMzI2Nz4BNx4BFRYUFQPCJSV8UlFZQUxLhS8vBxkMKQkdOiMQJhUWKxIVJhITJRcRKxcmQBodNR8FKgYBwK1iY2INDBERSDk5UQISUhQ8gDAYICodIU4oKFAiHChhNzl5MAMBBTE9JQAAAAAC/9UAoAQgAtoAVQBXAAABIgcOAQcGMQ4BBw4BIyImNTQ2Nz4BNz4BNz4BNz4BMzEyFhceAR8BHgEzMjY3PgE3PgE3PgEzMhYVFAYHDgEHDgEHDgEHDgEjIiYnLgEnMCcuAScmIyUxAVcMEhIhDAsIEQkaV0cbJSUZCCMgCBAIFS4bCz80OEULFSQSDRBFDw4bHQgQCBUuGwtAMxslIhoBDwkXKBUIEAobWEY3RwsWJxIMDCMSEw0CjQJXHBxEHRwRJRA4hCUbGiQCBS5AECMRL1wnDkNRFCBJIxojijg5ECMRL1wnDkMlGxolAQIMDh9TKhElEDiEThIiTyYeHkgeHgUAAAT/1QCkBCAC3gARAC0ATwBrAAA3IiY1NDY3PgE3PgEXHgEHDgEhIiYnLgEnJjY3NhYXHgEzMjY3PgEXHgEHDgEjASImJy4BNz4BNz4BMzIWFx4BFxYGBwYmJy4BIyIGBw4BIyUiJicuATc+ATc+ATMyFhUUBgcOAQcOAQcOASMVGyUlGQMdGAwzFhgODBxNAks3RwsJFAkNERgYMgsIJhAQGR0LMhgYEgwbWEb+PgcPBhgRCxAdDytGDThFDQoRCgwQGBgyDAggExMlDwsfEQKZCA8HGA4NCRQJK0YNGyUiGgEPCQgPCQggEKQlGxolAQIfLhgPDQ0yFzhbTxEPIhQYMgsNERgRTTc4GBELCzIYN4EBJQMDCzIYIDMUPBVRFA4gFBgyCw0RGBBOVBsQEiQEBA0zGBMeDz0UJRsaJQECCw8LGBAQEgAK/9EAogQkAuQAXQBwAIQAmACsAL8A0gDnAPoBWAAANyImJyImJy4BJy4BJy4BJy4BJy4BJzQmNTQ2NzQ2Nz4BNz4BNz4BNz4BNz4BNzYyFzIWFx4BFx4BFx4BFx4BFx4BFxwBFRwBBxQGBw4BBw4BBw4BBw4BBw4BBzQiIyU0NjMxMhYVMRQGIzE4ATkBLgElLgE3MT4BFzEeAQcxDgEjMSImJyEuATcxPgEXMR4BBzEOASMxIiYnJSY2NzE2FhcxFgYHMQ4BIzEGJiclLgE3MT4BFzEeAQcxDgEjMSImJS4BNzE+ARcxHgEHMQ4BIzEiJiUxJjY3MTYWFzEWBgcxDgEjMSImJyc0NjMxMhYVMRQGIzE4ATkBLgEFKgEnIiYnLgEnLgEnLgEnLgEnLgEnNCY1PAE3NDY3PgE3PgE3PgE3PgE3PgE3NjIXMhYXHgEXHgEXHgEXHgEXHgEXFBYVHAEHFAYHDgEHDgEHDgEHDgEHDgEHBiIjFQMGAwQGAwMGAgMEBAEGAQIDAgEBAgIBAQMBAgMCAQQDAgYDAwUDAwYEBg0GAwcDAwYCAwQBAgUCAQMCAgEBAgICAgMBAgQDAgUEAwQDBAYDBQQCRyUbGyUlGxom/hcYEAwMMhgYEAwIIBIIDQcChBgQDQsyGBgRDQggEgYOCP70DA8YGDMLCw8YBg8HESAI/tcYEAwMMhgYEA0IIBEHDQJ/GBENCzIYGBENCCASBg3+SQwPGBgyDAsPGAYPBxEgCIAkHBslJRscJALGAwcDAwYEAwYBAwUDAgUBAgMCAQIBAgIDAQIDAgEEAwIGAwMEAwQGAwcMBwMGBAMGAQMFAwIFAQIDAgECAQICAwECAwIBBAMCBgMDBAMEBgMDBwOkAQEDAgEDAgIDBAEGAwMFAwMHAwMGBAMGAwQGAwMGAgMEAwIFAgIDAQIBAgEBAwIBAwIIBQICBQQDBAMDBwMDBQMDBgQDBgMEBQIDBAQBBgECAwIBAQICPhslJRsbJQIlaAsyGBgRDQsyGBASAwMLMhgYEQ0LMhgQEgMDHhgyCwsOGBgzCwMDAhISjQsyGBgRDQszGBASBAMNMBgYEQ0LMxgQEgQeGDMLCw8YGDILAwQSEKUZJyUbGyUBJSQCAwECAwIBBAMCBgMDBAQDBgMEBgMDBwMDBwMDBgEEBAMCBQIBAwICAQECAgICAgMBAgQDAgUEAwQDAwcDAwcDAwYEAwYDBAYBAwUDAQYBAgMCAQECAgAAAQEmAPcC3AKPAAIAAAETJQEmdAFCAo/+aKAAAAgBCQDVAvoCpgAXACkAOwBTAGUAfQCPAKEAAAEiJi8BJjY3NjIfAR4BBw4BBw4BBwYiIxMiJi8BJjY3NhYfARYGBw4BIyciJi8BJjY3NhYfARYGBw4BIxciJicuAS8BJjY3NhYXNhYXFgYPAQ4BIzciJicmNj8BNhYXFgYPAQ4BIzciJicmNDcmNDc+AR8BHgEVFAYPAQ4BIyciJi8BLgE3PgEfAR4BBw4BIyciJi8BLgE3PgEfAR4BBw4BIwEvCxECCAQGCAgTCRwLCAYDCgYDCgYEBQJNCxIBEQMLDQ0XBREDDA0EBQEnCxECEQMMDQ0WBREEDA0FBAJFBAYDBwkBCQMMDQsVBgsVBgcJDRsHBwN7CQ8DBwkNSAsZBwYIDUkDBwWpCg8DAwMDAwcZCxwICQkIHAMHBVMFBwNACwgGBhkMQAsIBwQPCJYEBwRACwgHBhkLQAsIBgMPCgJNDAseChIGBwUPBhkLBwcBBQgCAv7zDAs6DRcFAwwNOQ0XBQEBhg0LOQ0XBQMMDDoNFwQCAfEBAQQKCB4MFwUDCQsDCQsLGQcPAQE+CQgLGgYkBwkNCxkGJQEBUwkICBAGBxEGCwgGDwUPCAkPAw8EAU0DASUGGQsMCAckBhoLCAlWAgIkBhoLCwgGJQYZCwoHAAANAQkA1QL6AqkAEQAjADUARwBcAG0AfgCPAKUAtgDHANgA6QAAASImJyY2Nz4BFx4BBw4BByoBEyImJzUmNjc2FhcVFgYHBiIjJyImJzUmNjc2FhcVFgYHIgYjJyImJzUmNjc2FhcVFgYHDgEjEyImJy4BJyY2NzYWFx4BFxYGBw4BNyImJyY2NzM2FhcWBgciBiM3IiYnJjY3MzYWFxYGByIGIzciJicmNjczNhYXFgYHBiIjNyImJyY0NzA0MT4BFx4BFRQGBw4BIyciJicjLgE3PgEXHgEHDgEjJyImJyMuATc+ARceAQcOASMnIiYnIy4BNz4BFx4BBw4BIyciJicjLgE3PgEXHgEHDgEjASYJEQMEBggIEwkMCAcDDAgDAlYLEQIDDAwNFwUDDAwFBQEeCxECAwwMDRcFAwwMBAUCHgsRAgMMDQwXBQMLDQMFA1gEBgMHCQEDCw0KEAYCAwEHCQwECE4KDwUHCAwCCxkGBwkNAQgDUQoPBQcIDAILGQYHCQwEBgNPCg8FBwgMAgsZBgcJDQEHBFEKDwUDAwYZDAgJCQgEBgNYAwgEAgsIBgcZCwsIBgMPCFcDCQMCCwgGBhkMCwgHAw4IWAMIBAILCAYHGQsLCAYDDwhXAwkDAgsIBgYZDAsIBwMOCAJrDAsKEgYHAgQHGQ0HCQH+zwwLAg0XBQMMDQINFgUCZAwLAg0XBQMMDAINFwUCZg0LAg0XBAQMDQINFwUBAf7RAQEECQcMGQMDBQYCBQILGQcBAScJCAsZBgcJDAwZBgIoCQgMGQYGCA0LGQcCKQkICxkHBgkMDBkGAiYJCAcPCAILCAYFDwoJDwQBAzEDAgYZCwsIBgYaDQYJMQMCBhkLCwgGBhoNBgk0AgIGGQsMCAcGGg0IBjECAgYZDAsIBwYaDAcIAAIBCQDVAvwCqQAYABwAACUiJicuAScDJjY3NjIXBR4BFRQGBwUOASMDEzclAZoEBgMHCQFzBAYICBMJAbQICQkI/r4FBwNAU+r+w9UBAQQKCAGXChIGBwT6BQ8ICBAEoAEBAXT+2XO0AAAAAAEAkAAQA20DdAA1AAABFRQGIyImPQE0JisBAxQWOwEyFhUUBiMhIiY1NDY7ATI2NRMjIgYdARQGIyImPQE0NjMhMhYDbRkREhgaEsQCGRI+ERkZEf7bEhgYEjwSGQLEEhkZERIZGRICiBEZA0qsERkZEVYSGv1wEhkZERIZGRIRGRkSApAaElYSGBkRrBEZGAAAAAABAAQAFQPvAZUAUQAAJQcOAQcwIhUqATEwIjEwIjEiJic4ATEuAT0BISIGBw4BDwEGJj0BNDYzITU0Njc0NjUwNjEwNjUwMjE6ATMwMjEwMjEwFjEwMhUeAR8BFhQPAQPkkQMGBAIBAQICAwUDAwP9jQUKBRErFTMNEWpMAnECAgICAgICAQICAgQCAgUCoAgIC7ORAwYCAgMCAwwIZAICAxUVMw0GECZLamIICwMBAQICAQECAgIDA6AIGQgNAAABAAv/zQP3A7oAbgAAJQcOAScmNjc+ATcOAQcGJi8BFwcOAQcGJi8BDwEGJicuAT8BByoBLwE3PgE/AScuATc+ATczFycuATc+ATcOAQcOAScuATc+ATc+ATc+ATc+ATc+ARc2Nz4BNzY7ATYWBxUUBw4BBwYHFgYHDgEHAkVfESEMDRIcHRsFFCkVESgNHAQBBAwFChMECVYDEBUCBgIDO44FEAcIAgEOBHo6DwoEBBQEBYUhDQgGCRQKFkctKicMBwEDAwoFCBoNCRADCBkMRWwZUl1cqkVFJAIUIAEGBkBERH0GCi4IHAslSgsQDQwnKitEFwkSCAcJDRuaBAwLAQMMDkVGAg8JAgUQCWg0BwcMCQsCQxsFEgoLBQEbIg0oEhcuFgQbHxwRDAYPBwgRCAshDwwUBQscCDAHBXtEQ0AGBwEgFAIlR0atXV5TG2lCDBkIAAAAAAEADv/EA/cDvABsAAATHgEXHgEXNjc+ATc2NzYXHgEXFhcWFx4BFxYXFhcWBgcGBw4BBwYHDgEHBicmJy4BJyYnLgEnJjY3NhYXHgEXHgEXHgEzPgE3PgE1NCYnLgEnIgYHHgEXHgEHDgEjKgEjIgYnJjY1PAE1NDYzMxYkDxIeDyEiIkwrKjMyLi1RIyQfHRobLRISCw0EBQcLChMiZ0YhJyhZMTE0SD8/ZSUlFAIEAgImHR0vBAQFAg4yIip6VVJ6Ky07PSsrelBKZTARGhMJMQMCORUcLhwvhQ8IAgITA7wBKA8SIA0ZFhUfCgkBAQgHHBQUFxccHEAlJCgqMDBfLS0nSW4pFA8QEQEBCg8fH107PEYHGQ0TIAQEDg4KEwUyUB8oOgE/LC1+Tk9/Kyw/ASohFBsSCSgUEwMDHg8zFTJRNRY+AAAJAAABVgQAAioAGAAxAKMAxgFFAVoBwgH3AiwAAAEuASMiBgcOARUUFhceATMyNjc+ATU0JicHMhYXHgEVFAYHDgEjIiYnLgE1NDY3PgEzJSIGBxUuAScjNCIjKgEjKgErASoBIyIGKwEqASMiBiMOAQcxDgEPATAGBw4BBxQGMQcOARUcARUcARcVMBYdAR4BFx4BHwEwFDEzHgEXMhYXHgE7AToBMTI2MTAyMTMwMjE+ATcdAR4BFzM+AT0BNCYjBxQGBw4BIyImJzAiOQEuAScuASc0JjU0Njc+ATMyFhceARU3PAE1LgEnLgEnLgEnIzAmIyoBIyoBIyoBIyIGBw4BBw4BByIGBw4BFRQWFx4BFx4BFx4BFx4BFx4BFzIWMzoBMxYyOwE6ATsBOgEzMDIxNz4BNz4BNz4BNzU2NDU0JiMiBgcOAQcOASMiJicuASc1LgEnLgE1OwE+ATcxPAExJz4BNzU+ATc+ATMyFhceARceARUjJRUUBiMiJic1NCYnLgEnMCIjIgYHDgEdAjEVFAYjIiY9AjA0MS4BMTAmJy4BIyIGBw4BHQEOASMiJj0BNDYzMhYXNjI3PgEzMhYXHgEXMhYzMDYxPgE3PgEzOgEzHgEXFBYXHgEVBxQGKwEiJjU0NjsBMjY1NCYrATAiMSImNTQ2OwEyFhUUBisBIgYVFBYzMTAyMTMyFhceARUhFAYrASImNTQ2OwEyNjU0JisBKgExIiY1NDY7ATIWFRQGKwEiBhUUFjsBOAE7ATIWFx4BFQNcDBwRER0MCwwMCwwdEREdCwwMDAw5ChMHCAgIBwgSDAsSBwgHCAcIEgv9bwUIAQkVDAECAQEBAQIDAgEBAQEBAgEBAQEBAQIBCREIAQEBAQEBAQICAQEGBwEBAwoIAwcDAwEBAwEBAgEHEAgBAQIBAQECAQwVCQEHBAQFBwgGDwcIBxILBQkEAQUJAwYGAgEHCAgSCgsRCAgH0gEGBQIGAwkVCwICAQEDAQEBAQIEAgsTCQEDAQIDAQEBAQwMAwMDCQYBAwICBQICAwIFCQUBAgEBAgEBAgEBAQEBAQECAQIBDxkKAgQCAQEBAQgGBAYCAgMCCBILCxIIAQICAQIBAQN3AQQGAYMBBAICAwIIEgoLEggDBgIBAWQB7QkGBQgBBAQFCQUBAQYKBAUECAYGCAEDBAEFCgYGCgQFBAEIBQYICAYEBwIBAQEGDgcLEwgBAQEBAQECAQIBBxMLAQMBCREHAgEICd4bFDkGCAgGOAkMDAkZAhQcHBQ4BggIBjgJCwsJARoFCgUNDwIfHBM6BQgIBTkIDAwIGQEBFB0dFDgGCAgGOAkMDAgBARoFCgQNEAHiDAwMDAwdEREdDAwMDAwMHRERHQwECAgIEwsMEwcICAgHCBMLDBMICAhMBwU3CAkBAQEBAwkHAQEBAQEBAQMCAQEBChcNAQIBAgQBBAIBAgoTCAMFAwEBAQEBAQEDAwEBCgcGAQQHAQEIBbcGCIILEwgIBwECAgYEBQ0HAwYECxMICAgICAgTCwMCAwIJEAgECAMJDAIBBgYBAgEBAwECAQwdEQgPBwgNBwEDAQIEAQECAQIDAQEBAQEMCgMFAgECAQEBAwEGCAMDAgQCCAgIBwIDAQEBAwIDBwQBBwUBAQsECAMBAgQCCAgICAQIBQEEAgtcBQkHBl0GCwUEBAEFBAUKBgEBWwUJCAUBXAEECgUCBAUFBAULBl0GBwkFiQUJBQQBAQMEBwcBAgECAgECAQcHAQcGAQIBCBUMOxQcCAYGCAwICQsdExQdCAYGCAwJCAwCAgYYDhQcCAYGCAwICQsdExQdCQUGCAwICQwCAgYYDgACAEcADwO5A3EAMABPAAABLgEjIgYPARE0JiMiBhURJyYiBwYUHwEeATMeARc4ATEWMjc4ATE+ATcyNj8BNjQnEyEiJj0BNDYzMhYdARQWMyEyNj0BNDYzMhYdARQGIwL6BxEJChEHhxwUFByHDicODg7YAQIBAgMCCxgLAgMCAQIB2A4OJf3CQFocExQcIxgCPhgjHBQTHFpAAgkHBwcHiAHAFBwcFP5Bhw4ODicO2QECAgIBBQUBAgICAdkOJw7+BltA1BQcHBTUGSMjGdQUHBwU1EBbAAADABQAbQPsAxIAGQAzAEUAACUiJi8BLgE1NDY/ATYWFxYGDwEXHgEHDgEjISImJyY2PwEnLgE3PgEfAR4BFRQGDwEOASMFIiYjLgE3Ez4BFx4BBwMOASMBFgcPBtcHCAgH1w4jCwwDDbKyDQMMBhEJAdQJEQYMAw2ysg0DDAsjDtcHCAgH1wYPB/7HAwYDEREEnwUeERESBZ4EFw7eBQW4BhEJChEGtwwDDQ4jC5iXDCMNCAcHCA0jDJeXDCMNDgILuAYRCQoRBrcFBXEBBR8RAlAREgQFHxH9sA8RAAAAAAMARgAOA7sDcgAwADoAWQAAAQ4BIyImLwERFAYjIiY1EQcGIicmND8BPgE3PgE3OAExNjIXOAExHgEXHgEfARYUBwMyFhcmIgc+ATMBISImPQE0NjMyFh0BFBYzITI2PQE0NjMyFh0BDgEjAvsHEgkJEQeIHBQUHIcOKA4ODtkBAgECAwILGQoCAwIBAgHZDg77BgwFCxkKBQwGAR/9wkBbHBQTHCMZAj8YIxwUFBwBW0ACSAcHBweH/j8THBwTAcGHDg4OJw7ZAQIBAQIBBgYBAgEBAgHZDicOASoDAwYGAwP8nFtA1RMcHBPVGSMjGdUTHBwT1UBbAAAAAAYACABIA/gDNwAMADEAQABPAH4AiwAAJQ4BIzI2NzQwMQ4BBwEjNTQmJy4BIyIGBy4BIyIGBw4BHQEjIgYVERQWMyEyNjURNCYlPgEzMhYXES4BIyIGBxEFPgEzMhYXES4BIyIGBxEBIREzERQWFx4BMzI2Nz4BMzIWFx4BFx4BMzI2Nz4BNz4BMzIWFxY2Nz4BNREzESUwIiMiJiceARceARcCDAMGAwYLBQIGAgHBRgwKKmI0MFonJ1owNGIqCgxGEhkZEgOaEhkZ/kYgRyUnSCAhSCYlRiH+myBIJydIICFIJiZIIQLx/J4qCAcFCgUEBgQjVC4qTyICBgIDBgMDBgMCBgIiTyouVCMJEQgHCCr+TwEBBQsEAgYCAwYDtAECAwMBAQIBAhQsCxIEEREODg4OEREEEgssGhL92BIaGhICKBIaFAoKCwr+KwkJCAkB1QEKCwsK/isJCQkJAdX9tQHx/lQJEAUDAwIBDg8NDAECAQECAgEBAgEMDQ8OBAIFBRAJAaz+DyEEAwECAQEBAQAABAARAA8D7wNxACQAKQAuAEkAAAEjNTQmIyEiBh0BIyIGFREUFjsBFRQWMyEyNj0BMzI2NRE0JiMlIRUhNQEhNSEVNxQGKwE1NCYjISIGHQEjIiY1ETQ2MyEyFhURA4JrIBb+PxcfbC1AQC1yHhUBxhUeZi1AQC39tQGS/m4Bmf5tAZLTEw1lHxX+OhUecg0TEw0DBA0TAn2+Fx8fF71ALf7TLUA1FR4eFTVALQEsLj+np6f9OIODiA0TNRUfHxU1Ew0BLA4SEg7+1AAACABI//MDwgONAAEABAAVACYALwA4AEEASgAAATElMRUHJyYiBwEGFB8BFjI3ATY0Jw8BBiIvASY0PwE2Mh8BFhQHNxUXJzcHJxcHExUXJzcHJxcHJRU3LwEPAR8BNzM3BycXBzcXAh0BQiUZDikP/W0ODhkPKQ4Ckw4OD54ECgQmBASdBAsEJgQEKTIaGjIyGhthQC0OMEAtDf7SLi4QDS0uEHgBMkk3ETNJNwKYngFpGQ4O/W0OKg4ZDg4Ckw8pDi6eBAQmBAsDngQEJgQLA30BGjIyGhszMv7vAQ0vQCwNL0DIARANLS4QDS3aNxEySDgRMgAAAAABAOD/1QMaA6sAHwAAAQciBhcTFgYPAQYmJwMuAQ8BBiY1AzQ2NzYWFwEWBgcDE+YFAwG2AwYIUwgPA7UCBwKiCQwNBAUDBwcCIAgECwG3EwcD/n0IDgMpAwUHAYIDAgOiCAYNAtEGBwIBAQX+JwgMAgAAAAQAMwCmA8ICxgAbADQAUwB1AAABIiYnLgE3PgE3PgE3PgEXHgEHDgEHDgEHDgEjAyImJyY2NzYWFx4BFz4BNz4BFx4BBw4BIwMiJicuAScOAQcOAScuATc+ATM6ATMeARcWBgcOASMBIiYnJjY3PgE3PgE3PgE3PgEXHgEHDgEHFAYVDgEHDgEjA2IFCwUVDwgLEQYFBgIKKBQVDwgBBgQGEgoIGxC3Ok4dCw4TEyoLHSMFAw0JDSwSEQYPGzQb6w4YBxYcBQMUEAssERMJDRNAKwEEATJFFgsLEwcPBv6eCxgIDgUSAw0LAgECAQgECCkVFRAJBQcDAgwbEwgSCAG3AwIIKRUYKxAMDQUVDwgKKBQEDggQLBkQE/7vWzQUKgsLDRM1IQICCw0RBg8NLBEgIwFaDQ0mGgICExgTCQ0LLBIePwNMJhMqCwUE/sYKChErDgMVGQQDAgUQBxQRCggpFQ0QBQIBBBgvDgUGAAAAAQBaAKsDrwLEAEAAAAEOAQcOAQcOASMqASMmJy4BJyYnLgEHDgEHDgEHDgEHLgEnPgE3Njc+ATc2MzEyFx4BFxYXHgEzMjY3PgE3HgEXA68NFQ0TJxULRDwBBgElHBwvFhUYEDwjIzMQFCcUBRMNEBYGDBgNFxYWMR0dJSgeHzIWFxgQOyEgORAbNCAQGwYCERo4HSlTIBFKAhQUQywsMiOUAgGLICpSIAgWDR1DJRgzGzMtLUITExQVRS4uNCGQkCE9bSMdQCUAAAAABQBPAA8DsQNzAFQAXgBoAHIAfAAAAQcGIic4ASMuAT0BIxUzMhYPAQYiLwEmNjsBNSMVFAYvAiY0PwM2Fh0BMzUjIiYnOAExJjQ/ATYyHwEWFAc4ATEOASsBFTM1NDY3NjIfARYUByUxByImJx4BOwE3DgErATUzPgE3Ey4BPQEzFR4BFzUOAR0BIzU0NjcDscQCBQICAwW6JAsMBFEEDgNRAwsLJLULBo01CwszBIsGC7UmBgwBAgJTBQ4FUwEBAgsGJ7oDAwIGA8QLC/4pJQgJAgILBiWCAgkIJScECgOGBQYDAQQDAwMCAwUBs1MCAgILBie4CwbCCwvCBgu4JQsLAzwXBQ0EFQI6AwsLJboEBAIFAsQLC8QDBAIDBbonBgoDAQFTBQ4F6QIFBQMFBgUGAwEEA/6+AgkIJCYFCQO8AwoGJyQIDAIAAAABAG8ALwOzA28ALgAAAQcGJj0BIxEUBiMiJjURISImNTQ2MyE1IyImPwE2Mh8BFgYrARUzNTQ2HwEWBgcDscQICboWDg8V/rkOFhYOAUcnCwsDUwUOBVMDCwsnugsGxAoBCwGzUwMLCyf+uQ4WFg4BRxUPDha4CgfECwvEBwq4JwsLA1MEDQUAAwBj/8ADngPAASYB3AILAAABIgYjDgEHDgEHMAYxIgYjOAExDgExBiIHMAYxDgEHDgEHMCIxDgEHDgEnIiYnLgEnLgEnLgEnLgEnLgEnLgEnLgEnHgEXLgEHNjIXJgYHMCIxIgYjBiIHOAEjDgEjDgEHDgEHPgE3DgEHMjYxDgEHDgEHOAExDgEjFDAjOAEVIzAGBzAGMQ4BIwYwByIGIw4BBzAiMQYwBzgBMQ4BByoBIzEiMCMuASceARcuASciMDE0IjEiJjUuAScmJy4BJyY3PgE3HgEXMRYXHgEXFhceARcVPgEzPgE3PgE3MDYzLgEnJicuAScmJzY3PgE3NjEwFx4BFxYXDgEHDgEHDgEHMhYVHgEXHgEzMDIzOgE3MT4BNzY3PgE3NjcwNjceARcWFQ4BBwYHBzAGIzAGMQ4BIzgBIw4BBw4BBw4BDwEOAQcGIhUiMDEOAQcwIjEOATEOAQc4ATEOAQciFCMiBgciBiMwBjEwIjEOASMwIjEUIjEwIiMOAScuAScwJiM4ATEiJjEiNCMiJic4ASMuASc1LgEnLgEnLgEnLgEnLgEnLgEnLgEjDgEHMAYxDgEHDgEHDgEHDgEHDgEHDgEHPgE3DgEjMjY3DgEjBiYnFhceARcWFzY3PgE3NjcOAQcFDgErASImJy4BJzI2Nz4BPwE+ATc+ATMxHgEXHgEzMjY3MhYXHgEXHgEXMhYzBwOAAwYDCBAHBAcEAQECAQECAQEBARQhEQgQCQEBAgEKFw0KEQgEBwQFCwUBAQEBAgEEBwQGCwULFg0CAwIQJBMECAUHDwcBAQMCAQMBAQEEAgcOBgoQCAECAQMGAwECCRIKBAgFAQEBAQECAQEBAQEBAQEBAQEBAQEBAQkSCgEBAQEBBQsFAgUDCRAHAQEBAQgOBhAMCw8CAgQOHA4BAQELDAwaDQ4OCxgPAQEBAwgDBg4HAQEMFggQDQ4ZCgsKRDc3TBQVFRRONzdFGDAaECcZAQMCAQEHDwgECQQBAQECARwqDw8ODhkLDAoBAg0aDgMBBwcGCRgBAQECBAIBAwYDBAcDAgMCARIkFAEBAQEBAQEBAgIEAgICAQEBAQEBAQEBAgEBAgEBAQEBCxgNChIJAQEBAQEBAQEBAQ8aDQYLBQMFAwEDAgECAQQJBQQKBQcPCAkQBwEEBwMFCAQHDwcLGQ0GDQcCBAICBAIMGQwJEwoIDwgLFwsrMzRcIiMJCywscTs6JgIDAv7+FzIaARszGgwYCwEBAQYOBwQCBAEBAQEKFAoNIRQNGA0BAQEJEQkCBgMBAQEBAdABAQQDAQQCAQIBAQEBAQ0iEAgQBwECAQgLAQgEAwUDBQoFAQEBAQIBBAgEBgsFChIHAQIBCgsBAQEBAQEBAQEBAQMHBAYPBwECAQMGAgIIEgkECAQBAgEBAgEBAQEBAQIBAQEBAQYIAQECAgEBAQIJBgEBAQYNBy0zM3JAP0YBAQIDBQMoKCdNJiYlGjodAQEBBAcDBg0GAhoyFiYnJ00lJSINExQmDg4ODiYUFAxXk0IpVCcCBQMBAQYKBAICAS1aJSYnJ04nJiUGBQIBATUyMVwqKiZBAQEBAwMEAwMGBAEEAQESJQ8BAQEBAQEBAgIBAQEBAQEBAQEBAQEEBAIBBgQBAQEBAQkWDAEFDAUDBgICAwEBAgEFCAMEBwMEAwEGBAECBgIECQQHDgcMFwoECQMBAgEBAgEGBgMEAwQCBARZPj5OFBMEBRoZbVdXfwEBAYwVFRcXDBsPAQEGDQcFAgMCAQEPFwkNFgoJAQEIDQUCAwIBAQAAAAIAE//TA+0DrQAtAFsAAAE1NDY3NhYfAR4BFRYGDwEOAScuATc1IRUUBgcGJi8BLgE3NDY/AT4BFx4BBxU3IyImJyY2PwE+ATM2Fh8BHgEHDgEnIxEzMhYXFgYPAQ4BJyImLwEuATc+ARczAxwGBQYOCZ8FBQEFBp0JDQcFBgH9xAUFBg8IngYGAQUGngkOBgUGAd9rCw8CAgUJnwUOCAcOBp0JBgMDDQxrawsOAwIGCJ4GDQcIDgaeCQUCAg4MawH+awsPAgIFCZ8FDggHDgadCQYDAw0Ma2sLDgMCBgieBg0HCA4GngkFAgIODGveBgUGDgmfBQUBBQadCQ0HBQYB/cQFBQYPCJ4GBgEFBp4JDgYFBgEAAAABABMA+wPtAoUALQAAATU0Njc2Fh8BHgEVFgYPAQ4BJy4BNzUhFRQGBwYmLwEuATc0Nj8BPgEXHgEHFQMcBgUGDgmfBQUBBQadCQ0HBQYB/cQFBQYPCJ4GBgEFBp4JDgYFBgEB/msLDwICBQmfBQ4IBw4GnQkGAwMNDGtrCw4DAgYIngYNBwgOBp4JBQICDgxrAAAAAQE7/9MCxQOtAC0AACUzMhYXFgYPAQ4BIwYmLwEuATc+ARczESMiJicmNj8BPgEXMhYfAR4BBw4BJyMCPmsLDwICBQmfBQ4IBw4GnQkGAwMNDGtrCw4DAgYIngYNBwgOBp4JBQICDgxrpAYFBg4JnwUFAQUGnQkNBwUGAQI8BQUGDwieBgYBBQaeCQ4GBQYBAAAAAAEAFQEEA+sCegAeAAABITU0JicmBg8BDgEVFBYfAR4BNz4BPQEhMjY9ATQmA9z8/gYFBQ0IlQUGBgWVCA0FBQYDAgYJCQH8ZAsNAgEGCJYDDAgICweVCAYBAg4KZgkGVgYLAAABABUBBgPrAn4AHwAAExUUFjMhFRQWFxY2PwE+ATU0Ji8BLgEHDgEdASEOARUVBwgDAgYFBQ0IlQUGBgWVCA0FBQb8/gYJAetWBAtmCw0CAQYIlgQNCAgNBZUIBgEDDQpkBQwEAAAAAAIADwDLA+8CtwA+AEQAAAE4ATEOASMhFRQGBwYmLwEuATU0Nj8BPgEXHgEdASE6ATMxMjY3OAExPgE1PAE1NCYnNDY7ATIWFRwBFRYGBycOASMyNgNmFC8Y/awDBQUMB4AEBAQEgAcMBQUDAlQBAQIIDQcpOQEBBgRNBQgCTD87Bw8GCA0BTQgJWgkLAwIECIAFCgcGDAOABgYBAgwKVwICCkctAycYFSkNBAgGBhptBkdxGVMCAgIAAAAAAQBr/9EDlQOvAB8AAAURIyImJyY2NwE+ARcyFhcBHgEHDgErAREUBisBIiY1AW/LGB0EBQ0RAUULGhARGwsBRxENBQQdGM0RDeQNERECEQwLDR4RAUcLDAIKC/65ER4NCwz97w0REQ0AAAAACQAA/8AEAAPAAAMABwALAA8AEwAXABsAHwAjAAA3IREhESERIREhESEBIREhFSERIRUhESEBIREhFSERIREhESEAAQD/AAEA/wABAP8AAYABAP8AAQD/AAEA/wABgAEA/wABAP8AAQD/AMD/AAKA/wACgP8AAQD/AID/AID/AAKA/wCA/wAEAP8AAAAFACb/wAPaA8AACAAMABYAGQAhAAABNSEBETMVIRElFSM3AyMRNzUhFSMBERMVIwEhETM1IREjAvf+Nv754wLR/TtoaAyS7wFDmP747mgB+v3O8gFCAgMEvP7z/cm8A0QxaGj9mAGvAvFt/vX+1gGtaf4AAa/z/V4AAAAAAwANAAAD8wNiAAsAGwAsAAAlASYiBwEGFjMhFjYlIyImPQE0NjsBMhYdARQGJyMiJj0BNDY7ATIWHQEUBiMD8/46EzUS/joTGyUDjyQZ/idaCAkLBloICQkIWggJCwZaCAkJCE0DFSAg/OsgLQIvTwoHVQgJCgdVBwrGCwb+CAkLBvwICwAAAAEBEf/AAu8DwAAUAAAFIxEjNTM1NDY7ARUjIgYdATMHIxMCUcCAgFGAjVoxE54TjQJAAgCxaWt7sSUhWLH+AAAIAAkARgP3AzoAEAAhADIAQwBTAGMAdACEAAATERQWMyEyNjURNCYjISIGFRMjIiY9ATQ2OwEyFh0BDgEjNSMiJj0BNDY7ATIWHQEOASM1IyImPQE0NjsBMhYdAQ4BIwEhIiY1ETQ2MyEyFhURFAYzIyImPQE0NjsBMhYdARYGJyMiJj0BNDY7ATIWHQEWBiM1IyImPQE0NjsBMhYdARYGCQsIA8gICwsI/DgIC6hVCAsLCFcICwEMCFUICwsIVwgLAQwIVQgLCwhXCAsBDAgCOP4uCAsLCAHSCAsLs1cICwsIVwgLAg0IVwgLCwhXCAsCDQhXCAsLCFcICwINAyb9NAgMDAgCzAgMDAj9XgsIWAgLCwhYBg38CwhYCAsLCFYIDf4LCFgICwsIWAgL/gYLCAJPCAwMCP2xBg0LCFgICwsIWAYN/AsIWAgLCwhWCA3+CwhYCAsLCFgICwACAAoAGgP3A2IAHABFAAABIQYHDgEHBgcOAQcGJiMhNjc+ATc2Nz4BNzYWMyUhIiYHDgEHDgEHJjUmNDU2NTQ2NzYWOwEyFh8BFjYzMjYXHgEXFgYXAS8CyA8QECAREREGDBISORn9Nw4PDx8PDw8IDRoUNhoCQP36LGQkQSwVCRUIAgEBECkrbDZmL0kPCxBsNx1WGgsWAwkMBQHXLy8vXzAvMBUhCAcDKy4vXzAvLRgsBAcFVgUJEHBAID4ePUBAhEJCQTA6BQUFBCAzKAEGCgUVCBtZHQAB//4AIgQAA14AIAAAAREOAQchLgEnNjU2NDU0NT4BNzMeARcWMzoBNzIzHgEXBAAFJiL8mCAnBgEBBSYi6FQ+TjIzNGg1NDQiJQYCi/3mIiYHByYiVFRTqFNUVCImBwVyCwMBBSkhAAMACQATA/UDawAQACEAMgAAEyEyFh0BFAYjISImPQE0NjMRITIWHQEUBiMhIiY9ATQ2MxEhMhYdARQGIyEiJj0BNDYzLQOkDhYWDvxcDxUVDwOkDhYWDvxcDxUVDwOkDhYWDvxcDxUVDwNrFg9KDxYWD0oQFf6eFg9KDxYWD0oQFf6dFQ9LDhYWDksQFAAAAAUABgAeA/wDZgAoADkASgBWAGIAACU0JicwJy4BJyYnLgEjISIGBwYHDgEHBgcGFhcVFBYzITI2Nz4BNT4BAT4BMyEyFhcTITY3PgE3NjcBFAYjISImPQE0NjMhMhYdAScUBiMiJjU0NjMyFhcUBiMiJjU0NjMyFgP8AQQUFDMXFwUMNCf97RozCAQXFjQWFQQDAgE3IwM1GCEMDhIBAfzoBRIFAfoEFgNp/P4EDw8jDw8DAsIOC/zoCw4OCwMYCw7zHhUVHh4VFR6nHhYVHh4VFh6VSoIKQUGfRkYMGCokGQtERJ5DRAgKfzMzGkIUCg4lDwENAm4OBwcO/soLLy5pLi0K/YwJDg4JzQoODgrNaRUeHhUVHh4VFR4eFRUeHgAAAAACADP/0QOxA7EAGAAxAAATJjQ3ATYmLwEmBgcBBhQXAR4BPwE+AScBISY0NwE2Ji8BJgYHAQYUFwEeAT8BPgEnAdcEBAFSDAIPJA4lDf5zDQ0BjQ0lDiQPAgz+rgGJBQUBUQ0DDiQPJQz+dQ0NAYsMJQ8kDgMN/q8BtQUOBQGEDiUNIA0DDv41DigO/jcOAw0gDSUOAYQFDgUBhA4lDSANAw7+NQ4oDv43DgMNIA0lDgGEAAACAA8ANQPxA0sAXgCgAAATIiYnLgE1NDY3PgExMDc+ATc2PwM+ATc+ATM2FhcwFx4BFxYXMBYzNiY3NDY3NhYzMjYXFgYVFAYXHgEXHgEXHgEVFAYHDgEHKgEnLgEjJicuAScmIyIHDgEHBicBJjY9ASYiBwYVHAEXFBUUFgcGJisBKgEnLgEnJjY9ATQmNz4BNwE+ATMwNjMWFx4BFxYXFgYdARQWBw4BBwYiKwFJChAEBRcQCgMQMjOAOjoPDQsGCA4IBREBEh0LFRUzFhYCCQEEBQEDAgg2DBAzCAUBAwMCCQYUTwIEEwwFBRgJBAYDBRUCFkFBijc2AgJDQ6JFRAQCBgICApoCAQECAgI5BYISIAoDDAIFAQICAQwIAUQCAQICAgY3OII1NQECAgEFAgwDCyESwAF8EQgIFQoIDggDDCorajEwDAsLAgYOAwIDAQcJEhIrEhIBCANoDgIKAQgBAwoGmSUSJAoFBwUQRAEFDQgIDwcGHwECARYTNjZyLS04OIY3OAH+uQIyCLECAgEYGUMiIxUDGQIBAQUBCwULKxbFCxYFBwYGAQsCAgIDLS1qLSwCBRgLxxQrCwQMAQUAAAIAAABABAADQAALABAAAAEUFjMyNjU0JiMiBgEhCQE3AwBLNTVLSzU1SwEA/AABAAFVqwLANUtLNTVLS/1LAqv+VYAADAANAJED8QMNAA8AIAAxAEIAUwBkAHUAhQCXAKcAuADIAAAlISImNRE0NjMhMhYVERQGASIGFREUFjMhMjY1ETQmIyEXFAYrASImPQE0NjsBMhYdATMUBisBIiY9ATQ2OwEyFh0BMxQGKwEiJj0BNDY7ATIWHQEzFAYrASImPQE0NjsBMhYdAQUUBisBIiY9ATQ2OwEyFh0BMxQGKwEiJj0BNDY7ATIWFRcUBisBIiY9ATQ2OwEyFh0BIzMUBisBIiY9ATQ2OwEyFhU3FAYrASImPQE0NjsBMhYdAQMUBiMhIiY9ATQ2MyEyFhUDk/zYJzc3JwMoJzc3/LEMEBAMAygLEREL/NiXCQg1BwoJCDUGC5UJCDUGCwkINQcKlAkINgYLCQg2BguTCQg2BgsJCDYGC/6gCQg2BgsJCDYGC5MJCDUHCgkINQYLkwkIMwYLCQg1BwoCkwkINQYLCQg1Bwo+CQg1BgsJCDUHCnsJCP6IBgsJCAF6BguROCYBwCY4OCb+QCg2AjgRC/5ACxERCwHACxGNBwoJCDUGCwkINQcKCQg1BgsJCDUHCgkINQYLCQg1BwoJCDUGCwkINZgGCwkINgYLCQg2BgsJCDYGCwkINgYLCQg2BgsJCDYGCwkINgYLCQhiBwoJCDUGCwkINf7iBwoJCDUHCgkIAAIAYv/JA6ADtwAhACoAAAE0Jy4BJyYjIgcOAQcGHQEjIgYVERQWMyEyNjURNCYrATUhNDYzMhYdASEDFRIRRjQ0REQ0NEYREkUcKDAhApwiLycdR/5LTlJTTf7AAqY0MTFNFxcXGE0xMTOzLyL+eCIvLyIBiCIvszhmZDqzAAAAAQALAVMD9QIvABQAAAEGJiMhIgYnLgE3NhYzITIWFxYUBwP1EYY4/bY6ghMKAgoRhjoCpCs+DAoKAXUkAgUlEnEXJQMFHRVvFAAAAAQABgCkA/wC3ABjAH4A7gEMAAABBw4BBw4BBw4BIyImJy4BNTQ2Nz4BMzIWFx4BFRQGBw4BHQEXMjY3PgE3PgE/ASM3MjY3PgE3PgE3PgEzMhYXHgEVFAYHDgEjIiYnLgE1NDY3PgE1PAEnJiIjIgYHDgEHMw8BJQcOAQcOAQcOARUUFhcHLgE1NDY3PgE3PgE3BzceARc+ATc+ATc+ATMyFhceARUUBgcOASMiJicuASMiBgcOAQceARceATMyNjc+ATcXDgEHDgEjIiYnLgEnLgEnDgEHDgEHDgEjIiYnLgE1NDY3PgEzMhYXHgEzMjY3PgE3PgE3LgEnLgEjKgEHNxM3PgE3PgE3PgE3PgE1NCYnNx4BFRQGBw4BBw4BBwERJA0ZCw0bEBAmFA0TBwYHBgUFDQoGDAMDBAMCAQMEBQcDCAwEAwoIQCsLCxIFBQwEEiQTEyoWDxUHBgcEBQUKBgcKBQQEAwEDAQIBAwIKEwkQGgotCyYBQAYXIw8WJA4PDQwLBCopDQ8QMCIYOyIibQ4VBQ8YBgoSBgcPBggNBQQEBAQFCwgFDAYHCQEHDQYIFA0NFggFCQUFBwMFDQoLDxoNCRQJChAGBwwFBA0GEhwMCRIHBhAICAwFBQQGBQUMCAUKBQgKAwUHBQUMBwQQDA8YCAUNCAUKBgTXBxEfDAwaDQ0VCAwKDQsFKSoODhAxIRo6JAIgjzNKFhciCwwKBgUFDAYHCgUFAwMDAwkFBQcDAwICAgIDBAgRCwYmH/ckAwQDDQsgLQ0ODgYFBg4KCA0EBQQEBQQIBwMJBQUGAgEDAgIMCxI5KCUEvBEQJBUgTy8uVygZORwSOHA2IEAeJUEcFSMPohMXMx0XHwgNDgUDBAQFBQwICAsFBQMCAgEDBAQHGhUuOQoGBwMCAxANBxYeCgYJBAUFDQoJIBcXIgwLDQMEAwQFBQwGCA0FBQYDAgMDAwECCwYFFBA2QwsHCAIL/nsRDRwPDisaGzoeKEokGTkdEThwNiBAHiVAHRUjDwABAAAAJAQAA14AGgAAASIjBiIjIicuAScjDgEHER4BFyE+ATcRLgEnA7EzNDRoNDMyTD9V6CImBQUmIgNmICcGBiYjAtoBAwtyBQcmIv1kIScHBychAhghKQUAAAQAAAAiBAADYAADAAcAEwAYAAATESERAyERIQUUFjMyNjU0JiMiBhMhEwE3AAQAQPyAA4D/ADgoKDg4KCg4wP0AwAEAgANg/MIDPv0AAsCgKDg4KCg4OP34AgD+wGAAAAcACf/NA/oDswAEAAkADgATABcAGwAfAAATESERIQEhNSEVNyE1IRU3ITUhFQEhNSE1ITUhNSE1IQkD8fwPAer+SwGzAv5LAbMC/ksBswHR/lEBr/5RAa/+UQGvA7P8GgPm/EnGxubT0/XHx/4lxiDTIscABAAEAPUD/AKLABEAIwA1AEcAABMVIzU0Njc+ATcXDgEHDgEHMwUVIzU0Njc+ATcXDgEHDgEHMzc1MxUUBgcOAQcnPgE3PgE1IyU1MxUUBgcOAQcnPgE3PgE1I6SgDQ0RNyUkFiMJCwsCTwEAoA0NETclJBYjCQsLAk+4oA0NETcnJBYhCwsNTQEAoA0NETcnJBYhCwsNTQGrrYg4UBgiMRI6ChwRFDYjAq2IOFAYIjESOgocERQ2IyitiDhPGSIzEDoKHBQTNiECrYg4TxkiMxA6ChwUEzYhAAAAAAIADf/LA/MDtwAQACEAAAUhIiY1ETQ2MyEyFhURDgEjKQEiJjURNDYzITIWFREUBiMBi/6qEBgXEQFWEBgBFxACQP6qEBgXEQFWEBgXETUXEQOcEBgWEvxiEBYXEQOcEBgWEvxiEBYABAAC/8ID/gO+AAcAGwAgADEAAD8BJwcVMxU3ATQmIyIGBwEOARUUFjMyNjcBPgEnCQEhEQEUBg8BATc+ATMyFh8BHgEV9z6gPlZKAV4HCAMGAf6TAgIHCAMGAQFtAwEkARj90f7oA/wNDW/+6W8NHRIRIAyeDQ0aPZw+SFYDAm8IBgIC/pMBBgMIBwICAW0BBoT+6P3RARgB7xIfC28BF28NDQ0NngwgEQAAAAEAN//NA8kDsQAhAAABFgYHBgcOAQcGBw4BJy4BNRE0Jjc2FhcWFx4BFxYXHgEVA8kBJQtlZGPGY2NkCyINCQQBCA4rDWNiYsRjYmMNJQHCDRcEODc3bjY3NwYWBwUZFQM3HFQKDhsINzc2bDc3OAYTCwAAAQAR/80D8wO1ADAAAAEWFAcGJisBBhYVFAYHBiInJjY9ASMiBicuATc2FjsBNiY1NDY3NhYXFgYVESE2FhcD8woKEYQ4tQMBBR0TbxQkArU4ghMJAwoShTizAwELLTFgDQYCAREoPQ4CCxRuFCQCO5FDKz4OCgoRiDizBSUScRUkAjuQRDNEBAcLIhAzFf7yAwUcAAMAD//NA/MDswA3AGcAfQAAARYHDgEHBgcGBw4BBwYHBicuAScmJyYnLgEnJicmNz4BNzY3PgE3PgE3NhceARcWFxYXHgEXFhclNicuAScmJyYGBw4BFRQWFx4BMzI2Nz4BFxYGBw4BBw4BFxYyMzoBPwE+ATc+ATcDPAEnLgEHBhYVFAYXFjYzMhY3NiY1A/MECAkkGRkdHSMkVDAwNzk2NV4pKCAhHBwqDg0EBggIIxoZHh5BKyhnOD02NV4nJx8eHBwrDw4E/tMPCgszJSUnK0AgECwZCQoUCwgLBBxZCQo6GBUhBgMECQcpEBMmCQkIORgPGgaKBRhGGxABAwkKKBAPKwYIAwHiPTU2XScnICAcHCsNDgQECAkkGRkdHiQjUzAwNz42NlwmJyAgNhcVHQUECQkkGRkcHCMkVTExNycwKSg7EREEAw8OCB0QDxYMDB0KAxIFKCUvFRMtGQ9GCQcHQhooGg4oF/6mECENAwcGAygVDioKCgQCCgonDQAAAAABAA0AqwP3AtUAOgAAASYnLgEHBgcOAScmNjc2Nz4BNzYXFhceARcWFzY3PgE3NhcWBhUUFhUUFgcGJiMiJiMiBicmNjc+ATcCs01QUKJQUE8LFQgSThMoKChRKSgoODU2ajU2Nw0XFi8UFQwRBwIGIxVAGDdpOBFOCwowERUmFgFiSzU2MQkJMwgICBFHDiEXFxwFBgMDDg40Jyg1BxkYMA8ODhRCFDRoOhhRFwwCAgQVETASFiYVAAAAAAEAC//JA/cDtwBiAAAlFAYHDgEnLgEnJicuAScmJwYHDgEHBgcOAScuAScuATc+ATc2Nz4BNzY3JicuAScmJy4BJyY2Nz4BFx4BFxYXHgEXFhc2Nz4BNzY3PgEXHgEXHgEHDgEHBgcOAQcGBwEeARUD9yIPECYjGzYRICIiRCEhHyIiIkMjIiMVNyUWIQsQKwgGOhMfIyNGISIdHiEhRSMiIRM6BggnEhArJRgyESEiIUIgIB8iIiFCIiEjFDwlFSANEigHBTkVICIiRCIhIAERFTxLHSAOECwFAzoUICIiRSIiHyAhIUMiIiMVQQUDIQ0QKiEaMxMgIiNGIiIeGyEhRiMiHxEyGCUoERAvDAY6EyEhIUMgIR8gICFDIiIiFUEFAyENESkhHTATICMiRiIiIP7zEjQeAAIAC//NA/MDtwA5AFQAABMmJyY2NzY3Njc+ATc2NzYXHgEXFhceAQcOAQceARceARceARcWBicuAS8BBgcOAScmJyYnLgEnJicFFjc+ATc2Jy4BJy4BBw4BBw4BFxYXHgEXFhciEwQFEBITGhoiIlIwMDVFPTxjJiYZGyYDAyggCxwPHDofDiEGD0MwEh8NryEvL2o3NzErJiY/GRkQAVFLRkZhEhEfE0IrG04vUW4YEA8BAxESNyUlKgF6NDY2Zy8vJSUfIC8PDgMFEA87JycpL3lFQ24tEB0PHTggDiASLUcSBiINrRwSEg0FBhMQGRlAJiYsdBAXGGZJSFExTBYOEQMIWDEgTCguKCg+FhUKAAAAAAL//v+8BAQDwgCUAKAAAAEuAScuAScmNjc+ATc2Ji8BLgEPAQ4BJy4BJy4BJy4BKwEiBgcOAQcOAQcGJi8BJgYHDgEHDgEXHgEXHgEHDgEHDgEHDgEdARQWHwEeARcWBgcOAQcGFh8BHgE3PgE3PgEXHgEXHgEXHgE7ATI2Nz4BNz4BNzYWFx4BFxY2PwE+AScuAScuATc+ATc+ATc+AT0BLgEnASImNTQ2MzIWFRQGA+IVKRUNGQUFBAgMGgsIAwpbChwLRQsfCwsSAwIFBAEWDYANGAEFBwMCEwsLHwxECxwKFi8XCQMIDRkLCAIDBRkNEykVDRMTDVMNGQUFBQcMGgsIAwpbChwLEiMSCx0LCxECAwcFARcOfg0WAQMHBQITCwsdCxIjEgscClwJAwgNGQsIAwQFGA4VKRUNEwEUDf4eS2xqTUtsbAImBAcEAhMLDB4MESMQCxwKXAkDCDEIAwUEGQ0SKBUNExMNFSkVDRkFBQYIMQgDCRguFgocCxIhEQwfCwsRAgQHBAEXDoANFgMNAhMLCx8MESMQCxwKXAkDCA0ZCwgCAwUZDRUpFQ0TEw0VKhYNFwUEAwgNGQsIAwlcChwLEiERDB8LCxECAwcFARcOgA4VA/7jbEtLbGxLS2wAAAAAAgAJABcD/ANpADAAdAAAAR4BBw4BBw4BBw4BJy4BPQEGBw4BBwYHDgEjIjY3PgE3Njc+ATc2NzYmFx4BFx4BFwMGFgcOAQcGJiMhIgYnLgEnJjY1NCY3PgE3NhY7AQ4BFQ4BBw4BBwYmKwEiBgcGFhURHAEXFjYzITI2NzYmNz4BNz4BA8AONggFKQ4iPyMLLRMQAVtRUH4rKxACCAkXBgIIQjIkKClgODdCCA8eFyQOHkAiFQQJCgxQOyZUKP6+KFElM04DBQUFBQRbPjx2O+0CAhosFhMnFSNVJE8sPQoIBCgaZh4BlCw8CwUHBgITBxUlAq0PLSIVJBAhPyILMQUFORVkAQ8PRDY2TwsSWRNYgi8gGBggCQgBGpIDBCoOHz4j/q86YCg0SgUDAwMIC1U5PYlFRYg8Q1gFBAQQHxEFBgcEFAEFBQwdGFIg/ug2ag8JBQofECoUBw0GEysAAAIAM//PA7EDsQAYADEAACUGFh8BFjY3ATY0JwEuAQ8BDgEXARYUBwEhBhYfARY2NwE2NCcBLgEPAQ4BFwEWFAcBAb4NAw4kDyUMAYsNDf51DCUPJA4DDQFRBQX+r/51DQMOJQ4lDQGKDQ3+dg0lDiUOAw0BUQUF/q8vDiUNIA0DDgHJDigOAc0OAw0gDSUO/noFDgX+fA4lDSANAw4ByQ4oDgHNDgMNIA0lDv56BQ4F/nwAAAcACf/NA/oDswAEAAoAEAAWABoAHgAiAAATESERIQEhNSEVMzUhNSEVMzUhNSEVMwEhNSE1ITUhNSE1IQkD8fwPAer+SwGzAv5LAbMC/ksBswIBz/5RAa/+UQGv/lEBrwOz/BoD5vxJxsbm09P1x8f+JcYg0yLHAAIAAv/pA/oDlwAZADIAAAERIRE0Nz4BNzY3Njc+ATc2NxcOAQcOAQczBREhETQ3PgE3Njc2Nz4BNzY3Fw4BBw4BBwF+/oQEBBALDA8WGxpCJicsVjdPGBodA7oCYP6EBAQQCwwPFRobQSYmLVY3TxgaHQMBgv5nAURBOTlfJicdJyIjOxkaFIgWRCwtgVcC/mcBREE5OV8mJx0nIiM7GRgUiBdDLSyBVwAAAAADAAD/xAP6A8AAJABJAG4AAAERFAYHDgErASImJy4BPQE0Njc+ATsBNTQ2Nz4BOwEyFhceARUFNCYnLgEnLgEjIgYHDgEHDgEVFBYXHgEXHgEzMjY3PgE3PgE1MxQGBw4BBw4BIyImJy4BJy4BNTQ2Nz4BNz4BMzIWFx4BFx4BFQJRAwMEBgXTBQcDBAMDBAMHBZUDAwMHBSsFBwMBAwETGRgYQigqWjEyWiopQRgYGRkYGEIoKloyMVoqKkAYGheWIyIhXTs7f0ZFgDs7XCMgIiMhIl07O35HRYA7O1sjICMCrf7XBQYEAwMDAwQGBSsFBwMDA+kFBwMDAwMDAwkD6zJaKSpBGBkYGRgYQygpWjIxWykqQBgYGRkYGEIoKVwwRYA7O1sjIiMjIiFdOzuARUWAOztcIyEjIyEiXTs7gEUAAAABAAAAIgQAA14ASwAAAQ4BBz4BNw4BBy4BIyIHDgEHBhUUFhcmJy4BJyYnDgEVFBYXLgEnFRQWFw4BIyImJx4BMw4BIyoBJxYXHgEXFjMyNz4BNzY9AT4BNwQAHT0gIDELHkMlHVAtKyYmORARAwNAPT1vMDAoDA8yLBowFmBIDRwOChUKFWtENoRKDRkLIyYmUSsqLZFvcJcnJx81FQL+DRAFEzslEhkIHiQREDkmJisNFwsDERE4JygwGDQdNlwdAg0LAk1yEAQDAwI/UykwAhYSERgHBjY3rGpqaBwVNiAAAAABAAsAqQP1AtMAOgAAAR4BBwYmIyIGIyIGJyY2NTQ2NTQmNzYXHgEXFhc2Nz4BNzY3NhceARcWFx4BBwYmJyYnJgYHBgceARcBoBIvCgtOEThpNxhAFCIEAgYQDBUVLhcWDTg1NWo2NTgoKShRKCgoEk8SCBULT1BQolBPThUmFgEPEjAREwICBA4XURg6aDQWPxUODg8wGBkHNSgnNQ4OAgMGBRwXFyEORxEICAg0CQoxNzZLEyYYAAAAAAIAAP/EBAADvgBaAN4AAAEuASMuAQcOAQciBgcGBw4BBwYdAR4BHwEeAR8HHgEVHwMeARceARceARczHwIeARceATMeAR8DHgEzHgE3MjY/ATY3PgE3NjU0Jy4BJyYnBRYGFx4BFx4BNzYmJzYWFx4BFx4BFw4BBx4BFx4BFz4BNz4BNz4BNyY2Jy4BLwI2Jic+ARc2MjMXMyc+ATcuASc+ATM2JjU0NjU2JjcOAQciJicmNjcnBiYHDgEHLgEnPgE3MzIXHgEXFhUUBw4BBwYjIicuAScmNTQ3PgE3NjceARcCsQMHBShXMDFZJwEGAUY6OVMXFwIDBAIDCQUECwQTDQINAQMNBhENBw0ICAsEBAUCAg0CDQMHBQEGAQIEAxEXKwUHBSNLKh43GghTRkZmHRwZGFk+PUr+aw0OAwEQBgUNDgQSBQcOBxU6KAUQBQ4jERAnEwQrIAUKBQQFDhVVGAUQBwQpCrEcBRUMDRgTBikVCRcKESQTAgYFBREGAw4YARwIECcMCAwFAygKDxUjDxERDwwbEAYQCBNXTUxyISEhIXJMTVdXTUxyISEKCygcHCINFQcDogICDQwBAhIOAwIcMC96SUlQKw4bDg0OHQwNGgonFQQUAQMCDwkTDwYNBgUJAwIFAggDCAIFAgEDAQIBCQoRAgMJCQEIBQIVLi+CUFBZU0xLfi8wG8QbPB4MGAsKHQsLGAoBEAcTHQMLEgkVJxMVIBJYiDsECwYmQBolOiUbLhMTChATFx0dDQkhDgwqKggUBwgMBQMBBwMDCAsFDBQTBxkRAgIiExQqAwwEBCMGAwYBECAOISFzTE1WV01MciEhISFyTE1XMS0uUyQkHQYSDgAAAAACABH/zQP8A74APgBEAAABJQYHDgEHBicGBw4BBwYHDgEnLgEnLgE3PgE3Njc+ATc2Nz4BNzYmJyY2Nz4BNzYWFw4BDwEOARUeARceARcBNiYHBhYC4gEaCx4fYUJBUCwtLlstLiwYRzITJRAaLhsOPhghIB8/ICAhCiQDAgsBBTIiJGg+VG4rSYxEFgEFAS8JEBwQ/eQqGS40HQIGZUM3OEoODhEpLS1bLi4sGDAXCCYQGFYwGTcYIR8fPiAfIgohCAopDUJvJCg6BQY2KBk1GG0IFgYLIgYQGgz+Og5eCglrAAABAAL/xAP8A7wALQAAJRceAQcOASMhIiYnLgE1ETQ2NzYWHwEBJy4BNz4BMyEyFhceARURFAYHBiYvAQEiawsJAwMUEv7CCRMICAkICQgTDGoCOmsLCQMDFhABOwwSBwgJCQgIFAtqZmoLFAgICQkIBxIMATkSFAMDCAxrAjpqCxQICAkHCAgTDP7FEhQDAwcNawAAAQANALoD6wLeAAwAAAkBBiYnASY2MyE2FgcD6/5IGTsW/kQXGCUDkRswJAJz/kcaAhgBwBRQAUQoAAAAAQD6/9UDHgOzAAwAAAUBJjY3ATYWFREWBicCs/5HGgIYAcAUUAFEKCsBuBk7FgG8Fxgl/G8bMCQAAAAAAQDi/80DBgOrAAwAAAkBFgYHAQYmNREmNhcBTQG5GgIY/kAUUAFEKAOr/kgZOxb+RBcYJQOWGC4kAAAAAQAPAKAD6wLEAAwAACUhIiY3AT4BFwEWBiMDyfxsJBgWAbwUOxsBtiQuGKBPFQHAGAIa/kkoRQABAAYAUQP6Ay8APAAAATYWFx4BFxYGBwYHDgEHBgcOASMiJicmJy4BJyYnLgE1NDY3PgEXHgEXHgEXHgEzMjY3Njc+ATc2Nz4BNwNxICUVDh8CAS4ROzo6dDo6OhIuGB4/Eh4fHz4fHx8NGiMODyEdFyMPK0otAxoDBS8ILiwsVywrLg0kEwMvBiQTDx4THS0SOzo6dDo6OhIuRhIeHh49IB8hDRoVGx0ODyUDASkNK0gtAx8xCC4sLVgtLCwPJAUAAAAAAQALAIQD9wL8ADQAACUeATc+ATcBPgEnLgEnLgEjIgYHBgcOAQcGByYnLgEnJicuASMiBgcOARceARcWFx4BFxYXAbwRJBoTJQ4BcRMmBAMgEBEjFiI3ECQiIkMiIiQfISJGIyMhEjQeFyQQEC8KBCcQLy4tXS8vMbESHgMCJQ8BcRMnHRghEBEgPxAkIiJDISIjHyIiRyMjIRE+HxAPMiESIg4wLi9dLy8wAAEBUv/6A4wDhAA6AAABDgEXHgEXFhceARcWFx4BNz4BNz4BNzQmJyYnLgEnJic2Nz4BNzY3PgE3NCYnLgEHDgEHBgcOAQcGBwF7EBsCAiENKiopUioqKhEkGRUfDhAcATkOIR4ePB8eIBwfHz8gHx4QNgEdDg0uHhAfDSspKlMqKiwB/g8hFxIhDSopKVMpKisQIgIDHQ8PIBQeMg8gHh88Hx8gGx8eQB8gHRAuHBQhDw4qCAQkDSspKlMqKiwAAAEBUv/6A4sDhAA6AAABHgEHDgEHBgcOAQcGBw4BJy4BJy4BNTQ2NzY3PgE3NjcmJy4BJyYnLgE1NDY3PgEXHgEXFhceARcWFwNiEBwDAiAOKikpUykqKhEkGhUeDw8dOQ4gHx48Hh8gHB8fQB8gHRA3HQ4NLR8PIA0qKilUKiorAf4PIRcSIQ0qKSlTKSorECICAx0PDyAUHjIPIB4fPB8fIBsfHkAfIB0QLhwUIQ8OKggEJA0rKSpTKiosAAAAAAEACQCEA/cC/AA0AAATDgEHBhYXHgEzMjY3Njc+ATc2NxYXHgEXFhceATMyNjc+ATc2JicBLgEnJgYHBgcOAQcGB0QOKQQILxAQJhUeNBIgIyNGIiIfJCIiQyIiJBA3IhYjERAiAQQmE/6PDiUTGiQRMS8vXS4vLwFaDyQQIzIPEB8+ESAjI0cjIh8jISJDIiIkED8gERAiFx0nEwFxDyUCAx4SMS8vXC4uLgACAAYAcQP6Aw0AHQAqAAAlETYmByEwBgcGBw4BBwYxMBceARcWFx4BMSUWNicnBycHJzcnNxc3FwcXA/oDHx79pBYKDTQzcC0tLy5zNDMMCRICaREfA7xLhotLiYlLiYZNiYmpAiwaIQMDCA00NHItLjAwdjQ0CAcCAgEfGI5KiopNiIlKhoZKiYsAAAUAAP/ABAADwAAfAC8BOgHsAhsAAAEhIgcOAQcGFREUFx4BFxYzITI3PgE3NjURNCcuAScmExQGIyEiJjURNDYzITIWFQEqASMiBgciBgc4ATEwBhU4ATEwBhUwIiM4ATEOAQcOAQc4ATEwBjEOASciJicuASMuAScwJicwJjEuAScuAScuAScyFjMuASM6ATMqASM4ATEqASMwIjE4ATEiBgcOAQcOAQcwNjEOAQc4ATcOAQcOAQc4ATEwBjE4ATE4ATkBMCIVOAExMCIHOAExMAYHMAYVOAExOAExOAExDgEjOAEjMTgBMSImJzIWMy4BJzgBMTgBMTAiIy4BJy4BNzI2NxwBFzEeARceARcxMDY3PgE3PgE3OAEzLgEnLgEnPgExMBYXDgEHDgEHFAYVMDIXHgEXHgEzOAExMDI5AT4BNz4BNzA0NzIWMxYGBwcUMDUGMDcOASM4ATEOAQcOAQcOAQcxDgEHOAExOAExOAEjOAExMCIVIgYjOAExMCIVOAExMCIxMCIjMCIjOAExMCIxOAExOAExOAExDgEnIiYnOAExOAExOAExOAExMCIjOAExLgEnMS4BJy4BJzAmMTAmMTAmJy4BJwYmIyIGBzgBMQ4BIw4BBw4BBw4BBw4BByIGIzI2Mw4BIzI2Nw4BByImJx4BFzY3PgE3NjcqATEHDgEjMSImJy4BJzAyNz4BPwE+ATcwNDcxHgEXHgEzMjY3OAEXHgEXBhYXNDAVMQMz/ZorJSU4EBAQEDglJSsCZislJTgQEBAQOCUld19D/ZpDX19DAmZDX/7rAgMBBQcDAgMCAgIBAQoQCAUIBAIFDQYFCQMCAwEEBQIBAQICBAMDBAQDDgYCAQEIEgoCBQIEBwQCAQICAQECAwcFBQkDAgIDAQIFCgQCBQICAgEBAQEDBAoFAgMEBAIBAgUIBAECAwcEEA8DCA0HAgsZDwUMCAECAQMCAggDAgYLBBAYCURPUEULGQ0IFA0CAQEEBwQCBQICDhUIEBgLAgYOCAUICgsBAQEDAgIDAQIDAgECAQoRDAICAQECAgIBAQECAgYLBgUKBAECCA0GAwUDAgMBAgMHAQIGAwYIAwUHAwEEAQIFAgMHBQYLCAMHAwIBAQEBAgYNBQUKBQQIAwcKBytrCAYWFjgdHRQCA4ILGQ0NGQ0GDQUBAgMGAwMBAQICBQkFBxALBwwHAgUJAwIDAQPAEBE4JSUq/ZwqJiY4ERAQEDglJSsCZiolJTgREPzNQ19fQwJmQ19fQ/7WAwICAgEBAQEHEQgDCQMCBAYBAwQBAwMEAwECAgEEAwMGAgIMAwIFBgECAQMCAwcFAgEEAQIFCQMCBQICAgIBAQEBBAMBAQICBAMDBgQsdEYBAQEEAShPJQ0eDwECAQMCAggDDRkLJk4jDS8vDStLIRUqFAIBAgIDBgECARcuEyZPJwICAjJbJiACAgICAgEBAQIBBAECAQIJEgcCAgICAgIDAwUKBwMGAQIDAgICBwECAwIDAQQDAQMCBQIDCAMHCgUBBgECAgQDAwICAQIBAVlKBQINDTcsLEBJCgsMCwcNCAIDBwMCAgEBAQEICgUHCgQEAgUGAgEDAgICAAAAAAIAngBtA2IDEwASAC4AAAEHIyIGHQEUFjsBFxY2NRE0JgcTIiYnJjY3PgE1NCYnLgE3PgEXHgEVFAYHDgEjAlbxkRYgHxeR8gwYGQyZChEGCAcOGyAgGw4HCAgeDS00NC0ECQUDE78fF7wWIL8JDQ4Cgg4NCf3/CggNHgkQOCAgOBAJHg0OBwgaXDMzWxsCAwAAAAAEAAAAQgQAAzIAEgAuAFIAfgAAAQcjIgYdARQWOwEXFjY1ETQmBxMiJicmNjc+ATU0JicuATc+ARceARUUBgcOASMXIiYnJjY3PgE1NCYnLgE3PgEXFhceARcWFRQHDgEHBgcOASMXIiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBw4BIwG48ZEXHx8XkfIMGBkMmQoRBggHDhsgIBsOBwgIHg0tNDQtBAkFeggOBgoBCzA0NDALAQoKHwwdGBcfCQgICSAXFx0FDQd4Bw8GCgELIRoaJAkJCQkkGhohCwEKCx8LJx8eKgsLCwsqHh4nBg0HAxO/Hxe8FiC/CQ0OAoIODQn9/woIDR4JEDggIDgQCR4NDgcIGlwzM1sbAgN2BgYLHwosd0FBdywKHwsMAQsbICFJJycoKCcnSSEgGwQEWgYGCx8LHiUkUSssLS0sK1EkJR4LHwsLAQojKypfMzM1NTM0XyorJAQGAAAAAAMAUABtA68DEwASAC4AUgAAAQcjIgYdARQWOwEXFjY1ETQmBxMiJicmNjc+ATU0JicuATc+ARceARUUBgcOASMXIiYnJjY3PgE1NCYnLgE3PgEXFhceARcWFRQHDgEHBgcOASMCCPKRFh8fFpHzCxkaC5gKEQYICA0cICAcDQgICB8NLTMzLQUJBXoHDwULAQswNTUwCwELCh8LHhcXIAgICAggFxceBA0IAxO/Hxe8FiC/CQ0OAoIODQn9/woIDR4JEDggIDgQCR4NDgcIGlwzM1sbAgN2BgYLHwosd0FBdywKHwsMAQsbICFJJycoKCcnSSEgGwQEAAAAAAEBGv/RAw8DsQAeAAAlBhYfARY2NwE2NCcBLgEPAQ4BFwEWFAcwBw4BBwYxARoNAg8kDyQNAY0NDf5zDSQPJA8CDQFRBAQ1NX41NDEOJQ0gDQMOAckOKA4Byw4DDSANJQ7+fAUOBTw9kjw9AAEA8f/RAuYDsQAeAAABJjQ3ATYmLwEmBgcBBhQXAR4BPwE+AScwJy4BJyYxAZUEBAFRDQIPJA8kDf5zDQ0BjQ0kDyQPAg00NX41NQG1BQ4FAYQOJQ0gDQMO/jUOKA7+Nw4DDSANJQ49PJI9PAAAAAABAA3/ywPzA7cAEAAABSEiJjURNDYzITIWFREOASMDy/xqEBgXEQOWEBgBFxA1FxEDnBAYFhL8YhIUAAAGAFcAFwOmA2YACwAXACMALwA7AEcAAAEUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFgcUBiMiJjU0NjMyFgOmJRsaJiYaGyWPJRsaJiYaGyWRJRsaJiYaGyWPJRsaJiYaGyWRJRsaJiYaGyWPJRsaJiYaGyUDJhomJhobJSWqGiYmGhslJawaJiYaGyUlqhomJhobJSWsGiYmGhslJaoaJiYaGyUlAAMAawAXA5UDVQARACMANQAANyImJyY0PwE2MhcWFA8BDgEjASImJyY0PwE2MhcWFA8BDgEjASImJyY0PwE2MhcWFA8BDgEjlwwXCRQUlxM1EhMTmAgYDQEvDBcJFBSXEzUSExOYCRgMAS0NFgoTE3YTNREUFHUKFg0XCgoTNRGYExMTNRKXCgoBLwoKEzURmBMTFDQSlwoKAS0KCRQ0EnUUFBM1EXYJCgAAAAABAGsAFwOVA1UAEQAANyImJyY0NwE2MhcWFAcBDgEjlwwXCRQUAtETNREUFP0vCBgNFwoKEzURAtEUFBM1Ef0vCgoAAAUAWgBJA/EDNwAQABQAGAAhACUAAAEhIgYVERQWMyEyNjURLgEjFREnNyUhCQETFx4BPwEFITcnBxEXA6b8/R4rKx4DBR4rASsf8/P9LAKu/qX+rflACh4LRAEA/U77M/X1AzcrHv2kHisrHgJcHiuH/iTu7j7+rAFU/p9ACgELQv37NfcB7vcAAAAAAgAAAB4EAANkADAAQAAAATYWFwEeARcWBgcGBw4BBwYHDgEHBiYnLgE1NDY3Njc+ATc2Ny4BJy4BNTQ2Nz4BNwMhIiY9ATQ2MyEyFh0BDgECVxghEAEzDR4CAxkOKCgnTicnJwseDhwqCw0aNA4cHR07HB0bPGw9DDYaDw0aFFX+NRYhIRYByxchAh8DZAMgEP7NCx8RFR8PKCgnTSYnJg0hAwgoDQweFBkrDxsdHTscHBo9bD0NLh0THA8MGwP+ACEXSBchIRdIFyEAAwBa/8ADpAO6ADQASABPAAAlLgEnMS4BNQMmJy4BJyYnLgErASIGBycuAQcOAR8BDgEHAw8BDgEHDgEXHgEzITI2NzYmJwE+ATsBMhYXHgEXEyE0JicDPgE3BzE+ATcTIwOaBQwFBQhuCg0NGQsKBho9J1kqSxZACCYSFQ8IaQsUCHEGEwIBAgkHBAxcOgIIOFoOBQQL/eoPKxlaFiIOBzMYav7+AwG8CAoBUwUHA4b7lw8eDQ4TAQEkICcnSRscCCUjKCSXEw8IByQT+B4/GP7XEy8DBAMaLhA4SkU1Ey8bAk8XGBQWDJBL/uUDBgMBwBQZBO8NGA3+wAAAAgBa/8ADpANVACwAQQAAJS4BJy4BNQMmJy4BJyYnLgErASIGDwEOAQcDDwEOAQcOARceATMhMjY3NiYnJRM+AT8BPgE3PgE7ATIWFx4BFxMhA5oFDAUFCG4KDQ0ZCwoGGj0nWSpLFjMLFAhxBhMCAQIJBwQMXDoCCDhaDgUEC/0xZgUHAzEICgEPKxlaFiIOBzMYav2Ylw8eDQ4TAQEkICcnSRscCCUjKCSFHj8Y/tcTLwMEAxouEDhKRTUTLxtSAQ4NGA2MFBkEFxgUFgyQS/7lAAACAAD/wAR2A8EAUACPAAABLgEjIgYVFBYXMRceARczFBYzHgE7AR4BMzEyFjMWMjM6ATcxMjYzMjY3MTI2NzEyNjc+AT8BPgE1NCYjIgYHMQcRMDQxNCYjIgYVMBQ5ARElLgEvASoBIwcVMzI2Fx4BFxEOAQchLgEnET4BNzMeARceAR8BMzUjLgEnLgEnIwcOAQcDFx4BFwU3PgE/AREBqwcTCxcfCAfLAgQCAQIBAQMBAQECAgECAgIGAgMGAgECAgEDAQICAQECAQIFAcwHCCAWCxMHcB8XFh8CWg1NJAYpc0AqKz5wKAwOBAMODfydDg0CAgwPVBkaEhM6NQUMBBMXEBVBP18KMz4HAQEHPjMDfwUxPQoBAfUHCCAWCxMHzAEEAQEBAQIBAQEBAQEBAQIBAQEBBAHMBxMLFiAIB3ACBQEXHx8XAf3750QyBQEBawEBAgwR/e4ODgMDDQ4CmgwOBAIWFhg2BwFsAxUUGjoDAQlBM/1XCDNACgEBCj8xBQIiAAAAAAUAVf++BB8DwAAPAB8ALwBAAGcAAAEjIiY9AT4BOwEyFh0BFAYBIgYdARQWOwEyNj0BNCYjASMiJj0BNDY7ATIWHQEUBgEiBh0BFBY7ATI2PQE0JisBASYiDwE1NCYrASIGFRQWOwEyFh0BJyYiBwYUHwEeATMyNj8BNjQnAZ/dLUABPy3dLEBA/vcOEhIO3Q0TEw0CFN0tPz8t3S0/P/72DRMTDd0NExMN3QETCyALQT8toRAWFhChDRNBCx8MCwuCBg4HBw4GggsLAgs/Ld0tPz8t3S0/AWkTDd0NExMN3Q0T/Eo/LdwtQEAt3C0/AWkTDtwOExMO3A4TAT4LC0F9LT8WEA8XEg59QQsLCyALggUGBgWCCyALAAAAAgARAE8D8QMmAB0AIwAAJSEmJy4BJyYnNzYmJyYiBwEOARceATMhMjY1NiYjAR4BFyEBA8n+qAMLCiQYGB/2CwEMDSQL/XwKBAUFFQwDjxIZAhkR/eIxOQf+ggENpC8sLVQnJyP6CyQMDQ39cQkZDAwOGRIRGQEPOYtLAQ8AAAADACsAZAPTAx4ABAAJAA4AABMhFSE1ESEVITU1IRUhNSsDqPxYA6j8WAOo/FgBK8fHARF8fOJLSwAAAAADAB7/3APkA6IAGgAtAEAAAAEjNTQmIyEiBhURFBY7ARUUFjMhMjY1ES4BIwERNDYzITIWHQEhIgYVESMuATUFFAYjISImPQEhMjY1ETMyFhURA0s+WT/+QD5ZWT4+WT8Bwj5ZAVo+/RMzJAHCJDT+vD9ZPiQzA0QzJP5AJDQBRD9ZPiM0As0+PllZPv4+P1k+PllZPgHCP1n+fgHAJDMzJD5ZP/68AjMl1iQzMyQ+WT8BQjMl/kAABAAF/+AERgO7ABwALQAxADUAABMiBjERFBYXFDIxIToBNzQ2NREwJjEuASMhMAYVBzQ2MyEyFhURFAYjISImNREFCQERFxEtAV4BAQEBAgOLAQEBAQEBAQH8dQJZNiUDiyY1NSb8dSY1ASMCRv26WAE1/ssDYgL83AEBAQEBAQEBAyQCAQEBAQIlNjYl/NwmNjYmAyRd/sb+xwJzk/6zpqcAAAAEAAX/wAPNA5EAIAAlADEAPQAAARExDgEjIiY1NDYzMhYXNQURIw4BIyImNTQ2MzIWFxElASU1BRUBIgYVFBYzMjY1NCYFIgYVFBYzMjY1NCYDzQNxRUZyckYZLxX+BQIKbEFGcnJGGS8VArP9qQH7/gUBniwwMCwtMDD9fCwwMCwtMDADkf0mRlVZSElZCwvwdf6GP0tZSElZDAoCIIT+knWKYZ7+4C8XFy4uFxcvXS4XFy4uFxcuAAAAAAQAgQAAA38DgAAQACIAPQBIAAABISIGFRMUFjMhMjY1EzQmIwEwIjEiJjUDJjYzNhYVExYGIwE0JisBNTQmKwEiBh0BIyIGFQcUFjMhMjY1JychNTQ2OwEyFh0BAyD9wA0UKhMOAewOEyoTDv4qAQYIIgEIBgYJIgEIBgIuEg6SPy20LT+SDhIHEw0Cvg0TB+7+7BwUtBQcAlATDf3wDRMTDQIQDRP98wcGAa4GCQEIBv5SBgkCrg0SBSw/PywFEg1CDRISDUIfBRMdHRMFAAABAAAAAQAA1PN1018PPPUACwQAAAAAAOAR2OIAAAAA4BHY4v64/7wErwPCAAAACAACAAAAAAAAAAEAAAPA/8AAAATe/rj/UQSvAAEAAAAAAAAAAAAAAAAAAACKBAAAAAAAAAAAAAAAAgAAAARJADEEAAAABAAAAAQAAAAEAAAABAAAdQQAAAQEAAAEBAAABAQAAAQEAP/+BAAATQQAAAQEAADFBAABHwQAAR8EAAByBAD+uAQAAS0EAAEuBAABLwQAANEEAACBBAABJAQAAUoEAAE8BAABZgQAAJ0EAAB4BAABTQQAAEoEAAA+BAD/1QQA/9UEAP/RBAABJgQAAQkEAAEJBAABCQQAAJAEAAAEBAAACwQAAA4EAAAABAAARwQAABQEAABGBAAACAQAABEEAABIBAAA4AQAADMEAABaBAAATwQAAG8EAABjBAAAEwQAABMEAAE7BAAAFQQAABUEAAAPBAAAawQAAAAEAAAmBAAADQQAAREEAAAJBAAACgQA//4EAAAJBAAABgQAADMEAAAPBAAAAAQAAA0EAABiBAAACwQAAAYEAAAABAAAAAQAAAkEAAAEBAAADQQAAAIEAAA3BAAAEQQAAA8EAAANBAAACwQAAAsEAP/+BAAACQQAADMEAAAJBAAAAgQAAAAEAAAABAAACwQAAAAEAAARBAAAAgQAAA0EAAD6BAAA4gQAAA8EAAAGBAAACwTeAVIE3gFSBAAACQQAAAYEAAAABAAAngQAAAAEAABQBAABGgQAAPEEAAANBAAAVwQAAGsEAABrBEkAWgQAAAAEAABaBAAAWgR2AAAEdgBVBAAAEQQAACsEAAAeBGYABQPRAAUEAACBAAAAAAAKABQAHgB6A4oFUAb2CAAIyAl0CigK5gugDGgM+A2KDcYN7g4sDkoOghDsEhQSuBMGE1ATvhP8FDwUVBR+FNQVPBZCFpAXEhe2GYwZmhqSG+wcIhxsHMwdeB4cINQhQCGwIi4i+CNeI9okFCTMJTIl2CYcKMQpUCmaKeQqFipKKqgq3iskK2IrpivGLHQs4C0ULVwt7i5ILyovTDBKMIowsDIyMmAykDLKMzgzbDPCM/w0RjUINWY2AjaMN4A4MDiKOMY5HDm+OjA6jjvUPEY8kDyuPMw86j0GPWg9vj4ePn4+1D8aQXhBwkKAQv5DNENsQ4pD7kRERGZErEUSRZBF+ka+R0xHjEeqSAZIWEi2SR4AAAABAAAAigKOABIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEACQAAAAEAAAAAAAIABwByAAEAAAAAAAMACQA8AAEAAAAAAAQACQCHAAEAAAAAAAUACwAbAAEAAAAAAAYACQBXAAEAAAAAAAoAGgCiAAMAAQQJAAEAEgAJAAMAAQQJAAIADgB5AAMAAQQJAAMAEgBFAAMAAQQJAAQAEgCQAAMAAQQJAAUAFgAmAAMAAQQJAAYAEgBgAAMAAQQJAAoANAC8ZGNnLWljb25zAGQAYwBnAC0AaQBjAG8AbgBzVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwZGNnLWljb25zAGQAYwBnAC0AaQBjAG8AbgBzZGNnLWljb25zAGQAYwBnAC0AaQBjAG8AbgBzUmVndWxhcgBSAGUAZwB1AGwAYQByZGNnLWljb25zAGQAYwBnAC0AaQBjAG8AbgBzRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format("truetype");\n  font-weight: 400;\n  font-style: normal;\n  font-display: block;\n}\n\n.dcg-calculator-api-container [class^=dcg-icon-],\n.dcg-calculator-api-container [class*=" dcg-icon-"] {\n  font-family: dcg-icons!important;\n  speak: never;\n  font-style: normal;\n  font-weight: 400;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.dcg-calculator-api-container .dcg-icon-play-outline:before {\n  content: "\\e913";\n}\n\n.dcg-calculator-api-container .dcg-icon-music:before {\n  content: "\\e914";\n}\n\n.dcg-calculator-api-container .dcg-icon-trashcan:before {\n  content: "\\e918";\n}\n\n.dcg-calculator-api-container .dcg-icon-replace:before {\n  content: "\\e90f";\n}\n\n.dcg-calculator-api-container .dcg-icon-folder-move:before {\n  content: "\\e90e";\n}\n\n.dcg-calculator-api-container .dcg-icon-metronome-2:before {\n  content: "\\e90d";\n}\n\n.dcg-calculator-api-container .dcg-icon-play-once:before {\n  content: "\\e90b";\n}\n\n.dcg-calculator-api-container .dcg-icon-metronome:before {\n  content: "\\e90c";\n}\n\n.dcg-calculator-api-container .dcg-icon-mail:before {\n  content: "\\e90a";\n}\n\n.dcg-calculator-api-container .dcg-icon-line-dotted:before {\n  content: "\\e907";\n}\n\n.dcg-calculator-api-container .dcg-icon-line-dashed:before {\n  content: "\\e908";\n}\n\n.dcg-calculator-api-container .dcg-icon-line-solid:before {\n  content: "\\e909";\n}\n\n.dcg-calculator-api-container .dcg-icon-angle:before {\n  content: "\\e910";\n}\n\n.dcg-calculator-api-container .dcg-icon-line-thickness:before {\n  content: "\\e911";\n}\n\n.dcg-calculator-api-container .dcg-icon-opacity:before {\n  content: "\\e912";\n}\n\n.dcg-calculator-api-container .dcg-icon-stop:before {\n  content: "\\e906";\n}\n\n.dcg-calculator-api-container .dcg-icon-thin-arrow-right:before {\n  content: "\\e904";\n}\n\n.dcg-calculator-api-container .dcg-icon-thin-arrow-left:before {\n  content: "\\e905";\n}\n\n.dcg-calculator-api-container .dcg-icon-volume:before {\n  content: "\\e903";\n}\n\n.dcg-calculator-api-container .dcg-icon-volume-down:before {\n  content: "\\e901";\n}\n\n.dcg-calculator-api-container .dcg-icon-volume-up:before {\n  content: "\\e902";\n}\n\n.dcg-calculator-api-container .dcg-icon-app-test-mode:before {\n  content: "\\e900";\n}\n\n.dcg-calculator-api-container .dcg-icon-trophy:before {\n  content: "\\e200";\n}\n\n.dcg-calculator-api-container .dcg-icon-app-graphing:before {\n  content: "\\e201";\n}\n\n.dcg-calculator-api-container .dcg-icon-app-geometry:before {\n  content: "\\e202";\n}\n\n.dcg-calculator-api-container .dcg-icon-app-scientific:before {\n  content: "\\e203";\n}\n\n.dcg-calculator-api-container .dcg-icon-app-four-function:before {\n  content: "\\e204";\n}\n\n.dcg-calculator-api-container .dcg-icon-clipboard:before {\n  content: "\\e205";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-infinite:before {\n  content: "\\e206";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-once:before {\n  content: "\\e207";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-two-way:before {\n  content: "\\e208";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-one-way:before {\n  content: "\\e209";\n}\n\n.dcg-calculator-api-container .dcg-icon-randomize:before {\n  content: "\\e20a";\n}\n\n.dcg-calculator-api-container .dcg-icon-zoom-fit:before {\n  content: "\\e20b";\n}\n\n.dcg-calculator-api-container .dcg-icon-comments:before {\n  content: "\\e20c";\n}\n\n.dcg-calculator-api-container .dcg-icon-lines-solid:before {\n  content: "\\e20d";\n}\n\n.dcg-calculator-api-container .dcg-icon-histogram-fill:before {\n  content: "\\e20e";\n}\n\n.dcg-calculator-api-container .dcg-icon-histogram:before {\n  content: "\\e20f";\n}\n\n.dcg-calculator-api-container .dcg-icon-distribution-fill:before {\n  content: "\\e210";\n}\n\n.dcg-calculator-api-container .dcg-icon-distribution:before {\n  content: "\\e211";\n}\n\n.dcg-calculator-api-container .dcg-icon-dotplot-cross:before {\n  content: "\\e212";\n}\n\n.dcg-calculator-api-container .dcg-icon-dotplot-open:before {\n  content: "\\e213";\n}\n\n.dcg-calculator-api-container .dcg-icon-dotplot-default:before {\n  content: "\\e214";\n}\n\n.dcg-calculator-api-container .dcg-icon-boxplot:before {\n  content: "\\e215";\n}\n\n.dcg-calculator-api-container .dcg-icon-points:before {\n  content: "\\e216";\n}\n\n.dcg-calculator-api-container .dcg-icon-fraction:before {\n  content: "\\e217";\n}\n\n.dcg-calculator-api-container .dcg-icon-cross:before {\n  content: "\\e218";\n}\n\n.dcg-calculator-api-container .dcg-icon-open:before {\n  content: "\\e219";\n}\n\n.dcg-calculator-api-container .dcg-icon-point:before {\n  content: "\\e21a";\n}\n\n.dcg-calculator-api-container .dcg-icon-shaded-inequality-shade2:before {\n  content: "\\e21b";\n}\n\n.dcg-calculator-api-container .dcg-icon-shaded-inequality-dash:before {\n  content: "\\e21c";\n}\n\n.dcg-calculator-api-container .dcg-icon-position-arrows-single:before {\n  content: "\\e21d";\n}\n\n.dcg-calculator-api-container .dcg-icon-position-arrows:before {\n  content: "\\e21e";\n}\n\n.dcg-calculator-api-container .dcg-icon-parametric-filled:before {\n  content: "\\e21f";\n}\n\n.dcg-calculator-api-container .dcg-icon-parametric-solid:before {\n  content: "\\e220";\n}\n\n.dcg-calculator-api-container .dcg-icon-parametric-dashed:before {\n  content: "\\e221";\n}\n\n.dcg-calculator-api-container .dcg-icon-parametric-dotted:before {\n  content: "\\e222";\n}\n\n.dcg-calculator-api-container .dcg-icon-polygon-filled:before {\n  content: "\\e223";\n}\n\n.dcg-calculator-api-container .dcg-icon-polygon-dashed:before {\n  content: "\\e224";\n}\n\n.dcg-calculator-api-container .dcg-icon-polygon-dotted:before {\n  content: "\\e225";\n}\n\n.dcg-calculator-api-container .dcg-icon-polygon-solid:before {\n  content: "\\e226";\n}\n\n.dcg-calculator-api-container .dcg-icon-title:before {\n  content: "\\e227";\n}\n\n.dcg-calculator-api-container .dcg-icon-bottom-arrow:before {\n  content: "\\e228";\n}\n\n.dcg-calculator-api-container .dcg-icon-rocket:before {\n  content: "\\e229";\n}\n\n.dcg-calculator-api-container .dcg-icon-reset:before {\n  content: "\\e22a";\n}\n\n.dcg-calculator-api-container .dcg-icon-desmos:before {\n  content: "\\e22b";\n}\n\n.dcg-calculator-api-container .dcg-icon-download:before {\n  content: "\\e22c";\n}\n\n.dcg-calculator-api-container .dcg-icon-embed:before {\n  content: "\\e22d";\n}\n\n.dcg-calculator-api-container .dcg-icon-export:before {\n  content: "\\e22e";\n}\n\n.dcg-calculator-api-container .dcg-icon-book:before {\n  content: "\\e22f";\n}\n\n.dcg-calculator-api-container .dcg-icon-print:before {\n  content: "\\e230";\n}\n\n.dcg-calculator-api-container .dcg-icon-magic:before {\n  content: "\\e231";\n}\n\n.dcg-calculator-api-container .dcg-icon-cursor:before {\n  content: "\\e232";\n}\n\n.dcg-calculator-api-container .dcg-icon-dashed-function:before {\n  content: "\\e233";\n}\n\n.dcg-calculator-api-container .dcg-icon-function:before {\n  content: "\\e234";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrows-two:before {\n  content: "\\e235";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrows-one:before {\n  content: "\\e236";\n}\n\n.dcg-calculator-api-container .dcg-icon-desmos-badge:before {\n  content: "\\e237";\n}\n\n.dcg-calculator-api-container .dcg-icon-move:before {\n  content: "\\e238";\n}\n\n.dcg-calculator-api-container .dcg-icon-move-horizontal:before {\n  content: "\\e239";\n}\n\n.dcg-calculator-api-container .dcg-icon-move-vertical:before {\n  content: "\\e23a";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-left:before {\n  content: "\\e23b";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-right:before {\n  content: "\\e23c";\n}\n\n.dcg-calculator-api-container .dcg-icon-arrow-enter:before {\n  content: "\\e23d";\n}\n\n.dcg-calculator-api-container .dcg-icon-shift:before {\n  content: "\\e23e";\n}\n\n.dcg-calculator-api-container .dcg-icon-dragdots:before {\n  content: "\\e23f";\n}\n\n.dcg-calculator-api-container .dcg-icon-duplicate:before {\n  content: "\\e240";\n}\n\n.dcg-calculator-api-container .dcg-icon-error:before {\n  content: "\\e241";\n}\n\n.dcg-calculator-api-container .dcg-icon-facebook:before {\n  content: "\\e242";\n}\n\n.dcg-calculator-api-container .dcg-icon-film:before {\n  content: "\\e243";\n}\n\n.dcg-calculator-api-container .dcg-icon-folder-open:before {\n  content: "\\e244";\n}\n\n.dcg-calculator-api-container .dcg-icon-folder:before {\n  content: "\\e245";\n}\n\n.dcg-calculator-api-container .dcg-icon-hamburger:before {\n  content: "\\e246";\n}\n\n.dcg-calculator-api-container .dcg-icon-hdd:before {\n  content: "\\e247";\n}\n\n.dcg-calculator-api-container .dcg-icon-hide:before {\n  content: "\\e248";\n}\n\n.dcg-calculator-api-container .dcg-icon-home:before {\n  content: "\\e249";\n}\n\n.dcg-calculator-api-container .dcg-icon-image:before {\n  content: "\\e24a";\n}\n\n.dcg-calculator-api-container .dcg-icon-keyboard:before {\n  content: "\\e24b";\n}\n\n.dcg-calculator-api-container .dcg-icon-lock:before {\n  content: "\\e24c";\n}\n\n.dcg-calculator-api-container .dcg-icon-minus:before {\n  content: "\\e24d";\n}\n\n.dcg-calculator-api-container .dcg-icon-new-expression:before {\n  content: "\\e24e";\n}\n\n.dcg-calculator-api-container .dcg-icon-new-folder:before {\n  content: "\\e24f";\n}\n\n.dcg-calculator-api-container .dcg-icon-new-image:before {\n  content: "\\e250";\n}\n\n.dcg-calculator-api-container .dcg-icon-new-table:before {\n  content: "\\e251";\n}\n\n.dcg-calculator-api-container .dcg-icon-new-text:before {\n  content: "\\e252";\n}\n\n.dcg-calculator-api-container .dcg-icon-pause:before {\n  content: "\\e253";\n}\n\n.dcg-calculator-api-container .dcg-icon-pencil:before {\n  content: "\\e254";\n}\n\n.dcg-calculator-api-container .dcg-icon-play:before {\n  content: "\\e255";\n}\n\n.dcg-calculator-api-container .dcg-icon-plus:before {\n  content: "\\e256";\n}\n\n.dcg-calculator-api-container .dcg-icon-question-sign:before {\n  content: "\\e257";\n}\n\n.dcg-calculator-api-container .dcg-icon-redo:before {\n  content: "\\e258";\n}\n\n.dcg-calculator-api-container .dcg-icon-remove:before {\n  content: "\\e259";\n}\n\n.dcg-calculator-api-container .dcg-icon-search:before {\n  content: "\\e25a";\n}\n\n.dcg-calculator-api-container .dcg-icon-settings:before {\n  content: "\\e25b";\n}\n\n.dcg-calculator-api-container .dcg-icon-share:before {\n  content: "\\e25c";\n}\n\n.dcg-calculator-api-container .dcg-icon-show:before {\n  content: "\\e25d";\n}\n\n.dcg-calculator-api-container .dcg-icon-table:before {\n  content: "\\e25e";\n}\n\n.dcg-calculator-api-container .dcg-icon-text:before {\n  content: "\\e25f";\n}\n\n.dcg-calculator-api-container .dcg-icon-time:before {\n  content: "\\e260";\n}\n\n.dcg-calculator-api-container .dcg-icon-twitter:before {\n  content: "\\e261";\n}\n\n.dcg-calculator-api-container .dcg-icon-undo:before {\n  content: "\\e262";\n}\n\n.dcg-calculator-api-container .dcg-icon-world:before {\n  content: "\\e263";\n}\n\n.dcg-calculator-api-container .dcg-icon-wrench:before {\n  content: "\\e264";\n}\n\n.dcg-calculator-api-container .dcg-icon-zoom:before {\n  content: "\\e265";\n}\n\n.dcg-calculator-api-container .dcg-icon-caret-down:before {\n  content: "\\e266";\n}\n\n.dcg-calculator-api-container .dcg-icon-caret-left:before {\n  content: "\\e267";\n}\n\n.dcg-calculator-api-container .dcg-icon-caret-right:before {\n  content: "\\e268";\n}\n\n.dcg-calculator-api-container .dcg-icon-caret-up:before {\n  content: "\\e269";\n}\n\n.dcg-calculator-api-container .dcg-icon-check:before {\n  content: "\\e26a";\n}\n\n.dcg-calculator-api-container .dcg-icon-chevron-down:before {\n  content: "\\e26b";\n}\n\n.dcg-calculator-api-container .dcg-icon-chevron-left:before {\n  content: "\\e26c";\n}\n\n.dcg-calculator-api-container .dcg-icon-chevron-right:before {\n  content: "\\e26d";\n}\n\n.dcg-calculator-api-container .dcg-icon-chevron-up:before {\n  content: "\\e26e";\n}\n\n.dcg-calculator-api-container .dcg-icon-delete:before {\n  content: "\\e26f";\n}\n\n.dcg-calculator-api-container .dcg-constrained-height-popover {\n  position: absolute;\n  top: 40px;\n  bottom: 2px;\n  right: 4px;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-constrained-height-popover .dcg-popover-interior {\n  max-height: 100%;\n  pointer-events: auto;\n}\n\n.dcg-calculator-api-container .dcg-popover {\n  z-index: 80;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-popover-interior {\n  padding: 20px;\n  background-color: #fff;\n  border: 1px solid rgba(0,0,0,.2);\n  -webkit-border-radius: 6px;\n  border-radius: 6px;\n  -webkit-box-shadow: 0 5px 10px rgba(0,0,0,.2);\n  box-shadow: 0 5px 10px #0003;\n  margin: -1px;\n  overflow: auto;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-top {\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-right {\n  margin-left: 10px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-bottom {\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-left {\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-popover-interior {\n  overflow: auto;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-popover-content {\n  font-size: 85%;\n  color: #444;\n  line-height: 1.5em;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-language-picker .dcg-language-header {\n  color: #2f72dc;\n  border-bottom: 2px solid #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-popover-title {\n  margin-bottom: 10px;\n  font-size: 115%;\n  border-bottom: 2px solid #2f72dc;\n  color: #2f72dc;\n  font-weight: 400;\n  background-color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-popover-title:not(:first-of-type) {\n  padding-top: 20px;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-arrow,\n.dcg-calculator-api-container .dcg-popover .dcg-arrow:after {\n  position: absolute;\n  display: inline-block;\n  width: 0;\n  height: 0;\n  border-color: transparent;\n  border-style: solid;\n}\n\n.dcg-calculator-api-container .dcg-popover .dcg-arrow:after {\n  content: "";\n  z-index: -1;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-top .dcg-arrow {\n  bottom: -10px;\n  left: 50%;\n  margin-left: -10px;\n  border-width: 10px 10px 0;\n  border-top-color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-top .dcg-arrow:after {\n  border-width: 11px 11px 0;\n  border-top-color: #00000040;\n  bottom: -1px;\n  left: -11px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-right .dcg-arrow {\n  top: 50%;\n  left: -10px;\n  margin-top: -10px;\n  border-width: 10px 10px 10px 0;\n  border-right-color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-right .dcg-arrow:after {\n  border-width: 11px 11px 11px 0;\n  border-right-color: #00000040;\n  bottom: -11px;\n  left: -1px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-bottom .dcg-arrow {\n  top: -14px;\n  margin-left: -14px;\n  border-width: 0px 14px 14px;\n  border-bottom-color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-bottom .dcg-arrow:after {\n  border-width: 0 14px 14px;\n  border-bottom-color: #00000040;\n  top: -1px;\n  left: -14px;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-left .dcg-arrow {\n  top: 50%;\n  right: -10px;\n  margin-top: -10px;\n  border-width: 10px 0 10px 10px;\n  border-left-color: #fff;\n  border-top-color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-popover.dcg-left .dcg-arrow:after {\n  border-width: 11px 0 11px 11px;\n  border-left-color: #00000040;\n  bottom: -11px;\n  right: -1px;\n}\n\n.dcg-calculator-api-container .dcg-transparent-bg {\n  background: rgba(0,0,0,0);\n}\n\n.dcg-calculator-api-container .dcg-mouse-over-closed-poi,\n.dcg-calculator-api-container .dcg-mouse-over-opened-poi,\n.dcg-calculator-api-container .dcg-mouse-over-interactive-label,\n.dcg-calculator-api-container .dcg-mouse-over-clickable-object {\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-mouse-over-movable-point {\n  cursor: move;\n}\n\n.dcg-calculator-api-container .dcg-mouse-over-movable-point-ew {\n  cursor: ew-resize;\n}\n\n.dcg-calculator-api-container .dcg-mouse-over-movable-point-ns {\n  cursor: ns-resize;\n}\n\n.dcg-calculator-api-container .dcg-mouse-over-closed-poi .dcg-tracept {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-show-border .dcg-label {\n  border: 1px solid #ddd;\n  background: #fff;\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  -webkit-box-shadow: 0 0 5px rgba(0,0,0,.2);\n  box-shadow: 0 0 5px #0003;\n  padding: 8px 6px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-math-field {\n  padding: 3px 10px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-resizing-text-input-container input,\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-text-input-content {\n  padding: 5px 10px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border {\n  background: rgba(255,255,255,.75);\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  border-width: 1px;\n  border-style: solid;\n  padding: 1px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border:not(.dcg-focus):not(.dcg-hovered) {\n  border-color: #bbb!important;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-empty-label:not(.dcg-focus):not(.dcg-hovered) {\n  border-color: #999!important;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-empty-label,\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-focus {\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-hovered:not(.dcg-focus) {\n  border-style: solid;\n  padding: 0;\n  border-width: 2px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-focus {\n  padding: 0;\n  border-width: 2px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-static-mathquill-view * {\n  -webkit-user-select: none!important;\n  -moz-user-select: none!important;\n  -ms-user-select: none!important;\n  user-select: none!important;\n}\n\n.dcg-calculator-api-container .dcg-tabbable-point {\n  position: absolute;\n  left: -6px;\n  top: -6px;\n  width: 12px;\n  height: 12px;\n  text-align: left;\n  overflow: hidden;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-poi-label {\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  font-size: 100%;\n  color: #222;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-pt {\n  display: inline-block;\n  position: absolute;\n  top: -4px;\n  left: -4px;\n  border: 4px solid #000;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  width: 0;\n  height: 0;\n  z-index: 0;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-label {\n  position: absolute;\n  z-index: 3;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-label.dcg-enable-transition {\n  -webkit-transition-property: -webkit-transform;\n  -moz-transition-property: -moz-transform;\n  -o-transition-property: -o-transform;\n  -ms-transition-property: -ms-transform;\n  transition-property: transform;\n  -webkit-transition-duration: .3s;\n  -moz-transition-duration: .3s;\n  -o-transition-duration: .3s;\n  -ms-transition-duration: .3s;\n  transition-duration: .3s;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-label .dcg-static-mathquill-view {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-poi-label .dcg-label .dcg-mq-sqrt-prefix {\n  text-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-underlined-label .dcg-label-raw-text {\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-has-outline .dcg-label {\n  text-shadow: -1px -1px 0 #fff,-1px 1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,0 -1px 0 #fff,0 1px 0 #fff,1px 0 0 #fff,-1px 0 0 #fff;\n}\n\n.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept) .dcg-pt {\n  border-width: 5px;\n  border-color: transparent!important;\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  top: -5px!important;\n  left: -5px!important;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-pt {\n  border-color: #000!important;\n}\n\n.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-label {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-hole .dcg-pt {\n  top: -5px;\n  left: -5px;\n  border-width: 2px;\n  padding: 3px;\n  background: #fff!important;\n  -webkit-border-radius: 6px;\n  border-radius: 6px;\n}\n\n.dcg-calculator-api-container .dcg-poi-label.dcg-hide-dot .dcg-pt {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-resizing-text-input-container {\n  position: relative;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-resizing-text-input-container input {\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  right: 1px;\n  font: inherit;\n  border: 0;\n  outline: 0;\n  background: transparent;\n  color: inherit;\n}\n\n.dcg-calculator-api-container .dcg-resizing-text-input-container:not(.dcg-focus) input::selection {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-resizing-text-input-container.dcg-focus input,\n.dcg-calculator-api-container .dcg-resizing-text-input-container.dcg-hovered input {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.dcg-calculator-api-container .dcg-resizing-text-input-container .dcg-text-input-content {\n  min-width: 35px;\n  display: inline-block;\n  color: transparent;\n  white-space: pre;\n}\n\n.dcg-calculator-api-container .dcg-geo-keyboard-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-geo-keyboard-cursor:before {\n  content: "";\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  margin-left: -12px;\n  margin-top: -12px;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  border: 2px solid #808080;\n  -webkit-animation: dcg-pulse-cursor 2s infinite;\n  -moz-animation: dcg-pulse-cursor 2s infinite;\n  -o-animation: dcg-pulse-cursor 2s infinite;\n  -ms-animation: dcg-pulse-cursor 2s infinite;\n  animation: dcg-pulse-cursor 2s infinite;\n}\n\n.dcg-calculator-api-container .dcg-geo-keyboard-cursor:after {\n  content: "";\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  margin-left: -12px;\n  margin-top: -12px;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  border: 2px solid #808080;\n  -webkit-animation: dcg-pulse-cursor 2s infinite;\n  -moz-animation: dcg-pulse-cursor 2s infinite;\n  -o-animation: dcg-pulse-cursor 2s infinite;\n  -ms-animation: dcg-pulse-cursor 2s infinite;\n  animation: dcg-pulse-cursor 2s infinite;\n  -webkit-animation-delay: 1s;\n  -moz-animation-delay: 1s;\n  -o-animation-delay: 1s;\n  -ms-animation-delay: 1s;\n  animation-delay: 1s;\n}\n\n@-moz-keyframes dcg-pulse-cursor {\n  0% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n\n  to {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n    -webkit-transform: scale(2,2);\n    -moz-transform: scale(2,2);\n    -o-transform: scale(2,2);\n    -ms-transform: scale(2,2);\n    transform: scale(2);\n  }\n}\n\n@-webkit-keyframes dcg-pulse-cursor {\n  0% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n\n  to {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n    -webkit-transform: scale(2,2);\n    -moz-transform: scale(2,2);\n    -o-transform: scale(2,2);\n    -ms-transform: scale(2,2);\n    transform: scale(2);\n  }\n}\n\n@-o-keyframes dcg-pulse-cursor {\n  0% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n\n  to {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n    -webkit-transform: scale(2,2);\n    -moz-transform: scale(2,2);\n    -o-transform: scale(2,2);\n    -ms-transform: scale(2,2);\n    transform: scale(2);\n  }\n}\n\n@keyframes dcg-pulse-cursor {\n  0% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n\n  to {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n    -webkit-transform: scale(2,2);\n    -moz-transform: scale(2,2);\n    -o-transform: scale(2,2);\n    -ms-transform: scale(2,2);\n    transform: scale(2);\n  }\n}\n\n.dcg-calculator-api-container .dcg-tap-container:not(body) {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-focus-by-tap:focus {\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  padding: 3px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-circular-icon {\n  margin-right: 8px;\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-btn-light-gray {\n  border-color: #bbb;\n  padding: 3px 5px;\n  font-size: 90%;\n  margin-right: 4px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-action-section {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-toggle-color-picker {\n  color: #999;\n  margin-left: -8px;\n  font-size: 75%;\n  display: inline-block;\n  height: 30px;\n  line-height: 32px;\n  padding: 0 4px;\n  -webkit-transition: -webkit-transform .2s;\n  -moz-transition: -moz-transform .2s;\n  -o-transition: -o-transform .2s;\n  -ms-transition: -ms-transform .2s;\n  transition: transform .2s;\n  margin-right: 8px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-toggle-color-picker.dcg-hovered {\n  color: #666;\n  -webkit-transform: translate(0,1px);\n  -moz-transform: translate(0,1px);\n  -o-transform: translate(0,1px);\n  -ms-transform: translate(0,1px);\n  transform: translateY(1px);\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-btn-outline {\n  display: inline-block;\n  padding-left: 10px;\n  padding-right: 10px;\n  border: 1px solid #666;\n  color: #666;\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  height: 32px;\n  line-height: 30px;\n  cursor: pointer;\n  margin-left: 12px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-btn-outline.dcg-hovered:not(.dcg-disabled) {\n  color: #666;\n  border: 1px solid #666;\n  -webkit-box-shadow: 0 0 0 1px #666;\n  box-shadow: 0 0 0 1px #666;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-btn-outline.dcg-depressed:not(.dcg-disabled) {\n  border: 1px solid #000;\n  -webkit-box-shadow: 0 0 0 1px #000;\n  box-shadow: 0 0 0 1px #000;\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-transformations-button {\n  margin-left: 7px;\n  margin-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-transformations-button .dcg-icon-caret-down {\n  font-size: 75%;\n  color: #999;\n  margin-left: 4px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-transformations-button.dcg-hovered .dcg-icon-caret-down,\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-transformations-button.dcg-transformations-open .dcg-icon-caret-down {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-show-hide-btn {\n  text-align: center;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-show-hide-btn div {\n  -webkit-transition: -webkit-transform .2s;\n  -moz-transition: -moz-transform .2s;\n  -o-transition: -o-transform .2s;\n  -ms-transition: -ms-transform .2s;\n  transition: transform .2s;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-show-hide-btn:not(.dcg-any-visible-objects) div {\n  -webkit-transform: translate(0,-30px);\n  -moz-transform: translate(0,-30px);\n  -o-transform: translate(0,-30px);\n  -ms-transform: translate(0,-30px);\n  transform: translateY(-30px);\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-multi-select-icon-button {\n  color: #999;\n  font-size: 22px;\n  padding: 5px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-multi-select-icon-button.dcg-more-options {\n  margin: 0;\n  position: relative;\n  top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-multi-select-icon-button.dcg-transformations-button {\n  margin: 0;\n  position: relative;\n  top: 2px;\n  background: #f00;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-multi-select-icon-button.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-header .dcg-multi-select-icon-button.dcg-depressed {\n  color: #222;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-hit-area-container {\n  display: inline-block;\n  position: relative;\n  cursor: default!important;\n  line-height: initial;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-mount-pt {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container {\n  position: absolute;\n  pointer-events: none;\n  z-index: 10000;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container {\n  position: absolute;\n  z-index: 10000;\n  -webkit-animation: dcg-fadeIn .3s;\n  -moz-animation: dcg-fadeIn .3s;\n  -o-animation: dcg-fadeIn .3s;\n  -ms-animation: dcg-fadeIn .3s;\n  animation: dcg-fadeIn .3s;\n  white-space: normal;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message {\n  background: #000;\n  color: #fff;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  padding: 5px 8px;\n  font-size: 14px;\n  text-shadow: none;\n  line-height: 1.1em;\n  display: inline-block;\n  pointer-events: all;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex {\n  background: #fff;\n  color: #000;\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  border: 1px solid #bbb;\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex .dcg-static-mathquill-view {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex.dcg-sticky-not-stuck {\n  opacity: .95;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=95)";\n  filter: alpha(opacity=95);\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex.dcg-tooltip-overflow:after {\n  content: "";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 8px;\n  width: 14px;\n  background: -webkit-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -moz-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -o-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -ms-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: linear-gradient(to right,rgba(255,255,255,0),#fff);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex .dcg-mq-root-block * {\n  -webkit-user-select: none!important;\n  -moz-user-select: none!important;\n  -ms-user-select: none!important;\n  user-select: none!important;\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container .dcg-tooltip-arrow {\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container.dcg-tooltip-gravity-n-s .dcg-tooltip-arrow {\n  -webkit-transform: translateX(-50%) rotate(45deg);\n  -moz-transform: translateX(-50%) rotate(45deg);\n  -o-transform: translateX(-50%) rotate(45deg);\n  -ms-transform: translateX(-50%) rotate(45deg);\n  transform: translate(-50%) rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container.dcg-tooltip-gravity-e-w .dcg-tooltip-arrow {\n  -webkit-transform: translateY(-50%) rotate(45deg);\n  -moz-transform: translateY(-50%) rotate(45deg);\n  -o-transform: translateY(-50%) rotate(45deg);\n  -ms-transform: translateY(-50%) rotate(45deg);\n  transform: translateY(-50%) rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-arrow {\n  position: absolute;\n  -webkit-animation: dcg-fadeIn .3s;\n  -moz-animation: dcg-fadeIn .3s;\n  -o-animation: dcg-fadeIn .3s;\n  -ms-animation: dcg-fadeIn .3s;\n  animation: dcg-fadeIn .3s;\n  z-index: 10000;\n}\n\n.dcg-calculator-api-container .dcg-dot-dot-dropdown {\n  position: relative;\n  height: 1em;\n  width: 1em;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-dot-dot-dropdown span {\n  display: inline-block;\n  width: 5px;\n  height: 5px;\n  background: currentcolor;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -3px;\n  margin-top: -3px;\n}\n\n.dcg-calculator-api-container .dcg-dot-dot-dropdown span:first-of-type {\n  top: 15%;\n}\n\n.dcg-calculator-api-container .dcg-dot-dot-dropdown span:last-of-type {\n  top: 85%;\n}\n\n.dcg-calculator-api-container .dcg-navigate-back {\n  font-size: 120%;\n  margin-right: 12px;\n  border-right: 1px solid rgba(0,0,0,.1);\n  text-align: left;\n  height: 34px;\n  padding-left: 5px;\n  padding-right: 10px;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-navigate-back .dcg-navigate-back-message {\n  font-size: 75%;\n  text-align: center;\n  color: #666;\n  line-height: 1em;\n}\n\n.dcg-calculator-api-container .dcg-navigate-back i {\n  width: 34px;\n  color: #999;\n}\n\n.dcg-calculator-api-container .dcg-navigate-back.dcg-hovered i {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-navigate-back.dcg-depressed i {\n  color: #222;\n}\n\n.dcg-calculator-api-container .dcg-static-mathquill-view * {\n  -webkit-user-select: text!important;\n  -moz-user-select: text!important;\n  -ms-user-select: text!important;\n  user-select: text!important;\n  -moz-user-selection: text!important;\n}\n\n.dcg-calculator-api-container .dcg-static-mathquill-view * .dcg-mq-cursor {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-mq-container {\n  position: relative;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-mq-container .dcg-mq-placeholder {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  line-height: 1em;\n  height: 1em;\n  margin-top: -.67em;\n  font-size: 95%;\n  pointer-events: none;\n  font-family: Symbola,Times New Roman,serif;\n  padding-left: 2px;\n  color: #00000078;\n}\n\n.dcg-calculator-api-container .dcg-mq-container .dcg-mq-placeholder .dcg-mq-math-mode {\n  font-size: inherit;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-suffix-degree .dcg-mq-root-block:after {\n  content: "\\b0";\n  vertical-align: top;\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n  margin-left: 1px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-suffix-radian .dcg-mq-root-block:after {\n  content: "rad";\n  font-size: 90%;\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n  margin-left: 3px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout):after {\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 14px;\n  background: -webkit-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -moz-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -o-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -ms-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: linear-gradient(to right,rgba(255,255,255,0),#fff);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) .dcg-mq-root-block {\n  padding-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) .dcg-mq-root-block.dcg-mq-editing-overflow-left:before {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  width: 14px;\n  background: -webkit-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: -moz-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: -o-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: -ms-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: linear-gradient(to left,rgba(255,255,255,0),#fff);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-mq-editable-field:after {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-mq-editable-field:after .dcg-mq-editing-overflow-left:before {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view {\n  cursor: pointer;\n  border: 2px solid #2f72dc;\n  color: #000;\n  background-color: #ffff0026;\n  padding: .2em .4em;\n  display: inline-block;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  margin-right: .15em!important;\n  margin-left: .15em!important;\n  margin-bottom: 2px;\n  width: 27px;\n  height: 25px;\n  vertical-align: middle;\n  border-color: currentColor!important;\n  background: #fff;\n  position: relative;\n  font-size: 16px!important;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view>* {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-label {\n  position: absolute;\n  right: 1px;\n  bottom: -1px;\n  font-family: sans-serif;\n  font-size: 75%;\n  padding-right: 1px;\n  padding-bottom: 1px;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-point,\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-midpoint,\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-intersection,\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-glider {\n  position: relative;\n  top: -6px;\n  left: -9px;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-point:after,\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-midpoint:after,\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-intersection:after,\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-glider:after {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-point:before,\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-midpoint:before,\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-intersection:before,\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-token-has-label .dcg-token-glider:before {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-selected-token .dcg-token-label {\n  color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-background {\n  opacity: .25;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";\n  filter: alpha(opacity=25);\n  display: block;\n  width: 100%;\n  height: 100%;\n  background: currentColor;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-hovered .dcg-token-background {\n  opacity: .4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-icon {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-polygon,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-point,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-glider,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-intersection,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-strictintersection,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-midpoint {\n  font-size: 140%;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-glider:before,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-line:before,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-segment:before,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-ray:before,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-intersection:before,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-strictintersection:before,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-midpoint:before,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-parallel:before,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-perpendicular:before {\n  content: "";\n  height: 2px;\n  background: currentColor;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -1px;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-intersection:after,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-strictintersection:after,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-midpoint:after,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-parallel:after,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-perpendicular:after {\n  content: "";\n  height: 2px;\n  background: currentColor;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -1px;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-glider:before {\n  width: 16px;\n  margin-left: -8px;\n  opacity: .7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-intersection:before,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-strictintersection:before {\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  -ms-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n  width: 20px;\n  margin-left: -10px;\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-intersection:after,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-strictintersection:after {\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  transform: rotate(45deg);\n  width: 20px;\n  margin-left: -10px;\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-midpoint:before {\n  -webkit-transform: rotate(0deg);\n  -moz-transform: rotate(0deg);\n  -o-transform: rotate(0deg);\n  -ms-transform: rotate(0deg);\n  transform: rotate(0);\n  width: 20px;\n  margin-left: -10px;\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-segment:before {\n  width: 16px;\n  margin-left: -8px;\n  -webkit-transform: rotate(-20deg);\n  -moz-transform: rotate(-20deg);\n  -o-transform: rotate(-20deg);\n  -ms-transform: rotate(-20deg);\n  transform: rotate(-20deg);\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-ray:before {\n  width: 20px;\n  margin-left: -5px;\n  -webkit-transform: rotate(-60deg);\n  -moz-transform: rotate(-60deg);\n  -o-transform: rotate(-60deg);\n  -ms-transform: rotate(-60deg);\n  transform: rotate(-60deg);\n  -webkit-transform-origin: 25% 25%;\n  -moz-transform-origin: 25% 25%;\n  -o-transform-origin: 25% 25%;\n  -ms-transform-origin: 25% 25%;\n  transform-origin: 25% 25%;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-line:before {\n  width: 40px;\n  margin-left: -20px;\n  -webkit-transform: rotate(20deg);\n  -moz-transform: rotate(20deg);\n  -o-transform: rotate(20deg);\n  -ms-transform: rotate(20deg);\n  transform: rotate(20deg);\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-parallel:before,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-perpendicular:before {\n  width: 40px;\n  margin-left: -20px;\n  -webkit-transform: rotate(-20deg);\n  -moz-transform: rotate(-20deg);\n  -o-transform: rotate(-20deg);\n  -ms-transform: rotate(-20deg);\n  transform: rotate(-20deg);\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-parallel:after {\n  width: 40px;\n  margin-left: -20px;\n  -webkit-transform: rotate(-20deg);\n  -moz-transform: rotate(-20deg);\n  -o-transform: rotate(-20deg);\n  -ms-transform: rotate(-20deg);\n  transform: rotate(-20deg);\n  opacity: .4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n  -webkit-transform-origin: 5px 0;\n  -moz-transform-origin: 5px 0;\n  -o-transform-origin: 5px 0;\n  -ms-transform-origin: 5px 0;\n  transform-origin: 5px 0;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-perpendicular:after {\n  width: 40px;\n  margin-left: -20px;\n  -webkit-transform: rotate(70deg);\n  -moz-transform: rotate(70deg);\n  -o-transform: rotate(70deg);\n  -ms-transform: rotate(70deg);\n  transform: rotate(70deg);\n  opacity: .4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-circle {\n  border: 2px solid currentColor;\n  width: 15px;\n  height: 15px;\n  margin-top: 3px;\n  margin-left: 4px;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-arc {\n  position: absolute;\n  top: -6px;\n  left: -4px;\n  width: 22px;\n  height: 20px;\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  -ms-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n  background: transparent;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-arc:after {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: 0%;\n  border: 2px solid currentColor;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  width: 14px;\n  height: 14px;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-angle,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-angles,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-directedangle,\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-directedangles {\n  border: 2px solid currentColor;\n  width: 12px;\n  height: 12px;\n  margin-left: 7px;\n  margin-top: 5px;\n  border-top: none;\n  border-right: none;\n  -webkit-transform: skew(-20deg,0deg);\n  -moz-transform: skew(-20deg,0deg);\n  -o-transform: skew(-20deg,0deg);\n  -ms-transform: skew(-20deg,0deg);\n  transform: skew(-20deg);\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-dilation:before {\n  content: "Di";\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-translation:before {\n  content: "Tr";\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-rotation:before {\n  content: "Ro";\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-reflection:before {\n  content: "Re";\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view .dcg-token-transformation:before {\n  content: "Tx";\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-selected-token {\n  background-color: currentColor;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-selected-token .dcg-token-icon {\n  color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-child-of-hovered-token:after {\n  content: "";\n  position: absolute;\n  bottom: 100%;\n  left: 50%;\n  margin-left: -8px;\n  border: 1px solid transparent;\n  border-width: 6px 8px;\n  border-bottom-color: #0003;\n}\n\n.dcg-calculator-api-container .dcg-geo-token-view.dcg-parent-of-hovered-token:after {\n  content: "";\n  position: absolute;\n  top: 100%;\n  left: 50%;\n  margin-left: -8px;\n  border: 1px solid transparent;\n  border-width: 6px 8px;\n  border-top-color: #0003;\n}\n\n.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input {\n  background: none;\n  width: 100%;\n  border: none;\n  font-family: Abraham,serif;\n  font-size: 125%;\n  padding: 1px 0;\n}\n\n.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input:focus {\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-inline-braille {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 0px;\n  height: 0px;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-mathquill-braille-overflow-left .dcg-tooltip-hit-area-container:before {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  width: 14px;\n  background: -webkit-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: -moz-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: -o-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: -ms-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: linear-gradient(to left,rgba(255,255,255,0),#fff);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-mathquill-braille-overflow-right .dcg-tooltip-hit-area-container:after {\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 14px;\n  background: -webkit-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -moz-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -o-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -ms-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: linear-gradient(to right,rgba(255,255,255,0),#fff);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-ne-se .dcg-tooltip-arrow {\n  -webkit-transform: translateX(-1.25ch) rotate(45deg);\n  -moz-transform: translateX(-1.25ch) rotate(45deg);\n  -o-transform: translateX(-1.25ch) rotate(45deg);\n  -ms-transform: translateX(-1.25ch) rotate(45deg);\n  transform: translate(-1.25ch) rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-ne-se .dcg-tooltip-message-container {\n  -webkit-transform: translateX(-1.25ch);\n  -moz-transform: translateX(-1.25ch);\n  -o-transform: translateX(-1.25ch);\n  -ms-transform: translateX(-1.25ch);\n  transform: translate(-1.25ch);\n}\n\n.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-nw-sw .dcg-tooltip-arrow {\n  -webkit-transform: translateX(.8ch) rotate(45deg);\n  -moz-transform: translateX(.8ch) rotate(45deg);\n  -o-transform: translateX(.8ch) rotate(45deg);\n  -ms-transform: translateX(.8ch) rotate(45deg);\n  transform: translate(.8ch) rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-nw-sw .dcg-tooltip-message-container {\n  -webkit-transform: translateX(.8ch);\n  -moz-transform: translateX(.8ch);\n  -o-transform: translateX(.8ch);\n  -ms-transform: translateX(.8ch);\n  transform: translate(.8ch);\n}\n\n.dcg-calculator-api-container .dcg-drop-image {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 42;\n  text-align: center;\n  vertical-align: middle;\n  background: rgba(255,255,255,.5);\n  border: 8px dashed #bbb;\n  font-family: sans-serif;\n  color: #bbb;\n  font-size: 370%;\n}\n\n.dcg-calculator-api-container .dcg-drop-image span {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  top: 0;\n  height: 3.6em;\n  line-height: 1.2em;\n  margin: auto;\n  padding: 0 20px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel-outer {\n  display: inline-block;\n  overflow-x: visible;\n  margin-left: 0;\n}\n\n.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel-container {\n  width: 100%;\n  -webkit-transform: translateZ(0);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  -webkit-transition: -webkit-transform .25s ease-out;\n  -moz-transition: -moz-transform .25s ease-out;\n  -o-transition: -o-transform .25s ease-out;\n  -ms-transition: -ms-transform .25s ease-out;\n  transition: transform .25s ease-out;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n\n.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel-container.dcg-add-shadow {\n  -webkit-box-shadow: 0 -4px 6px rgba(0,0,0,.2);\n  box-shadow: 0 -4px 6px #0003;\n}\n\n.dcg-calculator-api-container .dcg-show-expressions-tab {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  -webkit-animation: dcg-fadeIn .3s forwards;\n  -moz-animation: dcg-fadeIn .3s forwards;\n  -o-animation: dcg-fadeIn .3s forwards;\n  -ms-animation: dcg-fadeIn .3s forwards;\n  animation: dcg-fadeIn .3s forwards;\n  -webkit-animation-delay: .4s;\n  -moz-animation-delay: .4s;\n  -o-animation-delay: .4s;\n  -ms-animation-delay: .4s;\n  animation-delay: .4s;\n}\n\n.dcg-calculator-api-container .dcg-exppanel {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  overflow-anchor: none;\n  border-right: 1px solid rgba(0,0,0,.2);\n  z-index: 0;\n  -webkit-overflow-scrolling: touch;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionlist {\n  position: relative;\n  padding-bottom: 50px;\n  min-height: 100%;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-exppanel-container {\n  z-index: 40;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-exppanel {\n  border-right: 0;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem {\n  display: block;\n  position: relative;\n  margin-top: -1px;\n  border-top: 1px solid rgba(206,206,206,.8);\n  border-bottom: 1px solid transparent;\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem:not(.dcg-expressionimage) {\n  cursor: text;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected,\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging {\n  border-color: #6a93d2;\n  border-width: 2px 0;\n  border-right: 1px solid #6a93d2;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-fade-container,\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-fade-container {\n  margin-top: -1px;\n  margin-bottom: -1px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-tab,\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-tab {\n  color: #fff;\n  border-right: 1px solid transparent;\n  background: #6a93d2;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-expression-bottom.dcg-fadein-bottom {\n  position: relative;\n  -webkit-animation: dcg-fadeIn .8s;\n  -moz-animation: dcg-fadeIn .8s;\n  -o-animation: dcg-fadeIn .8s;\n  -ms-animation: dcg-fadeIn .8s;\n  animation: dcg-fadeIn .8s;\n  cursor: default;\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-indent-in-folder {\n  margin-left: 53px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-fade-container:after {\n  position: absolute;\n  top: 5px;\n  bottom: 5px;\n  left: 56px;\n  content: "";\n  border-left: 1px solid rgba(0,0,0,.2);\n  -webkit-animation: dcg-fadeIn .3s;\n  -moz-animation: dcg-fadeIn .3s;\n  -o-animation: dcg-fadeIn .3s;\n  -ms-animation: dcg-fadeIn .3s;\n  animation: dcg-fadeIn .3s;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-main {\n  margin-left: 20px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-indent-in-folder {\n  margin-left: 73px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-shell {\n  height: 54px;\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container {\n  position: relative;\n  padding-bottom: 6px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-main {\n  position: relative;\n  padding: 15px 35px 9px 53px;\n  white-space: nowrap;\n  font-size: 110%;\n  vertical-align: middle;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-main .dcg-mq-container,\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-main .dcg-math-field {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved {\n  font-size: 80%;\n  color: #666;\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved i {\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a {\n  color: #666;\n  margin-left: 5px;\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a.dcg-hovered {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved .dcg-btn {\n  padding: 2px 5px;\n  margin-top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-tab {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  padding: 1px 2px;\n  font-size: 65%;\n  text-align: left;\n  color: #00000080;\n  background: #eee;\n  border-right: 1px solid rgba(0,0,0,.06);\n  cursor: move;\n  width: 38px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-readonly .dcg-tab {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontext .dcg-icon-text {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: -7px 0 0 -7px;\n  font-size: 140%;\n  opacity: .25;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";\n  filter: alpha(opacity=25);\n}\n\n.dcg-calculator-api-container .dcg-expressiontable {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-expressiontable .dcg-fade-container.dcg-hovered {\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly {\n  background: #eee;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly .dcg-parameter-suggestion-container {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly .dcg-lock-indicator {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  color: #bbb;\n  text-shadow: -1px -1px 0 #eee,-1px 1px 0 #eee,1px -1px 0 #eee,1px 1px 0 #eee,0 -1px 0 #eee,0 1px 0 #eee,1px 0 0 #eee,-1px 0 0 #eee;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly .dcg-mathquill-wrapper {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly .dcg-mathquill-wrapper .dcg-tooltip-hit-area-container {\n  pointer-events: auto;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly .dcg-mathquill-wrapper .dcg-tooltip-hit-area-container .dcg-braille-input {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly .dcg-tabledata .dcg-row .dcg-cell,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly .dcg-fade-container {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly .dcg-fade-container .dcg-main .dcg-table-container:before,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly .dcg-fade-container .dcg-main .dcg-tabledata:before {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly .dcg-fade-container .dcg-main .dcg-table-container:after,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-readonly .dcg-fade-container .dcg-main .dcg-tabledata:after {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-exppanel:not(.dcg-edit-list-mode) .dcg-expressionitem.dcg-readonly {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-exppanel:not(.dcg-edit-list-mode) .dcg-expressionitem.dcg-readonly .dcg-edit-list-mathquill,\n.dcg-calculator-api-container .dcg-exppanel:not(.dcg-edit-list-mode) .dcg-expressionitem.dcg-readonly .dcg-main {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-exppanel:not(.dcg-edit-list-mode) .dcg-expressionitem.dcg-readonly .dcg-evaluation {\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-exppanel:not(.dcg-edit-list-mode) .dcg-expressionitem.dcg-readonly:after {\n  content: "";\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 18px;\n  background: -webkit-linear-gradient(left,rgba(238,238,238,0),#eee 40%);\n  background: -moz-linear-gradient(left,rgba(238,238,238,0),#eee 40%);\n  background: -o-linear-gradient(left,rgba(238,238,238,0),#eee 40%);\n  background: -ms-linear-gradient(left,rgba(238,238,238,0),#eee 40%);\n  background: linear-gradient(to right,rgba(238,238,238,0),#eee 40%);\n}\n\n.dcg-calculator-api-container .dcg-exppanel:not(.dcg-edit-list-mode) .dcg-expressionitem.dcg-readonly:before {\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 38px;\n  bottom: 0;\n  width: 18px;\n  background: -webkit-linear-gradient(right,rgba(238,238,238,0),#eee 40%);\n  background: -moz-linear-gradient(right,rgba(238,238,238,0),#eee 40%);\n  background: -o-linear-gradient(right,rgba(238,238,238,0),#eee 40%);\n  background: -ms-linear-gradient(right,rgba(238,238,238,0),#eee 40%);\n  background: linear-gradient(to left,rgba(238,238,238,0),#eee 40%);\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-exppanel:not(.dcg-edit-list-mode) .dcg-expressionitem.dcg-readonly .dcg-main {\n  overflow-x: auto;\n}\n\n.dcg-calculator-api-container .dcg-exppanel:not(.dcg-edit-list-mode) .dcg-expressionitem.dcg-readonly .dcg-main .dcg-table-container {\n  overflow: visible;\n}\n\n.dcg-calculator-api-container .dcg-exppanel:not(.dcg-edit-list-mode) .dcg-expressionitem.dcg-readonly .dcg-edit-list-mathquill .dcg-static-mathquill-view {\n  padding-right: 20px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel:not(.dcg-edit-list-mode) .dcg-mathquill-braille-overflow-right .dcg-tooltip-hit-area-container:after {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem:not(.dcg-mathitem).dcg-selected .dcg-top-level-delete {\n  padding-bottom: 0;\n  padding-left: 0;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-top-level-delete,\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-icon-lock {\n  right: -1px;\n}\n\n.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-expression-bottom {\n  margin-right: -1px;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel input.dcg-image-name {\n  display: block!important;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel div.dcg-image-name,\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-top-level-delete,\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-lock-indicator {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-edit-domain {\n  display: block!important;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext .dcg-displayTextarea,\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder .dcg-displayTextarea {\n  pointer-events: none;\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext textarea,\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder textarea {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-drag-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1000;\n}\n\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem {\n  background: #fff;\n  overflow: hidden;\n  -webkit-box-shadow: 0 0 10px #888;\n  box-shadow: 0 0 10px #888;\n  border-color: #6a93d2;\n  border-right: 1px solid #6a93d2;\n}\n\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-indent-in-folder,\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-fade-container:after,\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-main {\n  -webkit-transition: .3s;\n  -moz-transition: .3s;\n  -o-transition: .3s;\n  -ms-transition: .3s;\n  transition: .3s;\n}\n\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-tab {\n  background: #6a93d2;\n}\n\n.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-num {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-template-expressioneach .dcg-expressionitem.dcg-dragging {\n  visibility: hidden;\n}\n\n.dcg-calculator-api-container .dcg-exppanel.dcg-isDragging .dcg-expressionitem.dcg-new-expression {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field {\n  border: none;\n  -webkit-box-shadow: none!important;\n  box-shadow: none!important;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field textarea {\n  resize: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field.dcg-hasCursor {\n  -webkit-box-shadow: none!important;\n  box-shadow: none!important;\n}\n\n.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-supsub {\n  margin-bottom: -.2em;\n}\n\n.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-sub {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-int .dcg-mq-sub {\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-clear {\n  clear: both;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-expressionitem {\n  border-top-color: #0003;\n}\n\n.dcg-calculator-api-container .dcg-expression-icon-container {\n  position: absolute;\n  top: 28px;\n  left: 50%;\n  height: 29px;\n  width: 29px;\n  margin-top: -14.5px;\n  margin-left: -14.5px;\n  text-align: center;\n  line-height: 29px;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n}\n\n.dcg-calculator-api-container .dcg-selected .dcg-expression-icon-container {\n  top: 27px;\n}\n\n.dcg-calculator-api-container .dcg-tooltipped-error {\n  color: #e66b3c;\n  font-size: 22px;\n  cursor: pointer;\n  display: inline-block;\n  width: 26px;\n  height: 26px;\n  text-align: center;\n  -webkit-animation: dcg-delayed-fadeIn 1s;\n  -moz-animation: dcg-delayed-fadeIn 1s;\n  -o-animation: dcg-delayed-fadeIn 1s;\n  -ms-animation: dcg-delayed-fadeIn 1s;\n  animation: dcg-delayed-fadeIn 1s;\n  position: relative;\n  top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-tooltipped-error.dcg-small {\n  font-size: 14px;\n  width: 16px;\n  height: 16px;\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-tooltipped-error.dcg-white {\n  color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon-container {\n  width: 29px;\n  height: 29px;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon {\n  display: inline-block;\n  width: 29px;\n  height: 29px;\n  line-height: 29px;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  position: relative;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-semi-transparent {\n  opacity: .4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden {\n  -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,.25);\n  box-shadow: inset 0 0 3px #00000040;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  border: 5px solid #999;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  opacity: .25;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";\n  filter: alpha(opacity=25);\n  content: "";\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-white-icon:before {\n  border-color: #fff;\n  opacity: .4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-hovered:before {\n  opacity: .3125;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=31)";\n  filter: alpha(opacity=31);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-hovered.dcg-white-icon:before {\n  opacity: .5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-depressed:before {\n  opacity: .375;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=38)";\n  filter: alpha(opacity=38);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-depressed.dcg-white-icon:before {\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline {\n  border: 2px solid #000;\n  opacity: .5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n  color: #000;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-hovered {\n  opacity: .7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-depressed {\n  opacity: .9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-folder {\n  position: relative;\n  top: -1px;\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-pause {\n  position: relative;\n  top: -1px;\n  left: .25px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-play {\n  position: relative;\n  top: -1px;\n  left: 1.5px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-fraction {\n  font-size: 20px;\n  position: relative;\n  top: 2px;\n  left: .5px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon {\n  color: #fff;\n  border-color: #fff;\n  opacity: .9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-hovered,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image {\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image:after {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  content: "";\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  overflow: hidden;\n  -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.7);\n  box-shadow: inset 0 0 4px #000000b3;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image .dcg-background-image {\n  width: 29px;\n  height: 29px;\n  display: inline-block;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  -webkit-background-size: 29px 29px!important;\n  -moz-background-size: 29px 29px!important;\n  background-size: 29px 29px!important;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i {\n  text-shadow: 0 0 6px rgba(0,0,0,.2),0 0 1px rgba(0,0,0,.5);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon .dcg-spinner {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-top: -10px;\n  margin-left: -10px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon {\n  -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,.25);\n  box-shadow: inset 0 0 3px #00000040;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon {\n  text-shadow: 0 0 3px rgba(0,0,0,.25);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon {\n  font-size: 35px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-medium,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-medium {\n  font-size: 42.25px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-large,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-large {\n  font-size: 56.75px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-small,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-small {\n  font-size: 32.1px;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-rotated,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-rotated {\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -o-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon {\n  position: absolute;\n  top: -3px;\n  left: -30px;\n  right: -30px;\n  bottom: -3px;\n  color: #fff;\n  line-height: 35px;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-check,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-check {\n  font-size: 50%;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-vertical,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-vertical,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-horizontal,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-horizontal,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-arrow-right,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-arrow-right {\n  font-size: 55%;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-point,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-point,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-cross,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-cross,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-open,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-open {\n  font-size: 75%;\n}\n\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-points,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-points,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-lines-solid,\n.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-lines-solid {\n  font-size: 68%;\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-circular-icon-container.dcg-disabled {\n  opacity: .5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-container {\n  position: absolute;\n  top: 100%;\n  left: -5px;\n  right: -5px;\n  margin-top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener {\n  margin-left: 1px;\n  padding: 5px;\n  text-align: center;\n  font-size: 140%;\n  cursor: pointer;\n  opacity: .75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener:before {\n  content: "";\n  width: 24px;\n  height: 24px;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  display: inline-block;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-left: -12px;\n  margin-top: -13px;\n  background: currentColor;\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-hovered {\n  opacity: .9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-hovered:before {\n  opacity: .15;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=15)";\n  filter: alpha(opacity=15);\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-menu-open {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-menu-open:before {\n  opacity: .3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-depressed:before {\n  opacity: .4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n}\n\n.dcg-calculator-api-container .dcg-action-icon-view i.dcg-icon-chevron-right {\n  font-size: 115%;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-action-icon-view i.dcg-icon-minus {\n  -webkit-transform: translate(3.5px,-1px);\n  -moz-transform: translate(3.5px,-1px);\n  -o-transform: translate(3.5px,-1px);\n  -ms-transform: translate(3.5px,-1px);\n  transform: translate(3.5px,-1px);\n  font-size: 90%;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-action-icon-view.dcg-action-icon-view-animating i.dcg-icon-chevron-right {\n  -webkit-transition: .15s;\n  -moz-transition: .15s;\n  -o-transition: .15s;\n  -ms-transition: .15s;\n  transition: .15s;\n  -webkit-transform: rotate(360deg);\n  -moz-transform: rotate(360deg);\n  -o-transform: rotate(360deg);\n  -ms-transform: rotate(360deg);\n  transform: rotate(360deg);\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -webkit-box-align: end;\n  -moz-box-align: end;\n  -o-box-align: end;\n  -ms-flex-align: end;\n  -webkit-align-items: flex-end;\n  align-items: flex-end;\n  margin-right: 5px;\n  padding: 1px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle {\n  color: #bbb;\n  margin-bottom: 2px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle.dcg-depressed {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle .dcg-toggle-letter {\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle i {\n  margin: 0 2px;\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-color-swatch {\n  margin-right: -2px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation {\n  margin-top: -3px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation.dcg-hidden {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-static-mathquill-view {\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-mathquill-braille {\n  padding: 5px 0;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input {\n  text-align: right;\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-typeset-math {\n  padding: 3px 6px 3px 3px;\n  display: table;\n  border: 1px solid rgba(206,206,206,.8);\n  background: rgba(0,0,0,.04);\n  color: #222;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container {\n  font-weight: 400;\n  cursor: pointer;\n  white-space: nowrap;\n  display: table-cell;\n  vertical-align: middle;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container .dcg-mq-math-mode {\n  cursor: pointer;\n  padding-right: 2px;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html {\n  white-space: nowrap;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  display: table-cell;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html.dcg-color-evaluation {\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html .dcg-evaluation-list {\n  position: relative;\n  top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-color-swatch {\n  width: 30px;\n  height: 30px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  display: inline-block;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-color-swatch.dcg-light-color {\n  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.2) inset;\n  box-shadow: 0 0 0 1px #0003 inset;\n}\n\n.dcg-calculator-api-container .dcg-color-swatch.dcg-hovered:not(.dcg-color-evaluation) {\n  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,.15);\n  box-shadow: 0 0 0 2px #00000026;\n}\n\n.dcg-calculator-api-container .dcg-color-swatch.dcg-hovered:not(.dcg-color-evaluation).dcg-light-color {\n  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,.15),0 0 0 1px rgba(0,0,0,.2) inset;\n  box-shadow: 0 0 0 2px #00000026,0 0 0 1px #0003 inset;\n}\n\n.dcg-calculator-api-container .dcg-color-swatch.dcg-depressed:not(.dcg-color-evaluation) {\n  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,.25);\n  box-shadow: 0 0 0 2px #00000040;\n}\n\n.dcg-calculator-api-container .dcg-color-swatch.dcg-depressed:not(.dcg-color-evaluation).dcg-light-color {\n  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,.25),0 0 0 1px rgba(0,0,0,.2) inset;\n  box-shadow: 0 0 0 2px #00000040,0 0 0 1px #0003 inset;\n}\n\n.dcg-calculator-api-container .dcg-display-domain {\n  padding: 5px 0 13px;\n  font-size: 95%;\n  white-space: nowrap;\n  margin-bottom: -5px;\n  margin-top: -5px;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view {\n  display: inline-block;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 35px;\n  max-width: 70px;\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-inline-math-input-view .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #2f72dc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid):not(.dcg-static-mathquill-view) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view.dcg-large-font-inline-math-input {\n  font-size: 115%;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view.dcg-log-scale .dcg-math-field {\n  max-width: 100px;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view .dcg-mathquill-braille {\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 35px;\n  max-width: 35px;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view .dcg-mathquill-braille.dcg-focus,\n.dcg-calculator-api-container .dcg-inline-math-input-view .dcg-mathquill-braille.dcg-invalid {\n  border-bottom: 2px solid #2f72dc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view .dcg-mathquill-braille.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid):not(.dcg-static-mathquill-view) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view .dcg-mathquill-braille .dcg-tooltip-hit-area-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view.dcg-full-width-inline-math-input .dcg-math-field,\n.dcg-calculator-api-container .dcg-inline-math-input-view.dcg-full-width-inline-math-input .dcg-mathquill-braille {\n  width: 100%;\n  max-width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-inline-math-input-view.dcg-no-border-inline-math-input .dcg-math-field,\n.dcg-calculator-api-container .dcg-inline-math-input-view.dcg-no-border-inline-math-input .dcg-mathquill-braille {\n  border-bottom: 1px solid transparent;\n}\n\n.dcg-calculator-api-container .dcg-regression-container {\n  font-size: 80%;\n  color: #222;\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-statistics {\n  display: inline-block;\n  width: 130px;\n  float: left;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-residuals {\n  float: left;\n  width: 130px;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-residuals>.dcg-mathquill-wrapper {\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-r-value {\n  padding-left: .5em;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-residual-suggestion {\n  padding: 2px 8px;\n  margin-left: 7px;\n  line-height: 16px;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle {\n  clear: both;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle.dcg-visible {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle {\n  cursor: pointer;\n  padding: 5px 0;\n  color: #444;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  display: inline-block;\n  margin-bottom: 12px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox {\n  display: inline-block;\n  width: 15px;\n  height: 15px;\n  border: 1px solid rgba(0,0,0,.2);\n  float: left;\n  margin-right: 6px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox i {\n  color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-no-hover-styling {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-hovered .dcg-log-mode-checkbox,\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox {\n  border-color: #aaa;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-depressed .dcg-log-mode-checkbox {\n  border-color: #666;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox i {\n  color: #127a3d;\n  position: absolute;\n  top: -1px;\n  right: -2px;\n  font-size: 110%;\n  text-shadow: -1px -1px 0 #fff,1px -1px 0 #fff,-1px 1px 0 #fff,1px 1px 0 #fff;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help {\n  text-decoration: none;\n  color: #0003;\n  padding: 10px 6px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-hovered {\n  color: #aaa;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-depressed {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container {\n  clear: both;\n  padding-bottom: 4px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container .dcg-parameter {\n  float: left;\n  min-width: 130px;\n  padding-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container .dcg-parameter:nth-of-type(2n+1) {\n  clear: both;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning {\n  color: #666;\n  cursor: default;\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning i {\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning a {\n  color: #666;\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning a.dcg-hovered {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-regression-container .dcg-parameter-warning .dcg-btn {\n  padding: 2px 5px;\n  margin-top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox {\n  cursor: pointer;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox {\n  border: 1px solid #bbb;\n  margin-right: .5em;\n  width: 1.1em;\n  height: 1.1em;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  vertical-align: middle;\n  display: inline-block;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox i {\n  display: none;\n  font-size: 115%;\n  position: absolute;\n  top: -.15em;\n  left: .1em;\n  text-shadow: -1px -1px 0 #fff,-1px 1px 0 #fff,1px -1px 0 #fff,1px 1px 0 #fff,0 -1px 0 #fff,0 1px 0 #fff,1px 0 0 #fff,-1px 0 0 #fff;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox-children {\n  position: relative;\n  top: .1em;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox {\n  border: 1px solid #999;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox i {\n  display: block;\n  color: #e2e2e2;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-checked .dcg-checkbox i {\n  display: block;\n  color: #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-checked.dcg-hovered .dcg-checkbox {\n  border: 1px solid #999;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled {\n  pointer-events: none;\n  opacity: .5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled .dcg-checkbox {\n  background: rgba(0,0,0,.15);\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled.dcg-checked i {\n  display: block;\n  color: #999;\n}\n\n.dcg-calculator-api-container .dcg-component-checkbox.dcg-small {\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-disable-slider {\n  opacity: .3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n}\n\n.dcg-calculator-api-container .dcg-slider-interior {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  position: relative;\n  top: -4px;\n  margin-left: 7px;\n  margin-right: 7px;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb {\n  cursor: pointer;\n  z-index: 3;\n  -webkit-border-radius: 8px;\n  border-radius: 8px;\n  position: absolute;\n  top: -8px;\n  margin-left: -19px;\n  width: 38px;\n  height: 38px;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb:focus {\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb:focus:after {\n  position: absolute;\n  top: -4px;\n  left: 4px;\n  content: "";\n  pointer-events: none;\n  border: 2px solid rgba(47,114,220,.35);\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  width: 26px;\n  height: 26px;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb .dcg-graphic {\n  position: absolute;\n  top: 0;\n  left: 8px;\n  -webkit-border-radius: 12px;\n  border-radius: 12px;\n  width: 22px;\n  height: 22px;\n  background: rgba(47,114,220,.35);\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb .dcg-center {\n  position: absolute;\n  top: 0;\n  left: 8px;\n  -webkit-border-radius: 12px;\n  border-radius: 12px;\n  width: 22px;\n  height: 22px;\n  background: #2f72dc;\n  -webkit-transform: scale(.25,.25);\n  -moz-transform: scale(.25,.25);\n  -o-transform: scale(.25,.25);\n  -ms-transform: scale(.25,.25);\n  transform: scale(.25);\n  -webkit-transition: -webkit-transform .2s;\n  -moz-transition: -moz-transform .2s;\n  -o-transition: -o-transform .2s;\n  -ms-transition: -ms-transform .2s;\n  transition: transform .2s;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb.dcg-hovered .dcg-center,\n.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb.dcg-down .dcg-center {\n  -webkit-transform: scale(1,1);\n  -moz-transform: scale(1,1);\n  -o-transform: scale(1,1);\n  -ms-transform: scale(1,1);\n  transform: scale(1);\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-zeroMarker {\n  position: absolute;\n  top: 2px;\n  z-index: 2;\n  width: 2px;\n  height: 2px;\n  background: rgba(0,0,0,.3);\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-track {\n  cursor: pointer;\n  height: 22px;\n  position: absolute;\n  left: 0;\n  right: 0;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-ticks {\n  position: absolute;\n  top: 2px;\n  bottom: 0;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-ticks .dcg-tick {\n  position: absolute;\n  top: 0;\n  width: 2px;\n  height: 2px;\n  background-color: #fff;\n  margin-left: 0;\n  z-index: 1;\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n}\n\n.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-graphic {\n  height: 6px;\n  background-color: #0000001a;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  margin-bottom: 6px;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel {\n  padding: 10px 4px 10px 8px;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel {\n  padding: 10px 8px 10px 4px;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel,\n.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel {\n  z-index: 4;\n  color: #00000080;\n  margin: -10px 0;\n  min-width: 26px;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel .dcg-mq-math-mode,\n.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel .dcg-mq-math-mode {\n  font-family: arial,sans-serif;\n  cursor: pointer;\n  font-size: 80%;\n  position: relative;\n  top: -1px;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel.dcg-hovered,\n.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel.dcg-hovered {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel.dcg-depressed,\n.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-animate-play,\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-animate-pause,\n.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-slider-speed-container {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-slider-container {\n  min-height: 26px;\n  display: block;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-slider {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  margin-left: -15px;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-create-sliders {\n  white-space: nowrap;\n  height: 26px;\n  line-height: 26px;\n}\n\n.dcg-calculator-api-container .dcg-create-sliders .dcg-msg {\n  display: inline-block;\n  margin-right: 5px;\n  font-size: 80%;\n  color: #0009;\n}\n\n.dcg-calculator-api-container .dcg-create-sliders .dcg-all .dcg-btn-slider {\n  font-style: normal;\n}\n\n.dcg-calculator-api-container .dcg-create-sliders .dcg-btn-slider {\n  padding: 0 10px!important;\n  font-family: times;\n  font-size: 90%;\n  font-style: italic;\n}\n\n.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container {\n  display: inline-block;\n  position: relative;\n  margin-right: 3px;\n  height: 16px;\n  margin-bottom: 4px;\n  margin-top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container .dcg-btn-slider {\n  height: 25px;\n  line-height: 25px;\n}\n\n.dcg-calculator-api-container .dcg-prompt-rename {\n  display: inline-block;\n  font-size: 90%;\n  margin-bottom: -3px;\n}\n\n.dcg-calculator-api-container .dcg-prompt-rename .dcg-btn-light-gray {\n  padding: 2px 5px;\n  margin-left: 6px;\n  margin-right: 6px;\n}\n\n.dcg-calculator-api-container .dcg-prompt-rename .dcg-reference-count {\n  color: #999;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-editable-mode-toggle {\n  padding-left: 5px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container {\n  cursor: default;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-warning-container {\n  position: absolute;\n  bottom: 3px;\n  right: 41px;\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container input {\n  outline: none;\n  border: 1px solid #bbb;\n  border-top: 0!important;\n  border-right: 0!important;\n  border-left: 0!important;\n  color: #000;\n  padding: 1px 2px;\n  -webkit-appearance: none;\n  -webkit-border-radius: 0;\n  border-radius: 0;\n  min-width: 5px;\n  font-size: inherit;\n  margin-left: 5px;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container input.dcg-hovered {\n  border-color: #ccc;\n  -webkit-box-shadow: 0 1px #ccc;\n  box-shadow: 0 1px #ccc;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container input:focus:not([disabled]) {\n  border-color: #2f72dc;\n  -webkit-box-shadow: 0 1px #2f72dc;\n  box-shadow: 0 1px #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container input.dcg-disabled-editable-input {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container input.dcg-readonly {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container:not(.dcg-label-visible) input.dcg-disabled-input:not(:focus) {\n  border-bottom-color: transparent;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-label-container.dcg-label-visible .dcg-checkbox {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-editable-mode-toggle {\n  position: relative;\n  top: -3px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expression-bottom .dcg-label-container {\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-expression-bottom .dcg-label-container {\n  font-size: 80%;\n  color: #00000080;\n  padding-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn {\n  color: #000000d9;\n  text-align: center;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  border: 1px solid rgba(0,0,0,.42);\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn .dcg-segmented-control-interior {\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn i {\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn:not(:last-of-type) {\n  border-right: 0;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-hovered:not(.dcg-selected) {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-depressed:not(.dcg-selected) {\n  background: rgba(0,0,0,.05);\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn:first-of-type {\n  border-top-left-radius: 3px;\n  border-bottom-left-radius: 3px;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn:last-of-type {\n  border-top-right-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-selected {\n  color: #fff;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-default {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-default .dcg-segmented-control-interior {\n  height: 34px;\n  line-height: 34px;\n  padding: 0 4px;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-default.dcg-hovered:not(.dcg-selected) {\n  border-color: #0000009e;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-default.dcg-selected {\n  border: 1px solid rgba(0,0,0,.65);\n  background: rgba(0,0,0,.65);\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-mini {\n  border-color: #ccc;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-mini .dcg-segmented-control-interior {\n  padding: 4px 6px;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-mini.dcg-hovered:not(.dcg-selected) {\n  background: rgba(0,0,0,.05);\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-mini.dcg-depressed:not(.dcg-selected) {\n  background: rgba(0,0,0,.2);\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-mini.dcg-selected {\n  background: rgba(47,114,220,.15);\n  border-color: #2f72dc;\n  color: #2f72dc;\n  cursor: default!important;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-mini.dcg-selected+.dcg-segmented-control-btn {\n  border-left: 1px solid #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-mini.dcg-disabled {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-mini.dcg-disabled.dcg-selected+.dcg-segmented-control-btn {\n  border-left: 1px solid #666;\n}\n\n.dcg-calculator-api-container .dcg-segmented-control-container .dcg-segmented-control-btn.dcg-theme-mini.dcg-disabled.dcg-selected {\n  background: rgba(0,0,0,.1);\n  border-color: #666;\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-component-checkbox {\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-cdf-footer-container {\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-component-checkbox {\n  margin-bottom: 4px;\n}\n\n.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-parameter-name {\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-cdf-evaluation-container {\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-inline-math-input-view {\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-parameter-suggestion-container {\n  font-size: 80%;\n  position: relative;\n  top: -9px;\n  margin-left: 2px;\n  white-space: nowrap;\n  width: 100%;\n  padding-right: 5px;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  color: #666;\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-parameter-suggestion-braille {\n  top: -6px;\n}\n\n.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-hovered .dcg-default-marker {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-depressed .dcg-default-marker {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-parameter-suggestion-container .dcg-default-marker {\n  color: #00000080;\n  margin-left: .3em;\n}\n\n.dcg-calculator-api-container .dcg-parameter-suggestion-container .dcg-parameter-name:not(:last-of-type):after {\n  content: ",";\n  margin-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container {\n  margin-bottom: 5px;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-smaller-font {\n  font-size: 85%;\n  margin-left: 2px;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-mathquill-wrapper {\n  margin-left: 10px;\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-parameter-name {\n  font-size: 105%;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-component-checkbox {\n  margin-top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container {\n  display: inline-block;\n  margin-bottom: 5px;\n  margin-right: 15px;\n}\n\n.dcg-calculator-api-container .dcg-ttest-footer-container {\n  margin-right: $evaluation-margin;\n  cursor: text;\n  padding-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-ttest-footer-container table {\n  margin-left: auto;\n}\n\n.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n  margin-top: 3px;\n  border: 1px solid rgba(206,206,206,.8);\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  background: rgba(0,0,0,.04);\n  opacity: .75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n}\n\n.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value .dcg-operator .dcg-static-mathquill-view {\n  border-right: 1px solid rgba(206,206,206,.8);\n  margin-right: 5px;\n  min-width: 35px;\n  text-align: center;\n  padding: 3px;\n}\n\n.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view {\n  padding: 3px 6px 3px 3px;\n}\n\n.dcg-calculator-api-container .dcg-stats-footer-container {\n  margin-right: $evaluation-margin;\n  cursor: text;\n  padding-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-stats-footer-container table {\n  margin-left: auto;\n}\n\n.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value {\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n  margin-top: 3px;\n  border: 1px solid rgba(206,206,206,.8);\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  background: rgba(0,0,0,.04);\n  opacity: .75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n}\n\n.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value .dcg-row-header {\n  display: inline-block;\n  border-right: 1px solid rgba(206,206,206,.8);\n  margin-right: 5px;\n  width: 68px;\n  padding: 5px;\n}\n\n.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view {\n  padding: 3px 6px 3px 3px;\n}\n\n.dcg-calculator-api-container .dcg-action-info {\n  cursor: default;\n  color: #666;\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-action-info .dcg-click-edit {\n  margin-left: 5px;\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-action-info .dcg-click-edit.dcg-hovered {\n  opacity: .8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-action-info .dcg-click-edit.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions {\n  padding-left: 5px;\n  padding-right: 7px;\n  white-space: nowrap;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions:not(.dcg-limited-height) {\n  bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-graphic {\n  height: 100%;\n  background: -webkit-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -moz-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -o-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -ms-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: linear-gradient(to right,rgba(255,255,255,0),#fff);\n  position: absolute;\n  top: 0;\n  right: 100%;\n  width: 40px;\n  cursor: default;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button {\n  margin-left: 2px;\n  width: 44px;\n  height: 44px;\n  padding: 12px 10px;\n  text-align: center;\n  margin-top: 4px;\n  display: inline-block;\n  font-size: 125%;\n  line-height: 20px;\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button.dcg-hovered {\n  background: rgba(0,0,0,.1);\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button.dcg-selected {\n  background: rgba(0,0,0,.8);\n  color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-suggested-zoom-view {\n  position: absolute;\n  bottom: 7px;\n  left: 50%;\n  font-size: 20px;\n  line-height: 20px;\n  margin-left: -10px;\n  text-align: center;\n  -webkit-animation: dcg-fadeIn .3s;\n  -moz-animation: dcg-fadeIn .3s;\n  -o-animation: dcg-fadeIn .3s;\n  -ms-animation: dcg-fadeIn .3s;\n  animation: dcg-fadeIn .3s;\n}\n\n.dcg-calculator-api-container .dcg-suggested-zoom-view i {\n  padding: 5px;\n  margin-left: -5px;\n  opacity: .75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n}\n\n.dcg-calculator-api-container .dcg-suggested-zoom-view i.dcg-hovered {\n  opacity: .9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-suggested-zoom-view i.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-slider_menu {\n  position: relative;\n  top: -3px;\n}\n\n.dcg-calculator-api-container .dcg-expression-footer-title {\n  text-transform: uppercase;\n  font-size: 80%;\n  color: #00000080;\n  margin-bottom: 4px;\n}\n\n.dcg-calculator-api-container .dcg-expression-footer-title-help {\n  padding: 10px;\n  color: #00000080;\n  margin: -10px -10px -10px -6px;\n  cursor: pointer;\n  text-decoration: none;\n}\n\n.dcg-calculator-api-container .dcg-expression-footer-title-help.dcg-hovered {\n  color: #888;\n}\n\n.dcg-calculator-api-container .dcg-expression-footer-title-help.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-expression-bottom .dcg-expression-braille-error {\n  color: #666;\n  margin: 10px 10px 10px 0;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-expression-bottom .dcg-expression-braille-error .dcg-icon-error {\n  font-size: 80%;\n  margin-right: 5px;\n  color: #fa824c;\n}\n\n.dcg-calculator-api-container .dcg-expression-bottom .dcg-slider-step-container {\n  margin-left: 10px;\n}\n\n.dcg-calculator-api-container .dcg-expression-bottom .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,\n.dcg-calculator-api-container .dcg-expression-bottom .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille {\n  opacity: .3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expression-bottom .dcg-slider-step-label {\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-expression-bottom .dcg-mq-editable-field {\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-top-level-icon {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: calc(1.15rem + 12px);\n  height: calc(1.15rem + 16px);\n  overflow: visible;\n  outline-offset: -4px;\n}\n\n.dcg-calculator-api-container .dcg-top-level-icon i {\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 8px 7px 20px 20px;\n  z-index: 2;\n  opacity: .2;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n  filter: alpha(opacity=20);\n  font-size: 115%;\n}\n\n.dcg-calculator-api-container .dcg-top-level-icon .dcg-top-level-delete,\n.dcg-calculator-api-container .dcg-top-level-icon .dcg-icon-replace {\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-top-level-icon .dcg-top-level-delete.dcg-hovered,\n.dcg-calculator-api-container .dcg-top-level-icon .dcg-icon-replace.dcg-hovered {\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-top-level-icon .dcg-top-level-delete.dcg-depressed,\n.dcg-calculator-api-container .dcg-top-level-icon .dcg-icon-replace.dcg-depressed {\n  opacity: .8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container {\n  position: relative;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea,\n.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea {\n  border: 0;\n  font: inherit;\n  resize: none;\n  background: transparent;\n  overflow: hidden;\n  outline: none;\n  color: #000;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  width: 100%;\n  padding: 3px;\n  margin: -1px;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  position: absolute;\n  top: 1px;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  height: 100%;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea.dcg-empty {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea:after {\n  content: "|";\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  width: 0;\n  overflow: hidden;\n  display: inline-block;\n  height: 1px;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a {\n  z-index: 1;\n  position: relative;\n  color: #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a.dcg-hovered,\n.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a .dcg-depressed {\n  color: #2253a1;\n}\n\n.dcg-calculator-api-container .dcg-selected .dcg-smart-textarea-container .dcg-displayTextarea {\n  pointer-events: none;\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-selected .dcg-smart-textarea-container textarea {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-icon-container {\n  position: absolute;\n  top: 50%;\n  left: 5px;\n  margin-top: -14.5px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-drag-icon {\n  opacity: .4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n  vertical-align: middle;\n  pointer-events: none;\n  font-size: 95%;\n  position: absolute;\n  top: 50%;\n  right: 4px;\n  margin-top: -10px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell-math-content,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-mathquill-braille {\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell:not(.dcg-non-editable) .dcg-cell-math-content,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell:not(.dcg-non-editable) .dcg-mathquill-braille {\n  max-width: 100px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container {\n  overflow: hidden;\n  padding-left: 15px;\n  padding-right: 15px;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container:before {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 1;\n  background: -webkit-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: -moz-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: -o-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: -ms-linear-gradient(right,rgba(255,255,255,0),#fff);\n  background: linear-gradient(to left,rgba(255,255,255,0),#fff);\n  width: 20px;\n  content: "";\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container:after {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: -webkit-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -moz-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -o-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: -ms-linear-gradient(left,rgba(255,255,255,0),#fff);\n  background: linear-gradient(to right,rgba(255,255,255,0),#fff);\n  width: 20px;\n  content: "";\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container .dcg-table-sliding-container {\n  -webkit-transition: -webkit-transform .15s;\n  -moz-transition: -moz-transform .15s;\n  -o-transition: -o-transform .15s;\n  -ms-transition: -ms-transform .15s;\n  transition: transform .15s;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-main {\n  padding-top: 20px;\n  padding-bottom: 5px;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td {\n  border-top: 1px solid #e5e5e5;\n  text-align: center;\n  font-size: 80%;\n  color: #00000080;\n  padding: 8px 0;\n  font-style: italic;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more {\n  color: #2f72dc;\n  font-style: normal;\n  text-decoration: underline;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-hovered {\n  color: #2253a1;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-depressed {\n  color: #17396e;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata {\n  position: relative;\n  display: table;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row {\n  display: table-row;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell {\n  display: table-cell;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell {\n  border-top: 1px solid rgba(0,0,0,.15);\n  padding: 7px 10px 7px 20px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell.dcg-non-editable {\n  padding: 7px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type).dcg-braille-row .dcg-cell {\n  padding: 7px 20px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:nth-of-type(2) .dcg-cell {\n  border-top: 1px solid #444;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell {\n  vertical-align: bottom;\n  padding: 7px 5px 3px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) {\n  padding: 7px 15px 3px 30px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-static-mathquill-view {\n  margin-left: 10px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell .dcg-math-field {\n  min-height: 29px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:first-of-type.dcg-error {\n  padding-left: 33px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type.dcg-braille-row .dcg-cell:not(:first-of-type):not(:last-of-type) {\n  padding: 7px 15px 3px 40px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-static-mathquill-view {\n  padding-right: 8px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell {\n  position: relative;\n  text-align: center;\n  vertical-align: middle;\n  font-size: 72%;\n  min-height: 34px;\n  min-width: 40px;\n  cursor: text;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-braille-input {\n  text-align: center;\n  min-width: 40px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(:first-of-type) {\n  border-left: 1px solid rgba(0,0,0,.15);\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:nth-of-type(2) {\n  border-left: 1px solid #444;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable .dcg-mq-math-mode {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(.dcg-non-editable):not(.dcg-selected).dcg-empty .dcg-empty-line {\n  position: absolute;\n  width: 26px;\n  left: 50%;\n  margin-left: -13px;\n  border-top: 1px dashed #bbb;\n  bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border {\n  position: absolute;\n  left: -1px;\n  top: -1px;\n  bottom: -1px;\n  right: -1px;\n  z-index: 1;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable {\n  background: #f5f5f5;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable .dcg-mathquill-braille-overflow-left .dcg-tooltip-hit-area-container:before {\n  background: -webkit-linear-gradient(right,rgba(245,245,245,0),#f5f5f5);\n  background: -moz-linear-gradient(right,rgba(245,245,245,0),#f5f5f5);\n  background: -o-linear-gradient(right,rgba(245,245,245,0),#f5f5f5);\n  background: -ms-linear-gradient(right,rgba(245,245,245,0),#f5f5f5);\n  background: linear-gradient(to left,rgba(245,245,245,0),#f5f5f5);\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable .dcg-mathquill-braille-overflow-right .dcg-tooltip-hit-area-container:after {\n  background: -webkit-linear-gradient(left,rgba(245,245,245,0),#f5f5f5);\n  background: -moz-linear-gradient(left,rgba(245,245,245,0),#f5f5f5);\n  background: -o-linear-gradient(left,rgba(245,245,245,0),#f5f5f5);\n  background: -ms-linear-gradient(left,rgba(245,245,245,0),#f5f5f5);\n  background: linear-gradient(to right,rgba(245,245,245,0),#f5f5f5);\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border {\n  border: 2px solid #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-mq-math-mode {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-table-icon-error-container {\n  position: absolute;\n  top: 50%;\n  left: 4px;\n  margin-top: -7px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header {\n  font-size: 85%;\n  min-height: 37px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header .dcg-mathquill-braille {\n  min-height: 30px;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mq-editable-field,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-static-mathquill-view,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-static-mathquill-view,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mathquill-braille,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mathquill-braille {\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable.dcg-faded-h .dcg-tabledata:after {\n  content: "";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background: -webkit-linear-gradient(right,#fff,rgba(255,255,255,0));\n  background: -moz-linear-gradient(right,#fff,rgba(255,255,255,0));\n  background: -o-linear-gradient(right,#fff,rgba(255,255,255,0));\n  background: -ms-linear-gradient(right,#fff,rgba(255,255,255,0));\n  background: linear-gradient(to left,#fff,rgba(255,255,255,0));\n  width: 60px;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable.dcg-faded-v .dcg-tabledata:before {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 30px;\n  pointer-events: none;\n  background: -webkit-linear-gradient(bottom,#fff,rgba(255,255,255,0));\n  background: -moz-linear-gradient(bottom,#fff,rgba(255,255,255,0));\n  background: -o-linear-gradient(bottom,#fff,rgba(255,255,255,0));\n  background: -ms-linear-gradient(bottom,#fff,rgba(255,255,255,0));\n  background: linear-gradient(to top,#fff,rgba(255,255,255,0));\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable.dcg-faded-v .dcg-tabledata .dcg-row:last-of-type .dcg-cell .dcg-empty-line {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected).dcg-faded-v .dcg-tabledata .dcg-row:last-of-type {\n  visibility: hidden;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected).dcg-faded-v .dcg-tabledata .dcg-row:last-of-type .dcg-cell {\n  border-color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected).dcg-faded-v .dcg-tabledata .dcg-row .dcg-cell:last-of-type {\n  border-color: transparent;\n  visibility: hidden;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container {\n  font-size: 95%;\n  position: absolute;\n  top: -1px;\n  left: 38px;\n  width: 32px;\n  height: 48px;\n  color: #999;\n  padding-left: 10px;\n  padding-top: 18px;\n  text-align: left;\n  z-index: 2;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container i {\n  -webkit-transition: .2s;\n  -moz-transition: .2s;\n  -o-transition: .2s;\n  -ms-transition: .2s;\n  transition: .2s;\n  width: 16px;\n  height: 16px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container.dcg-hovered {\n  color: #666;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-collapsed .dcg-caret-container i {\n  display: inline-block;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-secretFolder {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder {\n  cursor: pointer;\n  color: #00000080;\n  font-size: 75%;\n  padding: 5px;\n  margin: 0 -5px -10px 15px;\n  position: relative;\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-fade-container:after {\n  -webkit-transition: 0;\n  -moz-transition: 0;\n  -o-transition: 0;\n  -ms-transition: 0;\n  transition: 0;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder:not(.dcg-collapsed).dcg-has-items .dcg-fade-container:after {\n  position: absolute;\n  top: 35px;\n  bottom: 5px;\n  left: 56px;\n  content: "";\n  border-left: 1px solid rgba(0,0,0,.2);\n  -webkit-animation: dcg-fadeIn .3s;\n  -moz-animation: dcg-fadeIn .3s;\n  -o-animation: dcg-fadeIn .3s;\n  -ms-animation: dcg-fadeIn .3s;\n  animation: dcg-fadeIn .3s;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-main textarea.dcg-smart-textarea,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-main .dcg-displayTextarea {\n  padding-left: 20px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loading,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-failed {\n  font-size: 100%;\n  padding: 1px;\n  color: #888;\n  font-style: italic;\n  line-height: 37px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-retry-loading-image {\n  color: #407bb5;\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid {\n  font-size: 80%;\n  display: grid;\n  grid-template-columns: min-content 2fr min-content 1fr;\n  width: calc(100% + 20px);\n  max-width: 450px;\n  color: #00000080;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-wrapper {\n  width: 100%;\n  padding-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-name,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-mathquill {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-align-self: center;\n  align-self: center;\n  -ms-flex-item-align: center;\n  padding-right: 5px;\n  overflow: hidden;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field:not(.dcg-focus) {\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-image-input-grid,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-braille-input {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: start;\n  -moz-box-pack: start;\n  -o-box-pack: start;\n  -ms-flex-pack: start;\n  -webkit-justify-content: flex-start;\n  justify-content: flex-start;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row .dcg-smart-textarea-container {\n  margin-bottom: 8px;\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row .dcg-smart-textarea-container textarea,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row .dcg-smart-textarea-container .dcg-displayTextarea {\n  padding-top: 0;\n  padding-bottom: 0;\n  margin: 0 10px 0 -1px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row .dcg-smart-textarea-container textarea:empty,\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-image-title-row .dcg-smart-textarea-container .dcg-displayTextarea:empty {\n  min-width: 8rem;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-action-changeimage {\n  color: #00000080;\n  text-decoration: underline;\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-action-changeimage.dcg-hovered {\n  color: #0009;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loaded .dcg-action-changeimage.dcg-depressed {\n  color: #000000b3;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-smart-textarea-container {\n  position: relative;\n  top: -1px;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-main {\n  margin-right: -1px;\n}\n\n@-webkit-keyframes dcg-fade-pulse {\n  0% {\n    opacity: .2;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n    filter: alpha(opacity=20);\n  }\n\n  50% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n\n  to {\n    opacity: .2;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n    filter: alpha(opacity=20);\n  }\n}\n\n@keyframes dcg-fade-pulse {\n  0% {\n    opacity: .2;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n    filter: alpha(opacity=20);\n  }\n\n  50% {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n\n  to {\n    opacity: .2;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n    filter: alpha(opacity=20);\n  }\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression {\n  height: 54px;\n  position: relative;\n  border-bottom: 1px solid transparent;\n  overflow: visible!important;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression .dcg-new-math-div {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression .dcg-new-math-div .dcg-new-expression-fade {\n  background: -webkit-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);\n  background: -moz-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);\n  background: -o-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);\n  background: -ms-linear-gradient(bottom,#fff,rgba(255,255,255,0) 50%);\n  background: linear-gradient(to top,#fff,rgba(255,255,255,0) 50%);\n  width: 44px;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  z-index: 3;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-new-expression-fade {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-container.dcg-narrow .dcg-expression-top-bar {\n  border-right: 0;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn {\n  width: 40px;\n  height: 40px;\n  line-height: 40px;\n  font-size: 110%;\n  display: inline-block;\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  text-align: center;\n  margin: -1px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-rotated,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn.dcg-rotated {\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-undo,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn i.dcg-icon-undo,\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-redo,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn i.dcg-icon-redo {\n  font-size: 120%;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn i {\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn:not(:last-of-type),\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn:not(:last-of-type) {\n  margin-right: -2px;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-disabled,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn.dcg-disabled {\n  opacity: .3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn.dcg-hovered,\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn.dcg-active {\n  background: rgba(0,0,0,.1);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered i,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn.dcg-hovered i,\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active i,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn.dcg-active i {\n  opacity: .8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn.dcg-depressed {\n  background: rgba(0,0,0,.2);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed i,\n.dcg-calculator-api-container .dcg-container .dcg-geometry-toolbar-view .dcg-icon-btn.dcg-depressed i {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar {\n  border-right: 1px solid rgba(0,0,0,.2);\n  height: 48px;\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  line-height: 37px;\n  width: 100%;\n  -webkit-transition: box-shadow .2s ease;\n  -moz-transition: box-shadow .2s ease;\n  -o-transition: box-shadow .2s ease;\n  -ms-transition: box-shadow .2s ease;\n  transition: box-shadow .2s ease;\n  padding: 5px;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  background: -webkit-linear-gradient(#fcfcfc,#eaeaea);\n  background: -moz-linear-gradient(#fcfcfc,#eaeaea);\n  background: -o-linear-gradient(#fcfcfc,#eaeaea);\n  background: -ms-linear-gradient(#fcfcfc,#eaeaea);\n  background: linear-gradient(#fcfcfc,#eaeaea);\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar.dcg-expressions-scrolled {\n  -webkit-box-shadow: -2px 2px 4px rgba(0,0,0,.15);\n  box-shadow: -2px 2px 4px #00000026;\n  z-index: 4;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-btn-red,\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-btn-primary {\n  padding: 0 15px;\n  display: inline-block;\n  height: 35px;\n  line-height: 35px;\n  position: relative;\n  top: -1px;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-center-buttons {\n  text-align: center;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-container {\n  position: relative;\n  float: left;\n  height: 37px;\n}\n\n.dcg-calculator-api-container .dcg-in-api-action-opendrawer {\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover {\n  width: auto;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-bottom {\n  position: absolute;\n  top: 43px;\n  left: -3px;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-bottom .dcg-arrow {\n  left: 23px;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-right {\n  position: absolute;\n  top: -40px;\n  left: 40px;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-right .dcg-arrow {\n  top: 60px;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-popover-interior {\n  padding: 4px 0;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item {\n  cursor: pointer;\n  font-size: 80%;\n  text-align: left;\n  white-space: nowrap;\n  opacity: .5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n  padding: 8px;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i {\n  margin: 0 8px 0 4px;\n  font-size: 205%;\n  vertical-align: middle;\n  width: 30px;\n  display: inline-block;\n  text-align: right;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-expression {\n  font-size: 210%;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-table {\n  font-size: 200%;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-folder {\n  font-size: 190%;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-action-newexpression {\n  padding: 10px 12px 4px 8px;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-hovered {\n  opacity: .8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-disabled {\n  opacity: .25;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";\n  filter: alpha(opacity=25);\n}\n\n.dcg-calculator-api-container .dcg-constructions-count-link {\n  position: relative;\n  top: -2px;\n  text-decoration: none;\n  color: #666;\n  text-align: right;\n  float: left;\n  height: 26px;\n  margin-right: 4px;\n}\n\n.dcg-calculator-api-container .dcg-constructions-count-link i.dcg-shared-icon-geometry {\n  font-size: 40px;\n}\n\n.dcg-calculator-api-container .dcg-constructions-count-link .dcg-construction-count {\n  position: absolute;\n  top: 100%;\n  right: 0;\n  background: #999;\n  -webkit-box-shadow: 0 0 0 2px #eee;\n  box-shadow: 0 0 0 2px #eee;\n  color: #fff;\n  -webkit-border-radius: 8px;\n  border-radius: 8px;\n  height: 16px;\n  min-width: 16px;\n  line-height: 16px;\n  padding-left: 4px;\n  padding-right: 4px;\n  text-align: center;\n  font-size: 65%;\n}\n\n.dcg-calculator-api-container .dcg-constructions-count-link.dcg-hovered .dcg-construction-count {\n  background: #666;\n}\n\n.dcg-calculator-api-container .dcg-constructions-count-link.dcg-is-expanded .dcg-construction-count {\n  background: #333;\n}\n\n.dcg-calculator-api-container .dcg-exp-list-resizer {\n  position: absolute;\n  top: 0;\n  right: -12px;\n  bottom: 0;\n  width: 15px;\n  cursor: ew-resize;\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-exp-list-resizer.dcg-depressed {\n  width: 215px;\n  right: -112px;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar {\n  padding: 5px;\n  background: #d8d8d8;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-row,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-replace-row {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar.dcg-expressions-scrolled {\n  -webkit-box-shadow: -2px 2px 4px rgba(0,0,0,.15);\n  box-shadow: -2px 2px 4px #00000026;\n  z-index: 4;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-mathquill-container,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-replace-mathquill-container {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  position: relative;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-replace-mathquill-container {\n  padding-left: 25px;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-placeholder,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-replace-placeholder {\n  opacity: .3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n  position: absolute;\n  top: 50%;\n  left: 35px;\n  margin-top: -.5em;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-mq-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-math-field {\n  padding: 6px 30px 6px 6px;\n  margin: 1px;\n  -webkit-border-radius: 8px;\n  border-radius: 8px;\n  background: #fff;\n  width: 100%;\n  font-size: 100%;\n  color: #888;\n  border: 1px solid #bbb;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-math-field.dcg-hovered {\n  color: #444;\n  border: 2px solid #999;\n  margin: 0;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-math-field.dcg-mq-focused {\n  color: #000;\n  border: 2px solid #2f72dc;\n  margin: 0;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-mathquill-container .dcg-math-field {\n  padding-left: 30px;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-caret-container {\n  font-size: 95%;\n  width: 25px;\n  padding-left: 5px;\n  color: #999;\n  text-align: left;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-caret-container i {\n  -webkit-transition: .2s;\n  -moz-transition: .2s;\n  -o-transition: .2s;\n  -ms-transition: .2s;\n  transition: .2s;\n  width: 16px;\n  height: 16px;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-caret-container.dcg-hovered {\n  color: #666;\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-caret-container.dcg-collapsed i {\n  display: inline-block;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-replace {\n  opacity: .2;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n  filter: alpha(opacity=20);\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove.dcg-hovered,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search.dcg-hovered,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-replace.dcg-hovered {\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove.dcg-depressed,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search.dcg-depressed,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-replace.dcg-depressed {\n  opacity: .8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-replace.dcg-disabled {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-remove,\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-replace {\n  font-size: 90%;\n  padding: 10px 7px 10px 12px;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-icon-search {\n  pointer-events: none;\n  left: 5px;\n  position: absolute;\n  top: 50%;\n  right: 5px;\n  height: 20px;\n  line-height: 20px;\n  margin-top: -15px;\n  padding: 5px;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-replace-icon-container {\n  position: absolute;\n  top: 50%;\n  right: 5px;\n  margin-top: -9px;\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-replace-icon-container .dcg-tooltipped-error {\n  position: relative;\n  top: -1px;\n  left: -2px;\n}\n\n.dcg-calculator-api-container .dcg-expression-search-bar .dcg-search-replace-icon-container .dcg-icon-check {\n  color: #2f72dc;\n  margin-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-ticker {\n  padding: 5px;\n  position: relative;\n  background: #eee;\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  border-right: 1px solid rgba(0,0,0,.2);\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-ticker.dcg-expressions-scrolled {\n  -webkit-box-shadow: -2px 2px 4px rgba(0,0,0,.15);\n  box-shadow: -2px 2px 4px #00000026;\n  z-index: 4;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-circular-icon-container {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-icon-remove {\n  position: absolute;\n  top: 0;\n  right: 0;\n  opacity: .2;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";\n  filter: alpha(opacity=20);\n  font-size: 115%;\n  padding: 10px 7px 10px 12px;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-icon-remove.dcg-hovered {\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-icon-remove.dcg-depressed {\n  opacity: .8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-mini-play-pause {\n  -webkit-transform: scale(.5);\n  -moz-transform: scale(.5);\n  -o-transform: scale(.5);\n  -ms-transform: scale(.5);\n  transform: scale(.5);\n  -webkit-transform-origin: bottom right;\n  -moz-transform-origin: bottom right;\n  -o-transform-origin: bottom right;\n  -ms-transform-origin: bottom right;\n  transform-origin: bottom right;\n  position: absolute;\n  bottom: -5px;\n  right: -4px;\n  background: #eee;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  border: 1px solid #eee;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-icon-metronome-2 {\n  font-size: 130%;\n  position: relative;\n  left: 1px;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-metronome-bar {\n  width: 2px;\n  height: 24px;\n  -webkit-transform: scale(.5) rotate(-20deg);\n  -moz-transform: scale(.5) rotate(-20deg);\n  -o-transform: scale(.5) rotate(-20deg);\n  -ms-transform: scale(.5) rotate(-20deg);\n  transform: scale(.5) rotate(-20deg);\n  -webkit-transform-origin: bottom center;\n  -moz-transform-origin: bottom center;\n  -o-transform-origin: bottom center;\n  -ms-transform-origin: bottom center;\n  transform-origin: bottom center;\n  background: #777;\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n  position: absolute;\n  bottom: 10px;\n  left: 50%;\n  -webkit-box-shadow: 0 0 0 1px #eee;\n  box-shadow: 0 0 0 1px #eee;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-metronome-bar.dcg-metronome-playing {\n  -webkit-animation: dcg-tick-metronome infinite .5s ease-in-out;\n  -moz-animation: dcg-tick-metronome infinite .5s ease-in-out;\n  -o-animation: dcg-tick-metronome infinite .5s ease-in-out;\n  -ms-animation: dcg-tick-metronome infinite .5s ease-in-out;\n  animation: dcg-tick-metronome infinite .5s ease-in-out;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  width: calc(100% - 30px);\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container .dcg-circular-icon-container {\n  font-size: 65%;\n  margin-right: 10px!important;\n  -webkit-box-ordinal-group: 1;\n  -moz-box-ordinal-group: 1;\n  -o-box-ordinal-group: 1;\n  -ms-flex-order: 1;\n  -webkit-order: 1;\n  order: 1;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container .dcg-circular-icon-container.dcg-disabled {\n  opacity: .4;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";\n  filter: alpha(opacity=40);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-container .dcg-create-sliders {\n  margin-top: 5px;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  -webkit-box-ordinal-group: 2;\n  -moz-box-ordinal-group: 2;\n  -o-box-ordinal-group: 2;\n  -ms-flex-order: 2;\n  -webkit-order: 2;\n  order: 2;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  color: #666;\n  -webkit-box-lines: multiple;\n  -moz-box-lines: multiple;\n  -o-box-lines: multiple;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  padding: 3px 0;\n  overflow: hidden;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-mq-container {\n  color: #000;\n  margin-left: 4px;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition {\n  max-width: 100%;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: baseline;\n  -moz-box-align: baseline;\n  -o-box-align: baseline;\n  -ms-flex-align: baseline;\n  -webkit-align-items: baseline;\n  align-items: baseline;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-mq-container {\n  margin-right: 5px;\n  overflow: hidden;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  padding: 1px 20px 1px 2px;\n  margin: 1px;\n  min-width: 75px;\n  max-width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #2f72dc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-definition .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid):not(.dcg-static-mathquill-view) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 30px;\n  max-width: 90px;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #2f72dc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-action-frequency .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid):not(.dcg-static-mathquill-view) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-settings-internal .dcg-clickable-info-error-container {\n  margin-left: -20px;\n  width: 20px;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-toggle-help {\n  text-decoration: none;\n  color: #aaa;\n  padding: 10px 6px;\n  font-size: 85%;\n  position: relative;\n  top: 1px;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-toggle-help.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-ticker .dcg-ticker-toggle-help.dcg-depressed {\n  color: #444;\n}\n\n@-webkit-keyframes dcg-tick-metronome {\n  0% {\n    -webkit-transform: scale(.5) rotate(-20deg);\n    -moz-transform: scale(.5) rotate(-20deg);\n    -o-transform: scale(.5) rotate(-20deg);\n    -ms-transform: scale(.5) rotate(-20deg);\n    transform: scale(.5) rotate(-20deg);\n  }\n\n  50% {\n    -webkit-transform: scale(.5) rotate(20deg);\n    -moz-transform: scale(.5) rotate(20deg);\n    -o-transform: scale(.5) rotate(20deg);\n    -ms-transform: scale(.5) rotate(20deg);\n    transform: scale(.5) rotate(20deg);\n  }\n\n  to {\n    -webkit-transform: scale(.5) rotate(-20deg);\n    -moz-transform: scale(.5) rotate(-20deg);\n    -o-transform: scale(.5) rotate(-20deg);\n    -ms-transform: scale(.5) rotate(-20deg);\n    transform: scale(.5) rotate(-20deg);\n  }\n}\n\n@keyframes dcg-tick-metronome {\n  0% {\n    -webkit-transform: scale(.5) rotate(-20deg);\n    -moz-transform: scale(.5) rotate(-20deg);\n    -o-transform: scale(.5) rotate(-20deg);\n    -ms-transform: scale(.5) rotate(-20deg);\n    transform: scale(.5) rotate(-20deg);\n  }\n\n  50% {\n    -webkit-transform: scale(.5) rotate(20deg);\n    -moz-transform: scale(.5) rotate(20deg);\n    -o-transform: scale(.5) rotate(20deg);\n    -ms-transform: scale(.5) rotate(20deg);\n    transform: scale(.5) rotate(20deg);\n  }\n\n  to {\n    -webkit-transform: scale(.5) rotate(-20deg);\n    -moz-transform: scale(.5) rotate(-20deg);\n    -o-transform: scale(.5) rotate(-20deg);\n    -ms-transform: scale(.5) rotate(-20deg);\n    transform: scale(.5) rotate(-20deg);\n  }\n}\n\n.dcg-calculator-api-container .dcg-geo-show-constructions-pane {\n  position: relative;\n  background: #eee;\n}\n\n.dcg-calculator-api-container .dcg-geo-show-constructions-pane:after {\n  content: "";\n  background: -webkit-linear-gradient(top,rgba(238,238,238,0),#eee);\n  background: -moz-linear-gradient(top,rgba(238,238,238,0),#eee);\n  background: -o-linear-gradient(top,rgba(238,238,238,0),#eee);\n  background: -ms-linear-gradient(top,rgba(238,238,238,0),#eee);\n  background: linear-gradient(to bottom,rgba(238,238,238,0),#eee);\n  height: 10px;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-geo-show-constructions-pane:before {\n  content: "";\n  background: -webkit-linear-gradient(bottom,rgba(238,238,238,0),#eee);\n  background: -moz-linear-gradient(bottom,rgba(238,238,238,0),#eee);\n  background: -o-linear-gradient(bottom,rgba(238,238,238,0),#eee);\n  background: -ms-linear-gradient(bottom,rgba(238,238,238,0),#eee);\n  background: linear-gradient(to top,rgba(238,238,238,0),#eee);\n  height: 10px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-displayed-sections-container {\n  max-height: 300px;\n  overflow: auto;\n}\n\n.dcg-calculator-api-container .dcg-displayed-sections-container .dcg-displayed-section-level {\n  text-align: left;\n  margin: 0 8px;\n  padding: 8px 0;\n}\n\n.dcg-calculator-api-container .dcg-displayed-sections-container .dcg-displayed-section-level:not(:last-of-type) {\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-empty-constructions {\n  padding: 30px;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-layer-slider-container {\n  padding: 15px 7px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu,\n.dcg-calculator-api-container .dcg-table-column-menu,\n.dcg-calculator-api-container .dcg-generic-options-menu {\n  width: 224px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu.dcg-options-menu,\n.dcg-calculator-api-container .dcg-table-column-menu.dcg-options-menu,\n.dcg-calculator-api-container .dcg-generic-options-menu.dcg-options-menu {\n  padding-left: 0;\n  padding-right: 0;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-content,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-content,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-menu-content {\n  -webkit-animation: dcg-fadeIn .3s;\n  -moz-animation: dcg-fadeIn .3s;\n  -o-animation: dcg-fadeIn .3s;\n  -ms-animation: dcg-fadeIn .3s;\n  animation: dcg-fadeIn .3s;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-flex-container,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-flex-container,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-flex-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  margin: 5px 0 10px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-left-side,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-left-side,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-left-side {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-menu-section {\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section:not(:first-of-type),\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section:not(:first-of-type),\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-menu-section:not(:first-of-type) {\n  border-top: 1px solid #e2e2e2;\n  padding-top: 10px;\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section .dcg-toggle-view,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section .dcg-toggle-view,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-menu-section .dcg-toggle-view {\n  margin-top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-options-menu-section .dcg-options-menu-section-title,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-section .dcg-options-menu-section-title,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-options-menu-section .dcg-options-menu-section-title {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-point-segmented-option,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-point-segmented-option,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-point-segmented-option,\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-line-segmented-option,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-line-segmented-option,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-line-segmented-option {\n  width: 33px;\n  height: 30px;\n  line-height: 30px;\n  color: #999;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-point-segmented-option.dcg-hovered:not(.dcg-selected),\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-point-segmented-option.dcg-hovered:not(.dcg-selected),\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-point-segmented-option.dcg-hovered:not(.dcg-selected),\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-line-segmented-option.dcg-hovered:not(.dcg-selected),\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-line-segmented-option.dcg-hovered:not(.dcg-selected),\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-line-segmented-option.dcg-hovered:not(.dcg-selected) {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-point-segmented-option i,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-point-segmented-option i,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-point-segmented-option i {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-line-segmented-option i,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-line-segmented-option i,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-line-segmented-option i {\n  font-size: 130%;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row,\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-clickable-menu-row,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-clickable-menu-row,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-clickable-menu-row {\n  padding: 7px 0 1px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row i,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row i,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row i,\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-font-size,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-font-size,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-font-size {\n  color: #999;\n  margin-right: 5px;\n  cursor: pointer;\n  width: 13px;\n  display: inline-block;\n  position: relative;\n  top: 2px;\n  line-height: 1em;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 42px;\n  max-width: 60px;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #2f72dc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid,\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid):not(.dcg-static-mathquill-view),\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid):not(.dcg-static-mathquill-view),\n.dcg-calculator-api-container .dcg-generic-options-menu .dcg-iconed-mathquill-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid):not(.dcg-static-mathquill-view) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view {\n  float: right;\n  padding: 5px;\n  margin-top: 5px;\n  display: inline-block;\n  width: 30px;\n  height: 8px;\n  background: #ddd;\n  -webkit-border-radius: 8px;\n  border-radius: 8px;\n  position: relative;\n  -webkit-transition: all .2s;\n  -moz-transition: all .2s;\n  -o-transition: all .2s;\n  -ms-transition: all .2s;\n  transition: all .2s;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view .dcg-toggle-switch {\n  position: absolute;\n  top: -4px;\n  left: 0;\n  width: 18px;\n  height: 18px;\n  background: #f5f5f5;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  -webkit-transition: all .2s;\n  -moz-transition: all .2s;\n  -o-transition: all .2s;\n  -ms-transition: all .2s;\n  transition: all .2s;\n  -webkit-box-shadow: 0 2px 2px rgba(0,0,0,.2),0 0 3px rgba(0,0,0,.2);\n  box-shadow: 0 2px 2px #0003,0 0 3px #0003;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view:not(.dcg-toggled).dcg-hovered .dcg-toggle-switch {\n  background: #ebebeb;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view:not(.dcg-toggled).dcg-depressed .dcg-toggle-switch {\n  background: #e0e0e0;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled {\n  -webkit-transition: all .2s;\n  -moz-transition: all .2s;\n  -o-transition: all .2s;\n  -ms-transition: all .2s;\n  transition: all .2s;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled .dcg-toggle-switch {\n  -webkit-transition: all .2s;\n  -moz-transition: all .2s;\n  -o-transition: all .2s;\n  -ms-transition: all .2s;\n  transition: all .2s;\n  left: 12px;\n  background: #666;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled.dcg-hovered .dcg-toggle-switch {\n  background: #555;\n}\n\n.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled.dcg-depressed .dcg-toggle-switch {\n  background: #444;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container {\n  margin: -2px;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: justify;\n  -moz-box-pack: justify;\n  -o-box-pack: justify;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  -webkit-box-orient: horizontal;\n  -moz-box-orient: horizontal;\n  -o-box-orient: horizontal;\n  -webkit-box-lines: multiple;\n  -moz-box-lines: multiple;\n  -o-box-lines: multiple;\n  -webkit-flex-flow: row wrap;\n  -ms-flex-flow: row wrap;\n  flex-flow: row wrap;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-picker-placeholder {\n  width: 30px;\n  height: 30px;\n  margin: 2px;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-tile {\n  margin: 2px;\n  display: inline-block;\n  position: relative;\n  height: 30px;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-tile i {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  pointer-events: none;\n  height: 20px;\n  line-height: 20px;\n  color: #fff;\n  margin-top: -10px;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-tile i.dcg-light-color {\n  color: #444;\n}\n\n.dcg-calculator-api-container .dcg-color-picker-container .dcg-color-picker-menu .dcg-color-tile i.dcg-mixed-color {\n  text-shadow: 0 0 3px rgba(0,0,0,.8);\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  margin-top: 20px;\n  -webkit-box-pack: space-evenly;\n  -moz-box-pack: space-evenly;\n  -o-box-pack: space-evenly;\n  -ms-flex-pack: space-evenly;\n  -webkit-justify-content: space-evenly;\n  justify-content: space-evenly;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-icon {\n  padding-right: 10px;\n  padding-left: 10px;\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-tooltip-hit-area-container {\n  margin-left: 5px;\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container {\n  position: relative;\n  color: #666;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state {\n  background: #fff;\n  -webkit-background-size: cover;\n  -moz-background-size: cover;\n  background-size: cover;\n  background-repeat: no-repeat;\n  width: 60px;\n  height: 60px;\n  -webkit-border-radius: 10px;\n  border-radius: 10px;\n  border: 1px solid rgba(0,0,0,.2);\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state-close {\n  position: absolute;\n  top: -10px;\n  right: -2px;\n  width: 25px;\n  height: 25px;\n  padding-top: 5px;\n  font-size: 14px;\n  background: #666;\n  color: #fff;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state-close.dcg-hovered {\n  opacity: .8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-state-container .dcg-clickable-image-state-close.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row {\n  font-size: 90%;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: baseline;\n  -moz-box-align: baseline;\n  -o-box-align: baseline;\n  -ms-flex-align: baseline;\n  -webkit-align-items: baseline;\n  align-items: baseline;\n  margin-right: 2px;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-input-label {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-mq-container {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 100%;\n  max-width: 100%;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #2f72dc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid):not(.dcg-static-mathquill-view) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-menu-row .dcg-clickable-info-error-container {\n  margin-left: -20px;\n  width: 20px;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-clickable-list-index-notice {\n  font-size: 90%;\n  color: #444;\n  padding-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-index-variable-marker {\n  padding-left: 4px;\n  padding-right: 4px;\n  font-size: 90%;\n  border: 1px solid rgba(0,0,0,.2);\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n}\n\n.dcg-calculator-api-container .dcg-clickable-section .dcg-index-variable-marker:not(.dcg-mathquill-has-focus) {\n  background: transparent;\n  pointer-events: none;\n  opacity: .75;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";\n  filter: alpha(opacity=75);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view {\n  width: 78px;\n  height: 78px;\n  display: inline-block;\n  position: relative;\n  -webkit-transition: -webkit-transform .1s;\n  -moz-transition: -moz-transform .1s;\n  -o-transition: -o-transform .1s;\n  -ms-transition: -ms-transform .1s;\n  transition: transform .1s;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option {\n  display: inline-block;\n  width: 26px;\n  height: 26px;\n  line-height: 26px;\n  text-align: center;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  color: #bbb;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option.dcg-selected {\n  color: #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option.dcg-selected.dcg-hovered {\n  color: #2253a1;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-option i {\n  position: relative;\n  top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-right,\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-right,\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-left,\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-left {\n  color: #e2e2e2;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-orientation-disabled {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-right {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  -webkit-transform: rotate(225deg);\n  -moz-transform: rotate(225deg);\n  -o-transform: rotate(225deg);\n  -ms-transform: rotate(225deg);\n  transform: rotate(225deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below-left {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  -webkit-transform: rotate(315deg);\n  -moz-transform: rotate(315deg);\n  -o-transform: rotate(315deg);\n  -ms-transform: rotate(315deg);\n  transform: rotate(315deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-right {\n  position: absolute;\n  top: 0;\n  right: 0;\n  -webkit-transform: rotate(135deg);\n  -moz-transform: rotate(135deg);\n  -o-transform: rotate(135deg);\n  -ms-transform: rotate(135deg);\n  transform: rotate(135deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above-left {\n  position: absolute;\n  top: 0;\n  left: 0;\n  -webkit-transform: rotate(45deg);\n  -moz-transform: rotate(45deg);\n  -o-transform: rotate(45deg);\n  -ms-transform: rotate(45deg);\n  transform: rotate(45deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-left {\n  position: absolute;\n  top: 26px;\n  left: 0;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-right {\n  position: absolute;\n  top: 26px;\n  right: 0;\n  -webkit-transform: rotate(180deg);\n  -moz-transform: rotate(180deg);\n  -o-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-above {\n  position: absolute;\n  top: 0;\n  left: 26px;\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -o-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-below {\n  position: absolute;\n  bottom: 0;\n  left: 26px;\n  -webkit-transform: rotate(270deg);\n  -moz-transform: rotate(270deg);\n  -o-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-center {\n  position: absolute;\n  top: 26px;\n  left: 26px;\n  font-size: 200%;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-center:after {\n  content: "";\n  width: 12px;\n  height: 12px;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  background: currentColor;\n  margin-top: -6px;\n  margin-left: -6px;\n  -webkit-box-shadow: 0 0 2px rgba(0,0,0,.2);\n  box-shadow: 0 0 2px #0003;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-label-orientation-center.dcg-orientation-disabled:not(.dcg-selected):after {\n  background: #fff;\n  width: 10px;\n  height: 10px;\n  margin-top: -5px;\n  margin-left: -5px;\n  -webkit-box-shadow: 0 0 2px rgba(0,0,0,.2),inset 0 0 0 1px rgba(0,0,0,.15);\n  box-shadow: 0 0 2px #0003,inset 0 0 0 1px #00000026;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-vertical-orientation-indicator {\n  width: 0;\n  height: 0;\n  border: 4px solid transparent;\n  border-bottom: 15px solid #ddd;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -19px;\n  margin-left: -4px;\n}\n\n.dcg-calculator-api-container .dcg-label-orientation-view .dcg-vertical-orientation-indicator:after {\n  content: "";\n  width: 0;\n  height: 0;\n  border: 4px solid transparent;\n  border-top: 15px solid #ddd;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: 15px;\n  margin-left: -4px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-options-menu {\n  width: 230px;\n  margin-left: -200px;\n  margin-top: 35px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-options-menu:after {\n  content: "";\n  position: absolute;\n  top: -10px;\n  right: 5px;\n  border-width: 10px;\n  border-top-width: 0;\n  border-style: solid;\n  border-color: transparent transparent #fff;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-options-menu:before {\n  content: "";\n  position: absolute;\n  top: -11px;\n  right: 4px;\n  border-width: 11px;\n  border-top-width: 0;\n  border-style: solid;\n  border-color: transparent transparent #ccc;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-options-menu .dcg-label-container input.dcg-label-input {\n  margin-top: 6px;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-options-menu .dcg-checkbox-section {\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-options-menu .dcg-angle-definition {\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-options-menu .dcg-selected-objects-header {\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  padding-bottom: 10px;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-move-to-folder {\n  border-top: 1px solid rgba(0,0,0,.2);\n  margin-top: 10px;\n  padding-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-move-to-folder .dcg-move-to-folder-title {\n  font-size: 90%;\n  color: #666;\n  margin-bottom: 3px;\n}\n\n.dcg-calculator-api-container .dcg-move-to-folder .dcg-move-to-folder-flex {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-move-to-folder .dcg-btn-blue {\n  margin-left: 5px;\n  padding: 0 8px;\n  font-size: 90%;\n  height: 30px;\n  line-height: 28px;\n}\n\n.dcg-calculator-api-container .dcg-move-to-folder .dcg-btn-blue.dcg-disabled {\n  pointer-events: none;\n  opacity: .5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n\n.dcg-calculator-api-container .dcg-move-to-folder input {\n  padding: 0 5px;\n  border: 1px solid rgba(0,0,0,.2);\n  outline: none;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  width: 100%;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-move-to-folder input.dcg-hovered {\n  border: 1px solid rgba(0,0,0,.2);\n  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.2);\n  box-shadow: 0 0 0 1px #0003;\n}\n\n.dcg-calculator-api-container .dcg-move-to-folder input:focus {\n  border: 1px solid #2f72dc;\n  -webkit-box-shadow: 0 0 0 1px #2f72dc;\n  box-shadow: 0 0 0 1px #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu {\n  width: 300px;\n  margin-left: -190px;\n  margin-top: 35px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu:after {\n  content: "";\n  position: absolute;\n  top: -10px;\n  right: 5px;\n  border-width: 10px;\n  border-top-width: 0;\n  border-style: solid;\n  border-color: transparent transparent #fff;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu:before {\n  content: "";\n  position: absolute;\n  top: -11px;\n  right: 4px;\n  border-width: 11px;\n  border-top-width: 0;\n  border-style: solid;\n  border-color: transparent transparent #ccc;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu.dcg-options-menu {\n  padding: 10px 10px 5px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-new-transformations-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: justify;\n  -moz-box-pack: justify;\n  -o-box-pack: justify;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  margin-bottom: 10px;\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-new-transformations-container .dcg-new-transformation {\n  border: 1px solid rgba(0,0,0,.2);\n  padding: 5px;\n  text-align: center;\n  width: 66px;\n  font-size: 70%;\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  color: #999;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-new-transformations-container .dcg-new-transformation canvas {\n  margin-bottom: -7px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-new-transformations-container .dcg-new-transformation.dcg-hovered {\n  border: 1px solid #999;\n  -webkit-box-shadow: 0 0 0 1px #999;\n  box-shadow: 0 0 0 1px #999;\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-new-transformations-container .dcg-new-transformation.dcg-depressed {\n  border: 1px solid #666;\n  -webkit-box-shadow: 0 0 0 1px #666;\n  box-shadow: 0 0 0 1px #666;\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-new-transformation-option {\n  padding: 0 10px;\n  line-height: 1.5em;\n  color: #999;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-new-transformation-option i {\n  margin-right: 10px;\n  font-size: 125%;\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-new-transformation-option.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-new-transformation-option.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-existing-transformation {\n  padding: 5px 10px 2px;\n  border: 1px solid rgba(0,0,0,.2);\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  margin-top: 5px;\n  margin-bottom: 5px;\n  opacity: .8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n  color: #666;\n  text-align: left;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-existing-transformation.dcg-hovered {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  color: #444;\n  border: 1px solid #aaa;\n  -webkit-box-shadow: 0 0 0 1px #aaa;\n  box-shadow: 0 0 0 1px #aaa;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-existing-transformation.dcg-depressed {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n  color: #000;\n  border: 1px solid #888;\n  -webkit-box-shadow: 0 0 0 1px #888;\n  box-shadow: 0 0 0 1px #888;\n}\n\n.dcg-calculator-api-container .dcg-multi-select-transformations-menu .dcg-existing-transformation>div {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-slider-options-view {\n  width: 200px;\n  padding: 15px 15px 10px;\n}\n\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-title {\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-slider-speed-menu {\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-slider-speed-menu .dcg-title,\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-slider-speed-menu .dcg-slider-speed-container {\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container {\n  float: right;\n  position: relative;\n  top: -1px;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-hovered,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-hovered {\n  color: #222;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-depressed,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-disabled,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-disabled {\n  opacity: .25;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";\n  filter: alpha(opacity=25);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {\n  -webkit-transform: rotate(180deg);\n  -moz-transform: rotate(180deg);\n  -o-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower i {\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {\n  cursor: pointer;\n  font-size: 70%;\n  display: inline-block;\n  width: 26px;\n  height: 26px;\n  text-align: center;\n  line-height: 26px;\n  border: 1px solid rgba(0,0,0,.2);\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-hovered,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-hovered {\n  background: rgba(0,0,0,.05);\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-depressed,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-depressed {\n  background: rgba(0,0,0,.2);\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster i,\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower i {\n  position: relative;\n  left: 1px;\n}\n\n.dcg-calculator-api-container .dcg-slider-speed-container .dcg-variable-speed {\n  width: 45px;\n  font-size: 90%;\n  display: inline-block;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-select-tools-dropdown {\n  padding: 0 10px 10px 0!important;\n  position: absolute!important;\n  top: 38px;\n  right: -24px;\n}\n\n.dcg-calculator-api-container .dcg-select-tools-dropdown .dcg-dropdown-tool {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  height: 35px;\n}\n\n.dcg-calculator-api-container .dcg-select-tools-dropdown .dcg-dropdown-tool canvas {\n  -webkit-transform: scale(.75,.75);\n  -moz-transform: scale(.75,.75);\n  -o-transform: scale(.75,.75);\n  -ms-transform: scale(.75,.75);\n  transform: scale(.75);\n}\n\n.dcg-calculator-api-container .dcg-select-tools-dropdown .dcg-dropdown-tool span {\n  line-height: 45px;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-select-tools-dropdown .dcg-dropdown-tool.dcg-hovered span,\n.dcg-calculator-api-container .dcg-select-tools-dropdown .dcg-dropdown-tool.dcg-selected-tool span {\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: justify;\n  -moz-box-pack: justify;\n  -o-box-pack: justify;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n  padding: 3px;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: start;\n  -moz-box-pack: start;\n  -o-box-pack: start;\n  -ms-flex-pack: start;\n  -webkit-justify-content: flex-start;\n  justify-content: flex-start;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-icon-container+.dcg-icon-container {\n  margin-left: 4px;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-icon,\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-tool-dropdown {\n  height: 37px;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-icon-container {\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  border: 1px solid #ccc;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-icon {\n  width: 37px;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-tool-name {\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  text-align: center;\n  font-size: 70%;\n  color: #666;\n  font-family: Arial,Helvetica,sans-serif;\n  line-height: 1em;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-icon-container.dcg-hovered,\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-icon-container.dcg-depressed,\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-icon-container.dcg-selected {\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-icon-container.dcg-hovered,\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-icon-container.dcg-depressed {\n  border-color: #0000005c;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row .dcg-icon-container.dcg-selected {\n  border: 1px solid #2f72dc;\n  -webkit-box-shadow: 0 0 0 1px #2f72dc;\n  box-shadow: 0 0 0 1px #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-icon-row canvas {\n  width: 50px;\n  height: 50px;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-split-btn {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-split-btn .dcg-icon {\n  -webkit-border-radius: 5px 0 0 5px;\n  border-radius: 5px 0 0 5px;\n  width: 29px;\n  padding-left: 6px;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-split-btn .dcg-tool-dropdown {\n  border-left: 0;\n  -webkit-border-radius: 0 5px 5px 0;\n  border-radius: 0 5px 5px 0;\n  color: #bbb;\n  padding: 5px;\n  -webkit-transition: -webkit-transform .2s;\n  -moz-transition: -moz-transform .2s;\n  -o-transition: -o-transform .2s;\n  -ms-transition: -ms-transform .2s;\n  transition: transform .2s;\n  -webkit-transform: translate(0,-1px);\n  -moz-transform: translate(0,-1px);\n  -o-transform: translate(0,-1px);\n  -ms-transform: translate(0,-1px);\n  transform: translateY(-1px);\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-split-btn .dcg-tool-dropdown i {\n  font-size: 65%;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-split-btn .dcg-tool-dropdown.dcg-hovered {\n  color: #333;\n  -webkit-transform: translate(0,0);\n  -moz-transform: translate(0,0);\n  -o-transform: translate(0,0);\n  -ms-transform: translate(0,0);\n  transform: translate(0);\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-split-btn .dcg-tool-dropdown.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-geo-basic-tools .dcg-mobile-construct-button {\n  padding: 10px 12px;\n  text-align: center;\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-options-menu-container {\n  position: absolute;\n  display: none;\n  z-index: 61;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-options-menu-container .dcg-options-menu {\n  pointer-events: auto;\n}\n\n.dcg-calculator-api-container .dcg-options-menu {\n  padding: 10px;\n  position: relative;\n  border: 1px solid #d3d3d3;\n  -webkit-border-radius: 7px;\n  border-radius: 7px;\n  -webkit-box-shadow: 0 0 6px rgba(0,0,0,.15);\n  box-shadow: 0 0 6px #00000026;\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-convert-btn-container {\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-btn-small {\n  font-size: 80%;\n  display: inline-block;\n  padding: 5px 8px;\n  margin: 10px auto 0;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-dividing-line-after {\n  padding-bottom: 10px;\n  border-bottom: 1px solid #e2e2e2;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-triangle {\n  width: 0;\n  height: 0;\n  border-style: solid;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-triangle:before {\n  content: "";\n  width: 0;\n  height: 0;\n  border-style: solid;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-title,\n.dcg-calculator-api-container .dcg-options-menu .dcg-toggle-title {\n  margin-bottom: 5px;\n  opacity: .65;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=65)";\n  filter: alpha(opacity=65);\n  font-weight: 500;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icons,\n.dcg-calculator-api-container .dcg-options-menu .dcg-component-checkbox {\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-component-checkbox .dcg-checkbox-children {\n  font-size: 90%;\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container {\n  display: inline-block;\n  width: 29px;\n  height: 29px;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(:last-of-type) {\n  margin-right: 4px;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container.dcg-disabled {\n  cursor: default!important;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-hovered:not(.dcg-disabled) {\n  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,.1);\n  box-shadow: 0 0 0 2px #0000001a;\n}\n\n.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-depressed:not(.dcg-disabled) {\n  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,.25);\n  box-shadow: 0 0 0 2px #00000040;\n}\n\n.dcg-calculator-api-container .dcg-options-menu textarea {\n  width: 100%;\n  height: 3em;\n  border: 1px solid rgba(0,0,0,.2);\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  font: inherit;\n  font-size: 90%;\n  padding: 5px;\n  margin-top: 5px;\n  outline: none;\n  position: relative;\n  top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-options-menu textarea.dcg-hovered {\n  border: 1px solid #bbb;\n  -webkit-box-shadow: 0 0 0 1px #bbb;\n  box-shadow: 0 0 0 1px #bbb;\n}\n\n.dcg-calculator-api-container .dcg-options-menu textarea:focus {\n  border: 1px solid #2f72dc;\n  -webkit-box-shadow: 0 0 0 1px #2f72dc;\n  box-shadow: 0 0 0 1px #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu {\n  top: -10px;\n  left: 38px;\n  width: 185px;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-options-menu-section-title {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-triangle {\n  position: absolute;\n  top: 15px;\n  left: -9px;\n  border-width: 9px 9px 9px 0;\n  border-color: transparent #d3d3d3 transparent transparent;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-triangle:before {\n  position: absolute;\n  top: -8px;\n  left: 1px;\n  border-width: 8px 8px 8px 0;\n  border-color: transparent #fff transparent transparent;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-opacities-menu-flex {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: justify;\n  -moz-box-pack: justify;\n  -o-box-pack: justify;\n  -ms-flex-pack: justify;\n  -webkit-justify-content: space-between;\n  justify-content: space-between;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-opacities-menu-flex .dcg-opacity-option {\n  height: 29px;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls {\n  border-top: 1px solid #e2e2e2;\n  margin-top: 10px;\n  padding-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row:first-of-type {\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-input-label {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field {\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  padding: 1px 2px;\n  margin: 1px;\n  min-width: 100%;\n  max-width: 100%;\n  font-size: 95%;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-focus,\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #2f72dc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-invalid {\n  border-bottom: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid):not(.dcg-static-mathquill-view) {\n  border-bottom: 2px solid #ccc;\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row input {\n  outline: none;\n  border: 1px solid #bbb;\n  border-top: 0!important;\n  border-right: 0!important;\n  border-left: 0!important;\n  color: #000;\n  -webkit-appearance: none;\n  -webkit-border-radius: 0;\n  border-radius: 0;\n  padding: 5px 0;\n  font-size: 95%;\n  width: 120px;\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row input.dcg-hovered {\n  border-color: #ccc;\n  -webkit-box-shadow: 0 1px #ccc;\n  box-shadow: 0 1px #ccc;\n}\n\n.dcg-calculator-api-container .dcg-image-options-menu .dcg-clickable-image-controls .dcg-clickable-menu-row input:focus:not([disabled]) {\n  border-color: #2f72dc;\n  -webkit-box-shadow: 0 1px #2f72dc;\n  box-shadow: 0 1px #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu,\n.dcg-calculator-api-container .dcg-slider-options-view {\n  top: -7px;\n  left: 38px;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-triangle,\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-triangle {\n  position: absolute;\n  top: 12px;\n  left: -9px;\n  border-width: 9px 9px 9px 0;\n  border-color: transparent #d3d3d3 transparent transparent;\n}\n\n.dcg-calculator-api-container .dcg-expressions-options-menu .dcg-triangle:before,\n.dcg-calculator-api-container .dcg-slider-options-view .dcg-triangle:before {\n  position: absolute;\n  top: -8px;\n  left: 1px;\n  border-width: 8px 8px 8px 0;\n  border-color: transparent #fff transparent transparent;\n}\n\n.dcg-calculator-api-container .dcg-slider-options-view {\n  top: -11px;\n  left: 42px;\n}\n\n.dcg-calculator-api-container .dcg-table-column-menu {\n  left: -9px;\n  top: 34px;\n}\n\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-style-icons .dcg-graph-icon {\n  margin-bottom: 0;\n}\n\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-triangle {\n  position: absolute;\n  top: -9px;\n  left: 14px;\n  border-width: 0 9px 9px 9px;\n  border-color: transparent transparent #d3d3d3 transparent;\n}\n\n.dcg-calculator-api-container .dcg-table-column-menu .dcg-triangle:before {\n  position: absolute;\n  top: 1px;\n  left: -8px;\n  border-width: 0 8px 8px 8px;\n  border-color: transparent transparent #fff transparent;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys-container {\n  position: absolute;\n  bottom: 0;\n  z-index: 60;\n  width: 100%;\n  margin: 0 auto;\n  padding: 0;\n  -webkit-transition: opacity .3s;\n  -moz-transition: opacity .3s;\n  -o-transition: opacity .3s;\n  -ms-transition: opacity .3s;\n  transition: opacity .3s;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {\n  position: absolute;\n  right: 8px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-keyboard,\n.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-keyboard {\n  font-size: 175%;\n  float: left;\n  margin-right: 8px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-down,\n.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-caret-down,\n.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-up,\n.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-caret-up {\n  font-size: 75%;\n  line-height: 2rem;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad-container {\n  position: absolute;\n  top: -2.5rem;\n  left: -1px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad-container {\n  z-index: 60;\n  position: absolute;\n  bottom: 5px;\n  left: 5px;\n  -webkit-animation: dcg-fadeIn-show-keypad .6s;\n  -moz-animation: dcg-fadeIn-show-keypad .6s;\n  -o-animation: dcg-fadeIn-show-keypad .6s;\n  -ms-animation: dcg-fadeIn-show-keypad .6s;\n  animation: dcg-fadeIn-show-keypad .6s;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad {\n  padding: .25rem 1.25rem;\n  border-top-left-radius: 5px;\n  border-top-right-radius: 5px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad {\n  padding: 4px 14px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys {\n  position: relative;\n  width: 100%;\n  max-width: 835px;\n  margin: auto;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys {\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys-background {\n  background: #f0f0f0;\n  border-top: 1px solid rgba(0,0,0,.1);\n  -webkit-box-shadow: 0 -1px 3px 0 rgba(0,0,0,.1);\n  box-shadow: 0 -1px 3px #0000001a;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad {\n  background: #f0f0f0;\n  color: #000000b3;\n  border: 1px solid rgba(0,0,0,.1);\n  border-bottom: 1px solid #f0f0f0;\n  -webkit-box-shadow: 0 -1px 3px 0 rgba(0,0,0,.1);\n  box-shadow: 0 -1px 3px #0000001a;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-hovered {\n  color: #000000e6;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-hide-on-narrow {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-keypad .dcg-functions-popover:not(.dcg-left) {\n  position: absolute;\n  margin-left: -70px;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-keypad .dcg-functions-popover.dcg-left {\n  right: 18%;\n}\n\n@-webkit-keyframes dcg-fadeIn-show-keypad {\n  0% {\n    -webkit-transform: translate(0,10px);\n    -moz-transform: translate(0,10px);\n    -o-transform: translate(0,10px);\n    -ms-transform: translate(0,10px);\n    transform: translateY(10px);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  50% {\n    -webkit-transform: translate(0,10px);\n    -moz-transform: translate(0,10px);\n    -o-transform: translate(0,10px);\n    -ms-transform: translate(0,10px);\n    transform: translateY(10px);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  to {\n    -webkit-transform: translate(0,0);\n    -moz-transform: translate(0,0);\n    -o-transform: translate(0,0);\n    -ms-transform: translate(0,0);\n    transform: translate(0);\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@keyframes dcg-fadeIn-show-keypad {\n  0% {\n    -webkit-transform: translate(0,10px);\n    -moz-transform: translate(0,10px);\n    -o-transform: translate(0,10px);\n    -ms-transform: translate(0,10px);\n    transform: translateY(10px);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  50% {\n    -webkit-transform: translate(0,10px);\n    -moz-transform: translate(0,10px);\n    -o-transform: translate(0,10px);\n    -ms-transform: translate(0,10px);\n    transform: translateY(10px);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  to {\n    -webkit-transform: translate(0,0);\n    -moz-transform: translate(0,0);\n    -o-transform: translate(0,0);\n    -ms-transform: translate(0,0);\n    transform: translate(0);\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container {\n  height: 40px;\n  display: inline-block;\n  position: relative;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container.dcg-disabled {\n  opacity: .5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container.dcg-disabled .dcg-keypad-btn {\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn {\n  position: absolute;\n  top: 2px;\n  left: 2px;\n  right: 2px;\n  bottom: 2px;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -moz-box-orient: horizontal;\n  -o-box-orient: horizontal;\n  -webkit-flex-flow: row;\n  -ms-flex-flow: row;\n  flex-flow: row;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  padding: 0;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content {\n  text-align: center;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sup,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sup,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sub,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sub,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-to,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-to,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-from,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-from {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-supsub {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-sqrt-stem {\n  width: 4px;\n  padding: 0;\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=shift] {\n  padding-top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="/"],\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="-"] {\n  padding-top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="*"] {\n  padding-top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=left],\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=right],\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=backspace] {\n  font-size: 110%;\n  padding-top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=enter] {\n  font-size: 140%;\n  padding-top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content {\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray {\n  -webkit-box-shadow: inset 0 1px rgba(255,255,255,.25),inset 0 -1px rgba(0,0,0,.02);\n  box-shadow: inset 0 1px #ffffff40,inset 0 -1px #00000005;\n  background: -webkit-linear-gradient(#fff,#fafafa);\n  background: -moz-linear-gradient(#fff,#fafafa);\n  background: -o-linear-gradient(#fff,#fafafa);\n  background: -ms-linear-gradient(#fff,#fafafa);\n  background: linear-gradient(#fff,#fafafa);\n  border: 1px solid #d8d8d8;\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray {\n  -webkit-box-shadow: inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.02);\n  box-shadow: inset 0 1px #ffffff1a,inset 0 -1px #00000005;\n  background: -webkit-linear-gradient(rgba(0,0,0,.13),rgba(0,0,0,.16));\n  background: -moz-linear-gradient(rgba(0,0,0,.13),rgba(0,0,0,.16));\n  background: -o-linear-gradient(rgba(0,0,0,.13),rgba(0,0,0,.16));\n  background: -ms-linear-gradient(rgba(0,0,0,.13),rgba(0,0,0,.16));\n  background: linear-gradient(rgba(0,0,0,.13),rgba(0,0,0,.16));\n  border: 1px solid #bbb;\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n  color: #fff;\n  background: #2f72dc;\n  border: 1px solid #2964c2;\n  -webkit-box-shadow: inset 0 1px rgba(255,255,255,.1),inset 0 -1px rgba(0,0,0,.05);\n  box-shadow: inset 0 1px #ffffff1a,inset 0 -1px #0000000d;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-hovered:not(.dcg-disabled),\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-hovered:not(.dcg-disabled) {\n  background: #2964c2;\n  -webkit-transition: background .2s;\n  -moz-transition: background .2s;\n  -o-transition: background .2s;\n  -ms-transition: background .2s;\n  transition: background .2s;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-depressed:not(.dcg-disabled),\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-depressed:not(.dcg-disabled) {\n  background: #2457a8;\n  border: 1px solid #2457a8;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue {\n  height: 76px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-hovered {\n  background: #f5f5f5;\n  border-color: #d8d8d8;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-depressed {\n  background: #ebebeb;\n  border-color: #cfcfcf;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-hovered {\n  background: rgba(0,0,0,.16);\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container:not(.dcg-disabled) .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-depressed {\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  background: rgba(0,0,0,.19);\n}\n\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray {\n  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,.25),inset 0 1px rgba(0,0,0,.02);\n  box-shadow: inset 0 -1px #ffffff40,inset 0 1px #00000005;\n  background: -webkit-linear-gradient(#fafafa,#fff);\n  background: -moz-linear-gradient(#fafafa,#fff);\n  background: -o-linear-gradient(#fafafa,#fff);\n  background: -ms-linear-gradient(#fafafa,#fff);\n  background: linear-gradient(#fafafa,#fff);\n}\n\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray {\n  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,.1),inset 0 1px rgba(0,0,0,.02);\n  box-shadow: inset 0 -1px #ffffff1a,inset 0 1px #00000005;\n  background: -webkit-linear-gradient(rgba(0,0,0,.16),rgba(0,0,0,.13));\n  background: -moz-linear-gradient(rgba(0,0,0,.16),rgba(0,0,0,.13));\n  background: -o-linear-gradient(rgba(0,0,0,.16),rgba(0,0,0,.13));\n  background: -ms-linear-gradient(rgba(0,0,0,.16),rgba(0,0,0,.13));\n  background: linear-gradient(rgba(0,0,0,.16),rgba(0,0,0,.13));\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray {\n  background: rgba(255,255,255,.3);\n  border: 0;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-hovered {\n  background: rgba(255,255,255,.25);\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-depressed {\n  background: rgba(255,255,255,.15);\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray {\n  background: rgba(0,0,0,.15);\n  border: 0;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-hovered {\n  background: rgba(0,0,0,.18);\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-depressed {\n  background: rgba(0,0,0,.22);\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="/"] .dcg-keypad-btn-content,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="="] .dcg-keypad-btn-content,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="<"] .dcg-keypad-btn-content,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="<="] .dcg-keypad-btn-content {\n  position: relative;\n  left: -1px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-btn[dcg-command=sqrt] {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE:not(.dcg-narrow) .dcg-keys-container.dcg-smaller-functions-text .dcg-keypad-btn[dcg-command=functions] {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-keys-container.dcg-small-ABC .dcg-abc-audio-container .dcg-keypad-btn[dcg-command=ABC] {\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-keys-container.dcg-smaller-ABC .dcg-abc-audio-container .dcg-keypad-btn[dcg-command=ABC] {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-keys-container.dcg-smallest-ABC .dcg-abc-audio-container .dcg-keypad-btn[dcg-command=ABC] {\n  font-size: 70%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad-container {\n  background: rgba(0,0,0,.07);\n  border: 1px solid rgba(0,0,0,.2);\n  border-top: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad {\n  margin: 0;\n  padding: 4px 3px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-to,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-from {\n  display: none!important;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-int .dcg-mq-supsub {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-int {\n  font-size: 70%;\n  position: relative;\n  top: -1px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad * {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-touch-callout: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-half-width-placeholder {\n  -webkit-box-flex: .5;\n  -moz-box-flex: .5;\n  -o-box-flex: .5;\n  -ms-box-flex: .5;\n  box-flex: .5;\n  -webkit-flex-grow: .5;\n  flex-grow: .5;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-partition-placeholder {\n  width: 4%;\n}\n\n.dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad,\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-basic-keypad {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad .dcg-keypad-btn-container {\n  height: 52px;\n}\n\n.dcg-calculator-api-container .dcg-projector-mode.dcg-classroom-large-projector-mode .dcg-basic-keypad .dcg-keypad-btn-container {\n  height: 64px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-basic-keypad .dcg-keypad-row .dcg-keypad-btn-container {\n  height: 46px;\n}\n\n.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-classroom-large-projector-mode .dcg-basic-keypad .dcg-keypad-row .dcg-keypad-btn-container {\n  height: 58px;\n}\n\n.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row {\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row .dcg-keypad-btn-container {\n  height: 44px;\n}\n\n@media screen and (max-width: 470px) {\n  .dcg-calculator-api-container .dcg-projector-mode .dcg-sci-func-keypad .dcg-basic-keypad {\n    font-size: 115%;\n  }\n}\n\n@media screen and (max-width: 330px) {\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-either-or-btn {\n    font-size: 85%;\n    white-space: nowrap;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad {\n    font-size: 125%;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-projector-mode .dcg-sci-func-keypad .dcg-basic-keypad {\n    font-size: 90%;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row {\n    font-size: 70%;\n  }\n}\n\n.dcg-calculator-api-container .dcg-keypad-row {\n  padding: 0;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -moz-box-orient: horizontal;\n  -o-box-orient: horizontal;\n  -webkit-box-lines: single;\n  -moz-box-lines: single;\n  -o-box-lines: single;\n  -webkit-flex-flow: row nowrap;\n  -ms-flex-flow: row nowrap;\n  flex-flow: row nowrap;\n  -webkit-box-align: stretch;\n  -moz-box-align: stretch;\n  -o-box-align: stretch;\n  -ms-flex-align: stretch;\n  -webkit-align-items: stretch;\n  align-items: stretch;\n  margin: 0;\n}\n\n.dcg-calculator-api-container .dcg-keypad-row .dcg-abc-audio-container {\n  -webkit-box-flex: 2;\n  -moz-box-flex: 2;\n  -o-box-flex: 2;\n  -ms-box-flex: 2;\n  box-flex: 2;\n  -webkit-flex-grow: 2;\n  flex-grow: 2;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-column {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-column .dcg-keypad-btn-container {\n  max-height: 40px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-column .dcg-keypad-btn-container .dcg-keypad-btn:not(.dcg-btn-short-blue) {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-btn-playback {\n  height: 40px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-btn-playback .dcg-keypad-btn-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-key-nav-section-container {\n  height: 40px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-key-nav-section-container .dcg-tooltip-hit-area-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-playback-column .dcg-key-nav-section-container .dcg-key-nav-section-title-container.dcg-disabled {\n  opacity: .5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title {\n  text-align: left;\n  color: #666;\n  line-height: 40px;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container {\n  margin-left: 3px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container i {\n  font-size: 80%;\n  cursor: pointer;\n  display: inline-block;\n  padding: 5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container.dcg-hovered {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-section-title .dcg-tooltip-hit-area-container.dcg-depressed {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-audio-keypad-spacer {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: .25;\n  -ms-flex: .25;\n  flex: .25;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-play-icon-container,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-stop-icon-container {\n  border: 2px solid #fff;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  width: 22px;\n  height: 22px;\n  line-height: 22px;\n  text-align: center;\n  font-size: 50%;\n  margin-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-icon-play {\n  position: relative;\n  top: -1px;\n  left: 1.5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-stop-icon {\n  background: #fff;\n  display: inline-block;\n  -webkit-border-radius: 1px;\n  border-radius: 1px;\n  width: 8px;\n  height: 8px;\n  position: relative;\n  top: -1px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-button-icon:not(.dcg-icon-only) {\n  font-size: 70%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-button-icon:not(.dcg-icon-only):not(.dcg-icon-after-text) {\n  margin-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-content .dcg-button-icon.dcg-icon-only {\n  font-size: 120%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link .dcg-shared-dark-gray-link {\n  text-align: right;\n  line-height: 40px;\n  text-decoration: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link .dcg-shared-dark-gray-link i {\n  margin-right: 5px;\n  vertical-align: middle;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-link .dcg-shared-dark-gray-link span {\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-keypad-btn-container {\n  width: 40px;\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-keypad-btn-container i.dcg-icon-volume-up,\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-keypad-btn-container i.dcg-icon-volume-down {\n  font-size: 115%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-key-nav-section-title-container {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  width: 70px;\n  padding: 0 5px;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-key-nav-section-title-container .dcg-key-nav-section-title {\n  font-size: 75%;\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-basic-keypad .dcg-key-nav-section .dcg-key-nav-section-title-container.dcg-poi-section-container .dcg-key-nav-section-title {\n  display: block;\n}\n\n@media screen and (max-width: 550px) {\n  .dcg-calculator-api-container .dcg-audio-keypad-spacer {\n    max-width: 20px;\n  }\n\n  .dcg-calculator-api-container .dcg-audio-keypad-column .dcg-key-nav-section .dcg-key-nav-section-title-container {\n    font-size: 80%;\n    width: 60px;\n  }\n}\n\n@media screen and (max-width: 430px) {\n  .dcg-calculator-api-container .dcg-audio-keypad-container {\n    font-size: 90%;\n  }\n\n  .dcg-calculator-api-container .dcg-audio-keypad-container .dcg-audio-keypad-column.dcg-playback-column .dcg-key-nav-section .dcg-key-nav-section-title-container {\n    width: 40px;\n  }\n\n  .dcg-calculator-api-container .dcg-audio-keypad-container .dcg-audio-keypad-column.dcg-navigation-column .dcg-key-nav-section .dcg-key-nav-section-title-container {\n    width: 55px;\n  }\n}\n\n@media screen and (max-width: 400px) {\n  .dcg-calculator-api-container .dcg-keypad-link i {\n    display: none;\n  }\n}\n\n@media screen and (max-width: 340px) {\n  .dcg-calculator-api-container .dcg-audio-keypad-column.dcg-navigation-column .dcg-key-nav-section .dcg-key-nav-section-title-container {\n    display: none;\n  }\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {\n  top: -306px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-arrow {\n  border-top-color: #f7f7f7;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior {\n  height: 306px!important;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {\n  padding: 0;\n  text-align: left;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior {\n  padding: 0;\n  width: 295px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-popover-header table {\n  border-collapse: collapse;\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container {\n  width: 33.3%;\n  float: left;\n  height: 42px;\n  float: none;\n  margin-bottom: -5px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container .dcg-keypad-btn {\n  font-size: 80%!important;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-section-separator {\n  display: block;\n  clear: both;\n  border-bottom: 1px solid #e2e2e2;\n  margin: 0 2px 4px;\n  padding-top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section,\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-buttons {\n  margin-bottom: -42px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section:last-of-type .dcg-keypad-keys-buttons {\n  margin-bottom: 7px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section {\n  border: 1px solid transparent;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-keypad-keys-section+.dcg-keypad-keys-section {\n  margin-top: 100px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading {\n  color: #666;\n  text-transform: uppercase;\n  font-size: 75%;\n  text-align: left;\n  padding: 5px;\n  position: sticky;\n  top: 0;\n  background: #fff;\n  z-index: 2;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a {\n  color: #000;\n  margin-left: 5px;\n  opacity: .5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-hovered {\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-depressed {\n  opacity: .9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-interior-buttons {\n  padding: 5px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-option {\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  cursor: pointer;\n  margin: 4px 1px 0 3px!important;\n  width: 60px;\n  height: 38px;\n  line-height: 28px;\n  text-align: center;\n  line-height: 38px;\n  padding: 0;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-option.dcg-inverse-trig .dcg-mq-supsub {\n  line-height: 0;\n  font-size: 80%;\n  position: relative;\n  top: -.5em;\n  margin-right: -5px;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left {\n  top: auto;\n  bottom: 5px;\n  right: 18%;\n  left: auto;\n}\n\n.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left .dcg-arrow {\n  top: auto;\n}\n\n.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-popover-interior {\n  width: 330px;\n}\n\n.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-interior-buttons {\n  font-size: 80%;\n}\n\n@media screen and (max-width: 415px) {\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover.dcg-left {\n    left: 5px;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover.dcg-left .dcg-popover-interior {\n    width: calc(100% + 2px);\n    font-size: 90%;\n  }\n}\n\n@media screen and (max-width: 375px) {\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left {\n    left: 5px;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left .dcg-popover-interior {\n    width: calc(100% + 2px);\n    font-size: 95%;\n  }\n\n  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-keypad .dcg-functions-popover.dcg-left .dcg-keypad-keys-buttons {\n    font-size: 85%;\n  }\n}\n\n.dcg-calculator-api-container .dcg-settings-pillbox,\n.dcg-calculator-api-container .dcg-action-zoomin,\n.dcg-calculator-api-container .dcg-action-zoomout,\n.dcg-calculator-api-container .dcg-action-zoomrestore,\n.dcg-calculator-api-container .dcg-reset-pillbox {\n  height: 37px;\n}\n\n.dcg-calculator-api-container .dcg-settings-pillbox,\n.dcg-calculator-api-container .dcg-zoominout-pillbox,\n.dcg-calculator-api-container .dcg-action-zoomrestore,\n.dcg-calculator-api-container .dcg-reset-pillbox {\n  width: 37px;\n  line-height: 37px;\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-zoominout-pillbox .dcg-tooltip-hit-area-container,\n.dcg-calculator-api-container .dcg-reset-pillbox .dcg-tooltip-hit-area-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-settings-pillbox,\n.dcg-calculator-api-container .dcg-zoominout-pillbox,\n.dcg-calculator-api-container .dcg-action-zoomrestore,\n.dcg-calculator-api-container .dcg-reset-pillbox {\n  margin-top: 3px;\n  margin-bottom: 3px;\n}\n\n.dcg-calculator-api-container .dcg-action-settings .dcg-icon-lock {\n  position: absolute;\n  bottom: 5px;\n  right: 2px;\n  font-size: 8px;\n  padding: 3px;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  color: #fff;\n  background: rgba(0,0,0,.75);\n  text-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-pillbox-container {\n  position: absolute;\n  right: 5px;\n  top: 2px;\n  bottom: 0;\n  width: 0;\n  z-index: 41;\n}\n\n.dcg-calculator-api-container .dcg-pillbox-container.dcg-geometry-toolbar-present {\n  top: 50px;\n}\n\n.dcg-calculator-api-container .dcg-pillbox-container .dcg-overgraph-pillbox-elements {\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\n.dcg-calculator-api-container .dcg-pillbox-container .dcg-settings-pillbox,\n.dcg-calculator-api-container .dcg-pillbox-container .dcg-reset-pillbox {\n  float: right;\n}\n\n.dcg-calculator-api-container .dcg-zoom-container {\n  float: right;\n  clear: right;\n}\n\n.dcg-calculator-api-container .dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomin,\n.dcg-calculator-api-container .dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomout {\n  line-height: 40px;\n  font-size: 75%;\n}\n\n.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomin {\n  border-bottom: 1px solid rgba(0,0,0,.1);\n}\n\n.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomrestore.dcg-disabled {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomrestore {\n  -webkit-animation: dcg-fadeIn-pillboxes .25s;\n  -moz-animation: dcg-fadeIn-pillboxes .25s;\n  -o-animation: dcg-fadeIn-pillboxes .25s;\n  -ms-animation: dcg-fadeIn-pillboxes .25s;\n  animation: dcg-fadeIn-pillboxes .25s;\n}\n\n.dcg-calculator-api-container .dcg-btn-flat-gray {\n  -webkit-box-shadow: 0 0 5px rgba(0,0,0,.15);\n  box-shadow: 0 0 5px #00000026;\n  border: 1px solid rgba(0,0,0,.1);\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  cursor: pointer;\n  text-shadow: 0 1px #fff;\n}\n\n.dcg-calculator-api-container .dcg-btn-flat-gray i {\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-hovered i,\n.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-hovered i {\n  opacity: .9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed,\n.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed,\n.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active,\n.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active {\n  background: #e8e8e8;\n}\n\n.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed i,\n.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed i,\n.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active i,\n.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active i {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-btn-flat-gray {\n  text-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon-container {\n  z-index: 40;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon-container:not(.dcg-bottom-right) {\n  position: absolute;\n  top: 5px;\n  left: 5px;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon-container.dcg-bottom-right {\n  position: absolute;\n  bottom: 5px;\n  right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon {\n  width: 37px;\n  height: 37px;\n  line-height: 40px;\n  font-size: 110%;\n  text-shadow: -2px -2px 0 #fff,-2px 2px 0 #fff,2px -2px 0 #fff,2px 2px 0 #fff,0 -2px 0 #fff,0 2px 0 #fff,2px 0 0 #fff,-2px 0 0 #fff;\n  text-align: center;\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon.dcg-rotated {\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon i {\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon.dcg-hovered {\n  background: rgba(0,0,0,.15);\n  text-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon.dcg-hovered i {\n  opacity: .8;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";\n  filter: alpha(opacity=80);\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon.dcg-depressed {\n  background: rgba(0,0,0,.3);\n  text-shadow: none;\n}\n\n.dcg-calculator-api-container .dcg-overgraph-icon.dcg-depressed i {\n  opacity: 1;\n  -ms-filter: none;\n  filter: none;\n}\n\n@media only screen and (max-width: 450px) {\n  .dcg-calculator-api-container .dcg-zoominout-pillbox {\n    display: none;\n  }\n}\n\n@media only screen and (max-height: 450px) {\n  .dcg-calculator-api-container .dcg-zoominout-pillbox {\n    display: none;\n  }\n}\n\n@-webkit-keyframes dcg-fadeIn-pillboxes {\n  0% {\n    -webkit-transform: scale(.75,.75);\n    -moz-transform: scale(.75,.75);\n    -o-transform: scale(.75,.75);\n    -ms-transform: scale(.75,.75);\n    transform: scale(.75);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  to {\n    -webkit-transform: scale(1,1);\n    -moz-transform: scale(1,1);\n    -o-transform: scale(1,1);\n    -ms-transform: scale(1,1);\n    transform: scale(1);\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@keyframes dcg-fadeIn-pillboxes {\n  0% {\n    -webkit-transform: scale(.75,.75);\n    -moz-transform: scale(.75,.75);\n    -o-transform: scale(.75,.75);\n    -ms-transform: scale(.75,.75);\n    transform: scale(.75);\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  to {\n    -webkit-transform: scale(1,1);\n    -moz-transform: scale(1,1);\n    -o-transform: scale(1,1);\n    -ms-transform: scale(1,1);\n    transform: scale(1);\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n.dcg-calculator-api-container .dcg-settings-view-container {\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-settings-view-container .dcg-settings-container {\n  position: absolute;\n  top: 2px;\n  right: 38px;\n  line-height: 1em;\n}\n\n.dcg-calculator-api-container .dcg-settings-container {\n  bottom: auto;\n  z-index: 61;\n  width: 290px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-arrow {\n  top: 18px!important;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-popover-interior {\n  padding: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-visual-settings {\n  padding-bottom: 10px;\n  border-bottom: 1px solid #ddd;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-visual-settings .dcg-action-projectormode {\n  width: 100%;\n  padding: 8px;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-minor-checkbox,\n.dcg-calculator-api-container .dcg-settings-container .dcg-step-label {\n  font-size: 85%;\n  color: #444;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  padding-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-component-checkbox {\n  margin-top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-grid-settings {\n  min-width: 110px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-grid-settings .dcg-component-checkbox {\n  margin-bottom: 2px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-top-checkboxes-container .dcg-component-checkbox {\n  margin-bottom: 3px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-top-checkboxes-container .dcg-action-zoom-square {\n  float: left;\n  clear: left;\n  font-size: 80%;\n  margin: 3px 0;\n  padding: 3px 10px;\n  line-height: 1.5em;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container {\n  border-top: 1px solid #ddd;\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-action-toggle-y-axis-steps,\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-action-toggle-x-axis-steps {\n  margin-right: -2px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-component-checkbox {\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-lock-viewport-option {\n  font-size: 95%;\n  height: 1.5em;\n  line-height: 2em;\n  margin-bottom: 2px;\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-x-axis-title,\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-y-axis-title {\n  display: grid;\n  grid-template-columns: 55% 45%;\n  font-size: 95%;\n  line-height: normal;\n  margin-bottom: 2px;\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-x-axis-title .dcg-component-checkbox,\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-y-axis-title .dcg-component-checkbox {\n  margin-top: 1em;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-x-axis-title.dcg-y-axis-title,\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-y-axis-title.dcg-y-axis-title {\n  margin-top: 12px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-x-axis-title .dcg-axis-label,\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-y-axis-title .dcg-axis-label {\n  position: relative;\n  margin-bottom: -10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-x-axis-title .dcg-axis-label:focus-within label,\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-y-axis-title .dcg-axis-label:focus-within label {\n  color: #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-x-axis-title .dcg-axis-label label,\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-y-axis-title .dcg-axis-label label {\n  position: absolute;\n  padding: 0 3px;\n  font-size: 85%;\n  color: #666;\n  left: 4px;\n  top: 2px;\n  background: #fff;\n  margin: 0;\n  line-height: normal;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-x-axis-title .dcg-axis-label input,\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-y-axis-title .dcg-axis-label input {\n  outline: none;\n  margin-top: .7em;\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  width: 100%;\n  color: #444;\n  font-size: 90%;\n  padding: 7px;\n  -webkit-appearance: none;\n  border: 1px solid rgba(0,0,0,.42);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-x-axis-title .dcg-axis-label input.dcg-hovered,\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-y-axis-title .dcg-axis-label input.dcg-hovered {\n  border: 1px solid rgba(0,0,0,.42);\n  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,.42);\n  box-shadow: 0 0 0 1px #0000006b;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-x-axis-title .dcg-axis-label input:focus,\n.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-y-axis-title .dcg-axis-label input:focus {\n  border: 1px solid #2f72dc;\n  -webkit-box-shadow: 0 0 0 1px #2f72dc;\n  box-shadow: 0 0 0 1px #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-radiangroup {\n  border-top: 1px solid #ddd;\n  padding-top: 10px;\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-displaysizegroup {\n  padding-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-arrows {\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-arrows i {\n  font-size: 26px;\n  line-height: 28px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon-group {\n  margin-left: 24px;\n  margin-bottom: 4px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon {\n  display: inline-block;\n  cursor: pointer;\n  width: 28px;\n  height: 28px;\n  -webkit-border-radius: 14px;\n  border-radius: 14px;\n  -webkit-box-shadow: 0 0 2px rgba(0,0,0,.25) inset;\n  box-shadow: 0 0 2px #00000040 inset;\n  background-color: #f9f9f9;\n  -webkit-background-size: contain;\n  -moz-background-size: contain;\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n  color: #777;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-selected {\n  background-color: #666;\n  color: #ffffffe6;\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon:not(.dcg-selected).dcg-hovered {\n  -webkit-box-shadow: inset 0 0 0 2px rgba(0,0,0,.15);\n  box-shadow: inset 0 0 0 2px #00000026;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon:not(.dcg-selected).dcg-depressed {\n  -webkit-box-shadow: inset 0 0 0 2px rgba(0,0,0,.25);\n  box-shadow: inset 0 0 0 2px #00000040;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian,\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar {\n  background-position: center center;\n  background-repeat: no-repeat;\n  border: 1px solid rgba(0,0,0,.42);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-selected,\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-selected {\n  border: none;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABRUlEQVR4Ae2ZJZQcURQF27vx58Sb8SJ2vD+jgzYswzqcCslW4yKDy2CXwSwz84Zuvu//XDj313mqTJnGV1QPJaIssofziOnA1VHiRGC3EM3AdSKe5J0DHehAB/73gTyrMInSPMvSidgNXAslysAeI94HbhExnHcF+rMpeFthEaV5m2UUcRi4XpToDOxnxGDgNhGzefevXyQOdKADHehAB9Ko8B6laWS5j1gO3GmUaAZ2D3E3cIOI13lXoD+bvyCwVqGF0tSyXETMBu4kStQDu404HbhexKu8+9evYgc60IEOdKAD2ahwjNJsZNlHfA3cNkpsBfYbYi9wnxFHefcXvM2cqdCP0pzJUiLWA3cDJa4F9gDxMnCTiLa880XiQAc60IEO9CrMqzCvwnwVO9CBDnSgA70K8yrsJ+FVmK9iBzrQgQ504HdiRjEpheKY1QAAAABJRU5ErkJggg==);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-selected {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABO0lEQVR4Ae2ZJ1AzARBGz7v4GbyJF9h4P9FUS5d0zU+v8lQckt6LpRdD773DDzzO366j8+2bVc88c7kkG8SHEAgDcygENh2XBCDLsRdA2nHjQKvtFKhABSrwzwfSEWMdou0wGQeuHZcBIHTsIzDouH1g0XYB33wC+mPsQ7T9JsvAveOmARh37H9g3nHnwLbtfvtDokAFKlCBClQgqRiDEG3K5B9w6LhcANKOvQHqHTcP9Nou4JvPDwhMxMhAtAmTYmDbcdkAJB17CeQ6bhrosZ2eYgUqUIEKVOBvD+QsxiNEe2ZyC7w47hKAC8e+AjeO+w882O4HfJvJizEL0eaZhMCp46oAqHDsHdDtuHVgxHZ6SBSoQAUqUIE6hekUplOYnmIFKlCBClSgTmE6hX3Q6BSmp1iBClSgAhX4BgYE6hY3llM6AAAAAElFTkSuQmCC);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHs0lEQVR4Ad2bA5AsSxOFZ3Vt7rNt27Zt27Ztfw/Xtm3btm1zb/7xTlRsdMx27/T09ouY+Csvtounu1KVWZtIXdiHrESowiCMu0P2rU1uIo7CW2zl3vgBMoApnBkHwG8xFlMhXoDchrGLY+MAWJmVGB/HCZAyzMf4NRFP4TGMbRwQI8D3MFZTPS6AOYzDaBkXQPZhE8bzifgKF2AY58cEsBHGFMlwfIWWGOPILjlAzmQPxuWJeAsHsQ3j0ZICJIvhGB0T8Rc+wVhJpRICfABjB4f9FwArsBjj2+gA/eeIsXC/e/voAD/FWEGl/wpgFsMwOhWpr84FPMbn/MkyjD78xFvczNHkRODjyMVHAsniHL5niur8aCNdeIpqhaNb+WuCWAsNkQ6jKm8zG3O0juE05BsWYXTkV7owi92ubTvtuSiR4EI9nRc3In8r0JUNWm4nnXiao/x4kApcxTfMdzCHMEXWKEph/7R6t8BEC3iZWqmEhCzOpzkFmOjstDh+P/3Azezgi5DuVFXaYaK+lAovxZzu+HQ9t4WEdxL9WUA5x7oYS3k4pSE7jQUYu+nkfLnwAL/FWMI0rfQzOSnWqUEdCrTGtf8+ZvMwSzV0eHEeLtexGWOZGL4/Rq+wADmCnRj3Uo56WqcDZQNXKcUrrFOv7hzt1fBfswNjD03Zy3fg9WofTr6eTpSM3hgSYGeMYWTp58c0ciDlfFe5kpkCN4ubijYeSls1buKd5DfkYrZgdKNwWv7WNKVTA+QKvfjpnlfdKnWexMMcRTe3/mtqC3iDKeo0n5u8W8R6TemBQ03VvZ4KIHnivPpJkHdg1PHUVOFb1RVQRzsYXMjlGccD/TjRnR/GYUykclLPVzA2kJ8C4PP6Jvskjb1XKzykn7N5nFV6HsZp4US8Br+xS1L0GzX4RUbr8CK98sQvdYoDSHW97Ns+a/yOsZlDuJCxAreIu8hKhC8cSz+nuQqCPBSu0aacWvhcWs7Eo0kw5lLGZ2xpxsuzMYytfEqFKBbmJma7Ca4M6NFDElmKq6njsb4b6Mdb7M+xqrnVd2Q5GmKiNrJk0Qp3YI46cqhP+1FihZWYDxVIu/b1NWJ3sQATzSSrJP7fGIz6NJSh2sG3ya4mezHfqYZG3MNR2uLXuJC3megAfJcMgJPUy1jFG2zHuCk6wAsFax/5gcOKGkROYZGD8UmykFCaJa6tIXmeF3JGjO+okkjwB8aA6ADrYjQv/JoPOoM4lrNUc7I04QzZ2S3snwTwTXmJ3+jbNybLGTE5aXTDGTGOkRI/KBq8smzEuMp75OFTtjuDeLK+3hiqk8skjCZegOQLysuJBA8J4ttczyxnxK7xriImei8awEslj3n+BlG0hJqqu0Sgz/YArIcxHY3lXbXK7+YVSvmo+yHRAH4WdMDmIqZrwcXc4WraYYwiGwHkVPHZNc6I/YQJYh3yfeY6WhxZMQrAwRgvBbS1xxz14yR91+0YDwrgPRrZTWbzaRkxEacGaIqVGJdFACgOvMi3paa033XOIBbwFzX4EmOZrENnnVWO5ELGuaPBXXTH+MV/HVms59KHl6/J9/Ftuw9jvtugXo67PmINVkjtHadu5WPKuiP/HP+VpGp+Sx/gKRjbAtp+xqjrMYizsCTa42TdGTH2VW0Nv9mkkDoXexDypZswVvu3yQK/73muzVfs8MBzPrF3jA6rl/rNJjke5tsiSmCZTRkPMGiLr8JYG9DWBeOjtLa4msJGF0Xa4kCH1dhBdmDmpGlaQnKIniv7zSZL0yF9Ka6OYf6pB27FWE52GmrmKYzJASv9g/FjIv2iBa/wbanEVlmM8Ip6CMaXxVisJ6MA7IPxVnAQLk1TV8ARATmY9RgXRAH4HkYvf2fBRVmWhXIWfnMA/Z0FGQTKRAF4jnioXDHu1noODeFugbE70N16H6NPIkohj5UYtwU4rEcyGWM+h6ZwWD8WtAcDHdZp6hetyOZ2CXT5D5RPvZK/i3H5m2vEF6rxc/nPkDeYHxXgKeKdwwMPTfs7OTV+KHJoqshapxE/UpP/oamZ11GIKsltijl2lmeygzGEd7lagL/mYf4p1IqvqqP/sfN9gb2wJACvCnVwn4L50Hpmhji4j/U0RA597OTqYkMfWRzJu/RggeBuYhx1uJOyKUIfrXxCHxGCR+skty+HCB4V8mCo4FEV5mIsTA4eRQm/vSP+OyPO8BtZ0qYrqeUffksvgJlDb02wb4wBzDclWFcHBzDTCwHnS+NNpFpMIeCHpRU+ChECDh1EP05WZQw1YwiiPyfl0pCs8EH0MGmIM/TFZnNsSdIQZPOpQDQjJ3QaInQi51SWy6g9GDmRky/Fb/xCdthETnqpsAMZpb4jIqXClksUdiqcEjoVlm4ysTTfuUjVaCqnAfB6TDSXM9NLJkZJx/5WGCr/kVNSAaQCDzIUc3R0hHRspIR248Js+yS+5SqqJgMkl6N4mjZswbRZjZgQJaEd/UpALnfSiwLM0UoG04aVErUuTPOck5fyPYfEeiUg/LUm9uNFOrM+IA0xiV+4gpwIlyrivZYioJfyGG8wTzruRe7gJMoFX6/6P7jYk/lXozL/clnmX8/L/AuOmX9FNPMv2Wb+NeXMv+id+VflM/+XDTL+1zX+Bzz06y/bFKL/AAAAAElFTkSuQmCC);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-selected {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHMElEQVR4AeXbA4wk+xbH8f9gbc+1bdu2bdu2bXNxbdu+s+9ac7W2dwerQffnJZPOS6fTtdPVW0k6ed/FoJBf8ZzzO6dD21hMWSgIX+HQUBAGqAxJ4BJzHZ68QF+osXESAm/HeF2TFegANFs9CYE9TMW1SQrU0WjcH5LBCZhnqQQFXoHp+oRkUOFnvJiUQItpwJkhOWwFtkxI4FOoURmSxIv4WfnCC7SxNHYMyWIZ83D8wgpUZijeDMnjOkzVfSEFHoVGK4Tk0dV43B5fYMQ+kseRuUcfW+D1mJK5CsmjTDXeCjnoYysnuNEjJuET97jEvlZVEXEfJ07EE6jMZu5UIy0/9d5xit4hg5ci3gRJ4knUqNTLpYYDmGWoJ91mHN50v3cM0wKY73XbhGBrsEVIlogo8K460OQtp1ol3z2oq13cZjTgGzV4MRSDJUMMvAAY41z923pIlNnS81KATWPd8Uu0fmNfjW4qMJ3q5TXAp9oX/hTbUBrUOiAUhHV8bozOmVsXEx3bZiDbwBi0eCsil4sWeDsm+AvcqyIsEH0NlEKz3UMIyh1rIhi6oAzXHmZjkm1C8Dk+KlSglTThcJ0NBm/oFCLQ3nlmgfetmv2Gv1Uj0p61SMiDPTViqKrWn9bWgr0LFPg2qpVlcssWfKlzyIOd/QuG2SfkYnmvggaX5R6hbc3Be/63W49hmA5tC7QT0jbMOtS5+CT3HraK90CDCzLL8h5BDRhtn+xLpBafZMvRTy0ubEugdv7CkBzJjRiY9ZuebteIlIEWCQtCpdPMAp9ZO1M//Izf9MhZ8zzUqWpD4JlosFjOtoeDY1q/L3eiaaDaBqEQ9PWAZjR7QF/3od6KIQft/IuBCxKoj1m4NIRcPIjZlrO1n8A4hygLhWN1n4FaqagMxW5IWT9k0EE1js+RMVLHPNt28AumgLmu1zXExz6Gg7l2DnnxAb7U3q4GZkXfOp+5xJJW14L9Qx509iTgFUuGYnEQgDctn2f5KpoxVT5SJuLTvEHsEGMA/ypbmPzvRwzxpDQa3Z6balrEaNDgKYdZRTUusLVL/Qa4I1eAdVSDaS4yH/uEYrE1Gi0Wgo1VkxsQrWcc4Lrch0QHEwBPapd1QJkg5g49Q/AQvgjFYhCez3xf5mgTwU82af3Numrxj9sxx5I5Ai/GLLdJ42llmSBWB96TCWJWQ9oyoRh0Uo9dskse15ufCYjrGocf9VHpdzyTLVCVOpwbgmOkcak9DQPD7Bay8COuCMVge9RpFxEQYYJ+rb/bDmmbZgkcjL+1butypMEs5+UGMefhm1AMbogqsG3jbzDeQZnfvIbvlWsVaH0p7JYJYveAtIGq8uxrVTTrFuLja5wTsex1AJ9ZJwTLm4+jfYXDfI33QlDpVNMArB/xppiKHUJ81GObkAf9NGOPTEBMeVRfN2OSX/A2mqxsaz+DMQ7xPu4LefEZzghxUQUWC3lwBEZnLtBHYJZrzADA614Fc12rU6bkHxHy4iE8EOJiPcyLWHYvBmUFxGFySSPtWZkgZnHQN+TBxXh7wYVQvj/7YHrEsg9wZdbPA9yiEQCZnFj2Ng3YPu/ezkO1XlF/ghInKHGiLvEumBmx7B1cE+sS9zYP2xR1iSMTVhqVR3ZOno31kCyHtB4hDy7HGyEu+kD+1oP9MVl5jNfMKfgj5MXjuDvExwzsFPKgu7k4LMaL+hvcHB2xnBzi4xNcEmXCxQ51KStF9GBqsVWIjyvwUUSy8BeYVFCy8ABIGagqKiDoGOJjM8zVOTrdUmv5AtKth9ESmW5diU9CMWhnKg6ISFhX9gdGW76NhPVacHRkwvoXzg3F4V68E5nyL20cpnpMdMr/PLgphIiUfyM0qwrFYT2krBhZNC3pZ8BduUWTbmaCtGtCiCyansPboXh8gldEl51d/AHSvnG5Xf2MWx3rcTMA54cQWXZeKYWtQ/HYpaDCvUY+av1bQOH+U4ggjvXRZNcFWh9lVna5D4zRjAY/G+hgndqwPl6KaX1EmEezzMe5bZlHEe5WtHnU00iMjWUeRdhvl6HRRknab8q8iqn6x7LfIgzMCh9jnMUTNDAvRtqusQ3MCAu4yjj8pndCFvCx0rgmlgXchom+hqn4Ub8ETPQzpPCksrZN9DhtiI3UYrjVF6YNodz14DkVhbUh4jRy1jcZcxxddCOnyifgPuUxGjkxWmFL+x78p6hW2GTT0BRhp0S0wuI2Ezu4Qxr8oEcMgXsCRto4bjMxfjv2AUCdu63XlkBdHe1bAKvGa8cW39B+2nDA7263i165AlVaxaleMQc0e8qvMRraCYwEVDrYR1IApvraK6ZiqHf8pRHARHdaLrGRgHhjTZZwtrfVykfK7+6zk4r4QxWJjqVkhG7vBBcZheec7SDr6Bw9XvX/OdhT8qNRJT5cVvLjeSU+4FjiI6IlP2Rb4mPKJT/oXfqj8iX9YYMS+LjGfwFgmWfRuP1uXwAAAABJRU5ErkJggg==);\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container {\n  margin-top: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container {\n  padding-left: 28px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-braille-options-buttons {\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox {\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info {\n  color: #999;\n  text-decoration: none;\n  margin-left: .5em;\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info.dcg-depressed {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-container .dcg-six-key-checkbox .dcg-six-key-info i {\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-refreshable-braille-note a {\n  text-decoration: underline;\n  color: #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-interval-interior {\n  margin: 0 -6px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-logarithmic-scale-checkbox {\n  height: 1.5em;\n  line-height: 2em;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container {\n  margin-top: 12px;\n  position: relative;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container.dcg-y-axis-options .dcg-logarithmic-scale-checkbox {\n  margin-bottom: 15px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-step-container {\n  float: right;\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-mathquill-wrapper {\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-mathquill-wrapper .dcg-braille-input {\n  max-width: 50px;\n  font-size: 100%;\n}\n\n.dcg-calculator-api-container .dcg-displaysize-large {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-settings-container {\n  right: 35px;\n  width: 260px;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-mq-editable-field.dcg-math-input,\n.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-braille-input {\n  padding-left: 0;\n  padding-right: 0;\n  font-size: 90%;\n  max-width: 50px;\n}\n\n.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-mq-editable-field.dcg-math-input,\n.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-mathquill-braille {\n  max-width: 45px;\n}\n\n.dcg-calculator-api-container .dcg-learn-more-link {\n  display: inline-block;\n  color: #999;\n  text-decoration: none;\n  padding: 5px;\n  font-size: 85%;\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-learn-more-link.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-learn-more-link.dcg-active {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-geometry-toolbar-view {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 39;\n  padding: 5px;\n  -webkit-box-shadow: 0 0 5px rgba(0,0,0,.15);\n  box-shadow: 0 0 5px #00000026;\n  height: 48px;\n  border-bottom: 1px solid rgba(0,0,0,.2);\n  background: -webkit-linear-gradient(#fcfcfc,#eaeaea);\n  background: -moz-linear-gradient(#fcfcfc,#eaeaea);\n  background: -o-linear-gradient(#fcfcfc,#eaeaea);\n  background: -ms-linear-gradient(#fcfcfc,#eaeaea);\n  background: linear-gradient(#fcfcfc,#eaeaea);\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-geometry-toolbar-view .dcg-header-left .dcg-tooltip-hit-area-container {\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-geometry-toolbar-view.dcg-after-initial-load .dcg-animate-in-after-initial-load {\n  -webkit-animation: dcg-fadeIn .3s;\n  -moz-animation: dcg-fadeIn .3s;\n  -o-animation: dcg-fadeIn .3s;\n  -ms-animation: dcg-fadeIn .3s;\n  animation: dcg-fadeIn .3s;\n}\n\n.dcg-calculator-api-container .dcg-geometry-toolbar-view .dcg-flex-spacer {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n\n.dcg-calculator-api-container .dcg-geometry-toolbar-view.dcg-leave-space-for-list-expander {\n  padding-left: 45px;\n}\n\n.dcg-calculator-api-container .dcg-geometry-toolbar-view .dcg-geo-undo-redo-container {\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-geometry-toolbar-view .dcg-geo-undo-redo-container.dcg-overgraph-undo-redo {\n  position: absolute;\n  top: 53px;\n  left: 5px;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-step-completed i,\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-step-upcoming span,\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-step-active-icon span {\n  width: 16px;\n  height: 16px;\n  display: inline-block;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  margin: 0 3px;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-step-completed i {\n  color: #2f72dc;\n  font-size: 70%;\n  background: #999;\n  color: #fff;\n  line-height: 16px;\n  text-align: center;\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-step-upcoming span {\n  border: 1px solid rgba(0,0,0,.2);\n  position: relative;\n  top: 2px;\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-step-active-icon span {\n  display: none;\n  background: #2f72dc;\n  line-height: 16px;\n  text-align: center;\n  font-size: 80%;\n  position: relative;\n  top: -1px;\n  color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-active-step {\n  margin-right: 5px;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-step-completed i,\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-step-upcoming span,\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-active-step {\n  -webkit-animation: dcg-fadeIn .3s;\n  -moz-animation: dcg-fadeIn .3s;\n  -o-animation: dcg-fadeIn .3s;\n  -ms-animation: dcg-fadeIn .3s;\n  animation: dcg-fadeIn .3s;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-input-flex-container .dcg-btn-blue {\n  padding: 4px 6px;\n  font-size: 90%;\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-input-flex-container .dcg-btn-blue.dcg-disabled {\n  pointer-events: none;\n  opacity: .6;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";\n  filter: alpha(opacity=60);\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-mathquill-wrapper .dcg-mq-container .dcg-math-field {\n  min-width: 40px;\n  max-width: 40px;\n  border: 2px solid rgba(0,0,0,.2);\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  padding: 4px;\n  margin: 0 2px 0 4px;\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-mathquill-wrapper .dcg-mq-container .dcg-math-field:after {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-mathquill-wrapper .dcg-mq-container .dcg-math-field.dcg-hovered {\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-mathquill-wrapper .dcg-mq-container .dcg-math-field.dcg-focus {\n  border: 2px solid #2f72dc;\n  background: #fff;\n}\n\n.dcg-calculator-api-container .dcg-create-transformation-view .dcg-mathquill-wrapper .dcg-mq-container .dcg-math-field.dcg-invalid {\n  border: 2px solid #e15855;\n}\n\n.dcg-calculator-api-container .dcg-toast-view {\n  position: absolute;\n  top: 7px;\n  left: 50px;\n  right: 50px;\n  height: 0;\n  text-align: center;\n  z-index: 45;\n  overflow: visible;\n  text-shadow: none;\n  color: #222;\n  line-height: 1em;\n  -webkit-transition: .3s opacity;\n  -moz-transition: .3s opacity;\n  -o-transition: .3s opacity;\n  -ms-transition: .3s opacity;\n  transition: .3s opacity;\n}\n\n.dcg-calculator-api-container .dcg-toast-view:not(.dcg-visible) {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast-wrapper {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast {\n  display: inline-block;\n  padding: 6px 10px;\n  background: #fef2ad;\n  border: 1px solid #fed973;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  font-size: 85%;\n  -webkit-box-shadow: 0 2px 6px rgba(0,0,0,.15);\n  box-shadow: 0 2px 6px #00000026;\n  position: relative;\n  pointer-events: auto;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-error {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast a.dcg-undo {\n  padding: 8px;\n  margin: -8px -8px -8px 0;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove {\n  font-size: 87%;\n  padding: 8px;\n  margin: -5px -10px -8px 2px;\n  color: #0000004d;\n  cursor: pointer;\n  float: right;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-hovered,\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove:focus {\n  color: #0009;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-depressed {\n  color: #000c;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast a {\n  margin-left: 6px;\n  text-decoration: underline;\n  cursor: pointer;\n  display: inline-block;\n  color: #333;\n  font-weight: 600;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast a.dcg-hovered {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-toast-view .dcg-toast-cover {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=error] .dcg-toast {\n  padding-left: 28px;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=error] .dcg-toast i.dcg-icon-error {\n  position: absolute;\n  top: 7px;\n  left: 10px;\n  color: #fc944c;\n  display: block;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=curriculum] {\n  position: relative;\n  top: auto;\n  bottom: auto;\n  left: auto;\n  right: auto;\n  height: auto;\n  z-index: 29;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=curriculum] .dcg-toast {\n  background: #000;\n  color: #ffffffe6;\n  width: 100%;\n  border: none;\n  -webkit-border-radius: 0;\n  border-radius: 0;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=curriculum] .dcg-toast a {\n  color: #ffffffe6;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=cover] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  padding-top: 5px;\n  height: 100%;\n  z-index: 999;\n}\n\n.dcg-calculator-api-container .dcg-toast-view[toast-style=cover] .dcg-toast-cover {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  opacity: .3;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";\n  filter: alpha(opacity=30);\n  display: block;\n  background-color: #000;\n}\n\n.dcg-calculator-api-container .dcg-geometry-settings-container.dcg-constrained-height-popover {\n  z-index: 61;\n  width: 290px;\n  top: 50px;\n}\n\n.dcg-calculator-api-container .dcg-geometry-settings-container.dcg-constrained-height-popover.dcg-narrow-geometry-header {\n  top: 95px;\n}\n\n.dcg-calculator-api-container .dcg-geometry-settings-container.dcg-constrained-height-popover .dcg-popover-interior {\n  padding: 5px 0 10px;\n}\n\n.dcg-calculator-api-container .dcg-geometry-settings-container.dcg-constrained-height-popover .dcg-popover-interior:after {\n  content: "";\n  position: absolute;\n  top: -10px;\n  right: 10px;\n  border-width: 10px;\n  border-top-width: 0;\n  border-style: solid;\n  border-color: transparent transparent #fff;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-geometry-settings-container.dcg-constrained-height-popover .dcg-popover-interior:before {\n  content: "";\n  position: absolute;\n  top: -11px;\n  right: 9px;\n  border-width: 11px;\n  border-top-width: 0;\n  border-style: solid;\n  border-color: transparent transparent #ccc;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-geometry-settings-container.dcg-constrained-height-popover .dcg-component-checkbox {\n  font-size: 95%;\n  margin-top: 5px;\n  color: #666;\n  display: inline-block;\n}\n\n.dcg-calculator-api-container .dcg-geometry-settings-container.dcg-constrained-height-popover .dcg-braille-options-buttons {\n  margin-top: 8px;\n}\n\n.dcg-calculator-api-container .dcg-geometry-settings-container.dcg-constrained-height-popover .dcg-refreshable-braille-note {\n  font-size: 95%;\n  color: #666;\n  margin-top: 3px;\n}\n\n.dcg-aria-alert {\n  position: absolute;\n  left: -1000px;\n  top: -1000px;\n  width: 1px;\n  height: 1px;\n  text-align: left;\n  overflow: hidden;\n}\n\n@media (prefers-reduced-motion) {\n  .dcg-calculator-api-container *,\n  .dcg-calculator-api-container *:after,\n  .dcg-calculator-api-container *:before {\n    -webkit-transition: none!important;\n    -moz-transition: none!important;\n    -o-transition: none!important;\n    -ms-transition: none!important;\n    transition: none!important;\n    -webkit-animation-duration: 0ms!important;\n    -moz-animation-duration: 0ms!important;\n    -o-animation-duration: 0ms!important;\n    -ms-animation-duration: 0ms!important;\n    animation-duration: 0ms!important;\n    -webkit-animation-delay: 0ms!important;\n    -moz-animation-delay: 0ms!important;\n    -o-animation-delay: 0ms!important;\n    -ms-animation-delay: 0ms!important;\n    animation-delay: 0ms!important;\n  }\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper {\n  height: 100%;\n  width: 100%;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main {\n  height: 100%;\n  width: 100%;\n  background: #fff;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  -webkit-box-lines: single;\n  -moz-box-lines: single;\n  -o-box-lines: single;\n  -webkit-flex-wrap: nowrap;\n  -ms-flex-wrap: nowrap;\n  flex-wrap: nowrap;\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n  font-family: Arial,sans-serif;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main.dcg-no-hyperlinks a[target=_blank] {\n  display: none!important;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar {\n  height: 40px;\n  background-color: #00000012;\n  border-left: 1px solid rgba(0,0,0,.2);\n  border-right: 1px solid rgba(0,0,0,.2);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-bar-contents {\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -moz-box-orient: horizontal;\n  -o-box-orient: horizontal;\n  -webkit-box-lines: single;\n  -moz-box-lines: single;\n  -o-box-lines: single;\n  -webkit-flex-flow: row nowrap;\n  -ms-flex-flow: row nowrap;\n  flex-flow: row nowrap;\n  -webkit-box-align: stretch;\n  -moz-box-align: stretch;\n  -o-box-align: stretch;\n  -ms-flex-align: stretch;\n  -webkit-align-items: stretch;\n  align-items: stretch;\n  -webkit-flex-shrink: 0;\n  flex-shrink: 0;\n  padding-top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-spacer {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-spacer-2 {\n  -webkit-box-flex: 2;\n  -moz-box-flex: 2;\n  -o-box-flex: 2;\n  -ms-box-flex: 2;\n  box-flex: 2;\n  -webkit-flex-grow: 2;\n  flex-grow: 2;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-bar {\n  height: 52px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n  min-width: 40px;\n  text-align: center;\n  color: #0009;\n  font-size: 87.5%;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-narrow-control-btn {\n  max-width: 80px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-selectable-btn {\n  padding: 0 5px;\n  height: 38px;\n  line-height: 40px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-selectable-btn) {\n  height: 32px;\n  line-height: 32px;\n  margin: 5px;\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-disabled {\n  color: #00000026;\n  cursor: default;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-hovered {\n  color: #000c;\n  background: rgba(0,0,0,.1);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-depressed {\n  color: #000;\n  background: rgba(0,0,0,.18);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=settings] i {\n  font-size: 120%;\n  position: relative;\n  top: 1px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=backspace] i,\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=undo] i,\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=redo] i {\n  font-size: 150%;\n  position: relative;\n  top: 3px;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=clear] {\n  width: 50px;\n  white-space: nowrap;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=clearall] {\n  width: 50px;\n  line-height: inherit;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:after {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  content: "";\n  height: 0;\n  background: rgba(47,114,220,.5);\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected) {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected):after {\n  height: 4px;\n  -webkit-transition: height .2s;\n  -moz-transition: height .2s;\n  -o-transition: height .2s;\n  -ms-transition: height .2s;\n  transition: height .2s;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected {\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected:after {\n  height: 4px;\n  background: #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:first-of-type {\n  margin-left: 6px;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn {\n  min-width: 25px;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clearall],\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clear] {\n  width: 50px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn {\n  font-size: 150%;\n  height: 44px;\n  line-height: 44px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clearall],\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clear] {\n  width: 75px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clearall] {\n  line-height: 20px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=settings] i {\n  top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=backspace] i,\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=undo] i,\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=redo] i {\n  top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-selectable-btn {\n  top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-basic-settings-container {\n  position: relative;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n}\n\n.dcg-calculator-api-container .dcg-basic-settings-container .dcg-keypad-control-btn.dcg-selected {\n  color: #333;\n  background: rgba(0,0,0,.1);\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown {\n  font-size: 95%;\n  color: #333;\n  width: 280px;\n  position: absolute;\n  bottom: 50px;\n  right: 5px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option {\n  cursor: pointer;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option.dcg-reverse-contrast,\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option.dcg-displaysize-container {\n  margin-bottom: .5em;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-displaysize-large {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container {\n  padding-left: 26px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations {\n  color: #2f72dc;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations span {\n  text-decoration: underline;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-hovered:not(.dcg-disabled) {\n  color: #2253a1;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-depressed:not(.dcg-disabled) {\n  color: #17396e;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations i {\n  margin-right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info {\n  display: inline-block;\n  color: #999;\n  text-decoration: none;\n  margin-left: .5em;\n  font-size: 85%;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info.dcg-hovered {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info.dcg-active {\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-checkbox {\n  display: inline-block;\n  margin-top: 5px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior {\n  padding: 15px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after {\n  content: "";\n  position: absolute;\n  bottom: -7px;\n  right: 18px;\n  border-width: 7px;\n  border-bottom-width: 0;\n  border-style: solid;\n  border-color: #fff transparent transparent;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before {\n  content: "";\n  position: absolute;\n  bottom: -8px;\n  right: 17px;\n  border-width: 8px;\n  border-bottom-width: 0;\n  border-style: solid;\n  border-color: #ccc transparent transparent;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left {\n  position: absolute;\n  top: -30px;\n  left: -280px;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left.dcg-popover .dcg-popover-interior:after {\n  content: "";\n  position: absolute;\n  right: -7px;\n  top: 43px;\n  border-width: 7px;\n  border-right-width: 0;\n  border-style: solid;\n  border-color: transparent transparent transparent #fff;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left.dcg-popover .dcg-popover-interior:before {\n  content: "";\n  position: absolute;\n  right: -8px;\n  top: 42px;\n  border-width: 8px;\n  border-right-width: 0;\n  border-style: solid;\n  border-color: transparent transparent transparent #ccc;\n  line-height: 0;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after {\n  border-top-color: #0003;\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover:not(.dcg-point-left) .dcg-popover-interior:after {\n  right: 10px;\n}\n\n.dcg-calculator-api-container .dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover:not(.dcg-point-left) .dcg-popover-interior:before {\n  right: 9px;\n}\n\n.dcg-calculator-api-container .dcg-version-number {\n  color: #666;\n  font-size: 90%;\n  text-align: center;\n  margin-top: 15px;\n}\n\n.dcg-calculator-api-container .dcg-download-button.dcg-disabled {\n  pointer-events: none;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle {\n  display: block;\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n  line-height: 24px;\n  height: 25px;\n  margin-top: 7px;\n  cursor: pointer;\n  color: #0009;\n  font-size: 80%;\n  text-transform: uppercase;\n  background: #fff;\n  border: 1px solid rgba(0,0,0,.2);\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  width: 70px;\n  min-width: 50px;\n  margin-left: 20px;\n  margin-right: 20px;\n  position: relative;\n  -webkit-box-shadow: inset 1px 1px 2px rgba(0,0,0,.15);\n  box-shadow: inset 1px 1px 2px #00000026;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle .dcg-ctrl-toggle-option {\n  text-align: center;\n  display: inline-block;\n  width: 50%;\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle .dcg-ctrl-toggle-cover {\n  position: absolute;\n  top: -1px;\n  right: -1px;\n  bottom: -1px;\n  left: 50%;\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  border: 1px solid rgba(0,0,0,.2);\n  -webkit-transition: -webkit-transform .2s;\n  -moz-transition: -moz-transform .2s;\n  -o-transition: -o-transform .2s;\n  -ms-transition: -ms-transform .2s;\n  transition: transform .2s;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-hovered,\n.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-hovered .dcg-ctrl-toggle-cover {\n  border-color: #0000004d;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-depressed .dcg-ctrl-toggle-cover {\n  border-color: #00000080;\n}\n\n.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-toggled .dcg-ctrl-toggle-cover {\n  -webkit-transform: translate(-100%,0);\n  -moz-transform: translate(-100%,0);\n  -o-transform: translate(-100%,0);\n  -ms-transform: translate(-100%,0);\n  transform: translate(-100%);\n}\n\n.dcg-calculator-api-container .dcg-has-background-color .dcg-keypad-control-toggle {\n  background: rgba(255,255,255,.3);\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-toggle {\n  margin-left: 5px;\n  margin-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-toggle {\n  font-size: 150%;\n  min-width: 100px;\n  margin: 14px 15px 0;\n  height: 28px;\n  line-height: 26px;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container {\n  padding-top: 4px;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad {\n  color: #666;\n  border-top: 1px solid rgba(0,0,0,.2);\n  padding: 10px;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a {\n  color: #2f72dc;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a.dcg-hovered {\n  color: #2253a1;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a.dcg-depressed {\n  color: #17396e;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container {\n  color: #444;\n  padding: 10px 10px 0;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container .dcg-more-examples-link {\n  text-align: center;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table {\n  margin-bottom: 10px;\n  border: 1px solid rgba(0,0,0,.2);\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table th {\n  background: rgba(0,0,0,.07);\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  padding: 10px 0 10px 10px;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {\n  font-size: 130%;\n  color: #333;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text {\n  font-size: 95%;\n  margin-bottom: 10px;\n  line-height: 1.2em;\n}\n\n.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-btn-primary {\n  padding: 0 12px;\n}\n\n.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description,\n.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description {\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n}\n\n.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title,\n.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {\n  margin-bottom: 10px;\n}\n\n.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-btn-primary,\n.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-btn-primary {\n  margin-right: auto;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  text-align: center;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description {\n  -webkit-box-orient: horizontal;\n  -moz-box-orient: horizontal;\n  -o-box-orient: horizontal;\n  -webkit-box-lines: multiple;\n  -moz-box-lines: multiple;\n  -o-box-lines: multiple;\n  -webkit-flex-flow: row wrap;\n  -ms-flex-flow: row wrap;\n  flex-flow: row wrap;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  padding: 10px;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {\n  margin: 0 10px;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-btn-primary {\n  -webkit-box-ordinal-group: 1;\n  -moz-box-ordinal-group: 1;\n  -o-box-ordinal-group: 1;\n  -ms-flex-order: 1;\n  -webkit-order: 1;\n  order: 1;\n  margin-right: 0;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text {\n  -webkit-box-ordinal-group: 2;\n  -moz-box-ordinal-group: 2;\n  -o-box-ordinal-group: 2;\n  -ms-flex-order: 2;\n  -webkit-order: 2;\n  order: 2;\n  width: 100%;\n  margin: 5px 0 0;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container th,\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td {\n  padding: 2px 5px;\n}\n\n.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:nth-of-type(3) {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {\n  height: 170px;\n  padding: 3px;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container table {\n  margin-bottom: 5px;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:last-of-type {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {\n  font-size: 90%;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description {\n  padding-bottom: 5px;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-btn-primary {\n  padding: 5px 8px;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-more-examples-link {\n  display: none;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container {\n  padding-top: 0;\n}\n\n.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td {\n  height: 35px;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table {\n  border-collapse: collapse;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table tr:not(:last-of-type) {\n  border-bottom: 1px solid rgba(0,0,0,.2);\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table th {\n  font-family: Helvetica Neue,Helvetica,Arial,Lucida Grande,sans-serif;\n  font-weight: 500;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table th,\n.dcg-calculator-api-container table.dcg-braille-examples-table td {\n  padding: 5px 8px;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table th:not(:last-of-type),\n.dcg-calculator-api-container table.dcg-braille-examples-table td:not(:last-of-type) {\n  border-right: 1px solid rgba(0,0,0,.2);\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table th:not(:first-of-type),\n.dcg-calculator-api-container table.dcg-braille-examples-table td:not(:first-of-type) {\n  text-align: center;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table td {\n  height: 45px;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table .dcg-braille-font {\n  font-family: Abraham;\n  font-size: 110%;\n}\n\n.dcg-calculator-api-container table.dcg-braille-examples-table .dcg-key-press {\n  border: 1px solid rgba(0,0,0,.2);\n  background: rgba(255,255,255,.6);\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  width: 25px;\n  height: 25px;\n  line-height: 23px;\n  text-align: center;\n  display: inline-block;\n  margin-right: 2px;\n  vertical-align: middle;\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -moz-box-orient: vertical;\n  -o-box-orient: vertical;\n  -webkit-flex-direction: column;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  overflow: auto;\n  border-top: 1px solid rgba(0,0,0,.2);\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode {\n  font-size: 150%;\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode .dcg-braille-input input,\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode .dcg-braille-evaluation input {\n  font-size: 135%;\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  border-right: 1px solid rgba(0,0,0,.2);\n  border-left: 1px solid rgba(0,0,0,.2);\n  position: relative;\n  overflow: hidden;\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder .dcg-answer-hint {\n  -webkit-transition: opacity 1s;\n  -moz-transition: opacity 1s;\n  -o-transition: opacity 1s;\n  -ms-transition: opacity 1s;\n  transition: opacity 1s;\n  padding: 10px 30px 10px 10px;\n  width: 200px;\n  opacity: .7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  text-align: right;\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAADXCAQAAAC6oBfOAAAHuElEQVR42u2daYwVRRDHWwERjFEwuBpDvDDRGBNjNDF+0E/LsRxyS0BBVA4XAmogitHgArLct/zlRhBcELlkAbkkcskpEM6FRPAEFMUTwegzwO4Ku1X95tqd6X9e9cc33dO/Nz093VXVVcZkJCMZiVHwCHLwOK7mgqqPQvyFVHHpzQSWKlOGsaANK4eWwlAOtC0CWgoj3QerKoJdKPnuwxWpcP1cR5uuoqXwittoTS1oKXRyG66dFa6J23AdLWj7cRsv3FLXp5NnLXBwHS7XAuf8h+A1C1wr1+HyVbSvkeU63AQVbqH7S6+FKtybrqNlYT/vG9dERTvo/qDsrsKN4Nx9Xyrt3Yf7TIXLdh2tsYo21v3n9iLtTGkM3lPQdriPVhMnFLg+7sN1UQdlfd5BOcl9tIbqc2vtPlwvBW2VcV+wToHr6D5ac9qPgDGYpMDluo/WQEHbx/Dc+ilwPRjgjotohxjQXlKeW3cGuD0i2nYGtM6UxqpiuB0iWiEDmrYTaMwAV0SqVDAGeaTKIGOQraDlMTy34SLaXga0+rRbHGMwUUSbw4DWklYVpC65BjCg9RHRdhkGwVkR7kkGtFki2nAGtLa0iiBjcJDUiqNaTkczoDVjniW/EOEaMaANFNHeZkCTFa/rOYbkVt615CjetaS8B5jNMSSPCWhHOdDeF59bUwY0WTPJcJoK1US0jzmG5OcC2k8caODdlObxbkplffISjiG5k9QQbAymkho4jMEgXgOH7KI2mWNIniB1TzMGhQLaKQ402XbTgAGtvYg2kAEti9SJ9yLcDwLaCg60Tby77ZnikKzCgCafM23IgCYfLxrEgFaL8rh6MdxJ3l3bNl6T1GIB7UcOtHfFt+1G3umfYoncmHeJfLuINorjbftXQJvJgfa9gLaSA03ySNjGgbZSQDvGgTZbQPuTA0222VzHgCb7kt/NgJbH60WSzetFcqeINpgBrbaINoYBrYqINoVj+v9dQJvLgXZKQFvMgSYd3FvNgSYZ7DdxoG0gPdxsDNYKaAc40CTD73EOtKW8usgCAe00B5pkZfuVA02KWX6eA02OusWQk0NxRKvOgCa7xlzLgCZba2owoE3m1WkRD0hitGm875qMdg0DmhjbLrMaqaAuZSMvCud1fJCoNSSaYHlxJ/7A6yHbmiug/RYf2JUdmRiqtYUJ2q8J0ft7RaxA+C4eMCn+xJ4Q7a1OzOkajIs2sL0YTz4mtPEi2qLA7Unh+nbGg/aUElupZcD2pBgka+OaRvZFGRMLXwptrYkLLS/KmFiiv09clho1vF4gjzicS5R9DQNEtG8CtFRDbGlqfGhaeL2uvlu6OXG2bMyIJqKxMrjj9IhE62giGitTUrx+rFgvdurTSN7aeL2P8XQUmRYwWGzj/gj72QZj0cZvpQ1it2ZFoM+KKCkdcvFziSMiXvZTsWf4iMbKQa9I1AflvPb6+6n8bdgDP+JGNJLwHGI2vw7eq+eHXXJhjVD7cARgU8R+zffegJbgyrPTn5hvL6RrBa5Svrr+du9KVKwjnuufjDoUDq4XdWT+Y1GqGTI6evx/Q8+xZVrMsiSV9LuAU/6jrZ7q3iLWnRAY7C58Ys0KnRNeDeRRW6LErwjow4qHlHh4wdM2iWcHPR2MVKKO5AQCewIHrGAdgjTaTWks7TFkxRX+ngB9aISjVrCg0Z5wKFjaTWWSrhZgnWjDKgrhXK9Eoj4TSHPs2z8LL1jB9uCxcJ/J80Fy+Ipunj5P+FqzdqewEQ+EXdjIK/ivAqxBl0cwXkrKMtQNv2Zr5l9bgpphP9h4ywo2HzdFszeSoz6us9SoJ9YY6fmOQ61gs/xPR9qNWvhNlopWYWJpYaQVbHq0KoWN/nKdY3TwCGiW3OoVESJCTSzdQrl+dtAdtuKNV5GqPmXXPcXHNjStBhrVlL+kpAyrXEOHuOTCEeHKzWnuUBvzrGAVp8HEae+RX/CPcOU8a+t1scwK9mpFaiflCbnI8ybW8p7gPkWtW1K6VaziNUe5bd9yVw70N/XjUSVgfmBTin+4Am/aEozxM/WjgZKcoqS0rQyFuWbr7lzmuo+Ea84pbTa1YgXcvAaBKxRvXyZoA3Z59T9BOyvWgUo86qw+tyt2uvjFm9IBXa1g2/Fw5VpxdqUz4yp21XLeXmp66mKTF+41lStqh0qHjmJXK/P9U1PlFvsp4FZT+YIzYmfyS38fl37Voui7SkoBapk4RNlynCz9fUm6+REjrGAzUdXEI6pvSa5l/bg77YYnfueLi517R8/eq0T0LyitO8kKNsHEK2oK9+dVTcooq3YySaGosErzUVDSXrU0BtXT7MaGmCQIOinda44P5f016mCBFay/SYpgt9jBaaJq9TDqic66/5feJjmCHkon/xY/wFusYEnLaC/GpZDLXuuvyUsdjiGe0WwliSkD0Sg01pHEhgvGnFBgYU1IFYrWLATYFjxokiyYHxBsBe4wyRZ0CAS2AHVM8kU8gWEvc3GDcUHQ2yfYdOOOiL5YWnErpQv6egYbb1wTRVvCkM1LcS9kSJxU7oRp+dLPuCpWT8UUehp3RT3RcaF0MW6Loi1J4RnjuuA52mSpxmARZfR+c8nb+HK4zRQpAC/DewOrcRbbSOL2ZyQjGckIpfwHjUChXKuem7kAAAAASUVORK5CYII=) no-repeat top 20px right 5px;\n  -webkit-background-size: 15px;\n  -moz-background-size: 15px;\n  background-size: 15px;\n  -webkit-animation: dcg-fadePulse .3s;\n  -moz-animation: dcg-fadePulse .3s;\n  -o-animation: dcg-fadePulse .3s;\n  -ms-animation: dcg-fadePulse .3s;\n  animation: dcg-fadePulse .3s;\n}\n\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-type-hint,\n.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-answer-hint {\n  opacity: 0;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n  filter: alpha(opacity=0);\n  -webkit-transition: opacity .3s;\n  -moz-transition: opacity .3s;\n  -o-transition: opacity .3s;\n  -ms-transition: opacity .3s;\n  transition: opacity .3s;\n}\n\n.dcg-calculator-api-container .dcg-inverted-colors .dcg-settings-dropdown .dcg-popover-interior {\n  -webkit-box-shadow: none;\n  box-shadow: none;\n}\n\n@-webkit-keyframes dcg-fadePulse {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n    -webkit-transform: scale(.7,.7);\n    -moz-transform: scale(.7,.7);\n    -o-transform: scale(.7,.7);\n    -ms-transform: scale(.7,.7);\n    transform: scale(.7);\n  }\n\n  50% {\n    -webkit-transform: scale(1.1,1.1);\n    -moz-transform: scale(1.1,1.1);\n    -o-transform: scale(1.1,1.1);\n    -ms-transform: scale(1.1,1.1);\n    transform: scale(1.1);\n  }\n\n  to {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n    -webkit-transform: scale(1,1);\n    -moz-transform: scale(1,1);\n    -o-transform: scale(1,1);\n    -ms-transform: scale(1,1);\n    transform: scale(1);\n  }\n}\n\n@keyframes dcg-fadePulse {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n    -webkit-transform: scale(.7,.7);\n    -moz-transform: scale(.7,.7);\n    -o-transform: scale(.7,.7);\n    -ms-transform: scale(.7,.7);\n    transform: scale(.7);\n  }\n\n  50% {\n    -webkit-transform: scale(1.1,1.1);\n    -moz-transform: scale(1.1,1.1);\n    -o-transform: scale(1.1,1.1);\n    -ms-transform: scale(1.1,1.1);\n    transform: scale(1.1);\n  }\n\n  to {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n    -webkit-transform: scale(1,1);\n    -moz-transform: scale(1,1);\n    -o-transform: scale(1,1);\n    -ms-transform: scale(1,1);\n    transform: scale(1);\n  }\n}\n\n@font-face {\n  font-family: Abraham;\n  src: url(data:application/font-woff;base64,d09GRk9UVE8AABesAAoAAAABsHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAGCAAAESoAAZxTwK+1TU9TLzIAAAFMAAAASAAAAGBqcY7HY21hcAAAArwAAAM/AAAM5C7FvppoZWFkAAAA9AAAAC8AAAA2C10Dp2hoZWEAAAEkAAAAHwAAACQGhwJ4aG10eAAAFzQAAAAkAAACiN3nXcBtYXhwAAABRAAAAAYAAAAGAKJQAG1ldGEAABdYAAAAUQAAAFXVMTtBbmFtZQAAAZQAAAEmAAACx11IF6xwb3N0AAAF/AAAAAwAAAAgAAMAAHgBY2BkYADh+nP6yvH8Nl8ZmJlfMADBlQ8P9BH0f3OmFGYjIJeZgQkkCgBSDwurAHgBY2BkYGBW+2/HwMD0myHl/xymX0ARVLAIAIH7BgMAAABQAACiAAB4AWNgZvrC+IWBlYGBqYtpNwMDQw+EZrzPYMjIxIAKmMEkC4QTAQQMDgy8GvbMav/tgJJGDCeBwoxghXLMcgwKQMgAAHxDCyh4AUzOuwkCYRBF4TP7frO7ghgZiBhbwGbagJFlWIAlmduFPckPN7jZx8wwHOAcXwIACJCDHbmcUbPJOUcecmE3JSc+csWBp1zbz8bcmjtzbx7Mo3kyz9awWOea5mlTtEBGyMGFvZwxcZNzNl5yYTcld35yxZW3XNvPxtyaO3NvHsyjeTLP1rBY55rm/6rGGFVDGAjCc5RcQFGws7Kxs7Gwj7pqMCaw6v3/wTwehJCE3Rm+z8B0s9rDXkWIoXiDW+Iq6DBDYXHwXigQEBH4v3wdFk4rZJT99VYxQrAz8ixrXVZV0/4xiUzE/26NEhVPgzaXJEUuyMmT6O1iMMnQx/Dc4jcz2FOUS64xsa+44T6WyWz9t3uYCjw2pgMsTk6amqn9A7mESTQAAHgBDMVlMwQBAADQt9gxY8Y3P0Bb3b2a1d3d3Vzccfx23peHIsUCVPxfRhgrCSOCJKBUgnKVqlSrUatOvQaRRk2atWjVpl2HTl269ejVp9+AQUOGxUaMGjNuwqQp02YkZs2Zt2DRkmUrVq1Zt2HTlm07du3Zd+DQkWMnTp05d+HSlWs3bt259+DRk2cvXr159+FTSlpGVk7el28FP379sU/fOE4GUBDHne1dh83BOdt/55yD78LJEBXX4BbUnIH+Y4opOIAlhOQZ/YrXjvS+EiJMhCgx4iRIkuKOe9JkyJLjgUeeeOaFV95454NP8hQoUqJMhSo16jRo0qJNhy7Qo8+AISPGTJgyY86CJSvWbNiyY8+BIyfOXIJAK15lx9uOwe/g13/dHz+//Nvq26+RWzISSn739U3+TtbCUrOI1C0qDYtJ0+LSsoS0LSkdS0nX7gS7l56lpW8ZGVhWhpaTkT3I2B5lYk8ytWeZ2YvM7VUW9iZLe5eVfcjaPmVjedlaQXZWlL2V5GBlOVpFTlaVs9XkYnX5wwI93TAAAAAQXa22bdt2O3tzyX28BV5AXAfFdQheh8V1RFxHxXVMXMfFdUJcJ8V1SlynxXUGXmfFdU5c58V1QVwXxXVJXJfFdUVcV8V1TVzXxXVDXDfhdQtet+F1B1534XUPXvfh9QBeD+H1CF6P4fUEXk/h9Qxez+H1Al4v4fUKXq/h9QZeb+H1Dl7v4fUBXh/h9Qlen+H1BV5f4fUNXt/h9QNeP+H1C16/4fUHXn/h9U9/EujaCAEAAGAg7u4CfcZmVC6X4hd4r3/qmoG6ZqiuGcVrxvGaSbxmGq+ZxWvm8ZpFvGYZr1mpa9bqmo26Zquu2alr9uqag7rmqK45qWvO6pqLuuaqrrmpa+7qmoe65qmuealr3uqaj7rm+y8pro4aAAAoCF4luLu7lIZD3F1I0mnezH3srHjLK+I9r4qPvCY+87r4yhviO2+Kn7wlfvO2+Ms7opB3RTHviVLeF+V8ICr5UFTzkajlY1HPJ6KRT0Uzn4lWPhftfCE6+VJ085Xo5WvRzzdikG/FMN+JUb4X4/wgJvlRTPOT+M/PYpZfxDy/isUS0BD9swB4AWNgZsALAAB9AAR4AVTRe3RU1RUG8O/bNzElREIAiSEPE9NoxIbm/aCyXAHkUUgoxKYBFpI7M2cyQ2bundyZSYAlVqstVowghVItlAq0gFiEghYFhTZVIxUVSSuIysMSpUBBYyFpinbIYa2u/nN/e+117t777EPEESTTql2O6TODlm1FLb/b9qhZqikaMB2QzO9NR2+G9GYYvZlxy/rn9b3ctzw+E4iX5Nj3hntSlmWCa+uGYZOAyEU5xmESpmEmZsMNP0JYhEfQjjVYj43Ygu3YjZfwCg6gA514C+/iCI7iI5xCNy6iB734mgkcxEQOZhJv5BAmcyhTOIzDOYI3cSRTeTPTOIrpzGAms3gLs5nDW5nLMazgBNaygfN4H+ezkSZddNNDRS+b6KOfC9jMAIO0aDPEFjoMM8IoW9nGB/kw27mGm7mdL3AfO3iQh3mUJ9jNC/yS/SIySIZKqmRJnnxLSmSsVMsUmSH1Mk880iyOLJIHZak8IatlrWyUZ2Wn7JH98rocki45LqflrFySK/KVEW8kGcONUUaOkW982yg3xhkTjWnGLGO20Wg01Ssn7Let7KIxhYWl35lkW5GwCniza8xm5cSSsfT1JyuwbKvg/x/NHTvt2IEJs8Ih063UQnfADLZE7YjyuAJWNOi6VrrJ8tiB2NmQctzKipjBWBA2Lc/AubDfagqokOkoK6C8kYHA8Tf5ImY4ohx/uDkUiIbddjBo+haFfMoKxZK2Jxwww77FyrFtS0Xa7IjPUcprRx2vvzVWcWFYtSpLXati+S3ltgO2FVZB/0AQUOGwaomagSZHmbEWLVEVjsSub0aqx0+YeM+kyVOmfnfa9JraGd+bOavu3u/X/6Bh9pzY9d3NKnJtQFcsGuh+PXd9Vrff7/Y77mgwanmUExvYUU2O2apMl9ujvE0+/4LmQNCyQy1OOBJtbVu4aPG1/5Wu6AzE/6sU8Qc8KrZrl6PM5th+BnYb23txZWGhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURrvAEWFmiJNsaZEU6op05RrKjSVmiqNqXFp3BqPRml0v+JCTZGmWFOiKdWUaco1FZpKTZXG1Lg0bo1HozS6X0mhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURovAD7GZXyc7XyCy7mCT3Ilf8ZVXM2fcw1/waf4NH/JtVzHX3E9f81nuIEbuYm/4W+5mVu4lc9yG5/j77idz3MHd/L33MXdfIEv8g/cw5f4MvdyH1/hq9zPA/wj/8QO/pmv8XW+wU6+yYP8C9/iIb7Nd/guD/M9HmEX/8q/8X0e5TF+wOP8kB/xY57gSZ7iaX7Cv/MMu/kpP+NZ/oPneJ4X+E9e5CV+zi/Ywy/5L17mFfayj/9mP//Dq/yKXwuEImJInMTLDZIg35BBkiiDJUlulCGSLEMlRYbJcBkhN8lISZWbJU1GSbpkSKZkyS2SLTlyq+TKNyVPbpPbJV/ukNHYYAAE4oAEIBGyAvEjkbAWiaORtAPJ5UjZhxHjMbITabVI70LWHGSfRK4XeeeR34o741CwEoXZKN6OsrtQcRBjG3DXadwdQvVlTLwfkwVTH8X0IahdhZmjUHcI9XVoOIa58zHvDBqb4focqg2+AizYhWAV7P2IbETbHVj0PO4vwwN78VA1Hn4DP6nBo0ewbDbaT2CFwspzWN2CNVfw9BKsM7D+p9iQjE2rsXkKtr6N5+7F9g+wsxG7uvFiAHu+wN4teHUMDuxGx1h0ZuHgJhwajXd24L1ydO3D++NxrBMf1uLjLpyag09OotuLz87jnIMLvbj0AHri0JOAngZcHozep9Cfi6tbiRLKm4yfwYRjTJzPpLNMDjPlKkcsY2oa09YzI49Z25hTxdz9vK2G+Ud4p8mCT1kYZHEPy5aw0uDYdo5L593PcPztnLiTkys49TVOn8baw5w5l3VnWG+zoY9zl/K+FDaupzuPahd9P2bzYFo5DG1juIrRDi6s4eLjXOLnDy/yR1E+0s+lD/GxBD7ezuWpfHIdV+X2ZQ35b3vXH1tXXcXvq5TcdRtFs8rohkPHCjRzndK0lrAR1iZbg6nGpzJmSUqmf1DTwQDdEn4IMoP6VWZeTP8QdGo3S5bGOKKsiUVTQjqXVTeYzKX9Z2Rdt1nMuh9dJm3f8d7PTb/t3mt4vcJp77t8EnLv+L737rnnns/9nPM95/s9vVLr//ffF4xI1fbyEmMKpeCba18x/r/Me09iYPzF7gYTfLTy9Zdk7J2uz5QYcb5Q8z2RtyoWiPPZI5dEDvQ8a9zghGEcDAZc/9TxDXzRG67/HH5s3OCEYe/w6mH/osk9rqSPLxo0uiKcE09tlsStQ6W+mOuP1YlcqPmROAt7tomcu73LuMEJwzgYDLj+qbgVX/SGk7/Hj40bnDDsHTq+4l90uNkVWfb9X+pqAiVwULbJz9pXG9WHNWMUJk59dRAo1LUdUKgrIvHwxiOxsN0kCvPdJlHkQjJItN+n+KNQOlP1ma939YTW5ddB6/KFBsPTa31wQuu3L0Drty8aDGe93jjoinHWt+yHNvF4r9QZImpoxPunCxFrO33A62oCTiQKYzBLUYCI3iyFXGhnKfluO6AwQlxIVucsJQKakNWJQmoSgVidsxN6ZHJhFPwY58jkQnIhNSEXEoVEIblQ6JGZLyQKo4FCD2AbVkjBpqLHJiUlGyckFZ8JKtfNkNSXKen2Af+LZf5wk//jVkgavtH4Qtr8z36Niy71lCnd3y9jZysK8875cwGFUV/CAyQ6rz3UCySGlWSRuM0iMUvSJBJlXWslkBj/BWX6y7Ai4ERU0dh46LCmpAk0DrbsDY9G2jBfNCE3crEtNIkLGruW1wVoDPBlL9mULWkqvoL7srDbli1p6n1J4uUlWywaLfgsGi08JX3fQGoCjdAFYTF0yY6WJ3WZcj8HIT07Wr7qfpy22iFTEs4q4SwOmMCGqmIgQVkTZ0d7BeSo2gQzmIElN2eisc+isRmSik8bX/YD06KxY/eEpOHFARpbIansaus/szw1QzSeT2aisQ+aT3c/VvPQ99NWXR4TNHbsmm90H5bVRFMM40YusmDcyOxOCDGMG6uBr+liAouvEDFBuLhx/OiazUCjfrQVF0+dqjeqAZ1RjxkjwIv00ty8GvV6NOtnXKdIFBKFXJtDBuH+FU5mqQl3lHLvEdcpfhTjQmpCLuR6e3LhzlAofP6YbnIRttMVETIFRk1k6chPRUYT48pgT298U8auPLhhAor7MqH4JQzEv3ki17pGXxOiMB81YRBJ28W5hSdRSBRGP7YgCmk7prjJhSy0EIVEIefIJv3kHOKUPpurIn/3z0Fx/tGyNzL5RXIn/0QQAKZaQvg/aQInfBHD2c8KB4MB685Yb4mQTdKjtz0lY4O/uZyD49S4kBUKaqIwmzlxZ4+Hws4q/3au++TrIpd+vkKc+d/uEzl/9m7j+qe1xh8uw2cG467BuP/Ffnzm/7jbuLiGwe/xmcG4K3LLS13iOB97V9l+/ZvrPPudXqWrDYhTV0Ti8UeHPU3OXZv/c7PuE+0y/sYL3ynxFLznQW943q03iVw+ftJ/SH/Z5QYnjOCA/zVucMIIfmLwczc4YSQ44KL+RXrf6/FEXP/OFv+N+3MDDgYDbnASuVD3CoZFzn0qZdzghGEcDAbc4IQvYhg/9kUkNg0n9bU4oKoFTC7OHYU1+a6J5TjuqmMlj3lDopCVPM46+D6RC2k7opAoZCWPHpkemTWRGKCQHpl/sJ5+jKsv2NCBlTmikLnemHhkemR6ZNZO2GKJrE4UEoWcnbDpIVuWsdEX22Ox9SZRyNiC7ebYpI2akAupCf9QPVtvEoVsvUlN2HqTCwZYdNadyhCFLPcRhWx6SBQShSz3EYW0HVPc5EIWWohCopBzZLbepM9m601yJzHJ1pust7D1JisU1IStN9l6k6032XqTrTfZVoSVPDb6IgpZyeOsg+8TuZC2IwqJQlby6JFpO7ZYIhfSI7PRFxt9cY5MFDK2IAqZ66VHJhdy7RmbHpJBiEKikBU8xoVsvcnWm3OIQjY9ZOtNopCxBVtvskkb281dqZ1xxznHaauTsVu6G3L0A2MLu/zThC3sxHntoV4p2FT0mLLm61orZexsRSF3WLNO9H7p89qa7Tkh8vKSLZKe135XSTgB4W5enDU124GTvEeis75l/4z9NsuJIZB4av3RqWSF28cdQ6WwGkNBA2UzNN75B/VX/JEvw3a6mgDsqiKgRBw0sVvvxVnQ3aDmnbn9ntvvR3LwnI0T/a/MRpw4uLV1hnFiZ5W+Fewea3XXeXrVjLWhNtZLczH4XGrCWFGcrp4felKAXnvHTdmKTEVvoLYF9bZsRaaqjUelKwKuE3JmJoaaOHuOjAbZnHCQCQdHSSTaK2w2x9Ka5TlLfJHgQ7aC58IfYA9IzIFYSd93fs8EEvG48BTxuIKHi1GDkexMDkbwKDGag3J0RaSTTbshR5kLOnY1KmtiyVNXjNNWddxoPix1JBKJsdAEEpSRaDM5RZV3q8YkZjbCnqfP9kr646XLcr1T40fXbMY7pWs/Z8cfa/UJy8SGE5HJSXx+2f36mRzAhNNzlXJODGLF6NSfiUbuPmc+kRDR58Too5B/xIr5KKKQKNRndcaH0Qc8d6GTEwkRciL7nDEIiDYnEiKMExsPHdZUxq5PbNlLwDMIICcSIhG1SQRQyAwONVHYSRX5/UcPf+vkrNjuFzfFQBOuSeT6qdwipPHgbXFZf0OvzCY8+cGH+qv4uLKZfCiJgSVbc62MtcpM5qdDK/PM8ntEagrvjNay1RigEe9VDOIMZm7onfNpzmxRyFavjBHnes6czJwz91lf1hz4stPwZQ9M78t2W1+2OHgxWoHEsgxfVl2uHln97Rjsp6sJfJmqCEAkFppYPmQT77lqfsp25BMzlZux7mbKTKXPzlSy8G5nKqHwjplKCutuIka7MZhCdOyaHxXaJSfGgEnYUl4BhfxzACE8M2MM/Wy2bq6KM5Vk00gsnH/QC2x5XWaMCHA3ZWN++iYMByEpG/NTJaEHMmLEuAE+AjFiqn4qTKoBk2mNZ2ESzngGWqiKiBEnxmAaQU5cXYguxsrzZsxTw/XA/UBOV00TvCq6Iuyrkvc2SVzzr+fQxTgHz9kMDnrf6Gdw0PuGifMPVxN54ovFcak1x7++wkRf9G1id09hDU7YmTpY1IafTdlRafaOUqzBiUbCSDpT9XOdiWPdmTnFR36bgcJko13Of8a4AaGAYKZHYZldVtIKFA7fiOX8bdmZOE0R2DGQmp29D1tUNcnqk6jNiYgVPzjgmUSPbZ/ExMmnT0hiZWlVich4+10il4p3ilxu8ERerrxf5OLIYu+D7hpX5N/bfyAy+uZCkf+0/FicT3Q8Ls41i3aLU/L83z0RBRvfEGf+8AZx5u171jscOiLOgqIz3gdrf+X6X3rC+3rFUu+Hqe96l0j+RGR0qNG/bKU/s/nrW5K+Ydk6JpU+9PXAN+yTxKdPHZ40cKc18GoYGB9YAw/dYQ18rzVw76SBt1oDt1sDH7AGXnXRGvhP1sBFfrx5tFmcawvv1dSWlUPGmlHi1YKv9zw3t68deHXs3UdHcqcCvrZIxvpfPRZ/mkBWaWXr7JIitbVVTMS+6lXMGeZJB1JwA5pVM9/OtUO60YTJEUmwUBrxenrEkMhtWwid2yvUa+rM2HMiF6GaeuLUhhXgxbB5MLCovWRTdh7s6r+nW7q/H7z4kZmoASGxSGIaaME8KZEY/ypYdm9cfTSSF99HDFNx8c9xEiLcoxPFnWK24xQ1iYYmRCE1iQCrE4WMLebeJkQhUUguJIMwtuDe7QhVh9j7kXxITRgbEoWMDf8HznRiLwAAeAFj6mJgYFzPkALCTL8Ypg0o/j0y7QeH/W+Y/SMTAwDIkfvpeAFjYGBgZIAAGRA7rTgnDcq2rFZKrSgJSy0qzszPU7JSMtQz1DNQ0lEqTk7MycxLd0tMLskvUrIyNNAzMjAxsDA0MzYyMzU2MDOsBQCPLBJ2AAAA) format("woff");\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-basic-expression .dcg-mq-container .dcg-mq-editable-field {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-container .dcg-basic-expression .dcg-mq-container .dcg-mq-editable-field:after {\n  position: absolute;\n  top: 1px;\n  right: 0;\n  bottom: 1px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression {\n  min-height: 56px;\n  border: 1px solid rgba(0,0,0,.2);\n  margin-top: -1px;\n  position: relative;\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression:not(:first-of-type) {\n  border-top-color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-focused {\n  border-color: #2f72dc;\n  -webkit-box-shadow: inset 0 0 0 1px #2f72dc;\n  box-shadow: inset 0 0 0 1px #2f72dc;\n  z-index: 1;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression:first-of-type {\n  margin-top: 0;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io {\n  -webkit-box-lines: multiple;\n  -moz-box-lines: multiple;\n  -o-box-lines: multiple;\n  -webkit-flex-wrap: wrap;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n  padding: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io input {\n  background: transparent;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-mq-math-mode {\n  padding: 0;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input {\n  border: none;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input {\n  outline: none;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input:focus {\n  outline: 1px dotted #000;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input {\n  border: 1px solid transparent;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input:focus {\n  color: #000;\n  outline: 1px dotted #000;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input {\n  font-family: Abraham,serif;\n  font-size: 163%;\n  padding: 8px 8px 0;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-basic-expression-error {\n  font-size: 140%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error {\n  position: absolute;\n  top: -.8em;\n  right: 0;\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea {\n  width: 100%;\n  text-align: right;\n  color: #666;\n  padding-right: 5px;\n  font-size: 80%;\n  border: none;\n  resize: none;\n  -webkit-animation: dcg-delayed-fadeIn 1s;\n  -moz-animation: dcg-delayed-fadeIn 1s;\n  -o-animation: dcg-delayed-fadeIn 1s;\n  -ms-animation: dcg-delayed-fadeIn 1s;\n  animation: dcg-delayed-fadeIn 1s;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea:focus {\n  outline: dotted 1px #666;\n  color: #000;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1 1 40%;\n  -ms-flex: 1 1 40%;\n  flex: 1 1 40%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container {\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error {\n  text-align: right;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container {\n  padding: 8px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {\n  font-size: 90%;\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {\n  padding: 8px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container .dcg-basic-expression-value {\n  padding-right: 8px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-exp-mathquill-container {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n  overflow: hidden;\n  margin-right: 1px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-exp-mathquill-container .dcg-mq-container {\n  width: 100%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-math-mode {\n  padding: 12px 5px 12px 15px;\n  outline: none!important;\n  -webkit-box-shadow: none!important;\n  box-shadow: none!important;\n  border: 0;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-error {\n  color: #e66b3c;\n  font-size: 130%;\n  cursor: pointer;\n  -webkit-animation: dcg-delayed-fadeIn 1s;\n  -moz-animation: dcg-delayed-fadeIn 1s;\n  -o-animation: dcg-delayed-fadeIn 1s;\n  -ms-animation: dcg-delayed-fadeIn 1s;\n  animation: dcg-delayed-fadeIn 1s;\n  margin-right: 15px;\n  height: 24px;\n  line-height: 24px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value {\n  -webkit-animation: dcg-fadeIn .5s;\n  -moz-animation: dcg-fadeIn .5s;\n  -o-animation: dcg-fadeIn .5s;\n  -ms-animation: dcg-fadeIn .5s;\n  animation: dcg-fadeIn .5s;\n  padding-right: 5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value.dcg-basic-evaluation-gray .dcg-static-mathquill-view {\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle {\n  font-size: 20px;\n  display: inline-block;\n  width: 29px;\n  height: 29px;\n  border: 2px solid #000;\n  opacity: .5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n  color: #000;\n  text-align: center;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n  margin: 0 5px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle i {\n  position: relative;\n  top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-hovered {\n  opacity: .7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-depressed {\n  opacity: .9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected {\n  background: #000;\n  opacity: .5;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n  filter: alpha(opacity=50);\n  color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-hovered {\n  opacity: .7;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";\n  filter: alpha(opacity=70);\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-depressed {\n  opacity: .9;\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";\n  filter: alpha(opacity=90);\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-slider-container {\n  height: 40px;\n  width: 250px;\n  max-width: 100%;\n  padding-right: 3px;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans {\n  border: 2px solid #2f72dc;\n  color: #2f72dc;\n  background-color: #2f72dc26;\n  padding: .2em .4em;\n  display: inline-block;\n  -webkit-border-radius: 4px;\n  border-radius: 4px;\n  margin-right: 1px;\n  margin-bottom: 2px;\n  min-width: 30px;\n  text-align: center;\n  -o-text-overflow: ellipsis;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans sup {\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans:after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  content: "ans";\n  position: absolute;\n  bottom: -.5em;\n  left: 50%;\n  font-size: 60%;\n  width: 1.9em;\n  overflow: hidden;\n  text-align: center;\n  margin-left: -.95em;\n  color: #2f72dc;\n  border: 1px solid #2f72dc;\n  background: #fff;\n  padding: 0;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  height: 1em;\n  line-height: .9em;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid {\n  border-color: #e66b3c;\n  background: rgba(230,107,60,.1);\n  color: #e66b3c;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid i {\n  font-style: normal;\n  font-size: 80%;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid:after {\n  color: #e66b3c;\n  border-color: #e66b3c;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-selection .dcg-mq-ans {\n  background: #2f72dc;\n  color: #fff;\n}\n\n.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-selection .dcg-mq-ans.dcg-invalid {\n  background: #e66b3c;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main.dcg-projector-mode .dcg-mq-ans:after {\n  position: absolute;\n  bottom: -.3em;\n  left: 50%;\n  height: .9em;\n  line-height: .8em;\n}\n\n.dcg-calculator-api-container .dcg-braille-toggle {\n  display: inline-block;\n  float: right;\n}\n\n.dcg-calculator-api-container .dcg-braille-toggle .dcg-buttons {\n  float: right;\n}\n\n.dcg-calculator-api-container .dcg-toggle-button {\n  padding: 8px;\n  border: 1px solid #ccc;\n  color: #444;\n  position: relative;\n  top: -3px;\n  cursor: pointer;\n  width: 90px;\n  text-align: center;\n  float: left;\n}\n\n.dcg-calculator-api-container .dcg-toggle-button:last-of-type {\n  -webkit-border-radius: 0px 6px 6px 0px;\n  border-radius: 0 6px 6px 0;\n}\n\n.dcg-calculator-api-container .dcg-toggle-button:first-of-type {\n  -webkit-border-radius: 6px 0px 0px 6px;\n  border-radius: 6px 0 0 6px;\n}\n\n.dcg-calculator-api-container .dcg-toggle-button.dcg-hovered {\n  background: #f4f4f4;\n}\n\n.dcg-calculator-api-container .dcg-toggle-button.dcg-depressed {\n  -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,.5);\n  box-shadow: inset 0 0 5px #00000080;\n}\n\n.dcg-calculator-api-container .dcg-toggle-button.dcg-selected {\n  background: #2f72dc;\n  color: #fff;\n  border-color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-calc-basic-main.dcg-projector-mode .dcg-basic-expression.dcg-braille-io .dcg-braille-error {\n  font-size: 90%;\n}\n\n@-webkit-keyframes dcg-delayed-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  80% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  to {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@keyframes dcg-delayed-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  80% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  to {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@-webkit-keyframes dcg-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  to {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n@keyframes dcg-fadeIn {\n  0% {\n    opacity: 0;\n    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\n    filter: alpha(opacity=0);\n  }\n\n  to {\n    opacity: 1;\n    -ms-filter: none;\n    filter: none;\n  }\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root {\n  background-color: #ededed;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-bar {\n  background-color: transparent;\n  border-left-color: transparent;\n  border-right-color: transparent;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-fourfunction-keypad-container .dcg-basic-keypad {\n  max-width: 750px;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-fourfunction-keypad-container.dcg-classroom-large-projector-mode .dcg-basic-keypad {\n  max-width: 875px;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-scientific-keypad-container.dcg-classroom-large-projector-mode .dcg-basic-keypad {\n  max-width: 750px;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-scientific-keypad-container.dcg-classroom-large-projector-mode .dcg-basic-keypad .dcg-keypad-btn,\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-fourfunction-keypad-container.dcg-classroom-large-projector-mode .dcg-basic-keypad .dcg-keypad-btn {\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  right: 4px;\n  bottom: 4px;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-basic-keypad,\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-bar-contents {\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-btn.dcg-selectable-btn {\n  max-width: 70px;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button {\n  -webkit-box-flex: 1;\n  -moz-box-flex: 1;\n  -o-box-flex: 1;\n  -ms-box-flex: 1;\n  box-flex: 1;\n  -webkit-flex-grow: 1;\n  flex-grow: 1;\n  position: relative;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  margin: 0;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n  display: -webkit-box;\n  display: -moz-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: box;\n  display: flex;\n  -webkit-box-pack: center;\n  -moz-box-pack: center;\n  -o-box-pack: center;\n  -ms-flex-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  -webkit-box-align: center;\n  -moz-box-align: center;\n  -o-box-align: center;\n  -ms-flex-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button {\n  height: 35px;\n  width: 35px;\n  line-height: 35px;\n  margin: 4px 4px 4px auto;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button .dcg-icon-hide {\n  position: relative;\n  top: 2px;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button,\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner {\n  text-align: center;\n  -webkit-border-radius: 5px;\n  border-radius: 5px;\n  color: #666;\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-hovered,\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner.dcg-hovered {\n  color: #000c;\n  background: rgba(0,0,0,.1);\n}\n\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-depressed,\n.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-inline-hide-keypad-button-inner.dcg-depressed {\n  color: #000;\n  background: rgba(0,0,0,.18);\n}',document.getElementsByTagName("head")[0].appendChild(elt),"object"==typeof module.exports?(_Desmos={},module.exports=_Desmos):(_Desmos="undefined"!=typeof Desmos?Desmos:{},global.Desmos=_Desmos,desmosExported=_Desmos),function(){var module=void 0,exports=void 0,Desmos=_Desmos;Desmos.config||(Desmos.config={}),"object"==typeof desmosEnabledFeatures&&(Desmos.enabledFeatures=desmosEnabledFeatures),"object"==typeof desmosLocales&&(Desmos.locales=desmosLocales),"object"==typeof desmosLocaleData&&(Desmos.localeData=desmosLocaleData),"string"==typeof desmosCommit&&(Desmos.commit=desmosCommit),(()=>{const __dcg_shared_module_source__='// shared.js\n  (() => {\n    const __dcg_chunk_exports__ = {};var FE=Object.create;var Ru=Object.defineProperty,BE=Object.defineProperties,VE=Object.getOwnPropertyDescriptor,GE=Object.getOwnPropertyDescriptors,qE=Object.getOwnPropertyNames,Du=Object.getOwnPropertySymbols,kE=Object.getPrototypeOf,df=Object.prototype.hasOwnProperty,Ob=Object.prototype.propertyIsEnumerable;var EA=Math.pow,Sb=(e,t,r)=>t in e?Ru(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z=(e,t)=>{for(var r in t||(t={}))df.call(t,r)&&Sb(e,r,t[r]);if(Du)for(var r of Du(t))Ob.call(t,r)&&Sb(e,r,t[r]);return e},oe=(e,t)=>BE(e,GE(t));var SA=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(t,r)=>(typeof require!="undefined"?require:t)[r]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error(\'Dynamic require of "\'+e+\'" is not supported\')});var Nb=(e,t)=>{var r={};for(var n in e)df.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Du)for(var n of Du(e))t.indexOf(n)<0&&Ob.call(e,n)&&(r[n]=e[n]);return r};var OA=(e,t)=>()=>(e&&(t=e(e=0)),t);var NA=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),an=(e,t)=>{for(var r in t)Ru(e,r,{get:t[r],enumerable:!0})},zE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of qE(t))!df.call(e,i)&&i!==r&&Ru(e,i,{get:()=>t[i],enumerable:!(n=VE(t,i))||n.enumerable});return e};var DA=(e,t,r)=>(r=e!=null?FE(kE(e)):{},zE(t||!e||!e.__esModule?Ru(r,"default",{value:e,enumerable:!0}):r,e));var RA=(()=>{for(var e=new Uint8Array(128),t=0;t<64;t++)e[t<26?t+65:t<52?t+71:t<62?t-4:t*4-205]=t;return r=>{for(var n=r.length,i=new Uint8Array((n-(r[n-1]=="=")-(r[n-2]=="="))*3/4|0),s=0,o=0;s<n;){var a=e[r.charCodeAt(s++)],u=e[r.charCodeAt(s++)],l=e[r.charCodeAt(s++)],c=e[r.charCodeAt(s++)];i[o++]=a<<2|u>>4,i[o++]=u<<4|l>>2,i[o++]=l<<6|c}return i}})();var Db=function(){{var e=function(){},t=["log","info","warn","error","assert","dir","clear","profile","profileEnd","time","timeEnd","group","groupCollapsed","groupEnd","trace"],r={},n=function(i){typeof window!="undefined"&&window.console&&window.console[i]?r[i]=function(){Function.prototype.apply.call(window.console[i],window.console,arguments)}:r[i]=e};return t.forEach(n),r}}(),LA=Db,{log:AA,warn:CA,error:_A,assert:FA,dir:BA,clear:VA,profile:GA,profileEnd:qA,time:kA,timeEnd:zA,group:UA,groupCollapsed:HA,groupEnd:$A,trace:WA}=Db;var zu={};an(zu,{getFrame:()=>e1});function un(e,t,r){return{input:e,start:t,end:r}}function Mn(e,t){return un(e,t,t)}function ln(e,t){if(e.input!==t.input)throw new Error("Programming Error: cannot form a span on different inputs");return un(e.input,e.start,t.end)}function Pr(e){return e.input.slice(e.start,e.end)}var ri=()=>({type:"empty"}),Tr=()=>({type:"unknown"}),kn=e=>isNaN(e[0])||isNaN(e[1])||e[1]<e[0]?ri():{type:"known",bounds:e},mo=(e,t)=>{if(t===0)return e>0?zn():ri();let r=-e/t,n=t<0?[-1/0,r]:[r,1/0];return kn(n)},zn=()=>kn([-1/0,1/0]),Or=(e,t)=>{if(e.type==="empty"||t.type==="empty")return ri();if(e.type==="unknown"||t.type==="unknown")return Tr();if(e.bounds&&t.bounds){let r=[Math.max(e.bounds[0],t.bounds[0]),Math.min(e.bounds[1],t.bounds[1])];return kn(r)}return ri()};var me={};an(me,{Action:()=>Ge,AngleMarker:()=>xe,Any:()=>Jt,Arc:()=>X,Bool:()=>be,Circle:()=>Q,DirectedAngleMarker:()=>le,Distribution:()=>Dt,EmptyList:()=>de,ErrorType:()=>vn,Line:()=>J,ListOfAngleMarker:()=>vt,ListOfAny:()=>Mt,ListOfArc:()=>Zt,ListOfBool:()=>pr,ListOfCircle:()=>jt,ListOfColor:()=>rr,ListOfDirectedAngleMarker:()=>Et,ListOfDistribution:()=>Wt,ListOfLine:()=>Qt,ListOfNumber:()=>Y,ListOfPoint:()=>Le,ListOfPolygon:()=>zt,ListOfRay:()=>Kt,ListOfSegment:()=>Ct,ListOfTransformation:()=>Ir,Number:()=>I,Point:()=>w,Polygon:()=>ye,RGBColor:()=>et,Ray:()=>ge,SeedType:()=>tt,Segment:()=>ue,Transformation:()=>Se,assertTypeIsOneOf:()=>oa,elementType:()=>ot,hasListType:()=>En,isGeometryType:()=>yf,isList:()=>k,isOneOf:()=>wu,isSubType:()=>Es,isTypeOrListOfType:()=>pe,isValidOnLogScales:()=>sa,listType:()=>Zr,prettyPrint:()=>Z,repr:()=>jr,typesMatch:()=>Lu});function T(e,t){return{key:e,vars:t}}var Jt=0,I=1,be=2,w=3,Dt=4,Ge=5,Mt=6,Y=7,pr=8,Le=9,Wt=10,de=11,vn=12,tt=13,et=14,rr=15,ye=16,zt=17,ue=18,Ct=19,Q=20,jt=21,X=22,Zt=23,J=24,Qt=25,ge=26,Kt=27,xe=28,vt=29,le=30,Et=31,Se=32,Ir=33;function jr(e){switch(e){case Jt:return"Any";case I:return"Number";case be:return"Bool";case w:return"Point";case Dt:return"Distribution";case Ge:return"Action";case Mt:return"ListOfAny";case Y:return"ListOfNumber";case pr:return"ListOfBool";case Le:return"ListOfPoint";case Wt:return"ListOfDistribution";case de:return"EmptyList";case vn:return"ErrorType";case tt:return"SeedType";case et:return"RGBColor";case rr:return"ListOfColor";case ye:return"Polygon";case zt:return"ListOfPolygon";case ue:return"Segment";case Ct:return"ListOfSegment";case Q:return"Circle";case jt:return"ListOfCircle";case X:return"Arc";case Zt:return"ListOfArc";case J:return"Line";case Qt:return"ListOfLine";case ge:return"Ray";case Kt:return"ListOfRay";case xe:return"Angle";case vt:return"ListOfAngle";case le:return"DirectedAngle";case Et:return"ListOfDirectedAngle";case Se:return"Transformation";case Ir:return"ListOfTransformation";default:let t=e;throw new Error(`Invalid type: ${t}`)}}function Z(e){switch(e){case Jt:return T("shared-calculator-label-value-type-any");case I:return T("shared-calculator-label-value-type-number");case be:return T("shared-calculator-label-value-type-bool");case w:return T("shared-calculator-label-value-type-point");case Dt:return T("shared-calculator-label-value-type-distribution");case Ge:return T("shared-calculator-label-value-type-action");case Mt:return T("shared-calculator-label-value-type-list-of-any");case Y:return T("shared-calculator-label-value-type-list-of-numbers");case pr:return T("shared-calculator-label-value-type-list-of-bool");case Le:return T("shared-calculator-label-value-type-list-of-points");case Wt:return T("shared-calculator-label-value-type-list-of-distributions");case de:return T("shared-calculator-label-value-type-empty-list");case vn:return T("shared-calculator-label-value-type-error");case tt:return T("shared-calculator-label-value-type-seed");case et:return T("shared-calculator-label-value-type-color");case rr:return T("shared-calculator-label-value-type-list-of-colors");case ye:return T("shared-calculator-label-value-type-polygon");case zt:return T("shared-calculator-label-value-type-list-of-polygons");case ue:return T("shared-calculator-label-value-type-segment");case Ct:return T("shared-calculator-label-value-type-list-of-segments");case Q:return T("shared-calculator-label-value-type-circle");case jt:return T("shared-calculator-label-value-type-list-of-circles");case X:return T("shared-calculator-label-value-type-arc");case Zt:return T("shared-calculator-label-value-type-list-of-arcs");case J:return T("shared-calculator-label-value-type-line");case Qt:return T("shared-calculator-label-value-type-list-of-lines");case ge:return T("shared-calculator-label-value-type-ray");case Kt:return T("shared-calculator-label-value-type-list-of-rays");case xe:return T("shared-calculator-label-value-type-angle");case vt:return T("shared-calculator-label-value-type-list-of-angles");case le:return T("shared-calculator-label-value-type-directed-angle");case Et:return T("shared-calculator-label-value-type-list-of-directed-angles");case Se:return T("shared-calculator-label-value-type-transformation");case Ir:return T("shared-calculator-label-value-type-list-of-transformations");default:let t=e;throw new Error(`Invalid type: ${t}`)}}var XA={[Mt]:Jt,[de]:I,[Y]:I,[pr]:be,[Le]:w,[Wt]:Dt,[rr]:et,[zt]:ye,[Ct]:ue,[jt]:Q,[Zt]:X,[Qt]:J,[Kt]:ge,[vt]:xe,[Et]:le,[Ir]:Se};function k(e){switch(e){case Mt:case Y:case pr:case Le:case Wt:case rr:case zt:case Ct:case jt:case Zt:case Qt:case Kt:case vt:case Et:case Ir:case de:return!0;case Jt:case I:case be:case w:case Dt:case vn:case tt:case et:case Ge:case ye:case ue:case Q:case X:case J:case ge:case xe:case le:case Se:return!1;default:throw new Error(`Invalid type: ${e}`)}}function ot(e){switch(e){case de:case Y:return I;case pr:return be;case Le:return w;case Wt:return Dt;case rr:return et;case zt:return ye;case Mt:return Jt;case Ct:return ue;case jt:return Q;case Zt:return X;case Qt:return J;case Kt:return ge;case vt:return xe;case Et:return le;case Ir:return Se;case Jt:case I:case be:case w:case Dt:case vn:case tt:case et:case Ge:case ye:case ue:case Q:case X:case J:case ge:case xe:case le:case Se:throw new Error("Type "+jr(e)+" does not implement elementType.");default:let t=e;throw new Error(`Invalid type: ${t}`)}}function Zr(e){switch(e){case Jt:return Mt;case I:return Y;case be:return pr;case w:return Le;case Dt:return Wt;case et:return rr;case ye:return zt;case ue:return Ct;case Q:return jt;case X:return Zt;case J:return Qt;case ge:return Kt;case xe:return vt;case le:return Et;case Se:return Ir;case de:case Y:case pr:case Le:case Wt:case rr:case zt:case Ct:case jt:case Zt:case Qt:case Kt:case vt:case Et:case Ir:case Mt:case vn:case tt:case Ge:throw new Error("Type "+jr(e)+" does not implement listType.");default:let t=e;throw new Error(`Invalid type: ${t}`)}}function En(e){switch(e){case Jt:case I:case be:case w:case Dt:case et:case ye:case ue:case Q:case X:case J:case ge:case xe:case le:case Se:return!0;case de:case Y:case pr:case Le:case Wt:case rr:case zt:case Ct:case jt:case Zt:case Qt:case Kt:case vt:case Et:case Ir:case Mt:case tt:case Ge:case vn:return!1;default:throw new Error(`Invalid type: ${e}`)}}function yf(e){switch(e){case w:case ye:case ue:case Q:case X:case J:case ge:case xe:case le:case Se:return!0;default:return!1}}function sa(e){switch(e){case I:case Jt:case be:case w:case Dt:case Ge:case Mt:case Y:case pr:case Le:case Wt:case de:case vn:case tt:case et:case rr:return!0;case ye:case zt:case ue:case Ct:case Q:case jt:case X:case Zt:case J:case Qt:case ge:case Kt:case xe:case vt:case le:case Et:case Se:case Ir:return!1;default:let t=e;throw new Error(`Invalid type: ${t}`)}}function wu(e,t){for(let r of t)if(e===r)return!0;return!1}function Es(e,t){return e===de&&k(t)||t===Mt&&k(e)?!0:e===t}function Lu(e,t){return Es(e,t)||Es(t,e)}function pe(e,t){return e===t?!0:k(e)?e===de?!0:ot(e)===t:!1}function oa(e,t){if(!wu(e,t))throw new Error(`Programming error: expected one of ${t.map(Z)} but found ${e} instead.`)}var qe=class{constructor(){this.exportPenalty=0;this._dependencies=[],this._dummyDependencies=[],this._updateSymbols=[],this._substitutionSymbols=[],this._scope={definitions:[],dependencies:[],substitutionDependencies:[],isSubstitutionBody:!1,scopes:[]},this._exports=[]}setInputSpan(t){this._inputSpan=t}getInputString(){return this._inputSpan===void 0?"":Pr(this._inputSpan)}getInputSpan(){return this._inputSpan}shouldExportAns(){return!1}getAnsVariable(){return this.shouldExportAns()&&this.userData&&this.userData.hasOwnProperty("index")?["ans_"+this.userData.index]:[]}addDependency(t){this._dependencies.indexOf(t)===-1&&this._dependencies.push(t),this._scope.dependencies.indexOf(t)===-1&&this._scope.dependencies.push(t)}addDependencies(t){for(var r=0;r<t.length;r++)this.addDependency(t[r])}addDummyDependency(t){this._dependencies.indexOf(t)===-1&&this._dependencies.push(t),this._dummyDependencies.indexOf(t)===-1&&this._dummyDependencies.push(t)}addDummyDependencies(t){for(var r=0;r<t.length;r++)this.addDummyDependency(t[r])}addUpdateSymbol(t){this._dependencies.indexOf(t)===-1&&this._dependencies.push(t),this._updateSymbols.indexOf(t)===-1&&this._updateSymbols.push(t)}addSubstitutionSymbol(t){this._dummyDependencies.indexOf(t)===-1&&this._dummyDependencies.push(t),this._substitutionSymbols.indexOf(t)===-1&&this._substitutionSymbols.push(t)}addSubstitutionDependencies(t){for(var r=0;r<t.length;r++){var n=t[r];if(this._dependencies.indexOf(n)===-1)throw new Error("Programming error: substitution dependency "+n+" must also be registered as a regular dependency");this._scope.substitutionDependencies.indexOf(n)===-1&&this._scope.substitutionDependencies.push(n)}}mergeDependencies(...t){for(var r=0;r<t.length;r++){var n=t[r],i;for(i=0;i<n._dependencies.length;i++)this._dependencies.indexOf(n._dependencies[i])===-1&&this._dependencies.push(n._dependencies[i]);for(i=0;i<n._updateSymbols.length;i++)this._updateSymbols.indexOf(n._updateSymbols[i])===-1&&this._updateSymbols.push(n._updateSymbols[i]);for(i=0;i<n._substitutionSymbols.length;i++)this._substitutionSymbols.indexOf(n._substitutionSymbols[i])===-1&&this._substitutionSymbols.push(n._substitutionSymbols[i]);for(i=0;i<n._scope.dependencies.length;i++)this._scope.dependencies.indexOf(n._scope.dependencies[i])===-1&&this._scope.dependencies.push(n._scope.dependencies[i]);for(i=0;i<n._scope.substitutionDependencies.length;i++)this._scope.substitutionDependencies.indexOf(n._scope.substitutionDependencies[i])===-1&&this._scope.substitutionDependencies.push(n._scope.substitutionDependencies[i]);this.addDummyDependencies(n.getDummyDependencies()),Array.prototype.push.apply(this._scope.scopes,n._scope.scopes)}}mergeDependenciesInScope(t,r,n){this.addDummyDependencies(t);var i=r.getScope(),s={definitions:t,dependencies:i.dependencies,substitutionDependencies:i.substitutionDependencies,scopes:i.scopes,isSubstitutionBody:!!(n&&n.isSubstitutionBody)};this._scope.scopes.push(s);for(var o=0;o<r._dependencies.length;o++)this._dependencies.indexOf(r._dependencies[o])===-1&&this._dependencies.push(r._dependencies[o]);for(o=0;o<r._updateSymbols.length;o++)this._updateSymbols.indexOf(r._updateSymbols[o])===-1&&this._updateSymbols.push(r._updateSymbols[o]);for(o=0;o<r._substitutionSymbols.length;o++)this._substitutionSymbols.indexOf(r._substitutionSymbols[o])===-1&&this._substitutionSymbols.push(r._substitutionSymbols[o]);this.addDummyDependencies(r.getDummyDependencies())}getDependencies(){return this._dependencies}getDummyDependencies(){return this._dummyDependencies}getUpdateSymbols(){return this._updateSymbols}getSubstitutionSymbols(){return this._substitutionSymbols}getScope(){return this._scope}dependsOn(t){return this._dependencies.indexOf(t)>-1}getExports(){var t=this._exports||[];if(this.userData&&"id"in this.userData){var r=this.userData.id;t=t.concat(["idref_"+r])}return t.concat(this.getAnsVariable())}getLegalExports(t){return this.getExports().filter(function(r){return!t.assignmentForbidden(r)})}exportsSymbol(t){return this._exports.indexOf(t)>-1}exportTo(t,r,n){for(var i=this.getLegalExports(t),s=0;s<i.length;s++){var o=i[s];if(n[o])return;n[o]=r.blocksExport?r:this}}getOperator(){return this.operator||"="}isInequality(){return!1}isShadeBetween(){return!1}getAllIds(){return this.userData?[this.userData.id]:[]}getEvaluationInfo(){return!1}shouldPromoteToSlider(t){return!1}getSliderVariables(t,r){var n=t.sliderVariables(r.getDependencies());return r.valueType===w||r.valueType===Le?n.filter(function(i){return!t.validParametricVariable(i)}):n}getCompiledDerivative(){var t=this.getDependencies(),n=this.takeDerivative(t[0]||"x");return n.getCompiledFunction()}asValue(){}boundDomain(t){return Tr()}polynomialOrder(t){}getPolynomialCoefficients(t){}asTypedValue(){}substitute(t){}getExpressionType(t,r){}tableInfo(t,r){}analyzeFourFunction(t,r,n){}analyzeScientific(t,r,n){}analyzeSingleExpressionScientific(t,r,n){}getGraphMode(t,r){}};var V=class extends qe{constructor(r,n){if(!Array.isArray(r))throw new TypeError("Argument to expression constructor must be an Array.");super();this.args=r,(!n||!n.skipRegisterDependencies)&&this.registerDependencies()}shouldExportAns(){return!0}registerDependencies(){for(var r=0;r<this.args.length;r++)this.mergeDependencies(this.args[r])}copyWithArgs(r){return new this.constructor(r)}};function wi(e,t=1e6){if(e===1/0)return{n:1/0,d:1};if(e===-1/0)return{n:-1/0,d:1};if(!isFinite(e))return{n:NaN,d:1};let r,n=0,i=1,s=1,o=0,a,u;for(;r=Math.floor(e),a=r*i+n,u=r*o+s,!(u>t||(n=i,s=o,i=a,o=u,e===r));)e=1/(e-r);return{n:i,d:o}}var fr=Math,Ss=fr.cosh||function(e){return .5*(Math.exp(e)+Math.exp(-e))},go=fr.sinh&&fr.sinh(1e-20)!==0?fr.sinh:function(e){let t=e>0?1:-1;return e=e>0?e:-e,-t*.5*Math.exp(e)*Bu(-2*e)},Au=fr.tanh&&fr.tanh(1e-20)!==0?fr.tanh:function(e){let t=e>0?1:-1;e=e>0?e:-e;let r=Bu(-2*e);return-t*r/(2+r)},Cu=fr.acosh||function(e){return e<1?NaN:Math.log(e+hf(e))},_u=fr.asinh&&fr.asinh(1e-20)!==0?fr.asinh:function(e){let t=e>0?1:-1;return e=e>0?e:-e,1+e*e===1?t*ni(e):t*Math.log(e+gf(e))},Fu=fr.atanh&&fr.atanh(1e-20)!==0?fr.atanh:function(e){return .5*(ni(e)-ni(-e))},Bu=fr.expm1||function(e){return e+.5*e*e===e?e:Math.exp(e)-1},ni=fr.log1p||function(e){return e-.5*e*e===e?e:Math.log(1+e)},gf=function(e){let t=e*e;return 1+t===1?1:1+t===t?Math.abs(e):Math.sqrt(t+1)},hf=function(e){let t=e*e;return t<1?NaN:t-1===t?Math.abs(e):Math.sqrt(t-1)},aa=fr.sign||function(e){return e===0?0:e>0?1:e<0?-1:NaN},UE=fr.hypot&&fr.hypot(1/0,NaN)===1/0,ii=UE?fr.hypot:function(...e){let t=0,r=0;for(let n of e){let i=Math.abs(n);if(i===1/0)return 1/0;i>t&&(r*=t/i*(t/i),t=i),r+=i===0&&t===0?0:i/t*(i/t)}return t*Math.sqrt(r)};function Lb(e,t,r){if(e=ho(e),r>0){let n=ho(t);return e<n&&(e+=2*Math.PI),(e-n)/r}else{let n=ho(t+r);return e<n&&(e+=2*Math.PI),1+(e-n)/r}}function Vu(e,t,r){e=ho(e);let n=ho(t),i=ho(t+r);if(r<0){let s=n;n=i,i=s}return n<i?n<=e&&e<=i:n<=e||e<=i}function ho(e){let t=2*Math.PI;return(e%t+t)%t}var Sn=ii;function Li(e,t){return e>0==t>0?e+.5*(t-e):.5*(e+t)}function $E(e,t,r,n,i,s){return e*n+t*i+r*s}function Un(e,t,r,n,i,s,o,a,u){let l=Sn(o-n,a-i,u-s);return l===0?0:$E((e-n)/l,(t-i)/l,(r-s)/l,(o-n)/l,(a-i)/l,(u-s)/l)}function WE(e,t,r,n,i,s){let o=Un(e,t,0,r,n,0,i,s,0);return o<=0?[r,n]:o>=1?[i,s]:[r+o*(i-r),n+o*(s-n)]}function tC(e,t,r,n,i,s,o,a){let u=Un(e,t,0,r,n,0,i,s,0);return u<=0&&!o?[r,n]:u>=1&&!a?[i,s]:[r+u*(i-r),n+u*(s-n)]}function Ab(e,t,r,n,i,s){let o=WE(e,t,r,n,i,s);return Sn(e-o[0],t-o[1])}function rC(e,t,r,n,i,s,o){var a=Math.atan2(t-n,e-r);if(Vu(a,s,o-s))return[i*Math.cos(a)+r,i*Math.sin(a)+n]}function Nr(e,t,r=1){if(e===t)return!0;if(!isFinite(e)||!isFinite(t))return!1;if(r>50)throw new Error("Within "+(52-r)+" bits isn\'t really approximate any more");let n=Math.max(Math.max(Math.abs(e),Math.abs(t)),1),i=r===1?.5:Math.pow(.5,r);return n===n+i*Math.abs(t-e)}function nC(e){return Math.round(e-.5)+.5}function Os(e,t){if(e=Math.round(e),t=Math.round(t),e<0&&(e=-e),t<0&&(t=-t),t>e){let n=t;t=e,e=n}if(t===0)return e;let r=e%t;for(;r>0;)e=t,t=r,r=e%t;return t}function Ns(e,t){if(!isFinite(e)&&t===0)return NaN;if(e>=0||t===Math.floor(t))return Math.pow(e,t);let r=wi(t,100);return Nr(r.n/r.d,t,2)&&r.d%2===1?(r.n%2===0?1:-1)*Math.pow(-e,t):NaN}function bo(e,t){return{n:e,d:t}}function St(e){return typeof e=="object"&&typeof e.n=="number"&&typeof e.d=="number"}var ua=Math.pow(2,53)-1;function Ds(e){let t=e.match(/^(-)?(\\d*)?(?:\\.(\\d*))?$/);if(!t)return NaN;let r=t[1],n=t[2],i=t[3];if(!n&&!i)return NaN;let s=!!r;if(i){let o=i.replace(/0+$/,""),a=o.length,u=Math.pow(10,a),l=parseInt(n||"0",10)*u+parseInt(o||"0",10);return l>ua||u>ua?parseFloat(e):ie(s?-l:l,u)}else{let o=parseInt(n,10);return o>ua?parseFloat(e):ie(s?-o:o,1)}}function F(e){return St(e)?e.n/e.d:+e}function Ai(e){return St(e)?!1:isNaN(e)}function ie(e,t){if(!isFinite(e)||!isFinite(t)||t===0||Math.floor(e)!==e||Math.floor(t)!==t||Math.abs(e)>ua||Math.abs(t)>ua)return e/t;t<0&&(e=-e,t=-t);let r=Os(e,t);return bo(e/r,t/r)}function cn(e){return St(e)?bo(-e.n,e.d):-e}function Cb(e){return St(e)?bo(Math.abs(e.n),Math.abs(e.d)):Math.abs(e)}function la(e){return St(e)?e.n===0?e.d/e.n:bo(e.n<0?-e.d:e.d,Math.abs(e.n)):1/e}function si(e,t){if(!St(e)||!St(t))return F(e)+F(t);var r=Os(e.d,t.d);return ie(e.n*(t.d/r)+t.n*(e.d/r),e.d/r*t.d)}function oi(e,t){if(!St(e)||!St(t))return F(e)*F(t);var r=Os(e.n,t.d),n=Os(t.n,e.d);return ie(e.n/r*(t.n/n),e.d/n*(t.d/r))}function Hn(e,t){return si(e,cn(t))}function $n(e,t){return!St(e)||!St(t)?F(e)/F(t):oi(e,la(t))}function XE(e,t){let r=e,n=t;if(t.n<0&&(n=cn(t),r=la(e)),!St(r)||!St(n))return Ns(F(e),F(t));if(e=r,t=n,t.d===1)return ie(Math.pow(e.n,t.n),Math.pow(e.d,t.n));let i=e.n<0;if(i&&t.d%2!==1)return NaN;let o=(i?-1:1)*Math.round(Math.pow(Math.abs(e.n),1/t.d)),a=Math.round(Math.pow(Math.abs(e.d),1/t.d));return Math.pow(o,t.d)!==e.n||Math.pow(a,t.d)!==e.d?Ns(F(e),F(t)):ie(Math.pow(o,t.n),Math.pow(a,t.n))}function bf(e,t){if(!St(e)||!St(t))return Ns(F(e),F(t));let r=XE(e,t);return St(r)?r:Ns(F(e),F(t))}function _b(e){if(!St(e))return Math.sqrt(e);let t=Math.round(Math.sqrt(e.n)),r=Math.round(Math.sqrt(e.d));return t*t!==e.n||r*r!==e.d?Math.sqrt(F(e)):ie(t,r)}function Gu(e,t){return bf(e,la(t))}function Fb(e,t){if(!St(e)||!St(t)){let r=F(e),n=F(t);return r-n*Math.floor(r/n)}return Hn(e,oi(t,bo(Math.floor(F($n(e,t))),1)))}function Bb(e){let t=bo(0,1);for(let r of e)t=si(t,r);return t}var ir=class extends V{constructor(r){super([]);this.isConstant=!0;typeof r=="number"&&(r=ie(r,1)),this._constantValue=r}asValue(){let r=this._constantValue;return typeof r=="boolean"?r:F(r)}asCompilerValue(){return this._constantValue}scalarExprString(){return this.asValue()>0?String(this.asValue()):"("+String(this.asValue())+")"}getEvaluationInfo(){return[{val:this.asValue()}]}isNaN(){let r=this.asValue();return typeof r=="number"&&isNaN(r)}};var qu={pi:new ir(Math.PI),tau:new ir(2*Math.PI),e:new ir(Math.E),trigAngleMultiplier:new ir(ie(1,1)),infty:new ir(1/0)};var Qe={};an(Qe,{Action:()=>Ye,Add:()=>$e,And:()=>yt,BeginBroadcast:()=>Be,BeginIntegral:()=>Fe,BeginLoop:()=>ke,BlockVar:()=>we,BroadcastResult:()=>K,Constant:()=>B,DeferredListAccess:()=>Re,Distribution:()=>He,Divide:()=>ut,EndBroadcast:()=>ft,EndIntegral:()=>nt,EndLoop:()=>pt,Equal:()=>dt,Exponent:()=>Ce,ExtendSeed:()=>gt,Greater:()=>mt,GreaterEqual:()=>st,InboundsListAccess:()=>ze,Less:()=>it,LessEqual:()=>Ze,List:()=>Ae,ListAccess:()=>Ve,LoadArg:()=>rt,MAX_LEAF_OPCODE:()=>xf,Multiply:()=>Ue,NativeFunction:()=>he,Negative:()=>lt,Noop:()=>Rt,OrderedPair:()=>We,OrderedPairAccess:()=>ct,Piecewise:()=>Ee,RawExponent:()=>_e,Subtract:()=>at,SymbolicVar:()=>sr});var Rt=0,B=1,rt=2,sr=3,xf=3,$e=8,at=9,Ue=10,ut=11,Ce=12,_e=13,lt=14,We=15,ct=16,ke=17,pt=18,Fe=19,nt=20,Be=21,ft=22,dt=23,it=24,mt=25,Ze=26,st=27,yt=30,Ee=31,he=37,Ae=38,Ve=39,Re=40,ze=41,He=42,gt=44,we=47,K=48,Ye=49;function JE(e){switch(e){case"default":case"trig":case"inverseTrig":case"trig2":case"never-broadcast":return[I];case"reducer":return[Y];case"doubleReducer":return[Y,Y];case"parameterizedReducer":return[Y,I];case"color":return[I,I,I]}}function jE(e){switch(e){case"default":case"trig":case"inverseTrig":case"trig2":case"doubleReducer":case"color":case"never-broadcast":return!1;case"reducer":case"parameterizedReducer":return!0}}function ZE(e,t,r){return e==="reducer"?1/0:t+r}function R(e,t,r){var l,c,p,f,m,d;let n=(l=r==null?void 0:r.tag)!=null?l:"default",i=(c=r==null?void 0:r.argumentTypes)!=null?c:JE(n),s=r!=null&&r.defaultArguments?r.defaultArguments.length:0,o=(p=r==null?void 0:r.minArity)!=null?p:i.length-s,a=(f=r==null?void 0:r.maxArity)!=null?f:ZE(n,o,s),u=(m=r==null?void 0:r.allowDotCall)!=null?m:jE(n);return{module:e,symbol:t,argumentTypes:i,defaultArguments:r==null?void 0:r.defaultArguments,returnType:(d=r==null?void 0:r.returnType)!=null?d:I,tag:n,minArity:o,maxArity:a,allowDotCall:u}}function Tf(e){if(!St(e))throw new Error("Programming Error: numeric constants should be rational");return{type:1,valueType:I,value:e}}var Rs=Tf(ie(0,1)),ws=Tf(ie(1,1)),Pf=Tf(ie(1,2));function Ui(e){let t;return e in or&&(t=or[e].tag),t==="trig"||t==="trig2"||t==="inverseTrig"?!0:e==="angle"||e==="angles"||e==="directedangle"||e==="directedangles"}var or={sin:R("BuiltIn","sin",{tag:"trig"}),cos:R("BuiltIn","cos",{tag:"trig"}),tan:R("BuiltIn","tan",{tag:"trig"}),cot:R("BuiltIn","cot",{tag:"trig"}),sec:R("BuiltIn","sec",{tag:"trig"}),csc:R("BuiltIn","csc",{tag:"trig"}),arcsin:R("Math","asin",{tag:"inverseTrig"}),arccos:R("Math","acos",{tag:"inverseTrig"}),arctan:R("Math","atan2",{argumentTypes:[I,I],defaultArguments:[ws],tag:"inverseTrig"}),arccot:R("BuiltIn","acot",{tag:"inverseTrig"}),arcsec:R("BuiltIn","asec",{tag:"inverseTrig"}),arccsc:R("BuiltIn","acsc",{tag:"inverseTrig"}),sinh:R("BuiltIn","sinh"),cosh:R("BuiltIn","cosh"),tanh:R("BuiltIn","tanh"),coth:R("BuiltIn","coth"),sech:R("BuiltIn","sech"),csch:R("BuiltIn","csch"),arcsinh:R("BuiltIn","asinh"),arccosh:R("BuiltIn","acosh"),arctanh:R("BuiltIn","atanh"),arccoth:R("BuiltIn","acoth"),arcsech:R("BuiltIn","asech"),arccsch:R("BuiltIn","acsch"),sqrt:R("Math","sqrt"),rtxsqpone:R("BuiltIn","sqrtxsqp1"),rtxsqmone:R("BuiltIn","sqrtxsqm1"),nthroot:R("BuiltIn","nthroot",{argumentTypes:[I,I]}),hypot:R("BuiltIn","hypot",{argumentTypes:[I,I]}),log:R("BuiltIn","common_log"),logbase:R("BuiltIn","log_base",{argumentTypes:[I,I]}),ln:R("BuiltIn","log"),exp:R("Math","exp"),floor:R("Math","floor"),ceil:R("Math","ceil"),round:R("Math","round"),abs:R("Math","abs"),sign:R("BuiltIn","sign"),mod:R("BuiltIn","mod",{argumentTypes:[I,I]}),nCr:R("BuiltIn","nCr",{argumentTypes:[I,I]}),nPr:R("BuiltIn","nPr",{argumentTypes:[I,I]}),factorial:R("BuiltIn","factorial"),polyGamma:R("BuiltIn","polyGamma",{argumentTypes:[I,I]}),lcm:R("BuiltIn","listLCM",{tag:"reducer"}),gcd:R("BuiltIn","listGCD",{tag:"reducer"}),distance:R("BuiltIn","distance",{argumentTypes:[w,w]}),polygon:R("BuiltIn","polygon",{tag:"reducer",argumentTypes:[Le],returnType:ye}),area:R("BuiltIn","polygonArea",{argumentTypes:[ye]}),perimeter:R("BuiltIn","polygonPerimeter",{argumentTypes:[ye]}),pointDet:R("BuiltIn","pointDet",{argumentTypes:[w,w]}),pointDot:R("BuiltIn","pointDot",{argumentTypes:[w,w]}),pointPerp:R("BuiltIn","pointPerp",{argumentTypes:[w],returnType:w}),segment:R("BuiltIn","segment",{argumentTypes:[w,w],returnType:ue}),line:R("BuiltIn","line",{argumentTypes:[w,w],returnType:J}),ray:R("BuiltIn","ray",{argumentTypes:[w,w],returnType:ge}),circle:R("BuiltIn","circle",{argumentTypes:[w,I],returnType:Q}),center:R("BuiltIn","center",{argumentTypes:[Q],returnType:w,allowDotCall:!0}),radius:R("BuiltIn","radius",{argumentTypes:[Q],returnType:I,allowDotCall:!0}),arc:R("BuiltIn","arc",{argumentTypes:[w,w,w],returnType:X}),arcCenter:R("BuiltIn","arcCenter",{argumentTypes:[X],returnType:w}),arcOmega:R("BuiltIn","arcOmega",{argumentTypes:[X],returnType:I}),undirectedAngleMarker:R("BuiltIn","undirectedAngleMarker",{argumentTypes:[le],returnType:xe}),directedAngleMarker:R("BuiltIn","directedAngleMarker",{argumentTypes:[w,I,I,I],returnType:le}),directedCoterminalAngle:R("BuiltIn","directedCoterminalAngle",{argumentTypes:[le],returnType:le}),undirectedCoterminalAngle:R("BuiltIn","undirectedCoterminalAngle",{argumentTypes:[xe],returnType:xe}),supplement:R("BuiltIn","supplementAngle",{argumentTypes:[le],returnType:le}),directedAngleMarkerMeasure:R("BuiltIn","directedAngleMarkerMeasure",{argumentTypes:[le],returnType:I,allowDotCall:!0}),undirectedAngleMarkerMeasure:R("BuiltIn","undirectedAngleMarkerMeasure",{argumentTypes:[xe],returnType:I,allowDotCall:!0}),polygonInteriorUndirectedAngles:R("BuiltIn","polygonInteriorUndirectedAngles",{argumentTypes:[ye,I],returnType:vt,allowDotCall:!0,tag:"never-broadcast"}),polygonInteriorDirectedAngles:R("BuiltIn","polygonInteriorDirectedAngles",{argumentTypes:[ye,I],returnType:Et,allowDotCall:!0,tag:"never-broadcast"}),vertices:R("BuiltIn","vertices",{argumentTypes:[ye],returnType:Le,allowDotCall:!0,tag:"never-broadcast"}),segments:R("BuiltIn","polygonEdges",{argumentTypes:[ye],returnType:Ct,allowDotCall:!0,tag:"never-broadcast"}),scaleTangentSegment:R("BuiltIn","scaleTangentSegment",{argumentTypes:[ue,I],returnType:ue}),scaleTangentLine:R("BuiltIn","scaleTangentLine",{argumentTypes:[J,I],returnType:J}),scaleTangentRay:R("BuiltIn","scaleTangentRay",{argumentTypes:[ge,I],returnType:ge}),scaleTangentCircle:R("BuiltIn","scaleTangentCircle",{argumentTypes:[Q,I],returnType:Q}),scaleTangentArc:R("BuiltIn","scaleTangentArc",{argumentTypes:[X,I],returnType:Q}),addTangentSegment:R("BuiltIn","addTangentSegment",{argumentTypes:[ue,ue],returnType:ue}),addTangentLine:R("BuiltIn","addTangentLine",{argumentTypes:[J,J],returnType:J}),addTangentRay:R("BuiltIn","addTangentRay",{argumentTypes:[ge,ge],returnType:ge}),addTangentCircle:R("BuiltIn","addTangentCircle",{argumentTypes:[Q,Q],returnType:Q}),addTangentArc:R("BuiltIn","addTangentArc",{argumentTypes:[X,X],returnType:X}),segmentGlider:R("BuiltIn","segmentGlider",{argumentTypes:[ue,I],returnType:w}),lineGlider:R("BuiltIn","lineGlider",{argumentTypes:[J,I],returnType:w}),rayGlider:R("BuiltIn","rayGlider",{argumentTypes:[ge,I],returnType:w}),circleGlider:R("BuiltIn","circleGlider",{argumentTypes:[Q,I],returnType:w}),arcGlider:R("BuiltIn","arcGlider",{argumentTypes:[X,I],returnType:w}),polygonGlider:R("BuiltIn","polygonGlider",{argumentTypes:[ye,I],returnType:w}),chooseNonIncidentPoint:R("BuiltIn","chooseNonIncidentPoint",{argumentTypes:[w,w,w],returnType:w}),circleCircleIntersection:R("BuiltIn","circleCircleIntersection",{argumentTypes:[Q,Q,I],returnType:w}),circleArcIntersection:R("BuiltIn","circleArcIntersection",{argumentTypes:[Q,X,I],returnType:w}),circleLineIntersection:R("BuiltIn","circleLineIntersection",{argumentTypes:[Q,J,I],returnType:w}),arcCircleIntersection:R("BuiltIn","arcCircleIntersection",{argumentTypes:[X,Q,I],returnType:w}),arcArcIntersection:R("BuiltIn","arcArcIntersection",{argumentTypes:[X,X,I],returnType:w}),arcLineIntersection:R("BuiltIn","arcLineIntersection",{argumentTypes:[X,J,I],returnType:w}),lineCircleIntersection:R("BuiltIn","lineCircleIntersection",{argumentTypes:[J,Q,I],returnType:w}),lineArcIntersection:R("BuiltIn","lineArcIntersection",{argumentTypes:[J,X,I],returnType:w}),lineLineIntersection:R("BuiltIn","lineLineIntersection",{argumentTypes:[J,J,I],returnType:w}),lineFromSegment:R("BuiltIn","identity",{argumentTypes:[ue],returnType:J}),lineFromRay:R("BuiltIn","identity",{argumentTypes:[ge],returnType:J}),parallel:R("BuiltIn","parallel",{argumentTypes:[J,w],returnType:J}),perpendicular:R("BuiltIn","perpendicular",{argumentTypes:[J,w],returnType:J}),translation:R("BuiltIn","translation",{argumentTypes:[w],returnType:Se}),dilation:R("BuiltIn","dilation",{argumentTypes:[w,I],returnType:Se}),rotation:R("BuiltIn","rotation",{tag:"trig2",argumentTypes:[w,I],returnType:Se}),reflection:R("BuiltIn","reflection",{argumentTypes:[J],returnType:Se}),compose:R("BuiltIn","composeTransformation",{argumentTypes:[Se,Se],returnType:Se}),inverse:R("BuiltIn","invertTransformation",{argumentTypes:[Se],returnType:Se}),transformPoint:R("BuiltIn","transformPoint",{argumentTypes:[Se,w],returnType:w}),transformSegment:R("BuiltIn","transformSegment",{argumentTypes:[Se,ue],returnType:ue}),transformLine:R("BuiltIn","transformLine",{argumentTypes:[Se,J],returnType:J}),transformRay:R("BuiltIn","transformRay",{argumentTypes:[Se,ge],returnType:ge}),transformCircle:R("BuiltIn","transformCircle",{argumentTypes:[Se,Q],returnType:Q}),transformArc:R("BuiltIn","transformArc",{argumentTypes:[Se,X],returnType:X}),transformPolygon:R("BuiltIn","transformPolygon",{argumentTypes:[Se,ye],returnType:ye}),transformAngleMarker:R("BuiltIn","transformAngleMarker",{argumentTypes:[Se,xe],returnType:xe}),transformDirectedAngleMarker:R("BuiltIn","transformAngleMarker",{argumentTypes:[Se,le],returnType:le}),mean:R("BuiltIn","mean",{tag:"reducer"}),total:R("BuiltIn","total",{tag:"reducer"}),stdev:R("BuiltIn","stdev",{tag:"reducer"}),stdevp:R("BuiltIn","stdevp",{tag:"reducer"}),mad:R("BuiltIn","mad",{tag:"reducer"}),count:R("BuiltIn","listLength",{tag:"reducer",argumentTypes:[Mt]}),min:R("BuiltIn","listMin",{tag:"reducer"}),max:R("BuiltIn","listMax",{tag:"reducer"}),argmin:R("BuiltIn","argMin",{tag:"reducer"}),argmax:R("BuiltIn","argMax",{tag:"reducer"}),median:R("BuiltIn","median",{tag:"reducer"}),var:R("BuiltIn","variance",{tag:"reducer"}),varp:R("BuiltIn","varp",{tag:"reducer"}),cov:R("BuiltIn","cov",{tag:"doubleReducer"}),covp:R("BuiltIn","covp",{tag:"doubleReducer"}),corr:R("BuiltIn","corr",{tag:"doubleReducer"}),spearman:R("BuiltIn","spearman",{tag:"doubleReducer"}),quantile:R("BuiltIn","quantile",{tag:"parameterizedReducer"}),quartile:R("BuiltIn","quartile",{tag:"parameterizedReducer"}),upperQuantileIndex:R("BuiltIn","upperQuantileIndex",{tag:"parameterizedReducer"}),lowerQuantileIndex:R("BuiltIn","lowerQuantileIndex",{tag:"parameterizedReducer"}),quartileIndex:R("BuiltIn","quartileIndex",{tag:"parameterizedReducer"}),upperQuartileIndex:R("BuiltIn","upperQuartileIndex",{tag:"parameterizedReducer"}),lowerQuartileIndex:R("BuiltIn","lowerQuartileIndex",{tag:"parameterizedReducer"}),normalcdf:R("BuiltIn","normalcdf",{argumentTypes:[I,I,I,I],defaultArguments:[Rs,ws]}),normalpdf:R("BuiltIn","normalpdf",{argumentTypes:[I,I,I],defaultArguments:[Rs,ws]}),binomcdf:R("BuiltIn","binomcdf",{argumentTypes:[I,I,I,I],defaultArguments:[Pf]}),binompdf:R("BuiltIn","binompdf",{argumentTypes:[I,I,I],defaultArguments:[Pf]}),poissoncdf:R("BuiltIn","poissoncdf",{argumentTypes:[I,I,I]}),poissonpdf:R("BuiltIn","poissonpdf",{argumentTypes:[I,I,I]}),uniformcdf:R("BuiltIn","uniformcdf",{argumentTypes:[I,I,I,I],defaultArguments:[Rs,ws]}),uniformpdf:R("BuiltIn","uniformpdf",{argumentTypes:[I,I,I],defaultArguments:[Rs,ws]}),invT:R("BuiltIn","invT",{argumentTypes:[I,I]}),invPoisson:R("BuiltIn","invPoisson",{argumentTypes:[I,I]}),invBinom:R("BuiltIn","invBinom",{argumentTypes:[I,I,I]}),invUniform:R("BuiltIn","invUniform",{argumentTypes:[I,I,I]}),tpdf:R("BuiltIn","tpdf",{argumentTypes:[I,I]}),tcdf:R("BuiltIn","tcdf",{argumentTypes:[I,I,I]}),erf:R("BuiltIn","erf"),invNorm:R("BuiltIn","invNorm"),tscore:R("BuiltIn","tscore",{tag:"parameterizedReducer",defaultArguments:[Rs]}),normalSample:R("BuiltIn","normalSample",{argumentTypes:[tt,I,I]}),uniformSample:R("BuiltIn","uniformSample",{argumentTypes:[tt,I,I]}),tSample:R("BuiltIn","tSample",{argumentTypes:[tt,I]}),poissonSample:R("BuiltIn","poissonSample",{argumentTypes:[tt,I]}),binomSample:R("BuiltIn","binomSample",{argumentTypes:[tt,I,I]}),rgb:R("BuiltIn","rgb",{returnType:et,tag:"color"}),hsv:R("BuiltIn","hsv",{returnType:et,tag:"color"}),validateRangeLength:R("BuiltIn","validateRangeLength",{returnType:I,argumentTypes:[Y,Y,I,I],tag:"never-broadcast"}),validateSampleCount:R("BuiltIn","validateSampleCount",{returnType:I,argumentTypes:[I]}),select:R("BuiltIn","select",{argumentTypes:[Mt,pr],returnType:e=>e[0],tag:"never-broadcast"}),shuffle:R("BuiltIn","shuffle",{argumentTypes:[tt,Mt],returnType:e=>e[1],tag:"never-broadcast"}),sortPerm:R("BuiltIn","sortPerm",{argumentTypes:[Y],returnType:Y,tag:"never-broadcast"}),elementsAt:R("BuiltIn","elementsAt",{argumentTypes:[Mt,Y],returnType:e=>e[0],tag:"never-broadcast"}),uniquePerm:R("BuiltIn","uniquePerm",{argumentTypes:[Mt],returnType:Y,tag:"never-broadcast"})};function QE(e,t){return t?t.length+e:e}function Pe(e,t){var p,f,m,d;let r=t==null?void 0:t.defaultArguments,n=(p=t==null?void 0:t.maxArity)!=null?p:QE(e,r),i=(f=t==null?void 0:t.fallthroughUnlessDistribution)!=null?f:!1,s=(m=t==null?void 0:t.allowDotCall)!=null?m:!1,o=(d=t==null?void 0:t.isSeeded)!=null?d:!1,a=t==null?void 0:t.minArityExampleArgs,u=t==null?void 0:t.maxArityExampleArgs,l=t==null?void 0:t.dotMinArityExampleArgs,c=t==null?void 0:t.dotMaxArityExampleArgs;return{minArity:e,maxArity:n,defaultArguments:r,fallthroughUnlessDistribution:i,minArityExampleArgs:a,maxArityExampleArgs:u,dotMinArityExampleArgs:l,dotMaxArityExampleArgs:c,allowDotCall:s,isSeeded:o}}function Wn(){return Pe(0,{maxArity:1/0})}var Hi={midpoint:Pe(1,{maxArity:2,allowDotCall:!0}),glider:Pe(2),circle:Pe(1,{maxArity:2}),center:Pe(1,{allowDotCall:!0}),radius:Pe(1,{allowDotCall:!0}),intersection:Pe(2),strictintersection:Pe(2),parallel:Pe(2),perpendicular:Pe(2),length:Pe(1,{maxArity:1/0,allowDotCall:!0}),translation:Pe(1,{maxArity:2}),reflection:Pe(1),apply:Pe(2),points:Pe(1),lines:Pe(1),circles:Pe(1),arcs:Pe(1),polygons:Pe(1),rays:Pe(1),angle:Pe(3),directedangle:Pe(3),angles:Pe(1,{allowDotCall:!0}),directedangles:Pe(1,{allowDotCall:!0}),measure:Pe(1,{allowDotCall:!0}),abs:Pe(1),coterminal:Pe(1),round:Pe(1,{maxArity:2}),sort:Pe(1,{maxArity:2,minArityExampleArgs:"([3,2,1])",maxArityExampleArgs:"([1,2,3],[3,2,1])",dotMaxArityExampleArgs:"([3,4])",allowDotCall:!0}),shuffle:Pe(2,{maxArity:3,minArityExampleArgs:"([1,2,3])",maxArityExampleArgs:"([1,2,3],2)",dotMaxArityExampleArgs:"(2)",allowDotCall:!0,isSeeded:!0}),join:Pe(2,{maxArity:1/0,minArityExampleArgs:"([1,2],[3,4])",dotMinArityExampleArgs:"([3,4])",allowDotCall:!0}),unique:Pe(1,{minArityExampleArgs:"([1,2,3])",maxArityExampleArgs:"([1,2,3])",allowDotCall:!0}),normaldist:Pe(0,{defaultArguments:[Rs,ws]}),tdist:Pe(1),binomialdist:Pe(1,{defaultArguments:[Pf]}),poissondist:Pe(1),uniformdist:Pe(0,{defaultArguments:[Rs,ws]}),pdf:Pe(2,{allowDotCall:!0}),cdf:Pe(2,{maxArity:3,allowDotCall:!0}),mean:Pe(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),median:Pe(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),stdev:Pe(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),var:Pe(1,{fallthroughUnlessDistribution:!0,allowDotCall:!0}),quantile:Pe(2,{fallthroughUnlessDistribution:!0,allowDotCall:!0,minArityExampleArgs:"([1,2,3], 1)",maxArityExampleArgs:"([1,2,3], 1)",dotMinArityExampleArgs:"(x)",dotMaxArityExampleArgs:"(x)"}),random:Pe(1,{maxArity:4,allowDotCall:!0,isSeeded:!0}),polygon:Pe(0,{maxArity:1/0}),histogram:Wn(),dotplot:Wn(),boxplot:Wn(),ttest:Wn(),ittest:Wn(),stats:Wn(),det:Wn(),inv:Wn(),transpose:Wn(),rref:Wn(),trace:Wn()};var ku=class extends qe{constructor(){super(...arguments);this.isFunction=!0}},ai,fe={};for(ai in qu)qu.hasOwnProperty(ai)&&(fe[ai]=qu[ai]);for(ai in or)or.hasOwnProperty(ai)&&(fe[ai]=new ku);for(ai in Hi)Hi.hasOwnProperty(ai)&&(fe[ai]=new ku);function e1(e){var t={};return e.additionalFunctions&&e.additionalFunctions.indexOf("sqrt")!==-1&&(t.sqrt=fe.sqrt),e.width&&(t.width=e.width),e.height&&(t.height=e.height),t}var If={};an(If,{getFrame:()=>t1});var Vb=["pi","e","trigAngleMultiplier"],Gb=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","mean","round","stdev","stdevp","nCr","nPr","exp","factorial"];function qb(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key \'"+n+`\' does not exist in table. Must be one of:\n`+Object.keys(t).join(`\n`))}}qb(Vb,fe);qb(Gb,fe);function t1(e){var t={};return Vb.forEach(function(r){t[r]=fe[r]}),Gb.forEach(function(r){e.replaceRoundWithReciprocal&&r==="round"||(t[r]=fe[r])}),e.trigAngleMultiplier&&(t.trigAngleMultiplier=e.trigAngleMultiplier),e.width&&(t.width=e.width),e.height&&(t.height=e.height),t}var Mf={};an(Mf,{getFrame:()=>r1});var kb=["pi","e","trigAngleMultiplier"],zb=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","exp","factorial"];function Ub(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key \'"+n+`\' does not exist in table. Must be one of:\n`+Object.keys(t).join(`\n`))}}Ub(kb,fe);Ub(zb,fe);function r1(e){var t={};return kb.forEach(function(r){t[r]=fe[r]}),zb.forEach(function(r){t[r]=fe[r]}),e.trigAngleMultiplier&&(t.trigAngleMultiplier=e.trigAngleMultiplier),e.width&&(t.width=e.width),e.height&&(t.height=e.height),t}var ca={};an(ca,{getFrame:()=>s1});var Hb={count:!0,segment:!0,line:!0,ray:!0,circle:!0,arc:!0,glider:!0,parallel:!0,perpendicular:!0,center:!0,radius:!0,area:!0,perimeter:!0,angles:!0,angle:!0,directedangles:!0,directedangle:!0,measure:!0,coterminal:!0,supplement:!0,vertices:!0,segments:!0,intersection:!0,translation:!0,dilation:!0,rotation:!0,reflection:!0,construction:!0,points:!0,lines:!0,circles:!0,arcs:!0,polygons:!0,rays:!0};var $b=["csc","sec","cot","arccsc","arcsec","arccot","csch","sech","coth","arccsch","arcsech","arccoth","mad","cov","covp","distance","midpoint"],Wb=["erf","ttest","tscore","ittest","normaldist","tdist","poissondist","binomialdist","pdf","cdf","random","histogram","dotplot","boxplot"],n1=["distance","midpoint"],i1=["det","inv","transpose","rref","trace"],Yb=Object.keys(Hb).filter(function(e){return e!=="construction"});function vf(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key \'"+n+`\' does not exist in table. Must be one of:\n`+Object.keys(t).join(`\n`))}}vf($b,fe);vf(Wb,fe);vf(Yb,fe);function s1(e){var t={},r;for(r in fe)fe.hasOwnProperty(r)&&(e.restrictedFunctions===!0&&$b.indexOf(r)!==-1&&!(e.forceEnableGeometryFunctions===!0&&n1.indexOf(r)!==-1)||e.distributions===!1&&Wb.indexOf(r)!==-1||!e.isGeometryCalculator&&Yb.indexOf(r)!==-1||i1.indexOf(r)===-1&&(t[r]=fe[r]));return e.trigAngleMultiplier&&(t.trigAngleMultiplier=e.trigAngleMultiplier),e.globalRandomSeed&&(t.globalRandomSeed=e.globalRandomSeed),e.initialEvaluation&&(t.initialEvaluation=e.initialEvaluation),e.globalEventCount&&(t.globalEventCount=e.globalEventCount),e.width&&(t.width=e.width),e.height&&(t.height=e.height),t}var PE={};an(PE,{parse:()=>Mi});function Xb(e){let t=function(...i){return new e(...i)};t.prototype=e.prototype;var r=Object.getOwnPropertyNames(e);for(var n of r){let i=e[n];if(typeof i=="function")try{t[n]=i}catch(s){}}return t}var O=class extends qe{constructor(r){super();this.isError=!0;this._msg=r,this.blocksExport=!0}evaluateOnce(r){return this._msg}getError(){return this._msg}setDependencies(r){return this.addDependencies(r),this}setActionValue(r){this.actionValue=r}allowExport(){return this.blocksExport=!1,this}};var Uu=class extends ir{constructor(){super(...arguments);this.is_mixed_number=!0}};var Ci={};an(Ci,{canDisplayAsFraction:()=>MP,formatSymbol:()=>q,geoParentToLatex:()=>S1,identifierToHTML:()=>O1,identifierToLatex:()=>dr,latexToIdentifier:()=>pi,numericLabel:()=>cl,point:()=>T1,roundDecimal:()=>v1,trimLatex:()=>fi,truncatedHTMLLabel:()=>E1,truncatedLatexLabel:()=>od,truncatedPlainmathLabel:()=>sd,value:()=>nd});var To={};an(To,{VERSION:()=>tx,after:()=>qx,all:()=>Nf,allKeys:()=>ga,any:()=>Df,assign:()=>fa,before:()=>zf,bind:()=>kf,bindAll:()=>Ax,chain:()=>xP,chunk:()=>wx,clone:()=>Jf,collect:()=>$i,compact:()=>Px,compose:()=>Gx,constant:()=>uP,contains:()=>On,countBy:()=>yx,create:()=>Yx,debounce:()=>Bx,default:()=>P1,defaults:()=>Xf,defer:()=>_x,delay:()=>nl,detect:()=>Xu,difference:()=>ya,drop:()=>pa,each:()=>ui,escape:()=>ul,every:()=>Nf,extend:()=>$f,extendOwn:()=>fa,filter:()=>Ls,find:()=>Xu,findIndex:()=>rl,findKey:()=>Wf,findLastIndex:()=>Vf,findWhere:()=>lx,first:()=>$u,flatten:()=>Tx,foldl:()=>Hu,foldr:()=>Of,forEach:()=>ui,functions:()=>Ju,groupBy:()=>dx,has:()=>aP,head:()=>$u,identity:()=>ol,include:()=>On,includes:()=>On,indexBy:()=>mx,indexOf:()=>qf,initial:()=>Ff,inject:()=>Hu,intersection:()=>vx,invert:()=>Uf,invoke:()=>ax,isArguments:()=>xo,isArray:()=>Nn,isBoolean:()=>ed,isDate:()=>Zx,isElement:()=>jx,isEmpty:()=>Jx,isEqual:()=>ci,isError:()=>Kx,isFinite:()=>iP,isFunction:()=>Qr,isMap:()=>eP,isMatch:()=>jf,isNaN:()=>Kf,isNull:()=>sP,isNumber:()=>Zf,isObject:()=>Ji,isRegExp:()=>Qx,isSet:()=>rP,isString:()=>sl,isSymbol:()=>Qf,isUndefined:()=>oP,isWeakMap:()=>tP,isWeakSet:()=>nP,iteratee:()=>Ku,keys:()=>ar,last:()=>xx,lastIndexOf:()=>Dx,map:()=>$i,mapObject:()=>Hx,matcher:()=>Po,matches:()=>Po,max:()=>Cf,memoize:()=>Cx,methods:()=>Ju,min:()=>cx,mixin:()=>rd,negate:()=>il,noop:()=>lP,now:()=>Zu,object:()=>Sx,omit:()=>Wx,once:()=>kx,pairs:()=>$x,partial:()=>Cs,partition:()=>bx,pick:()=>Yf,pluck:()=>el,property:()=>al,propertyOf:()=>cP,random:()=>ju,range:()=>Rx,reduce:()=>Hu,reduceRight:()=>Of,reject:()=>ox,rest:()=>pa,restArguments:()=>Gr,result:()=>yP,sample:()=>_f,select:()=>Ls,shuffle:()=>px,size:()=>hx,some:()=>Df,sortBy:()=>fx,sortedIndex:()=>Gf,tail:()=>pa,take:()=>$u,tap:()=>Xx,template:()=>bP,templateSettings:()=>hP,throttle:()=>Fx,times:()=>pP,toArray:()=>gx,unescape:()=>mP,union:()=>Mx,uniq:()=>Wi,unique:()=>Wi,uniqueId:()=>gP,unzip:()=>Bf,values:()=>Yi,where:()=>ux,without:()=>Ix,wrap:()=>Vx,zip:()=>Ex});var Wu=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Qu=Array.prototype,Lf=Object.prototype,Jb=typeof Symbol!="undefined"?Symbol.prototype:null,o1=Qu.push,da=Qu.slice,Yu=Lf.toString,Kb=Lf.hasOwnProperty,a1=Array.isArray,jb=Object.keys,Zb=Object.create,ex=Wu.isNaN,u1=Wu.isFinite,Ef=function(){};function Ot(e){if(e instanceof Ot)return e;if(!(this instanceof Ot))return new Ot(e);this._wrapped=e}var tx=Ot.VERSION="1.10.2";function ma(e,t,r){if(t===void 0)return e;switch(r==null?3:r){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,s){return e.call(t,n,i,s)};case 4:return function(n,i,s,o){return e.call(t,n,i,s,o)}}return function(){return e.apply(t,arguments)}}function rx(e,t,r){return e==null?ol:Qr(e)?ma(e,t,r):Ji(e)&&!Nn(e)?Po(e):al(e)}Ot.iteratee=Ku;function Ku(e,t){return rx(e,t,1/0)}function Kr(e,t,r){return Ot.iteratee!==Ku?Ot.iteratee(e,t):rx(e,t,r)}function Gr(e,t){return t=t==null?e.length-1:+t,function(){for(var r=Math.max(arguments.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=arguments[i+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var s=Array(t+1);for(i=0;i<t;i++)s[i]=arguments[i];return s[t]=n,e.apply(this,s)}}function nx(e){if(!Ji(e))return{};if(Zb)return Zb(e);Ef.prototype=e;var t=new Ef;return Ef.prototype=null,t}function ix(e){return function(t){return t==null?void 0:t[e]}}function Xi(e,t){return e!=null&&Kb.call(e,t)}function Af(e,t){for(var r=t.length,n=0;n<r;n++){if(e==null)return;e=e[t[n]]}return r?e:void 0}var l1=Math.pow(2,53)-1,li=ix("length");function qr(e){var t=li(e);return typeof t=="number"&&t>=0&&t<=l1}function ui(e,t,r){t=ma(t,r);var n,i;if(qr(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var s=ar(e);for(n=0,i=s.length;n<i;n++)t(e[s[n]],s[n],e)}return e}function $i(e,t,r){t=Kr(t,r);for(var n=!qr(e)&&ar(e),i=(n||e).length,s=Array(i),o=0;o<i;o++){var a=n?n[o]:o;s[o]=t(e[a],a,e)}return s}function sx(e){var t=function(r,n,i,s){var o=!qr(r)&&ar(r),a=(o||r).length,u=e>0?0:a-1;for(s||(i=r[o?o[u]:u],u+=e);u>=0&&u<a;u+=e){var l=o?o[u]:u;i=n(i,r[l],l,r)}return i};return function(r,n,i,s){var o=arguments.length>=3;return t(r,ma(n,s,4),i,o)}}var Hu=sx(1),Of=sx(-1);function Xu(e,t,r){var n=qr(e)?rl:Wf,i=n(e,t,r);if(i!==void 0&&i!==-1)return e[i]}function Ls(e,t,r){var n=[];return t=Kr(t,r),ui(e,function(i,s,o){t(i,s,o)&&n.push(i)}),n}function ox(e,t,r){return Ls(e,il(Kr(t)),r)}function Nf(e,t,r){t=Kr(t,r);for(var n=!qr(e)&&ar(e),i=(n||e).length,s=0;s<i;s++){var o=n?n[s]:s;if(!t(e[o],o,e))return!1}return!0}function Df(e,t,r){t=Kr(t,r);for(var n=!qr(e)&&ar(e),i=(n||e).length,s=0;s<i;s++){var o=n?n[s]:s;if(t(e[o],o,e))return!0}return!1}function On(e,t,r,n){return qr(e)||(e=Yi(e)),(typeof r!="number"||n)&&(r=0),qf(e,t,r)>=0}var ax=Gr(function(e,t,r){var n,i;return Qr(t)?i=t:Nn(t)&&(n=t.slice(0,-1),t=t[t.length-1]),$i(e,function(s){var o=i;if(!o){if(n&&n.length&&(s=Af(s,n)),s==null)return;o=s[t]}return o==null?o:o.apply(s,r)})});function el(e,t){return $i(e,al(t))}function ux(e,t){return Ls(e,Po(t))}function lx(e,t){return Xu(e,Po(t))}function Cf(e,t,r){var n=-1/0,i=-1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=qr(e)?e:Yi(e);for(var a=0,u=e.length;a<u;a++)s=e[a],s!=null&&s>n&&(n=s)}else t=Kr(t,r),ui(e,function(l,c,p){o=t(l,c,p),(o>i||o===-1/0&&n===-1/0)&&(n=l,i=o)});return n}function cx(e,t,r){var n=1/0,i=1/0,s,o;if(t==null||typeof t=="number"&&typeof e[0]!="object"&&e!=null){e=qr(e)?e:Yi(e);for(var a=0,u=e.length;a<u;a++)s=e[a],s!=null&&s<n&&(n=s)}else t=Kr(t,r),ui(e,function(l,c,p){o=t(l,c,p),(o<i||o===1/0&&n===1/0)&&(n=l,i=o)});return n}function px(e){return _f(e,1/0)}function _f(e,t,r){if(t==null||r)return qr(e)||(e=Yi(e)),e[ju(e.length-1)];var n=qr(e)?Jf(e):Yi(e),i=li(n);t=Math.max(Math.min(t,i),0);for(var s=i-1,o=0;o<t;o++){var a=ju(o,s),u=n[o];n[o]=n[a],n[a]=u}return n.slice(0,t)}function fx(e,t,r){var n=0;return t=Kr(t,r),el($i(e,function(i,s,o){return{value:i,index:n++,criteria:t(i,s,o)}}).sort(function(i,s){var o=i.criteria,a=s.criteria;if(o!==a){if(o>a||o===void 0)return 1;if(o<a||a===void 0)return-1}return i.index-s.index}),"value")}function tl(e,t){return function(r,n,i){var s=t?[[],[]]:{};return n=Kr(n,i),ui(r,function(o,a){var u=n(o,a,r);e(s,o,u)}),s}}var dx=tl(function(e,t,r){Xi(e,r)?e[r].push(t):e[r]=[t]}),mx=tl(function(e,t,r){e[r]=t}),yx=tl(function(e,t,r){Xi(e,r)?e[r]++:e[r]=1}),c1=/[^\\ud800-\\udfff]|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff]/g;function gx(e){return e?Nn(e)?da.call(e):sl(e)?e.match(c1):qr(e)?$i(e,ol):Yi(e):[]}function hx(e){return e==null?0:qr(e)?e.length:ar(e).length}var bx=tl(function(e,t,r){e[r?0:1].push(t)},!0);function $u(e,t,r){return e==null||e.length<1?t==null?void 0:[]:t==null||r?e[0]:Ff(e,e.length-t)}function Ff(e,t,r){return da.call(e,0,Math.max(0,e.length-(t==null||r?1:t)))}function xx(e,t,r){return e==null||e.length<1?t==null?void 0:[]:t==null||r?e[e.length-1]:pa(e,Math.max(0,e.length-t))}function pa(e,t,r){return da.call(e,t==null||r?1:t)}function Px(e){return Ls(e,Boolean)}function As(e,t,r,n){n=n||[];for(var i=n.length,s=0,o=li(e);s<o;s++){var a=e[s];if(qr(a)&&(Nn(a)||xo(a)))if(t)for(var u=0,l=a.length;u<l;)n[i++]=a[u++];else As(a,t,r,n),i=n.length;else r||(n[i++]=a)}return n}function Tx(e,t){return As(e,t,!1)}var Ix=Gr(function(e,t){return ya(e,t)});function Wi(e,t,r,n){ed(t)||(n=r,r=t,t=!1),r!=null&&(r=Kr(r,n));for(var i=[],s=[],o=0,a=li(e);o<a;o++){var u=e[o],l=r?r(u,o,e):u;t&&!r?((!o||s!==l)&&i.push(u),s=l):r?On(s,l)||(s.push(l),i.push(u)):On(i,u)||i.push(u)}return i}var Mx=Gr(function(e){return Wi(As(e,!0,!0))});function vx(e){for(var t=[],r=arguments.length,n=0,i=li(e);n<i;n++){var s=e[n];if(!On(t,s)){var o;for(o=1;o<r&&On(arguments[o],s);o++);o===r&&t.push(s)}}return t}var ya=Gr(function(e,t){return t=As(t,!0,!0),Ls(e,function(r){return!On(t,r)})});function Bf(e){for(var t=e&&Cf(e,li).length||0,r=Array(t),n=0;n<t;n++)r[n]=el(e,n);return r}var Ex=Gr(Bf);function Sx(e,t){for(var r={},n=0,i=li(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r}function Ox(e){return function(t,r,n){r=Kr(r,n);for(var i=li(t),s=e>0?0:i-1;s>=0&&s<i;s+=e)if(r(t[s],s,t))return s;return-1}}var rl=Ox(1),Vf=Ox(-1);function Gf(e,t,r,n){r=Kr(r,n,1);for(var i=r(t),s=0,o=li(e);s<o;){var a=Math.floor((s+o)/2);r(e[a])<i?s=a+1:o=a}return s}function Nx(e,t,r){return function(n,i,s){var o=0,a=li(n);if(typeof s=="number")e>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(r&&s&&a)return s=r(n,i),n[s]===i?s:-1;if(i!==i)return s=t(da.call(n,o,a),Kf),s>=0?s+o:-1;for(s=e>0?o:a-1;s>=0&&s<a;s+=e)if(n[s]===i)return s;return-1}}var qf=Nx(1,rl,Gf),Dx=Nx(-1,Vf);function Rx(e,t,r){t==null&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),s=0;s<n;s++,e+=r)i[s]=e;return i}function wx(e,t){if(t==null||t<1)return[];for(var r=[],n=0,i=e.length;n<i;)r.push(da.call(e,n,n+=t));return r}function Lx(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var s=nx(e.prototype),o=e.apply(s,i);return Ji(o)?o:s}var kf=Gr(function(e,t,r){if(!Qr(e))throw new TypeError("Bind must be called on a function");var n=Gr(function(i){return Lx(e,n,t,this,r.concat(i))});return n}),Cs=Gr(function(e,t){var r=Cs.placeholder,n=function(){for(var i=0,s=t.length,o=Array(s),a=0;a<s;a++)o[a]=t[a]===r?arguments[i++]:t[a];for(;i<arguments.length;)o.push(arguments[i++]);return Lx(e,n,this,this,o)};return n});Cs.placeholder=Ot;var Ax=Gr(function(e,t){t=As(t,!1,!1);var r=t.length;if(r<1)throw new Error("bindAll must be passed function names");for(;r--;){var n=t[r];e[n]=kf(e[n],e)}});function Cx(e,t){var r=function(n){var i=r.cache,s=""+(t?t.apply(this,arguments):n);return Xi(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return r.cache={},r}var nl=Gr(function(e,t,r){return setTimeout(function(){return e.apply(null,r)},t)}),_x=Cs(nl,Ot,1);function Fx(e,t,r){var n,i,s,o,a=0;r||(r={});var u=function(){a=r.leading===!1?0:Zu(),n=null,o=e.apply(i,s),n||(i=s=null)},l=function(){var c=Zu();!a&&r.leading===!1&&(a=c);var p=t-(c-a);return i=this,s=arguments,p<=0||p>t?(n&&(clearTimeout(n),n=null),a=c,o=e.apply(i,s),n||(i=s=null)):!n&&r.trailing!==!1&&(n=setTimeout(u,p)),o};return l.cancel=function(){clearTimeout(n),a=0,n=i=s=null},l}function Bx(e,t,r){var n,i,s=function(a,u){n=null,u&&(i=e.apply(a,u))},o=Gr(function(a){if(n&&clearTimeout(n),r){var u=!n;n=setTimeout(s,t),u&&(i=e.apply(this,a))}else n=nl(s,t,this,a);return i});return o.cancel=function(){clearTimeout(n),n=null},o}function Vx(e,t){return Cs(t,e)}function il(e){return function(){return!e.apply(this,arguments)}}function Gx(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}}function qx(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function zf(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}}var kx=Cs(zf,2),zx=!{toString:null}.propertyIsEnumerable("toString"),Qb=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function Ux(e,t){var r=Qb.length,n=e.constructor,i=Qr(n)&&n.prototype||Lf,s="constructor";for(Xi(e,s)&&!On(t,s)&&t.push(s);r--;)s=Qb[r],s in e&&e[s]!==i[s]&&!On(t,s)&&t.push(s)}function ar(e){if(!Ji(e))return[];if(jb)return jb(e);var t=[];for(var r in e)Xi(e,r)&&t.push(r);return zx&&Ux(e,t),t}function ga(e){if(!Ji(e))return[];var t=[];for(var r in e)t.push(r);return zx&&Ux(e,t),t}function Yi(e){for(var t=ar(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n}function Hx(e,t,r){t=Kr(t,r);for(var n=ar(e),i=n.length,s={},o=0;o<i;o++){var a=n[o];s[a]=t(e[a],a,e)}return s}function $x(e){for(var t=ar(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n}function Uf(e){for(var t={},r=ar(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t}function Ju(e){var t=[];for(var r in e)Qr(e[r])&&t.push(r);return t.sort()}function Hf(e,t){return function(r){var n=arguments.length;if(t&&(r=Object(r)),n<2||r==null)return r;for(var i=1;i<n;i++)for(var s=arguments[i],o=e(s),a=o.length,u=0;u<a;u++){var l=o[u];(!t||r[l]===void 0)&&(r[l]=s[l])}return r}}var $f=Hf(ga),fa=Hf(ar);function Wf(e,t,r){t=Kr(t,r);for(var n=ar(e),i,s=0,o=n.length;s<o;s++)if(i=n[s],t(e[i],i,e))return i}function p1(e,t,r){return t in r}var Yf=Gr(function(e,t){var r={},n=t[0];if(e==null)return r;Qr(n)?(t.length>1&&(n=ma(n,t[1])),t=ga(e)):(n=p1,t=As(t,!1,!1),e=Object(e));for(var i=0,s=t.length;i<s;i++){var o=t[i],a=e[o];n(a,o,e)&&(r[o]=a)}return r}),Wx=Gr(function(e,t){var r=t[0],n;return Qr(r)?(r=il(r),t.length>1&&(n=t[1])):(t=$i(As(t,!1,!1),String),r=function(i,s){return!On(t,s)}),Yf(e,r,n)}),Xf=Hf(ga,!0);function Yx(e,t){var r=nx(e);return t&&fa(r,t),r}function Jf(e){return Ji(e)?Nn(e)?e.slice():$f({},e):e}function Xx(e,t){return t(e),e}function jf(e,t){var r=ar(t),n=r.length;if(e==null)return!n;for(var i=Object(e),s=0;s<n;s++){var o=r[s];if(t[o]!==i[o]||!(o in i))return!1}return!0}function Rf(e,t,r,n){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var i=typeof e;return i!=="function"&&i!=="object"&&typeof t!="object"?!1:f1(e,t,r,n)}function f1(e,t,r,n){e instanceof Ot&&(e=e._wrapped),t instanceof Ot&&(t=t._wrapped);var i=Yu.call(e);if(i!==Yu.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return Jb.valueOf.call(e)===Jb.valueOf.call(t)}var s=i==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return!1;var o=e.constructor,a=t.constructor;if(o!==a&&!(Qr(o)&&o instanceof o&&Qr(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),s){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!Rf(e[u],t[u],r,n))return!1}else{var l=ar(e),c;if(u=l.length,ar(t).length!==u)return!1;for(;u--;)if(c=l[u],!(Xi(t,c)&&Rf(e[c],t[c],r,n)))return!1}return r.pop(),n.pop(),!0}function ci(e,t){return Rf(e,t)}function Jx(e){return e==null?!0:qr(e)&&(Nn(e)||sl(e)||xo(e))?e.length===0:ar(e).length===0}function jx(e){return!!(e&&e.nodeType===1)}function pn(e){return function(t){return Yu.call(t)==="[object "+e+"]"}}var Nn=a1||pn("Array");function Ji(e){var t=typeof e;return t==="function"||t==="object"&&!!e}var xo=pn("Arguments"),Qr=pn("Function"),sl=pn("String"),Zf=pn("Number"),Zx=pn("Date"),Qx=pn("RegExp"),Kx=pn("Error"),Qf=pn("Symbol"),eP=pn("Map"),tP=pn("WeakMap"),rP=pn("Set"),nP=pn("WeakSet");(function(){xo(arguments)||(xo=function(e){return Xi(e,"callee")})})();var d1=Wu.document&&Wu.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof d1!="function"&&(Qr=function(e){return typeof e=="function"||!1});function iP(e){return!Qf(e)&&u1(e)&&!ex(parseFloat(e))}function Kf(e){return Zf(e)&&ex(e)}function ed(e){return e===!0||e===!1||Yu.call(e)==="[object Boolean]"}function sP(e){return e===null}function oP(e){return e===void 0}function aP(e,t){if(!Nn(t))return Xi(e,t);for(var r=t.length,n=0;n<r;n++){var i=t[n];if(e==null||!Kb.call(e,i))return!1;e=e[i]}return!!r}function ol(e){return e}function uP(e){return function(){return e}}function lP(){}function al(e){return Nn(e)?function(t){return Af(t,e)}:ix(e)}function cP(e){return e==null?function(){}:function(t){return Nn(t)?Af(e,t):e[t]}}function Po(e){return e=fa({},e),function(t){return jf(t,e)}}function pP(e,t,r){var n=Array(Math.max(0,e));t=ma(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n}function ju(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}var Zu=Date.now||function(){return new Date().getTime()},fP={"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;","`":"&#x60;"},m1=Uf(fP);function dP(e){var t=function(s){return e[s]},r="(?:"+ar(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(s){return s=s==null?"":""+s,n.test(s)?s.replace(i,t):s}}var ul=dP(fP),mP=dP(m1);function yP(e,t,r){Nn(t)||(t=[t]);var n=t.length;if(!n)return Qr(r)?r.call(e):r;for(var i=0;i<n;i++){var s=e==null?void 0:e[t[i]];s===void 0&&(s=r,i=n),e=Qr(s)?s.call(e):s}return e}var y1=0;function gP(e){var t=++y1+"";return e?e+t:t}var hP=Ot.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g},Sf=/(.)^/,g1={"\'":"\'","\\\\":"\\\\","\\r":"r","\\n":"n","\\u2028":"u2028","\\u2029":"u2029"},h1=/\\\\|\'|\\r|\\n|\\u2028|\\u2029/g,b1=function(e){return"\\\\"+g1[e]};function bP(e,t,r){!t&&r&&(t=r),t=Xf({},t,Ot.templateSettings);var n=RegExp([(t.escape||Sf).source,(t.interpolate||Sf).source,(t.evaluate||Sf).source].join("|")+"|$","g"),i=0,s="__p+=\'";e.replace(n,function(l,c,p,f,m){return s+=e.slice(i,m).replace(h1,b1),i=m+l.length,c?s+=`\'+\n((__t=(`+c+`))==null?\'\':_.escape(__t))+\n\'`:p?s+=`\'+\n((__t=(`+p+`))==null?\'\':__t)+\n\'`:f&&(s+=`\';\n`+f+`\n__p+=\'`),l}),s+=`\';\n`,t.variable||(s=`with(obj||{}){\n`+s+`}\n`),s=`var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\n`+s+`return __p;\n`;var o;try{o=new Function(t.variable||"obj","_",s)}catch(l){throw l.source=s,l}var a=function(l){return o.call(this,l,Ot)},u=t.variable||"obj";return a.source="function("+u+`){\n`+s+"}",a}function xP(e){var t=Ot(e);return t._chain=!0,t}function td(e,t){return e._chain?Ot(t).chain():t}function rd(e){return ui(Ju(e),function(t){var r=Ot[t]=e[t];Ot.prototype[t]=function(){var n=[this._wrapped];return o1.apply(n,arguments),td(this,r.apply(Ot,n))}}),Ot}ui(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=Qu[e];Ot.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),(e==="shift"||e==="splice")&&r.length===0&&delete r[0],td(this,r)}});ui(["concat","join","slice"],function(e){var t=Qu[e];Ot.prototype[e]=function(){return td(this,t.apply(this._wrapped,arguments))}});Ot.prototype.value=function(){return this._wrapped};Ot.prototype.valueOf=Ot.prototype.toJSON=Ot.prototype.value;Ot.prototype.toString=function(){return String(this._wrapped)};var x1={default:Ot,VERSION:tx,iteratee:Ku,restArguments:Gr,each:ui,forEach:ui,map:$i,collect:$i,reduce:Hu,foldl:Hu,inject:Hu,reduceRight:Of,foldr:Of,find:Xu,detect:Xu,filter:Ls,select:Ls,reject:ox,every:Nf,all:Nf,some:Df,any:Df,contains:On,includes:On,include:On,invoke:ax,pluck:el,where:ux,findWhere:lx,max:Cf,min:cx,shuffle:px,sample:_f,sortBy:fx,groupBy:dx,indexBy:mx,countBy:yx,toArray:gx,size:hx,partition:bx,first:$u,head:$u,take:$u,initial:Ff,last:xx,rest:pa,tail:pa,drop:pa,compact:Px,flatten:Tx,without:Ix,uniq:Wi,unique:Wi,union:Mx,intersection:vx,difference:ya,unzip:Bf,zip:Ex,object:Sx,findIndex:rl,findLastIndex:Vf,sortedIndex:Gf,indexOf:qf,lastIndexOf:Dx,range:Rx,chunk:wx,bind:kf,partial:Cs,bindAll:Ax,memoize:Cx,delay:nl,defer:_x,throttle:Fx,debounce:Bx,wrap:Vx,negate:il,compose:Gx,after:qx,before:zf,once:kx,keys:ar,allKeys:ga,values:Yi,mapObject:Hx,pairs:$x,invert:Uf,functions:Ju,methods:Ju,extend:$f,extendOwn:fa,assign:fa,findKey:Wf,pick:Yf,omit:Wx,defaults:Xf,create:Yx,clone:Jf,tap:Xx,isMatch:jf,isEqual:ci,isEmpty:Jx,isElement:jx,isArray:Nn,isObject:Ji,isArguments:xo,isFunction:Qr,isString:sl,isNumber:Zf,isDate:Zx,isRegExp:Qx,isError:Kx,isSymbol:Qf,isMap:eP,isWeakMap:tP,isSet:rP,isWeakSet:nP,isFinite:iP,isNaN:Kf,isBoolean:ed,isNull:sP,isUndefined:oP,has:aP,identity:ol,constant:uP,noop:lP,property:al,propertyOf:cP,matcher:Po,matches:Po,times:pP,random:ju,now:Zu,escape:ul,unescape:mP,result:yP,uniqueId:gP,templateSettings:hP,template:bP,chain:xP,mixin:rd},wf=rd(x1);wf._=wf;var P1=wf;function nd(e,t=e){if(isNaN(e)||!isFinite(e))return{string:"undefined",latex:"undefined",value:e};if(e===0)return{string:"0",latex:"0",value:e};Math.abs(e)>Math.abs(t)&&(t=e);let r=wi(e/Math.PI,24),n,i,s,o,a,u;if(PP(t)&&Nr(r.n/r.d*Math.PI,e,3))return r.n===0?(n="0",o="0"):r.n===1?(n="\\u03C0",o="\\\\pi"):r.n===-1?(n="-\\u03C0",o="-\\\\pi"):(n=r.n.toString()+"\\u03C0",o=r.n.toString()+"\\\\pi"),r.d===1?(i="",a=""):(i="/"+r.d.toString(),a=r.d.toString()),s=n+i,a===""?u=o:o[0]==="-"?u=`-\\\\frac{${o.slice(1)}}{${a}}`:u=`\\\\frac{${o}}{${a}}`,{string:s,latex:u,value:r.n/r.d*Math.PI};if(PP(t))return s=M1(TP(e.toFixed(ll(t)))),{string:s,latex:s,value:parseFloat(s)};{let l=id(e.toExponential(ll(t/e))).split("e"),c=l[0]+"\\xD710",p=l[1].replace("+","");return s=id(e.toExponential(ll(t/e))).replace("+",""),u=`${l[0]}\\\\times10^{${p}}`,{string:s,latex:u,mantissa:c,superscript:p,value:parseFloat(s)}}}function T1(e,t,r,n){let i=nd(e,t),s=nd(n(i.value),r);return[i,s]}var I1=/\\.?0+$/;function TP(e){return e.indexOf(".")===-1?e:e.replace(I1,"")}function id(e){let t=/\\.?0+e/;return e.replace(t,"e")}function M1(e){return e==="-0"?"0":e}function PP(e){return e=Math.abs(e),1e-4<e&&e<1e7}function ll(e){return e=Math.abs(e),e=Math.max(e,1e-16),Math.max(3,Math.floor(4.5-Math.log(e)/Math.LN10))}function v1(e){return Math.abs(e)>=1e-20?parseFloat(e.toFixed(ll(e))):e}function IP(e){return 1e6/Math.sqrt(Math.abs(e))}function MP(e){let t=IP(e);if(t<1||t>1e12)return!1;let{n:r,d:n}=wi(e,t);return n===1?!1:e===e+Math.pow(2,-3)*Math.abs(r/n-e)}function cl(e,t){if(t=t||{},isNaN(e)||!isFinite(e))return{type:"undefined"};if(e===0||t.zeroCutoff&&Math.abs(e)<t.zeroCutoff)return{type:"decimal",value:"0"};let r=t.smallCutoff||.001,n=t.bigCutoff||1e6,i=t.digits||10,o=id(e.toExponential(i-2)).match(/([\\d\\.\\-]+)e\\+?([\\d\\-]+)/);if(!o)return{type:"undefined"};let a=parseInt(o[2],10)>=i;if(MP(e)&&t.displayAsFraction){let l=wi(e,IP(e));return{type:"fraction",numerator:l.n.toString(),denominator:l.d.toString()}}else{if(Math.abs(e)>n||Math.abs(e)<r||a)return{type:"scientific",mantissa:o[1],exponent:o[2]};{let l=TP(e.toPrecision(i));return e!==Number(l)&&t.addEllipses&&(l+="..."),{type:"decimal",value:l}}}}function E1(e,t){let r=cl(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+"<span class=\'dcg-cross\'>\\xD7</span>10<sup>"+r.exponent+"</sup>";case"fraction":return r.denominator==="1"?r.numerator:`${r.numerator}/${r.denominator}`;default:return r}}function sd(e,t){let r=cl(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+" * 10^"+r.exponent;case"fraction":return r.denominator==="1"?r.numerator:`${r.numerator}/${r.denominator}`;default:return r}}function od(e,t){let r=cl(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+"\\\\times10^{"+r.exponent+"}";case"fraction":return r.denominator==="1"?r.numerator:r.numerator[0]==="-"?`-\\\\frac{${r.numerator.slice(1)}}{${r.denominator}}`:`\\\\frac{${r.numerator}}{${r.denominator}}`;default:return r}}function q(e){e=e.replace("\\\\","");let t={pi:"\\u03C0",tau:"\\u03C4",theta:"\\u03B8",phi:"\\u03D5",div:"\\xF7",cdot:"\\u22C5",times:"\\xD7",lt:"<",gt:">",le:"\\u2264",ge:"\\u2265",sim:"\\u223C",ldots:"\\u2026",prime:"\\u2032",approx:"\\u2248",to:"\\u2192","->":"\\u2192"};return t.hasOwnProperty(e)?t[e]:e}function S1(e){if(!e)return"";let t=dr(e[0]);return e[1]!==void 0&&(t+="\\\\left["+e[1]+"\\\\right]"),t}function dr(e){let t=e.match(/^\\$(\\d+)$/);if(t)return`\\\\token{${t[1]}}`;let r=e.split("_"),n="";return r[0].length>1&&(n+="\\\\"),n+=r[0],r[1]&&(n+="_{"+r[1]+"}"),n}function O1(e){if(!e)return"";let t=e.split("_");t[0]=q(t[0]);let r=t.map(ul);return r[1]&&(r[1]="<sub>"+r[1]+"</sub>"),r.join("")}function pi(e){let t=e.match(/\\\\token\\{(\\d+)\\}/);return t?`$${t[1]}`:(e=e.replace(/\\\\operatorname\\{(.*)\\}/,"$1"),e.replace(/[{}\\\\]/g,""))}function fi(e){return e.replace(/^(\\\\ | |\\\\space)+/,"").replace(/(\\\\ | |\\\\space)+$/,"")}var _t=class extends V{constructor(r){super([]);this._symbol=pi(r),this._errorSymbol=this._symbol,this.addDependency(this._symbol)}setInputSpan(r){super.setInputSpan(r),this._errorSymbol=pi(this.getInputString())}getInputSpan(){return this._inputSpan===void 0?un(this._symbol,0,this._symbol.length):this._inputSpan}};var pl=class extends _t{};function N1(e){for(var t=1/0,r=0;r<e.length;r++)(e[r].isList||e[r].isBroadcast)&&(t=Math.min(t,e[r].length));return t}var ad=class extends V{constructor(r){super(r);this.isList=!0;this.length=r.length}asValue(){for(var r=[],n=0;n<this.args.length;n++)r.push(this.args[n].asValue());return r}asCompilerValue(){for(var r=[],n=0;n<this.args.length;n++)r.push(this.args[n].asCompilerValue());return r}getEvaluationInfo(){if(this.args.every(function(r){return r.isConstant}))return[{val:this.args.map(function(r){return r.asValue()})}]}},ji=ad;ji.eachArgs=function(r,n){var i=N1(r);if(!isFinite(i)){n(r);return}for(var s=0;s<i;s++){for(var o=[],a=0;a<r.length;a++)o.push(r[a].isList||k(r[a].valueType)?r[a].elementAt(s):r[a]);n(o,s)}},ji.wrap=function(r){return r.isList||k(r.valueType)?r:new ad([r])};var fl=class extends V{constructor(r){super(r);this.beginning=r[0],this.end=r[1]}isHalfEmpty(){return this.end&&this.end.args&&this.end.args.length===0}};var dl=class extends V{constructor(r){super(r);this.list=r[0],this.index=r[1]}};var ml=class extends V{registerDependencies(){if(super.registerDependencies(),this.args[1].type==="Identifier"){var t=this.args[1]._symbol;Ui(t)&&this.addDependency("trigAngleMultiplier")}}};var yl=class extends V{constructor(t){var r=t.map(function(n){return new _t("\\\\idref_{"+n+"}")});super(r),this._exports.push("construction")}};var Io=class extends V{};var gl=class extends Io{constructor(r,n,i){super(r);this.isTypedConstant=!0;this.isMovablePoint=!0;this.moveStrategy=n,this.defaultDragMode=i,this.valueType=w}asValue(){return[+this.args[0].asValue(),+this.args[1].asValue()]}asTypedValue(){return{valueType:this.valueType,value:this.asValue()}}asCompilerValue(){return[this.args[0].asCompilerValue(),this.args[1].asCompilerValue()]}};var hl=class extends V{constructor(r){super(r);this.point=r[0],this.index=r[1]}};var bl=class extends V{};var Dn=class extends V{};var Dr={"<":{inclusive:!1,direction:-1},"!=":{inclusive:!1,direction:0},">":{inclusive:!1,direction:1},"<=":{inclusive:!0,direction:-1},"=":{inclusive:!0,direction:0},">=":{inclusive:!0,direction:1}};function _s(e,t){switch(t){case-1:return e?"<=":"<";case 0:return e?"=":"!=";case 1:return e?">=":">";default:throw"Programming error.  Comparators must have a direction of -1, 0, or 1"}}var Rn=class extends V{constructor(r){super(r);this._difference=Dr[this.operator].direction===-1?new Dn([r[1],r[0]]):new Dn([r[0],r[1]])}static create(r){class n extends Rn{}return n.prototype.operator=r,n}asComparator(){return this}isInequality(){return Dr[this.operator].direction!==0}};var di={"<":Rn.create("<"),">":Rn.create(">"),"<=":Rn.create("<="),">=":Rn.create(">="),"=":Rn.create("=")};var Pl=class extends qe{constructor(r){super();let[n,i,s,o,a]=r;this.args=r,this._symbol=s._symbol,this._operators=[i,o],this._expressions=[n,a];var u=_s(Dr[i].inclusive&&Dr[r[3]].inclusive,Dr[r[1]].direction);this._indicator=new di[u]([r[0],r[4]]),this.addDependency(this._symbol),this.mergeDependencies(this._expressions[0],this._expressions[1])}isInequality(){return!0}isShadeBetween(){return!0}};var Zi=class extends V{constructor(r){super(r,{skipRegisterDependencies:!0});this._index=r[0],this.registerDependencies()}registerDependencies(){let r=this._index._symbol;this.addDummyDependency(r),this.mergeDependencies(this.args[1]),this.mergeDependencies(this.args[2]),this.mergeDependenciesInScope([r],this.args[3])}};var Tl=class extends Zi{constructor(){super(...arguments);this.in_place_operator="+=";this.starting_value=0}evaluateConstant(r){var n=1+Math.round(r[1])-Math.round(r[0]);return n<=0?this.starting_value:n*r[2]}update(r,n){return r+n}};var Il=class extends Zi{constructor(){super(...arguments);this.in_place_operator="*=";this.starting_value=1}evaluateConstant(r){var n=1+Math.round(r[1])-Math.round(r[0]);return n<=0?this.starting_value:Math.pow(r[2],n)}update(r,n){return r*n}};var Ml=class extends V{constructor(r){super(r,{skipRegisterDependencies:!0});this._differential=r[0],this.registerDependencies()}registerDependencies(){this.mergeDependencies(this.args[1]),this.mergeDependencies(this.args[2]),this.mergeDependenciesInScope([this._differential._symbol],this.args[3])}};var vl=class extends V{constructor(t){super(t),this._symbol=t[0]._symbol}};var El=class extends V{constructor(r,n,i){super([r,n].concat(i),{skipRegisterDependencies:!0});this._index=r,this._body=n,this._inputLists=i,this.registerDependencies()}registerDependencies(){for(var r=[],n=0;n<this._inputLists.length;n++){var i=this._inputLists[n],s=i._symbol;this.addDummyDependency(s),r.push(s),this.mergeDependencies(i.args[1])}this.addDummyDependency(this._index._symbol),r.push(this._index._symbol),this.mergeDependenciesInScope(r,this._body)}};var wn=class extends V{constructor(r,n){super(n,{skipRegisterDependencies:!0});typeof r=="string"&&(r=new _t(r)),this._identifier=r,this._symbol=r._symbol,this._errorSymbol=r._errorSymbol==="logbase"?"log":r._errorSymbol,this.registerDependencies()}registerDependencies(){this.addDependency(this._symbol),super.registerDependencies(),Ui(this._symbol)&&this.addDependency("trigAngleMultiplier")}copyWithArgs(r){return new this.constructor(new _t(this._symbol),r)}};var Sl=class extends wn{constructor(r,n){super(r,n);this.seed=n[0]}};var Ol=class extends V{registerDependencies(){if(super.registerDependencies(),this.args[0].type==="Identifier"){var t=this.args[0]._symbol;Ui(t)&&this.addDependency("trigAngleMultiplier")}}};var Nl=class extends V{registerDependencies(){if(this.addDependency("factorial"),super.registerDependencies(),this.args[0].type==="Identifier"){var t=this.args[0]._symbol;Ui(t)&&this.addDependency("trigAngleMultiplier")}}};var Dl=class extends V{constructor(r,n){super(n);this.order=r}copyWithArgs(r){return new this.constructor(this.order,r)}};var Fs=class extends V{static chain(t,r){for(var n,i=r;t.length;)n=t.pop(),i=new Fs([n.condition,n.if_expr,i]);return i}static empty(){return new Fs([new ir(!0),new ir(ie(1,1)),new ir(NaN)])}};var Rl=class extends V{constructor(r,n){super(n);r instanceof _t?this._symbol=r._symbol:this._symbol=new _t(r)._symbol,this.addDependency(this._symbol)}};var wl=class extends V{constructor(r){super(r,{skipRegisterDependencies:!0});this._symbol=r[0]._symbol,this._expression=r[1],this.registerDependencies()}registerDependencies(){this.addUpdateSymbol(this._symbol),this.mergeDependencies(this._expression)}};var Ll=class extends V{constructor(r,n){super([r].concat(n),{skipRegisterDependencies:!0});this._body=r,this._assignments=n,this.registerDependencies()}registerDependencies(){for(var r=[],n=0;n<this._assignments.length;n++){var i=this._assignments[n],s=i._symbol;this.addSubstitutionSymbol(s),r.push(s);var o=i.args[1];this.mergeDependencies(o),this.addSubstitutionDependencies(o.getDependencies())}this.mergeDependenciesInScope(r,this._body,{isSubstitutionBody:!0})}};var Al=class extends V{constructor(t){super(t),this._symbol="histogram"}};var Cl=class extends V{constructor(t,r){super(t),this._symbol=r}};var _l=class extends V{constructor(t){super(t),this._symbol="dotplot"}};var Fl=class extends V{constructor(t){super(t),this._symbol="boxplot"}};var Bl=class extends V{constructor(t){super(t),this._symbol="ttest"}};var Vl=class extends V{constructor(t){super(t),this._symbol="ittest"}};var Gl=class extends V{constructor(t){super(t),this._symbol="stats"}};var Qi=class extends qe{constructor(r,n){super();this.mergeDependencies(r,n),this._lhs=r,this._rhs=n,this._difference=new Dn([this._lhs,this._rhs])}asComparator(){return new di["="]([this._lhs,this._rhs])}};var Bs=class extends qe{constructor(r,n){super();r instanceof _t?this._symbol=r._symbol:this._symbol=r,this.mergeDependencies(n),this._expression=n,this._exports=this.computeExports()}shouldExportAns(){return!0}computeExports(){for(var r=this._symbol,n=this.getDependencies(),i=0;i<n.length;i++)if(n[i]===r)return[];return[r]}isEquation(r){return r.getDependencies().indexOf(this._symbol)!==-1}asEquation(){var r=new Qi(new _t(this._symbol),this._expression);return r.userData=this.userData,r.metaData=this.metaData,r}shouldPromoteToSlider(r){if(!this._expression.isConstant||this._expression.is_mixed_number)return!1;let n=this._expression.asValue();return typeof n!="number"||!isFinite(n)?!1:r.isValidSlider(this._symbol)}};var Ft={};an(Ft,{actionMergeFreeVariable:()=>zd,addArgumentsToDefinition:()=>Ea,addTypeError:()=>ld,adjacentNumbers:()=>nm,andTypeError:()=>gd,ansUndefined:()=>Py,assignmentsUnsupported:()=>wa,badImplicitCall:()=>Zl,badIntegralBoundDependency:()=>hy,badListComprehensionInputDependency:()=>Ey,badLogExponent:()=>Im,badProductBoundDependency:()=>ay,badSampleSize:()=>xy,badSumBoundDependency:()=>oy,badSymbolContext:()=>Da,badTrigExponent:()=>Tm,badTupleDimensions:()=>rm,binaryOperatorMissingOperand:()=>Ma,blankExpression:()=>Sm,boxplotBreadthInvalid:()=>Jd,boxplotOffsetInvalid:()=>Xd,cannotRedefine:()=>Eo,cannotSubscript:()=>Om,cdfMaxInvalid:()=>km,cdfMaxLessThanMin:()=>zm,cdfMinInvalid:()=>qm,cdfRequiresArguments:()=>jd,cdfTooManyArguments:()=>Zd,clickableObjectAlreadyAssigned:()=>B1,clickableObjectAssignmentNotDefined:()=>F1,clickableObjectAssignmentNotIdentifier:()=>V1,clickableObjectInvalidExpression:()=>G1,colonMissingCondition:()=>Em,colorArity:()=>Jl,combineTypeError:()=>Pa,comparatorTypeError:()=>yd,complicatedDoubleInequality:()=>ac,complicatedPolarImplicit:()=>Xm,constantUnsupported:()=>Us,cycle:()=>ic,deeplyNested:()=>Wd,derivativeMissingBody:()=>my,derivativeTypeError:()=>Rd,derivativeVariableTypeError:()=>wd,differentialWithSuperscript:()=>cy,distributionAsFunction:()=>cc,divideTypeError:()=>fd,domainMaxInvalid:()=>Vm,domainMaxLessThanMin:()=>Gm,domainMinInvalid:()=>Bm,dotLHSTypeError:()=>Pd,duplicateUpdateRules:()=>Gd,emptyParen:()=>bm,emptyPipe:()=>Pm,emptyRadical:()=>gm,emptyRadicalIndex:()=>hm,emptySquareBracket:()=>xm,emptySubscript:()=>Ql,emptySuperscript:()=>pm,equationRequired:()=>uc,equationsUnsupported:()=>_i,eventHandlerTypeError:()=>ba,exponentTypeError:()=>dd,featureUnavailable:()=>Ki,fractionEmpty:()=>cm,fractionMissingDenominator:()=>lm,fractionMissingNumerator:()=>um,fractionsUnavailable:()=>mc,functionDefinitionsUnsupported:()=>La,functionFreeVariable:()=>w1,functionNotDefined:()=>rc,functionTypeError:()=>Pt,functionUnsupported:()=>fn,geometryLengthTypeError:()=>kl,heterogeneousList:()=>xa,identifierAsFunction:()=>sm,illegalBinWidth:()=>Na,illegalDotCall:()=>ha,implicitsDisabled:()=>Ym,incorrectProductLowerBound:()=>sy,incorrectSumLowerBound:()=>iy,indexTypeError:()=>Mo,inequalitiesDisabled:()=>sc,inequalitiesUnsupported:()=>Hs,inequalityChainTooLong:()=>tc,integralArgumentTypeError:()=>Dd,integralLowerBoundTypeError:()=>Od,integralMissingBody:()=>dy,integralMissingBound:()=>uy,integralMissingDifferential:()=>ly,integralUpperBoundTypeError:()=>Nd,invalidDependentFirstTableColumn:()=>R1,invalidDoubleInequalityVariables:()=>oc,invalidFirstTableColumn:()=>Zm,invalidHalfEmptyRange:()=>ty,invalidImplicitVariables:()=>zs,invalidInequalityVariables:()=>$m,invalidLHS:()=>Um,invalidOperatorName:()=>dm,invalidRegressionParameter:()=>Qm,invalidSubscript:()=>fm,invalidTableEntry:()=>Oo,invalidTableHeader:()=>jm,listComprehensionIncorrectInput:()=>My,listComprehensionInputListTypeError:()=>Iy,listTypeError:()=>Gs,logScaleBoxPlot:()=>$d,logScaleDotPlot:()=>Hd,logScaleHistogram:()=>Ud,logScaleTypeError:()=>Ta,logbaseUnsupported:()=>Ty,malformedList:()=>tm,malformedPoint:()=>em,matrixAddDimensions:()=>k1,matrixAssignment:()=>q1,matrixElementTypeError:()=>W1,matrixFractionalPower:()=>H1,matrixInvalidVariable:()=>Y1,matrixMultiplyDimensions:()=>U1,matrixPowerDimensions:()=>$1,matrixSubtractDimensions:()=>z1,maxListSize:()=>Ia,methodRequiresList:()=>Ln,mismatchedBraces:()=>yy,mismatchedDoubleInequality:()=>Jm,multiplyDefined:()=>So,multiplyDefinedByTables:()=>Nm,multiplyTypeError:()=>pd,negativeTypeError:()=>md,nonArithmeticRange:()=>Oa,nonListDoubleReducer:()=>Sa,nonListParameterizedReducer:()=>ey,nonSquareDeterminant:()=>L1,nonSquareInverse:()=>C1,nonSquareTrace:()=>A1,optimizationError:()=>Km,orderedPairAccessTypeError:()=>bd,parameterAlreadyDefined:()=>nc,parseError:()=>Te,pdfWrongArity:()=>Yl,percentMissingOf:()=>by,piecewiseBranchTypeError:()=>Ad,piecewiseConditionTypeError:()=>Ld,piecewiseMissingCondition:()=>Mm,piecewisePartMissingCondition:()=>vm,pointTypeError:()=>hd,pointsUnsupported:()=>Ws,polygonTwoNumbersError:()=>Yd,primeWithoutParen:()=>ec,primedFunctionArity:()=>ks,productArgumentTypeError:()=>Sd,productInfiniteBoundError:()=>Ul,productLowerBoundTypeError:()=>vd,productMissingBody:()=>fy,productMissingBound:()=>ny,productUpperBoundTypeError:()=>Ed,randomArity:()=>qs,randomFromBroadcastDistribution:()=>Qd,regressionTypeError:()=>Fd,regressionsUnsupported:()=>$s,selfReferentialFunction:()=>va,shadowedIndex:()=>Dm,shadowedIntegrationVariable:()=>gy,shadowedListComprehensionInput:()=>vy,singleVariableImplicitEquationsDisabled:()=>Wm,singularInverse:()=>_1,sliderLimitReferencesExport:()=>Lm,sliderMaxInvalid:()=>Cm,sliderMaxLessThanMin:()=>_m,sliderMinInvalid:()=>Am,sliderStepInvalid:()=>Fm,substitutionAmbiguousComma:()=>Ca,substitutionBodyAction:()=>J1,substitutionBodyDependsOnLocalVariable:()=>Ly,substitutionBodyDependsOnRegression:()=>Ry,substitutionDuplicateSymbol:()=>Ay,substitutionFunctionLHS:()=>bc,substitutionIllegalLHS:()=>hc,substitutionInvalidAssignments:()=>Dy,substitutionLocalLHS:()=>gc,substitutionNested:()=>xc,substitutionTypeError:()=>X1,substitutionUndefinedRHS:()=>wy,subtractTypeError:()=>cd,sumArgumentTypeError:()=>Md,sumInfiniteBoundError:()=>zl,sumLowerBoundTypeError:()=>Td,sumMissingBody:()=>py,sumMissingBound:()=>ry,sumUpperBoundTypeError:()=>Id,superscriptWithPrime:()=>ym,tableCycleWithoutGlobalDefinition:()=>Rm,tableEntryTypeError:()=>_d,tableHeaderTypeError:()=>Cd,tdistWrongArity:()=>Xl,tickerMinStepNonNegativeNumber:()=>wm,todoError:()=>D1,tokenWithSubscript:()=>im,tooManyArguments:()=>Wl,tooManyVariables:()=>Tt,transformationTypeError:()=>xd,ttestListTooShort:()=>No,unaryOperatorMissingLeft:()=>om,unaryOperatorMissingRight:()=>am,unexpectedForKeyword:()=>yc,unexpectedInequality:()=>ud,unexpectedPrime:()=>Kl,unexpectedSubscript:()=>mm,unexpectedSymbol:()=>kr,unplottablePolarFunction:()=>Hm,unrecognizedSymbol:()=>ql,updateRuleFunctionLHS:()=>Hl,updateRuleIllegalLHS:()=>kd,updateRuleLocalLHS:()=>$l,updateRuleNonIdentifierLHS:()=>Vd,updateRuleTypeError:()=>Bd,updateRuleUndefinedLHS:()=>qd,variableAsFunction:()=>lc,variableLengthDistributionList:()=>Aa,variableLengthProductBodyDependsOnIndex:()=>Ny,variableLengthSumBodyDependsOnIndex:()=>Oy,variableLengthTopLevelList:()=>Sy,variableSeed:()=>pc,variableUnsupported:()=>dc,variablesUnsupported:()=>Ra,writeIntegral:()=>fc,wrongArity:()=>Mr,wrongDoubleReducerArity:()=>vo,wrongParameterizedReducerArity:()=>jl,zeroArgReducer:()=>Kd});function Te(){return new O(T("shared-calculator-error-parse-error"))}function D1(e){return new O(T("shared-calculator-error-todo-error",{msg:e}))}function ql(e){return e=q(e),new O(T("shared-calculator-error-unrecognized-symbol",{symbol:e}))}function ud(){return new O(T("shared-calculator-error-unexpected-inequality"))}function kr(e){return e=q(e),new O(T("shared-calculator-error-unexpected-symbol",{symbol:e}))}function ld(e){return new O(T("shared-calculator-error-add-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()}function cd(e){return new O(T("shared-calculator-error-subtract-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()}function pd(e){return new O(T("shared-calculator-error-multiply-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()}function fd(e){return new O(T("shared-calculator-error-divide-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()}function dd(e){return new O(T("shared-calculator-error-exponent-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()}function md(e){return new O(T("shared-calculator-error-negative-type-error",{symbol:e[0]})).allowExport()}function yd(e){return new O(T("shared-calculator-error-comparator-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()}function gd(e){return new O(T("shared-calculator-error-and-type-error",{symbol:"and",symbol1:e[0],symbol2:e[1]})).allowExport()}function Gs(e){return new O(T("shared-calculator-error-list-type-error",{symbol1:e[0]})).allowExport()}function hd(e){return new O(T("shared-calculator-error-point-type-error",{symbol1:e,symbol2:Z(w)})).allowExport()}function Mo(e){return new O(T("shared-calculator-error-index-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()}function bd(e){return new O(T("shared-calculator-error-ordered-pair-access-type-error",{symbol:e[0]})).allowExport()}function Pt(e,t){switch(t.length){case 1:return new O(T("shared-calculator-error-function-type-error-1",{fn:q(e),arg:t[0]})).allowExport();case 2:return new O(T("shared-calculator-error-function-type-error-2",{fn:q(e),arg1:t[0],arg2:t[1]})).allowExport();default:return new O(T("shared-calculator-error-function-type-error-many",{fn:q(e)})).allowExport()}}function xd(e,t){switch(t.length){case 1:return new O(T("shared-calculator-error-transformation-type-error-1",{fn:q(e),arg:t[0]})).allowExport();case 2:return new O(T("shared-calculator-error-transformation-type-error-2",{fn:q(e),arg1:t[0],arg2:t[1]})).allowExport();default:return new O(T("shared-calculator-error-transformation-type-error-many",{fn:q(e)})).allowExport()}}function kl(e,t){let r=q(e),n=q("count");return new O(T("shared-calculator-error-geometry-length-type-error",{fn:r,alternativeFn:n,arg:t})).allowExport()}function ha(e){return new O(T("shared-calculator-error-illegal-dot-call",{symbol:q(e)}))}function Pd(e,t){return new O(T("shared-calculator-error-dot-lhs-type-error",{symbol:q(e),type:t})).allowExport()}function Td(e){return new O(T("shared-calculator-error-sum-lower-bound-type-error",{symbol:e[0]})).allowExport()}function Id(e){return new O(T("shared-calculator-error-sum-upper-bound-type-error",{symbol:e[0]})).allowExport()}function zl(){return new O(T("shared-calculator-error-sum-infinite-bound-type-error"))}function Md(e){return new O(T("shared-calculator-error-sum-argument-type-error",{symbol:e[0]})).allowExport()}function vd(e){return new O(T("shared-calculator-error-product-lower-bound-type-error",{symbol:e[0]})).allowExport()}function Ed(e){return new O(T("shared-calculator-error-product-upper-bound-type-error",{symbol:e[0]})).allowExport()}function Ul(){return new O(T("shared-calculator-error-product-infinite-bound-type-error"))}function Sd(e){return new O(T("shared-calculator-error-product-argument-type-error",{symbol:e[0]})).allowExport()}function Od(e){return new O(T("shared-calculator-error-integral-lower-bound-type-error",{symbol:e[0]})).allowExport()}function Nd(e){return new O(T("shared-calculator-error-integral-upper-bound-type-error",{symbol:e[0]})).allowExport()}function Dd(e){return new O(T("shared-calculator-error-integral-argument-type-error",{symbol:e[0]})).allowExport()}function Rd(e){return new O(T("shared-calculator-error-derivative-type-error",{symbol:e[0]})).allowExport()}function wd(e,t){return new O(T("shared-calculator-error-derivative-variable-type-error",{symbol1:q(e),symbol2:t[0]}))}function Ld(e){return new O(T("shared-calculator-error-piecewise-condition-type-error",{symbol1:Z(be),symbol2:e[0]})).allowExport()}function Ad(e){return new O(T("shared-calculator-error-piecewise-branch-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()}function Cd(e){return new O(T("shared-calculator-error-table-header-type-error",{symbol:e[0]}))}function _d(e){return new O(T("shared-calculator-error-table-entry-type-error",{symbol:e[0]}))}function Fd(e){return new O(T("shared-calculator-error-regression-type-error",{symbol1:e[0],symbol2:e[1]}))}function Bd(e){return new O(T("shared-calculator-error-update-rule-type-error",{symbol:e}))}function Vd(){return new O(T("shared-calculator-error-update-rule-non-identifier-lhs",{arrow:"\\u2192",example:"a"}))}function Gd(e){return new O(T("shared-calculator-error-duplicate-update-rules",{symbol:q(e)}))}function qd(e){return new O(T("shared-calculator-error-update-rule-undefined-lhs",{symbol:q(e)}))}function kd(e){return new O(T("shared-calculator-error-update-rule-illegal-lhs",{symbol:q(e)}))}function Hl(e){return new O(T("shared-calculator-error-update-rule-function-lhs",{symbol:q(e)}))}function $l(e){return new O(T("shared-calculator-error-update-rule-local-lhs",{symbol:q(e)}))}function zd(e){let t=e.filter(r=>r.scope==="free").map(r=>r.symbol);return new O(T("shared-calculator-error-action-merge-free-variable",{symbol:q(t[0]||"")})).setDependencies(t).allowExport()}function ba(e){return new O(T("shared-calculator-error-event-handler-type-error",{example:"a\\u2192a+1"}))}function xa(){return new O(T("shared-calculator-error-heterogeneous-list")).allowExport()}function Pa(e){return new O(T("shared-calculator-error-combine-type-error",{symbol1:e[0],symbol2:e[1]})).allowExport()}function Ta(e){return new O(T("shared-calculator-error-log-scale-type-error",{symbol:e})).allowExport()}function Ud(){return new O(T("shared-calculator-error-log-scale-histogram"))}function Hd(){return new O(T("shared-calculator-error-log-scale-dot-plot"))}function $d(){return new O(T("shared-calculator-error-log-scale-box-plot"))}function Wd(){return new O(T("shared-calculator-error-deeply-nested")).allowExport()}function Ia(){return new O(T("shared-calculator-error-max-list-size",{maxListSize:1e4 .toLocaleString()})).allowExport()}function Yd(){return new O(T("shared-calculator-error-two-numbers-error"))}function Xd(){return new O(T("shared-calculator-error-boxplot-offset-invalid"))}function Jd(){return new O(T("shared-calculator-error-boxplot-breadth-invalid"))}function Wl(e,t){return new O(T("shared-calculator-error-too-many-arguments",{symbol:e,max:t}))}function Yl(){var e=T("shared-calculator-error-pdf-wrong-arity-recommendation"),t=T("shared-calculator-error-pdf-wrong-arity",{recommendation:e});return new O(t)}function jd(){var e=T("shared-calculator-error-cdf-wrong-arity-recommendation"),t=T("shared-calculator-error-cdf-wrong-arity",{recommendation:e});return new O(t)}function Zd(){var e=T("shared-calculator-error-cdf-too-many-arguments-recommendation"),t=T("shared-calculator-error-cdf-too-many-arguments",{recommendation:e});return new O(t)}function Xl(){return new O(T("shared-calculator-error-tdist-wrong-arity"))}function qs(){return new O(T("shared-calculator-error-random-arity"))}function Qd(){return new O(T("shared-calculator-error-random-from-broadcast-distribution"))}function Jl(e){var t=e==="rgb"?[150,30,100]:[180,.5,.5],r=T("shared-calculator-error-color-arity-recommendation",{recommendation:q(e)+"("+t.join(", ")+")"}),n=T("shared-calculator-error-color-arity",{symbol:e,recommendation:r});return new O(n)}function Mr(e,t,r,n){e=q(e);var i,s;if(t===1)n||(n=e+"(x)"),s=T("shared-calculator-error-wrong-arity-supplement",{recommendation:n}),r>1?i=T("shared-calculator-error-wrong-arity-single-arg-too-many",{dependency:e,supplement:s}):i=T("shared-calculator-error-wrong-arity-single-arg-too-few",{dependency:e,supplement:s});else{var o=[];if(!n){for(var a=0;a<t;a++)o[a]=a+1;n=q(e)+"("+o.join(", ")+")"}s=T("shared-calculator-error-wrong-arity-supplement",{recommendation:n}),i=T("shared-calculator-error-wrong-arity-many-arg",{dependency:e,assignment_arity:t,supplement:s})}return new O(i)}function jl(e){return new O(T("shared-calculator-error-wrong-two-arg-arity",{symbol:q(e),recommendation:q(e)+"([1,2,3], 1)"}))}function vo(e){return new O(T("shared-calculator-error-wrong-two-arg-arity",{symbol:q(e),recommendation:q(e)+"([1,2,3], [3,2,1])"}))}function ks(){return new O(T("shared-calculator-error-primed-function-arity"))}function Kd(e){return new O(T("shared-calculator-error-zero-arg-reducer",{symbol:q(e)}))}function em(){return new O(T("shared-calculator-error-malformed-point"))}function tm(){return new O(T("shared-calculator-error-malformed-list"))}function rm(e){return new O(T("shared-calculator-error-bad-tuple-dimensions",{symbol:e}))}function Zl(e){return e=q(e),new O(T("shared-calculator-error-bad-implicit-call",{symbol:e}))}function nm(e,t){return new O(T("shared-calculator-error-adjacent-numbers",{left:e,right:t}))}function im(){return new O(T("shared-calculator-error-token-with-subscript"))}function sm(e){return e=q(e),new O(T("shared-calculator-error-identifier-as-function",{symbol:e}))}function Ma(e){return e=q(e),e==="%"&&(e="% of"),new O(T("shared-calculator-error-binary-operator-missing-operand",{symbol:e}))}function om(e){return e=q(e),new O(T("shared-calculator-error-unary-operator-missing-left",{symbol:e}))}function am(e){return e=q(e),new O(T("shared-calculator-error-unary-operator-missing-right",{symbol:e}))}function um(){return new O(T("shared-calculator-error-fraction-missing-numerator"))}function lm(){return new O(T("shared-calculator-error-fraction-missing-denominator"))}function cm(){return new O(T("shared-calculator-error-fraction-empty"))}function Ql(){return new O(T("shared-calculator-error-empty-subscript"))}function pm(){return new O(T("shared-calculator-error-empty-superscript"))}function fm(e){return e=q(e),new O(T("shared-calculator-error-invalid-subscript",{symbol:e}))}function dm(){return new O(T("shared-calculator-error-invalid-operator-name"))}function mm(){return new O(T("shared-calculator-error-unexpected-subscript"))}function ym(){return new O(T("shared-calculator-error-superscript-with-prime"))}function Kl(){return new O(T("shared-calculator-error-unexpected-prime"))}function ec(){return new O(T("shared-calculator-error-prime-without-paren"))}function gm(){return new O(T("shared-calculator-error-empty-radical"))}function hm(){return new O(T("shared-calculator-error-empty-radical-index"))}function bm(){return new O(T("shared-calculator-error-empty-paren"))}function xm(){return new O(T("shared-calculator-error-empty-square-bracket"))}function Pm(){return new O(T("shared-calculator-error-empty-pipe"))}function Tm(e){var t=e+"^2",r=e+"^-1";return new O(T("shared-calculator-error-bad-trig-exponent",{form1:t,form2:r}))}function Im(e){var t=e+"^2";return new O(T("shared-calculator-error-bad-log-exponent",{form:t}))}function tc(){return new O(T("shared-calculator-error-inequality-chain-too-long"))}function Mm(){return new O(T("shared-calculator-error-piecewise-missing-condition"))}function vm(){return new O(T("shared-calculator-error-piecewise-part-missing-condition"))}function Em(){return new O(T("shared-calculator-error-colon-missing-condition"))}function Sm(){return new O(T("shared-calculator-error-blank-expression"))}function rc(e){return e=q(e),new O(T("shared-calculator-error-function-not-defined",{dependency:e}))}function nc(e){return e=q(e),new O(T("shared-calculator-error-parameter-already-defined",{dependency:e}))}function Eo(e,t){return e=q(e),t===void 0?new O(T("shared-calculator-error-cannot-redefine",{symbol:e})):new O(T("shared-calculator-error-cannot-redefine-root",{symbol:e,symbolRoot:t}))}function Om(e){return e=q(e),new O(T("shared-calculator-error-cannot-subscript",{symbol:e}))}function So(e){return e=q(e),new O(T("shared-calculator-error-multiply-defined",{dependency:e}))}function Nm(e){let t=So(e);return t.isMultiplyDefinedByTables=!0,t}function Dm(e){return e=q(e),new O(T("shared-calculator-error-shadowed-index",{symbol:e}))}function ic(e){e=e.map(q);var t=e.pop()||"";return new O(T("shared-calculator-error-dependency-cycle",{symbols:e.join("\', \'"),lastSymbol:t}))}function Rm(e){let t=ic(e);return t.isTableCycleWithoutGlobalDefinition=!0,t}function va(e){return new O(T("shared-calculator-error-self-referential-function",{symbol:q(e)}))}function wm(){return new O(T("shared-calculator-error-ticker-min-step-nonnegative"))}function Lm(e){return new O(T("shared-calculator-error-slider-limit-references-export",{symbol:q(e)}))}function Am(){return new O(T("shared-calculator-error-slider-min-invalid"))}function Cm(){return new O(T("shared-calculator-error-slider-max-invalid"))}function _m(){return new O(T("shared-calculator-error-slider-max-less-than-min"))}function Fm(){return new O(T("shared-calculator-error-slider-step-invalid"))}function Bm(){return new O(T("shared-calculator-error-domain-min-invalid"))}function Vm(){return new O(T("shared-calculator-error-domain-max-invalid"))}function Gm(){return new O(T("shared-calculator-error-domain-max-less-than-min"))}function qm(){return new O(T("shared-calculator-error-cdf-min-invalid"))}function km(){return new O(T("shared-calculator-error-cdf-max-invalid"))}function zm(){return new O(T("shared-calculator-error-cdf-max-less-than-min"))}function Tt(e){if(e=e.map(q),e.length===0)return new O(T("shared-calculator-error-too-many-variables-no-symbols"));var t=e.pop()||"";return e.length>0?new O(T("shared-calculator-error-too-many-variables-many-symbols",{variables:e.join("\', \'"),lastVariable:t})):new O(T("shared-calculator-error-too-many-variables-one-symbol",{variable:t}))}function Ea(e,t,r){e=e.map(q),t=q(t),r=r.map(q);var n=t+"("+r.join(",")+","+e.join(",")+")",i=e.pop()||"",s={symbols:e.join("\', \'"),lastSymbol:i,newSignature:n};return e.length?new O(T("shared-calculator-error-add-arguments-to-definition-many",s)):new O(T("shared-calculator-error-add-arguments-to-definition-one",s))}function Um(e){return e=q(e),new O(T("shared-calculator-error-invalid-lhs",{symbol:e}))}function Hm(){return new O(T("shared-calculator-error-unplottable-polar-function"))}function $m(){return new O(T("shared-calculator-error-invalid-inequality-variables"))}function zs(){return new O(T("shared-calculator-error-invalid-implicit-variables"))}function Wm(){return new O(T("shared-calculator-error-single-variable-implicit-equations-disabled"))}function Ym(){return new O(T("shared-calculator-error-implicits-disabled"))}function sc(){return new O(T("shared-calculator-error-inequalities-disabled"))}function Xm(){return new O(T("shared-calculator-error-complicated-polar-implicit"))}function oc(){return new O(T("shared-calculator-error-invalid-double-inequality-variables"))}function Jm(){return new O(T("shared-calculator-error-mismatched-double-inequality",{example:"1 < y < 2"}))}function ac(){return new O(T("shared-calculator-error-complicated-double-inequality"))}function uc(e){return e?(e=q(e),new O(T("shared-calculator-error-equation-required-symbol",{lhs:e+"="}))):new O(T("shared-calculator-error-equation-required"))}function lc(e){return e=q(e),new O(T("shared-calculator-error-variable-as-function",{dependency:e}))}function cc(e){return e=q(e),new O(T("shared-calculator-error-distribution-as-function",{symbol:e}))}function jm(e){return new O(T("shared-calculator-error-invalid-table-header",{supplement:e}))}function Oo(e){return new O(T("shared-calculator-error-invalid-table-entry",{supplement:e}))}function Zm(){return new O(T("shared-calculator-error-invalid-first-table-column",{most:"\'y\', \'r\',",last:"\'\\u03B8\'"}))}function R1(){return new O(T("shared-calculator-error-invalid-dependent-first-table-column"))}function Qm(e){return new O(T("shared-calculator-error-invalid-regression-parameter",{symbol:q(e)}))}function Km(){return new O(T("shared-calculator-error-optimization-error"))}function Sa(e){return new O(T("shared-calculator-error-non-list-double-reducer",{symbol:q(e),recommendation:q(e)+"([1,2,3], [3,2,1])"})).allowExport()}function ey(e){return new O(T("shared-calculator-error-non-list-parameterized-reducer",{symbol:q(e),recommendation:q(e)+"([1,2,3], 1)"})).allowExport()}function Ln(e){return new O(T("shared-calculator-error-method-requires-list",{symbol:q(e),recommendation:q(e)+"([1,2,3])"})).allowExport()}function w1(e,t){return new O(T("shared-calculator-error-variable-function-free-variable",{functionSymbol:e,variableSymbol:t})).allowExport()}function Oa(){return new O(T("shared-calculator-error-non-arithmetic-range")).allowExport()}function ty(){return new O(T("shared-calculator-error-invalid-half-empty-range"))}function ry(){return new O(T("shared-calculator-error-sum-missing-bound"))}function ny(){return new O(T("shared-calculator-error-product-missing-bound"))}function iy(){return new O(T("shared-calculator-error-incorrect-sum-lower-bound"))}function sy(){return new O(T("shared-calculator-error-incorrect-product-lower-bound"))}function oy(e){return new O(T("shared-calculator-error-bad-sum-bound-dependency",{symbol:q(e)}))}function ay(e){return new O(T("shared-calculator-error-bad-product-bound-dependency",{symbol:q(e)}))}function uy(){return new O(T("shared-calculator-error-integral-missing-bound"))}function ly(){return new O(T("shared-calculator-error-integral-missing-differential"))}function cy(){return new O(T("shared-calculator-error-differential-with-superscript"))}function py(){return new O(T("shared-calculator-error-sum-missing-body"))}function fy(){return new O(T("shared-calculator-error-product-missing-body"))}function dy(){return new O(T("shared-calculator-error-integral-missing-body"))}function my(){return new O(T("shared-calculator-error-derivative-missing-body"))}function yy(e,t){return e=q(e),t=q(t),new O(T("shared-calculator-error-mismatched-braces",{symbol1:e,symbol2:t}))}function gy(e){return new O(T("shared-calculator-error-shadowed-integration-variable",{symbol:q(e)}))}function hy(e){return new O(T("shared-calculator-error-bad-integral-bound-dependency",{symbol:q(e)}))}function by(){return new O(T("shared-calculator-error-percent-missing-of"))}function Na(e){return e=q(e),new O(T("shared-calculator-error-illegal-bin-width",{symbol:e}))}function No(e){return e=q(e),new O(T("shared-calculator-error-ttest-list-too-short",{symbol:e}))}function xy(){return new O(T("shared-calculator-error-bad-sample-size"))}function pc(e){return new O(T("shared-calculator-error-variable-seed",{symbol:q(e[0].symbol)})).setDependencies(e.filter(t=>t.scope==="free").map(t=>t.symbol)).allowExport()}function Da(e){return new O(T("shared-calculator-error-bad-symbol-context",{symbol:q(e)}))}function fc(){return new O(T("shared-calculator-error-write-integral",{command:"integral",symbol:"\\u222B"}))}function Py(){return new O(T("shared-calculator-error-ans-undefined"))}function Ra(e){return new O(T("shared-calculator-error-variables-unsupported",{variable:q(e)}))}function fn(e){return new O(T("shared-calculator-error-function-unsupported",{symbol:q(e)}))}function Ty(){return new O(T("shared-calculator-error-logbase-unsupported"))}function Us(e){return new O(T("shared-calculator-error-constant-unsupported",{symbol:q(e)}))}function dc(e){return new O(T("shared-calculator-error-variable-unsupported",{symbol:q(e)}))}function wa(){return new O(T("shared-calculator-error-assignments-unsupported"))}function La(){return new O(T("shared-calculator-error-function-definition-unsupported"))}function _i(){return new O(T("shared-calculator-error-equations-unsupported"))}function Hs(){return new O(T("shared-calculator-error-inequalities-unsupported"))}function $s(){return new O(T("shared-calculator-error-regressions-unsupported"))}function Ws(){return new O(T("shared-calculator-error-points-unsupported"))}function Ki(){return new O(T("shared-calculator-error-feature-unavailable"))}function mc(){return new O(T("basic-calculator-error-fractions-unavailable"))}function L1(){return new O(T("shared-calculator-error-non-square-determinant"))}function A1(){return new O(T("shared-calculator-error-non-square-trace"))}function C1(){return new O(T("shared-calculator-error-non-square-inverse"))}function _1(){return new O(T("shared-calculator-error-non-singular-inverse"))}function F1(e){return new O(T("shared-calculator-error-clickable-object-assignment-not-defined",{symbol:e}))}function B1(e){return new O(T("shared-calculator-error-multiply-defined",{dependency:e}))}function V1(){return new O(T("shared-calculator-error-clickable-object-assignment-not-identifier"))}function G1(){return new O(T("shared-calculator-error-clickable-object-invalid-expression"))}function q1(){return new O(T("shared-calculator-error-matrix-assignment"))}function k1(){return new O(T("shared-calculator-error-matrix-add-dimensions"))}function z1(){return new O(T("shared-calculator-error-matrix-subtract-dimensions"))}function U1(){return new O(T("shared-calculator-error-matrix-multiply-dimensions"))}function H1(){return new O(T("shared-calculator-error-matrix-fractional-power"))}function $1(){return new O(T("shared-calculator-error-matrix-power-dimensions"))}function W1(e){return new O(T("shared-calculator-error-matrix-element-type-error",{arg:e[0]}))}function Y1(e){return new O(T("shared-calculator-error-matrix-invalid-variable",{symbol:q(e)}))}function Iy(e,t){return new O(T("shared-calculator-error-list-comprehension-input-type-error",{identifier:e,actual:t}))}function My(){return new O(T("shared-calculator-error-incorrect-list-comprehension-input"))}function yc(){return new O(T("shared-calculator-error-unexpected-for-keyword"))}function vy(e){return e=q(e),new O(T("shared-calculator-error-shadowed-list-comprehension-input",{symbol:e}))}function Ey(e){return e=q(e),new O(T("shared-calculator-error-bad-list-comprehension-input-dependency",{symbol:e}))}function Sy(e){let t=e.filter(r=>r.scope==="free").map(r=>r.symbol);return new O(T("shared-calculator-error-variable-length-top-level-list",{symbol:q(t[0]||"")})).setDependencies(t).allowExport()}function Aa(e){return new O(T("shared-calculator-error-variable-length-distribution-list",{symbol:e[0].symbol})).setDependencies(e.filter(t=>t.scope==="free").map(t=>t.symbol))}function Oy(e){return new O(T("shared-calculator-error-variable-length-sum-body-depends-on-index",{symbol:e}))}function Ny(e){return new O(T("shared-calculator-error-variable-length-product-body-depends-on-index",{symbol:e}))}function X1(e,t){return new O(T("shared-calculator-error-substitution-type-error",{actual:Z(e),expected:Z(t)}))}function Dy(){return new O(T("shared-calculator-error-substitution-invalid-assignments"))}function gc(e){return new O(T("shared-calculator-error-substitution-local-lhs",{symbol:e}))}function hc(e){return new O(T("shared-calculator-error-substitution-illegal-lhs",{symbol:e}))}function bc(e){return new O(T("shared-calculator-error-substitution-function-lhs",{symbol:e}))}function Ry(e){return new O(T("shared-calculator-error-substitution-body-regression-parameter-dependency",{symbol:e}))}function wy(e){let t=e.filter(r=>r.scope==="free").map(r=>r.symbol);return new O(T("shared-calculator-error-substitution-undefined-rhs",{symbol:t[0]})).setDependencies(t)}function Ly(e){return new O(T("shared-calculator-error-substitution-body-local-variable-dependency",{symbol:e}))}function J1(){return new O(T("shared-calculator-error-substitution-body-action"))}function xc(){return new O(T("shared-calculator-error-substitution-nested"))}function Ca(){return new O(T("shared-calculator-error-substitution-ambiguous-comma"))}function Ay(e){return new O(T("shared-calculator-error-substitution-duplicate-assignment",{symbol:e}))}var Pc=class extends qe{constructor(r,n,i){super();this.isFunction=!0;this._symbol=r._symbol,this._argSymbols=n.map(function(s){return s._symbol}),this._exports=[this._symbol],this._expression=i,this.mergeDependenciesInScope(this._argSymbols,this._expression)}getConcreteInvocationTree(r,n,i,s){if(i.length!==this._argSymbols.length)throw Mr(s,this._argSymbols.length,i.length);for(var o=Object.create(n),a=0;a<this._argSymbols.length;a++)o[this._argSymbols[a]]=i[a];return this._expression.getConcreteTree(r,o)}getSliderVariables(r,n){var i=this._argSymbols;return super.getSliderVariables(r,n).filter(function(s){return i.indexOf(s)===-1})}asEquation(){var r=this._argSymbols.map(function(i){return new _t(i)}),n=new Qi(new wn(new _t(this._symbol),r),this._expression);return n.userData=this.userData,n.metaData=this.metaData,n}};var Tc=class extends qe{constructor(r,n){super();this.isRegression=!0;this._lhs=r,this.isLhsSimple=r instanceof _t,this._logLhs=new wn("ln",[r]),this._rhs=n,this._difference=new Dn([r,n]),this._logDifference=new Dn([new wn("ln",[r]),new wn("ln",[n])]),this.mergeDependencies(r,n)}exportTo(r,n,i){if(!n.isError){for(var s in n.parameters)n.parameters.hasOwnProperty(s)&&(r.assignmentForbidden(s)||(i[s]=i[s]?So(s):n.parameters[s]));r.assignmentForbidden(n.residualVariable)||(i[n.residualVariable]=n.residuals)}}getSliderVariables(){return[]}};var Ic=class extends qe{constructor(r,n){super();this.isImage=!0;this.center=r.center,this.radianAngle=r.radianAngle,this.width=r.width,this.height=r.height,this.opacity=r.opacity,this.moveStrategy=n,this.mergeDependencies(this.center,this.radianAngle,this.width,this.height,this.opacity)}};var Mc=class extends qe{constructor(r){super();this.handler=r.handler,this.minStep=r.minStep,this.mergeDependencies(this.handler),this.mergeDependencies(this.minStep)}};var vc=class extends Bs{constructor(r,n){super(new _t(r._symbol),r._expression);this.isSlider=!0;this.setInputSpan(r._inputSpan),this.sliderAssignment=r,this.sliderMin=n.sliderMin,this.sliderMax=n.sliderMax,this.sliderSoftMin=n.sliderSoftMin,this.sliderSoftMax=n.sliderSoftMax,this.sliderStep=n.sliderStep,this.sliderIsPlayingOnce=n.sliderIsPlayingOnce,this.sliderMin&&this.mergeDependencies(this.sliderMin),this.sliderMax&&this.mergeDependencies(this.sliderMax),this.sliderStep&&this.mergeDependencies(this.sliderStep)}shouldPromoteToSlider(r){return!1}asAssignment(){return new Bs(this._symbol,this._expression)}};var Ec=class extends V{constructor(r){let n=new ir(r);super([n]);this._constantNode=n}asValue(){return this._constantNode.asValue()}asCompilerValue(){return this._constantNode.asCompilerValue()}};var Sc=class extends qe{constructor(r){super();this.exportPenalty=1;this.isTable=!0;this.columns=r,this._exports=[],this.mergeDependencies.apply(this,r);for(var n=0;n<r.length;n++)Array.prototype.push.apply(this._exports,r[n].getExports())}exportTo(r,n,i){for(var s=0;s<this.columns.length;s++){var o=this.columns[s].getExports();if(o.length){var a=o[0];r.assignmentForbidden(a)||i[a]||(n.isError?i[a]=n:this.columns[s].exportTo(r,n.columns[s],i))}}}getAllIds(){return this.columns.map(function(r){return r.header.userData.id})}};function j1(e){return e.isConstant?new ir(e.asCompilerValue()):new ir(NaN)}var Ys=class extends qe{constructor(r,n){super();this.header=r,this.values=n,this.isIndependent=!1,this.registerDependencies(),this._exports=this.computeExports()}registerDependencies(){this.mergeDependencies(this.header),this.mergeDependencies.apply(this,this.values)}computeExports(){return this.header instanceof _t?[this.header._symbol]:[]}_exportSymbolsTo(r,n,i){if(r.length){var s=r[0];if(n.isError)i[s]=n;else try{i[s]=new ji(n.values.map(j1))}catch(o){if(o instanceof qe)i[s]=o;else throw o}}}exportTo(r,n,i){var s=this.getLegalExports(r);this._exportSymbolsTo(s,n,i)}exportToLocal(r,n){this._exportSymbolsTo(this.getExports(),r,n)}};var Oc=class extends qe{constructor(r,n,i,s){super();this._symbol=r,this._expression=n,this.otherVariableSolutionData=i,this.mergeDependencies(n),this.branchMultiplier=s}};var Nc=class extends qe{constructor(r,n,i,s,o){super();this.parameters=r,this.residuals=n,this.statistics=i,this.model=s,this.isModelValid=o.isModelValid,this.residualVariable=o.residualVariable,this.residualSuggestionId=o.residualSuggestionId,this.shouldSuggestLogMode=o.shouldSuggestLogMode,this.isLinear=o.isLinear,this.parameterWarning=o.parameterWarning,this._exports=[this.residualVariable];for(var a in r)r.hasOwnProperty(a)&&this._exports.push(a);this.mergeDependencies(s)}getCompiledFunction(){return this.model.getCompiledFunction.apply(this.model,arguments)}getCompiledDerivative(){return this.model.getCompiledDerivative.apply(this.model,arguments)}};var Dc=class extends V{constructor(r){typeof r!="string"&&(r=""+r);super([]);this.isString=!0;this._stringValue=r}asValue(){return this._stringValue}};var Rc=class extends V{constructor(r,n){super(n);this.seed=n[0],this.userSeed=n[1],this.tag=r}asValue(){return this.seed.asValue()+"::"+this.tag+this.userSeed.asValue()}copyWithArgs(r){return new this.constructor(this.tag,r)}};function Do(e){return typeof e!="object"||!e?!1:e.type==="Action"}function ht(e,t){let r=e.getInstruction(t);switch(r.type){case 1:return Yn(r.value);default:throw new Error(`Unexpected opcode ${r.type}.`)}}function Yn(e){if(Array.isArray(e))return e.map(Yn);switch(typeof e){case"boolean":case"number":case"string":return e;case"object":if(Do(e)){let t={};for(let r in e.updateRules){let n=e.updateRules[r];t[r]={value:Yn(n.value),valueType:n.valueType}}return{type:"Action",updateRules:t}}else return F(e);default:throw new Error("Unexpected value: "+e)}}function vP(e){switch(e){case be:case I:case w:case Ge:case et:case ye:case ue:case Q:case X:case J:case ge:case xe:case le:case Se:return!0;case Jt:case Dt:case Mt:case Y:case pr:case Le:case Wt:case de:case vn:case tt:case rr:case zt:case Ct:case jt:case Zt:case Qt:case Kt:case vt:case Et:case Ir:return!1;default:let t=e;throw new Error(`Unexpected valueType: ${t}`)}}function dn(e){switch(e){case I:return NaN;case w:return[NaN,NaN];case et:return[NaN,NaN,NaN];case Ge:return{type:"Action",updateRules:{}};case ue:case ge:case J:return[[NaN,NaN],[NaN,NaN]];case Q:return[[NaN,NaN],NaN];case X:return[[NaN,NaN],[NaN,NaN],[NaN,NaN]];case be:return!1;case ye:return[];case Se:return[[NaN,NaN],[NaN,NaN],!1];case xe:case le:return[[NaN,NaN],NaN,NaN];default:let t=e;throw new Error(`${t} does not have a NaN type.`)}}function Q1(e){for(var t=0;t<this.length;t++)e(this.elementAt(t),t)}function K1(e){for(var t=[],r=0;r<this.length;r++)t.push(e(this.elementAt(r),r));return t}var Yt=class extends qe{constructor(r){super();this.eachElement=Q1;this.mapElements=K1;if(this._chunk=r,this.valueType=r.getReturnType(),this.addDependencies(r.getLiveArgNames()),this.isList=k(this.valueType),this.isList&&(this.length=this._chunk.getConstantListLength(),this.length===void 0))throw Sy(r.getListLengthDependencies());var n=r.isConstant();this.isConstant=n&&(this.valueType===I||this.valueType===be),this.isTypedConstant=n,this.isEmptyAction=n&&this.valueType===Ge&&Object.keys(r.asValue().updateRules).length===0}shouldExportAns(){return!0}getCompiledFunction(r){return this._chunk.getCompiledFunction(r)}polynomialOrder(r){return this._chunk.polynomialOrder(r,{allowRestriction:!0,allowClosedBlockReferences:!1})}getPolynomialCoefficients(r){for(var n=this._chunk.getPolynomialCoefficients(r),i=n.chunk,s=n.coefficients,o=[],a=0;a<s.length;a++){var u=i.copy();u.setReturnIndex(s[a]),u.close(),o.push(new Yt(u))}return o}takeDerivative(r){var n=this._chunk.copy().takeDerivative(r).close();return new Yt(n)}interpretWithParameters(r){let n,i=this._chunk.argNames;if(r.length===i.length)n=r;else{n=[];let s=this.getDependencies();for(let o=0,a=0;o<i.length;o++)s[a]===i[o]?(n.push(r[a]),a+=1):n.push(void 0)}return this._chunk.interpretWithParameters(n)}substituteConstantArguments(r){return new Yt(this._chunk.substituteConstantArguments(r))}boundDomain(r){return this._chunk.boundDomain(r)}asValue(){if(this._chunk.isConstant())return this._chunk.asValue();if(this.isList){for(var r=[],n=Yn(dn(ot(this.valueType))),i=0;i<this.length;i++)r.push(n);return r}else return Yn(dn(this.valueType))}asTypedValue(){return{valueType:this.valueType,value:this.asValue()}}asCompilerValue(){return this._chunk.asCompilerValue()}isNaN(){return typeof this.asValue()=="number"&&isNaN(this.asValue())}getEvaluationInfo(){return this._chunk.isConstant()&&this.getDependencies().length===0&&(pe(this.valueType,I)||pe(this.valueType,be))?[{val:this.asValue()}]:!1}findLinearSubset(r){return this._chunk.findLinearSubset(r)}deriveRegressionRestrictions(){var r=this._chunk.deriveRegressionRestrictions();return r===this._chunk?this:new Yt(r)}};var wc=class extends V{};var Lc=class extends V{};var Ac=class extends V{};var Ro=class extends V{};var Cc=class extends V{};var _c=class extends V{isInequality(){return this.args[0].isInequality()&&this.args[1].isInequality()}};var Fc=class extends V{};var Bc=class extends Ro{};function $(e,t){return e=Xb(e),e.prototype.type=t,e}var b={Base:$(qe,"Base"),Expression:$(V,"Expression"),Error:$(O,"Error"),Constant:$(ir,"Constant"),MixedNumber:$(Uu,"MixedNumber"),Identifier:$(_t,"Identifier"),Ans:$(pl,"Ans"),List:$(ji,"List"),Range:$(fl,"Range"),ListAccess:$(dl,"ListAccess"),DotAccess:$(ml,"DotAccess"),Construction:$(yl,"Construction"),ParenSeq:$(Io,"ParenSeq"),MovablePoint:$(gl,"MovablePoint"),OrderedPairAccess:$(hl,"OrderedPairAccess"),BareSeq:$(bl,"BareSeq"),BaseComparator:$(Rn,"BaseComparator"),DoubleInequality:$(Pl,"DoubleInequality"),RepeatedOperator:$(Zi,"RepeatedOperator"),Sum:$(Tl,"Sum"),Product:$(Il,"Product"),Integral:$(Ml,"Integral"),AssignmentExpression:$(vl,"AssignmentExpression"),ListComprehension:$(El,"ListComprehension"),FunctionCall:$(wn,"FunctionCall"),SeededFunctionCall:$(Sl,"SeededFunctionCall"),FunctionExponent:$(Ol,"FunctionExponent"),FunctionFactorial:$(Nl,"FunctionFactorial"),Prime:$(Dl,"Prime"),Piecewise:$(Fs,"Piecewise"),Derivative:$(Rl,"Derivative"),UpdateRule:$(wl,"UpdateRule"),Substitution:$(Ll,"Substitution"),Histogram:$(Al,"Histogram"),Object3D:$(Cl,"Object3D"),DotPlot:$(_l,"DotPlot"),BoxPlot:$(Fl,"BoxPlot"),TTest:$(Bl,"TTest"),IndependentTTest:$(Vl,"IndependentTTest"),Stats:$(Gl,"Stats"),Assignment:$(Bs,"Assignment"),FunctionDefinition:$(Pc,"FunctionDefinition"),Equation:$(Qi,"Equation"),Regression:$(Tc,"Regression"),Image:$(Ic,"Image"),Ticker:$(Mc,"Ticker"),Slider:$(vc,"Slider"),RegressionParameter:$(Ec,"RegressionParameter"),Table:$(Sc,"Table"),TableColumn:$(Ys,"TableColumn"),SolvedEquation:$(Oc,"SolvedEquation"),OptimizedRegression:$(Nc,"OptimizedRegression"),Seed:$(Dc,"Seed"),ExtendSeed:$(Rc,"ExtendSeed"),IRExpression:$(Yt,"IRExpression"),Add:$(wc,"Add"),Subtract:$(Dn,"Subtract"),Multiply:$(Lc,"Multiply"),Divide:$(Ac,"Divide"),Exponent:$(Ro,"Exponent"),Negative:$(Cc,"Negative"),And:$(_c,"And"),PercentOf:$(Fc,"PercentOf"),RawExponent:$(Bc,"RawExponent"),Comparator:{"<":$(di["<"],"Comparator[\'<\']"),">":$(di[">"],"Comparator[\'>\']"),"<=":$(di["<="],"Comparator[\'<=\']"),">=":$(di[">="],"Comparator[\'>=\']"),"=":$(di["="],"Comparator[\'=\']")}};function Cy(e,t){let r=Math.round(1e6*e)/1e6;return Math.abs(r-e)<t?r:e}function _V(e){let t=!0,r=!0,n=!0;return e.hardMin!==void 0&&e.target<e.hardMin&&(t=!1),e.hardMax!==void 0&&e.target>e.hardMax&&(r=!1),e.step&&Vc({target:e.target,step:e.step,hardMin:t?e.hardMin:void 0,hardMax:r?e.hardMax:void 0})!==e.target&&(n=!1),{min:t,max:r,step:n}}function Vc(e){let{target:t,hardMin:r,hardMax:n,step:i}=e,s=1e-10;if(r!==void 0&&n!==void 0&&(s=Math.min(s,Math.abs(n-r)/1e3)),i&&(s=Math.min(s,i/10)),r!==void 0&&(r=Cy(r,s)),n!==void 0&&(n=Cy(n,s)),e.forceSliderToMax&&n!==void 0&&(t=n),r>n||t<=r)return r;if(t>=n)return n;if(i){let u=r!==void 0?r:0;var o=Math.round((t-u)/i);t=i*o+u}let a=Cy(t,s);return(i||r===a||n===a)&&(t=a),t<=r?r:t>=n?n:t}function EP(e){let{storedMax:t,sliderValue:r,hardMin:n,step:i}=e,s=10;if(t>s&&(s=t),r>s&&(s=r),n>s&&(s=n),i){let o=Vc({target:s,hardMin:n,hardMax:void 0,step:i});o>=s?s=o:s=o+i}return s}var Fy=b.Constant,tS=b.Identifier;b.Base.prototype.tryGetConcreteTree=function(e,t){var r;try{r=this.getConcreteTree(e,t)}catch(n){n instanceof b.Base?r=n:r=Te()}return r};b.Base.prototype.getConcreteTree=function(e,t){var r=this.buildIRExpression(e,t);if(r.isError)throw r;return r};b.DoubleInequality.prototype.getConcreteTree=function(e,t){return new this.constructor([new b.Piecewise([this._indicator,this._expressions[0],new Fy(NaN)]).getConcreteTree(e,t),this._operators[0],new tS(this._symbol),this._operators[1],new b.Piecewise([this._indicator,this._expressions[1],new Fy(NaN)]).getConcreteTree(e,t)])};b.Error.prototype.getConcreteTree=function(e,t){return this};function _a(e,t){return e.isError?e:t.indexOf(e.valueType)===-1?Te():e}b.Image.prototype.getConcreteTree=function(e,t){var r=this.center.tryGetConcreteTree(e,t),n=this.radianAngle.tryGetConcreteTree(e,t),i=this.width.tryGetConcreteTree(e,t),s=this.height.tryGetConcreteTree(e,t),o=this.opacity.tryGetConcreteTree(e,t),a=[w,Le,de],u=[I,Y,de];return r=_a(r,a),n=_a(n,u),i=_a(i,u),s=_a(s,u),o=_a(o,u),new b.Image({center:r,radianAngle:n,width:i,height:s,opacity:o},this.moveStrategy)};b.Ticker.prototype.getConcreteTree=function(e,t){var r=this.handler.tryGetConcreteTree(e,t);!r.isError&&r.valueType!==Ge&&(r=ba(Z(r.valueType)));var n=r.getDependencies().filter(function(i){return!e.validActionVariable(i)});return n.length&&(r=Tt(e.sliderVariables(n)).setDependencies(n)),new b.Ticker({handler:r,minStep:this.minStep.tryGetConcreteTree(e,t)})};function _y(e,t,r){if(!t){r.valids[e]=!0;return}var n=t.getDependencies();if(t.isError)r.errors[e]=!0;else if(n.length>0){r.errors[e]=!0;for(var i=0;i<n.length;i++)n[i]===r.exportedSymbol?r.errors.cycle=!0:r.missingVars.push(n[i])}else r.values[e]=+t.asValue();r.valids[e]=isFinite(r.values[e]),r.valids[e]||(r.values[e]=void 0)}function Gc(e){return e&&e.valueType===Y&&e.length===1&&e.args?e.args[0]:e}b.Slider.prototype.getConcreteTree=function(e,t){var r=this._expression.getConcreteTree(e,t),n=Gc(this.sliderMin&&this.sliderMin.tryGetConcreteTree(e,t)),i=Gc(this.sliderMax&&this.sliderMax.tryGetConcreteTree(e,t)),s=Gc(this.sliderStep&&this.sliderStep.tryGetConcreteTree(e,t)),o={exportedSymbol:this._symbol,errors:{},values:{},valids:{},missingVars:[],errMsg:void 0};if(_y("min",n,o),_y("max",i,o),_y("step",s,o),s&&o.valids.step&&(o.values.step===0?delete o.values.step:o.values.step=Math.abs(o.values.step)),o.errors.cycle?r=Lm(o.exportedSymbol):(o.errors.min||!o.valids.min?o.errMsg=Am():o.errors.max||!o.valids.max?o.errMsg=Cm():(o.errors.step||!o.valids.step)&&(o.errMsg=Fm()),o.values.min>o.values.max&&(o.valids.min=!1,o.valids.max=!1,o.errMsg||(o.errMsg=_m()))),r.isConstant){var a=t.initialEvaluation&&t.initialEvaluation.asValue(),u=a&&this.sliderIsPlayingOnce,l=o.values.max,c=+r.asValue(),p=o.values.min,f=o.values.step;if(u&&!isFinite(l)){var m=Gc(this.sliderSoftMax&&this.sliderSoftMax.tryGetConcreteTree(e,t));m&&(l=EP({storedMax:+m.asValue(),sliderValue:c,step:f,hardMin:p}))}var d=Vc({target:c,hardMin:p,hardMax:l,step:f,forceSliderToMax:!!u}),y=Ds(d.toString()),g=isFinite(F(y))?y:d;r=new Fy(g).getConcreteTree(e,t)}return r.sliderInfo=o,r};function SP(e,t){if(!t[this._symbol])throw fn(this._symbol);var r=this.args.map(function(i){return i.getConcreteTree(e,t)});if(r.length>0){if(r.length===1&&r.push(new b.Constant(1).getConcreteTree(e,t)),r[1].getDependencies().length)throw Na(this._symbol).setDependencies(r[1].getDependencies());if(r[1].valueType!==I)throw Na(this._symbol);var n=r[1].asValue();if(!isFinite(n)||n<=0)throw Na(this._symbol)}return this.typeCheck(e,r),new this.constructor(r)}b.Histogram.prototype.getConcreteTree=SP;b.DotPlot.prototype.getConcreteTree=SP;b.BoxPlot.prototype.getConcreteTree=function(e,t){if(!t[this._symbol])throw fn(this._symbol);var r=this.args.map(function(n){return n.getConcreteTree(e,t)});return this.typeCheck(e,r),r.length===1&&(r[0].valueType===Y||r[0].valueType===de)?new this.constructor(r):Te()};function By(e,t){if(!t[this._symbol])throw fn(this._symbol);var r=this.args.map(function(n){return n.getConcreteTree(e,t)});return this.typeCheck(e,r),new this.constructor(r)}b.TTest.prototype.getConcreteTree=By;b.IndependentTTest.prototype.getConcreteTree=By;b.Stats.prototype.getConcreteTree=By;b.Table.prototype.getConcreteTree=function(e,t){for(var r=[],n=Object.create(t),i=0;i<this.columns.length;i++){var s=this.columns[i].getConcreteTree(e,n);s.isIndependent&&this.columns[i].exportToLocal(s,n),r.push(s)}return new this.constructor(r)};b.TableColumn.prototype.getConcreteTree=function(e,t){var u;var r=this.header.getConcreteTree(e,t),n,i,s=this.header instanceof b.Identifier&&!t[this.header._symbol];if(s){n=[];for(var o=0;o<this.values.length;o++){if(this.values[o].tableError()){n.push(Oo(this.values[o].tableError()));continue}var a=this.values[o].tryGetConcreteTree(e,t);a.isError?n.push(a):a.tableError()?n.push(Oo(a.tableError())):a.valueType===I?n.push(a):n.push(_d([Z(a.valueType)]))}return i=new this.constructor(r,n),i.isIndependent=!0,i}else return r.isList?n=r.mapElements(function(l){return l}):n=[],!r.isError&&r.valueType!==I&&r.valueType!==Y&&r.valueType!==de&&(r=Cd([Z((u=r.valueType)!=null?u:Jt)])),i=new this.constructor(r,n),i};function Fa(e,t,r){return{symbolMap:e,symbolNodeMap:t,maxIndex:r}}function wo(e,t){return e.symbolMap[t]}function OP(e,t){return e.symbolNodeMap[t]}function en(e,t,r,n){e.symbolNodeMap[t]=n,e.symbolMap[t]=r,e.maxIndex=Math.max(e.maxIndex,r)}function mi(e){return Fa(Object.create(e.symbolMap),Object.create(e.symbolNodeMap),e.maxIndex)}var Jn={};an(Jn,{acosh:()=>Cu,acot:()=>LS,acoth:()=>qS,acsc:()=>AS,acsch:()=>GS,addTangentArc:()=>YO,addTangentCircle:()=>WO,addTangentLine:()=>HO,addTangentRay:()=>$O,addTangentSegment:()=>hg,arc:()=>AO,arcArcIntersection:()=>eN,arcCenter:()=>Go,arcCircleIntersection:()=>KO,arcGlider:()=>FT,arcLineIntersection:()=>kT,arcOmega:()=>qo,argMax:()=>fO,argMin:()=>pO,asec:()=>CS,asech:()=>VS,asinh:()=>_u,atanh:()=>Fu,bernoulliTable:()=>cT,binomSample:()=>QS,binomcdf:()=>eO,binompdf:()=>ip,center:()=>wO,chooseNonIncidentPoint:()=>jO,circle:()=>RO,circleArcIntersection:()=>QO,circleCircleIntersection:()=>Xa,circleGlider:()=>XO,circleLineIntersection:()=>VT,clamp:()=>zr,common_log:()=>OS,composeTransformation:()=>dN,corr:()=>op,cos:()=>gT,cosh:()=>Ss,cot:()=>wS,cotDerivative:()=>pT,coth:()=>BS,cov:()=>mO,covp:()=>RT,csc:()=>RS,csch:()=>FS,dilation:()=>cN,directedAngleMarker:()=>CT,directedAngleMarkerMeasure:()=>_O,directedCoterminalAngle:()=>_T,distance:()=>ja,elementsAt:()=>vN,erf:()=>nO,erfcx:()=>Fi,expm1:()=>Bu,factorial:()=>js,gamma:()=>Ya,gcd:()=>tg,getArcDetails:()=>ap,hsv:()=>bO,hypot:()=>ii,identity:()=>DO,invBinom:()=>TT,invNorm:()=>ag,invPoisson:()=>PT,invT:()=>IT,invUniform:()=>sO,invertTransformation:()=>mN,isDegenerateArc:()=>yg,itscore:()=>vT,ittest:()=>lg,lcm:()=>aT,line:()=>OO,lineArcIntersection:()=>qT,lineCircleIntersection:()=>Pg,lineGlider:()=>bg,lineLineIntersection:()=>GT,listGCD:()=>IS,listLCM:()=>MS,listLength:()=>oO,listMax:()=>ST,listMin:()=>ET,lnGamma:()=>ES,log:()=>SS,log1p:()=>ni,log_base:()=>dT,lowerQuantileIndex:()=>uO,lowerQuartileIndex:()=>cO,mad:()=>dO,md5Spyable:()=>iT,mean:()=>bi,median:()=>NT,mod:()=>oT,nCr:()=>rs,nPr:()=>jc,normalSample:()=>jS,normalcdf:()=>XS,normalpdf:()=>ng,nthroot:()=>NS,parallel:()=>iN,perpendicular:()=>sN,pointDet:()=>HT,pointDot:()=>oN,pointPerp:()=>aN,poissonSample:()=>KS,poissoncdf:()=>tO,poissonpdf:()=>Fo,polyGamma:()=>fT,polygon:()=>xO,polygonArea:()=>dg,polygonEdges:()=>TO,polygonGlider:()=>JO,polygonInteriorDirectedAngles:()=>SO,polygonInteriorUndirectedAngles:()=>EO,polygonPerimeter:()=>IO,pow:()=>sT,quad:()=>hO,quantile:()=>OT,quartile:()=>Zs,quartileIndex:()=>sp,radius:()=>LO,random:()=>ig,randomPerm:()=>sg,rank:()=>Qy,ray:()=>NO,rayGlider:()=>Ky,reflection:()=>fN,rgb:()=>wT,rotation:()=>pN,scaleTangentArc:()=>UO,scaleTangentCircle:()=>zO,scaleTangentLine:()=>qO,scaleTangentRay:()=>kO,scaleTangentSegment:()=>gg,sec:()=>DS,sech:()=>_S,segment:()=>mg,segmentGlider:()=>xg,select:()=>MN,shuffle:()=>JS,sign:()=>aa,sin:()=>yT,sinh:()=>go,sortPerm:()=>Qs,spearman:()=>yO,sqrtxsqm1:()=>hf,sqrtxsqp1:()=>gf,stats:()=>cg,stdev:()=>Zc,stdevp:()=>gO,supplementAngle:()=>VO,tSample:()=>ZS,tan:()=>hT,tanh:()=>Au,tcdf:()=>Xc,toFraction:()=>TS,total:()=>kS,tpdf:()=>np,transformAngleMarker:()=>IN,transformArc:()=>PN,transformCircle:()=>xN,transformLine:()=>hN,transformPoint:()=>hi,transformPolygon:()=>TN,transformRay:()=>bN,transformSegment:()=>Mg,transformation:()=>uN,translation:()=>lN,tscore:()=>MT,ttest:()=>ug,undirectedAngleMarker:()=>CO,undirectedAngleMarkerMeasure:()=>FO,undirectedCoterminalAngle:()=>BO,uniformSample:()=>ns,uniformcdf:()=>rO,uniformpdf:()=>og,uniquePerm:()=>EN,upperQuantileIndex:()=>aO,upperQuartileIndex:()=>lO,validateRangeLength:()=>pg,validateSampleCount:()=>fg,variance:()=>DT,varp:()=>Ja,vertices:()=>PO});var DP=function(){"use strict";function e(y,g){var h=(y&65535)+(g&65535),x=(y>>16)+(g>>16)+(h>>16);return x<<16|h&65535}function t(y,g){return y<<g|y>>>32-g}function r(y,g,h,x,P,D){return e(t(e(e(g,y),e(x,D)),P),h)}function n(y,g,h,x,P,D,M){return r(g&h|~g&x,y,g,P,D,M)}function i(y,g,h,x,P,D,M){return r(g&x|h&~x,y,g,P,D,M)}function s(y,g,h,x,P,D,M){return r(g^h^x,y,g,P,D,M)}function o(y,g,h,x,P,D,M){return r(h^(g|~x),y,g,P,D,M)}function a(y,g){y[g>>5]|=128<<g%32,y[(g+64>>>9<<4)+14]=g;var h,x,P,D,M,E=1732584193,S=-271733879,v=-1732584194,N=271733878;for(h=0;h<y.length;h+=16)x=E,P=S,D=v,M=N,E=n(E,S,v,N,y[h],7,-680876936),N=n(N,E,S,v,y[h+1],12,-389564586),v=n(v,N,E,S,y[h+2],17,606105819),S=n(S,v,N,E,y[h+3],22,-1044525330),E=n(E,S,v,N,y[h+4],7,-176418897),N=n(N,E,S,v,y[h+5],12,1200080426),v=n(v,N,E,S,y[h+6],17,-1473231341),S=n(S,v,N,E,y[h+7],22,-45705983),E=n(E,S,v,N,y[h+8],7,1770035416),N=n(N,E,S,v,y[h+9],12,-1958414417),v=n(v,N,E,S,y[h+10],17,-42063),S=n(S,v,N,E,y[h+11],22,-1990404162),E=n(E,S,v,N,y[h+12],7,1804603682),N=n(N,E,S,v,y[h+13],12,-40341101),v=n(v,N,E,S,y[h+14],17,-1502002290),S=n(S,v,N,E,y[h+15],22,1236535329),E=i(E,S,v,N,y[h+1],5,-165796510),N=i(N,E,S,v,y[h+6],9,-1069501632),v=i(v,N,E,S,y[h+11],14,643717713),S=i(S,v,N,E,y[h],20,-373897302),E=i(E,S,v,N,y[h+5],5,-701558691),N=i(N,E,S,v,y[h+10],9,38016083),v=i(v,N,E,S,y[h+15],14,-660478335),S=i(S,v,N,E,y[h+4],20,-405537848),E=i(E,S,v,N,y[h+9],5,568446438),N=i(N,E,S,v,y[h+14],9,-1019803690),v=i(v,N,E,S,y[h+3],14,-187363961),S=i(S,v,N,E,y[h+8],20,1163531501),E=i(E,S,v,N,y[h+13],5,-1444681467),N=i(N,E,S,v,y[h+2],9,-51403784),v=i(v,N,E,S,y[h+7],14,1735328473),S=i(S,v,N,E,y[h+12],20,-1926607734),E=s(E,S,v,N,y[h+5],4,-378558),N=s(N,E,S,v,y[h+8],11,-2022574463),v=s(v,N,E,S,y[h+11],16,1839030562),S=s(S,v,N,E,y[h+14],23,-35309556),E=s(E,S,v,N,y[h+1],4,-1530992060),N=s(N,E,S,v,y[h+4],11,1272893353),v=s(v,N,E,S,y[h+7],16,-155497632),S=s(S,v,N,E,y[h+10],23,-1094730640),E=s(E,S,v,N,y[h+13],4,681279174),N=s(N,E,S,v,y[h],11,-358537222),v=s(v,N,E,S,y[h+3],16,-722521979),S=s(S,v,N,E,y[h+6],23,76029189),E=s(E,S,v,N,y[h+9],4,-640364487),N=s(N,E,S,v,y[h+12],11,-421815835),v=s(v,N,E,S,y[h+15],16,530742520),S=s(S,v,N,E,y[h+2],23,-995338651),E=o(E,S,v,N,y[h],6,-198630844),N=o(N,E,S,v,y[h+7],10,1126891415),v=o(v,N,E,S,y[h+14],15,-1416354905),S=o(S,v,N,E,y[h+5],21,-57434055),E=o(E,S,v,N,y[h+12],6,1700485571),N=o(N,E,S,v,y[h+3],10,-1894986606),v=o(v,N,E,S,y[h+10],15,-1051523),S=o(S,v,N,E,y[h+1],21,-2054922799),E=o(E,S,v,N,y[h+8],6,1873313359),N=o(N,E,S,v,y[h+15],10,-30611744),v=o(v,N,E,S,y[h+6],15,-1560198380),S=o(S,v,N,E,y[h+13],21,1309151649),E=o(E,S,v,N,y[h+4],6,-145523070),N=o(N,E,S,v,y[h+11],10,-1120210379),v=o(v,N,E,S,y[h+2],15,718787259),S=o(S,v,N,E,y[h+9],21,-343485551),E=e(E,x),S=e(S,P),v=e(v,D),N=e(N,M);return[E,S,v,N]}function u(y){var g,h="",x=y.length*32;for(g=0;g<x;g+=8)h+=String.fromCharCode(y[g>>5]>>>g%32&255);return h}function l(y){var g,h=[];for(h[(y.length>>2)-1]=void 0,g=0;g<h.length;g+=1)h[g]=0;var x=y.length*8;for(g=0;g<x;g+=8)h[g>>5]|=(y.charCodeAt(g/8)&255)<<g%32;return h}function c(y){return u(a(l(y),y.length*8))}function p(y){var g="0123456789abcdef",h="",x,P;for(P=0;P<y.length;P+=1)x=y.charCodeAt(P),h+=g.charAt(x>>>4&15)+g.charAt(x&15);return h}function f(y){return unescape(encodeURIComponent(y))}function m(y){return c(f(y))}function d(y){return p(m(y))}return d}();var Hc={};an(Hc,{color:()=>zc,hsl:()=>Uc,rgb:()=>Xs});function qy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function BP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ga(){}var Ba=.7,kc=1/Ba,Lo="\\\\s*([+-]?\\\\d+)\\\\s*",Va="\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*",gi="\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*",rS=/^#([0-9a-f]{3,8})$/,nS=new RegExp("^rgb\\\\("+[Lo,Lo,Lo]+"\\\\)$"),iS=new RegExp("^rgb\\\\("+[gi,gi,gi]+"\\\\)$"),sS=new RegExp("^rgba\\\\("+[Lo,Lo,Lo,Va]+"\\\\)$"),oS=new RegExp("^rgba\\\\("+[gi,gi,gi,Va]+"\\\\)$"),aS=new RegExp("^hsl\\\\("+[Va,gi,gi]+"\\\\)$"),uS=new RegExp("^hsla\\\\("+[Va,gi,gi,Va]+"\\\\)$"),RP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qy(Ga,zc,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:wP,formatHex:wP,formatHsl:lS,formatRgb:LP,toString:LP});function wP(){return this.rgb().formatHex()}function lS(){return VP(this).formatHsl()}function LP(){return this.rgb().formatRgb()}function zc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=rS.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?AP(t):r===3?new mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?qc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?qc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nS.exec(e))?new mn(t[1],t[2],t[3],1):(t=iS.exec(e))?new mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sS.exec(e))?qc(t[1],t[2],t[3],t[4]):(t=oS.exec(e))?qc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aS.exec(e))?FP(t[1],t[2]/100,t[3]/100,1):(t=uS.exec(e))?FP(t[1],t[2]/100,t[3]/100,t[4]):RP.hasOwnProperty(e)?AP(RP[e]):e==="transparent"?new mn(NaN,NaN,NaN,0):null}function AP(e){return new mn(e>>16&255,e>>8&255,e&255,1)}function qc(e,t,r,n){return n<=0&&(e=t=r=NaN),new mn(e,t,r,n)}function cS(e){return e instanceof Ga||(e=zc(e)),e?(e=e.rgb(),new mn(e.r,e.g,e.b,e.opacity)):new mn}function Xs(e,t,r,n){return arguments.length===1?cS(e):new mn(e,t,r,n==null?1:n)}function mn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}qy(mn,Xs,BP(Ga,{brighter:function(e){return e=e==null?kc:Math.pow(kc,e),new mn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Ba:Math.pow(Ba,e),new mn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CP,formatHex:CP,formatRgb:_P,toString:_P}));function CP(){return"#"+Vy(this.r)+Vy(this.g)+Vy(this.b)}function _P(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Vy(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function FP(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new yi(e,t,r,n)}function VP(e){if(e instanceof yi)return new yi(e.h,e.s,e.l,e.opacity);if(e instanceof Ga||(e=zc(e)),!e)return new yi;if(e instanceof yi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,a=s-i,u=(s+i)/2;return a?(t===s?o=(r-n)/a+(r<n)*6:r===s?o=(n-t)/a+2:o=(t-r)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new yi(o,a,u,e.opacity)}function Uc(e,t,r,n){return arguments.length===1?VP(e):new yi(e,t,r,n==null?1:n)}function yi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}qy(yi,Uc,BP(Ga,{brighter:function(e){return e=e==null?kc:Math.pow(kc,e),new yi(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Ba:Math.pow(Ba,e),new yi(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new mn(Gy(e>=240?e-240:e+120,i,n),Gy(e,i,n),Gy(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Gy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function hn(e,t){let r;e>t&&(r=e,e=t,t=r);let n=e>0,i=t>0,s=Math.abs(e)>.01,o=Math.abs(t)>.01;if(s||o)return Li(e,t);if(e===0)return t*Math.abs(t);if(t===0)return e*Math.abs(e);if(n!==i)return 0;let a=n?Math.sqrt(e*t):-Math.sqrt(e*t);return a>=e&&t>=a?a:Li(e,t)}function Hy(e,t,r,n,i){if(!(isNaN(t)||isNaN(n)||t<0==n<0))for(;;){let s=hn(e,r),o=i(s);if(!isFinite(o))return;if(s===e||s===r)return Math.abs(t)<=Math.abs(n)?[e,t]:[r,n];if(o===0)return qa(e,t,s,o,r,n,i);t<0!=o<0?(r=s,n=o):(e=s,t=o)}}function HP(e,t,r,n,i){if(!(ky(t)||ky(n))&&zy(t,n))for(;;){let s=hn(e,r),o=i(s);if(ky(o))return;if(s===e||s===r)return s;if(zy(t,o))r=s,n=o;else if(zy(o,n))e=s,t=o;else return}}function ky(e){for(let t of e)if(isNaN(t))return!0;return!1}function zy(e,t){for(let r=0;r<e.length;r++)if(!pS(e[r],t[r]))return!1;return!0}function pS(e,t){return e<=0&&t>=0||e>=0&&t<=0}function qa(e,t,r,n,i,s,o){let a;if(!isFinite(n))return;isFinite(t)||(a=yn(e,t,r,n,o),a!==void 0&&(e=a,t=o(e))),isFinite(s)||(a=yn(r,n,i,s,o),a!==void 0&&(i=a,s=o(a)));let u,l;t===n?u=[e,t]:u=GP(e,t,r,n,o,n),s===n?l=[i,s]:l=GP(r,n,i,s,o,n);let c;return u&&l&&(c=hn(u[0],l[0])),c!==void 0?[c,o(c)]:void 0}function yn(e,t,r,n,i){if(isFinite(t)!==isFinite(n))for(;;){let s=hn(e,r),o=i(s);if(s===e||s===r)return isFinite(t)?e:r;isFinite(o)!==isFinite(t)?(r=s,n=o):(e=s,t=o)}}function GP(e,t,r,n,i,s){if(t===s!=(n===s))for(;;){let o=hn(e,r),a=i(o);if(o===e||o===r)return t===s?[e,t]:[r,n];a===s!=(t===s)?(r=o,n=a):(e=o,t=a)}}function $P(e,t,r,n,i,s,o){if(e<r&&r<i&&isFinite(t)&&isFinite(n)&&isFinite(s)&&t!==n&&n!==s&&n>t==n>s)for(;;){let a=hn(e,r),u=o(a),l=hn(r,i),c=o(l);if(!isFinite(u)||!isFinite(c))return;if(a===e||a===r||l===r||l===i)return u>n==n>t?[a,u]:c>n==n>t?[l,c]:[r,n];if(u===n||c===n)return qa(e,t,r,n,i,s,o);n>t&&u>t&&u>n||n<t&&u<t&&u<n?(i=r,s=n,r=a,n=u):n>t&&c>n&&c>s||n<t&&c<n&&c<s?(e=r,t=n,r=l,n=c):(e=a,t=u,i=l,s=c)}}function gn([e,t],[r,n]){return(r-e)*(r-e)+(n-t)*(n-t)}function qP(e,t,r,n,i,s){let o=s(e),a=s(t),u=s(r),l=gn(o,n),c=gn(a,n),p=gn(u,n);if(!(t<=e||r<=t)&&!(!isFinite(l)||!isFinite(c)||!isFinite(p))&&!(c>=l||c>=p))for(;;){if(Math.abs(u[0]-o[0])<i&&Math.abs(u[1]-o[1])<i)return[e,r];let f=hn(e,t),m=s(f),d=gn(m,n),y=hn(t,r),g=s(y),h=gn(g,n);if(!isFinite(d)||!isFinite(h))return;if(f===e||f===t||y===t||y===r)return d<c&&d<h?[f,f]:h<d&&h<c?[y,y]:[t,t];if((d===c||h===c)&&(t=.5*(f+t),a=s(t),c=gn(a,n),d===c||h===c))return[e,r];d<c&&d<h?([r,t]=[t,f],[u,a]=[a,m],[p,c]=[c,d]):h<d&&h<c?([e,t]=[t,y],[o,a]=[a,g],[l,c]=[c,h]):([e,r]=[f,y],[o,u]=[m,g],[l,p]=[d,h])}}function kP(e,t,r){return t===void 0&&(t=-1/0),r===void 0&&(r=1/0),Math.min(r,Math.max(t,e))}function Uy(e,t,r,n,i,s){let o;if(n!==void 0&&i!==void 0){let p=.5*(n+i);o=r+.01*(r<p?i-n:n-i)}else o=Math.abs(r)>1?r*1.00001:r+1e-5;let a=e(r),u=e(o),l=gn(a,t),c=gn(u,t);if(!(!isFinite(l)||!isFinite(c))){if(l===c)return[r,o];for(c>l&&([r,o]=[o,r],[a,u]=[u,a],[l,c]=[c,l]);isFinite(r)&&isFinite(o)&&r!==o;){if(i!==void 0&&o>i)return[i,i];if(n!==void 0&&o<n)return[n,n];let p=r+3*(o-r),f=e(p),m=gn(f,t);if(!isFinite(m))return[r,o];if(m===c)return[r,o];if(m>c){let d=o>r?qP(r,o,p,t,s,e):qP(p,o,r,t,s,e);return d&&[kP(d[0],n,i),kP(d[1],n,i)]}[r,l,o,c]=[o,c,p,m]}return[r,o]}}function zP(e,t,r,n){return r?n?Math.min(gn(e(n[0]),t),gn(e(n[1]),t))<Math.min(gn(e(r[0]),t),gn(e(r[1]),t)):!1:!0}function VV(e,t,r,n,i,s){let o=Uy(e,t,r,n,i,s);if(n!==void 0){let a=Uy(e,t,n,n,i,s);zP(e,t,o,a)&&(o=a)}if(i!==void 0){let a=Uy(e,t,i,n,i,s);zP(e,t,o,a)&&(o=a)}return o}function UP(e,t,r,n,i,s,o,a){let u=Math.abs(n-t),l=Math.abs(s-n),c=Math.abs(a-s);return u>l&&u>c?[e,r]:c>l&&c>u?[i,o]:[r,i]}function Ao(e,t,r,n,i,s,o,a=0){if(!((r-e)*(i-r)<=0)&&!(!isFinite(e)||!isFinite(r)||!isFinite(i))&&!(!isFinite(t)||!isFinite(s))){if(!isFinite(n)){let u=yn(e,t,r,n,o),l=yn(r,n,i,s,o);return u===void 0||l===void 0?void 0:[u,l]}if(!(Math.abs(n-((i-r)*t+(r-e)*s)/(i-e))<a))for(;;){let u=hn(e,r),l=o(u),c=hn(r,i),p=o(c),f=Math.abs(l-Li(t,n)),m=Math.abs(n-Li(l,p)),d=Math.abs(p-Li(n,s));if(f<=a&&m<=a&&d<=a)return;if(!isFinite(l)){let y=yn(e,t,u,l,o),g=yn(u,l,i,s,o);return y===void 0||g===void 0?void 0:[y,g]}if(!isFinite(p)){let y=yn(e,t,c,p,o),g=yn(c,p,i,s,o);return y===void 0||g===void 0?void 0:[y,g]}if((u===e||u===r)&&(c===r||c===i))return Math.abs(n-t)>Math.abs(s-n)?[e,r]:[r,i];if(u===e||u===r)return UP(e,t,r,n,c,p,i,s);if(c===r||c===i)return UP(e,t,u,l,r,n,i,s);f>d&&f>=m?(i=r,s=n,r=u,n=l):d>f&&d>=m?(e=r,t=n,r=c,n=p):(e=u,t=l,i=c,s=p)}}}var dS=Ao,$c=yn,mS=3.154019550531224,WP=Math.pow(2,-13),es=WP*WP,YP=es*es,$y=es,Yy=32,Xn=[],ts=[];function yS(e,t){for(var r=Yy;r>0;r--){var n=mS/Yy*r,i=go(n),s=Ss(Math.PI/2*i),o=1/(Math.exp(Math.PI/2*i)*s),a=Ss(n)/(s*s);e.push(o),t.push(a)}}yS(Xn,ts);var jP=0;for(Wc=0;Wc<ts.length;Wc++)jP+=ts[Wc];var Wc,Yc=1/(1+2*jP);function Cr(e,t,r){return .5*(t*(2-r)+e*r)}function gS(e,t,r){var n=.5*(t+r),i=dS(t,e(t),n,e(n),r,e(r),e);return i?.5*(i[0]+i[1]):n}function ka(e,t,r,n,i){return{x1:e,x2:t,value:r,error:n,minerror:i}}function XP(e,t,r){var n=Math.abs(e(Cr(t,r,es))),i=Math.abs(e(Cr(t,r,2*es))),s=Math.abs(e(Cr(t,r,4*es)));return n<es||i<es?!1:n>1.95*i&&i>1.95*s}function Wy(e,t,r){var n=Cr(r,t,Xn[0]),i=Cr(t,r,Xn[0]),s=e(n),o=e(i),a=Cr(t,r,1),u=e(a),l,c;if(isFinite(u)&&!isFinite(s)){if(l=$c(n,s,a,u,e),Math.abs((l-t)/(r-t))>$y)return ka(t,r,NaN,NaN,NaN);t=l,s=e(t)}if(isFinite(u)&&!isFinite(o)){if(c=$c(a,u,i,o,e),Math.abs((c-r)/(r-t))>$y)return ka(t,r,NaN,NaN,NaN);r=c,o=e(r)}if(isFinite(s)&&isFinite(o)&&!isFinite(u)){if(l=$c(n,s,a,u,e),c=$c(a,u,i,o,e),Math.abs((c-l)/(r-t))>$y)return ka(t,r,NaN,NaN,NaN);u=.5*(l+c)}if(XP(e,t,r)||XP(e,r,t))return ka(t,r,NaN,NaN,NaN);for(var p=u,f=0,m=0,d=0,y=0,g=0,h=0,x=0;x<Yy;x+=4)g=e(Cr(t,r,Xn[x])),h=e(Cr(r,t,Xn[x])),y=Math.max(y,Math.abs(g),Math.abs(h)),f+=ts[x]*(g+h),g=e(Cr(t,r,Xn[x+1])),h=e(Cr(r,t,Xn[x+1])),y=Math.max(y,Math.abs(g),Math.abs(h)),d+=ts[x+1]*(g+h),g=e(Cr(t,r,Xn[x+2])),h=e(Cr(r,t,Xn[x+2])),y=Math.max(y,Math.abs(g),Math.abs(h)),m+=ts[x+2]*(g+h),g=e(Cr(t,r,Xn[x+3])),h=e(Cr(r,t,Xn[x+3])),y=Math.max(y,Math.abs(g),Math.abs(h)),d+=ts[x+3]*(g+h);var P=p+f,D=P+m,M=D+d,E=Math.abs(m-P),S=Math.abs(d-D),v=Yc*(r-t)*M,N=Yc*Math.abs(r-t)*y*ts[0],G;return E===0?G=Yc*Math.abs(r-t)*S:G=Yc*Math.abs(r-t)*S*(S/E)*(S/E),G=Math.max(G,N),ka(t,r,v,G,N)}function JP(e){for(var t=-1/0,r=-1/0,n=-1,i=0,s=0;s<e.length;s++){var o=e[s];i+=o.value,o.error>t&&(t=o.error,n=s),o.minerror>r&&(r=o.minerror)}return{maxerror:t,maxminerror:r,maxindex:n,totalvalue:i}}function za(e,t,r,n=32){if(isNaN(t)||isNaN(r))return NaN;var i=1;if(t>r){var s=t;t=r,r=s,i=-1}if(t===1/0&&r===1/0)return NaN;if(t===-1/0&&r===-1/0)return NaN;if(t===-1/0&&r===1/0)return i*za(function(f){return e(f/((1+f)*(1-f)))*(1+f*f)/((1+f)*(1+f)*(1-f)*(1-f))},-1,1,n);if(t===-1/0)return i*za(function(f){return-e(r-f/(1-f))/((1-f)*(1-f))},1,0,n);if(r===1/0)return i*za(function(f){return e(t+f/(1-f))/((1-f)*(1-f))},0,1,n);for(var o=[Wy(e,t,r)],a=JP(o),u=1;u<n&&!(Math.abs(a.maxerror/a.totalvalue)<=32*YP||a.maxerror<=32*YP||a.maxerror<=32*a.maxminerror||!isFinite(a.maxerror)||!isFinite(a.maxminerror));u++){var l=o[o.length-1];o[o.length-1]=o[a.maxindex],o[a.maxindex]=l;var c=o.pop(),p=gS(e,Cr(c.x2,c.x1,.125),Cr(c.x1,c.x2,.125));o.push(Wy(e,c.x1,p)),o.push(Wy(e,p,c.x2)),a=JP(o)}return!isFinite(a.maxerror)||!isFinite(a.maxminerror)?NaN:Math.abs(a.totalvalue)<=10*a.maxminerror?0:i*a.totalvalue}var Ua=class{constructor(t){this.comparator=t;this._data=[]}size(){return this._data.length}queue(t){let r=this._data.length;for(this._data.push(t);r>0;){let n=r-1>>>1;if(this.comparator(this._data[r],this._data[n])<0){let i=this._data[n];this._data[n]=this._data[r],this._data[r]=i,r=n}else break}}dequeue(){let t=this._data[0],r=this._data.pop();if(this._data.length>0&&r!==void 0){this._data[0]=r;let n=0,i=this._data.length-1;for(;;){let s=(n<<1)+1,o=s+1,a=n;if(s<=i&&this.comparator(this._data[s],this._data[a])<0&&(a=s),o<=i&&this.comparator(this._data[o],this._data[a])<0&&(a=o),a!==n){let u=this._data[a];this._data[a]=this._data[n],this._data[n]=u,n=a}else break}}return t}peek(){return this._data[0]}clear(){this._data.length=0}};function bS(e,t){let r=e.start[1]-e.end[1],n=e.end[0]-e.start[0],i=t.start[1]-t.end[1],s=t.end[0]-t.start[0],o=r*e.end[0]+n*e.end[1],a=i*t.end[0]+s*t.end[1],u=r*s-i*n;if(u!==0)return(r*a-i*o)/u}function xS(e,t,r){if(r.xSlope>=t.xSlope)return;if(t.scanlineX===r.scanlineX)return e;let n=t.start[1]>t.end[1]?t.start:t.end,i=r.start[1]>r.end[1]?r.start:r.end,s=n[1];if(i[1]<n[1]){if(s=i[1],Xy(s,t)<i[0])return}else if(n[1]<i[1]){let a=Xy(s,r);if(n[0]<a)return}else if(n[0]<i[0])return;let o=bS(t,r);if(o!==void 0)return Math.max(Math.min(o,s),e)}function Xy(e,t){let r=t.end[0],n=t.start[0],i=t.end[1],s=t.start[1];if(i===e)return r;if(s===e)return n;{let o=(e-i)/(s-i),a=(1-o)*r+o*n;if(r<n){if(a<=r)return r;if(n<=a)return n}else{if(a<=n)return n;if(r<=a)return r}return a}}function Jy(e){let t=0,r=0,n=!1,i=0;for(let{scanlineX:s,isClockwise:o}of e)o?i+=1:i-=1,i!==0&&!n?(n=!0,r=s):i===0&&n&&(n=!1,t+=s-r);return t}var Ha=class{constructor(t){this.scanlineY=-1/0;let r=1;this.activeEdges=[],this.events=new Ua(function(n,i){return n.y-i.y}),this.scanlineY=-1/0,this.polygonLength=t.length-1;for(let n=t.length-1;n>=1;n--){let i=t[n],s=t[n-1],o={id:r++,index:n-1,end:i,start:s,scanlineX:0,xSlope:1/0,isClockwise:s[1]>i[1],skipIntersectionWith:{}};s[1]>i[1]?(this.events.queue({type:"+",y:i[1],edge:o}),this.events.queue({type:"-",y:s[1],edge:o}),o.xSlope=(s[0]-i[0])/(s[1]-i[1]),o.scanlineX=i[0]):i[1]>s[1]?(this.events.queue({type:"+",y:s[1],edge:o}),this.events.queue({type:"-",y:i[1],edge:o}),o.xSlope=(i[0]-s[0])/(i[1]-s[1]),o.scanlineX=s[0]):this.events.queue({type:"h",y:s[1],edge:o})}}nextScanline(){var s;let t,r=this.events.peek();if(!r)return;if(r.y<=this.scanlineY)throw new Error("Programming error: expected next event to begin a new scanline");this.scanlineY=r.y,this.updateActiveEdgeScanlineIntersections();let n=Jy(this.activeEdges),i=[];for(;t=this.events.dequeue();)if(t.type==="x"?this.swapActiveEdges(t):t.type==="+"?this.insertActiveEdge(t):t.type==="-"&&this.removeActiveEdge(t),i.push(t),((s=this.events.peek())==null?void 0:s.y)!==this.scanlineY)return{y:this.scanlineY,activeEdges:this.activeEdges,lengthBeforeProcessingEvents:n,events:i}}updateActiveEdgeScanlineIntersections(){let t=-1/0;for(let r of this.activeEdges){let n=Xy(this.scanlineY,r);n<t?n=t:t=n,r.scanlineX=n}}insertActiveEdge(t){let r=this.activeEdges,n=t.edge,i=t.y,{xSlope:s,scanlineX:o}=n;for(var a=0;a<r.length;a++){let u=r[a];if(o<u.scanlineX||o===u.scanlineX&&s<=u.xSlope)break}r.splice(a,0,n),this.checkIntersection(i,r[a-1],n),this.checkIntersection(i,n,r[a+1])}checkIntersection(t,r,n){if(!r||!n||r.index===(n.index+1)%this.polygonLength||n.index===(r.index+1)%this.polygonLength)return;if(r.id<n.id){if(r.skipIntersectionWith[n.id])return}else if(n.skipIntersectionWith[r.id])return;let i=xS(t,r,n);if(i===void 0)return;r.id<n.id?r.skipIntersectionWith[n.id]=!0:n.skipIntersectionWith[r.id]=!0;let s={type:"x",y:i,edge1:r,edge2:n};this.events.queue(s)}removeActiveEdge(t){let r=this.activeEdges,n=t.edge,i=t.y,s=r.indexOf(n);r.splice(s,1),this.checkIntersection(i,r[s-1],r[s])}swapActiveEdges(t){let r=this.activeEdges,n=t.edge1,i=t.edge2,s=t.y,o=r.indexOf(n),a=o+1;o===-1||r[a]!==i?n.id<i.id?delete n.skipIntersectionWith[i.id]:delete i.skipIntersectionWith[n.id]:(r[o]=i,r[a]=n,this.checkIntersection(s,r[o-1],i),this.checkIntersection(s,n,r[a+1]))}static debugEvent(t){let r=`y=${t.y} `;return r+=t.type==="x"?`[x ${t.edge1.index}/${t.edge2.index}]`:`[${t.type} ${t.edge.index}] (${t.edge.end})-(${t.edge.start})`,r}debugState(){return`y=${this.scanlineY}\n${this.activeEdges.map(t=>`[${t.index}] ${t.scanlineX}`)}`}};function PS(e){let t=e.slice(0,2),r=e.slice(-2);return t[0]!==r[0]||t[1]!==r[1]?[...e,...t]:e}function UV(e,t){if(!e)return!1;let r=PS(e),[n,i]=t,s=0;for(var o=r.length-1;o>=3;o-=2){let a=r[o-3],u=r[o-2],l=r[o-1],c=r[o];u>i!=c>i&&n<(l-a)*(i-u)/(c-u)+a&&(u>c?s+=1:u<c&&(s-=1))}return s!==0}function QP(e){if(e.length<4||e[0][0]!==e[e.length-1][0]||e[0][1]!==e[e.length-1][1])return 0;let t=new Ha(e),r,n=0,i;for(;i=t.nextScanline();){let s=i.lengthBeforeProcessingEvents;r&&(n+=.5*(i.y-r.y)*(s+r.length)),r={y:i.y,length:Jy(i.activeEdges)}}return n}function KP(e){if(!e.length)return[];if(e[0][0]!==e[e.length-1][0]||e[0][1]!==e[e.length-1][1])throw new Error("Programming error: expected last point to be a duplicate of the first point.");for(let f=0;f<e.length-1;f++)if(e[f][0]===e[f+1][0]&&e[f][1]===e[f+1][1])throw new Error(`Programming error: unexpected duplicate point at ${f+1}`);let t=new Ha(e),r=e.slice(0,-1).map(()=>0),n;for(;n=t.nextScanline();)for(let f of n.events){let m={};if(f.type==="h"){let d=f.edge;m[d.index]={xMin:Math.min(d.end[0],d.start[0]),xMax:Math.max(d.end[0],d.start[0]),dx:d.end[0]-d.start[0]}}else if(f.type==="x"){let d=f.edge1,y=f.edge2,g=ZP([d.start,d.end],[y.start,y.end]),h=g>0?-1:g<0?1:0;r[d.index]+=h,r[y.index]-=h}for(let d of n.activeEdges){let y=d.end[1]-d.start[1];for(let g in m){let{xMin:h,xMax:x,dx:P}=m[g];if(h<d.scanlineX&&d.scanlineX<x){let D=P*y,M=D>0?-1:D<0?1:0;r[g]+=M,r[d.index]-=M}}}}let i=e.slice(0,-1).map(()=>0),s=e[0][1],o=0;for(let f=1;f<e.length;f++)e[f][1]<s&&(s=e[f][1],o=f);let a=e.length-1,u=o>0?o-1:a-1,l=(o+1)%a,p=ZP([e[u],e[o]],[e[o],e[l]])>0?1:0;i[o]=p>0?-1:1;for(let f=0;f<a-1;f++){let m=(o+f)%a;p+=r[m],i[(m+1)%a]=p>0?-1:1}return i}function ZP(e,t){let r=e[1][0]-e[0][0],n=e[1][1]-e[0][1],i=t[1][0]-t[0][0],s=t[1][1]-t[0][1];return r*s-n*i}var iT={spy:DP},TS=wi,tg=Os,sT=Ns;function zr(e,t,r){return Math.max(t,Math.min(r,e))}function oT(e,t){let r=e%t;return e*t<0&&r!==0?r+t:r}function aT(e,t){e=Math.round(e),t=Math.round(t);let r=tg(e,t);return Math.abs(e/r*t)}function IS(e){if(e.length===0)return NaN;let t=e[0];for(let r=1;r<e.length;r++)t=tg(t,e[r]);return t}function MS(e){if(e.length===0)return NaN;let t=e[0];for(let r=1;r<e.length;r++)t=aT(t,e[r]);return t}function rs(e,t){if(isNaN(e))return e;if(isNaN(t))return t;if(!isFinite(e)&&!isFinite(t))return NaN;if(t===0||e===t)return 1;if(e===0)return An(t);let r=isFinite(e)&&e===Math.round(e),n=isFinite(t)&&t===Math.round(t);if(e<0&&t<0&&e-t<0)return r&&n?0:An(e-t)*An(t)/(An(e)*rs(-e,-t));if(e<0&&t>0&&e-t<0)return r&&n?Math.pow(-1,t)*rs(t-e-1,t):An(e-t)/An(e)*rs(-(e-t),t);if(e<0&&t<0&&e-t>0)return r&&n?Math.pow(-1,e-t)*rs(-t-1,e-t):An(t)/An(e)*rs(-t,-e);if(e>0&&t<0&&e-t>0){let a=Math.abs(e)>Math.abs(t)?-t:e;return An(t)/rs(e-t,a)}if(e>0&&t>0&&e-t<0)return An(e-t)/rs(t,e);if(e<0||t<0||e-t<0||e<15&&t<15&&e-t<15)return jc(e,t)/js(t);let i=tn(e)-tn(t)-tn(e-t)-(e-t)*ni(-t/e),s=Math.sqrt(e/(2*Math.PI*t*(e-t)))*Math.pow(e/t,t)*Math.exp(i);return r&&n&&e>0&&t>0&&e-t>0?Math.round(s):s}function jc(e,t){if(isNaN(e))return e;if(isNaN(t))return t;if(!isFinite(e)&&!isFinite(t))return NaN;if(t===0)return 1;if(e===0)return 1/js(-t);let r=isFinite(e)&&e===Math.round(e),n=isFinite(t)&&t===Math.round(t);if(e<0&&e-t<0)return r&&n?Math.pow(-1,t)*jc(t-e-1,t):An(e-t)/An(e)*jc(-(e-t),t);if(e<0||e-t<0||e<15&&e-t<15)return js(e)/js(e-t);let i=tn(e)-tn(e-t)-(e-t)*ni(-t/e),s=Math.sqrt(e/(e-t))*Math.pow(e/Math.E,t)*Math.exp(i);return r&&n&&e>0&&t>0&&e-t>0?Math.round(s):s}function js(e){return Ya(e+1)}function Ya(e){if(e===-1/0)return NaN;let t=Math.round(e)===e;if(e<0)return t?1/0:Math.PI/(bT(e)*Ya(1-e));if(e>170)return 1/0;let r;return e<15?r=uT(e):e<120?r=vS(e):r=Math.exp(lT(e)),t?Math.round(r):r}function uT(e){let t=4.077131788261185,r=7.024675027156382,n=6.657107767450176,i=3.766266976716022,s=1.2792371666711133,o=.24304596436338005,a=.020049769312165774,u=4.154347453162709,l=7.270007565107539,c=6.97805297331391,p=3.989651532924167,f=1.367176195613119,m=.26175627691546965,d=.021742722739397567,y=1+e*(t+e*(r+e*(n+e*(i+e*(s+e*(o+e*a)))))),g=1+e*(u+e*(l+e*(c+e*(p+e*(f+e*(m+e*d))))));return Math.E*Math.pow((1+e)/Math.E,1+e)/(e*Math.sqrt(1+e))*(y/g)}function vS(e){let t=e-1;return Math.pow(t,t)*Math.exp(rg(t)-t)*Math.sqrt(2*Math.PI*t)}function lT(e){let t=e-1;return t*(Math.log(t)-1)+.5*Math.log(2*Math.PI*t)+rg(t)}function ES(e){return e<0?NaN:e<15?Math.log(uT(e)):lT(e)}var cT=[1/6,-1/30,1/42,-1/30,5/66,-691/2730,7/6,-3617/510,43867/798,-174611/330,854513/138,-236364091/2730,8553103/6,-23749461029/870];function pT(e,t){if(e!==Math.floor(e))return NaN;if(e<0)return NaN;if(e===0)return 1/hT(t);let r=yT(t);if(e===1)return-1/(r*r);let n=gT(t);if(e===2)return 2*n/(r*r*r);let i=[0,2],s=[];for(let a=3;a<=e;a++){s=[];for(let u=0;u<a;u++){let l=0,c=0;u>0&&(l=(a-u+1)*i[u-1]),u+2<a&&(c=(u+1)*i[u+1]),s.push(-(l+c))}i=s}let o=0;for(let a=e-1;a>=0;a--)o=s[a]+n*o;return o/Math.pow(r,e+1)}function fT(e,t){if(e<0)return NaN;if(e!==Math.floor(e))return NaN;let r=e%2===0?-1:1;if(t<0)return-r*fT(e,1-t)-Math.pow(Math.PI,e+1)*pT(e,Math.PI*t);let n=js(e),i=0,s=Math.pow(t,-(e+1));for(;t<10;)i+=s,t++,s=Math.pow(t,-(e+1));i+=e===0?-Math.log(t):s*t/e,i+=.5*s;let o=cT,a=e+1,u=2,l=s*t*a/u,c=1/(t*t);for(let p=1;p<=14;p++)l*=c,i+=l*o[p-1],a++,u++,l*=a/u,a++,u++,l*=a/u;return n*r*i}function SS(e){let t=Math.log(e);return Math.exp(Math.round(t))===e?Math.round(t):t}function dT(e,t){if(t===0)return NaN;let r;return t===Math.E?r=Math.log(e):t===2&&Math.log2?r=Math.log2(e):t===10&&Math.log10?r=Math.log10(e):r=Math.log(e)/Math.log(t),Math.pow(t,Math.round(r))===e?Math.round(r):r}function OS(e){return dT(e,10)}function NS(e,t){return sT(e,1/t)}var mT=1/Math.PI;function tp(e){return e>1e12?!1:Math.round(mT*e)*Math.PI===e}function rp(e){if(e>1e12)return!1;let t=Math.round(2*mT*e);return t%2===1&&t*Math.PI===2*e}function yT(e){return tp(Math.abs(e))?0:Math.sin(e)}function gT(e){return rp(Math.abs(e))?0:Math.cos(e)}function hT(e){let t=Math.abs(e);return tp(t)?0:rp(t)?1/0:Math.tan(e)}function DS(e){return rp(Math.abs(e))?1/0:1/Math.cos(e)}function RS(e){return tp(Math.abs(e))?1/0:1/Math.sin(e)}function wS(e){let t=Math.abs(e);return tp(t)?1/0:rp(t)?0:1/Math.tan(e)}function LS(e){return Math.PI/2-Math.atan(e)}function AS(e){return Math.asin(1/e)}function CS(e){return Math.acos(1/e)}function _S(e){return 1/Ss(e)}function FS(e){return 1/go(e)}function BS(e){return 1/Au(e)}function VS(e){return Cu(1/e)}function GS(e){return _u(1/e)}function qS(e){return Fu(1/e)}function bT(e){if(e===0||isNaN(e))return e;if(!isFinite(e))return NaN;if(e===Math.floor(e))return e>0?0:-0;let t=Math.round(2*e),r=-.5*t+e,n=t&2?-1:1,i=t&1?Math.cos(Math.PI*r):Math.sin(Math.PI*r);return n*i}function An(e){return e===1/0||e===-1/0?0:e===0?1:bT(e)/(Math.PI*e)}function bi(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r];return t/e.length}function kS(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r];return t}function Zy(e){return e>50?Math.exp(.5*((1-e)*ni(-1/(e-1))-1)+tn(.5*(e-1))-tn(.5*(e-2)))*Math.sqrt((1-1/e)/(2*Math.PI)):Ya((e+1)/2)/(Ya(e/2)*Math.sqrt(e*Math.PI))}function _o(e,t,r=e-t){if(Math.abs(r)<.1*(e+t)){let n=r/(e+t),i=r*r/(e+t),s=2*e*n;for(let o=1;o<10;o++){s*=n*n;let a=i+s/(2*o+1);if(a==i)return a;i=a}}return e*Math.log(e/t)+t-e}var zS=[0,.08106146679532726,.0413406959554093,.02767792568499834,.020790672103765093,.016644691189821193,.013876128823070748,.01189670994589177,.010411265261972096,.009255462182712733,.00833056343336287,.007573675487951841,.00694284010720953,.006408994188004207,.0059513701127588475,.005554733551962801];function tn(e){return e>15?rg(e):e<0?NaN:e===Math.floor(e)?zS[e]:Math.log(js(e)/(Math.pow(e,e)*Math.exp(-e)*Math.sqrt(2*Math.PI*e)))}function rg(e){let t=.08333333333333333,r=.002777777777777778,n=.0007936507936507937,i=.0005952380952380953,s=.0008417508417508417,o=e*e;return(t-(r-(n-(i-s/o)/o)/o)/o)/e}function np(e,t){return t<=0?NaN:Zy(t)*Math.pow(1+e*e/t,-((t+1)/2))}function Js(e,t){if(t>0)return 1-Js(e,-t);if(t===-1/0)return 0;if(t===0)return .5;if(e>=40&&t>-1)return .5+Zy(e)*US(e,t);if(t/e<-1e3){let n=t*t;return Zy(e)*Math.pow(e,.5*(e-1))*Math.pow(Math.abs(t),-e)*(1-e*e*(e+1)*(1/(2+e)+e*(e+3)/(4*(4+e)*n))/(2*n))}let r=Math.sqrt(t*t+e);return HS((t+r)/(2*r),e/2,e/2)}function US(e,t){let r=t*t/e,n=t,i=n;for(let s=1;s<=15;s++)n*=-(2*s-1)/(2*s+1)*(.5*(e+1)+s-1)/s*r,i+=n;return i}function Xc(e,t,r){return r<=0?NaN:e===-1/0?Js(r,t):e>0&&t>0?Js(r,-e)-Js(r,-t):Js(r,t)-Js(r,e)}function HS(e,t,r){if(e<0||e>1)throw new RangeError("First argument must be between 0 and 1.");if(t===1&&r===1)return e;if(e===0)return 0;if(e===1)return 1;if(t===0)return 1;if(r===0)return 0;{let n=tn(t+r)-tn(t)-tn(r)-_o(t,(t+r)*e)-_o(r,(t+r)*(1-e),(t+r)*e-t),i=Math.exp(n)*Math.sqrt(t*r/(2*Math.PI*(t+r)));return e<(t+1)/(t+r+2)?i*eT(e,t,r)/t:1-i*eT(1-e,r,t)/r}}function eT(e,t,r){let n=Math.pow(2,-52),i=1e-300,s=t+r,o=t+1,a=t-1,u=1,l=1-s*e/o;Math.abs(l)<i&&(l=i),l=1/l;let c=l;for(let p=1;p<=100;p++){let f=2*p,m=p*(r-p)*e/((a+f)*(t+f));l=1+m*l,Math.abs(l)<i&&(l=i),u=1+m/u,Math.abs(u)<i&&(u=i),l=1/l,c*=l*u,m=-(t+p)*(s+p)*e/((t+f)*(o+f)),l=1+m*l,Math.abs(l)<i&&(l=i),u=1+m/u,Math.abs(u)<i&&(u=i),l=1/l;let d=l*u;if(c*=d,Math.abs(d-1)<=n)return c}return c}function $S(e,t){let r=Math.pow(2,-52),n=1e-300,i=1,s=e,o=i/s,a=i/n,u=1/s,l=2,c=0,p=s,f=-(e-1),m=0;do f-=1,p+=1,u=u*f*t+p,u===0&&(u=n),a=p+f*t/a,a===0&&(a=n),u=1/u,c=a*u,o=o*c,m+=1,p+=1,u=u*m*t+p,u===0&&(u=n),a=p+m*t/a,a===0&&(a=n),u=1/u,c=a*u,o*=c,l+=2;while(l<100&&Math.abs(c-1)>r);return o}function WS(e,t){let r=Math.pow(2,-52),n=1e-300,i=1,s=t+1-e,o=i/s,a=i/n,u=1/s,l=2,c=0,p=s;do{let f=-(l-1)*(l-e-1);p+=2,u=u*f+p,u===0&&(u=n),a=p+f/a,a===0&&(a=n),u=1/u,c=a*u,o*=c,l+=1}while(l<100&&Math.abs(c-1)>r);return o}function YS(e,t){let r=t/e,n=aa(t-e)*Math.sqrt(2*_o(1,r)),i=[1,-.3333333333333333,.08333333333333333,-.014814814814814815,.0011574074074074073,.0003527336860670194,-.0001787551440329218,3919263178522438e-20,-2185448510679992e-21,-185406221071516e-20,8296711340953087e-22,-17665952736826078e-23,6707853543401498e-24,10261809784240309e-24,-4382036018453353e-24,914769958223679e-24,-25514193994946248e-27,-5830772132550426e-26,24361948020667415e-27,-50276692801141755e-28,11004392031956135e-29,3371763262400985e-28,-1392388722418162e-28,28534893807047445e-30,-5139111834242572e-31,-19752288294349442e-31,8099521156704561e-31],s=i.length-2,o=0,a=0,u=0,l=0;for(;s>=0;s--)u=(s+2)*o/e+i[s+1],l=n*l+u,o=a,a=u;if(l=e/(e+o)*l,t<e){let c=Math.exp(-.5*e*n*n)*(.5*Fi(-n*Math.sqrt(e/2))-l/Math.sqrt(2*Math.PI*e));return isFinite(c)?1-c:1}else{let c=Math.exp(-.5*e*n*n)*(.5*Fi(n*Math.sqrt(e/2))+l/Math.sqrt(2*Math.PI*e));return isFinite(c)?c:0}}function tT(e,t,r){return(e-t)/(Math.SQRT2*Math.abs(r))}function $a(e){return e<0?.5*Math.exp(-e*e)*Fi(-e):1-.5*Math.exp(-e*e)*Fi(e)}function XS(e,t,r,n){let i=tT(t,r,n);if(e===-1/0)return $a(i);let s=tT(e,r,n);return e>0&&t>0?$a(-s)-$a(-i):$a(i)-$a(s)}function ng(e,t,r){return 1/Math.sqrt(2*Math.PI*r*r)*Math.exp(-(e-t)*(e-t)/(2*r*r))}function ig(e){let t=iT.spy(e),r=parseInt(t.slice(0,8),16)&2097151,n=parseInt(t.slice(8,16),16);return(r*4294967296+n)/9007199254740992}function xT(e,t){for(let r=t.length-1;r>0;r--){let n=e+"::sc"+r,i=Math.floor(ig(n)*(r+1)),s=t[r];t[r]=t[i],t[i]=s}}function JS(e,t){let r=t.slice();return xT(e,r),r}function sg(e,t){let r=[];for(let n=0;n<t;n++)r.push(n);return xT(e,r),r}function ns(e,t,r){return ig(e)*(r-t)+t}function jS(e,t,r){let n=0,i,s,o,a;do i=e+"::sc"+n,n+=1,s=ns(i,0,1)*2-1,i=e+"::sc"+n,n+=1,o=ns(i,0,1)*2-1,a=s*s+o*o;while(a>=1||a===0);let u=Math.sqrt(-2*Math.log(a)/a);return t+r*s*u}function ZS(e,t){if(t<=0)return NaN;let r=0,n,i,s,o;do n=e+"::sc"+r,r+=1,i=ns(n,0,1)*2-1,n=e+"::sc"+r,r+=1,s=ns(n,0,1)*2-1,o=i*i+s*s;while(o>1);let a=i*i/o,u=t*(Math.pow(o,-2/t)-1);return n=e+"::sc"+r,r+=1,(ns(n,0,1)<.5?-1:1)*Math.sqrt(a*u)}function QS(e,t,r){return t=zr(Math.round(t),0,1/0),t===1/0?NaN:(r=zr(r,0,1),TT(ns(e,0,1),t,r))}function KS(e,t){return t<0?NaN:PT(ns(e,0,1),t)}function Jc(e,t,r){return e>=t?1:e<0?0:e<Math.floor((t+1)*r)?rT(e,t,r):1-rT(t-e-1,t,1-r)}function rT(e,t,r){let n=(1-r)/r,i=ip(e,t,r),s=i;for(;e>0&&(i*=e/(t-e+1)*n,s+i!==s);e--)s+=i;return s}function eO(e,t,r,n){return r=zr(Math.round(r),0,1/0),r===1/0?NaN:(n=zr(n,0,1),t<0?0:(e=Math.ceil(e),t=Math.floor(t),e===-1/0?Jc(t,r,n):Jc(t,r,n)-Jc(e-1,r,n)))}function ip(e,t,r){if(e=Math.round(e),t=zr(Math.round(t),0,1/0),t===1/0)return NaN;if(r=zr(r,0,1),e<0||e>t)return 0;if(r===0)return e===0?1:0;if(r===1)return e===t?1:0;if(e===0)return Math.exp(t*ni(-r));if(e===t)return Math.pow(r,t);let n=tn(t)-tn(e)-tn(t-e)-_o(e,t*r)-_o(t-e,t*(1-r),t*r-e);return Math.exp(n)*Math.sqrt(t/(2*Math.PI*e*(t-e)))}function Fo(e,t){return t<0?NaN:(e=Math.round(e),e<0?0:t===0?e===0?1:0:e===0?Math.exp(-t):Math.exp(-tn(e)-_o(e,t))/Math.sqrt(2*Math.PI*e))}function Wa(e,t){if(isNaN(e)||isNaN(t))return NaN;if(e===1/0)return 1;if(e=Math.floor(e),e<0)return 0;if(t===0)return 1;if(e+1>12&&2.35*(e+1)>t&&.3*(e+1)<t)return YS(e+1,t);if(e+1>=t){let r=$S(e+1,t);return isFinite(r)?1-t*Fo(e,t)*r:1}else{let r=WS(e+1,t);return isFinite(r)?t*Fo(e,t)*r:0}}function tO(e,t,r){return r<0?NaN:(e=Math.ceil(e),t=Math.floor(t),t<0?0:e===-1/0?Wa(t,r):Wa(t,r)-Wa(e-1,r))}function og(e,t,r){return r<=t?NaN:e<t||e>r?0:1/(r-t)}function nT(e,t,r){return r<=t?NaN:e<t?0:e>r?1:(e-t)/(r-t)}function rO(e,t,r,n){return nT(t,r,n)-nT(e,r,n)}function nO(e){let t=-e*e;return t<-750?e>=0?1:-1:e>=.065?1-Math.exp(t)*Fi(e):e<=-.065?Math.exp(t)*Fi(-e)-1:e*(1.1283791670955126+t*(.37612638903183754+t*(.11283791670955126+t*(.026866170645131252+t*.005223977625442188))))}function Fi(e){let t=.9999999999999999,r=2.224574423459406,n=2.444115549920689,i=1.7057986861852539,s=.8257463703357973,o=.28647031042892007,a=.07124513844341643,u=.012296749268608364,l=.001347817214557592,c=7263959403471071e-20,p=1,f=3.352953590554884,m=5.227518529742423,d=5.003720878235473,y=3.266590890998987,g=1.5255421920765353,h=.5185887413188858,x=.12747319185915415,P=.02185979575963238,D=.0023889438122503674,M=.00012875032817508128;if(e<0)return e<-6.1?2*Math.exp(e*e):2*Math.exp(e*e)-Fi(-e);if(e>50){let E=.5641895835477563,S=e*e;return e>5e7?E/e:E*(S*(S+4.5)+2)/(e*(S*(S+5)+3.75))}else{let E=t+e*(r+e*(n+e*(i+e*(s+e*(o+e*(a+e*(u+e*(l+e*c)))))))),S=p+e*(f+e*(m+e*(d+e*(y+e*(g+e*(h+e*(x+e*(P+e*(D+e*M)))))))));return E/S}}function ag(e){let t=-39.6968302866538,r=220.946098424521,n=-275.928510446969,i=138.357751867269,s=-30.6647980661472,o=2.50662827745924,a=-54.4760987982241,u=161.585836858041,l=-155.698979859887,c=66.8013118877197,p=-13.2806815528857,f=-.00778489400243029,m=-.322396458041136,d=-2.40075827716184,y=-2.54973253934373,g=4.37466414146497,h=2.93816398269878,x=.00778469570904146,P=.32246712907004,D=2.445134137143,M=3.75440866190742,E=.02425,S,v,N;return e>.5?-ag(1-e):e===.5?0:e<0?NaN:e===0?-1/0:(e<E?(S=Math.sqrt(-2*Math.log(e)),N=(((((f*S+m)*S+d)*S+y)*S+g)*S+h)/((((x*S+P)*S+D)*S+M)*S+1)):(S=e-.5,v=S*S,N=(((((t*v+r)*v+n)*v+i)*v+s)*v+o)*S/(((((a*v+u)*v+l)*v+c)*v+p)*v+1)),N-Math.sqrt(2*Math.PI)*(.5*Fi(-N/Math.SQRT2)-Math.exp(.5*N*N)*e))}function PT(e,t){if(t<0||e<0||e>1)return NaN;if(t===0||e===0)return 0;if(e===1)return 1/0;let r=-1,n=Math.ceil(t);for(;Wa(n,t)<e;)n=2*n;let i=Math.floor(r+(n-r)/2);for(;r<i&&i<n;)Wa(i,t)<e?r=i:n=i,i=Math.floor(r+(n-r)/2);return n}function TT(e,t,r){if(t!==Math.round(t))return NaN;if(r<0||r>1)return NaN;if(e<0||e>1)return NaN;if(e===0)return 0;if(e===1)return t;if(t===0)return 0;if(r===1)return t;if(r===0)return 0;let n=-1,i=t,s=Math.floor(n+(i-n)/2);for(;n<s&&s<i;)Jc(s,t,r)<e?n=s:i=s,s=Math.floor(n+(i-n)/2);return i}function IT(e,t){if(isNaN(t)||t<=0||e<0||e>1)return NaN;if(e===0)return-1/0;if(e===1)return 1/0;if(t===1||t===2||t===4)return jy(t,e);let r,n;if(e===.5)return 0;if(e>.5)r=t>1?ag(e):jy(1,e),n=t>1?jy(1,e):Math.pow(np(0,t)*Math.pow(t,(t-1)/2)/(1-e),1/t);else return-IT(1-e,t);return iO(t,e,r,n)}function jy(e,t){let r=4*t*(1-t);switch(e){case 1:return Math.tan(Math.PI*(t-.5));case 2:return 2*(t-.5)*Math.sqrt(2/r);case 4:let n=Math.cos(Math.acos(Math.sqrt(r))/3)/Math.sqrt(r);return aa(t-.5)*2*Math.sqrt(n-1);default:throw new Error("_invTSimple() must be called with 1, 2, or 4 df.")}}function iO(e,t,r,n){if(!isFinite(r)||!isFinite(n))return NaN;let i=r,s=n;for(;;){let o=hn(i,s),a=Js(e,o);if(o===i||o===s)return a>t?i:s;a<t?i=o:s=o}}function sO(e,t,r){return e<0||e>1||r<=t?NaN:e===0?t:e===1?r:t+e*(r-t)}function MT(e,t){let r=Zc(e);return(bi(e)-t)*Math.sqrt(e.length)/r}function vT(e,t){let r=e.length,n=bi(e),i=Zc(e),s=t.length,o=bi(t),a=Zc(t),u=Math.sqrt(((r-1)*i*i+(s-1)*a*a)/(r+s-2));return(n-o)/(u*Math.sqrt(1/r+1/s))}function Co(e,t,r){return r<0?Xc(-1/0,e,t):r>0?Xc(-1/0,-e,t):2*Xc(-1/0,-Math.abs(e),t)}function ug(e,t){arguments.length===1&&(t=0);let r=MT(e,t),n=e.length-1;return{lessThan:Co(r,n,-1),greaterThan:Co(r,n,1),notEqual:Co(r,n,0)}}function lg(e,t){let r=vT(e,t),n=e.length+t.length-2;return{lessThan:Co(r,n,-1),greaterThan:Co(r,n,1),notEqual:Co(r,n,0)}}function cg(e){return{min:ET(e),q1:Zs(e,1),median:NT(e),q3:Zs(e,3),max:ST(e)}}function oO(e){return e.length}function ET(e){if(e.length<1)return NaN;let t=e[0];if(isNaN(t))return NaN;for(let r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]<t&&(t=e[r])}return t}function ST(e){if(e.length<1)return NaN;let t=e[0];if(isNaN(t))return NaN;for(let r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]>=t&&(t=e[r])}return t}function OT(e,t){if(!isFinite(t)||t<0||t>1)return NaN;if(e.some(isNaN))return NaN;if(e.length===0)return NaN;let r=e.length,n=Qs(e),i=t*(r-1);return Math.floor(i)===i?e[n[i]]:(Math.ceil(i)-i)*e[n[Math.floor(i)]]+(i-Math.floor(i))*e[n[Math.ceil(i)]]}function Zs(e,t){if(!isFinite(t)||t<0||t>4)return NaN;if(e.some(isNaN))return NaN;let r=Qs(e),n=sp(e,t),i=Math.floor(n),s=Math.ceil(n);return(e[r[i]]+e[r[s]])/2}function Qs(e){let t=e.length,r=[];for(let n=0;n<t;n++)r.push(n);return r.sort(function(n,i){return F(Hn(e[n],e[i]))}),r}function sp(e,t){t=Math.round(t);let r=e.length,n=r%2===1,i;return r===1?0:(t===0&&(i=0),t===2&&(i=(r-1)/2),t===4&&(i=r-1),t===1&&(i=n?(r+1)/4-1:(r+2)/4-1),t===3&&(i=n?(3*r+3)/4-1:(3*r+2)/4-1),i===void 0?NaN:i)}function aO(e,t){return Qs(e)[Math.ceil(t*(e.length-1))]+1}function uO(e,t){return Qs(e)[Math.floor(t*(e.length-1))]+1}function lO(e,t){return Qs(e)[Math.ceil(sp(e,t))]+1}function cO(e,t){return Qs(e)[Math.floor(sp(e,t))]+1}function NT(e){return OT(e,.5)}function pO(e){if(e.length<1)return 0;let t=e[0];if(isNaN(t))return 0;let r=0;for(let n=1;n<e.length;n++){if(isNaN(e[n]))return 0;e[n]<t&&(r=n,t=e[n])}return r+1}function fO(e){if(e.length<1)return 0;let t=e[0];if(isNaN(t))return 0;let r=0;for(let n=1;n<e.length;n++)if(e[n]>=t){if(isNaN(e[n]))return 0;r=n,t=e[n]}return r+1}function Ja(e){let t=bi(e),r=0;for(let n=0;n<e.length;n++){let i=e[n]-t;r+=i*i}return r/e.length}function dO(e){let t=bi(e),r=0;for(let n=0;n<e.length;n++)r+=Math.abs(e[n]-t);return r/e.length}function DT(e){let t=e.length;return Ja(e)*t/(t-1)}function RT(e,t){let r=Math.min(e.length,t.length);e.length!==r&&(e=e.slice(0,r)),t.length!==r&&(t=t.slice(0,r));let n=bi(e),i=bi(t),s=0;for(let o=0;o<r;o++)s+=(e[o]-n)*(t[o]-i);return s/r}function mO(e,t){let r=Math.min(e.length,t.length);return RT(e,t)*r/(r-1)}function op(e,t){let r=Math.min(e.length,t.length);e.length!==r&&(e=e.slice(0,r)),t.length!==r&&(t=t.slice(0,r));let n=bi(e),i=bi(t),s=0,o=0,a=0;for(let u=0;u<r;u++){let l=e[u]-n,c=t[u]-i;s+=l*l,o+=c*c,a+=l*c}return a/Math.sqrt(s*o)}function pg(e,t,r,n){let i=e[0];for(let o=2;o<e.length;o++){let a=F($n(Hn(e[o],i),r));if(!Nr(a,o,10))return 0}let s=F(n);for(let o=0;o<t.length-1;o++){let a=F($n(Hn(t[o],i),r));if(!Nr(a,s-t.length+o,10))return 0}return!isFinite(s)||s<e.length||s<t.length?0:s}function fg(e){return e<0||!isFinite(e)?0:e}function Qy(e){let t=e.length;if(t===0)return[];let r=[],n=[];for(let a=0;a<t;a++)n.push([e[a],a]);n.sort(function(a,u){let l=a[0],c=u[0];return l===1/0&&c===1/0||l===-1/0&&c===-1/0?0:l-c});let i=0,s=1,o=1;for(;i<t;){let a=i;for(;a<t-1&&n[a][0]===n[a+1][0];)a+=1;o=a-i+1;let u;for(a=0;a<o;a++)u=n[i+a][1],r[u]=isNaN(e[u])?NaN:s+.5*(o-1);s+=o,i+=o}return r}function yO(e,t){let r=Math.min(e.length,t.length);return e.length!==r&&(e=e.slice(0,r)),t.length!==r&&(t=t.slice(0,r)),op(Qy(e),Qy(t))}function Zc(e){return Math.sqrt(DT(e))}function gO(e){return Math.sqrt(Ja(e))}var hO=za;function ja(e,t){return ii(t[0]-e[0],t[1]-e[1])}function wT(e,t,r){return[zr(Math.round(e),0,255),zr(Math.round(t),0,255),zr(Math.round(r),0,255)]}function bO(e,t,r){e=zr(e,0,360),t=zr(t,0,1),r=zr(r,0,1);let n=r*(1-t/2);n===0||n===1?t=0:t=(r-n)/Math.min(n,1-n);let{r:i,g:s,b:o}=Uc(e,t,n).rgb();return wT(i,s,o)}function xO(e){return e}function PO(e){return e}function TO(e){let t=[];if(e.length===0)return[];for(let r=0;r<e.length-1;r++)t.push([e[r],e[r+1]]);return t.push([e[e.length-1],e[0]]),t}function dg(e){if(e.length==0)return 0;let t=[...e,e[0]];return QP(t)}function IO(e){let t=0;for(let r=0;r<e.length-1;r++){let[n,i]=e[r],[s,o]=e[r+1];t+=Sn(s-n,o-i)}if(e.length>1){let[r,n]=e[e.length-1],[i,s]=e[0];t+=Sn(i-r,s-n)}return t}function MO(e){let t=!1;for(let r=0;r<e.length;r++){let n=(r+1)%e.length;e[r][0]===e[n][0]&&e[r][1]===e[n][1]&&(t=!0)}return t?e.filter((r,n)=>{let i=e[n===0?e.length-1:n-1];return r[0]!==i[0]||r[1]!==i[1]}):e}function vO(e){let[t,r,n,i]=e;return[t,n>=0?r:r+n,n>=0?n:-n,i]}function LT(e,t,r){if(e.length===0)return[];e=MO(e);let n=KP([...e,e[0]]),i=[];for(let s=0;s<e.length;s++){let o=e[s>0?s-1:e.length-1],a=e[s],u=e[s<e.length-1?s+1:0],l=n[s]===1,c=GO(o,a,u,l?"counterclockwise":"clockwise",r);i.push(t?c:vO(c))}return i}function EO(e,t){return LT(e,!1,t)}function SO(e,t){return LT(e,!0,t)}function mg(e,t){return[e,t]}var OO=mg,NO=mg;function DO(e){return e}function RO(e,t){return[e,t]}function wO(e){return e[0]}function LO(e){return e[1]}function AO(e,t,r){return[e,t,r]}function Go([e,t,r]){let[n,i]=e,[s,o]=t,[a,u]=r,l=s*s+o*o,c=(n*n+i*i-l)/2,p=(l-a*a-u*u)/2,f=(n-s)*(o-u)-(s-a)*(i-o);f=1/f;let m=(c*(o-u)-p*(i-o))*f,d=((n-s)*p-(s-a)*c)*f;return[m,d]}function qo(e){let[[t,r],[n,i],[s,o]]=e,a=n-t,u=i-r,l=s-n,c=o-i;return 2*Math.atan2(a*c-l*u,a*l+u*c)}function yg(e){let t=Math.abs(qo(e));return t<1e-9||t>2*Math.PI-1e-9}function AT(e){return Math.abs(e)===Math.PI?Math.PI:oT(e+Math.PI,2*Math.PI)-Math.PI}function CT(e,t,r,n){return[e,AT(t),r,n]}function CO([e,t,r,n]){return[e,t,r,n]}function _O(e){return e[2]/e[3]}function FO(e){return Math.abs(e[2]/e[3])}function _T(e){let[t,r,n,i]=e,s=Math.PI*2,o=n===0?s:n>0?n-s:n+s;return[t,r,o,i]}function BO(e){let[t,r,n,i]=_T(e);return[t,r,n,i]}function VO(e){let[t,r,n,i]=e,s=n>=0?Math.PI-n:-Math.PI-n;return[t,AT(r+n),s,i]}function GO(e,t,r,n,i){let s=e[0]-t[0],o=e[1]-t[1],a=r[0]-t[0],u=r[1]-t[1],l=Math.atan2(o,s),c=Math.atan2(s*u-o*a,s*a+o*u),p=2*Math.PI;return n==="clockwise"?c-=c<0?0:p:n==="counterclockwise"&&(c+=c<0?p:0),CT(t,l,c,i)}function gg(e,t){let[[r,n],[i,s]]=e;return[[t*r,t*n],[t*i,t*s]]}var qO=gg,kO=gg;function zO(e,t){let[[r,n],i]=e;return[[t*r,t*n],t*i]}function UO(e,t){let[[r,n],[i,s],[o,a]]=e;return[[t*r,t*n],[t*i,t*s],[t*o,t*a]]}function hg(e,t){let[[r,n],[i,s]]=e,[[o,a],[u,l]]=t;return[[r+o,n+a],[i+u,s+l]]}var HO=hg,$O=hg;function WO(e,t){let[[r,n],i]=e,[[s,o],a]=t;return[[r+s,n+o],i+a]}function YO(e,t){let[[r,n],[i,s],[o,a]]=e,[[u,l],[c,p],[f,m]]=t;return[[r+u,n+l],[i+c,s+p],[o+f,a+m]]}function bg(e,t){let[[r,n],[i,s]]=e;return[(1-t)*r+t*i,(1-t)*n+t*s]}function xg(e,t){return bg(e,zr(t,0,1))}function Ky(e,t){return bg(e,zr(t,0,1/0))}function XO(e,t){let[[r,n],i]=e,s=Math.min(1,Math.max(0,t));return[r+i*Math.cos(2*Math.PI*s),n+i*Math.sin(2*Math.PI*s)]}function FT(e,t){let r=ap(e);if(!r)return[NaN,NaN];if(r.type==="segment")return xg([e[0],e[2]],t);if(r.type==="rays")return t<=0?Ky([r.start1,r.end1],-t):t>=1?Ky([r.start2,r.end2],t-1):[NaN,NaN];t=Math.min(1,Math.max(0,t));let n=Go(e),i=qo(e),s=Math.atan2(e[0][1]-n[1],e[0][0]-n[0]),o=ja(n,e[0]),a=s+t*i;return[n[0]+o*Math.cos(a),n[1]+o*Math.sin(a)]}function JO(e,t){if(isNaN(t))return[NaN,NaN];if(t<0||t>=e.length)return e[0];let r=Math.floor(t);return xg([e[r],e[(r+1)%e.length]],t-r)}function ap(e){let[t,r,n]=e,[[i,s],[o,a],[u,l]]=[t,r,n];if(isNaN(i)||isNaN(s)||isNaN(o)||isNaN(a)||isNaN(u)||isNaN(l))return;let c=Go([t,r,n]),p=ja(c,t);if(isFinite(p)&&!yg([t,r,n])){let f=Math.atan2(t[1]-c[1],t[0]-c[0]),m=f+qo([t,r,n]);return{type:"arc",center:c,radius:p,startAngle:f,endAngle:m}}else{let f=Un(o,a,0,i,s,0,u,l,0);return f<0||f>1?{type:"rays",start1:[i,s],end1:[i+(i-u),s+(s-l)],start2:[u,l],end2:[u+(u-i),l+(l-s)]}:{type:"segment",start:[i,s],end:[u,l]}}}function jO(e,t,r){let[i,s]=[t,r].map(u=>ja(e,u));if(isNaN(i))return s>1e-9?r:t;if(isNaN(s))return i>1e-9?t:r;let[o,a]=i>s?[i,t]:[s,r];return o>1e-9?a:e}function Xa(e,t){let[[r,n],i]=e,[[s,o],a]=t,u=ii(s-r,o-n),l=i+a,c=i-a,p=u*u,f=Math.sqrt((u+l)*(-u+l)*(u-c)*(u+c))/4,m=i*i,d=a*a;return[(s+r)/2+(s-r)*(m-d)/(2*p)+-2*(o-n)*f/p,(o+n)/2+(o-n)*(m-d)/(2*p)+2*(s-r)*f/p]}function BT(e,t,r){let[[n,i],s]=e,[[o,a],[u,l]]=t,c=o-n,p=u-n,f=a-i,m=l-i,d=p-c,y=m-f,g=d*d+y*y,h=c*m-p*f,x=s*s*g-h*h;if(x<0)return[NaN,NaN];let P=Math.sqrt(x);return P<0?[NaN,NaN]:[n+(h*y+r*d*P)/g,i+(-h*d+r*y*P)/g]}function ZO(e,t){let[[r,n],[i,s]]=e,[[o,a],[u,l]]=t,c=s-n,p=r-i,f=l-a,m=o-u,d=c*r+p*n,y=f*o+m*a,g=c*m-f*p;return g===0?[NaN,NaN]:[(m*d-p*y)/g,(c*y-f*d)/g]}function Pg(e,t,r=0){let n=BT(t,e,-1);return Vo(n,e,r,!0)?n:[NaN,NaN]}function VT(e,t,r=0){let n=BT(e,t,1);return Vo(n,t,r,!1)?n:[NaN,NaN]}function GT(e,t,r=0){let n=ZO(e,t);return!Vo(n,e,r,!0)||!Vo(n,t,r,!1)?[NaN,NaN]:n}function QO(e,t,r=0){let n=zT(t,e,r,-1);return Bo(n,t,r,!1)?n:[NaN,NaN]}function qT(e,t,r=0){let n=UT(t,e,r,-1);return!Vo(n,e,r,!0)||!Bo(n,t,r,!1)?[NaN,NaN]:n}function KO(e,t,r=0){let n=zT(e,t,r,1);return Bo(n,e,r,!0)?n:[NaN,NaN]}function kT(e,t,r=0){let n=UT(e,t,r,1);return!Bo(n,e,r,!0)||!Vo(n,t,r,!1)?[NaN,NaN]:n}function eN(e,t,r=0){let n=tN(e,t,r);return!Bo(n,e,r,!0)||!Bo(n,t,r,!1)?[NaN,NaN]:n}function tN(e,t,r){let n=Kc(e);if(ep(n))return qT(n,t,r);let i=Kc(t);return ep(i)?kT(e,i,r):Tg(()=>Xa(n,i),()=>Xa(i,n),s=>Ig(-1,Qc(e,s),Qc(t,s)))}function zT(e,t,r,n){let i=Kc(e);return ep(i)?Pg(i,t,r):Tg(()=>Xa(i,t),()=>Xa(t,i),s=>Ig(n,Qc(e,s),rN(t,s)))}function UT(e,t,r,n){let i=Kc(e);return ep(i)?GT(i,t,r):Tg(()=>VT(i,t,r),()=>Pg(t,i,r),s=>Ig(n,Qc(e,s),nN(t)))}function Tg(e,t,r){let n=e();if(r(n))return n;let i=t();return r(i)?i:[NaN,NaN]}function Ig(e,t,r){return e*HT(t,r)>0}function Qc(e,[t,r]){let[n,i]=Go(e);return qo(e)>0?[i-r,t-n]:[r-i,n-t]}function rN([[e,t]],[r,n]){return[t-n,r-e]}function nN([[e,t],[r,n]]){return[r-e,n-t]}function Kc(e){let t=Go(e),r=ja(t,FT(e,0));return isFinite(r)&&!yg(e)?[t,r]:[e[0],e[2]]}function ep(e){return Array.isArray(e[1])}function Bo([e,t],r,n,i){let[s,o]=Go(r);return(i?(n&3)===0:(n&12)===0)||Vu(Math.atan2(t-o,e-s),Math.atan2(r[0][1]-o,r[0][0]-s),qo(r))}function Vo([e,t],[[r,n],[i,s]],o,a){let u=Un(e,t,0,r,n,0,i,s,0),[l,c]=a?[(o&1)===0,(o&2)===0]:[(o&4)===0,(o&8)===0];return!isNaN(u)&&(u>=0||l)&&(u<=1||c)}function iN(e,t){let[[r,n],[i,s]]=e,[o,a]=t;return[[o,a],[o+(i-r),a+(s-n)]]}function sN(e,t){let[[r,n],[i,s]]=e,[o,a]=t;return[[o,a],[o+(s-n),a-(i-r)]]}function HT(e,t){let[r,n]=e,[i,s]=t;return r*s-i*n}function oN(e,t){let[r,n]=e,[i,s]=t;return r*i+n*s}function aN(e){let[t,r]=e;return[-r,t]}function uN(e,t,r){return[e,t,r]}function lN(e){return[[1,0],e,!1]}function cN(e,t){let[r,n]=e;return[[t,0],[(1-t)*r,(1-t)*n],!1]}function pN(e,t){let[r,n]=e,i=Math.cos(t),s=Math.sin(t);return[[i,s],[r*(1-i)+n*s,n*(1-i)-r*s],!1]}function fN(e){let[[t,r],[n,i]]=e,s=n-t,o=i-r,a=s*s+o*o;return[[(s*s-o*o)/a,2*s*o/a],[(1-(s*s-o*o)/a)*t-2*s*o/a*r,(1+(s*s-o*o)/a)*r-2*s*o/a*t],!0]}function dN(e,t){let[[r,n],[i,s],o]=e,[[a,u],[l,c],p]=t;return o&&(u=-u,c=-c,p=!p),[[a*r-u*n,a*n+u*r],[i+r*l-n*c,s+r*c+n*l],p]}function mN(e){let[[t,r],[n,i],s]=e,o=t*t+r*r,a=t/o,u=-r/o,l=-(t/o*n+r/o*i),c=-(t/o*i-r/o*n);return s&&(u=-u,c=-c),[[a,u],[l,c],s]}function hi(e,t){let[[r,n],[i,s],o]=e,[a,u]=t;return o&&(u=-u),[r*a-n*u+i,r*u+n*a+s]}function yN(e,t){let[r,n,i]=e;return hi([r,[0,0],i],t)}function gN(e,t){let[r,n,i]=e;return i?-t:t}function Mg(e,t){let[r,n]=t;return[hi(e,r),hi(e,n)]}var hN=Mg,bN=Mg;function xN(e,t){let[r,n]=t,[[i,s]]=e;return[hi(e,r),ii(i,s)*n]}function PN(e,t){let[r,n,i]=t;return[hi(e,r),hi(e,n),hi(e,i)]}function TN(e,t){let r=[];for(let n of t)r.push(hi(e,n));return r}function IN(e,t){let[r,n,i]=t,s=hi(e,r),[o,a]=yN(e,[Math.cos(n),Math.sin(n)]),u=Math.atan2(a,o),l=gN(e,i);return[s,u,l]}function MN(e,t){let r=[];for(let n=0;n<e.length;n++)t[n]&&r.push(e[n]);return r}function vN(e,t){let r=[];for(let n of t)r.push(e[n]);return r}function EN(e){let t=[],r={};for(let n=0;n<e.length;n++){let i=e[n],s=eg(i);r.hasOwnProperty(s)||(r[s]=!0,t.push(n))}return t}function eg(e){if(Array.isArray(e))return`[${e.map(eg).join(",")}]`;switch(typeof e){case"string":return e;case"boolean":case"number":return e.toString();case"object":if(SN(e)){let r=[];for(let n in e.updateRules)r.push(`"${n}": ${eg(e.updateRules[n].value)}`);return`{${r.join(",")}}`}else return F(e).toString();default:return e}}function SN(e){return typeof e!="object"||!e?!1:e.type==="Action"}function Rr(e){if(!jn(e))throw new Error("Programming error: expected an array but found "+typeof e)}function jn(e){return Array.isArray(e)}function $T(e){if(jn(e))for(let{compiled:t}of e)t&&vg(t)}function KV(e){if(jn(e))for(let{compiled:t}of e)t&&ON(t)}function vg(e){delete e.fn}function ON(e){e.fn=Eg(e.args,e.source,e.constants)}function Eg(e,t,r){let i="return (function("+e.join(",")+\'){"use strict"; \'+t+"})";return new Function("BuiltIn","ErrorMsg","_C",i)(Jn,Ft,r)}function ne(e){return e.type<=3}function WT(e){return!ne(e)}function _r(e){switch(e.type){case 19:case 21:case 17:return!0;default:return!1}}function mr(e){switch(e.type){case 18:case 20:case 22:return!0;default:return!1}}function XT(e){let t="",r=(e.instructionsLength()-1).toString().length,n=0,i=!1;for(let s=0;s<e.instructionsLength();s++){let o=e.getInstruction(s),a=e.comments[s]||"",u=o.type===0&&o.removedInstructionForDebuggingOnly;if((mr(o)||u&&mr(u))&&(n-=1),o.type===0&&!u)i||(t+=`${YT(s,r)}: ${Ng(2*n)}...\n`),i=!0;else{i=!1;let l=u?" [X]":"    ";t+=`${YT(s,r)}:${l} ${Ng(2*n)}${Ks(e,s)}${a?`\t\t# ${a}`:""}\n`}(_r(o)||u&&_r(u))&&(n+=1)}return t}function Ks(e,t){let r=e.getInstruction(t);switch(r.type===0&&r.removedInstructionForDebuggingOnly&&(r=r.removedInstructionForDebuggingOnly),r.type){case 0:return rn(r.type);case 2:return`${rn(r.type)} ${jr(r.valueType)} ${e.argNames[t]}`;case 3:return`${rn(r.type)} ${jr(r.valueType)}`;case 1:return`${rn(r.type)} ${jr(r.valueType)} ${Og(r.value)}`;case 37:case 42:return`${rn(r.type)} ${jr(r.valueType)} ${r.symbol} ${r.args.join(" ")}`;case 44:return`${rn(r.type)} ${jr(r.valueType)} ${r.tag} ${r.args.join(" ")}`;case 48:return`${rn(r.type)} ${jr(r.valueType)} ${r.args.join(" ")}${r.isConstantBroadcast?" (constant)":""}`;case 8:case 9:case 10:case 11:case 13:case 12:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:case 25:case 26:case 27:case 30:case 31:case 38:case 39:case 40:case 41:case 47:case 49:return`${rn(r.type)} ${jr(r.valueType)} ${r.args.join(" ")}`;default:let n=r;throw new Error(`Unexpected opcode ${n.type}`)}}function rn(e){switch(e){case 0:return"Noop";case 1:return"Constant";case 8:return"Add";case 9:return"Subtract";case 10:return"Multiply";case 11:return"Divide";case 12:return"Exponent";case 13:return"RawExponent";case 14:return"Negative";case 15:return"OrderedPair";case 16:return"OrderedPairAccess";case 17:return"BeginLoop";case 18:return"EndLoop";case 19:return"BeginIntegral";case 20:return"EndIntegral";case 21:return"BeginBroadcast";case 22:return"EndBroadcast";case 23:return"Equal";case 24:return"Less";case 25:return"Greater";case 26:return"LessEqual";case 27:return"GreaterEqual";case 30:return"And";case 31:return"Piecewise";case 38:return"List";case 39:return"ListAccess";case 40:return"DeferredListAccess";case 41:return"InboundsListAccess";case 37:return"NativeFunction";case 42:return"Distribution";case 2:return"LoadArg";case 47:return"BlockVar";case 48:return"BroadcastResult";case 3:return"SymbolicVar";case 44:return"ExtendSeed";case 49:return"Action";default:let t=e;throw new Error(`Unexpected opcode ${t.type}`)}}function Og(e){if(Array.isArray(e))return`[${e.map(Og).join(",")}]`;switch(typeof e){case"string":return e;case"boolean":case"number":return e.toString();case"object":if(Do(e)){let t=[];for(let r in e.updateRules)t.push(`"${r}": ${Og(e.updateRules[r].value)}`);return`{${t.join(", ")}}`}else return`${e.n}/${e.d}`;default:throw new Error("Unexpected value: "+e)}}function YT(e,t){let r=e.toString();return Ng(t-r.length)+r}function Ng(e){let t="";for(let r=0;r<e;r++)t+=" ";return t}function It(e){return e.type===1}function JT(e){if(!It(e))throw new Error(`Programming error: expected constant instruction but found ${rn(e.type)} instead.`)}function NN(e){return e.type===48&&e.isConstantBroadcast}function is(e){return It(e)||NN(e)}function lp(e,t,r){let n=e.getInstruction(r);if(!ne(n)){for(let o of n.args)if(!is(e.getInstruction(o)))return!0}if(t<r)return!is(e.getInstruction(t));let i=[!0];for(let o=r+1;o<=t;o++)i.push(!1);let s=[t];for(;s.length;){let o=s.pop();if(i[o-r])continue;i[o-r]=!0;let a=e.getInstruction(o);if(!ne(a))for(let u of a.args)if(u<r){if(!is(e.getInstruction(u)))return!0}else i[u-r]||s.push(u)}return!1}function Dg(e,t,r){if(k(t)){let n=[];for(let i=0;i<r.length;i++)n.push(Dg(e,ot(t),r[i]));return e.ConstantOfType(t,n)}switch(t){case I:return e.Constant(r);case be:return e.ConstantOfType(t,r);case w:return e.ConstantOfType(t,r);case et:return e.ConstantOfType(t,r);default:throw new Error("Cannot reconstitute value of a "+Z(t)+".")}}function Zn(e,t,r){let n=ur(e,t);if(n===void 0)throw new Error(`${r}\nNon-constant instruction: "${Ks(e,xr(e,t))}"`);return n}function ur(e,t){let r=ko(e,t);if(!(r<0))return r}function ko(e,t,r){var o;let n=r&&r[t];if(n)return n;let i=e.getInstruction(t),s;switch(i.type){case 38:s=i.args.length;break;case 1:s=i.value.length;break;case 48:{s=(o=i.constantLength)!=null?o:-1;break}}return s===void 0&&(r=r||{},s=DN(e,i,r)),r&&(r[t]=s),s}function DN(e,t,r){switch(t.type){case 31:{let n=ko(e,t.args[1],r),i=ko(e,t.args[2],r);return n===i?n:-1}case 37:switch(t.symbol){case"elementsAt":return ko(e,t.args[1],r);case"sortPerm":return ko(e,t.args[0],r);case"shuffle":return ko(e,t.args[1],r);default:return-1}default:{if(k(t.valueType))return-1;throw new Error(`Programming Error: cannot find the list length of ${rn(t.type)} ${Z(t.valueType)}.`)}}}function xr(e,t){let r=e.getInstruction(t);if(!k(r.valueType))throw new Error(`Programming Error: cannot find the list length of ${e.printInstruction(t)}`);switch(r.type){case 38:return e.Constant(r.args.length);case 1:return e.Constant(r.value.length);case 48:{let n=e.getInstruction(r.args[0]);return e.getInstruction(n.args[0]).args[0]}case 37:switch(r.symbol){case"elementsAt":return xr(e,r.args[1]);case"sortPerm":return xr(e,r.args[0]);case"shuffle":return xr(e,r.args[1])}}return e.SyntheticNativeFunction("count",[t])}function Za(e,t){let r=[];for(let o of t)k(e.getInstruction(o).valueType)&&r.push(o);if(r.length===0)return;if(r.length===1)return xr(e,r[0]);let n=[];for(let o of r)n.push(ur(e,o));let i,s=1/0;for(let o=0;o<n.length;o++){let a=r[o],u=n[o];if(u===void 0)return e.SyntheticNativeFunction("min",[e.List(r.map(l=>xr(e,l)))]);u<s&&(i=a,s=u)}return i!==void 0?xr(e,i):e.Constant(s)}function jT(e,t){if(k(e)){let r=ot(e);for(let n=0;n<t.length;n++)if(bn(r,t[n]))return!0;return!1}return bn(e,t)}function bn(e,t){switch(e){case I:return Ai(t);case w:{let[r,n]=t;return Ai(r)||Ai(n)}case et:{let[r,n,i]=t;return Ai(r)||Ai(n)||Ai(i)}case ye:{for(let r of t)if(bn(w,r))return!0;return!1}case ue:case J:case ge:{let[r,n]=t;return bn(w,r)||bn(w,n)}case Q:{let[r,n]=t;return bn(w,r)||bn(I,n)}case X:{let[r,n,i]=t;return bn(w,r)||bn(w,n)||bn(w,i)}case xe:case le:{let[r,n,i]=t;return bn(w,r)||bn(I,n)||bn(I,i)}case Ge:return Object.keys(t.updateRules).length===0;case be:return!1;default:throw new Error("Type cannot contain a NaN value: "+Z(e)+".")}}function Rg(e,t){return si(e,t)}function wg(e,t){return Hn(e,t)}function Lg(e,t){return oi(e,t)}function Ag(e,t){return $n(e,t)}function Qa(e,t){return F(e)===Math.E?Math.exp(F(t)):bf(e,t)}var RN=Qa;function Cg(e){return cn(e)}function wN(e,t){return[e,t]}function LN(e,t){return e[F(t)-1]}function _g(e,t){return F(e)===F(t)}function Fg(e,t){return F(e)<F(t)}function Bg(e,t){return F(e)>F(t)}function Vg(e,t){return F(e)<=F(t)}function Gg(e,t){return F(e)>=F(t)}function ZT(e,t){return e&&t}function AN(e,t,r){let n=Math.floor(F(r))-1;return!isFinite(n)||n<0||n>=t.length?dn(e):t[n]}function qg(e,t,r){return St(r)&&(r=F(r)),`${t}::${e}${r}`}function kg(e,t){switch(e){case"mod":return Fb(t[0],t[1]);case"abs":return Cb(t[0]);case"sqrt":return _b(t[0]);case"nthroot":return Gu(t[0],t[1]);case"total":return Bb(t[0]);case"count":return t[0].length;case"validateRangeLength":{let r=t[0],n=t[1],i=t[2],s=t[3],o=pg(r,n,i,s);if(o===0)throw Oa();return o}case"validateSampleCount":{let r=Yn(t[0]),n=fg(r);if(n===0&&r!==0)throw xy();return n}case"select":case"elementsAt":case"uniquePerm":case"sortPerm":{let r=or[e];return Jn[r.symbol].apply(null,t)}default:{let r=or[e];return(r.module==="Math"?Math:Jn)[r.symbol].apply(null,Yn(t))}}}function cp(e,t){let r=Array(t+1);return Oe(e,t,r)}function QT(e,t,r){let n=Array(t+1);for(let i=0;i<r.length;i++)n[i]=r[i];return Oe(e,t,n)}function KT(e,t,r){let n=Array(t+1);return pp(e,t,r,n)}function eI(e,t,r){let n=Array(t+1),i=[];for(let s of r)i.push(pp(e,t,s,n));return i}function tI(e,t,r){if(t.constantLength)return t.constantLength;let n=t.args[0],s=e.getInstruction(n).args[0],o=e.getInstruction(s);return F(Oe(e,o.args[0],r))}function pp(e,t,r,n){let i=e.getInstruction(t),s=tI(e,i,n);if(!isFinite(r)||r<0||r>=s)return dn(ot(i.valueType));let o=i.args[0],a=t-o,u=e.getInstruction(o),l=u.args[0],c=u.args[a];n[l]=r+1;let p=Oe(e,c,n);for(let f=l;f<=o;f++)n[f]=void 0;return p}function CN(e,t,r){let n=e.getInstruction(t),i=tI(e,n,r),s=[];for(let o=i-1;o>=0;o--)s[o]=pp(e,t,o,r);return s}function rI(e,t,r){let n=Oe(e,t.args[1],r),i=t.args[0],s=e.getInstruction(i);if(s.type===48)return pp(e,i,F(n)-1,r);if(s.type===31){let o=Oe(e,s.args[0],r);return rI(e,oe(z({},t),{args:[o?s.args[1]:s.args[2],t.args[1]]}),r)}else{let o=Oe(e,t.args[0],r);return AN(t.valueType,o,n)}}function Oe(e,t,r){let n=r[t];if(n!==void 0)return n;let i=_N(e,t,r);return typeof i=="number"&&i===Math.floor(i)&&(i=ie(i,1)),r[t]=i,i}function _N(e,t,r){let n=e.getInstruction(t);switch(n.type){case 1:return n.value;case 8:return Rg(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 9:return wg(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 10:return Lg(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 11:return Ag(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 12:return Qa(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 13:return RN(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 14:return Cg(Oe(e,n.args[0],r));case 15:return wN(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 16:return LN(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 23:return _g(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 24:return Fg(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 25:return Bg(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 26:return Vg(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 27:return Gg(Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 30:return Oe(e,n.args[0],r)&&Oe(e,n.args[1],r);case 44:return qg(n.tag,Oe(e,n.args[0],r),Oe(e,n.args[1],r));case 31:return Oe(e,n.args[0],r)?Oe(e,n.args[1],r):Oe(e,n.args[2],r);case 37:{let s=[];for(let o of n.args)s.push(Oe(e,o,r));return kg(n.symbol,s)}case 38:{let s=[];for(let o of n.args)s.push(Oe(e,o,r));return s}case 39:case 40:case 41:return rI(e,n,r);case 48:return CN(e,t,r);case 47:{let s=n.args[0],o=e.getInstruction(s).args[0],a=t-s,l=e.getInstruction(s).args[a],c=[];c[l]=!0;for(let m=l;m>=o;m--){if(!c[m])continue;let d=e.getInstruction(m);if(!ne(d))for(let y of d.args)y<o?Oe(e,y,r):c[y]=!0}let p=e.copy();p.truncate(o);for(let m=0;m<o;m++){let d=r[m],y=e.getInstruction(m);if(d!==void 0){let g=y.valueType;p.replaceInstructionWithConstant(m,{type:1,valueType:g,value:d})}}p.reopenAllBlocks();let f=[];for(let m=o;m<t;m++){let d=e.getInstruction(m);if(ne(d))f.push(p.copyInstruction(d));else{let y=[];for(let g of d.args)y.push(g<o?g:f[g-o]);d.type===40?f.push(p.InboundsListAccess(y)):f.push(p.copyInstructionWithArgs(d,y))}}return p.Noop(),p.replaceInstructionWithBlockVar(p.getReturnIndex(),{type:47,valueType:n.valueType,args:[s<o?s:f[s-o]]}),p.close().getCompiledFunction().fn()}case 17:case 18:case 19:case 20:case 21:case 22:case 42:case 0:case 2:case 3:case 49:throw new Error(`Programming Error: cannot interpret opcode ${n.type}`);default:let i=n;throw new Error(`Programming Error: unexpected opcode ${i.type}`)}}function xi(e,t){let r=[],n=[];for(let i=0;i<t;i++)n.push(!1);n.push(!0);for(let i=t;i>=0;i--){if(!n[i])continue;let s=e.getInstruction(i);if(s.type===2)r.push({symbol:e.argNames[i],scope:"free"});else if(_r(s))switch(s.type){case 19:r.push({symbol:s.callData.indexSymbol,scope:"integral"});break;case 17:r.push({symbol:s.callData.indexSymbol,scope:s.callData.type});break;case 21:if(s.listComprehensionCallData)for(let a of s.listComprehensionCallData.inputListSymbols)r.push({symbol:a,scope:"comprehension"});break;default:let o=s;throw new Error(`Programming Error: unexpected loop instruction ${o.type}`)}else s.type===3&&s.symbol&&r.push({symbol:s.symbol,scope:"symbolic-var"});if(!ne(s))for(let o of s.args)n[o]=!0}return r.reverse()}function lr(e,t){let r=e.getInstruction(t);if(r.type!==48)return t;if(r.isConstantBroadcast)return nI(e,t,r);let n=r.args[0],i=e.getInstruction(n),s=i.args[0],o=!1;for(let l=s+1;l<n;l++){let c=e.getInstruction(l);if(c.type===40&&c.args[1]===s){o=!0;break}}if(!o)return t;let a=[];for(let l=s;l<=n+i.args.length-1;l++){let c=e.getInstruction(l);if(ne(c))a.push(e.copyInstruction(c));else{let p=[];for(let f of c.args)p.push(f>=s?a[f-s]:f);c.type===40?a.push(e.InboundsListAccess(p)):a.push(e.copyInstructionWithArgs(c,p))}}let u=e.getInstruction(e.getReturnIndex());return u.type===48&&u.isConstantBroadcast?nI(e,e.getReturnIndex(),u):e.getReturnIndex()}function nI(e,t,r){if(r.valueType===Wt){let i=ur(e,t);if(i==null)throw Aa(xi(e,t));let s=[];for(let o=0;o<i;o++){let a=e.InboundsListAccess([t,e.Constant(o+1)]);s.push(a)}return e.List(s)}let n=cp(e,t);return t===e.getReturnIndex()&&e.popInstruction(),e.ConstantOfType(r.valueType,n)}function Ka(e,t,r){let n=e.getInstruction(t);if(k(n.valueType)){let i=ur(e,t);if(r=Math.floor(r),isNaN(r)||r<0||i!==void 0&&r>=i){let s=ot(n.valueType);return e.NanOfType(s)}return n.type===38?n.args[r]:n.type===1&&k(n.valueType)?e.ConstantOfType(ot(n.valueType),n.value[r]):n.type===48&&n.isConstantBroadcast?e.ConstantOfType(ot(n.valueType),KT(e,t,r)):i!==void 0?e.InboundsListAccess([t,e.Constant(r+1)]):e.ListAccess([t,e.Constant(r+1)])}else{if(n.valueType===w)return isNaN(r)||r<0||r>2?e.Constant(NaN):n.type===15?n.args[r]:n.type===1?e.Constant(n.value[r]):e.OrderedPairAccess([t,e.Constant(r+1)]);throw new Error(`Cannot access elements of ${Z(n.valueType)}`)}}function fp(e,t,r){let n=e.getInstruction(t);if(r.length===0)return e.ConstantOfType(n.valueType,[]);if(n.type===1&&k(n.valueType)){let i=[],s=ot(n.valueType);for(let o of r){let a=Math.floor(o);isNaN(a)||a<0||a>=Zn(e,t,"Programming error: expected Constant list instruction to have constant length.")?i.push(dn(s)):i.push(n.value[a])}return e.ConstantOfType(n.valueType,i)}else if(n.type===38){let i=[];for(let s of r){let o=Math.floor(s);if(isNaN(o)||o<0||o>=Zn(e,t,"Programming error: expected List instruction to have constant length.")){let a=ot(n.valueType);i.push(e.NanOfType(a))}else i.push(n.args[o])}return e.List(i)}else{if(n.type===48&&n.isConstantBroadcast)return e.ConstantOfType(n.valueType,eI(e,t,r));{let i=[],s=!0,o=ur(e,t);for(let u of r){let l=Math.floor(u);i.push(e.Constant(l+1)),(isNaN(l)||l<0||o===void 0||l>=o)&&(s=!1)}let a=[t,e.List(i)];return s?e.InboundsListAccess(a):e.ListAccess(a)}}}function sI(e){if(e.instructionsLength()-1!==e.getReturnIndex())throw new Error("Programming Error: only the final instruction in a chunk can be constant collapsed");let t=e.getInstruction(e.getReturnIndex());if(ne(t))return e.getReturnIndex();switch(t.type){case 8:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&i.type===1?(e.popInstruction(),e.Constant(Rg(n.value,i.value))):n.type===1&&F(n.value)===0?(e.popInstruction(),t.args[1]):i.type===1&&F(i.value)===0?(e.popInstruction(),t.args[0]):e.getReturnIndex()}case 9:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&i.type===1?(e.popInstruction(),e.Constant(wg(n.value,i.value))):n.type===1&&F(n.value)===0?(e.popInstruction(),e.Negative([t.args[1]])):i.type===1&&F(i.value)===0?(e.popInstruction(),t.args[0]):e.getReturnIndex()}case 10:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&i.type===1?(e.popInstruction(),e.Constant(Lg(n.value,i.value))):n.type===1&&F(n.value)===1?(e.popInstruction(),t.args[1]):i.type===1&&F(i.value)===1?(e.popInstruction(),t.args[0]):e.getReturnIndex()}case 11:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&i.type===1?(e.popInstruction(),e.Constant(Ag(n.value,i.value))):i.type===1&&F(i.value)===1?(e.popInstruction(),t.args[0]):e.getReturnIndex()}case 12:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);if(n.type===1&&i.type===1)return e.popInstruction(),e.Constant(Qa(n.value,i.value));if(n.type===1&&n.valueType===I){let s=F(n.value);if(s===Math.E)return e.popInstruction(),e.SyntheticNativeFunction("exp",[t.args[1]]);if(s>0)return e.popInstruction(),e.RawExponent(t.args)}if(i.type===1&&i.valueType===I){let s=F(i.value);if(s===1)return e.popInstruction(),t.args[0];if(s===Math.floor(s))return e.popInstruction(),e.RawExponent(t.args);if(St(i.value)){let{n:o,d:a}=i.value;if(a%2===1){e.popInstruction();let u=e.RawExponent([e.SyntheticNativeFunction("abs",[t.args[0]]),t.args[1]]);return o%2===0?u:e.Multiply([e.SyntheticNativeFunction("sign",[t.args[0]]),u])}}}return e.getReturnIndex()}case 13:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&i.type===1?(e.popInstruction(),e.Constant(Qa(n.value,i.value))):i.type===1&&F(i.value)===1?(e.popInstruction(),t.args[0]):e.getReturnIndex()}case 14:{let n=e.getInstruction(t.args[0]);return n.type===1?(e.popInstruction(),e.Constant(Cg(n.value))):e.getReturnIndex()}case 23:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&i.type===1?(e.popInstruction(),e.ConstantOfType(be,_g(n.value,i.value))):e.getReturnIndex()}case 24:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&i.type===1?(e.popInstruction(),e.ConstantOfType(be,Fg(n.value,i.value))):e.getReturnIndex()}case 25:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&i.type===1?(e.popInstruction(),e.ConstantOfType(be,Bg(n.value,i.value))):e.getReturnIndex()}case 26:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&i.type===1?(e.popInstruction(),e.ConstantOfType(be,Vg(n.value,i.value))):e.getReturnIndex()}case 27:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&i.type===1?(e.popInstruction(),e.ConstantOfType(be,Gg(n.value,i.value))):e.getReturnIndex()}case 30:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&i.type===1?(e.popInstruction(),e.ConstantOfType(be,ZT(n.value,i.value))):e.getReturnIndex()}case 31:{let n=e.getInstruction(t.args[0]);return n.type===1?(e.popInstruction(),n.value?t.args[1]:t.args[2]):e.getReturnIndex()}case 16:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===15&&i.type===1?(e.popInstruction(),n.args[F(i.value)-1]):n.type===1&&n.valueType===w&&i.type===1?(e.popInstruction(),e.Constant(n.value[F(i.value)-1])):e.getReturnIndex()}case 38:{if(BN(e,t.args)){e.popInstruction();let n=[];for(let i of t.args)n.push(e.getInstruction(i).value);return e.ConstantOfType(t.valueType,n)}return e.getReturnIndex()}case 39:case 41:{let n=t.args[0],i=e.getInstruction(n),s=e.getInstruction(t.args[1]);if(i.type===31&&s.type===1){let o=t.type===39?e.ListAccess([i.args[1],t.args[1]]):e.InboundsListAccess([i.args[1],t.args[1]]),a=t.type===39?e.ListAccess([i.args[2],t.args[1]]):e.InboundsListAccess([i.args[2],t.args[1]]);return e.Piecewise([i.args[0],o,a])}if(i.type===48){if(s.type===1&&i.isConstantBroadcast&&i.valueType!==Wt)return e.ConstantOfType(t.valueType,cp(e,e.getReturnIndex()));e.popInstruction();let o=i.args[0],a=n-o,u=e.getInstruction(o),l=u.args[0],c,p;if(t.type===41)c=t.args[1];else{let m=ur(e,n);if(s.type===1&&s.valueType===I&&m!==void 0){let d=F(s.value),y=Math.floor(d);if(y<1||y>m)return e.NanOfType(t.valueType);c=d===y?t.args[1]:e.Constant(y)}else{let d=e.Constant(1),g=e.getInstruction(l).args[0],h=e.SyntheticNativeFunction("floor",[t.args[1]]),x=e.GreaterEqual([h,d]),P=e.LessEqual([h,g]);c=e.Piecewise([x,e.Piecewise([P,h,g]),d]),p={one:d,lengthIndex:g,roundedIndex:h,greaterEqualIndex:x,lessEqualIndex:P}}}if(u.args[a]<l)return u.args[a];let f=[c];for(let m=l+1;m<=u.args[a];m++){let d=e.getInstruction(m);if(ne(d))f.push(e.copyInstruction(d));else{let y=[];for(let g of d.args)y.push(g>=l?f[g-l]:g);d.type===40?f.push(e.InboundsListAccess(y)):f.push(e.copyInstructionWithArgs(d,y))}}if(p){let{greaterEqualIndex:m,lessEqualIndex:d,lengthIndex:y,one:g}=p,h=ot(i.valueType),x=e.NanOfType(h),P=f[f.length-1],D=e.And([e.And([m,d]),e.GreaterEqual([y,g])]);return e.Piecewise([D,P,x])}else return f[f.length-1]}else if(s.type===1&&s.valueType===I)if(i.type===38){e.popInstruction();let o=Math.floor(F(s.value))-1;return isNaN(o)||o<0||o>=i.args.length?e.NanOfType(t.valueType):i.args[o]}else if(i.type===1){e.popInstruction();let o=Math.floor(F(s.value))-1;return isNaN(o)||o<0||o>=i.value.length?e.NanOfType(t.valueType):e.ConstantOfType(ot(i.valueType),i.value[o])}else return e.getReturnIndex();else return e.getReturnIndex()}case 47:{let n=e.getInstruction(t.args[0]);if(!mr(n)||lp(e,e.getReturnIndex(),n.args[0]))return e.getReturnIndex();let i=e.copy();i.close();let s=i.getCompiledFunction().fn();return e.popInstruction(),Dg(e,t.valueType,s)}case 37:switch(t.symbol){case"nthroot":{let n=iI(e,t.args);if(n!==void 0)return e.Constant(Gu(n[0],n[1]));{let i=e.getInstruction(t.args[1]);if(i.type===1&&i.valueType===I)return e.Exponent([t.args[0],e.Constant(la(i.value))])}return e.getReturnIndex()}case"count":{let n=ur(e,t.args[0]);return n!==void 0?(e.popInstruction(),e.Constant(n)):e.getReturnIndex()}case"select":if(It(e.getInstruction(t.args[1]))){e.popInstruction();let n=ht(e,t.args[1]),i=[];for(let s=0;s<n.length;s++)n[s]&&i.push(s);return fp(e,t.args[0],i)}else return e.getReturnIndex();case"shuffle":{let n=t.args[0],i=t.args[1],s=ur(e,i);if(s!==void 0&&It(e.getInstruction(n))){e.popInstruction();let o=sg(ht(e,n),s);return fp(e,i,o)}else return e.getReturnIndex()}case"elementsAt":{let n=t.args[0],i=t.args[1];if(It(e.getInstruction(i))){e.popInstruction();let s=ht(e,i);return fp(e,n,s)}return e.getReturnIndex()}default:{let n=iI(e,t.args);return n===void 0?e.getReturnIndex():(e.popInstruction(),e.ConstantOfType(t.valueType,kg(t.symbol,n)))}}case 44:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return It(n)&&It(i)?e.ConstantOfType(tt,qg(t.tag,ht(e,t.args[0]),ht(e,t.args[1]))):e.getReturnIndex()}case 15:{let n=e.getInstruction(t.args[0]),i=e.getInstruction(t.args[1]);return n.type===1&&n.valueType===I&&i.type===1&&i.valueType===I?e.ConstantOfType(w,[n.value,i.value]):e.getReturnIndex()}case 48:{let n=ur(e,e.getReturnIndex());return n!==void 0&&n===0?(e.popInstruction(),e.ConstantOfType(t.valueType,[])):e.getReturnIndex()}case 49:{for(let i of t.args)if(!is(e.getInstruction(i)))return e.getReturnIndex();e.popInstruction();let n={};for(let i=0;i<t.symbols.length;i++){let s=t.symbols[i],o=e.getInstruction(t.args[i]);if(o.type===48&&(o=e.getInstruction(lr(e,t.args[i]))),o.type!==1)throw new Error("Expected instruction to be constant");let{valueType:a,value:u}=o;jT(a,u)||(n[s]={value:u,valueType:a})}return e.ConstantOfType(Ge,{type:"Action",updateRules:n})}case 18:case 20:case 21:case 22:case 40:case 42:case 19:case 17:return e.getReturnIndex();default:let r=t;throw new Error(`Unexpected opcode ${r.type}`)}}function BN(e,t){for(let r of t){let n=e.getInstruction(r);if(!It(n))return!1}return!0}function iI(e,t){let r=[];for(let n of t){let i=e.getInstruction(n);if(It(i))r.push(i.value);else return}return r}function nn(e,t){let r=[];for(let n of t)r.push(Z(e.getInstruction(n).valueType));return r}function vr(e,t){let r=[];for(let n of t){let i=e.getInstruction(n).valueType,s=k(i)?ot(i):i;r.push(Z(s))}return r}function W(e,t,r){return pe(e.getInstruction(t).valueType,r)}function oI(e,t){let r=e.getInstruction(t);if(ne(r))return;let n=zg(e,r),i;if(n.isReducerWithNoListArgs?i=[n.expectedListType]:i=n.expectedTypes,r.type===49){for(let u of r.args){let l=e.getInstruction(u).valueType;if(!pe(l,I)&&!pe(l,w)&&!pe(l,et)&&!pe(l,ye)&&!pe(l,ue)&&!pe(l,J)&&!pe(l,ge)&&!pe(l,Q)&&!pe(l,X)&&!pe(l,xe)&&!pe(l,le))throw Bd(Z(l))}let a={};for(let u of r.symbols){if(a[u])throw Gd(u);a[u]=!0}return}let s=[];for(let a=0;a<r.args.length;a++){let u=e.getInstruction(r.args[a]).valueType,l=i[a];Es(u,l)||s.push(r.args[a])}if(s.length===0)return;let o=nn(e,r.args);switch(r.type){case 8:throw ld(o);case 9:throw cd(o);case 10:throw pd(o);case 11:throw fd(o);case 12:case 13:throw dd(o);case 14:throw md(o);case 23:case 24:case 25:case 26:case 27:throw yd(o);case 30:throw gd(o);case 31:throw e.getInstruction(r.args[0]).valueType!==be?Ld(o):Ad([Z(e.getInstruction(r.args[1]).valueType),Z(e.getInstruction(r.args[2]).valueType)]);case 15:throw hd(Z(e.getInstruction(s[0]).valueType));case 16:throw bd(o);case 19:{let a=e.getInstruction(r.args[0]).valueType,u=e.getInstruction(r.args[1]).valueType;if(a!==I)throw Od([Z(a)]);if(u!==I)throw Nd([Z(u)]);return}case 20:{let a=e.getInstruction(r.args[1]).valueType;throw Dd([Z(a)])}case 38:{if(r.args.length===0)return;let a=e.getInstruction(r.args[0]).valueType;if(!En(a))throw Gs([Z(a)]);for(let u of r.args){let l=e.getInstruction(u).valueType;if(!En(l))throw Gs([Z(l)]);if(l!==a)throw xa()}return}case 39:case 40:case 41:throw Mo(o);case 37:{let a=r.args,u=r.symbol,l=or[u],c=r.callData.errorSymbol;if(l.tag==="doubleReducer"){if(!k(e.getInstruction(a[0]).valueType)||!k(e.getInstruction(a[1]).valueType))throw Sa(c)}else if(l.tag==="parameterizedReducer"&&!k(e.getInstruction(a[0]).valueType))throw ey(c);throw Pt(c,nn(e,a))}case 44:{if(e.getInstruction(r.args[0]).valueType!==tt||e.getInstruction(r.args[1]).valueType!==tt&&e.getInstruction(r.args[1]).valueType!==I)throw Te();return}case 42:throw Pt(r.symbol,o);case 48:case 47:case 21:case 22:case 17:case 18:throw Te();default:{let a=r;throw new Error(`Unexpected opcode: ${a.type}`)}}}function zg(e,t){switch(t.type){case 8:case 9:case 10:case 11:case 12:case 13:case 23:case 24:case 25:case 26:case 27:return{expectedTypes:[I,I]};case 14:return{expectedTypes:[I]};case 30:return{expectedTypes:[be,be]};case 31:return{expectedTypes:[be,t.valueType,t.valueType]};case 15:return{expectedTypes:t.args.map(()=>I)};case 16:return{expectedTypes:[w,I]};case 19:return{expectedTypes:[I,I]};case 20:return{expectedTypes:[I,I]};case 38:{let r=t.valueType,n=ot(r);return{expectedTypes:t.args.map(()=>n)}}case 39:case 40:case 41:return{expectedTypes:[Mt,I]};case 37:{let r=t.symbol,n=or[r];return n.tag==="reducer"&&!VN(e,t.args)&&k(n.argumentTypes[0])?{isReducerWithNoListArgs:!0,expectedListType:n.argumentTypes[0]}:{expectedTypes:n.argumentTypes}}case 44:return e.getInstruction(t.args[0]).valueType===tt&&e.getInstruction(t.args[1]).valueType!==tt?{expectedTypes:[tt,I]}:{expectedTypes:t.args.map(r=>e.getInstruction(r).valueType)};case 47:return{expectedTypes:t.args.map(r=>e.getInstruction(r).valueType)};case 21:return{expectedTypes:[I]};case 17:return{expectedTypes:t.args.map(()=>I)};case 22:case 18:{let r=[I];for(let n=1;n<t.args.length;n++)r.push(e.getInstruction(t.args[n]).valueType);return{expectedTypes:r}}case 42:return{expectedTypes:t.args.map(()=>I)};case 48:case 49:return{expectedTypes:t.args.map(r=>e.getInstruction(r).valueType)};default:{let r=t;throw new Error(`Unexpected opcode: ${r.type}`)}}}function VN(e,t){for(let r of t)if(k(e.getInstruction(r).valueType))return!0;return!1}function dp(e){let t=[];for(let r=0;r<e.instructionsLength();r++){t.push(0);let n=e.getInstruction(r);if(!ne(n))if(mr(n)&&n.type!==20)for(let i of n.args)t[i]=1/0;else for(let i of n.args)t[i]+=1}return t}function sn(e){return`_${e}`}function ae(e,t){let r=t[e];return r!==void 0?r:sn(e)}function aI(e){let t=dp(e),r=[],n=[],i=lI(e,e.argNames.length,e.instructionsLength()-1,t),s=0;for(;s<e.instructionsLength();){let o=e.getInstruction(s),{source:a,nextIdx:u}=uI(e,o,s,t,r,n);i+=a,s=u}return i+=`return ${ae(e.getReturnIndex(),r)};`,{source:i,constants:n}}function uI(e,t,r,n,i,s){let o=r+1;switch(t.type){case 0:case 47:case 48:case 20:case 49:return{source:"",nextIdx:o};case 19:return{source:qN(e,t,r,n,i,s),nextIdx:t.endIndex};case 2:return i[r]=e.argNames[r],{source:"",nextIdx:o};case 21:return{source:kN(e,t,r,i),nextIdx:o};case 22:return{source:zN(e,t,r,i),nextIdx:o};case 17:return{source:UN(e,t,r,i),nextIdx:o};case 18:return{source:HN(e,t,r,i),nextIdx:o};default:{let a=$N(t,i,s);return n[r]<=1?(i[r]=`(${a})`,{source:"",nextIdx:o}):{source:`${sn(r)}=${a};\n`,nextIdx:o}}}}function GN(e,t,r,n,i,s){let{endIndex:o}=t,a=`function(${sn(r)}) {\n`;a+=lI(e,r+1,o-1,n);let u=r+1;for(;u<o;){let c=e.getInstruction(u),{source:p,nextIdx:f}=uI(e,c,u,n,i,s);a+=p,u=f}let l=e.getInstruction(o);return a+=`return ${ae(l.args[1],i)};\n}`,a}function qN(e,t,r,n,i,s){let o="BuiltIn.quad(";o+=GN(e,t,r,n,i,s),o+=`,${ae(t.args[0],i)},${ae(t.args[1],i)})`;let{endIndex:a}=t;return n[a+1]<=1?(i[a+1]=o,""):`${sn(a+1)}=${o};`}function lI(e,t,r,n){let i="",s=!1;for(let o=t;o<=r;o++){let a=e.getInstruction(o);if(!(a.type===0||a.type===22||a.type===18)){if(a.type===19){let{endIndex:u}=a;o=n[u+1]<=1?u+1:u;continue}n[o]<=1&&!_r(a)&&!mr(a)&&a.type!==47&&a.type!==48||(s?i+=",":(i+="var ",s=!0),i+=sn(o))}}return s&&(i+=`;\n`),i}function kN(e,t,r,n){let i=sn(r),s=e.getInstruction(t.endIndex),o=ae(t.args[0],n),a="";for(let u=1;u<s.args.length;u++){let l=t.endIndex+u;if(e.getInstruction(l).type!==48)continue;let c=sn(l);a+=`${c}=[];\n`}return a+=`if(${o}>${1e4}) throw ErrorMsg.maxListSize();\n`,a+=`for(${i}=1;${i}<=${o};${i}++){\n`,a}function zN(e,t,r,n){let i="";for(let s=1;s<t.args.length;s++){let o=r+s;if(o>=e.instructionsLength()||e.getInstruction(o).type!==48)continue;let a=sn(r+s);i+=`${a}.push(${ae(t.args[s],n)});\n`}return i+=`}\n`,i}function UN(e,t,r,n){let i=sn(r),s=`${ae(t.args[0],n)}`,o=`${ae(t.args[1],n)}`,a=`if(${s}>${o}){\n`;for(let u=2;u<t.args.length;u++){let l=t.endIndex+u-1;if(l>=e.instructionsLength()||e.getInstruction(l).type!==47)continue;let c=sn(l);a+=`${c}=${ae(t.args[u],n)};\n`}a+=`}else if(!isFinite(${o}-${s})){\n`;for(let u=2;u<t.args.length;u++){let l=t.endIndex+u-1;if(l>=e.instructionsLength())continue;let c=e.getInstruction(l);if(c.type!==47)continue;let p=sn(l);a+=`${p}=${mp(dn(c.valueType))};\n`}a+=`}else{\n`;for(let u=2;u<t.args.length;u++){let l=r+u-1;if(e.getInstruction(l).type!==47)continue;let c=sn(l);a+=`${c}=${ae(t.args[u],n)};\n`}return a+=`for(${i}=${s};${i}<=${o};${i}++){\n`,a}function HN(e,t,r,n){let i="";for(let s=1;s<t.args.length;s++){let o=t.args[0]+s;if(e.getInstruction(o).type!==47)continue;let a=sn(o);i+=`${a}=${ae(t.args[s],n)};\n`}i+=`}\n`;for(let s=1;s<t.args.length;s++){let o=r+s;if(o>=e.instructionsLength()||e.getInstruction(o).type!==47)continue;let a=sn(o);i+=`${a}=${ae(t.args[s],n)};\n`}return i+=`}\n`,i}function $N(e,t,r){switch(e.type){case 1:return e.valueType===I||e.valueType===be||e.valueType===w?mp(e.value):(r.push(Yn(e.value)),`_C[${r.length-1}]`);case 8:return`${ae(e.args[0],t)}+${ae(e.args[1],t)}`;case 9:return`${ae(e.args[0],t)}-${ae(e.args[1],t)}`;case 10:return`${ae(e.args[0],t)}*${ae(e.args[1],t)}`;case 11:return`${ae(e.args[0],t)}/${ae(e.args[1],t)}`;case 12:return`BuiltIn.pow(${ae(e.args[0],t)},${ae(e.args[1],t)})`;case 13:return`Math.pow(${ae(e.args[0],t)},${ae(e.args[1],t)})`;case 14:return`-${ae(e.args[0],t)}`;case 23:return`${ae(e.args[0],t)}===${ae(e.args[1],t)}`;case 24:return`${ae(e.args[0],t)}<${ae(e.args[1],t)}`;case 25:return`${ae(e.args[0],t)}>${ae(e.args[1],t)}`;case 26:return`${ae(e.args[0],t)}<=${ae(e.args[1],t)}`;case 27:return`${ae(e.args[0],t)}>=${ae(e.args[1],t)}`;case 30:return`${ae(e.args[0],t)}&&${ae(e.args[1],t)}`;case 31:return`${ae(e.args[0],t)}?${ae(e.args[1],t)}:${ae(e.args[2],t)}`;case 15:return`[${ae(e.args[0],t)},${ae(e.args[1],t)}]`;case 16:return`${ae(e.args[0],t)}[${ae(e.args[1],t)}-1]`;case 38:return`[${e.args.map(i=>ae(i,t)).join(",")}]`;case 40:case 42:case 3:throw new Error(`Programming Error: expect ${rn(e.type)} to be removed before emitting code.`);case 39:{let i=ae(e.args[0],t),s=ae(e.args[1],t);return`(Math.floor(${s})>=1&&Math.floor(${s})<=${i}.length)?${i}[Math.floor(${s})-1]:${mp(dn(e.valueType))}`}case 41:{let i=ae(e.args[0],t),s=ae(e.args[1],t);return`${i}[${s}-1]`}case 37:{let i=or[e.symbol],s=e.args.map(o=>ae(o,t)).join(",");return`${i.module}.${i.symbol}(${s})`}case 44:return`${ae(e.args[0],t)}+\'::${e.tag}\'+${ae(e.args[1],t)}`;case 2:case 0:case 19:case 20:case 17:case 18:case 21:case 22:case 47:case 48:case 49:throw new Error(`Unexpected opcode ${e.type}`);default:let n=e;throw new Error(`Unexpected opcode ${n.type}`)}}function mp(e){if(Array.isArray(e))return`[${e.map(mp).join(",")}]`;switch(typeof e){case"boolean":case"number":return e.toString();case"string":return`${JSON.stringify(e)}`;case"object":if(Do(e))throw new Error("Action values cannot be compiled");return F(e).toString();default:throw new Error("Unexpected value: "+e)}}function wt(e,t,r){switch(t){case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 16:case 19:case 17:case 21:return I;case 23:case 24:case 25:case 26:case 27:case 30:return be;case 31:{let i=e.getInstruction(r[1]).valueType,s=e.getInstruction(r[2]).valueType;return i===de&&k(s)?s:(i===xe||i===le)&&s===I?I:(i===vt||i===Et)&&s===Y?Y:i}case 15:return w;case 38:{if(r.length===0)return de;let i=e.getInstruction(r[0]).valueType;if(i===xe||i===le){let s=!1,o=!0;for(let a of r){let u=e.getInstruction(a).valueType;if(u===I&&(s=!0),u!==I&&u!==xe&&u!==le){o=!1;break}}s&&o&&(i=I)}return En(i)?Zr(i):Mt}case 39:case 40:case 41:{let i=e.getInstruction(r[0]).valueType;return k(i)?ot(i):Jt}case 44:return tt;case 49:return Ge;case 1:case 2:case 37:case 42:case 47:case 48:case 3:case 0:case 22:case 20:case 18:return Jt;default:let n=t;throw new Error(`Unexpected opcode ${n}`)}}function cI(e){let t=[];for(let r=0;r<e.instructionsLength();r++)t.push(!1);t[e.getReturnIndex()]=!0;for(let r=e.instructionsLength()-1;r>=0;r--){if(!t[r]){e.replaceInstructionWithNoop(r);continue}let n=e.getInstruction(r);if(!ne(n))for(let i of n.args)t[i]=!0}}function Cn(e,t){return e.pushLeafInstruction(t)}function Lt(e,t,r){switch(t.type){case 8:return e.Add(r);case 9:return e.Subtract(r);case 10:return e.Multiply(r);case 11:return e.Divide(r);case 12:return e.Exponent(r);case 13:return e.RawExponent(r);case 14:return e.Negative(r);case 23:return e.Equal(r);case 24:return e.Less(r);case 25:return e.Greater(r);case 26:return e.LessEqual(r);case 27:return e.GreaterEqual(r);case 30:return e.And(r);case 31:return e.Piecewise(r);case 47:return e.BlockVar(t.valueType,r);case 48:return e.BroadcastResult(t.valueType,r);case 15:return e.OrderedPair(r);case 16:return e.OrderedPairAccess(r);case 37:return e.NativeFunction(t.symbol,t.callData,r);case 42:return e.Distribution(t.symbol,r);case 19:return e.BeginIntegral(t.callData,r);case 20:return e.EndIntegral(r);case 21:return e.BeginBroadcast(r);case 22:return e.EndBroadcast(r);case 17:return e.BeginLoop(t.callData,r);case 18:return e.EndLoop(r);case 38:return e.List(r);case 39:return e.ListAccess(r);case 40:return e.DeferredListAccess(r);case 41:return e.InboundsListAccess(r);case 44:return e.ExtendSeed(t.tag,r);case 49:return e.Action(t.symbols,r);default:let n=t;throw new Error(`Unexpected opcode ${n.type}`)}}function pI(e){if(e.instructionsLength()-1!==e.getReturnIndex())throw new Error("Programming Error: only the final instruction in a chunk can be converted to broadcast");let t=e.getInstruction(e.getReturnIndex());if(ne(t))return e.getReturnIndex();switch(t.type){case 8:case 9:case 10:case 11:case 12:case 13:case 23:case 24:case 25:case 26:case 27:case 30:case 15:case 14:case 31:case 16:return zo(e,t);case 42:return lr(e,zo(e,t));case 37:{let n=or[t.symbol];switch(n.tag){case"default":case"trig":case"trig2":case"inverseTrig":case"color":return zo(e,t);case"never-broadcast":{let i=[],s=!1;for(let o of t.args){let a=lr(e,o);a!==o?(s=!0,i.push(a)):i.push(o)}return s?e.copyInstructionWithArgs(t,i):e.getReturnIndex()}case"reducer":if(WN(e,t.args))if(t.args.length===1){let i=t.args[0],s=lr(e,i);return s!==i?e.copyInstructionWithArgs(t,[s]):e.getReturnIndex()}else return zo(e,t);else return e.getReturnIndex();case"doubleReducer":{if(t.args.length!==2)throw new Error("Programming error: double reducers must have two arguments");let i=lr(e,t.args[0]),s=lr(e,t.args[1]);return i!==t.args[0]||s!==t.args[1]?e.copyInstructionWithArgs(t,[i,s]):e.getReturnIndex()}case"parameterizedReducer":{if(t.args.length!==2)throw new Error("Programming error: double reducers must have two arguments");let i=lr(e,t.args[0]);return i===t.args[0]?zo(e,t,[!1,!0]):e.copyInstructionWithArgs(t,[i,t.args[1]])}default:{let i=n.tag;throw new Error(`Programming Error: unexpected tag ${i}`)}}}case 39:case 40:case 41:return zo(e,t,[!1,!0]);case 19:case 20:case 17:case 18:return e.getReturnIndex();case 38:case 47:case 21:case 22:case 48:case 44:case 49:return e.getReturnIndex();default:let r=t;throw new Error(`Unexpected opcode ${r.type}`)}}function WN(e,t){for(let r of t)if(k(e.getInstruction(r).valueType))return!0;return!1}function zo(e,t,r){let n=t.args,i=!1,s=[];for(let m=0;m<n.length;m++){if(r&&!r[m])continue;let d=n[m],y=e.getInstruction(d).valueType;k(y)&&s.indexOf(d)===-1&&s.push(d),y===de&&(i=!0)}if(s.length===0)return e.getReturnIndex();if(t.type===31&&s.indexOf(t.args[0])==-1&&s.indexOf(t.args[1])>=0&&s.indexOf(t.args[2])>=0){let m=lr(e,t.args[1]),d=lr(e,t.args[2]);return m!==t.args[1]||d!==t.args[2]?Lt(e,t,[t.args[0],m,d]):e.getReturnIndex()}e.popInstruction();let o=Za(e,s);if(o===void 0)throw new Error("Programming Error: expected minListLength to be defined for "+s.length+" lists");let a=o;if(It(e.getInstruction(a))&&ht(e,a)===0&&i)return e.ConstantOfType(de,[]);let u=e.BeginBroadcast([a]),l=[];for(let m of s)l.push(ss(e,m,u));let c=[];for(let m=0;m<n.length;m++){let d=n[m];if(r&&!r[m])c.push(d);else{let y=s.indexOf(d);c.push(y===-1?d:l[y])}}let p=e.copyInstructionWithArgs(t,c),f=e.EndBroadcast([u,p]);return e.BroadcastResult(Zr(e.getInstruction(p).valueType),[f])}function ss(e,t,r){return e.getInstruction(t).type==48?e.DeferredListAccess([t,r]):e.InboundsListAccess([t,r])}function fI(e){let t=[];t.push("digraph {");for(let r=0;r<e.instructionsLength();r++)e.getInstruction(r).type!==0&&t.push(`${r} [label="${r}: ${Ks(e,r)}"];`);for(let r=0;r<e.instructionsLength();r++){let n=e.getInstruction(r);if(WT(n))for(let i of n.args)t.push(`${r} -> ${i};`)}return t.push("}"),t.join(`\n`)}function Uo(e,t){let r=[];for(let n=0;n<e.instructionsLength();n++)r.push(!1);r[t]=!0;for(let n=0;n<=1;n++){let i=!1;for(let s=t+1;s<e.instructionsLength();s++){let o=e.getInstruction(s);if(ne(o)||r[s])continue;let a=!1;for(let u of o.args)if(r[u]){a=!0;break}r[s]=a,a&&mr(o)&&!r[o.args[0]]&&(r[o.args[0]]=!0,i=!0)}if(!i)break}return r}function dI(e,t,r){let n=e.argNames.indexOf(t);if(n===-1)return 0;let i=Ur(e,n,r);return Bt(i,e.getReturnIndex())}function Ur(e,t,{allowRestriction:r,allowClosedBlockReferences:n}){return{chunk:e,argIndex:t,orderTable:[],mask:Uo(e,t),allowRestriction:r,allowClosedBlockReferences:n}}function Bt(e,t){let r=e.orderTable[t];if(r!==void 0)return r;let n=YN(e,t);return e.orderTable[t]=n,n}function YN(e,t){let{chunk:r,mask:n,argIndex:i,allowRestriction:s,allowClosedBlockReferences:o}=e;if(!o&&r.isInClosedBlock(t))return 1/0;if(t===i)return 1;let a=r.getInstruction(t);if(_r(a)||mr(a))return 1/0;switch(a.type){case 8:case 9:case 24:case 26:case 25:case 27:{let[l,c]=a.args;return Math.max(Bt(e,l),Bt(e,c))}case 10:{let[l,c]=a.args;return Bt(e,l)+Bt(e,c)}case 14:return Bt(e,a.args[0]);case 11:{let[l,c]=a.args;return Bt(e,c)>0?1/0:Bt(e,l)}case 12:case 13:{let[l,c]=a.args,p=r.getInstruction(c);if(Bt(e,l)===0&&Bt(e,c)===0)return 0;if(p.type===1){let f=F(p.value);return f===Math.round(f)&&f>0?Bt(e,l)*f:1/0}else return 1/0}case 31:{if(!n[t])return 0;let l=r.getInstruction(a.args[2]);return s&&l.type===1&&isNaN(F(l.value))?Bt(e,a.args[1]):1/0}case 2:case 0:case 1:case 23:case 30:case 15:case 16:case 38:case 39:case 40:case 41:case 37:case 42:case 48:case 47:case 3:case 44:case 49:return n[t]?1/0:0;default:let u=a;throw new Error(`Unexpected opcode ${u.type}`)}}function mI(e,t){let r=e.argNames.indexOf(t),n=_n(Ur(e,r,{allowRestriction:!0,allowClosedBlockReferences:!1}));if(Bt(n.orderCtx,e.getReturnIndex())>2)throw new Error("Programming Error: cannot compute polynomial coefficients for polynomials of order greater than 2");let i=Ut(n,e.getReturnIndex()),s=!1;for(let o=0;o<e.instructionsLength();o++)e.getInstruction(o).type===31&&n.mask[o]&&(s=!0);return{chunk:n.newChunk,coefficients:i,mappedArgIndex:n.valueMap[r],mappedReturnIndex:n.valueMap[e.getReturnIndex()],isRestrictedPolynomial:s}}function _n(e){let{chunk:t,argIndex:r}=e;if(t.isInClosedBlock(r))throw new Error("Programming Error: cannot find polynomial coefficients of an instruction in a closed block");let n,i;r>=0&&r<t.argNames.length?(n=t.argNames.slice(),i=t.argTypes.slice(),n.splice(r,1),i.splice(r,1)):(n=t.argNames,i=t.argTypes);let s=new Pi({argNames:n,argTypes:i}),o=[];for(let p=0;p<t.instructionsLength();p++){let f=t.getInstruction(p);if(f.type===2)p<r||r<0?o.push(p):p===r?o.push(s.SymbolicVar(t.argTypes[p])):o.push(p-1);else if(ne(f))o.push(Cn(s,f));else{let m=[];for(let d of f.args)m.push(o[d]);o.push(Lt(s,f,m))}}let a=[],u=s.Constant(0),l=s.Constant(1),c=s.Constant(NaN);return{chunk:t,newChunk:s,orderCtx:e,coefficientTable:a,mask:e.mask,valueMap:o,argIndex:r,zero:u,one:l,nan:c}}function Ut(e,t){let{newChunk:r,orderCtx:n,coefficientTable:i,mask:s,valueMap:o,argIndex:a,zero:u,one:l,nan:c}=e,p=i[t];if(p!==void 0)return p;let f;for(s[t]?t===a?f=[u,l]:Bt(n,t)>2?f=[c]:f=XN(e,t):f=[o[t]];f.length>1;){let m=r.getInstruction(f[f.length-1]);if(m.type===1&&F(m.value)===0)f.pop();else break}if(f.length===0)throw new Error("Programming Error: coefficients cannot be empty");return i[t]=f,f}function XN(e,t){let r=e.chunk.getInstruction(t),{newChunk:n}=e;switch(r.type){case 8:{let[s,o]=r.args,a=Ut(e,s),u=Ut(e,o),l=a.length-1,c=u.length-1,p=[];for(let f=0;f<=Math.max(l,c);f++)l>=f&&c>=f?p.push(n.Add([a[f],u[f]])):p.push(l>c?a[f]:u[f]);return p}case 9:case 24:case 26:case 25:case 27:{let[s,o]=r.args;(r.type===24||r.type==26)&&([s,o]=[o,s]);let a=Ut(e,s),u=Ut(e,o),l=a.length-1,c=u.length-1,p=[];for(let f=0;f<=Math.max(l,c);f++)l>=f&&c>=f?p.push(n.Subtract([a[f],u[f]])):p.push(l>c?a[f]:n.Negative([u[f]]));return p}case 14:{let s=r.args[0],o=Ut(e,s),a=[];for(let u=0;u<o.length;u++)a.push(n.Negative([o[u]]));return a}case 10:{let[s,o]=r.args,a=Ut(e,s),u=Ut(e,o),l=a.length-1,c=u.length-1,p=[];for(let f=0;f<=l;f++)for(let m=0;m<=c;m++){if(f+m>2)continue;let d=n.Multiply([a[f],u[m]]),y=p[f+m];y===void 0?p[f+m]=d:p[f+m]=n.Add([y,d])}return p}case 11:{let[s,o]=r.args,a=Ut(e,s),u=Ut(e,o),l=[];for(let c=0;c<a.length;c++)l.push(n.Divide([a[c],u[0]]));return l}case 12:case 13:{let[s,o]=r.args,a=Ut(e,s),u=Ut(e,o);if(a.length-1===0)return[n.RawExponent([a[0],u[0]])];let c=n.getInstruction(u[0]);switch(F(c.value)){case 0:return[n.Constant(0)];case 1:return a;case 2:return[n.Multiply([a[0],a[0]]),n.Multiply([n.Constant(2),n.Multiply([a[0],a[1]])]),n.Multiply([a[1],a[1]])]}}case 31:return Ut(e,r.args[1]);case 0:case 21:case 2:case 1:case 23:case 30:case 15:case 16:case 38:case 39:case 40:case 41:case 37:case 42:case 19:case 20:case 17:case 18:case 22:case 48:case 47:case 3:case 44:case 49:throw new Error(`Cannot find polynomial coefficients of opcode ${r.type} that depends on symbol.`);default:let i=r;throw new Error(`Unexpected opcode ${i.type}`)}}function yI(e){if(e.instructionsLength()-1!==e.getReturnIndex())throw new Error("Programming Error: only the final instruction in a chunk can be converted to broadcast");let t=e.getInstruction(e.getReturnIndex());if(ne(t))return e.getReturnIndex();switch(t.type){case 8:if(os(e,t.args[0])&&os(e,t.args[1])){let n=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Add([e.OrderedPairAccess([t.args[0],n]),e.OrderedPairAccess([t.args[1],n])]),e.Add([e.OrderedPairAccess([t.args[0],i]),e.OrderedPairAccess([t.args[1],i])])])}else return e.getReturnIndex();case 9:if(os(e,t.args[0])&&os(e,t.args[1])){let n=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Subtract([e.OrderedPairAccess([t.args[0],n]),e.OrderedPairAccess([t.args[1],n])]),e.Subtract([e.OrderedPairAccess([t.args[0],i]),e.OrderedPairAccess([t.args[1],i])])])}else return e.getReturnIndex();case 14:if(os(e,t.args[0])){let n=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Negative([e.OrderedPairAccess([t.args[0],n])]),e.Negative([e.OrderedPairAccess([t.args[0],i])])])}else return e.getReturnIndex();case 10:if(os(e,t.args[0])&&Ug(e,t.args[1])){let n=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Multiply([e.OrderedPairAccess([t.args[0],n]),t.args[1]]),e.Multiply([e.OrderedPairAccess([t.args[0],i]),t.args[1]])])}else if(Ug(e,t.args[0])&&os(e,t.args[1])){let n=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Multiply([t.args[0],e.OrderedPairAccess([t.args[1],n])]),e.Multiply([t.args[0],e.OrderedPairAccess([t.args[1],i])])])}else return e.getReturnIndex();case 11:if(os(e,t.args[0])&&Ug(e,t.args[1])){let n=e.Constant(1),i=e.Constant(2);return e.OrderedPair([e.Divide([e.OrderedPairAccess([t.args[0],n]),t.args[1]]),e.Divide([e.OrderedPairAccess([t.args[0],i]),t.args[1]])])}else return e.getReturnIndex();case 12:case 13:case 23:case 24:case 25:case 26:case 27:case 30:case 15:case 31:case 16:case 37:case 42:case 39:case 40:case 41:case 19:case 20:case 17:case 18:case 38:case 47:case 21:case 22:case 48:case 44:case 49:return e.getReturnIndex();default:let r=t;throw new Error(`Unexpected opcode ${r.type}`)}}function os(e,t){return e.getInstruction(t).valueType===w}function Ug(e,t){return e.getInstruction(t).valueType===I}var JN=["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf","FunctionDefinition","UpdateRule","Substitution"],yp={isGeometryEnabled(){return!1},areAllScalesLinear(){return!0},assignmentForbidden(e){return!0},substitutionForbidden(e){return!0},graphingEnabled(){return!1},isValidSlider(e){return!1},sliderVariables(e){return[]},ansEnabled(){return!1},disabledFeatures(){return JN},dimensionVarsEnabled(){return!1}};function gI(e){return 48<=e&&e<=57}function jN(e){return 97<=e&&e<=122}function ZN(e){return 65<=e&&e<=90}function gp(e){return jN(e)||ZN(e)}function hp(e){return e===92}function Hg(e){return e===39}function hI(e){if(9<=e&&e<=13||8192<=e&&e<=8202)return!0;switch(e){case 32:case 160:case 5760:case 8232:case 8233:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}function us(e,t){return ln(e.token.span,t.prevSpan)}function as(e,t,r){return{type:e,span:t,val:r}}function QN(e,t,r,n){return{input:e,prevSpan:t,pos:r,token:n}}function bI(e){return xI(e,0,Mn(e,0))}function xI(e,t,r){for(;hI(e.charCodeAt(t));)t+=1;let n=tD(e,t);return QN(e,r,t,n)}function Qn(e){return xI(e.input,e.token.span.end,e.token.span)}function Hr(e){return e.token}function Ti(e,t){if(Hr(e).type!==t)throw`Parse Error: expected ${t}.`;return Qn(e)}function PI(e,t){return Hr(e).type===t}function bp(e){return e.pos>=e.input.length}var KN={"\\\\left":"Left","\\\\right":"Right","\\\\sqrt":"Sqrt","\\\\frac":"Frac","\\\\operatorname":"OperatorName","\\\\token":"Token"},eD={"[":"[","]":"]","{":"{","}":"}","^":"^",_:"_"};function tD(e,t){let r=t;if(t>=e.length)return as("End",Mn(e,t),"");let n=e.charCodeAt(t);if(gI(n)){let i=un(e,r,t+1);return as("Digit",i,e.charAt(r))}else if(gp(n)){let i=un(e,r,t+1);return as("Letter",i,e.charAt(r))}else if(hp(n))if(t+=1,gp(e.charCodeAt(t))){for(;gp(e.charCodeAt(t));)t+=1;let i=un(e,r,t),s=Pr(i),o=KN[s]||"Cmd";return as(o,i,s)}else{t+=1;let i=un(e,r,t),s=Pr(i);return as("EscapedSymbol",i,s)}else if(Hg(n)){for(t+=1;Hg(e.charCodeAt(t));)t+=1;if(e.charAt(t)==="^"){t+=1;let i=un(e,r,t),s=Pr(i);return as("Primes^",i,s)}else{let i=un(e,r,t),s=Pr(i);return as("Primes",i,s)}}else{let i=un(e,r,t+1),s=e.charAt(r),o=eD[s]||"Symbol";return as(o,i,s)}}function $g(e,t){return{type:"Group",span:e,args:t}}function TI(e,t,r){return{type:"Sqrt",span:e,optArg:t,arg:r}}function II(e,t,r){return{type:"Frac",span:e,num:t,den:r}}function MI(e,t,r,n){return{type:"SupSub",span:e,sup:t,sub:r,nprimes:n}}function vI(e,t,r,n){return{type:"LeftRight",span:e,left:t,right:r,arg:n}}function EI(e,t){return{type:"OperatorName",span:e,arg:t}}function SI(e,t){return{type:"TokenNode",span:e,arg:t}}function OI(e,t){return{type:"Symbol",span:e,val:t}}function NI(e){switch(e){case"Frac":return 2;case"^":case"_":case"Primes^":case"Left":case"Sqrt":case"OperatorName":case"Token":return 1;default:return 0}}function DI(e){let{state:t,tree:r}=xp(bI(e),!1);if(!bp(t))throw`Parse error: unexpected ${Pr(Hr(t).span)}.`;return r}function Fn(e,t){return{state:e,tree:t}}function xp(e,t){let r=e,n=[];e:for(;!bp(e);){let s=Hr(e);switch(s.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":case"[":case"{":case"^":case"_":case"Primes":case"Primes^":case"Left":case"Frac":case"Sqrt":case"OperatorName":case"Token":case"]":{if(s.type==="]"&&t)break e;let a;if({state:e,tree:a}=RI(e),a.type==="Group")for(let u of a.args)n.push(u);else n.push(a);break}case"}":case"Right":case"End":break e;default:throw`Unexpected token type ${s.type}.`}}let i=us(r,e);return Fn(e,$g(i,n))}function RI(e){let t=Hr(e);switch(t.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":return e=Qn(e),Fn(e,t);case"[":case"]":return e=Qn(e),Fn(e,OI(t.span,t.val));case"{":{e=Qn(e);let n;return{state:e,tree:n}=xp(e,!1),e=Ti(e,"}"),Fn(e,n)}case"^":case"_":case"Primes":case"Primes^":return uD(e);case"Left":return aD(e);case"Frac":return oD(e);case"Sqrt":return sD(e);case"OperatorName":return nD(e);case"Token":return iD(e);case"}":case"Right":throw`Parse Error: unexpected ${t.val}.`;case"End":throw"Parse Error: unexpected end.";default:throw`Unexpected token type ${t.type}.`}}function nD(e){let t=e,r=Hr(e);e=Ti(e,"OperatorName");let n;({state:e,tree:n}=ls(e,r));let i=us(t,e);return Fn(e,EI(i,n))}function iD(e){let t=e,r=Hr(e);e=Ti(e,"Token");let n;({state:e,tree:n}=ls(e,r));let i=us(t,e);return Fn(e,SI(i,n))}function sD(e){let t=e,r=Hr(e);e=Ti(e,"Sqrt");let n;PI(e,"[")&&({state:e,tree:n}=lD(e));let i;({state:e,tree:i}=ls(e,r));let s=us(t,e);return Fn(e,TI(s,n,i))}function oD(e){let t=e,r=Hr(e);e=Ti(e,"Frac");let n;({state:e,tree:n}=ls(e,r));let i;({state:e,tree:i}=ls(e,r));let s=us(t,e);return Fn(e,II(s,n,i))}function aD(e){let t=e;e=Ti(e,"Left");let r=Hr(e);e=Qn(e);let n;({state:e,tree:n}=xp(e,!1)),e=Ti(e,"Right");let i=Hr(e);e=Qn(e);let s=us(t,e);return Fn(e,vI(s,r,i,n))}function uD(e){let t=e,r,n,i=0;e:for(;!bp(e);){let o=Hr(e);switch(o.type){case"^":if(e=Qn(e),r)throw"Parse Error: double superscript.";({state:e,tree:r}=ls(e,o));break;case"_":if(e=Qn(e),n)throw"Parse Error: double subscript.";({state:e,tree:n}=ls(e,o));break;case"Primes":if(e=Qn(e),i>0)throw"Parse Error: double primes.";i=o.val.length;break;case"Primes^":if(e=Qn(e),i>0)throw"Parse Error: double primes.";if(r)throw"Parse Error: double superscript";i=o.val.length-1,{state:e,tree:r}=ls(e,o);break;default:break e}}let s=us(t,e);return Fn(e,MI(s,r,n,i))}function ls(e,t){let r=NI(t.type),n;if(r<=0)throw new Error("Programming Error: greediness must be greater than 0.");let i=NI(Hr(e).type);if(i>0&&i<=r){let s=Pr(t.span);throw`Parse Error: can\'t use ${Pr(Hr(e).span)} as argument of ${s}. Use {}.`}return{state:e,tree:n}=RI(e),n.type!=="Group"&&(n=$g(n.span,[n])),Fn(e,n)}function lD(e){e=Ti(e,"[");let t;return{state:e,tree:t}=xp(e,!0),e=Ti(e,"]"),Fn(e,t)}var cD={mcd:"gcd",gcf:"gcd",mcm:"lcm",signum:"sign",sgn:"sign",stdDevP:"stdevp",stddevp:"stdevp",stdDev:"stdev",stddev:"stdev",variance:"var",TTest:"ttest",TScore:"tscore",IndependentTTest:"ittest",iTTest:"ittest",inverseCdf:"quantile",inversecdf:"quantile",arsinh:"arcsinh",arcosh:"arccosh",artanh:"arctanh",arcsch:"arccsch",arsech:"arcsech",arcoth:"arccoth"};function wI(e){let t=0;for(;hp(e.charCodeAt(t));)t+=1;return t>0&&(e=e.slice(t)),cD[e]||e}function LI(e,t){return{type:"Equals",span:e,args:t}}function eu(e,t,r){return{type:"Inequality",span:e,symbol:t,args:r}}function AI(e,t,r){return{type:"TrailingInequalityPiece",span:e,symbol:t,args:r}}function CI(e,t,r){return{type:"InequalityChain",span:e,first:t,chain:r}}function _I(e,t){return{type:"Tilde",span:e,args:t}}function FI(e,t){return{type:"Pos",span:e,args:t}}function BI(e,t){return{type:"Neg",span:e,args:t}}function VI(e,t){return{type:"Add",span:e,args:t}}function GI(e,t){return{type:"Sub",span:e,args:t}}function qI(e,t){return{type:"Mul",span:e,args:t}}function kI(e,t){return{type:"Div",span:e,args:t}}function zI(e,t){return{type:"Bang",span:e,args:t}}function tu(e,t){return{type:"Call",span:e,args:t}}function Wg(e,t){return{type:"ImplicitCall",span:e,args:t}}function UI(e,t){return{type:"Index",span:e,args:t}}function Yg(e,t){return{type:"Paren",span:e,args:t}}function Xg(e,t){return{type:"List",span:e,args:t}}function HI(e,t){return{type:"Pipes",span:e,args:t}}function Jg(e,t){return{type:"Subscript",span:e,args:t}}function Pp(e,t){return{type:"Superscript",span:e,args:t}}function ru(e,t,r){return{type:"Prime",span:e,nprimes:t,args:r}}function Tp(e,t){return{type:"Seq",span:e,args:t}}function $I(e,t){return{type:"Sqrt",span:e,args:t}}function WI(e,t){return{type:"Nthroot",span:e,args:t}}function YI(e,t){return{type:"Frac",span:e,args:t}}function XI(e,t){return{type:"Derivative",span:e,args:t}}function JI(e,t){return{type:"Integral",span:e,args:t}}function jI(e,t){return{type:"EmptyIntegral",span:e,args:t}}function ZI(e,t){return{type:"Sum",span:e,args:t}}function QI(e,t){return{type:"Product",span:e,args:t}}function KI(e,t){return{type:"Piecewise",span:e,args:t}}function e0(e){return{type:"EmptyPiecewise",span:e}}function t0(e){return{type:"EmptyRangeEnd",span:e}}function r0(e,t){return{type:"Colon",span:e,args:t}}function jg(e,t){return{type:"Ellipsis",span:e,args:t}}function n0(e,t){return{type:"For",span:e,args:t}}function i0(e,t){return{type:"With",span:e,args:t}}function s0(e,t){return{type:"Dot",span:e,args:t}}function o0(e,t){return{type:"PercentOf",span:e,args:t}}function a0(e,t){return{type:"RightArrow",span:e,args:t}}function Zg(e,t){return{type:"Juxt",span:e,args:t}}function u0(e,t){return{type:"Letter",span:e,val:t}}function Ip(e,t){return{type:"Decimal",span:e,val:t}}function eo(e,t){return{type:"Cmd",span:e,val:wI(t)}}function l0(e,t){return{type:"Alphanumeric",span:e,val:t}}function c0(e,t,r,n){return{type:"MixedNumber",span:e,whole:t,num:r,den:n}}function Er(e){if(e.type==="Subscript"){if(e.args[1].type!=="Alphanumeric")return!1;e=e.args[0]}switch(e.type){case"Cmd":return!0;case"Letter":return!0;default:return!1}}function p0(e){return e.type!=="Superscript"?!1:Er(e.args[0])}function f0(e,t){if(e.type!=="Letter"||e.val!=="d"||t.type!=="Juxt")return!1;let[r,n]=t.args;return r.type!=="Letter"||r.val!=="d"?!1:Er(n)}function cr(e){return e.type==="Seq"?e.args:[e]}function j(e,t){return{type:"Err",span:e,error:t}}function Qg(){return{type:"UnexpectedParseError"}}function d0(){return{type:"EmptyInput"}}function m0(){return{type:"EmptyGroup"}}function Kg(){return{type:"EmptySubscript"}}function y0(){return{type:"EmptySuperscript"}}function eh(){return{type:"EmptyRadical"}}function g0(){return{type:"EmptySquareBracket"}}function h0(){return{type:"EmptyPipe"}}function b0(){return{type:"EmptyRadicalIndex"}}function th(){return{type:"UnexpectedEnd"}}function cs(e){return{type:"BinaryOperatorMissingRight",val:e}}function x0(e){return{type:"BinaryOperatorMissingLeft",val:e}}function rh(e){return{type:"UnaryOperatorMissingRight",val:e}}function nh(e){return{type:"UnaryOperatorMissingLeft",val:e}}function P0(e,t){return{type:"MissingCloseDelimiter",open:e,close:t}}function nu(e,t){return{type:"UnexpectedCloseDelimiter",open:e,close:t}}function T0(){return{type:"UnexpectedDifferential"}}function I0(e){return{type:"UnrecognizedSymbol",val:e}}function M0(e){return{type:"InvalidSubscript",val:e}}function v0(e){return{type:"UnexpectedSubscript",base:e}}function ih(e){return{type:"FunctionMissingArgument",val:e}}function E0(){return{type:"PercentMissingOf"}}function sh(){return{type:"PrimeWithoutParen"}}function S0(){return{type:"SuperscriptWithPrime"}}function Mp(){return{type:"UnexpectedPrime"}}function O0(){return{type:"SumMissingBound"}}function N0(){return{type:"ProductMissingBound"}}function oh(){return{type:"MissingBound"}}function D0(){return{type:"IntegralMissingBound"}}function R0(){return{type:"SumMissingBody"}}function w0(){return{type:"ProductMissingBody"}}function L0(){return{type:"IntegralMissingBody"}}function A0(){return{type:"DerivativeMissingBody"}}function C0(){return{type:"IntegralMissingDifferential"}}function _0(){return{type:"DifferentialWithSuperscript"}}function F0(){return{type:"FractionMissingNumerator"}}function B0(){return{type:"FractionMissingDenominator"}}function V0(){return{type:"FractionEmpty"}}function ah(e){return{type:"AdjacentNumbers",args:e}}function G0(){return{type:"UnexpectedFor"}}function q0(){return{type:"TokenWithSubscript"}}var dD={"+":!0,"-":!0,"*":!0,"/":!0,"!":!0,"(":!0,")":!0,"\\\\{":!0,"\\\\}":!0,"(|":!0,"|)":!0,"[":!0,"]":!0,",":!0,"...":!0,":":!0,"=":!0,">":!0,"<":!0,">=":!0,"<=":!0,"->":!0,"~":!0,"%":!0,".":!0,for:!0,with:!0,Letter:!0,Decimal:!0,Cmd:!0,TokenNode:!0,Differential:!0,End:!0,Trig:!0,Ln:!0,Log:!0,Int:!0,Sum:!0,Prod:!0,Err:!0},ps={"\\\\lt":"<","\\\\gt":">","\\\\le":"<=","\\\\ge":">=","\\\\leq":"<=","\\\\geq":">=","\\\\ldots":"...","\\\\sim":"~","\\\\to":"->","\\\\cdot":"*","\\\\times":"*","\\\\div":"/","\\\\ln":"Ln","\\\\log":"Log","\\\\int":"Int","\\\\sum":"Sum","\\\\prod":"Prod","\\\\backslash":"Err","\\\\for":"for","\\\\with":"with"},mD=["sin","cos","tan","cot","sec","csc"];for(let e of mD)ps["\\\\"+e]="Trig",ps["\\\\"+e+"h"]="Trig",ps["\\\\arc"+e]="Trig",ps["\\\\arc"+e+"h"]="Trig",ps["\\\\ar"+e+"h"]="Trig";var uh={"+":"+","-":"-","*":"*","/":"/","!":"!","(":"(",")":")","[":"[","]":"]",",":",","...":"...",":":":","=":"=",">=":">=","<=":"<=",">":">","<":"<","~":"~",".":"."},k0={"\\\\{":"\\\\{","\\\\}":"\\\\}","\\\\%":"%"},z0={"|":"(|","\\\\{":"\\\\{","[":"[","(":"("},U0={"|":"|)","\\\\}":"\\\\}","]":"]",")":")"},H0=Object.keys(dD);function $0(e,t,r,n,i,s,o,a){return{opts:e,input:t,prevSpan:r,startIndex:n,endIndex:i,token:s,mode:o,parent:a}}function U(e,t){return ln(e.token.span,t.prevSpan)}function qt(e,t){return ln(e,t.prevSpan)}function ch(e){return Mn(e.token.span.input,e.token.span.start)}function yD(e,t){return{type:"Differential",span:e,val:t}}function wr(e,t,r){return{type:e,span:t,val:r}}function Bi(e,t){let r=Mn(e.span.input,e.span.start);return ph(t,e,0,r,void 0,void 0)}function ph(e,t,r,n,i,s){let o=t.args;if(r>o.length&&s)return W0(s,n);r=iu(o,r);let{token:a,endIndex:u}=Y0(t,r,i);if(a.type==="End"&&s){let l=s.input.args[s.startIndex];if(l.type==="LeftRight"){let c=l.right,p=U0[c.val]||"Err",f=wr(p,c.span,c.val);return $0(e,t,n,r,u,f,i,s)}}else a.type==="Int"?i=gD(i):a.type==="Differential"&&(i=hD(i));return $0(e,t,n,r,u,a,i,s)}function ee(e){let t=e.input.args[e.startIndex],r=e.token.span;return t&&t.type==="LeftRight"?ph(e.opts,t.arg,0,r,e.mode,e):W0(e,r)}function W0(e,t){let{input:r,endIndex:n,mode:i,parent:s}=e;return ph(e.opts,r,n+1,t,i,s)}function yr(e){return e.token}function gD(e){return{type:"integral",parent:e}}function hD(e){if(!e||e.type!=="integral")throw new Error("Programming Error: expected lexer to be in integral mode.");return e.parent}function gr(e,t){return yr(e).type===t}function Sp(e){return e.startIndex>=e.input.args.length}function fh(e,t){return t.token.span.start>e.token.span.start}function er(e,t){return{token:t,endIndex:e}}function Y0(e,t,r){let n=e.args;if(t>=n.length){let o=Mn(e.span.input,e.span.end);return er(t,wr("End",o,""))}let i=e.args[t];switch(i.type){case"Sqrt":case"Frac":case"SupSub":return er(t,i);case"Letter":{if(!r||r.type!=="integral"||i.val!="d")return er(t,i);let{endIndex:c,token:p}=Y0(e,t+1,r);if(p.type==="Letter"||p.type==="Cmd"){let f=yD(ln(i.span,p.span),p.val);return er(c,f)}else return er(t,i)}case"LeftRight":{let c=i.left,p=z0[c.val]||"Err";var s=ln(i.span,c.span);return er(t,wr(p,s,c.val))}case"OperatorName":let o=[];for(let c of i.arg.args){if(c.type!=="Letter")return er(t,wr("Err",i.span,Pr(i.arg.span)));o.push(c.val)}let a="\\\\"+o.join(""),u=ps[a]||"Cmd";return er(t,wr(u,i.span,a));case"TokenNode":{let c="$";if(i.arg.args.length===0)return er(t,wr("Err",i.span,Pr(i.arg.span)));for(let p of i.arg.args){if(p.type!=="Digit")return er(t,wr("Err",i.span,Pr(i.arg.span)));c+=p.val}return er(t,wr("TokenNode",i.span,c))}case"Cmd":{let c=ps[i.val]||"Cmd";return er(t,wr(c,i.span,i.val))}case"EscapedSymbol":{let c=k0[i.val]||"Err";return er(t,wr(c,i.span,i.val))}case"Symbol":return bD(e,t,i);case"Digit":return X0(e,t);default:throw`Unexpected atom ${i.type}.`}}function bD(e,t,r){switch(r.val){case".":return xD(e,t);case"-":{let i=e.args[t+1];if(i&&vp(i,">")){let s=wr("->",ln(r.span,i.span),"->");return er(t+1,s)}break}case"<":{let i=e.args[t+1];if(i&&vp(i,"=")){let s=wr("<=",ln(r.span,i.span),"<=");return er(t+1,s)}break}case">":{let i=e.args[t+1];if(i&&vp(i,"=")){let s=wr(">=",ln(r.span,i.span),">=");return er(t+1,s)}break}}let n=uh[r.val]||"Err";return er(t,wr(n,r.span,r.val))}function xD(e,t){let r=e.args[t];if(r.type!=="Symbol"||r.val!==".")throw new Error("Programming Error: expected \'.\'");if(t+2<e.args.length&&Ep(e.args[t+1])&&Ep(e.args[t+2])){let s=ln(r.span,e.args[t+2].span);return er(t+2,wr("...",s,Pr(s)))}let n=iu(e.args,t+1);if(n<e.args.length&&e.args[n].type==="Digit")return X0(e,t);let i=uh[r.val]||"Err";return er(t,wr(i,r.span,r.val))}function X0(e,t){let r=PD(e,t);if(r)return r;let n=e.args,i=e.args[t].span,s=[],o=!1,a=!1;for(;t<n.length;t++){let l=iu(n,t);if(l>=n.length)break;let c=n[l];if(c.type==="Digit")t=l,o=!0,s.push(c.val);else if(!a&&Ep(c)){if(l+1<n.length&&Ep(e.args[l+1]))break;t=l,a=!0,s.push(".")}else break}if(!o)throw new Error("Programming Error: decimals must have at least one digit.");let u=ln(i,e.args[t-1].span);return er(t-1,wr("Decimal",u,s.join("")))}function PD(e,t){let r=e.args,n=r[t].span,i=[];for(;t<r.length;t++){let l=iu(r,t);if(l>=r.length)break;let c=r[l];if(c.type!=="Digit")break;t=l,i.push(c.val)}if(t=iu(r,t),t>=r.length)return;let s=r[t];if(s.type!=="Frac")return;let o=[],a=[];for(let l of s.num.args)if(!lh(l)){if(l.type!=="Digit")return;o.push(l.val)}for(let l of s.den.args)if(!lh(l)){if(l.type!=="Digit")return;a.push(l.val)}let u=ln(n,s.span);return er(t,c0(u,i.join(""),o.join(""),a.join("")))}function lh(e){switch(e.type){case"Sqrt":case"Frac":case"SupSub":case"LeftRight":case"OperatorName":case"TokenNode":case"Symbol":case"Letter":case"Digit":return!1;case"Cmd":return e.val==="\\\\space";case"EscapedSymbol":return e.val==="\\\\ "||e.val==="\\\\:"||e.val==="\\\\,"||e.val==="\\\\;";default:throw`Unexpected atom ${e.type}.`}}function iu(e,t){for(;t<e.length&&lh(e[t]);)t+=1;return t}function Ep(e){return vp(e,".")}function vp(e,t){return e.type==="Symbol"&&e.val===t}function Ho(e){return{type:"initial",tokenType:e}}function su(e){return{type:"l",tokenType:e}}function ou(e){return{type:"r",tokenType:e}}function Xe(e){return{type:"la",tokenType:e}}function $o(e){return{type:"ra",tokenType:e}}function J0(e,t){for(let r of H0)if(t[r]===void 0)throw new Error(`Programming Error: token ${r} must be a assigned a ${e} precedence`)}function to(e,t,r,n){if(t[r]!==void 0)throw new Error(`Programming Error: duplicate ${e} entry for token ${r}.`);t[r]=n}function j0(e){let t={},r={},n={};for(let a=0;a<e.length;a++){let u=e[a];for(let{type:l,tokenType:c}of u)switch(l){case"initial":to("initial",t,c,a);break;case"l":to("left",r,c,a);break;case"r":to("right",n,c,a);break;case"la":to("left",r,c,a),to("right",n,c,a);break;case"ra":to("left",r,c,a),to("right",n,c,a-1);break}}J0("left",r),J0("right",n);function i(a){return n[a]}function s(a){return r[a]}function o(a){let u=t[a];return u===void 0?i(a):u}return{rightPrec:i,leftPrec:s,initialPrec:o}}var Wo={},TD=["sin","cos","tan","cot","sec","csc","sinh","cosh","tanh","coth","sech","csch"];TD.forEach(function(e){Wo[e]="arc"+e,Wo["arc"+e]=e});var ID=0;function tM(e,t){return MD(e,t)}function Ie(e,t){let r=[];for(let n=0;n<t.length;n++)r.push(kt(e,t[n]));return r}function MD(e,t){return e.setInput(vD(e,t),t.span)}function rM(e){if(e.type!=="Call")return;let[t,r]=e.args,n=cr(r);if(Er(t)&&n.every(Er))return{base:t,args:n}}function nM(e){return rM(e)!==void 0}function mh(e){return Er(e)}function vD(e,t){let r=e.nodes;switch(t.type){case"Equals":{let[n,i]=t.args,s=rM(n);if(s){let{base:o,args:a}=s;return r.FunctionDefinition(kt(e,o),Ie(e,a),kt(e,i))}else if(mh(n)){let o=kt(e,i);return r.Assignment(kt(e,n),o)}return r.Equation(kt(e,n),kt(e,i))}case"Tilde":{let[n,i]=Ie(e,t.args);return r.Regression(n,i)}case"Inequality":return ro(e,t);case"InequalityChain":{if(t.chain.length>1)throw tc();let{first:{symbol:n,args:[i,s]},chain:[{symbol:o,args:[a]}]}=t;return Er(s)?r.DoubleInequality([kt(e,i),n,kt(e,s),o,kt(e,a)]):ro(e,t)}case"Call":{let[n,i]=t.args;if(n.type==="Cmd")switch(n.val){case"histogram":return r.Histogram(Ie(e,cr(i)));case"cube":case"sphere":case"cone":case"dodecahedron":case"octahedron":case"tetrahedron":return r.Object3D(Ie(e,cr(i)),n.val);case"dotplot":return r.DotPlot(Ie(e,cr(i)));case"boxplot":return r.BoxPlot(Ie(e,cr(i)));case"ttest":return r.TTest(Ie(e,cr(i)));case"ittest":return r.IndependentTTest(Ie(e,cr(i)));case"stats":return r.Stats(Ie(e,cr(i)));default:return Ii(e,t)}return Ii(e,t)}default:return Ii(e,t)}}function iM(e){if(e.type!=="Paren")return!1;let[t]=e.args;return t.type!=="Seq"?!1:t.args.length===2}function kt(e,t){return e.setInput(Ii(e,t),t.span)}function Ii(e,t){let r=e.nodes;switch(t.type){case"Pos":return Ii(e,t.args[0]);case"Neg":let n=-1,i=t.args[0];for(;;)if(i.type==="Pos"||i.type==="Paren"&&!iM(i))i=i.args[0];else if(i.type==="Neg")i=i.args[0],n*=-1;else break;switch(i.type){case"Decimal":{let o=Q0(i);return r.Constant(n===-1?cn(o):o)}case"MixedNumber":{let o=K0(i);return r.MixedNumber(n===-1?cn(o):o)}default:return n===-1?r.Negative([kt(e,i)]):Ii(e,i)}case"Add":return r.Add(Ie(e,t.args));case"Sub":return r.Subtract(Ie(e,t.args));case"Mul":return r.Multiply(Ie(e,t.args));case"Div":return r.Divide(Ie(e,t.args));case"Bang":{let[o]=t.args;return o.type==="Call"?r.FunctionFactorial(Ie(e,o.args)):r.FunctionCall("\\\\factorial",Ie(e,t.args))}case"PercentOf":return r.PercentOf(Ie(e,t.args));case"Call":return Z0(e,t);case"ImplicitCall":return RD(t),Z0(e,t);case"Dot":{let o=t.args[1],[a,u]=Ie(e,t.args);if(aM(o)){let l=Mn(o.span.input,o.span.end),c=e.setInput(uM(e),l);u=e.setInput(r.SeededFunctionCall(u,[c]),o.span)}else if(o.type==="Letter")switch(o.val){case"x":return r.OrderedPairAccess([a,r.Constant(1)]);case"y":return r.OrderedPairAccess([a,r.Constant(2)]);default:break}else if(o.type==="Call"){let l=o.args[0];if(l.type==="Letter")switch(l.val){case"x":return r.Multiply([r.OrderedPairAccess([a,r.Constant(1)]),kt(e,o.args[1])]);case"y":return r.Multiply([r.OrderedPairAccess([a,r.Constant(2)]),kt(e,o.args[1])])}}return r.DotAccess([a,u])}case"Prime":{let[o]=t.args;if(o.type==="Call"){let[a,u]=o.args,l=cr(u).length;if(a.type==="Cmd"&&a.val==="logbase"){if(l!==2)throw ks()}else if(l!==1)throw ks();return r.Prime(t.nprimes,Ie(e,t.args))}else throw o.type==="ImplicitCall"?ec():Kl()}case"Index":{let[o,a]=t.args;if(a.type==="Seq")return r.ListAccess([Ii(e,o),r.List(Ie(e,a.args))]);if(a.type==="Ellipsis"){let[u,l]=a.args;return r.ListAccess([Ii(e,o),r.Range([r.List(Ie(e,cr(u))),r.List(l.type==="EmptyRangeEnd"?[]:Ie(e,cr(l)))])])}return oM(a)?r.ListAccess([Ii(e,o),ro(e,a)]):r.ListAccess(Ie(e,t.args))}case"Paren":{let[o]=t.args;if(o.type==="Seq"){if(o.args.length===0)throw bm();return r.ParenSeq(Ie(e,o.args))}else return Ii(e,o)}case"List":{if(t.args.length===0)return r.List([]);let o=t.args[0];if(o.type==="Ellipsis"){let[a,u]=o.args;return r.Range([r.List(Ie(e,cr(a))),r.List(Ie(e,cr(u)))])}else if(o.type==="For"){let[a,u]=o.args,l=e.setInput(r.Identifier(`_comprehensionIndex_${ID++}`),a.span),c=kt(Op(e,{prefix:"li",expr:l}),a),p=[];for(let f of cr(u)){if(!au(f))throw My();p.push(e.setInput(r.AssignmentExpression(Ie(e,f.args)),f.span))}return r.ListComprehension(l,c,p)}return r.List(Ie(e,cr(o)))}case"Pipes":return r.FunctionCall("\\\\abs",Ie(e,t.args));case"Subscript":{let[o,a]=t.args;if(a.val.length===0)throw Ql();let u;switch(o.type){case"Letter":u=o.val;break;case"Cmd":u=o.val;break;default:throw mm()}return r.Identifier(`${u}_${a.val}`)}case"Superscript":{let[o,a]=t.args;if(o.type==="Call"&&o.args[1].type!=="Seq"&&!wD(o))return r.FunctionExponent(Ie(e,[o.args[0],o.args[1],a]));if(o.type==="Dot"){let u=o.args[1],[l,c]=Ie(e,o.args),p=kt(e,a);if(u.type==="Letter")switch(u.val){case"x":return r.Exponent([r.OrderedPairAccess([l,r.Constant(1)]),p]);case"y":return r.Exponent([r.OrderedPairAccess([l,r.Constant(2)]),p]);default:break}else if(u.type==="Call"){let f=u.args[0];if(f.type==="Letter")switch(f.val){case"x":return r.Multiply([r.OrderedPairAccess([l,r.Constant(1)]),r.Exponent([kt(e,u.args[1]),p])]);case"y":return r.Multiply([r.OrderedPairAccess([l,r.Constant(2)]),r.Exponent([kt(e,u.args[1]),p])]);default:break}}return r.Exponent([r.DotAccess([l,c]),p])}else return r.Exponent(Ie(e,t.args))}case"Sqrt":return r.FunctionCall("sqrt",Ie(e,t.args));case"Nthroot":return r.FunctionCall("nthroot",Ie(e,[t.args[1],t.args[0]]));case"Frac":return r.Divide(Ie(e,t.args));case"Derivative":{let o=Ie(e,t.args);if(!Er(t.args[0]))throw Te();return r.Derivative(o[0],[o[1]])}case"Integral":{let[o,a,u,l]=t.args,c=Ie(e,[o,a,u,l]);return r.Integral(c)}case"EmptyIntegral":{let[o,a,u]=Ie(e,t.args),l=r.Constant(ie(1,1));return r.Integral([o,a,u,l])}case"Sum":{let[o,a,u]=t.args;if(!au(a))throw iy();let l=Ie(e,[a.args[0],a.args[1],u]),c=kt(Op(e,{prefix:"ro",expr:l[0]}),o);return r.Sum(l.concat(c))}case"Product":{let[o,a,u]=t.args;if(!au(a))throw sy();let l=Ie(e,[a.args[0],a.args[1],u]),c=kt(Op(e,{prefix:"ro",expr:l[0]}),o);return r.Product(l.concat(c))}case"Juxt":{if(e.writeIntegral){let[o,a]=t.args;if(a.type==="Letter"&&a.val==="t"&&o.type==="Juxt"&&([o,a]=o.args,a.type==="Letter"&&a.val==="n")){if(o.type==="Juxt"){if([o,a]=o.args,a.type==="Letter"&&a.val==="i")throw fc()}else if(o.type==="Letter"&&o.val==="i")throw fc()}}return r.Multiply(Ie(e,t.args))}case"Letter":return r.Identifier(t.val);case"Cmd":{let o=t.val;switch(o){case"ans":{if(e.currentIndex===void 0)throw Da("ans");return r.Ans(`ans_{${e.currentIndex-1}}`)}case"approx":throw ql(o);case"dt":{if(!e.allowDt)throw Da(o);return r.Identifier(o)}case"index":{if(!e.allowIndex)throw Da(o);return r.Identifier(o)}default:return r.Identifier(o)}}case"With":{if(e.isSubstitutionRHS)throw xc();let[o,a]=t.args,u=oe(z({},e),{isSubstitutionRHS:!0});return r.Substitution(kt(u,o),OD(u,a))}case"Decimal":return r.Constant(Q0(t));case"MixedNumber":return r.MixedNumber(K0(t));case"Piecewise":return DD(e,t);case"RightArrow":return ND(e,t);case"Seq":return r.BareSeq(Ie(e,t.args));case"EmptyPiecewise":if(!r.Piecewise.empty)throw Ki();return r.Piecewise.empty();case"Equals":throw kr("=");case"Inequality":case"InequalityChain":throw ud();case"Tilde":throw kr("~");case"Colon":throw kr(":");case"Ellipsis":throw kr("...");case"For":throw yc();case"EmptyRangeEnd":throw ty();case"Err":throw LD(t.error);default:throw`Unexpected surface node ${t.type}.`}}function dh(e){return Wo.hasOwnProperty(e)}function sM(e){return e==="ln"||e==="log"||e==="logbase"}function ED(e){return e.type==="Decimal"&&e.val==="2"}function SD(e){return e.type!=="Neg"?!1:(e=e.args[0],e.type==="Decimal"&&e.val==="1")}function Z0(e,t){let r=e.nodes,[n,i]=t.args,s=kt(e,n),o=cr(i),a=Ie(e,o);if(aM(n)){let u=Mn(i.span.input,i.span.start),l=e.setInput(uM(e),u);return r.SeededFunctionCall(s,[l].concat(a))}if(Er(n))return r.FunctionCall(s,a);if(n.type==="Superscript"){let[u,l]=n.args;if(u.type==="Cmd"){let c=u.val;if(dh(c)||sM(c)){if(ED(l))return r.Exponent([r.FunctionCall(c,a),kt(e,l)]);if(SD(l)&&Wo[c]!==void 0)return r.FunctionCall(Wo[c],a);throw dh(c)?Tm(c):Im(c==="logbase"?"log":c)}}}return r.Multiply([s,kt(e,i)])}function OD(e,t){let r=e.nodes;if(t.type==="Seq"){let o=!1,a=!1;for(let u=0;u<t.args.length;u++){if(t.args[u].type==="With")throw Ca();au(t.args[u])?o=!0:a=!0}if(o&&a)throw Ca()}if(t.type==="With")throw xc();let n=cr(t),i=[],s=[];for(let o of n){if(!au(o))throw Dy();let a=r.AssignmentExpression(Ie(e,o.args)),u=a._symbol;if(s.indexOf(u)>=0)throw Ay(u);s.push(u),i.push(a)}return i}function ND(e,t){let r=e.nodes;if(!Er(t.args[0]))throw Vd();return e=Op(e,{prefix:"ec",expr:e.setInput(r.Identifier("globalEventCount"),Mn(t.span.input,t.span.start))}),r.UpdateRule(Ie(e,t.args))}function DD(e,t){let r=e.nodes,[n]=t.args,i=cr(n),s,o=[];e:for(s=0;s<i.length;s++){let u=i[s];switch(u.type){case"Colon":{let[l,c]=u.args;if(!oM(l))throw Em();if(c.type==="With"&&c.args[1].type==="Seq")throw Ca();o.push({condition:ro(e,l),if_expr:kt(e,c)});break}case"Equals":case"Inequality":case"InequalityChain":o.push({condition:ro(e,u),if_expr:r.Constant(ie(1,1))});break;default:break e}}if(s===0)throw Mm();if(s<i.length-1)throw vm();let a=s===i.length-1?kt(e,i[s]):r.Constant(NaN);if(!r.Piecewise.chain)throw Ki();return r.Piecewise.chain(o,a)}function oM(e){return e.type==="Equals"||e.type==="Inequality"||e.type==="InequalityChain"}function ro(e,t){let r=e.nodes;switch(t.type){case"Equals":return r.Comparator["="](Ie(e,t.args));case"Inequality":return r.Comparator[t.symbol](Ie(e,t.args));case"InequalityChain":if(t.chain.length>1)throw tc();let{first:{symbol:n,args:[i,s]},chain:[{symbol:o,args:[a]}]}=t,u=Mn(t.span.input,t.span.start);return r.And([ro(e,eu(u,n,[i,s])),ro(e,eu(u,o,[s,a]))]);default:throw Te()}}function RD(e){let[t,r]=e.args;if(t.type==="Superscript"&&(t=t.args[0]),t.type==="Cmd"&&t.val==="logbase"&&r.type==="Seq"&&r.args.length===2){if(!Kn(r.args[0]))throw Zl("log")}else if(!Kn(r))throw t.type==="Cmd"?Zl(t.val):Te()}function Q0(e){return Ds(e.val)}function K0(e){let t=Ds(e.whole),r=Ds(e.num),n=Ds(e.den);return si(t,$n(r,n))}function wD(e){if(e.type!=="Call")return!1;let t=e.args[0];for(;t.type==="Superscript"||t.type==="Subscript"||t.type==="Prime";)t=t.args[0];return t.type!=="Cmd"?!1:dh(t.val)||sM(t.val)}function au(e){return e.type==="Equals"&&Er(e.args[0])}function LD(e){switch(e.type){case"UnexpectedParseError":case"MissingBound":case"EmptyGroup":case"UnexpectedDifferential":case"UnexpectedEnd":return Te();case"InvalidOperatorName":return dm();case"UnexpectedCloseDelimiter":case"MissingCloseDelimiter":return yy(e.open,e.close);case"UnrecognizedSymbol":return e.val==="."?kr(e.val):ql(e.val);case"EmptyInput":return Sm();case"BinaryOperatorMissingRight":case"BinaryOperatorMissingLeft":return Ma(e.val==="%"?"% of":e.val);case"UnaryOperatorMissingLeft":return om(e.val);case"UnaryOperatorMissingRight":return am(e.val);case"UnexpectedSubscript":return Om(e.base);case"PercentMissingOf":return by();case"SumMissingBound":return ry();case"ProductMissingBound":return ny();case"IntegralMissingBound":return uy();case"SumMissingBody":return py();case"ProductMissingBody":return fy();case"IntegralMissingBody":return dy();case"DerivativeMissingBody":return my();case"IntegralMissingDifferential":return ly();case"DifferentialWithSuperscript":return cy();case"FractionMissingNumerator":return um();case"FractionMissingDenominator":return lm();case"FractionEmpty":return cm();case"EmptySuperscript":return pm();case"EmptySubscript":return Ql();case"InvalidSubscript":return fm(e.val);case"SuperscriptWithPrime":return ym();case"PrimeWithoutParen":return ec();case"UnexpectedPrime":return Kl();case"EmptyRadical":return gm();case"EmptyRadicalIndex":return hm();case"EmptySquareBracket":return xm();case"EmptyPipe":return Pm();case"FunctionMissingArgument":return Mr(e.val,1,0);case"AdjacentNumbers":return nm(eM(e.args[0]),eM(e.args[1]));case"TokenWithSubscript":return im();case"UnexpectedFor":return yc();default:throw`Unexpected surface node ${e.type}.`}}function eM(e){switch(e.type){case"Decimal":return e.val;case"MixedNumber":return`${e.whole} ${e.num}/${e.den}`;default:let t=e;throw new Error(`Unexpected node type ${t.type}`)}}function Kn(e){switch(e.type){case"Letter":case"Decimal":case"MixedNumber":case"Cmd":case"EmptyPiecewise":return!0;case"Neg":{let r=e.args[0];for(;;)if(r.type==="Pos"||r.type==="Paren"&&!iM(r))r=r.args[0];else if(r.type==="Neg")r=r.args[0];else break;return r.type==="Decimal"||r.type==="MixedNumber"}case"Pos":return Kn(e.args[0]);case"Paren":return Kn(e.args[0]);case"Juxt":case"Mul":case"Div":return Kn(e.args[0])&&Kn(e.args[1]);case"Subscript":return Kn(e.args[0]);case"Superscript":case"Frac":case"Add":case"Sub":return Kn(e.args[0])&&Kn(e.args[1]);case"Piecewise":{let[r]=e.args;return r.type==="Equals"||r.type==="Inequality"||r.type==="InequalityChain"}case"Call":{let[r,n]=e.args;return Er(r)||p0(r)?!1:Kn(r)&&Kn(n)}case"Derivative":case"Sqrt":case"Nthroot":case"Pipes":case"Bang":return!1;case"Equals":case"Inequality":case"InequalityChain":case"Tilde":case"ImplicitCall":case"Index":case"List":case"Seq":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Colon":case"Ellipsis":case"For":case"With":case"Dot":case"PercentOf":case"Prime":case"EmptyRangeEnd":case"RightArrow":return!1;default:throw`Unexpected surface node ${e.type}.`}}function aM(e){return e.type!=="Cmd"?!1:e.val==="random"||e.val==="shuffle"}function uM(e){let t=e.nodes.ExtendSeed("",[e.nodes.Identifier("globalRandomSeed"),e.nodes.Seed(e.nextSeed())]);if(!e.seedExtensions)return t;for(let{prefix:r,expr:n}of e.seedExtensions)t=e.nodes.ExtendSeed(r,[t,n]);return t}function Op(e,t){let r=e.seedExtensions||[];return oe(z({},e),{seedExtensions:r.concat(t)})}var AD=[[Ho("("),Xe(")"),Ho("\\\\{"),Xe("\\\\}"),ou("["),Xe("]"),Ho("(|"),Xe("|)"),Xe("Differential"),Xe("End")],[Xe("for")],[ou("with")],[$o("...")],[Xe(",")],[$o(":")],[ou("->")],[su("with")],[Xe("="),Xe(">"),Xe("<"),Xe(">="),Xe("<="),Xe("~")],[su("->")],[Xe("+"),Xe("-")],[Xe("*"),Xe("/"),Xe("Decimal"),Xe("MixedNumber"),Xe("Letter"),Xe("Cmd"),Xe("TokenNode"),Xe("%"),ou("("),Xe("\\\\{"),Xe("(|"),Xe("Frac"),Xe("Sqrt"),Xe("Trig"),Xe("Ln"),Xe("Log"),$o("Int"),$o("Sum"),$o("Prod")],[Ho("+"),Ho("-")],[Xe("!")],[Xe("SupSub")],[su("["),Xe(".")],[su("(")],[Xe("Err")]],{leftPrec:Np,rightPrec:lM,initialPrec:dM}=j0(AD),cM={trailingComma:!1};function mM(e,t){let r=t?z(z({},cM),t):cM,n=Bi(e,r),i=CD(n);return i.type==="Err"&&i.error.type==="EmptyGroup"?j(i.span,d0()):i}function CD(e){return fs(e,{isToplevel:!0})}function fs(e,{isToplevel:t}={isToplevel:!1}){if(Sp(e))return j(U(e,e),m0());let{state:r,tree:n}=Ht(e,0,{isToplevel:t});return n.type!=="Err"&&!Sp(r)?gh(r).tree:n}function A(e,t){return{state:e,tree:t}}function Ht(e,t,{isToplevel:r}={isToplevel:!1}){let n=e,i;if({state:n,tree:i}=_D(n),i.type==="Err")return A(n,i);if(!fh(e,n))throw new Error("Programming Error: parseInitial did not advance state.");for(;!Sp(n);){let s;if(gr(n,"(")&&!VD(i)?s=lM("("):s=Np(yr(n).type),t>=s)break;let o=n,a=FD(n,i,r)?Np(",")-1:lM(yr(n).type);if({state:n,tree:i}=BD(n,i,a),i.type==="Err")return A(n,i);if(!fh(o,n))throw new Error("Programming Error: parseSuccessor did not advance state.")}return A(n,i)}function $r(e){return e.type==="UnexpectedDifferential"||e.type==="UnexpectedCloseDelimiter"||e.type==="UnexpectedEnd"||e.type==="BinaryOperatorMissingLeft"}function _D(e){let t=e,r=yr(e),n=dM(r.type),i;switch(r.type){case"+":{if(e=ee(e),{state:e,tree:i}=Ht(e,n),i.type==="Err"){if(!$r(i.error))return A(e,i);let o=U(t,e),a=j(o,rh(r.val));return A(e,a)}return A(e,FI(U(t,e),[i]))}case"-":if(e=ee(e),{state:e,tree:i}=Ht(e,n),i.type==="Err"){if(!$r(i.error))return A(e,i);let o=U(t,e),a=j(o,rh(r.val));return A(e,a)}else return A(e,BI(U(t,e),[i]));case"(":return uu(e);case"\\\\{":return e=ee(e),gr(e,"\\\\}")?(e=ee(e),A(e,e0(U(t,e)))):({state:e,tree:i}=Ht(e,n),{state:e,tree:i}=lu(t,e,i,"\\\\{","\\\\}"),i.type==="Err"?A(e,i):A(e,KI(U(t,e),[i])));case"[":return e=ee(e),gr(e,"]")?(e=ee(e),A(e,Xg(U(t,e),[]))):({state:e,tree:i}=Ht(e,n),{state:e,tree:i}=lu(t,e,i,"[","]"),i.type==="Err"?A(e,i):A(e,Xg(U(t,e),[i])));case"(|":{if(e=ee(e),gr(e,"|)")){e=ee(e);let o=U(t,e);return A(e,j(o,h0()))}return{state:e,tree:i}=Ht(e,n),{state:e,tree:i}=lu(t,e,i,"(|","|)"),i.type==="Err"?A(e,i):A(e,HI(U(t,e),[i]))}case"Frac":{if(e.opts.disallowFrac)throw mc();e=ee(e);let o=fs(Bi(r.num,e.opts)),a=fs(Bi(r.den,e.opts));if(o.type==="Err"&&o.error.type==="EmptyGroup"&&a.type==="Err"&&a.error.type==="EmptyGroup"){let u=U(t,e),l=j(u,V0());return A(e,l)}if(o.type==="Err"&&o.error.type==="EmptyGroup"){let u=U(t,e),l=j(u,F0());return A(e,l)}if(a.type==="Err"&&a.error.type==="EmptyGroup"){let u=U(t,e),l=j(u,B0());return A(e,l)}if(o.type==="Err")return A(e,o);if(a.type==="Err")return A(e,a);if(f0(o,a)&&a.type==="Juxt"){let u=a.args[1],l;if({state:e,tree:l}=Ht(e,Np("*")-1),l.type==="Err"){if($r(l.error)){let c=U(t,e);return A(e,j(c,A0()))}return A(e,l)}return A(e,XI(U(t,e),[u,l]))}return A(e,YI(U(t,e),[o,a]))}case"Sqrt":if(e=ee(e),r.optArg){let o=fs(Bi(r.optArg,e.opts));if(o.type==="Err")return o.error.type==="EmptyGroup"?A(e,j(o.span,b0())):A(e,o);let a=fs(Bi(r.arg,e.opts));return a.type==="Err"?a.error.type==="EmptyGroup"?A(e,j(a.span,eh())):A(e,a):A(e,WI(U(t,e),[o,a]))}else{let o=fs(Bi(r.arg,e.opts));return o.type==="Err"?o.error.type==="EmptyGroup"?A(e,j(o.span,eh())):A(e,o):A(e,$I(U(t,e),[o]))}case"Trig":case"Ln":{e=ee(e);let o=eo(U(t,e),r.val),a=0,u=yr(e);if(u.type==="SupSub"){if(e=ee(e),u.sub){let p=U(t,e),f=j(p,v0(o.val));return A(e,f)}let c=Dp(u,e.opts);if(c){if(c.type==="Err")return A(e,c);o=Pp(U(t,e),[o,c])}a=u.nprimes}let l=gr(e,"(");if(l){if({state:e,tree:i}=uu(e),i.type==="Err")return A(e,i);i=tu(U(t,e),[o,i.args[0]])}else{if({state:e,tree:i}=Ht(e,n-1),i.type==="Err")return $r(i.error)?A(e,j(U(t,e),ih(r.val))):A(e,i);i=Wg(U(t,e),[o,i])}if(a>0){let c=U(t,e);if(!l){let p=j(c,sh());return A(e,p)}i=ru(c,a,[i])}return A(e,i)}case"Log":{e=ee(e);let o=U(t,e),a=eo(o,r.val),u=0,l,c,p=yr(e);if(p.type==="SupSub"&&(e=ee(e),l=yM(p,e.opts),c=Dp(p,e.opts),u=p.nprimes),l&&l.type==="Err")return A(e,l);if(c&&c.type==="Err")return A(e,c);let f=gr(e,"(");if(f){if({state:e,tree:i}=uu(e),i.type==="Err")return A(e,i);i=i.args[0]}else if({state:e,tree:i}=Ht(e,n-1),i.type==="Err")return $r(i.error)?A(e,j(U(t,e),ih(r.val))):A(e,i);let m=l?eo(o,"\\\\logbase"):a,d=l?Tp(U(t,e),cr(i).concat(l)):i;if(c&&(m=Pp(U(t,e),[m,c])),f?i=tu(U(t,e),[m,d]):i=Wg(U(t,e),[m,d]),u>0){let y=U(t,e);if(!f){let g=j(y,sh());return A(e,g)}i=ru(y,u,[i])}return A(e,i)}case"Int":{e=ee(e);let o=yr(e);e=ee(e);let a=yh(o,t,e);if(a.type==="Err")return a.error.type==="MissingBound"?A(e,j(a.span,D0())):A(e,a);let{sup:u,sub:l}=a,c;if(gr(e,"Differential"))return{state:e,tree:c}=fM(e),c.type==="Err"?A(e,c):A(e,jI(U(t,e),[c,l,u]));if({state:e,tree:i}=Ht(e,n),i.type==="Err")return $r(i.error)?A(e,j(i.span,L0())):A(e,i);let p=i;return gr(e,"Differential")?({state:e,tree:c}=fM(e),c.type==="Err"?A(e,c):A(e,JI(U(t,e),[c,l,u,p]))):A(e,j(U(t,e),C0()))}case"Sum":{e=ee(e);let o=yr(e);e=ee(e);let a=yh(o,t,e);if(a.type==="Err")return a.error.type==="MissingBound"?A(e,j(a.span,O0())):A(e,a);let{sup:u,sub:l}=a;return{state:e,tree:i}=Ht(e,n),i.type==="Err"?$r(i.error)?A(e,j(i.span,R0())):A(e,i):A(e,ZI(U(t,e),[i,l,u]))}case"Prod":{e=ee(e);let o=yr(e);e=ee(e);let a=yh(o,t,e);if(a.type==="Err")return a.error.type==="MissingBound"?A(e,j(a.span,N0())):A(e,a);let{sup:u,sub:l}=a;return{state:e,tree:i}=Ht(e,n),i.type==="Err"?$r(i.error)?A(e,j(i.span,w0())):A(e,i):A(e,QI(U(t,e),[i,l,u]))}case"Cmd":return e=ee(e),i=eo(U(t,e),r.val),A(e,i);case"TokenNode":{e=ee(e);let o=yr(e);return o.type==="SupSub"&&o.sub?(e=ee(e),A(e,j(U(t,e),q0()))):(i=eo(U(t,e),r.val),A(e,i))}case"Letter":return e=ee(e),i=u0(U(t,e),r.val),A(e,i);case"Decimal":{e=ee(e);let o=Ip(U(t,e),r.val),a=e.token;if(a.type==="Decimal"||a.type==="MixedNumber"){let u=e;e=ee(e);let l=U(t,e),c=a.type==="MixedNumber"?a:Ip(U(u,e),a.val);return A(e,j(l,ah([o,c])))}return A(e,o)}case"MixedNumber":{if(e.opts.disallowFrac)throw mc();e=ee(e);let o=e.token;if(o.type==="Decimal"||o.type==="MixedNumber"){let a=e;e=ee(e);let u=U(t,e),l=o.type==="MixedNumber"?o:Ip(U(a,e),o.val);return A(e,j(u,ah([r,l])))}return A(e,r)}case"*":case"/":case",":case"=":case">":case"<":case">=":case"<=":case"->":case"~":case":":case"...":case"%":case".":{e=ee(e);let o=U(t,e),a=j(o,x0(r.val));return A(e,a)}case"for":{e=ee(e);let o=U(t,e),a=j(o,G0());return A(e,a)}case"with":{e=ee(e);let o=U(t,e),a=j(o,Qg());return A(e,a)}case"!":{e=ee(e);let o=U(t,e),a=j(o,nh(r.val));return A(e,a)}case"SupSub":{e=ee(e);let o="supsub";r.sub?o="subscript":r.sup?o="superscript":r.nprimes>0&&(o="prime");let a=U(t,e),u=j(a,nh(o));return A(e,u)}case")":case"\\\\}":case"]":case"|)":case"Differential":return gh(e);case"Err":{e=ee(e);let o=U(t,e),a=j(o,I0(r.val));return A(e,a)}case"End":{let o=U(t,e),a=j(o,th());return A(e,a)}default:throw`Unexpected token type ${r.type}.`}}function FD(e,t,r){return gr(e,"=")&&r&&(nM(t)||mh(t))}function BD(e,t,r){let n=yr(e),i;switch(n.type){case"+":case"-":case"*":case"/":case"=":case"~":case":":case".":case"->":case"for":{if(e=ee(e),{state:e,tree:i}=Ht(e,r),i.type==="Err")if($r(i.error)){let o=qt(t.span,e),a=j(o,cs(n.val));return A(e,a)}else return A(e,i);return A(e,pM(n.type,qt(t.span,e),[t,i]))}case"with":{if(e=ee(e),{state:e,tree:i}=Ht(e,r),i.type==="Err")if($r(i.error)){let o=qt(t.span,e),a=j(o,cs(n.val));return A(e,a)}else return A(e,i);return A(e,pM(n.type,qt(t.span,e),[t,i]))}case"%":{e=ee(e);let o=yr(e);if(o.type!=="Cmd"||o.val!=="of"&&o.val!=="\\\\of"){let a=j(n.span,E0());return A(e,a)}if(e=ee(e),{state:e,tree:i}=Ht(e,r),i.type==="Err")if($r(i.error)){let a=qt(t.span,e),u=j(a,cs(n.val));return A(e,u)}else return A(e,i);return A(e,o0(qt(t.span,e),[t,i]))}case">=":case"<=":case">":case"<":{let o=n.type;if(e=ee(e),{state:e,tree:i}=Ht(e,r),i.type==="Err")if($r(i.error)){let c=qt(t.span,e),p=j(c,cs(n.val));return A(e,p)}else return A(e,i);let a=eu(qt(t.span,e),o,[t,i]),u=[],l=yr(e).type;for(;l===">="||l==="<="||l===">"||l==="<";){let c=e;if(o=l,e=ee(e),{state:e,tree:i}=Ht(e,r),i.type==="Err")if($r(i.error)){let p=qt(t.span,e),f=j(p,cs(n.val));return A(e,f)}else return A(e,i);u.push(AI(U(c,e),o,[i])),l=yr(e).type}return u.length?A(e,CI(qt(t.span,e),a,u)):A(e,a)}case"!":return e=ee(e),A(e,zI(qt(t.span,e),[t]));case"[":{let o=e;if(e=ee(e),gr(e,"]")){e=ee(e);let a=U(o,e);return A(e,j(a,g0()))}return{state:e,tree:i}=Ht(e,r),{state:e,tree:i}=lu(o,e,i,"[","]"),i.type==="Err"?A(e,i):A(e,UI(qt(t.span,e),[t,i]))}case"Sqrt":case"Frac":case"Letter":case"Cmd":case"TokenNode":case"Trig":case"Ln":case"Log":case"Sum":case"Int":case"Prod":case"Decimal":case"MixedNumber":case"\\\\{":case"(|":return{state:e,tree:i}=Ht(e,r),i.type==="Err"?A(e,i):A(e,Zg(qt(t.span,e),[t,i]));case"(":if(Er(t)){if({state:e,tree:i}=uu(e),i.type==="Err")return A(e,i);let o=qt(t.span,e);return A(e,tu(o,[t,i.args[0]]))}else if(t.type==="Prime"&&Er(t.args[0])){if({state:e,tree:i}=uu(e),i.type==="Err")return A(e,i);let o=qt(t.span,e);return A(e,ru(o,t.nprimes,[tu(o,[t.args[0],i.args[0]])]))}else return{state:e,tree:i}=Ht(e,r),i.type==="Err"?A(e,i):A(e,Zg(qt(t.span,e),[t,i]));case"SupSub":{e=ee(e);let o=gM(n),a=Dp(n,e.opts);if(o&&o.type==="Err")return A(e,o);if(a&&a.type==="Err")return A(e,a);if(o&&(t=Jg(qt(t.span,e),[t,o])),a&&(t=Pp(qt(t.span,e),[t,a])),n.nprimes>0){let u=qt(t.span,e);if(!Er(t)){let l=j(u,Mp());return A(e,l)}t=ru(u,n.nprimes,[t])}return A(e,t)}case",":{let o=[t];for(;gr(e,",")&&(e=ee(e),!(gr(e,"...")||e.opts.trailingComma&&GD(e)));){if({state:e,tree:i}=Ht(e,r),i.type==="Err")if($r(i.error)){let a=qt(t.span,e),u=j(a,cs(n.val));return A(e,u)}else return A(e,i);o.push(i)}return A(e,Tp(qt(t.span,e),o))}case"...":{if(e=ee(e),gr(e,",")&&(e=ee(e)),r>=Np(yr(e).type))return A(e,jg(qt(t.span,e),[t,t0(ch(e))]));if({state:e,tree:i}=Ht(e,r),i.type==="Err")if($r(i.error)){let o=qt(t.span,e),a=j(o,cs(n.val));return A(e,a)}else return A(e,i);return A(e,jg(qt(t.span,e),[t,i]))}case"]":case")":case"\\\\}":case"|)":case"Differential":return gh(e);case"Err":return Ht(e,r);case"End":{let o=U(e,e),a=j(o,th());return A(e,a)}default:throw`Unexpected token type ${n.type}.`}}function VD(e){return!!(Er(e)||e.type==="Prime"&&Er(e.args[0]))}function pM(e,t,r){switch(e){case"+":return VI(t,r);case"-":return GI(t,r);case"*":return qI(t,r);case"/":return kI(t,r);case"=":return LI(t,r);case"~":return _I(t,r);case":":return r0(t,r);case".":return s0(t,r);case"->":return a0(t,r);case"for":return n0(t,r);case"with":return i0(t,r);default:throw`Unexpected token type ${e}.`}}function yM(e,t){if(!e.sub)return;let r=e.sub,n=fs(Bi(r,t));return n.type==="Err"&&n.error.type==="EmptyGroup"?j(n.span,Kg()):n}function gM(e){if(!e.sub)return;let t=e.sub;if(t.args.length===0)return j(t.span,Kg());let r=[];for(let n of t.args)if(n.type==="Digit"||n.type==="Letter")r.push(n.val);else{let i=n.span;return j(i,M0(Pr(i)))}return l0(t.span,r.join(""))}function Dp(e,t){if(!e.sup)return;let r=fs(Bi(e.sup,t));return r.type==="Err"?r.error.type==="EmptyGroup"?j(r.span,y0()):r:e.nprimes>0?j(e.span,S0()):r}function yh(e,t,r){if(e.type!=="SupSub"){let s=U(t,r);return j(s,oh())}if(e.nprimes>0){let s=U(t,r);return j(s,Mp())}let n=yM(e,r.opts),i=Dp(e,r.opts);if(!n||n.type==="Err"&&n.error.type==="EmptySubscript"||!i||i.type==="Err"&&i.error.type==="EmptySuperscript"){let s=U(t,r);return j(s,oh())}return n.type==="Err"?n:i.type==="Err"?i:{type:"Bounds",sup:i,sub:n}}function uu(e){let t=e,r=yr(e),n=dM(r.type);if(gr(e,"("))e=ee(e);else throw new Error("Programming Error: expected \'(\' at start of parseParen.");if(gr(e,")")){let s=Tp(ch(e),[]);e=ee(e);let o=U(t,e);return A(e,Yg(o,[s]))}let i;return{state:e,tree:i}=Ht(e,n),{state:e,tree:i}=lu(t,e,i,"(",")"),i.type==="Err"?A(e,i):A(e,Yg(U(t,e),[i]))}function fM(e){let t=e,r=yr(e);if(r.type!=="Differential")throw new Error("Programming Error: expected differential");e=ee(e);let n=eo(r.span,r.val),i=yr(e);if(i.type==="SupSub"){e=ee(e);let s=U(t,e),o=gM(i);if(o){if(o.type==="Err")return A(e,o);n=Jg(s,[n,o])}if(i.sup)return A(e,j(s,_0()));if(i.nprimes>0)return A(e,j(s,Mp()))}return A(e,n)}function lu(e,t,r,n,i){if(r.type==="Err"&&r.error.type!=="UnexpectedEnd")return A(t,r);if(r.type==="Err"||!gr(t,i)){let s=U(e,t),o=j(s,P0(n,i));return A(t,o)}return t=ee(t),A(t,r)}function gh(e){let t=e;switch(yr(e).type){case")":{e=ee(e);let n=U(t,e);return A(e,j(n,nu("(",")")))}case"]":{e=ee(e);let n=U(t,e);return A(e,j(n,nu("[","]")))}case"\\\\}":{e=ee(e);let n=U(t,e);return A(e,j(n,nu("\\\\{","\\\\}")))}case"|)":{e=ee(e);let n=U(t,e);return A(e,j(n,nu("|","|")))}case"Differential":{e=ee(e);let n=U(t,e);return A(e,j(n,T0()))}default:{e=ee(e);let n=U(t,e);return A(e,j(n,Qg()))}}}function GD(e){return gr(e,")")||gr(e,"]")||gr(e,"\\\\}")}function qD(){throw Ki()}function kD(e,t){return e.setInputSpan(t),e}function Mi(e,t={}){let r=typeof e;if(r!=="string")throw new Error(`Type Error: parse can only be called with strings, got ${JSON.stringify(e)} of type ${r}`);let n=b;if(t.disabledFeatures){n=Object.create(n);for(let l of t.disabledFeatures){if(!n[l])throw new Error(`Programming Error: ${l} cannot be disabled because it is not a parsenode.`);n[l]=qD}}let i=t.seedPrefix===void 0?"":t.seedPrefix,s=0,o=()=>{let l=`${i}::vc${s}`;return s+=1,l},a={nodes:n,currentIndex:t.index,setInput:kD,nextSeed:o,allowDt:!!t.allowDt,allowIndex:!!t.allowIndex,writeIntegral:!!t.writeIntegral},u={};t.trailingComma!==void 0&&(u.trailingComma=t.trailingComma),t.disallowFrac&&(u.disallowFrac=!0);try{let l=DI(e),c=mM(l,u);return tM(a,c)}catch(l){return l instanceof b.Error?l:typeof l=="string"?new b.Error(l):Te()}}function UD(e,t,r){return{chunk:e,argMap:t,start:r}}function ds(e,t,r,n){let i=UD(e,[t],r);return cu(i,n)}function cu(e,t){let{chunk:r,argMap:n,start:i}=e;if(t<i)return t;let s=n[t-i];if(s!==void 0)return s;let o=HD(e,t);e.argMap[t-i]=o;let a=r.getInstruction(t);if(_r(a))switch(a.type){case 21:case 19:break;case 17:{let l=a.args.length-2;for(let c=0;c<l;c++)cu(e,t+1+c);break}default:let u=a;throw new Error(`Programming Error. Unexpected OpCode: ${u.type}`)}else if(mr(a)){let u=a.args.length-1;for(let l=0;l<u;l++)cu(e,t+1+l)}return o}function HD(e,t){let{chunk:r,start:n}=e,i=r.getInstruction(t);if(mr(i)){let a=i.args[0];for(let u=a;u<=t;u++){let l=r.getInstruction(u);if(!ne(l))for(let c of l.args)c<a&&cu(e,c)}}if(ne(i))return Cn(r,i);let s=[];for(let a of i.args)s.push(cu(e,a));let o=e.argMap[t-n];return o!==void 0?o:Lt(r,i,s)}var Fr={};function Yo(e,t){return hh(e,t).freeDependencies}function hh(e,t){let r={};return t.type==="FunctionDefinition"&&(t=t._expression),bh(e,t,r)}function hM(e,t,r){let n=[],i=[],s=[],o=[],a=[];for(let u of t.scopes){let l=hM(e,u,r);for(let c of l.freeDependencies)n.indexOf(c)===-1&&t.definitions.indexOf(c)===-1&&n.push(c);for(let c of l.substitutionDependencies)o.indexOf(c)===-1&&t.definitions.indexOf(c)===-1&&o.push(c);for(let c of l.substitutionBodyDependencies)a.indexOf(c)===-1&&t.definitions.indexOf(c)===-1&&a.push(c);for(let c of l.updateSymbols)i.indexOf(c)===-1&&i.push(c);for(let c of l.substitutionSymbols)s.indexOf(c)===-1&&s.push(c)}for(let u of t.dependencies){if(t.definitions.indexOf(u)!==-1)continue;let l=$D(e,u,r),c=t.substitutionDependencies.indexOf(u)!==-1;for(let p of l.freeDependencies)n.indexOf(p)===-1&&t.definitions.indexOf(p)===-1&&n.push(p),c&&o.indexOf(p)===-1&&t.definitions.indexOf(p)===-1&&o.push(p),t.isSubstitutionBody&&a.indexOf(p)===-1&&t.definitions.indexOf(p)===-1&&a.push(p);for(let p of l.substitutionDependencies)o.indexOf(p)===-1&&t.definitions.indexOf(p)===-1&&o.push(p);for(let p of l.updateSymbols)i.indexOf(p)===-1&&i.push(p);for(let p of l.substitutionSymbols)s.indexOf(p)===-1&&s.push(p)}return{freeDependencies:n,updateSymbols:i,substitutionSymbols:s,substitutionDependencies:o,substitutionBodyDependencies:a}}function bh(e,t,r){if(t.type==="Slider"||t.type==="Assignment")return bh(e,t._expression,r);{let{freeDependencies:n,substitutionDependencies:i,updateSymbols:s,substitutionSymbols:o,substitutionBodyDependencies:a}=hM(e,t.getScope(),r),u=t.getUpdateSymbols();if(u.length>0){s=s.slice();for(let c of u)s.indexOf(c)===-1&&s.push(c)}let l=t.getSubstitutionSymbols();if(l.length>0){o=o.slice();for(let c of l)o.indexOf(c)===-1&&o.push(c)}return{freeDependencies:n,updateSymbols:s,substitutionSymbols:o,substitutionDependencies:i,substitutionBodyDependencies:a}}}function $D(e,t,r){if(r[t])return r[t];if(fe[t])return r[t]={freeDependencies:[],updateSymbols:[],substitutionSymbols:[],substitutionDependencies:[],substitutionBodyDependencies:[]},r[t];let n=e[t];return n?(r[t]={freeDependencies:[t],updateSymbols:[],substitutionSymbols:[],substitutionDependencies:[],substitutionBodyDependencies:[]},r[t]=bh(e,n,r),r[t]):(r[t]={freeDependencies:[t],updateSymbols:[],substitutionSymbols:[],substitutionDependencies:[],substitutionBodyDependencies:[]},r[t])}function bM(e,t){for(var r={},n=t.getDependencies().slice();n.length;){var i=n.pop();if(!r.hasOwnProperty(i)){var s=e[i];if(s===Fr)return;r[i]=s,s&&s.getDependencies&&Array.prototype.push.apply(n,s.getDependencies())}}return WD(r)}function WD(e){let t=[];for(let r in e)t.push([r,e[r]]);return t}function pu(e,t,r){let n=e.getInstruction(t);if(!pe(n.valueType,I)&&!pe(n.valueType,w))throw Rd([Z(n.valueType)]);let i=e.getInstruction(r);if(!pe(i.valueType,I)&&i.type!==0)throw Te();let s=e.Constant(0);if(t<r)return s;let o=e.Constant(1),a=e.Constant(NaN),u=Uo(e,r),l=tR(e,t);e.derivativeMaps[r]||(e.derivativeMaps[r]={maxValidReference:e.instructionsLength()-1,map:[]});let{map:c,maxValidReference:p}=e.derivativeMaps[r];for(let y=0;y<c.length;y++){let g=c[y];g!==void 0&&g>p&&(c[y]=void 0)}let f=[],m=!1;for(let y=0;y<r;y++)f[y]=y,c[y]=s;return xh({chunk:e,derivativeVarIndex:r,forwardMask:u,backwardMask:l,valueMap:f,derivativeMap:c,mustCopy:m,ZERO:s,ONE:o,NAN:a},r,t),e.derivativeMaps[r].maxValidReference=e.instructionsLength()-1,c[t]}function xh(e,t,r){let{chunk:n,valueMap:i,derivativeMap:s,backwardMask:o}=e;for(let a=t;a<=r;a++){let u=s[a];if(u!==void 0)if(n.getInstruction(u).type===0)s[a]=void 0;else{i[a]=Rp(e,a);continue}if(!o[a]){i[a]=Rp(e,a);continue}let l=n.getInstruction(a);if(_r(l)&&l.endIndex!==-1)switch(l.type){case 19:{a=YD(e,a);continue}case 17:case 21:{a=jD(e,a);continue}}i[a]=Rp(e,a),s[a]=ZD(e,a)}return r}function YD(e,t){let{chunk:r,forwardMask:n,valueMap:i,derivativeMap:s,ZERO:o}=e,a=r.getInstruction(t),u=a.endIndex,l=r.getInstruction(u),c=o;if(n[a.args[1]]){let p=i[a.args[1]];c=r.Add([c,r.Multiply([s[a.args[1]],ds(r,p,t,l.args[1])])])}if(n[a.args[0]]){let p=i[a.args[0]];c=r.Subtract([c,r.Multiply([s[a.args[0]],ds(r,p,t,l.args[1])])])}if(XD(r,t,n)){let p=i.slice();p[t]=Lt(r,a,[p[a.args[0]],p[a.args[1]]]),s[t]=o,xh(oe(z({},e),{valueMap:p,mustCopy:!0}),t+1,u-1);let f=Lt(r,l,[p[l.args[0]],s[l.args[1]]]);s[u]=f,c=r.Add([c,Lt(r,r.getInstruction(u+1),[f])])}else for(let p=t;p<=u;p++)s[p]=o;if(JD(r,t,i)){let p=oe(z({},e),{mustCopy:!0});for(let f=t;f<=u+1;f++)i[f]=Rp(p,f)}else for(let p=t;p<=u+1;p++)i[p]=p;return s[u+1]=c,u+l.args.length-1}function XD(e,t,r){let n=e.getInstruction(t),i=e.getInstruction(n.endIndex);if(i.args[1]<t+1)return r[i.args[1]];for(let s=t+1;s<=i.args[1];s++){let o=e.getInstruction(s);if(!ne(o)){for(let a of o.args)if(a<t&&r[a])return!0}}return!1}function JD(e,t,r){let n=e.getInstruction(t);for(let i=t;i<=n.endIndex;i++){let s=e.getInstruction(i);if(!ne(s)){for(let o of s.args)if(r[o]!==o)return!0}}return!1}function jD(e,t){let{chunk:r,derivativeMap:n,valueMap:i,ZERO:s}=e,o=r.getInstruction(t),a=o.endIndex,u=r.getInstruction(a),l;if(o.type===21)i[t]=Lt(r,o,[i[o.args[0]]]),n[t]=s,l=t+1;else{let p=[];p.push(i[o.args[0]],i[o.args[1]]);for(let f=2;f<o.args.length;f++)p.push(i[o.args[f]],n[o.args[f]]);i[t]=Lt(r,o,p),n[t]=s;for(let f=2;f<o.args.length;f++)i[t+f-1]=Lt(r,r.getInstruction(t+f-1),[i[t]]),n[t+f-1]=Lt(r,r.getInstruction(t+f-1),[i[t]]);l=t+o.args.length-1}xh(oe(z({},e),{mustCopy:!0}),l,a-1);let c=[];c.push(i[u.args[0]]);for(let p=1;p<u.args.length;p++)c.push(i[u.args[p]],n[u.args[p]]);i[a]=Lt(r,u,c),n[a]=s;for(let p=1;p<u.args.length;p++)i[a+p]=Lt(r,r.getInstruction(a+p),[i[a]]),n[a+p]=Lt(r,r.getInstruction(a+p),[i[a]]);return a+u.args.length-1}function Rp(e,t){let{chunk:r,valueMap:n,mustCopy:i}=e,s=r.getInstruction(t);if(ne(s))return i?Cn(r,s):t;{let o=[],a=!1;for(let u of s.args)o.push(n[u]),n[u]!==u&&(a=!0);return a||i?Lt(r,s,o):t}}function ZD(e,t){let{chunk:r,derivativeVarIndex:n,forwardMask:i,valueMap:s,derivativeMap:o,ZERO:a,ONE:u,NAN:l}=e,c=r.getInstruction(t);if(t===n)if(k(c.valueType)){let f=xr(r,t),m=r.BeginBroadcast([f]),d=r.EndBroadcast([m,u]);return r.BroadcastResult(Y,[d])}else return u;if(_r(c)||mr(c)||c.type===47||c.type===48||c.type===23||c.type===25||c.type===24||c.type===27||c.type===26||c.type===30||c.type===42||c.type===44||c.type===49)return a;if(!i[t]||ne(c))return c.valueType!==I?KD(r,[s[t],a]):c.type!==1||isFinite(F(c.value))?a:l;if(c.type===38||c.type===15){let f=[];for(let m of c.args)f.push(o[m]);return Lt(r,c,f)}if(c.type===31)return Lt(r,c,[s[c.args[0]],o[c.args[1]],o[c.args[2]]]);let p=a;for(let f=0;f<c.args.length;f++){if(!i[c.args[f]])continue;let m=o[c.args[f]];if(m===a)continue;let d=QD(e,s[t],f,m);d!==a&&(p=p===a?d:eR(r,[d,p]))}return p}function QD(e,t,r,n){let{chunk:i,ZERO:s,ONE:o,NAN:a}=e,u=i.getInstruction(t);switch(u.type){case 8:return n;case 9:switch(r){case 0:return n;default:return i.Negative([n])}case 10:switch(r){case 0:return i.Multiply([n,u.args[1]]);default:return i.Multiply([u.args[0],n])}case 11:switch(r){case 0:return i.Divide([n,u.args[1]]);default:return i.Multiply([u.args[0],i.Divide([i.Negative([n]),i.Multiply([u.args[1],u.args[1]])])])}case 14:return i.Negative([n]);case 12:case 13:switch(r){case 0:return i.Multiply([i.Multiply([u.args[1],i.Exponent([u.args[0],i.Subtract([u.args[1],o])])]),n]);default:return i.Multiply([i.Piecewise([i.Equal([u.args[0],s]),i.Piecewise([i.GreaterEqual([u.args[1],s]),s,a]),i.Multiply([i.SyntheticNativeFunction("ln",[u.args[0]]),t])]),n])}case 37:return rR(i,t,PM[u.symbol][r],n);case 39:case 40:case 41:case 16:switch(r){case 0:return Lt(i,u,[n,u.args[1]]);default:return s}default:{let l=u;throw new Error(`Unimplemented derivative for opcode ${l.type}`)}}}function KD(e,t){switch(e.getInstruction(t[0]).valueType){case ue:return e.SyntheticNativeFunction("scaleTangentSegment",t);case J:return e.SyntheticNativeFunction("scaleTangentLine",t);case ge:return e.SyntheticNativeFunction("scaleTangentRay",t);case Q:return e.SyntheticNativeFunction("scaleTangentCircle",t);case X:return e.SyntheticNativeFunction("scaleTangentArc",t);default:return e.Multiply(t)}}function eR(e,t){switch(e.getInstruction(t[0]).valueType){case ue:return e.SyntheticNativeFunction("addTangentSegment",t);case J:return e.SyntheticNativeFunction("addTangentLine",t);case ge:return e.SyntheticNativeFunction("addTangentRay",t);case Q:return e.SyntheticNativeFunction("addTangentCircle",t);case X:return e.SyntheticNativeFunction("addTangentArc",t);default:return e.Add(t)}}function tR(e,t){let r=[];for(let n=0;n<t;n++)r.push(!1);r.push(!0);for(let n=t;n>=0;n--){if(!r[n])continue;let i=e.getInstruction(n);if(!ne(i))if(i.type===31)r[i.args[1]]=!0,r[i.args[2]]=!0;else for(let s of i.args)r[s]=!0}return r}function rR(e,t,r,n){let i=Object.create(fe),s=Fa({},{},-1),a=e.getInstruction(t).args;for(let u=0;u<a.length;u++){let l=nR[u];en(s,l,a[u]),i[l]=Fr}return en(s,"x_1",n),i.x_1=Fr,en(s,"q",t),i.q=Fr,ce(Wr(yp,i,e,s,void 0,{}),r)}var nR=["x","y","z","u"],xM={exp:["q*x_1"],ln:["\\\\{x >= 0: x_1/x \\\\}"],log:["\\\\{x >= 0: x_1/(x*\\\\ln(10)) \\\\}"],sqrt:["x_1/(2*q)"],rtxsqpone:["x*x_1/q"],rtxsqmone:["x*x_1/q"],sin:["\\\\cos(x)*x_1"],cos:["-\\\\sin(x)*x_1"],tan:["(1+q^2)*x_1"],arcsin:["x_1/\\\\sqrt{1 - x^2}"],arccos:["-x_1/\\\\sqrt{1 - x^2}"],sinh:["\\\\cosh(x)*x_1"],cosh:["\\\\sinh(x)*x_1"],tanh:["(\\\\sech(x))^2*x_1"],arcsinh:["x_1/\\\\rtxsqpone(x)"],arccosh:["\\\\{ x > 0: x_1/\\\\rtxsqmone(x) \\\\}"],arctanh:["\\\\{ \\\\abs(x) < 1: x_1/(1 - x^2) \\\\}"],csc:["-\\\\cot(x)*q*x_1"],sec:["\\\\tan(x)*q*x_1"],cot:["-(1+q^2)*x_1"],arccsc:["-x_1/(\\\\abs(x)*\\\\rtxsqmone(x))"],arcsec:["x_1/(\\\\abs(x)*\\\\rtxsqmone(x))"],arccot:["-x_1/(1+x^2)"],csch:["-\\\\coth(x)*q*x_1"],sech:["-\\\\tanh(x)*q*x_1"],coth:["-(\\\\csch(x))^2*x_1"],arccsch:["-x_1/(\\\\abs(x)*\\\\rtxsqpone(x))"],arcsech:["\\\\{ x >= 0: -x_1/(x*\\\\sqrt{1 - x^2}) \\\\}"],arccoth:["\\\\{ \\\\abs(x) > 1 : x_1/(1 - x^2) \\\\}"],factorial:["q*\\\\polyGamma(0, x + 1)*x_1"],floor:["\\\\{ q=x: 0/0, 0*x_1 \\\\}"],ceil:["\\\\{ q=x: 0/0, 0*x_1 \\\\}"],round:["\\\\{ \\\\abs(\\\\mod(x, 1) - 0.5) > 0: 0*x_1 \\\\}"],abs:["\\\\{ x=0: 0/0, \\\\sign(x)*x_1 \\\\}"],sign:["\\\\{ x=0: 0/0, 0*x_1 \\\\}"],distance:["-((y.x-x.x)*x_1.x+(y.y-x.y)*x_1.y)/q","((y.x-x.x)*x_1.x+(y.y-x.y)*x_1.y)/q"],pointDet:["\\\\pointDet(x_1,y)","\\\\pointDet(x,x_1)"],pointDot:["\\\\pointDot(x_1,y)","\\\\pointDot(x,x_1)"],pointPerp:["\\\\pointPerp(x_1)"],segment:["\\\\segment(x_1,(0,0))","\\\\segment((0,0),x_1)"],line:["\\\\line(x_1,(0,0))","\\\\line((0,0),x_1)"],ray:["\\\\ray(x_1,(0,0))","\\\\ray((0,0),x_1)"],circle:["\\\\circle(x_1,0)","\\\\circle((0,0),x_1)"],arc:["\\\\arc(x_1,(0,0),(0,0))","\\\\arc((0,0),x_1,(0,0))","\\\\arc((0,0),(0,0),x_1)"],arcCenter:["(0/0,0/0)"],arcOmega:["0/0"],center:["\\\\center(x_1)"],radius:["\\\\radius(x_1)"],undirectedAngleMarker:["\\\\undirectedAngleMarker(x_1)"],directedAngleMarker:["\\\\directedAngleMarker(x_1,0,0,0)","\\\\directedAngleMarker((0,0),x_1,0,0)","\\\\directedAngleMarker((0,0),0,x_1,0)","\\\\directedAngleMarker((0,0),0,0,x_1)"],directedCoterminalAngle:["\\\\directedCoterminalAngle(x_1)"],undirectedCoterminalAngle:["\\\\undirectedCoterminalAngle(x_1)"],supplement:["\\\\supplement(x_1)"],directedAngleMarkerMeasure:["0/0"],undirectedAngleMarkerMeasure:["0/0"],polygonInteriorUndirectedAngles:["\\\\polygonInteriorUndirectedAngles(x_1)"],polygonInteriorDirectedAngles:["\\\\polygonInteriorDirectedAngles(x_1)"],lineFromSegment:["x_1"],lineFromRay:["x_1"],segmentGlider:["\\\\segmentGlider(x_1,y)","\\\\{0<y<1:(\\\\segmentGlider(x,1)-\\\\segmentGlider(x,0))*x_1,(0,0)\\\\}"],rayGlider:["\\\\rayGlider(x_1,y)","\\\\{0<y:(\\\\rayGlider(x,1)-\\\\rayGlider(x,0))*x_1,(0,0)\\\\}"],lineGlider:["\\\\lineGlider(x_1,y)","(\\\\lineGlider(x,1)-\\\\lineGlider(x,0))*x_1"],circleGlider:["\\\\circleGlider(x_1,y)","2*\\\\pi*\\\\pointPerp(q-\\\\center(x))*x_1"],arcGlider:["(0/0,0/0)","(0/0,0/0)"],polygonGlider:["(0/0,0/0)","(0/0,0/0)"],chooseNonIncidentPoint:["(0/0,0/0)"],circleCircleIntersection:["(\\\\radius(x)*\\\\radius(x_1)+\\\\pointDot(\\\\center(x_1),(q-\\\\center(x))))/\\\\pointDot(\\\\pointPerp(q-\\\\center(y)),q-\\\\center(x))*\\\\pointPerp(q-\\\\center(y))","(\\\\radius(y)*\\\\radius(x_1)+\\\\pointDot(\\\\center(x_1),(q-\\\\center(y))))/\\\\pointDot(\\\\pointPerp(q-\\\\center(x)),q-\\\\center(y))*\\\\pointPerp(q-\\\\center(x))"],circleArcIntersection:["(0/0,0/0)"],circleLineIntersection:["(\\\\radius(x)*\\\\radius(x_1)+\\\\pointDot(\\\\center(x_1),(q-\\\\center(x))))/\\\\pointDot((\\\\lineGlider(y,1)-\\\\lineGlider(y,0)),q-\\\\center(x))*(\\\\lineGlider(y,1)-\\\\lineGlider(y,0))","(\\\\pointDet(\\\\lineGlider(x_1,0),\\\\lineGlider(y,1))+\\\\pointDet(\\\\lineGlider(y,0),\\\\lineGlider(x_1,1))-\\\\pointDet(q,\\\\lineGlider(x_1,1)-\\\\lineGlider(x_1,0)))/(\\\\pointDet(\\\\pointPerp(q-\\\\center(x)),\\\\lineGlider(y,1)-\\\\lineGlider(y,0)))*(\\\\pointPerp(q-\\\\center(x)))"],arcCircleIntersection:["(0/0,0/0)"],arcArcIntersection:["(0/0,0/0)"],arcLineIntersection:["(0/0,0/0)"],lineCircleIntersection:["(\\\\pointDet(\\\\lineGlider(x_1,0),\\\\lineGlider(x,1))+\\\\pointDet(\\\\lineGlider(x,0),\\\\lineGlider(x_1,1))-\\\\pointDet(q,\\\\lineGlider(x_1,1)-\\\\lineGlider(x_1,0)))/(\\\\pointDet(\\\\pointPerp(q-\\\\center(y)),\\\\lineGlider(x,1)-\\\\lineGlider(x,0)))*(\\\\pointPerp(q-\\\\center(y)))","(\\\\radius(y)*\\\\radius(x_1)+\\\\pointDot(\\\\center(x_1),(q-\\\\center(y))))/\\\\pointDot((\\\\lineGlider(x,1)-\\\\lineGlider(x,0)),q-\\\\center(y))*(\\\\lineGlider(x,1)-\\\\lineGlider(x,0))"],lineArcIntersection:["(0/0,0/0)"],lineLineIntersection:["(\\\\pointDet(\\\\lineGlider(x_1,0),\\\\lineGlider(x,1))+\\\\pointDet(\\\\lineGlider(x,0),\\\\lineGlider(x_1,1))-\\\\pointDet(q,\\\\lineGlider(x_1,1)-\\\\lineGlider(x_1,0)))/(\\\\pointDet(\\\\lineGlider(y,1)-\\\\lineGlider(y,0),\\\\lineGlider(x,1)-\\\\lineGlider(x,0)))*(\\\\lineGlider(y,1)-\\\\lineGlider(y,0))","(\\\\pointDet(\\\\lineGlider(x_1,0),\\\\lineGlider(y,1))+\\\\pointDet(\\\\lineGlider(y,0),\\\\lineGlider(x_1,1))-\\\\pointDet(q,\\\\lineGlider(x_1,1)-\\\\lineGlider(x_1,0)))/(\\\\pointDet(\\\\lineGlider(x,1)-\\\\lineGlider(x,0),\\\\lineGlider(y,1)-\\\\lineGlider(y,0)))*(\\\\lineGlider(x,1)-\\\\lineGlider(x,0))"],parallel:["\\\\parallel(x_1,(0,0))","\\\\parallel(\\\\line((0,0),(0,0)),x_1)"],perpendicular:["\\\\perpendicular(x_1,(0,0))","\\\\perpendicular(\\\\line((0,0),(0,0)),x_1)"],scaleTangentSegment:["\\\\scaleTangentSegment(x_1, y)","\\\\scaleTangentSegment(x, x_1)"],scaleTangentLine:["\\\\scaleTangentLine(x_1, y)","\\\\scaleTangentLine(x, x_1)"],scaleTangentRay:["\\\\scaleTangentRay(x_1, y)","\\\\scaleTangentRay(x, x_1)"],scaleTangentCircle:["\\\\scaleTangentCircle(x_1, y)","\\\\scaleTangentCircle(x, x_1)"],scaleTangentArc:["\\\\scaleTangentArc(x_1, y)","\\\\scaleTangentArc(x, x_1)"],addTangentSegment:["\\\\addTangentSegment(x_1, y)","\\\\addTangentSegment(x, x_1)"],addTangentLine:["\\\\addTangentLine(x_1, y)","\\\\addTangentLine(x, x_1)"],addTangentRay:["\\\\addTangentRay(x_1, y)","\\\\addTangentRay(x, x_1)"],addTangentCircle:["\\\\addTangentCircle(x_1, y)","\\\\addTangentCircle(x, x_1)"],addTangentArc:["\\\\addTangentArc(x_1, y)","\\\\addTangentArc(x, x_1)"],translation:["\\\\translation(x_1)"],dilation:["\\\\dilation(x_1, y)","\\\\dilation(x, x_1)"],reflection:["\\\\reflection(x_1)"],rotation:["\\\\rotation((0/0,0/0),0/0]"],compose:["\\\\reflection(\\\\line((0/0,0/0),(0/0,0/0)))","\\\\reflection(\\\\line((0/0,0/0),(0/0,0/0)))"],inverse:["\\\\reflection(\\\\line((0/0,0/0),(0/0,0/0)))"],transformPoint:["(0/0,0/0)","(0/0,0/0)"],transformSegment:["\\\\segment((0/0,0/0),(0/0,0/0))","\\\\segment((0/0,0/0),(0/0,0/0))"],transformLine:["\\\\line((0/0,0/0),(0/0,0/0))","\\\\line((0/0,0/0),(0/0,0/0))"],transformRay:["\\\\ray((0/0,0/0),(0/0,0/0))","\\\\ray((0/0,0/0),(0/0,0/0))"],transformCircle:["\\\\circle((0/0,0/0),0/0)","\\\\circle((0/0,0/0),0/0)"],transformArc:["\\\\arc((0/0,0/0),(0/0,0/0),(0/0,0/0))","\\\\arc((0/0,0/0),(0/0,0/0),(0/0,0/0))"],transformPolygon:["\\\\polygon([])","\\\\polygon([])"],transformAngleMarker:["\\\\undirectedAngleMarker(directedAngleMarker([0/0,0/0],0/0,0/0,0/0))","\\\\undirectedangleMarker(directedAngleMarker([0/0,0/0],0/0,0/0,0/0))"],transformDirectedAngleMarker:["\\\\directedAngleMarker([0/0,0/0],0/0,0/0,0/0)","\\\\directedangleMarker([0/0,0/0],0/0,0/0,0/0)"],mean:["\\\\mean(x_1)"],total:["\\\\total(x_1)"],count:["0"],var:["2*\\\\cov(x, x_1)"],varp:["2*\\\\cov(x, x_1)*(\\\\count(x)-1)/\\\\count(x)"],stdev:["\\\\cov(x, x_1)/q"],stdevp:["\\\\covp(x, x_1)/q"],mad:["\\\\mean(\\\\sign(x-\\\\mean(x))*(x_1 - \\\\mean(x_1)))"],min:["x_1[\\\\argmin(x)]"],max:["x_1[\\\\argmax(x)]"],median:["0.5*(x_1[\\\\lowerQuantileIndex(x, 0.5)] + x_1[\\\\upperQuantileIndex(x, 0.5)])"],argmin:["0/0"],argmax:["0/0"],gcd:["0/0"],lcm:["0/0"],erf:["\\\\frac{2x_1}{\\\\sqrt{\\\\pi }}\\\\exp(-x^2)"],invNorm:["\\\\frac{x_1}{\\\\pdf(\\\\normaldist(0,1),q)}"],logbase:["\\\\{x > 0: \\\\frac{x_1}{x*\\\\ln(y)} \\\\}","\\\\frac{-q*x_1}{y*\\\\ln(y)}"],nthroot:["x^{1/y - 1}/y*x_1","-\\\\frac{q*\\\\ln(x)*x_1}{y^2}"],hypot:["x_1*x/q","x_1*y/q"],polyGamma:["0/0","\\\\polyGamma(1 + x, y)*x_1"],mod:["\\\\{ q=0: 0/0, x_1 \\\\}","\\\\{ \\\\mod(x/y, 1) > 0: -\\\\floor(x/y)*x_1 \\\\}"],cov:["\\\\cov(x_1, y)","\\\\cov(x, x_1)"],covp:["\\\\covp(x_1, y)","\\\\covp(x, x_1)"],corr:["(\\\\cov(x_1, y) - (\\\\cov(x, y)*\\\\cov(x, x_1)/\\\\var(x)))/(\\\\stdevp(x)\\\\stdevp(y))","(\\\\cov(x, x_1) - (\\\\cov(x, y)*\\\\cov(y, x_1)/\\\\var(y)))/(\\\\stdevp(x)\\\\stdevp(y))"],spearman:["0/0","0/0"],quantile:["\\\\{ \\\\floor(y*(\\\\count(x)-1)) = y*(\\\\count(x)-1) :   x_1[\\\\upperQuantileIndex(x, y)],  (\\\\ceil(y*(\\\\count(x)-1)) - y*(\\\\count(x)-1))*x_1[\\\\lowerQuantileIndex(x, y)] +   (y*(\\\\count(x)-1) - \\\\floor(y*(\\\\count(x)-1)))*x_1[\\\\upperQuantileIndex(x, y)]\\\\}","\\\\{ \\\\floor(y*(\\\\count(x)-1)) < y*(\\\\count(x)-1) :   (\\\\count(x)-1)*(x[\\\\upperQuantileIndex(x, y)] - x[\\\\lowerQuantileIndex(x, y)])*x_1\\\\}"],quartile:["0.5*(x_1[\\\\lowerQuartileIndex(x, y)] + x_1[\\\\upperQuartileIndex(x, y)])","0/0"],tscore:["\\\\frac{\\\\sqrt{\\\\count(x)}(\\\\stdev(x)*\\\\mean(x_1)-(\\\\mean(x)-y)*\\\\frac{\\\\cov(x,x_1)}{\\\\stdev(x)})}{\\\\stdev(x)^2}","-x_1*\\\\sqrt{\\\\count(x)}/\\\\stdev(x)"],quartileIndex:["0/0","0/0"],upperQuartileIndex:["0/0","0/0"],lowerQuartileIndex:["0/0","0/0"],upperQuantileIndex:["0/0","0/0"],lowerQuantileIndex:["0/0","0/0"],nCr:["q*(\\\\polyGamma(0, 1 + x) - \\\\polyGamma(0, 1 + x - y))","q*(\\\\polyGamma(0, 1 + x - y) - \\\\polyGamma(0, 1 + y))"],nPr:["q*(\\\\polyGamma(0, 1 + x) - \\\\polyGamma(0, 1 + x - y))","q*\\\\polyGamma(0, 1 + x - y)"],arctan:["x_1*y/(y^2+x^2)","-x_1*x/(y^2+x^2)"],poissonpdf:["0/0","x_1\\\\frac{\\\\exp(-y)(\\\\floor(x)-y)y^{(\\\\floor(x)-1)}}{(\\\\floor(x))!}"],invPoisson:["0/0","0/0"],tpdf:["x_1*q*\\\\frac{-(y+1)*x}{y+x^2}","x_1*\\\\frac{1}{2}q*(  \\\\frac{x^2-1}{y + x^2} + \\\\ln(\\\\frac{y}{y + x^2}) +   \\\\polyGamma(0, \\\\frac{1+y}{2}) - \\\\polyGamma(0, y/2))"],invT:["x_1/\\\\pdf(\\\\tdist(y),q)","0/0"],tcdf:["-x_1*\\\\pdf(\\\\tdist(z),x)","x_1*\\\\pdf(\\\\tdist(z),y)","0/0"],poissoncdf:["0/0","0/0","x_1\\\\sum _{n=\\\\max(0,\\\\floor(\\\\min(x,y)))}^{\\\\floor(\\\\max(x,y))}\\\\frac{\\\\exp(-z)(n-z)z^{(n-1)}}{n!}"],normalpdf:["-x_1*\\\\frac{x-y}{z^2} q","x_1*\\\\frac{x-y}{z^2} q","x_1*(\\\\frac{(x-y-z)*(x-y+z)}{z^3}) q"],binompdf:["0/0","0/0","\\\\{0<=z<=1: x_1*q*(\\\\frac{\\\\round(x)}{z}-\\\\frac{\\\\round(y)-\\\\round(x)}{1-z}), 0 \\\\}"],invBinom:["0/0","0/0","0/0"],uniformpdf:["0","\\\\{y<=x: \\\\frac{x_1}{(z-y)^2}, 0\\\\}","\\\\{z>=x: -\\\\frac{x_1}{(z-y)^2}, 0\\\\}"],invUniform:["\\\\{y<=x<=z: x_1*(z-y), 0\\\\}","\\\\{y<=x<=z: x_1*(1-x), 0\\\\}","\\\\{y<=x<=z: x_1*x, 0\\\\}"],normalcdf:["-x_1\\\\pdf(\\\\normaldist(z,u), x)","x_1\\\\pdf(\\\\normaldist(z,u), y)","-x_1*(\\\\pdf(\\\\normaldist(z,u), y) - \\\\pdf(\\\\normaldist(z,u), x))","x_1*(  \\\\{\\\\abs(y)=1/0:0,\\\\frac{z-y}{u}\\\\pdf(\\\\normaldist(z,u),y)\\\\} -   \\\\{\\\\abs(x)=1/0:0,\\\\frac{z-x}{u}\\\\pdf(\\\\normaldist(z,u),x)\\\\})"],binomcdf:["0/0","0/0","0/0","\\\\{0<=u<=1: x_1*\\\\sum _{n=\\\\max(0,\\\\round(\\\\min(x,y)))}^{\\\\round(\\\\max(x,y))}(  \\\\pdf(\\\\binomialdist(z,u),n)*(\\\\frac{n}{u}-\\\\frac{\\\\round(z)-n}{1-u})), 0 \\\\}"],uniformcdf:["\\\\{z>u: 0/0, -x_1\\\\pdf(\\\\uniformdist(z,u), x)\\\\}","\\\\{z>u: 0/0, x_1\\\\pdf(\\\\uniformdist(z,u), y)\\\\}","\\\\{z>u: 0/0, x_1*(\\\\frac{\\\\{z<x<u:u-x,0\\\\} + \\\\{z<y<u:y-u,0\\\\}}{(u-z)^2})\\\\}","\\\\{z>u: 0/0, x_1*(\\\\frac{\\\\{z<x<u:x-z,0\\\\} + \\\\{z<y<u:z-y,0\\\\}}{(u-z)^2})\\\\}"],normalSample:["0/0","0/0","0/0"],uniformSample:["0/0","0/0","0/0"],tSample:["0/0","0/0"],poissonSample:["0/0","0/0"],binomSample:["0/0","0/0","0/0"],rgb:["0/0","0/0","0/0"],hsv:["0/0","0/0","0/0"],polygon:["\\\\polygon(x_1)"],area:["0/0"],perimeter:["0/0"],vertices:["\\\\vertices(x_1)"],segments:["\\\\segments(x_1)"],validateRangeLength:["0","0","0","\\\\{q \\\\ge 1: x_1, 0\\\\}"],validateSampleCount:["\\\\{x<0:0,1\\\\}*x_1"],select:["\\\\select(x_1, y)","0*q"],shuffle:["0*y","\\\\shuffle(x, x_1)"],sortPerm:["0*x"],elementsAt:["\\\\elementsAt(x_1, y)","0*q"],uniquePerm:["0*q"]},PM={};for(let e in xM){let t=e,r=xM[t],n=[];for(let i=0;i<r.length;i++){let s=r[i];n.push(Mi(s,{}))}PM[t]=n}function TM(e,t){e.map.length=Math.min(e.map.length,t),e.maxValidReference=Math.min(e.maxValidReference,t-1)}function IM(e,t,r){let n=e.argNames.indexOf(t);if(n===-1){let o=e.getInstruction(r);return o.type===1&&o.valueType===I&&isNaN(F(o.value))?ri():zn()}let i=Ur(e,n,{allowRestriction:!0,allowClosedBlockReferences:!1}),s=iR(i);return no(s,r)}function iR(e){let{chunk:t,mask:r}=e;return{chunk:t,mask:r,orderCtx:e,domainTable:[]}}function no(e,t){let{domainTable:r}=e,n=r[t];if(n!==void 0)return n;let i=sR(e,t);return r[t]=i,i}function sR(e,t){let{chunk:r,mask:n,orderCtx:i}=e,s=r.getInstruction(t);if(ne(s)){if(s.type===1){if(s.valueType==I){if(isNaN(F(s.value)))return ri()}else if(s.valueType===Y){for(let o of s.value)if(isNaN(F(o)))return Tr()}}return zn()}switch(s.type){case 30:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 47:case 48:case 15:case 16:case 37:case 42:case 19:case 20:case 21:case 22:case 17:case 18:case 39:case 40:case 41:case 44:case 49:{let o=zn();for(let a of s.args)o=Or(o,no(e,a));return o}case 38:{if(!n[t])return zn();let o=no(e,s.args[0]);if(o.type!=="known")return Tr();for(let a=1;a<s.args.length;a++){let u=no(e,s.args[a]);if(u.type!=="known")return Tr();if(u.bounds[0]!==o.bounds[0]||u.bounds[1]!==o.bounds[1])return Tr()}return o}case 23:return n[t]?Tr():zn();case 31:{let o=r.getInstruction(s.args[2]);return o.type!==1||o.valueType!==I||!isNaN(F(o.value))?Tr():Or(no(e,s.args[0]),no(e,s.args[1]))}case 24:case 25:case 26:case 27:{if(!n[t])return zn();if(Bt(i,t)>1)return Tr();let o=e.coefficientCtx;o===void 0&&(o=_n(i),e.coefficientCtx=o);let a=o.newChunk,u=Ut(o,t),[l,c]=u;if(!It(a.getInstruction(l)))return Tr();let p=ht(a,l);if(isNaN(p))return ri();let f=zn();for(let m of s.args)f=Or(f,no(e,m));if(c===void 0)return s.type===26||s.type===27?p>=0?f:ri():p>0?f:ri();{let m=ht(a,c);return Or(f,mo(p,m))}}}}function vM(e){let t=[],r=[];for(let n=0;n<e.argNames.length;n++){let i=[],s=[];for(let o=0;o<e.argNames.length;o++)i.push(e.argTypes[o]===I),s.push(n===o);r.push(s),t.push(i)}for(let n=e.argNames.length;n<=e.getReturnIndex();n++)r.push(oR(e,r,n)),t.push(aR(e,r,t,n));return t[e.getReturnIndex()]}function oR(e,t,r){let n=e.getInstruction(r),i=uR(e.argNames.length);if(ne(n))return i;for(let s of n.args){let o=t[s];for(let a=0;a<o.length;a++)i[a]=i[a]||o[a]}return i}function aR(e,t,r,n){let i=e.getInstruction(n);if(ne(i))return MM(e.argNames.length);switch(i.type){case 8:case 9:case 14:case 38:{let a=MM(e.argNames.length);for(let u=0;u<i.args.length;u++){let l=r[i.args[u]];for(let c=0;c<l.length;c++)a[c]=a[c]&&l[c]}return a}case 11:{let a=[],u=r[i.args[0]],l=t[i.args[1]];for(let c=0;c<u.length;c++)a.push(u[c]&&!l[c]);return a}case 10:{let a=r[i.args[0]].slice(),u=r[i.args[1]].slice(),l=t[i.args[0]],c=t[i.args[1]],p=0,f=0;for(let m=0;m<a.length;m++){let d=a[m]&&!c[m],y=u[m]&&!l[m];a[m]=d,u[m]=y,d&&(p+=1),y&&(f+=1)}return p>=f?a:u}case 31:{let a=t[i.args[0]],u=r[i.args[1]],l=r[i.args[2]];for(var s=[],n=0;n<a.length;n++)s.push(!a[n]&&u[n]&&l[n]);return s}case 39:case 40:case 41:{let a=r[i.args[0]],u=t[i.args[1]],l=[];for(var n=0;n<u.length;n++)l.push(a[n]&&!u[n]);return l}case 48:{let a=i.args[0],u=e.getInstruction(a),l=n-a;return r[u.args[l]]}case 15:case 16:case 12:case 13:case 24:case 26:case 25:case 27:case 23:case 30:case 37:case 42:case 19:case 20:case 17:case 18:case 21:case 22:case 47:case 44:case 49:{let a=t[n],u=[];for(let l of a)u.push(!l);return u}default:let o=i;throw new Error(`Unexpected opcode ${o.type}`)}}function uR(e){let t=[];for(let r=0;r<e;r++)t.push(!1);return t}function MM(e){let t=[];for(let r=0;r<e;r++)t.push(!0);return t}function SM(e){let t=e.getInstruction(e.getReturnIndex());if(t.type!==48)return e;let r=t.args[0],n=e.getReturnIndex()-r,i=e.getInstruction(r),s=i.args[0],o=i.args[n],a=[],u=[];a.push(s);let l=Zn(e,e.getReturnIndex(),"Programming error: cannot optimize regression on non-constant-length list");u.push({min:1,max:l,length:l});let c=!1,p=!1;for(let M=s+1;M<=o;M++){let E=e.getInstruction(M);if(E.type===39||E.type===41||E.type===40){if(E.args[1]!==s)continue;let S=E.args[0];if(e.getInstruction(S).valueType!==Y||!It(e.getInstruction(S)))continue;let v=ht(e,S),N=pR(v);if(!isFinite(N.min)||!isFinite(N.max))continue;a.push(M),u.push(N)}else EM(E)?c=!0:(E.type===12||E.type===13)&&(p=!0)}if(a.length===0||!p&&!c)return e;let f=[],m=[];for(let M=0;M<e.argNames.length;M++)m.push(M),f.push(zn());let d=[],y=[];for(let M=0;M<=o;M++)d.push(Ph(e,m,d,M)),y.push(Ph(e,a,y,M));for(let M=0;M<=o;M++){let E=e.getInstruction(M);if(E.type===31){let S=d[M];for(let v=0;v<S.length;v++)S[v]&&(f[v]=Tr())}else if(E.type===12||E.type===13){let S=!1,v=!1;for(let ve=0;ve<a.length;ve++)y[E.args[0]][ve]&&(S=!0),y[E.args[1]][ve]&&(v=!0);if(S||!v)continue;let N=d[E.args[0]],G=0,C;for(let ve=0;ve<N.length;ve++)N[ve]&&(C=ve,G+=1);if(G!==1||C===void 0)continue;let H=m[C],te=Ur(e.copy().reopenFinalBlock(),H,{allowRestriction:!1,allowClosedBlockReferences:!1});if(Bt(te,E.args[0])!==1)continue;let je=_n(te),[Me,Ke]=Ut(je,E.args[0]);if(Ke===void 0)continue;let xt=ht(je.newChunk,Ke),re=ht(je.newChunk,Me);f[C]=Or(f[C],mo(re,xt))}}if(c){let M=e.copy().reopenFinalBlock();for(let E=0;E<a.length;E++){let S=Ur(M,a[E],{allowRestriction:!1,allowClosedBlockReferences:!1}),v=_n(S);for(let N=s+1;N<=o;N++){let G=M.getInstruction(N);if(EM(G)){let C=G.args[0];if(Bt(S,C)!==1)continue;let H=Ut(v,C)[1];if(H===void 0)continue;let te=cR(v.newChunk,H),je,Me=0;for(let Gt=0;Gt<te.length;Gt++)te[Gt]&&(je=Gt,Me+=1);if(Me!==1||je===void 0)continue;let Ke=Ur(v.newChunk,je,{allowRestriction:!1,allowClosedBlockReferences:!1});if(Bt(Ke,H)!==1)continue;let xt=_n(Ke),[re,ve]=Ut(xt,H);if(ve===void 0||!It(xt.newChunk.getInstruction(re))||!It(xt.newChunk.getInstruction(ve)))continue;let Ne=ht(xt.newChunk,re),De=ht(xt.newChunk,ve),se=(u[E].max-u[E].min)/Math.min(u[E].length-1,31),bt=Math.PI/se;if(!isFinite(bt)||bt<=0)continue;f[je]=Or(f[je],mo(Ne,De)),f[je]=Or(f[je],mo(bt-Ne,-De))}}}}let g=!1;for(let M of f){if(M.type!=="known")return e;(M.bounds[0]!==-1/0||M.bounds[1]!==1/0)&&(g=!0)}if(!g)return e;let h=e.copy(),x=e.getReturnIndex(),P=h.Constant(1),D=h.Constant(NaN);for(let M=0;M<h.argNames.length;M++)x=lR(h,f[M],x,M,P,D);return h.close(),h}function lR(e,t,r,n,i,s){if(t.type!=="known"||t.bounds[0]===-1/0&&t.bounds[1]===1/0)return r;let o=e.And([e.LessEqual([e.Constant(t.bounds[0]),n]),e.LessEqual([n,e.Constant(t.bounds[1])])]);return e.Multiply([r,e.Piecewise([o,i,s])])}function cR(e,t){let r=[];for(let i=0;i<e.argNames.length;i++)r.push(i);let n=[];for(let i=0;i<=t;i++)n.push(Ph(e,r,n,i));return n[t]}function EM(e){return e.type===37&&(e.symbol==="sin"||e.symbol==="cos")}function pR(e){var t=1/0,r=-1/0,n=e.length;for(let i of e)t=Math.min(t,i),r=Math.max(r,i);return{min:t,max:r,length:n}}function Ph(e,t,r,n){let i=e.getInstruction(n),s=fR(t.length);for(let o=0;o<t.length;o++)if(t[o]===n)return s[o]=!0,s;if(ne(i))return s;for(let o of i.args){let a=r[o];for(let u=0;u<a.length;u++)s[u]=s[u]||a[u]}return s}function fR(e){let t=[];for(let r=0;r<e;r++)t.push(!1);return t}function OM(e){let t=e.getInstruction(e.getReturnIndex());if(ne(t))return e.getReturnIndex();let r=!1,n=[],i=zg(e,t),s;if(i.isReducerWithNoListArgs){let o=ot(i.expectedListType);s=t.args.map(()=>o)}else s=i.expectedTypes;if(s.length<t.args.length)return e.getReturnIndex();for(let o=0;o<t.args.length;o++){let a=s[o],u=t.args[o],l=u;pe(a,I)&&(l=Xo(e,u)),l!==u&&(r=!0),n.push(l)}if(i.isReducerWithNoListArgs){let o=dR(e,n);if(Es(o,i.expectedListType)){r||e.popInstruction();let a=e.List(t.args);return e.copyInstructionWithArgs(t,[a])}}else r&&e.copyInstructionWithArgs(t,n);return e.getReturnIndex()}function Xo(e,t){let r=e.getInstruction(t);return r.valueType===de?t:pe(r.valueType,xe)?e.SyntheticNativeFunction("undirectedAngleMarkerMeasure",[t]):pe(r.valueType,le)?e.SyntheticNativeFunction("directedAngleMarkerMeasure",[t]):t}function dR(e,t){let r=e.getInstruction(t[0]).valueType;if(!En(r))return Mt;for(let n of t)if(e.getInstruction(n).valueType!==r)return Mt;return Zr(r)}function Bn(e){var t=e;if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object")return t;if(Array.isArray(t))return t.map(Bn);var r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=Bn(t[n]));return r}function NM(e,t){let r=[],n=[],i=[];for(let o=0;o<e.argNames.length;o++)t.hasOwnProperty(e.argNames[o])||(r.push(e.argNames[o]),n.push(e.argTypes[o]));let s=new Pi({argNames:r,argTypes:n});for(let o=0,a=0;o<e.argNames.length;o++)t.hasOwnProperty(e.argNames[o])?i[o]=s.ConstantOfType(e.argTypes[o],t[e.argNames[o]]):(i[o]=a,a+=1);for(let o=e.argNames.length;o<e.instructionsLength();o++){let a=e.getInstruction(o);if(ne(a))i.push(Cn(s,a));else{let u=[];for(let l of a.args)u.push(i[l]);i.push(Lt(s,a,u))}}return s}var Pi=class{constructor(t){this.derivativeMaps={};if(this.instructions=[],this.blockMask=[],this.comments=[],t.argNames.length!==t.argTypes.length)throw new Error("Programming Error: length of argNames must match length of argTypes");this.argNames=t.argNames,this.argTypes=t.argTypes;for(let r=0;r<this.argTypes.length;r++){let n=this.argTypes[r];this.LoadArg(n)}this.returnIndex=this.Constant(NaN)}getReturnIndex(){return this.returnIndex}setReturnIndex(t){if(!(0<=t&&t<this.instructions.length))throw new Error(`Programming Error: out of bounds return index ${t}`);this.returnIndex=t}addComments(t){for(let r in t){let n=this.comments[r]||"";this.comments[r]=n+t[r]}return this}instructionsLength(){return this.instructions.length}getInstruction(t){return this.instructions[t]}popInstruction(){this.truncate(this.instructions.length-1)}truncate(t){this.instructions.length=Math.min(t,this.instructions.length),this.blockMask.length=Math.min(t,this.blockMask.length),this.comments.length=Math.min(t,this.comments.length);for(let r in this.derivativeMaps)TM(this.derivativeMaps[r],t);this.setReturnIndex(this.instructions.length-1)}pushInstructionChecked(t){if(this.instructions.length>=32768)throw Wd();this.instructions.push(t),this.setReturnIndex(this.instructions.length-1)}pushLeafInstruction(t){return this.pushInstructionChecked(t),this.getReturnIndex()}pushInstruction(t){return this.checkInstructionArguments(t),this.pushInstructionChecked(t),this.setReturnIndex(pI(this)),this.setReturnIndex(yI(this)),this.setReturnIndex(OM(this)),oI(this,this.getReturnIndex()),this.returnIndex===this.instructions.length-1&&this.setReturnIndex(sI(this)),this.getReturnIndex()}checkInstructionArguments(t){for(let r of t.args)if(this.blockMask[r])throw new Error("Programming Error: cannot reference an instruction in a closed block")}markClosedBlock(t,r){for(let n=t;n<r;n++)this.blockMask[n]=!0}LoadArg(t){return this.pushLeafInstruction({type:2,valueType:t})}BlockVar(t,r){return this.pushInstruction({type:47,valueType:t,args:r})}SymbolicVar(t,r){return this.pushLeafInstruction({type:3,valueType:t,symbol:r})}BroadcastResult(t,r){let n=r[0],i=this.instructions[n],s=i.args[0],o=this.instructions.length-n,a=i.args[o],u=!lp(this,a,s),c=this.getInstruction(s).args[0],p=this.getInstruction(c);return this.pushInstruction({type:48,valueType:t,args:r,isConstantBroadcast:u,constantLength:It(p)?ht(this,c):void 0})}Constant(t){return this.ConstantOfType(I,t)}ConstantOfType(t,r){if(typeof r=="number"&&(r=ie(r,1)),k(t)&&r.length>1e4)throw Ia();return this.pushLeafInstruction({type:1,valueType:t,value:r})}NanOfType(t){if(t===Dt){let r=this.Constant(NaN);return this.Distribution("uniformdist",[r,r])}else return this.ConstantOfType(t,dn(t))}Add(t){let r=8,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}Subtract(t){let r=9,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}Multiply(t){let r=10,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}Divide(t){let r=11,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}Exponent(t){let r=12,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}RawExponent(t){let r=13,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}Negative(t){let r=14,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}Equal(t){let r=23,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}Less(t){let r=24,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}Greater(t){let r=25,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}LessEqual(t){let r=26,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}GreaterEqual(t){let r=27,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}And(t){let r=30,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}Piecewise(t){let r=31,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}OrderedPair(t){let r=15,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}OrderedPairAccess(t){let r=16,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}List(t){let r=38,n=wt(this,r,t);if(t.length>1e4)throw Ia();return this.pushInstruction({type:r,valueType:n,args:t})}ListAccess(t){let r=39,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}DeferredListAccess(t){let r=40,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}InboundsListAccess(t){let r=41,n=wt(this,r,t);return this.pushInstruction({type:r,valueType:n,args:t})}NativeFunction(t,r,n){let i=37,s=or[t].returnType,o=typeof s=="function"?s(n.map(a=>this.getInstruction(a).valueType)):s;return this.pushInstruction({type:i,valueType:o,args:n,symbol:t,callData:r})}SyntheticNativeFunction(t,r){let n=37,i=or[t].returnType,s=typeof i=="function"?i(r.map(a=>this.getInstruction(a).valueType)):i,o={errorSymbol:t,providedArity:r.length,isDotCall:!1};return this.pushInstruction({type:n,valueType:s,args:r,symbol:t,callData:o})}Distribution(t,r){let n=42,i=Dt;return this.pushInstruction({type:n,valueType:i,args:r,symbol:t})}BeginIntegral(t,r){let n=19,i=wt(this,n,[]);return this.pushInstruction({type:n,valueType:i,args:r,endIndex:-1,callData:t})}EndIntegral(t){let r=20,n=wt(this,r,t),i=t[0],s=this.getInstruction(i);this.instructions[i]={type:s.type,valueType:s.valueType,args:s.args,endIndex:this.instructionsLength(),callData:s.callData};let o=this.pushInstruction({type:r,valueType:n,args:t});return this.markClosedBlock(i,o),o}BeginBroadcast(t,r){let n=21,i=wt(this,n,[]),s=this.getInstruction(t[0]);if(It(s)&&ht(this,t[0])>1e4)throw Ia();return this.pushInstruction({type:n,valueType:i,endIndex:-1,args:t,listComprehensionCallData:r})}EndBroadcast(t){let r=22,n=wt(this,r,t),i=t[0],s=this.getInstruction(i),o={type:s.type,valueType:s.valueType,args:s.args,endIndex:this.instructionsLength()};this.instructions[i]=o;let a=this.pushInstruction({type:r,valueType:n,args:t});return this.markClosedBlock(i,a),a}BeginLoop(t,r){let n=17,i=wt(this,n,r);return this.pushInstruction({type:n,valueType:i,args:r,endIndex:-1,callData:t})}EndLoop(t){let r=18,n=wt(this,r,t),i=t[0],s=this.getInstruction(i);this.instructions[i]={type:s.type,valueType:s.valueType,args:s.args,endIndex:this.instructionsLength(),callData:s.callData};let o=this.pushInstruction({type:r,valueType:n,args:t});return this.markClosedBlock(i,o),o}ExtendSeed(t,r){let n=44,i=tt;return this.pushInstruction({type:n,valueType:i,args:r,tag:t})}Noop(){let t=0,r=Jt;return this.pushLeafInstruction({type:t,valueType:r})}Action(t,r){return this.pushInstruction({type:49,valueType:Ge,args:r,symbols:t})}replaceInstructionWithConstant(t,r){this.instructions[t]=r,this.blockMask[t]=void 0}replaceInstructionWithBlockVar(t,r){this.instructions[t]=r}reopenFinalBlock(){let t=this.getInstruction(this.getReturnIndex());if(t.type!==48)return this;let r=t.args[0],i=this.getInstruction(r).args[0];for(let s=i;s<r;s++)this.blockMask[s]=void 0;return this.truncate(r),this}reopenAllBlocks(){this.blockMask=[]}isInClosedBlock(t){return!!this.blockMask[t]}copy(){let t=new Pi({argNames:this.argNames,argTypes:this.argTypes});return t.instructions=this.instructions.slice(),t.blockMask=this.blockMask.slice(),t.comments=this.comments.slice(),t.derivativeMaps=Bn(this.derivativeMaps),t.setReturnIndex(this.getReturnIndex()),t}close(){return this.setReturnIndex(lr(this,this.getReturnIndex())),cI(this),this}copyInstruction(t){return Cn(this,t)}copyInstructionWithArgs(t,r){return Lt(this,t,r)}replaceInstructionWithNoop(t){this.instructions[t]={type:0,valueType:Jt}}getReturnType(){return this.instructions[this.getReturnIndex()].valueType}isConstant(){return It(this.instructions[this.getReturnIndex()])}asValue(){return ht(this,this.getReturnIndex())}asCompilerValue(){let t=this.instructions[this.getReturnIndex()];switch(t.type){case 1:return t.value;default:throw new Error(`Unexpected opcode ${t.type}.`)}}getConstantListLength(){return ur(this,this.getReturnIndex())}getListLengthDependencies(){let t=this.copy(),r=xr(t,t.getReturnIndex());return xi(t,r)}elementAt(t){let r=this.copy(),n=r.getReturnIndex();return r.setReturnIndex(Ka(r,n,t)),r.close(),r}substituteConstantArguments(t){return NM(this,t)}interpretWithParameters(t){return QT(this,this.getReturnIndex(),t)}getCompiledFunction(t){let r;if(t){r=t.slice();for(let s of this.argNames)r.indexOf(s)===-1&&r.push(s)}else r=this.argNames;let{source:n,constants:i}=aI(this);return{args:r,source:n,constants:i,fn:Eg(r,n,i)}}polynomialOrder(t,r){return dI(this,t,r)}getPolynomialCoefficients(t){return mI(this,t)}takeDerivative(t){let r=this.copy(),n=this.argNames.indexOf(t);return n===-1?(r.Constant(0),r.close(),r):(r.setReturnIndex(pu(r,r.getReturnIndex(),n)),r.close(),r)}deriveRegressionRestrictions(){return SM(this)}boundDomain(t){return IM(this,t,this.getReturnIndex())}findLinearSubset(t){let r=vM(this),n=[];for(let i of t){let s=this.argNames.indexOf(i);if(s===-1)throw new Error("Programming Error: findLinearSubset called with a non-dependency");n.push(r[s])}return n}print(){return XT(this)}printInstruction(t){return Ks(this,t)}toDot(){return fI(this)}getLiveArgNames(){let t=[];for(let r=0;r<this.argNames.length;r++)this.instructions[r].type===2&&t.push(this.argNames[r]);return t}};var vi={normaldist:{pdf:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("normalpdf",r.concat(n.args))},cdf:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("normalcdf",r.concat(n.args))},mean:function(e,t,r){return e.getInstruction(t).args[0]},median:function(e,t,r){return vi.normaldist.mean(e,t,r)},stdev:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("abs",[n.args[1]])},var:function(e,t,r){let n=e.getInstruction(t);return e.Multiply([n.args[1],n.args[1]])},quantile:function(e,t,r){let n=e.getInstruction(t);return e.Add([e.Multiply([e.SyntheticNativeFunction("invNorm",r),e.SyntheticNativeFunction("abs",[n.args[1]])]),n.args[0]])},random:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("normalSample",[r[0],n.args[0],n.args[1]])}},tdist:{pdf:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("tpdf",r.concat(n.args))},cdf:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("tcdf",r.concat(n.args))},mean:function(e,t,r){return e.Constant(0)},median:function(e,t,r){return e.Constant(0)},stdev:function(e,t,r){return e.SyntheticNativeFunction("sqrt",[vi.tdist.var(e,t,r)])},var:function(e,t,r){let n=e.getInstruction(t),i=e.Constant(2),s=n.args[0];return e.Piecewise([e.GreaterEqual([s,i]),e.Divide([s,e.Subtract([s,i])]),e.Constant(NaN)])},quantile:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("invT",[r[0],n.args[0]])},random:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("tSample",[r[0],n.args[0]])}},poissondist:{pdf:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("poissonpdf",r.concat(n.args))},cdf:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("poissoncdf",r.concat(n.args))},mean:function(e,t,r){return e.getInstruction(t).args[0]},median:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("invPoisson",[e.Constant(.5),n.args[0]])},stdev:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("sqrt",[n.args[0]])},var:function(e,t,r){return vi.poissondist.mean(e,t,r)},quantile:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("invPoisson",[r[0],n.args[0]])},random:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("poissonSample",[r[0],n.args[0]])}},binomialdist:{pdf:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("binompdf",r.concat(n.args))},cdf:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("binomcdf",r.concat(n.args))},mean:function(e,t,r){let n=e.getInstruction(t);return e.Multiply([n.args[0],n.args[1]])},median:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("invBinom",[e.Constant(.5),n.args[0],n.args[1]])},stdev:function(e,t,r){return e.SyntheticNativeFunction("sqrt",[vi.binomialdist.var(e,t,r)])},var:function(e,t,r){let n=e.getInstruction(t),[i,s]=n.args;return e.Multiply([i,e.Multiply([s,e.Subtract([e.Constant(1),s])])])},quantile:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("invBinom",[r[0],n.args[0],n.args[1]])},random:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("binomSample",[r[0],n.args[0],n.args[1]])}},uniformdist:{pdf:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("uniformpdf",r.concat(n.args))},cdf:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("uniformcdf",r.concat(n.args))},mean:function(e,t,r){let n=e.getInstruction(t);return e.Divide([e.Add([n.args[0],n.args[1]]),e.Constant(2)])},median:function(e,t,r){return vi.uniformdist.mean(e,t,r)},stdev:function(e,t,r){return e.SyntheticNativeFunction("sqrt",[vi.uniformdist.var(e,t,r)])},var:function(e,t,r){let n=e.getInstruction(t),i=e.Subtract([n.args[1],n.args[0]]);return e.Divide([e.Multiply([i,i]),e.Constant(12)])},quantile:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("invUniform",[r[0],n.args[0],n.args[1]])},random:function(e,t,r){let n=e.getInstruction(t);return e.SyntheticNativeFunction("uniformSample",[r[0],n.args[0],n.args[1]])}}};function DM(e,t,r){let n=r[0],i=e.Constant(0),s=e.Constant(1);if(ur(e,t)===0)return e.Constant(NaN);let a=xr(e,t);return e.InboundsListAccess([t,e.Add([e.SyntheticNativeFunction("floor",[e.Multiply([e.SyntheticNativeFunction("uniformSample",[n,i,s]),a])]),s])])}function wp(e,t,r){if(t===r)return!0;if(t<r)return!1;let n=[!0];for(let s=r+1;s<=t;s++)n.push(!1);let i=[t];for(;i.length;){let s=i.pop();if(n[s-r])continue;n[s-r]=!0;let o=e.getInstruction(s);if(!ne(o))for(let a of o.args){if(a===r)return!0;a<r||n[a-r]||i.push(a)}}return!1}var Vi;function RM(e){Vi=e}function wM(){Vi&&(Vi.cacheHits+=1)}function LM(){Vi&&(Vi.cacheMisses+=1)}function AM(){Vi&&(Vi.cacheWrites+=1)}function CM(){Vi&&(Vi.cacheReads+=1)}var mR={segment:!0,ray:!0,line:!0,circle:!0,arc:!0,polygon:!0,glider:!0,midpoint:!0,intersection:!0,strictintersection:!0,perpendicular:!0,parallel:!0,translation:!0,rotation:!0,dilation:!0,reflection:!0,apply:!0,segments:!0,vertices:!0,angle:!0,angles:!0,directedangle:!0,directedangles:!0,clockwise:!0,counterclockwise:!0,reflex:!0};function Th(e){if(e.type==="ListAccess"&&e.list.type==="Identifier"&&e.index.type==="Constant")return[e.list._symbol,e.index.asValue()];if(e.type==="Identifier")return[e._symbol,void 0]}function Lp(e){let t=e;if(t.type==="Assignment"&&(t=t._expression),t.type==="FunctionCall"){let r=t._symbol;if(mR[r])return{symbol:r,parents:t.args.map(Th)};if(t.type==="FunctionCall")return{symbol:"apply",parents:[[t._symbol,void 0],...t.args.map(Th)]}}else if(t.type==="DotAccess"){let r=t.args.map(Th);if(r.length===2&&r[1]&&r[1][0]==="segments")return{symbol:"segment",parents:[r[0]]}}}function BM(e,t,r,n,i){let s=pe(r,Q)||pe(r,X),o=pe(i,Q)||pe(i,X);if(!s&&!o)return;let a=FM(e,t,r),u=FM(e,n,i),l=a.filter(c=>u.some(p=>Ih(c,p))&&!!e.lookup(c[0]));for(let c of a)_M(e,c,n)&&l.every(p=>!Ih(c,p))&&l.push(c);for(let c of u)_M(e,c,t)&&l.every(p=>!Ih(c,p))&&l.push(c);if(l.length===1)return l[0]}function Ih(e,t){return e[0]===t[0]&&e[1]===t[1]}function _M(e,[t,r],n){let i=e.lookup(t),s=i&&e.getGeometryTree(i);return((s==null?void 0:s.symbol)==="glider"||(s==null?void 0:s.symbol)==="intersection"||(s==null?void 0:s.symbol)==="strictintersection"||(s==null?void 0:s.symbol)==="midpoint")&&(s==null?void 0:s.parents.some(o=>o&&e.resolvesTo(o[0],n)&&(r===void 0||o[1]===void 0||o[1]===r)))}function FM(e,t,r){var s;let n=[],i=((s=e.getGeometryTree(t))==null?void 0:s.parents)||[];for(let o=0;o<i.length;o++){let a=i[o];if(pe(r,Q)&&o===0||!a)continue;let u=e.lookup(a[0]);if(!u)continue;let l=e.getValueType(u);pe(l,w)&&n.push(a)}return n}function yR(e){let t=Fa({},{},-1);for(let r=0;r<e.argNames.length;r++)en(t,e.argNames[r],r);return t}function Wr(e,t,r,n,i,s){return{policy:e,frame:t,chunk:r,scope:n,parentNode:i,substitutionContext:s}}function Nh(e){let{policy:t,frame:r,argNames:n,argTypes:i}=e,s=new Pi({argNames:n,argTypes:i}),o=yR(s);return Wr(t,r,s,o,void 0,{})}function _p(e,t){let{policy:r,frame:n,argNames:i,argTypes:s}=e,o=hh(n,t),{freeDependencies:a,updateSymbols:u}=o;if(i||(i=a),!s){s=[];for(let c=0;c<i.length;c++)s.push(I)}let l=Nh({policy:r,frame:n,argNames:i,argTypes:s});return ce(l,t),e.wrapInList&&!k(l.chunk.getReturnType())&&l.chunk.List([l.chunk.getReturnIndex()]),l.chunk.close(),hR(l,t,o),gR(l,t,u),l.chunk}function gR(e,t,r){if(t.type==="FunctionDefinition")for(let i of r){if(t._argSymbols.indexOf(i)!==-1||t._symbol===i)throw $l(i);if(t._sybmol===i)throw Hl(i)}let n=[];for(let i of r)e.frame[i]||n.push(i);if(n.length){let i=WM(e,n[0]).setDependencies(e.chunk.argNames.concat(n));throw e.chunk.isConstant()&&e.chunk.getReturnType()===Ge&&i.setActionValue(e.chunk.asValue()),i}}function hR(e,t,{substitutionSymbols:r,substitutionBodyDependencies:n}){if(t.type==="FunctionDefinition"){for(let s of r){if(t._argSymbols.indexOf(s)!==-1||t._symbol===s)throw gc(s);if(t._sybmol===s)throw bc(s)}for(let s of n)if(t._argSymbols.indexOf(s)!==-1||t._symbol===s)throw Ly(s)}let i=[];for(let s of r)e.frame[s]||i.push(s);if(i.length){let s=i[0];if(e.policy.substitutionForbidden(s))throw hc(s)}}function ce(e,t){let r;if(CM(),PR(e,t))wM(),r=e.chunk.copyInstruction(t.__IRCache.instruction);else{LM();let n=e.chunk.instructionsLength(),{policy:i,frame:s,chunk:o,scope:a,parentNode:u,substitutionContext:l}=e,c=Wr(i,s,o,a,t,l);if(r=TR(c,t),!zM(t,u)){let p=o.getInstruction(r);p.type===48&&p.isConstantBroadcast&&(r=lr(o,r))}r=bR(e,n,r),xR(e,t,r)}return e.chunk.setReturnIndex(r),r}function bR(e,t,r){let{chunk:n,scope:i}=e;if(r<=t)return r;let s=n.getInstruction(r);return It(s)?(n.truncate(Math.max(t,i.maxIndex+1)),Cn(n,s)):r}function zM(e,t){if(!t||!e.getScope||!t.getScope)return!1;let r=t.getScope().dependencies,n=e.getScope().dependencies;if(n.length===r.length)return!0;let i=0;for(let o of n)fe[o]||(i+=1);let s=0;for(let o of r)fe[o]||(s+=1);return i===s}function xR(e,t,r){let{frame:n,chunk:i,parentNode:s}=e,o=i.getInstruction(r);if(!It(o)||zM(t,s))return;let a=bM(n,t);a&&(AM(),t.__IRCache={keys:a,instruction:o})}function PR(e,t){let{frame:r,substitutionContext:n}=e;if(!t.__IRCache)return!1;let i=t.__IRCache.keys;for(let[s,o]of i){let a=r[s];if(a!==o||a&&a.type==="RegressionParameter"&&n.body)return!1}return!0}function TR(e,t){let{policy:r,frame:n,chunk:i,scope:s,parentNode:o,substitutionContext:a}=e;switch(t.type){case"Constant":{let c=t._constantValue,p=typeof c=="boolean"?be:I;return i.ConstantOfType(p,c)}case"RegressionParameter":return i.Constant(t._constantNode._constantValue);case"MixedNumber":return i.Constant(t._constantValue);case"Negative":return i.Negative(IR(e,t.args));case"Add":return i.Add(Yr(e,t.args));case"Subtract":return i.Subtract(Yr(e,t.args));case"Multiply":return i.Multiply(Yr(e,t.args));case"Divide":return i.Divide(Yr(e,t.args));case"Exponent":return i.Exponent(Yr(e,t.args));case"Comparator[\'=\']":return i.Equal(Yr(e,t.args));case"Comparator[\'>\']":return i.Greater(Yr(e,t.args));case"Comparator[\'<\']":return i.Less(Yr(e,t.args));case"Comparator[\'>=\']":return i.GreaterEqual(Yr(e,t.args));case"Comparator[\'<=\']":return i.LessEqual(Yr(e,t.args));case"And":return i.And(Yr(e,t.args));case"PercentOf":return i.Divide([i.Multiply(Yr(e,t.args)),i.Constant(100)]);case"ParenSeq":return OR(e,t);case"BareSeq":return NR(e,t);case"OrderedPairAccess":return i.OrderedPairAccess(Yr(e,t.args));case"UpdateRule":{let c=t._symbol;var u=n[c];if(u!==void 0){if(u.isError)throw u;if(u.type!=="Assignment"&&u.type!=="Slider")throw WM(e,c)}let p=ce(Wr(r,n,i,s,o,a),t.args[1]);return i.Action([c],[p])}case"List":{if(t.getDependencies().length>0)return Rr(t.args),i.List(Jo(e,t.args));if(t.args.length===0)return i.ConstantOfType(de,[]);{let c=i.instructionsLength(),p=[],f,m;Rr(t.args);for(let d of t.args){let y=ce(e,d),g=i.getInstruction(y);if(f===void 0){if(f=g.valueType,!En(f))throw Gs([Z(f)]);m=Zr(f)}else if(g.valueType!==f)throw xa();if(g.type!==1)throw new Error("Programming error: expected list with no dependencies to constant collapse.");p.push(g.value),i.truncate(c)}return i.ConstantOfType(m,p)}}case"ListAccess":{let c=ce(e,t.args[0]),p=i.getInstruction(c);if(t.args[1].type==="Range"&&t.args[1].args[1].length===0){if(!k(p.valueType))throw Mo([Z(p.valueType),Z(I)]);let f=xr(i,c),m=Eh(e,ce(e,t.args[1].args[0]),i.List([f]),{stepMustBePositive:!0});return i.ListAccess([c,m])}else{let f=ce(e,t.args[1]),m=i.getInstruction(f);if(!k(p.valueType))throw Mo([Z(p.valueType),Z(m.valueType)]);return m.valueType===pr?i.SyntheticNativeFunction("select",[c,f]):i.ListAccess([c,f])}}case"Range":{let[c,p]=Yr(e,t.args);return Eh(e,c,p,{stepMustBePositive:!1})}case"ListComprehension":return DR(e,t);case"Piecewise":{let c=MR(e,t.args),p=i.getInstruction(c[0]),f=i.getInstruction(c[1]),m=i.getInstruction(c[2]);if(p.type===1&&p.valueType===be&&Lu(f.valueType,m.valueType)){let d=c[p.value?1:2],y=i.getInstruction(d),g=f.valueType!==de?f.valueType:m.valueType;return y.valueType===de&&g!==de?i.ConstantOfType(g,[]):d}if(!Lu(f.valueType,m.valueType)&&It(m)&&m.valueType===I&&Ai(m.value)&&vP(f.valueType)){let d=i.NanOfType(f.valueType);c=[c[0],c[1],d]}return i.Piecewise(c)}case"Ans":case"Identifier":{let c=t._symbol,p=t._errorSymbol;if(t.type==="Ans"&&i.argNames.indexOf(c)!==-1)throw Py();let f=wo(s,c),m=n[c];if(f!==void 0&&(s.symbolMap.hasOwnProperty(c)||m===void 0||m===Fr))return f;if(m===void 0)throw fe[t._symbol]?fe[t._symbol].isFunction?fn(p):Us(p):new Error(`Programming Error: reached undefined symbol ${c}`);if(m.isError)throw m;if(m.isFunction)throw sm(p);if(a.body&&m.type==="RegressionParameter")throw Ry(p);let d=Wr(r,n,i,s,void 0,a),y=ce(d,m);return en(s,c,y,m),y}case"FunctionCall":case"SeededFunctionCall":{Rr(t.args);let c=Jo(e,t.args);return Rr(t.args),Ap(e,t._symbol,t._errorSymbol,c,t.args)}case"Substitution":return wR(e,t);case"FunctionExponent":{let c=t.args[0]._symbol;return n[c]&&n[c].isFunction?ce(e,new b.Exponent([new b.FunctionCall(c,[t.args[1]]),t.args[2]])):ce(e,new b.Multiply([t.args[0],new b.Exponent([t.args[1],t.args[2]])]))}case"FunctionFactorial":{let c=t.args[0]._symbol;return n[c]&&n[c].isFunction?ce(e,new b.FunctionCall("\\\\factorial",[new b.FunctionCall(c,[t.args[1]])])):ce(e,new b.Multiply([t.args[0],new b.FunctionCall("\\\\factorial",[t.args[1]])]))}case"DotAccess":{let c=t.args[0],p=t.args[1];if(c.type==="Identifier"&&c._symbol==="construction")return LR(e,p);if((p.type==="Identifier"||p.type==="FunctionCall")&&n[p._symbol]&&n[p._symbol].isFunction){let f=p._symbol,m=p._errorSymbol,d=p.type==="Identifier"?[c]:[c].concat(p.args),y=Jo(e,d);return Ap(e,f,m,y,d,{dotLHSIndex:y[0]})}else if(p.type==="SeededFunctionCall"){let f=p._symbol,m=p._errorSymbol,d=[p.seed,c].concat(p.args.slice(1)),y=Jo(e,d);return Ap(e,f,m,y,d,{dotLHSIndex:y[1]})}else throw kr(".")}case"Seed":return i.ConstantOfType(tt,t._stringValue);case"ExtendSeed":return i.ExtendSeed(t.tag,Yr(e,t.args));case"Integral":{let c=t._differential._symbol,p=wo(s,c);if(n[c]!==void 0||p!==void 0&&i.getInstruction(p).type!==2)throw gy(c);let f=Object.create(n);f[c]=hy(c);let m=mi(s),d=Wr(r,f,i,m,o,a),y=ce(d,t.args[1]),g=ce(d,t.args[2]),h=i.getInstruction(y),x=i.getInstruction(g),P=i.SymbolicVar(I,c),D=mi(s);en(D,c,P);let M=Object.create(n);M[c]=Fr;let E=ce(Wr(r,M,i,D,o,a),t.args[3]);if(!wp(i,E,P))return i.Multiply([E,i.Subtract([g,y])]);let S=Za(i,[y,g,E]),v=S!==void 0?i.BeginBroadcast([S]):void 0,N=y;v!==void 0&&k(h.valueType)&&(N=ss(i,y,v));let G=g;v!==void 0&&k(x.valueType)&&(G=ss(i,g,v));let C=i.BeginIntegral({indexSymbol:c},[N,G]),H=ds(i,C,P,E),te=i.getInstruction(H);v!==void 0&&k(te.valueType)&&(H=ss(i,H,v));let je=i.EndIntegral([C,H]),Me=i.BlockVar(I,[je]);if(v!==void 0){let Ke=i.EndBroadcast([v,Me]);return i.BroadcastResult(Y,[Ke])}else return Me}case"Sum":case"Product":{let c=t._index._symbol,p=wo(s,c);if(n[c]!==void 0||p!==void 0&&i.getInstruction(p).type!==2)throw Dm(c);let f=t.type==="Sum",m=Object.create(n);m[c]=f?oy(c):ay(c);let d=mi(s),y=Wr(r,m,i,d,o,a),g=ce(y,t.args[1]);g=Xo(y.chunk,g);let h=ce(y,t.args[2]);if(h=Xo(y.chunk,h),!W(i,g,I)){let se=vr(i,[g]);throw f?Td(se):vd(se)}if(!W(i,h,I)){let se=vr(i,[h]);throw f?Id(se):Ed(se)}let x=i.SyntheticNativeFunction("round",[g]),P=i.SyntheticNativeFunction("round",[h]),D=i.getInstruction(x),M=i.getInstruction(P);if(D.type===1&&D.valueType===I&&!isFinite(F(D.value)))throw f?zl():Ul();if(M.type===1&&M.valueType===I&&!isFinite(F(M.value)))throw f?zl():Ul();let E=i.SymbolicVar(I,c),S=mi(s);en(S,c,E);let v=Object.create(n);v[c]=Fr;let N=ce(Wr(r,v,i,S,o,a),t.args[3]);if(!wp(i,N,E)){let se=i.Add([i.Subtract([P,x]),i.Constant(1)]);se=i.SyntheticNativeFunction("max",[se,i.Constant(0)]);let bt=f?i.Multiply([N,se]):i.Exponent([N,se]);return i.Piecewise([i.Less([se,i.Constant(1/0)]),bt,i.Constant(NaN)])}if(!W(i,N,I)){let se=vr(i,[N]);throw f?Md(se):Sd(se)}let G=Za(i,[x,P,N]);if(G!==void 0&&wp(i,G,E))throw f?Oy(c):Ny(c);let C=G!==void 0?i.BeginBroadcast([G]):void 0,H=x;C!==void 0&&k(D.valueType)&&(H=ss(i,x,C));let te=P;C!=null&&k(M.valueType)&&(te=ss(i,P,C));let je=i.Constant(f?0:1),Me=i.BeginLoop({type:f?"sum":"product",indexSymbol:c},[H,te,je]),Ke=i.BlockVar(I,[Me]),xt=ds(i,Me,E,N),re=i.getInstruction(xt);C!==void 0&&k(re.valueType)&&(xt=ss(i,xt,C));let ve=f?i.Add([Ke,xt]):i.Multiply([Ke,xt]),Ne=i.EndLoop([Me,ve]),De=i.BlockVar(I,[Ne]);if(C!==void 0){let se=i.EndBroadcast([C,De]);return i.BroadcastResult(Y,[se])}else return De}case"Derivative":{let c=ce(e,new b.Identifier(t._symbol));if(!W(i,c,I))throw wd(t._symbol,vr(i,[c]));let p=i.getInstruction(c),f,m;if((p.type===2||p.type===3)&&p.valueType===I)f=e,m=c;else{let h=mi(s);m=i.SymbolicVar(p.valueType),en(h,t._symbol,m);let x=Object.create(n);x[t._symbol]=Fr,f=Wr(r,x,i,h,o,a)}let d=1;for(;t.args[0].type==="Derivative"&&t.args[0]._symbol===t._symbol;)d+=1,t=t.args[0];let g=lr(i,ce(f,t.args[0]));for(let h=0;h<d;h++)g=pu(i,g,m);return m===c?g:ds(i,c,m,g)}case"Prime":{let c=t.args[0];if(!n[c._symbol])throw rc(c._symbol);let p=ce(e,c.args[0]),f=i.getInstruction(p),m;(f.type===2||f.type===3)&&f.valueType===I?m=p:m=i.SymbolicVar(f.valueType);let d,y;if(c._symbol==="logbase"){if(c.args.length!==2)throw ks();d=[m,ce(e,c.args[1])],y=[c.args[0],c.args[1]]}else{if(c.args.length!==1)throw ks();d=[m],y=[c.args[0]]}let h=lr(i,Ap(e,c._symbol,c._errorSymbol,d,y));for(let x=0;x<t.order;x++)h=pu(i,h,m);return m===p?h:ds(i,p,m,h)}case"Slider":return e.chunk.Constant(t.getConcreteTree(r,n).asCompilerValue());case"Assignment":return ce(e,t._expression);case"FunctionDefinition":{for(var l=0;l<t._argSymbols.length;l++){if(n[t._argSymbols[l]])throw nc(t._argSymbols[l]);if(t._argSymbols[l]===t._symbol)throw nc(t._argSymbols[l])}return ce(e,t._expression)}case"Construction":throw kr("construction");default:throw new Error(`Programming error, unimplemented node type ${t.type}`)}}function IR(e,t){return[ce(e,t[0])]}function Yr(e,t){return[ce(e,t[0]),ce(e,t[1])]}function MR(e,t){return[ce(e,t[0]),ce(e,t[1]),ce(e,t[2])]}function Jo(e,t){let r=[];for(let n of t)r.push(ce(e,n));return r}function Ap(e,t,r,n,i,s){let{policy:o,frame:a,chunk:u,scope:l,parentNode:c,substitutionContext:p}=e,f=wo(l,t);if(f!==void 0){if(pe(u.getInstruction(f).valueType,Se))return Oh(e.chunk,[f,...n],r,!0);if(n.length==1)return u.Multiply([f,n[0]]);throw u.getInstruction(f).type===2?rc(r):u.getInstruction(f).valueType===Dt?cc(r):lc(r)}let m=a[t];if(m&&m.isError)throw m;if(m===void 0||!m.isFunction){if(fe[t]&&fe[t].isFunction)throw t==="logbase"&&a.ln&&a.log?Ty():fn(r);if(m){let d=ce(e,m);if(u.getInstruction(d).valueType===Dt)throw cc(r);if(pe(u.getInstruction(d).valueType,Se))return Oh(e.chunk,[d,...n],r,!0)}if(n.length==1)return u.Multiply([ce(e,new b.Identifier(t)),n[0]]);throw m?lc(r):new Error(`Programming Error: reached undefined symbol ${t}`)}if(m.type==="FunctionDefinition"){if(s&&s.dotLHSIndex!==void 0)throw ha(r);if(n.length!==m._argSymbols.length)throw Mr(r,m._argSymbols.length,n.length);let d=mi(l),y=Object.create(a);for(let g=0;g<m._argSymbols.length;g++)en(d,m._argSymbols[g],n[g],i[g]),y[m._argSymbols[g]]=Fr;return ce(Wr(o,y,u,d,c,p),m._expression)}else{if(Hi.hasOwnProperty(t))return vR(e,t,r,n,i,s);if(or.hasOwnProperty(t))return vh(e,t,r,n,s);throw fn(r)}}function UM(e,t,r){let n=e.getInstruction(t).valueType;if(!k(n)&&n!==Dt&&(n===w||!yf(n)))throw Pd(r,Z(n))}function vh(e,t,r,n,i){let{chunk:s}=e,o=or[t],a=!!(i&&i.dotLHSIndex!==void 0),u=n.length,{minArity:l,maxArity:c,allowDotCall:p}=o;if(i&&i.dotLHSIndex!==void 0){if(!p)throw ha(r);UM(s,i.dotLHSIndex,"."+r)}if(t==="logbase"&&u!==2)throw Mr(r,1,u-1);if(u>c)throw a&&(l-=1,c-=1,u-=1,r="."+r),o.tag==="doubleReducer"?vo(r):o.tag==="parameterizedReducer"?jl(r):o.tag==="color"?Jl(r):Mr(r,c,u);if(u<l)throw a&&(l-=1,c-=1,u-=1,r="."+r),o.tag==="reducer"&&u===0?Kd(r):o.tag==="doubleReducer"?vo(r):o.tag==="parameterizedReducer"?jl(r):o.tag==="color"?Jl(r):Mr(r,l,u);let f=HM(s,n,o),m={errorSymbol:r,providedArity:u,isDotCall:a};switch(o.tag){case"default":case"reducer":case"doubleReducer":case"parameterizedReducer":case"color":case"never-broadcast":return s.NativeFunction(t,m,f);case"trig":{let d=ce(e,new b.Identifier("trigAngleMultiplier")),y=s.Multiply([f[0],d]);return s.NativeFunction(t,m,[y])}case"trig2":{let d=ce(e,new b.Identifier("trigAngleMultiplier")),y=s.Multiply([f[1],d]);return s.NativeFunction(t,m,[f[0],y])}case"inverseTrig":{let d=ce(e,new b.Identifier("trigAngleMultiplier")),y=s.NativeFunction(t,m,f);return s.Divide([y,d])}default:{let d=o.tag;throw new Error(`Programming Error: unexpected tag ${d}`)}}}function HM(e,t,{minArity:r,defaultArguments:n}){if(!n||!(t.length-r<n.length))return t;let i=t.slice();for(;i.length-r<n.length;)i.push(e.copyInstruction(n[i.length-r]));return i}function vR(e,t,r,n,i,s){let{chunk:o,policy:a}=e,u=!!(s&&s.dotLHSIndex!==void 0),l=Hi[t];if(l.fallthroughUnlessDistribution&&(n.length===0||o.getInstruction(n[0]).valueType===de||!pe(o.getInstruction(n[0]).valueType,Dt)))return vh(e,t,r,n,s);let{minArity:c,maxArity:p,allowDotCall:f}=l;if(s&&s.dotLHSIndex!==void 0){if(!f)throw ha(r);UM(o,s.dotLHSIndex,"."+r)}let m=n.length;if(m<c)throw ER(t,r,c,m,{isDotCall:u});if(m>p)throw SR(t,r,p,m,{isDotCall:u});let d;if(t==="cdf")m===2?d=[n[0],o.Constant(-1/0),n[1]]:d=n;else if(t==="random")if(m===1||m<4&&!k(o.getInstruction(n[1]).valueType)&&o.getInstruction(n[1]).valueType!==Dt){let y=o.Distribution("uniformdist",[o.Constant(0),o.Constant(1)]);d=[n[0],y].concat(n.slice(1))}else d=n;else d=HM(o,n,l);switch(t){case"length":if(a.isGeometryEnabled()){if(d.length!==1)throw Pt(r,nn(o,d));let y=d[0];if(o.getInstruction(y).valueType===de)throw kl(r,nn(o,d)[0]);if(W(o,y,ue)){let g=o.Constant(0),h=o.Constant(1);return o.SyntheticNativeFunction("distance",[o.SyntheticNativeFunction("segmentGlider",[y,g]),o.SyntheticNativeFunction("segmentGlider",[d[0],h])])}else if(W(o,y,X)){let g=o.SyntheticNativeFunction("abs",[o.SyntheticNativeFunction("arcOmega",[d[0]])]),{radius:h,startPoint:x}=Sh(o,d[0]),P=o.SyntheticNativeFunction("arcGlider",[d[0],o.Constant(1)]);return o.Piecewise([o.Equal([g,o.Constant(0)]),o.SyntheticNativeFunction("distance",[x,P]),o.Multiply([h,g])])}else throw k(o.getInstruction(y).valueType)?kl(r,nn(o,d)[0]):Pt(r,nn(o,d))}else return o.SyntheticNativeFunction("count",d);case"round":{if(d.length===1)return o.SyntheticNativeFunction("round",d);if(!W(o,d[0],I)||!W(o,d[1],I))throw Pt(r,vr(o,d));let y=o.SyntheticNativeFunction("round",[d[1]]),g=o.RawExponent([o.Constant(10),y]);return o.Divide([o.SyntheticNativeFunction("round",[o.Multiply([d[0],g])]),g])}case"midpoint":if(d.length===1&&W(o,d[0],ue)){let y=o.Constant(ie(1,2));return o.SyntheticNativeFunction("segmentGlider",[d[0],y])}else if(d.length===1&&W(o,d[0],X)){let y=o.Constant(ie(1,2));return o.SyntheticNativeFunction("arcGlider",[d[0],y])}else if(d.length===2&&W(o,d[0],w)&&W(o,d[1],w)){let y=o.Constant(ie(1,2));return o.Multiply([y,o.Add(d)])}else throw Pt(r,vr(o,d));case"circle":if(d.length===1){if(!W(o,d[0],X))throw Pt(r,vr(o,d));let{center:y,radius:g}=Sh(o,d[0]);return o.SyntheticNativeFunction("circle",[y,g])}else if(W(o,d[1],ue)){let y=o.Constant(0),g=o.Constant(1);return o.SyntheticNativeFunction("circle",[d[0],o.SyntheticNativeFunction("distance",[o.SyntheticNativeFunction("segmentGlider",[d[1],y]),o.SyntheticNativeFunction("segmentGlider",[d[1],g])])])}else return W(o,d[1],w)?o.SyntheticNativeFunction("circle",[d[0],o.SyntheticNativeFunction("distance",d)]):o.SyntheticNativeFunction("circle",d);case"center":{let y=VM(o,d[0]);return o.SyntheticNativeFunction("center",[y])}case"radius":{let y=VM(o,d[0]);return o.SyntheticNativeFunction("radius",[y])}case"glider":{if(!W(o,d[1],I))throw Pt(r,vr(o,d));if(W(o,d[0],ue))return o.SyntheticNativeFunction("segmentGlider",d);if(W(o,d[0],J))return o.SyntheticNativeFunction("lineGlider",d);if(W(o,d[0],ge))return o.SyntheticNativeFunction("rayGlider",d);if(W(o,d[0],Q))return o.SyntheticNativeFunction("circleGlider",d);if(W(o,d[0],X))return o.SyntheticNativeFunction("arcGlider",d);if(W(o,d[0],ye))return o.SyntheticNativeFunction("polygonGlider",d);throw Pt(r,vr(o,d))}case"intersection":case"strictintersection":{let y=0;t==="strictintersection"&&((W(o,d[0],ue)||W(o,d[0],X))&&(y+=3),(W(o,d[1],ue)||W(o,d[1],X))&&(y+=12)),W(o,d[0],ge)&&(y+=1),W(o,d[1],ge)&&(y+=4);let g=RR(e,i,d);if(!g)return Mh(o,d,r,y);let h=ce(e,new b.Identifier(g[0]));return g[1]!==void 0&&(h=o.ListAccess([h,o.Constant(g[1])])),o.SyntheticNativeFunction("chooseNonIncidentPoint",[h,Mh(o,[d[0],d[1]],r,y),Mh(o,[d[1],d[0]],r,y<<2&12|y>>2&3)])}case"parallel":case"perpendicular":{let y=Cp(o,d[0]),g=[y,d[1]];if(W(o,y,J)&&W(o,d[1],w))return o.SyntheticNativeFunction(t,g);throw Pt(r,vr(o,d))}case"translation":{if(d.length===1&&W(o,d[0],w))return o.SyntheticNativeFunction("translation",d);if(d.length===2&&W(o,d[0],w)&&W(o,d[1],w))return o.SyntheticNativeFunction("translation",[o.Subtract([d[1],d[0]])]);if(d.length===2&&W(o,d[0],I)&&W(o,d[1],I))return o.SyntheticNativeFunction("translation",[o.OrderedPair(d)]);throw Pt(r,vr(o,d))}case"reflection":{let y=Cp(o,d[0]);if(W(o,y,J))return o.SyntheticNativeFunction(t,[y]);throw Pt(r,vr(o,d))}case"apply":return Oh(o,d,r,!1);case"normaldist":case"tdist":case"poissondist":case"binomialdist":case"uniformdist":return o.Distribution(t,d);case"pdf":case"cdf":case"mean":case"median":case"stdev":case"var":case"quantile":{let y=d[0],g=o.getInstruction(y);if(!pe(g.valueType,Dt))throw Pt(r,vr(o,n));let h=d.slice(1);for(let x of h)if(!pe(o.getInstruction(x).valueType,I))throw Pt(r,vr(o,n));if(k(g.valueType)){let x=[],P=1/0;for(let M of d){let E=lr(o,M);x.push(E);let S=o.getInstruction(E);if(k(S.valueType)){let v=ur(o,E);if(v===void 0)throw Aa(xi(o,E));P=Math.min(P,v)}}let D=[];for(let M=0;M<P;M++){let E=Ka(o,x[0],M),S=o.getInstruction(E);if(S.type!==42)throw Te();let v=[];for(let N of x.slice(1))k(o.getInstruction(N).valueType)?v.push(Ka(o,N,M)):v.push(N);D.push(vi[S.symbol][t](o,E,v))}return o.List(D)}else{if(g.type!==42)throw Te();return vi[g.symbol][t](o,y,h)}}case"random":{let y=d[0],g=d[1],h=o.getInstruction(d[0]),x=o.getInstruction(g);if(h.valueType!==tt)throw Te();if(x.valueType===Wt)throw Qd();let P;if(k(x.valueType))P=DM;else{if(x.valueType!==Dt)throw qs();if(x.type!==42)throw Te();P=vi[x.symbol][t]}if(d.length>2){let D=d[2];if(o.getInstruction(D).valueType!==I)throw qs();if(d.length===4){let C=o.getInstruction(d[3]);if(C.valueType!==I)throw qs();if(!It(C))throw pc(xi(o,d[3]));y=o.ExtendSeed("us",[y,d[3]])}let E=o.Constant(1),S=o.SyntheticNativeFunction("round",[o.SyntheticNativeFunction("validateSampleCount",[D])]),v=o.BeginBroadcast([S]);y=o.ExtendSeed("lc",[y,o.Subtract([v,E])]);let N=P(o,g,[y]),G=o.EndBroadcast([v,N]);return o.BroadcastResult(Zr(o.getInstruction(N).valueType),[G])}return P(o,g,[y])}case"shuffle":{let y=d[0],g=d[1],h=d[2];if(!k(o.getInstruction(g).valueType)||h!==void 0&&o.getInstruction(h).valueType!==I)throw Pt(r,nn(o,n.slice(1)));if(h!==void 0){if(!It(o.getInstruction(h)))throw pc(xi(o,h));y=o.ExtendSeed("us",[y,h])}return o.SyntheticNativeFunction("shuffle",[y,g])}case"sort":{let y=d.length===2?d[1]:d[0],g=o.getInstruction(y);if(!k(o.getInstruction(d[0]).valueType)||g.valueType!==Y&&g.valueType!==de)throw Pt(r,nn(o,n));if(ur(o,y)===0)return y;let x=o.SyntheticNativeFunction("min",[xr(o,d[0]),xr(o,y)]);return y=o.ListAccess([y,Eh(e,o.List([o.Constant(1)]),o.List([x]),{stepMustBePositive:!0})]),o.SyntheticNativeFunction("elementsAt",[d[0],o.SyntheticNativeFunction("sortPerm",[y])])}case"join":{let y=[],g=!0;for(let C of d){let H=o.getInstruction(C);is(H)||(g=!1);let te=H.valueType;if(te!==de)if(k(te))y.push({isList:!0,index:C,elementType:ot(te)});else if(En(te))y.push({isList:!1,index:C,elementType:te});else throw Pt(r,nn(o,n))}if(y.length===0)return o.ConstantOfType(de,[]);for(let C of y)if(C.elementType!==y[0].elementType)throw Pt(r,nn(o,n));if(g){let C=[];for(let H of y){let te=o.getInstruction(lr(o,H.index));JT(te),H.isList?C.push(...te.value):C.push(te.value)}return o.ConstantOfType(Zr(y[0].elementType),C)}let h=o.Constant(0),x=o.Constant(1),P={};for(let C of y)C.isList&&P[C.index]===void 0&&(P[C.index]=xr(o,C.index));let D=o.SyntheticNativeFunction("total",y.map(C=>C.isList?P[C.index]:x)),M=o.BeginBroadcast([D]),E=h,S=[],v=[];for(let C of y){let H=C.isList?o.ListAccess([C.index,o.Subtract([M,E])]):C.index;if(v.push(H),C!==y[y.length-1]){let te=C.isList?P[C.index]:x;E=o.Add([E,te]),S.push(o.LessEqual([M,E]))}}let N=v[v.length-1];for(let C=v.length-2;C>=0;C--)N=o.Piecewise([S[C],v[C],N]);let G=o.EndBroadcast([M,N]);return o.BroadcastResult(Zr(y[0].elementType),[G])}case"unique":{let y=d[0],g=o.getInstruction(y);if(!k(g.valueType)||g.valueType===Wt)throw Pt("unique",[Z(g.valueType)]);return o.SyntheticNativeFunction("elementsAt",[y,o.SyntheticNativeFunction("uniquePerm",[y])])}case"polygon":{let y=d.map(g=>o.getInstruction(g));if(y.length===0){let g=o.ConstantOfType(Le,[]);return o.SyntheticNativeFunction("polygon",[g])}else if(y.length===2&&pe(y[0].valueType,I)&&pe(y[1].valueType,I)){if(y[0].valueType===I&&y[1].valueType===I)throw Yd();let g=o.OrderedPair(d);return o.SyntheticNativeFunction("polygon",[g])}else return o.SyntheticNativeFunction("polygon",d)}case"directedangle":return GM(e,d,r,n);case"angle":return o.SyntheticNativeFunction("undirectedAngleMarker",[GM(e,d,r,n)]);case"angles":return o.SyntheticNativeFunction("polygonInteriorUndirectedAngles",[d[0],ce(e,new b.Identifier("trigAngleMultiplier"))]);case"directedangles":return o.SyntheticNativeFunction("polygonInteriorDirectedAngles",[d[0],ce(e,new b.Identifier("trigAngleMultiplier"))]);case"abs":return d.length===1&&(W(o,d[0],xe)||W(o,d[0],le))?o.SyntheticNativeFunction("abs",[qM(e,d,r,n)]):vh(e,t,r,n,s);case"measure":return qM(e,d,r,n);case"coterminal":{if(W(o,d[0],le))return o.SyntheticNativeFunction("directedCoterminalAngle",d);if(W(o,d[0],xe))return o.SyntheticNativeFunction("undirectedCoterminalAngle",d);throw Pt(r,nn(o,n))}case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":case"points":case"lines":case"circles":case"polygons":case"rays":case"arcs":throw kr(r);default:{let y=t;throw new Error(`Programming Error: unexpected compiler function ${y}`)}}}function ER(e,t,r,n,{isDotCall:i}){i&&(r-=1,n-=1,t="."+t);let s=Hi[e];s.isSeeded&&(r-=1,n-=1);let o;switch(i&&s.dotMinArityExampleArgs?o=t+s.dotMinArityExampleArgs:s.minArityExampleArgs&&(o=t+s.minArityExampleArgs),e){case"pdf":return i?Mr(t,r,n,o):Yl();case"cdf":return i?Mr(t,r,n,o):jd();case"tdist":return Xl();case"random":return qs();case"length":case"round":case"midpoint":case"circle":case"center":case"radius":case"glider":case"intersection":case"strictintersection":case"parallel":case"perpendicular":case"angle":case"directedangle":case"angles":case"directedangles":case"apply":case"translation":case"reflection":case"normaldist":case"poissondist":case"binomialdist":case"uniformdist":case"mean":case"median":case"stdev":case"var":case"quantile":case"sort":case"shuffle":case"join":case"unique":case"polygon":case"measure":case"abs":case"coterminal":return Mr(t,r,n,o);case"points":case"lines":case"circles":case"polygons":case"rays":case"arcs":throw kr(t);case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":throw Te();default:let a=e;throw new Error(`Unexpected compiler function ${a}`)}}function SR(e,t,r,n,{isDotCall:i}){i&&(r-=1,n-=1,t="."+t);let s=Hi[e];s.isSeeded&&(r-=1,n-=1);let o;switch(i&&s.dotMaxArityExampleArgs?o=t+s.dotMaxArityExampleArgs:s.maxArityExampleArgs&&(o=t+s.maxArityExampleArgs),e){case"pdf":return i?Mr(t,r,n,o):Yl();case"cdf":return i?Mr(t,r,n,o):Zd();case"tdist":return Xl();case"random":return qs();case"length":case"round":case"midpoint":case"glider":case"circle":case"center":case"radius":case"intersection":case"strictintersection":case"parallel":case"perpendicular":case"angle":case"directedangle":case"angles":case"directedangles":case"apply":case"translation":case"reflection":case"normaldist":case"poissondist":case"binomialdist":case"uniformdist":case"mean":case"median":case"stdev":case"var":case"quantile":case"sort":case"shuffle":case"join":case"unique":case"polygon":case"measure":case"abs":case"coterminal":return Mr(t,r,n,o);case"points":case"lines":case"circles":case"polygons":case"rays":case"arcs":throw kr(t);case"histogram":case"dotplot":case"boxplot":case"ttest":case"ittest":case"stats":case"det":case"inv":case"transpose":case"rref":case"trace":throw Te();default:let a=e;throw new Error(`Unexpected compiler function ${a}`)}}function OR(e,t){var a,u;let{chunk:r,policy:n}=e;Rr(t.args);let i=Jo(e,t.args),s=!1,o;for(let l=0;l<i.length;l++){let p=r.getInstruction(i[l]).valueType;if(p===Ge){if(s=!0,o!==void 0)throw Pa([Z(o),Z(Ge)])}else{if(s)throw Pa([Z(Ge),Z(p)]);o=p}}if(s)return $M(e,i);{let l=(u=(a=n.dimensions)==null?void 0:a.call(n))!=null?u:2;if(l!==2)throw new Error("3D points not implemented.");if(i.length!==l)throw rm(l);return r.OrderedPair(i)}}function NR(e,t){let{chunk:r}=e;Rr(t.args);let n=Jo(e,t.args);if(n.length<2)throw kr(",");let i=r.getInstruction(n[0]).valueType;for(let s=1;s<n.length;s++){let o=r.getInstruction(n[s]).valueType;if(i!==o)throw Pa([Z(i),Z(o)])}if(i===I)throw n.length===2?em():tm();return i===Ge?$M(e,n):r.List(n)}function $M(e,t){let{chunk:r}=e,n=[],i=[];for(let o of t){let a=r.getInstruction(o);switch(a.type){case 49:{Array.prototype.push.apply(n,a.symbols),Array.prototype.push.apply(i,a.args);break}case 1:{let l=a.value.updateRules;for(let c in l)n.push(c),i.push(r.ConstantOfType(l[c].valueType,l[c].value));break}default:{var s=xi(r,o);throw s.length>0?zd(s):Te()}}}return r.Action(n,i)}function WM(e,t){var r=e.frame[t];return r===Fr?$l(t):e.policy.assignmentForbidden(t)?kd(t):r&&r.type==="FunctionDefinition"?Hl(t):qd(t).allowExport()}function DR(e,t){let{policy:r,frame:n,chunk:i,scope:s,parentNode:o,substitutionContext:a}=e,u=t._body,l=[],c=i.Constant(1),p=Object.create(n);Rr(t._inputLists);for(let{_symbol:M}of t._inputLists)p[M]=Ey(M);let f=mi(s);for(let M=t._inputLists.length-1;M>=0;M--){let E=t._inputLists[M],S=E._symbol,v=ce(Wr(r,p,i,f,o,a),E.args[1]),N=i.getInstruction(v);if(!k(N.valueType))throw Iy(S,Z(N.valueType));let G=xr(i,v);l.push({symbol:S,assignedList:v,lengthIndex:G}),c=i.Multiply([c,G])}let m=i.Constant(1),d=i.BeginBroadcast([c],{inputListSymbols:l.map(M=>M.symbol)}),y=mi(s);en(y,t._index._symbol,d);let g=m;for(let M=l.length-1;M>=0;M--){let{symbol:E,assignedList:S,lengthIndex:v}=l[M],N;if(l.length===1)N=d;else{let C=i.SyntheticNativeFunction("floor",[i.Divide([i.Subtract([d,m]),g])]);N=i.Add([i.SyntheticNativeFunction("mod",[C,v]),m]),M>0&&(g=i.Multiply([g,v]))}let G=wo(y,E);if(n[E]!==void 0||G!==void 0&&i.getInstruction(G).type!==2)throw vy(E);en(y,E,i.ListAccess([S,N]))}let h=Object.create(n);for(let M of l)h[M.symbol]=Fr;let x=ce(Wr(r,h,i,y,o,a),u),P=i.getInstruction(x);if(!En(P.valueType))throw Gs([Z(P.valueType)]);let D=i.EndBroadcast([d,x]);return i.BroadcastResult(Zr(P.valueType),[D])}function Eh(e,t,r,n){let{stepMustBePositive:i}=n,{chunk:s}=e;t=Xo(s,t),r=Xo(s,r);let o=s.getInstruction(t),a=s.getInstruction(r),u=Zn(s,t,"Programming error: expected range start list to have constant length."),l=Zn(s,r,"Programming error: expected range start list to have constant length.");if(o.valueType!==Y||a.valueType!==Y)throw Oa();let c=s.Constant(1),p=s.Constant(0),f=s.ListAccess([t,c]),m=s.ListAccess([t,s.Constant(2)]),d=s.ListAccess([r,s.Constant(l)]),y=s.Subtract([d,f]),g=u>1?s.Subtract([m,f]):s.Piecewise([s.GreaterEqual([y,p]),c,s.Constant(-1)]),h=s.Add([c,s.SyntheticNativeFunction("round",[s.Divide([y,g])])]),x=s.SyntheticNativeFunction("validateRangeLength",[t,r,g,h]);i&&(x=s.Piecewise([s.GreaterEqual([g,p]),x,p]));let P=s.BeginBroadcast([x]),D=s.Add([f,s.Multiply([g,s.Subtract([P,c])])]),M=s.EndBroadcast([P,D]);return s.addComments({[f]:"start",[m]:"second",[d]:"last",[h]:"proposedLength",[g]:"step",[D]:"body"}),s.BroadcastResult(Zr(s.getInstruction(D).valueType),[M])}function Cp(e,t){return W(e,t,ue)?e.SyntheticNativeFunction("lineFromSegment",[t]):W(e,t,ge)?e.SyntheticNativeFunction("lineFromRay",[t]):t}function VM(e,t){if(W(e,t,X)){let{center:r,radius:n}=Sh(e,t);return e.SyntheticNativeFunction("circle",[r,n])}return t}function Sh(e,t){let r=e.SyntheticNativeFunction("arcCenter",[t]),n=e.SyntheticNativeFunction("arcGlider",[t,e.Constant(0)]),i=e.SyntheticNativeFunction("distance",[r,n]);return{center:r,radius:i,startPoint:n}}function GM(e,t,r,n){let{chunk:i}=e;if(t.length===3&&W(i,t[0],w)&&W(i,t[1],w)&&W(i,t[2],w)){let s=i.Constant(1),o=i.Constant(2),a=t[0],u=t[1],l=t[2],c=i.Subtract([a,u]),p=i.Subtract([l,u]),f=i.OrderedPairAccess([c,s]),m=i.OrderedPairAccess([c,o]),d=i.OrderedPairAccess([p,s]),y=i.OrderedPairAccess([p,o]),g=i.SyntheticNativeFunction("arctan",[m,f]),h=i.Subtract([i.Multiply([f,y]),i.Multiply([m,d])]),x=i.Add([i.Multiply([f,d]),i.Multiply([m,y])]),P=i.SyntheticNativeFunction("arctan",[h,x]),D=i.SyntheticNativeFunction("abs",[P]),M=i.Constant(Math.PI),E=i.Constant(Math.PI*2);return P=i.Piecewise([i.Equal([D,M]),M,i.Piecewise([i.Less([D,M]),P,i.Multiply([i.Multiply([i.SyntheticNativeFunction("sign",[P]),i.Constant(-1)]),i.Subtract([E,D])])])]),i.SyntheticNativeFunction("directedAngleMarker",[u,g,P,ce(e,new b.Identifier("trigAngleMultiplier"))])}else throw Pt(r,nn(i,n))}function qM(e,t,r,n){let{chunk:i}=e,{valueType:s}=i.getInstruction(t[0]);if(pe(s,le))return i.SyntheticNativeFunction("directedAngleMarkerMeasure",t);if(pe(s,xe))return i.SyntheticNativeFunction("undirectedAngleMarkerMeasure",t);throw Pt(r,nn(i,n))}function Oh(e,t,r,n){if(t.length===2&&W(e,t[0],Se)){if(W(e,t[1],w))return e.SyntheticNativeFunction("transformPoint",t);if(W(e,t[1],ue))return e.SyntheticNativeFunction("transformSegment",t);if(W(e,t[1],J))return e.SyntheticNativeFunction("transformLine",t);if(W(e,t[1],ge))return e.SyntheticNativeFunction("transformRay",t);if(W(e,t[1],Q))return e.SyntheticNativeFunction("transformCircle",t);if(W(e,t[1],X))return e.SyntheticNativeFunction("transformArc",t);if(W(e,t[1],ye))return e.SyntheticNativeFunction("transformPolygon",t);if(W(e,t[1],xe))return e.SyntheticNativeFunction("transformAngleMarker",t);if(W(e,t[1],le))return e.SyntheticNativeFunction("transformDirectedAngleMarker",t)}throw n?xd(r,vr(e,t.slice(1))):Pt(r,vr(e,t))}function Mh(e,t,r,n){let i=Cp(e,t[0]),s=Cp(e,t[1]),o=[i,s,e.ConstantOfType(I,n)];if(W(e,i,Q)){if(W(e,s,Q))return e.SyntheticNativeFunction("circleCircleIntersection",o);if(W(e,s,X))return e.SyntheticNativeFunction("circleArcIntersection",o);if(W(e,s,J))return e.SyntheticNativeFunction("circleLineIntersection",o)}if(W(e,i,X)){if(W(e,s,Q))return e.SyntheticNativeFunction("arcCircleIntersection",o);if(W(e,s,X))return e.SyntheticNativeFunction("arcArcIntersection",o);if(W(e,s,J))return e.SyntheticNativeFunction("arcLineIntersection",o)}if(W(e,i,J)){if(W(e,s,Q))return e.SyntheticNativeFunction("lineCircleIntersection",o);if(W(e,s,X))return e.SyntheticNativeFunction("lineArcIntersection",o);if(W(e,s,J))return e.SyntheticNativeFunction("lineLineIntersection",o)}throw Pt(r,vr(e,t))}function RR(e,[t,r],[n,i]){let{chunk:s,frame:o}=e,a=s.getInstruction(n).valueType,u=s.getInstruction(i).valueType,l=f=>{let m=o[f];return m&&m!==Fr?m:OP(e.scope,f)},c=t.type==="Identifier"?l(t._symbol):t,p=r.type==="Identifier"?l(r._symbol):r;if(!(!c||!p))return BM({getGeometryTree:f=>Lp(f),lookup:l,getValueType:f=>{let m=ce(e,f);return s.getInstruction(m).valueType},resolvesTo:(f,m)=>o[f]===m},c,a,p,u)}function wR(e,t){let{policy:r,frame:n,chunk:i,scope:s,parentNode:o,substitutionContext:a}=e,u=t._body,l=mi(s),c=Object.create(n);for(let f=0;f<t._assignments.length;f++){let m=t._assignments[f]._symbol,d=t._assignments[f].args[1],y=n[m];if(y){if(y.isError)throw y;if(y.type==="FunctionDefinition")throw bc(m);if(y===Fr)throw gc(m);if(r.assignmentForbidden(m))throw hc(m)}let g=ce(e,d),h=xi(i,g);for(let x of h)if(x.scope==="free")throw wy(h).allowExport();en(l,m,g,d),c[m]=Fr}return ce(Wr(r,c,i,l,o,oe(z({},a),{body:!0})),u)}var kM={points:Le,lines:Qt,segments:Ct,polygons:zt,circles:jt,arcs:Zt,angles:vt,directedangles:Et,rays:Kt};function LR(e,t){let{chunk:r,frame:n}=e,i=n.construction;if(i.isError)throw i;if(i.type!=="Construction")throw Te();if(t.type!=="Identifier")throw Te();let s=t._symbol;if(!(s in kM))throw kr("construction");let o=kM[s];if(i.args.length===0)return r.ConstantOfType(o,[]);let a=ot(o),u=[];for(let l of i.args)try{let c=ce(e,l);r.getInstruction(c).valueType===a&&u.push(c)}catch(c){if(c instanceof b.Base)continue;throw c}return r.List(u)}qe.prototype.buildIRExpression=function(e,t,r){try{var n=_p({policy:e,frame:t,wrapInList:r&&r.wrapInList},this);return new Yt(n)}catch(i){return i instanceof qe?i:Te()}};O.prototype.buildIRExpression=function(e,t,r){return this};var YM=wu;function Dh(e){for(var t=[],r=0;r<e.length;r++)t.push(Z(e[r].valueType));return t}function XM(e,t){var r=t.length,n=t[0];if(r<2)throw Ln(this._symbol);if(!YM(n.valueType,[Y,de]))throw Ln(this._symbol);if(r>2)throw Wl(this._symbol,2)}b.Object3D.prototype.typeCheck=function(e,t){if(t.length<3)throw Mr(this._symbol,3,t.length)};b.Histogram.prototype.typeCheck=XM;b.DotPlot.prototype.typeCheck=XM;b.BoxPlot.prototype.typeCheck=function(e,t){var r=t.length,n=t[0];if(r===0)throw Ln(this._symbol);if(!YM(n.valueType,[Y,de]))throw Ln(this._symbol);if(r>1)throw Ln(this._symbol)};b.TTest.prototype.typeCheck=function(e,t){var r=this._symbol;if(t.length===0)throw Ln(r);if(t[0].valueType===de)throw No(r);if(t[0].valueType!==Y)throw Ln(r);if(t.length>2)throw Wl(r,2);if(t[0].length<2)throw No(r);if(t[1]&&t[1].valueType!==I)throw Pt(r,Dh(t))};b.IndependentTTest.prototype.typeCheck=function(e,t){var r=this._symbol;if(t.length!==2)throw vo(r);if(!k(t[0].valueType)||!k(t[1].valueType))throw Sa(r);if(t[0].valueType===de||t[1].valueType===de)throw No("ittest");if(t[0].valueType!==Y||t[1].valueType!==Y)throw Pt(r,Dh(t));if(t[0].length<2||t[1].length<2)throw No("ittest")},b.Stats.prototype.typeCheck=function(e,t){var r=t.length,n=t[0];if(r===0)throw Ln(this._symbol);if(n.valueType===de)throw Pt(this._symbol,Dh(t));if(n.valueType!==Y)throw Ln(this._symbol);if(r>1)throw Ln(this._symbol)};var io=function(e,t,r){r=r||0;var n=Array(r+1).join("  "),i=n+"  ";return`[\n`+i+e.map(function(s){return s.repr(t,r+1)}).join(`,\n`+i)+`\n`+n+"]"},hr=function(e,t){return t=t||"",""+t+e};b.Expression.prototype.repr=function(e,t){return hr(this.type,e)+"("+io(this.args,e,t)+")"};b.IRExpression.prototype.repr=function(e,t){t=t||0;var r=Array(t+1).join("  "),n=r+"  ",i=this._chunk.print().split(`\n`);return i.pop(),hr(this.type,e)+"(`\\n"+n+i.join(`\n`+n)+`\n`+r+"`)"};b.DoubleInequality.prototype.repr=function(e,t){t=t||0;var r=Array(t+1).join("  "),n=r+"  ";return hr(this.type,e)+`([\n`+n+this.args[0].repr(e,t+1)+`,\n`+n+"\'"+this.args[1]+`\',\n`+n+this.args[2].repr(e,t+1)+`,\n`+n+"\'"+this.args[3]+`\',\n`+n+this.args[4].repr(e,t+1)+`\n`+r+"])"};b.Identifier.prototype.repr=function(e){return hr(this.type,e)+"(\'"+this._symbol+"\')"};b.Constant.prototype.repr=function(e){return hr(this.type,e)+"("+this.asValue()+")"};b.ExtendSeed.prototype.repr=function(e,t){return hr(this.type,e)+"(\'"+this.tag+"\', "+io(this.args,e,t)+")"};b.Seed.prototype.repr=function(e){return hr(this.type,e)+"("+this.asValue()+")"};b.FunctionCall.prototype.repr=function(e,t){return hr(this.type,e)+"(\'"+this._symbol+"\', "+io(this.args,e,t)+")"};b.Assignment.prototype.repr=function(e,t){return hr(this.type,e)+"("+new b.Identifier(this._symbol).repr(e,t)+", "+this._expression.repr(e,t)+")"};b.Regression.prototype.repr=b.Equation.prototype.repr=function(e,t){return hr(this.type,e)+"("+this._lhs.repr(e,t)+", "+this._rhs.repr(e,t)+")"};b.FunctionDefinition.prototype.repr=function(e,t){return hr(this.type,e)+"("+new b.Identifier(this._symbol).repr(e,t)+", "+io(this._argSymbols.map(function(r){return new b.Identifier(r)}),e,t)+", "+this._expression.repr(e,t)+")"};b.Error.prototype.repr=function(e,t){return hr(this.type,e)+"(\'"+this._msg+"\')"};b.Derivative.prototype.repr=function(e,t){return hr(this.type,e)+"(\'"+this._symbol+"\', "+io(this.args,e,t)+")"};b.SolvedEquation.prototype.repr=function(e,t){return hr(this.type,e)+"(\'"+this._symbol+"\', "+this._expression.repr(e,t)+")"};b.OptimizedRegression.prototype.repr=function(e,t){return hr(this.type,e)+"("+JSON.stringify(this.parameters)+", "+JSON.stringify(this.residuals)+", "+JSON.stringify(this.statistics)+", "+this.model.repr(e,t+1)+", "+JSON.stringify({isModelValid:this.isModelValid,residualVariable:this.residualVariable,residualSuggestionId:this.residualSuggestionId,shouldSuggestLogMode:this.shouldSuggestLogMode,isLinear:this.isLinear,parameterWarning:this.parameterWarning})+")"};b.Table.prototype.repr=function(e,t){return hr(this.type,e)+"("+io(this.columns,e,t)+")"};b.TableColumn.prototype.repr=function(e,t){return hr(this.type,e)+"("+this.header.repr(e,t)+", "+this.length+", "+io(this.values,e,t)+")"};b.Image.prototype.repr=function(e,t){var r=Array(t+1).join("  "),n=r+"  ";return hr(this.type,e)+`({\n`+n+"center: "+this.center.repr(e,t+1)+`,\n`+n+"radianAngle: "+this.radianAngle.repr(e,t+1)+`,\n`+n+"width: "+this.width.repr(e,t+1)+`,\n`+n+"height: "+this.height.repr(e,t+1)+`},\n`+n+"opacity: "+this.opacity.repr(e,t+1)+`,\n`+n+JSON.stringify(this.moveStrategy)+`\n`+r+"})"};b.Ticker.prototype.repr=function(e,t){var r=Array(t+1).join("  "),n=r+"  ";return hr(this.type,e)+`({\n`+n+"handler: "+this.handler.repr(e,t+1)+`,\n`+n+"minStep: "+this.minStep.repr(e,t+1)+`\n`+r+"})"};b.Slider.prototype.repr=function(e,t){var r=Array(t+1).join("  "),n=r+"  ";return hr(this.type,e)+`({\n`+n+"sliderAssignment: "+this.sliderAssignment.repr(e,t+1)+`,\n`+n+"sliderMin: "+(this.sliderMin&&this.sliderMin.repr(e,t+1))+`,\n`+n+"sliderMax: "+(this.sliderMax&&this.sliderMax.repr(e,t+1))+`,\n`+n+"sliderStep: "+(this.sliderStep&&this.sliderStep.repr(e,t+1))+`},\n`+r+")"};var Fp=function(e,t){return e.map(function(r){return r.substitute(t)})};b.Identifier.prototype.substitute=function(e){return e[this._symbol]?e[this._symbol]:this};b.FunctionCall.prototype.substitute=function(e){var t=e[this._symbol];if(t){if(t.type==="Identifier")return new b.FunctionCall(t,Fp(this.args,e));if(t.type==="Constant")return new b.Multiply([t,this.args.length===1?this.args[0].substitute(e):new b.Constant(NaN)])}return b.Expression.prototype.substitute.call(this,e)};b.Constant.prototype.substitute=function(e){return this};b.Expression.prototype.substitute=function(e){return this.copyWithArgs(Fp(this.args,e))};b.Derivative.prototype.substitute=function(e){var t=e[this._symbol];if(t){if(t.type==="Identifier")return new b.Derivative(t,Fp(this.args,e));throw new Error("Cannot substitute for a derivative variable with a non-Identifier")}return new b.Derivative(this._symbol,Fp(this.args,e))};b.Expression.prototype.simpleFunctionExpression=function(){return this};b.Assignment.prototype.simpleFunctionExpression=function(){return this._expression};b.FunctionDefinition.prototype.simpleFunctionExpression=function(){return this._expression};b.Equation.prototype.simpleFunctionExpression=function(){return this.asComparator().simpleFunctionExpression()};var Bp={normaldist:{type:"distribution",symbol:"normaldist",params:["mean","stdev"],defaults:["0","1"],discrete:!1},tdist:{type:"distribution",symbol:"tdist",params:["dof"],defaults:[void 0],discrete:!1},binomialdist:{type:"distribution",symbol:"binomialdist",params:["trials","probsuccess"],defaults:[void 0,"0.5"],discrete:!0},poissondist:{type:"distribution",symbol:"poissondist",params:["mean"],defaults:[void 0],discrete:!0},uniformdist:{type:"distribution",symbol:"uniformdist",params:["min","max"],defaults:["0","1"],discrete:!1}},AR={Histogram:{type:"visualization",symbol:"histogram",params:["data","binwidth"],defaults:[void 0,"1"]},DotPlot:{type:"visualization",symbol:"dotplot",params:["data","binwidth"],defaults:[void 0,"1"]},BoxPlot:{type:"visualization",symbol:"boxplot",params:["data"],defaults:[void 0]}};function JM(e){let t=Mi(e,{trailingComma:!0});return ms(t)}function ms(e){let t=e,r=AR[t.type];if(!r)switch(t.type==="Assignment"&&(t=t._expression),t.type){case"FunctionCall":{r=Bp[t._symbol];break}default:return}if(!r)return;let n={},i=r.params,s=t.args;for(let o=0;o<i.length;o++){let a=s[o];n[i[o]]=a&&a.getInputString()||""}return oe(z({},r),{span:t.getInputSpan(),values:n})}function so(e){if(typeof e=="string")return e;if(e===void 0)return"";if(isNaN(e))return"\\\\frac{0}{0}";if(e===1/0)return"\\\\infty";if(e===-1/0)return"-\\\\infty";let t=e+"";return t=t.replace(/^1e\\+?([-\\d]+)/,"10^{$1}"),t=t.replace(/([-\\d\\.]+)e\\+?([-\\d]+)/,"$1\\\\cdot 10^{$2}"),t}function _R(e){let t=e+"";if(/\\d+\\.?\\d*e[\\+\\-]*\\d+/i.test(t)){let n="0",i=String(t).toLowerCase().split("e"),s=parseFloat(i[0]),o=parseInt(i[1],10),a=Math.abs(o),u=Math.abs(s).toString().split(".");if(o<0)t="0."+new Array(a).join(n)+u.join("");else{var r=u[1];r&&(a=a-r.length),t=u.join("")+new Array(a+1).join(n)}s<0&&(t="-"+t)}return t}function s8(e,t=2){var r=_R(e),n=r.indexOf(".");if(n===-1)return r;for(var i,s=n+1;s<r.length;s++)if(i){if(r[s]!==i)break}else if(r[s]==="0"||r[s]==="9")i=r[s];else break;return r.substr(0,Math.max(n+5,s+t))}function $t(e,t){if(k(e)){let r=[];for(let n=0;n<t.length;n++)r.push($t(ot(e),t[n]));return`\\\\left[${r.join(",")}\\\\right]`}switch(e){case I:return so(t);case w:{let[r,n]=t;return`\\\\left(${so(r)},${so(n)}\\\\right)`}case et:return"\\\\operatorname{rgb}\\\\left("+[$t(I,t[0]),$t(I,t[1]),$t(I,t[2])].join(",")+"\\\\right)";case ye:{let r=[];for(let n of t)r.push($t(w,n));return"\\\\operatorname{polygon}\\\\left("+r.join(",")+"\\\\right)"}case ue:return"\\\\operatorname{segment}\\\\left("+[$t(w,t[0]),$t(w,t[1])].join(",")+"\\\\right)";case J:return"\\\\operatorname{line}\\\\left("+[$t(w,t[0]),$t(w,t[1])].join(",")+"\\\\right)";case ge:return"\\\\operatorname{ray}\\\\left("+[$t(w,t[0]),$t(w,t[1])].join(",")+"\\\\right)";case Q:return"\\\\operatorname{circle}\\\\left("+[$t(w,t[0]),$t(I,t[1])].join(",")+"\\\\right)";case X:return"\\\\operatorname{arc}\\\\left("+[$t(w,t[0]),$t(w,t[1]),$t(w,t[2])].join(",")+"\\\\right)";case xe:return"\\\\operatorname{angle}\\\\left("+[$t(w,t[0]),$t(I,t[1]),$t(I,t[2])].join(",")+"\\\\right)";case le:return"\\\\operatorname{directedangle}\\\\left("+[$t(w,t[0]),$t(I,t[1]),$t(I,t[2])].join(",")+"\\\\right)";default:throw new Error("Cannot serialize a value of type "+Z(e)+".")}}function Rh(e){let t={};for(let r in e.updateRules)t[r]=wh(e,r);return t}function wh(e,t){let{valueType:r,value:n}=e.updateRules[t];return`${dr(t)}=${$t(r,n)}`}function FR(e){return e.isError?e.getError():e.asValue()===void 0?"":+e.asValue()}function BR(e,t,r){let n=[];for(var i=0;i<t.columns.length;i++){let s=r.columns[i],o=s.isError?[]:s.values.map(FR),a={dependent:!s.isIndependent,discrete:!!s.isIndependent,values:o};s.isError&&(a.error=s.getError()),n.push(a)}return{column_data:n}}function VR(e,t,r){let n={variables:[],errorMap:{},dimensions:{}};if(e.areAllScalesLinear()||(n.errorMap.scale=!0),r.center.isError&&(n.errorMap.center=!0),r.radianAngle.isError&&(n.errorMap.angle=!0),r.width.isError&&(n.errorMap.width=!0),r.height.isError&&(n.errorMap.height=!0),r.opacity.isError&&(n.errorMap.opacity=!0),Object.keys(n.errorMap).length>0)return n.variables=t.getSliderVariables(e,r),n;n.dimensions.x=[],n.dimensions.y=[],n.dimensions.radianAngle=[],n.dimensions.width=[],n.dimensions.height=[],n.dimensions.opacity=[];let i=[r.center,r.radianAngle,r.width,r.height,r.opacity];return i.some(o=>o&&o.valueType&&k(o.valueType))&&(n.is_concrete_list=!0),b.List.eachArgs(i,function(o){let a=o[0].asValue(),u=+o[1].asValue(),l=Math.atan2(Math.sin(u),Math.cos(u));n.dimensions.x.push(+a[0]),n.dimensions.y.push(+a[1]),n.dimensions.radianAngle.push(l),n.dimensions.width.push(+o[2].asValue()),n.dimensions.height.push(+o[3].asValue()),n.dimensions.opacity.push(Math.max(0,Math.min(1,+o[4].asValue())))}),(e.graphingEnabled()?t.getGraphMode(e,r):10)!==10&&(n.is_graphable=!0),r.moveStrategy&&(n.move_strategy=r.moveStrategy),t.center&&(t.center.type==="Identifier"?(n.center_reference_id=t.center.referencedStatementId,n.center_reference_symbol=t.center._symbol):t.center.type==="ParenSeq"&&r.center.valueType===w&&(n.center_is_point_literal=!0)),n}function GR(e,t,r){let n=r.handler,i=r.minStep,s={},o={};for(let p of n.getDependencies())e.validActionVariable(p)||(s[p]=!0);for(let p of i.getDependencies())o[p]=!0;let a;if(i.isError)a={status:"error",error:i.getError()};else{let p=i.asValue();typeof p=="number"&&!isNaN(p)&&p>=0?a={status:"valid",value:p}:a={status:"error",error:wm().getError()}}let u=Object.keys(s);u.length>0&&(n=Tt(u).setDependencies(n.getDependencies()));let l;n.isError&&!Ah(e,n)?l={status:"error",error:n.getError()}:n.isEmptyAction?l={status:"empty"}:l={status:"maybe-valid"};let c={handler:l,minStep:a,variables:[]};return oo(c,e,z(z({},s),o)),c}function qR(){return{operator:"=",variables:[]}}function jM(e,t,r,n){if(r.isTable)return BR(e,r,n);if(r.isImage)return VR(e,r,n);if(r instanceof b.Ticker)return GR(e,r,n);let i=qR();if(n.isError&&!(r instanceof b.FunctionDefinition&&!n.blocksExport)){i.error=n.getError(),i.variables=r.getSliderVariables(e,n),i.is_single_identifier=r instanceof b.Identifier,n.actionValue&&(i.action_value=Rh(n.actionValue));let l=Lh(e,t,r,n);return Object.keys(l).length>0&&(i.geometry=Lh(e,t,r,n)),i}if(n.valueType===et&&n.getDependencies().length===0){let l=n.asValue();i.rgb_value=Xs(l[0],l[1],l[2]).formatHex()}n.valueType===Ge&&n.getDependencies().length===0&&(i.action_value=Rh(n.asValue())),n.moveStrategy&&(i.move_strategy=n.moveStrategy,i.default_drag_mode=n.defaultDragMode),r.isInequality()&&(i.is_inequality=!0),i.operator=r.getOperator(),n instanceof b.SolvedEquation?n._expression.asValue()!==!0&&n._expression.asValue()!==!1&&(i.assignment=n._symbol):r instanceof b.Assignment&&(i.assignment=r._symbol);let s=e.graphingEnabled()?r.getGraphMode(e,n):10;if(s!==10){i.is_graphable=!0,i.expression_type=r.getExpressionType(s,n.valueType),n.isShadeBetween()&&(i.is_shade_between=!0);let l=r.tableInfo(e,n);l&&(i.is_tableable=!0,i.table_info=l)}if(n.valueType!==void 0&&k(n.valueType)&&(i.is_concrete_list=!0,n.valueType===rr&&n.getDependencies().length===0)){let l=n.asValue();l&&(i.rgb_value=l.map(c=>Xs(c[0],c[1],c[2]).formatHex()))}if(i.variables=i.is_graphable?[]:r.getSliderVariables(e,n),i.is_single_identifier=r instanceof b.Identifier,n.isTypedConstant){let l=n.asTypedValue();i.typed_constant_value=l,(l.valueType===I||l.valueType===be)&&(i.constant_value=l.value),kR(l.valueType)&&(i.geometry=Lh(e,t,r,n))}let o=n.getEvaluationInfo();if(o&&i.operator==="="&&!r.isConstant&&!r.isFunction&&n.valueType!==be&&n.valueType!==pr&&!(r instanceof b.Equation)&&!(r instanceof b.And)&&(i.is_evaluable=!0,i.zero_values=o),n instanceof b.OptimizedRegression){let l=n,c={};for(var a in l.parameters)l.parameters.hasOwnProperty(a)&&(c[dr(a)]=+l.parameters[a].asValue());i.is_regression=!0,i.regression={parameters:c,residualVariable:dr(l.residualVariable),residualSuggestionId:l.residualSuggestionId,shouldSuggestLogMode:l.shouldSuggestLogMode,isLinear:l.isLinear,statistics:l.statistics,parameterWarning:l.parameterWarning}}let u=ms(r);return u&&u.discrete&&(i.is_discrete_distribution=!0),i}function kR(e){switch(e){case w:case Le:case J:case Qt:case ue:case Ct:case ge:case Kt:case Q:case jt:case X:case Zt:case ye:case zt:case xe:case vt:case le:case Et:case Se:case Ir:return!0;default:return!1}}function Lh(e,t,r,n){let i={};n.valueType!==void 0&&(i.valueType=n.valueType);let s=r;if(s.type==="Assignment"&&(i.identifier=r._symbol,s=r._expression),s.type==="ListAccess"&&s.index.type==="Constant"&&(i.listAccess=s.index.asValue(),s=s.list),i.identifier&&s.type==="Identifier"){let u=s._symbol,l=i.listAccess;i.assignmentRhsReference=[u,l]}let o=Lp(s);if(o&&(i.call=o,n.valueType&&pe(n.valueType,Se)&&r.type==="Assignment")){let u=r._expression;i.transformation_preview_info={type:o.symbol,args:u.args.map(l=>l.tryGetConcreteTree(e,t).asTypedValue())}}let a=n.moveStrategy&&n.moveStrategy[0];return a&&"initialValue"in a&&a.initialValue!==void 0&&(i.gliderParameter=a.initialValue),i}function oo(e,t,r){let n=e.variables;if(n&&n.length){let i={};for(let s of n)i[s]=!0;for(let s in r)i[s]=!0;r=i}e.variables=t.sliderVariables(Object.keys(r))}function Ah(e,t){if(t.blocksExport)return!1;let r=t.getDependencies();if(r.length===0)return!1;for(let n of r)if(!e.validActionVariable(n))return!1;return!0}var on={pointsOfInterest:!0,plotSingleVariableImplicitEquations:!0,plotImplicits:!0,plotInequalities:!0,sliders:!0};var _=class{constructor(t,r,n,i){this.policy=t,this.rawTree=n,this.concreteTree=i,this.evaluationState=jM(t,r,n,i)}exportTo(t,r){this.rawTree.exportTo(t,this.concreteTree,r)}graph(t,r){return this.rawTree.tryGraph(this.policy,this.concreteTree,t,r)}getGraphMode(){return this.rawTree.getGraphMode(this.policy,this.concreteTree)}getGraphInfo(){return this.rawTree.getGraphInfo(this.policy,this.concreteTree)}shouldIntersect(){if(!this.evaluationState.is_graphable||!this.rawTree.userData.shouldGraph||!on.pointsOfInterest)return!1;var t=this.getGraphMode();return t===1||t===2}};var zR={X_OR_Y:{points:!1,lines:!0,fill:!1},SINGLE_POINT:{points:!0,lines:!1,fill:!1},POINT_LIST:{points:!0,lines:!1,fill:!1},PARAMETRIC:{points:!1,lines:!0,fill:!1},POLAR:{points:!1,lines:!0,fill:!1},IMPLICIT:{points:!1,lines:!0,fill:!1},POLYGON:{points:!1,lines:!0,fill:!0},HISTOGRAM:{points:!1,lines:!0,fill:!0},DOTPLOT:{points:!0,lines:!1,fill:!1},BOXPLOT:{points:!1,lines:!0,fill:!1},TTEST:{points:!1,lines:!1,fill:!1},STATS:{points:!1,lines:!1,fill:!1},CUBE:{points:!1,lines:!1,fill:!0},SPHERE:{points:!1,lines:!1,fill:!0}};function ZM(e,t){if(e===void 0)return{points:!1,lines:!1,fill:!1};let r=zR[e];switch(e){case"SINGLE_POINT":return{points:!0,lines:!1,fill:!1};case"POINT_LIST":case"DOTPLOT":return{points:t.points===void 0?r.points:t.points,lines:t.lines===void 0?r.lines:t.lines,fill:!1};case"PARAMETRIC":case"POLYGON":case"X_OR_Y":case"POLAR":case"IMPLICIT":case"HISTOGRAM":case"BOXPLOT":case"TTEST":case"STATS":case"CUBE":case"SPHERE":return{points:!1,lines:t.lines===void 0?r.lines:t.lines,fill:t.fill===void 0?r.fill:t.fill};default:return e}}function QM(e){if(e===void 0)return!1;switch(e){case"SINGLE_POINT":case"POINT_LIST":case"PARAMETRIC":case"POLYGON":case"X_OR_Y":case"POLAR":case"IMPLICIT":return!0;case"HISTOGRAM":case"BOXPLOT":case"DOTPLOT":case"TTEST":case"STATS":case"CUBE":case"SPHERE":return!1;default:return e}}function KM(e,t){let{mappedArgIndex:r,mappedReturnIndex:n,solutionIndex:i}=t,s=[],o=Uo(e,r),a=HR(e,o,n),u=i,l=e.NanOfType(e.getReturnType());for(let c=0;c<n;c++){let p=e.getInstruction(c);if(c===r){s.push(i);continue}if(!o[c]&&!e.isInClosedBlock(c)){s.push(c);continue}if(ne(p))s.push(e.copyInstruction(p));else{let f=UR(s,p.args);s.push(e.copyInstructionWithArgs(p,f)),p.type===31&&a[c]&&(u=e.Piecewise([f[0],u,l]))}}return u}function UR(e,t){let r=[];for(let n of t)r.push(e[n]);return r}function HR(e,t,r){let n=[];for(let i=0;i<r;i++)n.push(!1);n[r]=t[r];for(let i=r;i>=0;i--){if(!n[i]||!t[i])continue;let s=e.getInstruction(i);if(s.type===31)n[s.args[1]]=!0;else if(!ne(s))for(let o of s.args)n[o]=!0}return n}function ev(e,t){try{return $R(e,t)}catch(r){return r instanceof b.Base?r:Te()}}function $R({policy:e,frame:t},r){let n=Yo(t,r),i=[];for(let D=0;D<n.length;D++)i.push(I);let s=Nh({policy:e,frame:t,argNames:n,argTypes:i}),{chunk:o}=s,a=ce(s,r.args[0]),u=ce(s,r.args[1]),l=r.getOperator(),c=l!=="=";switch(l){case"<":o.Less([a,u]);break;case">":o.Greater([a,u]);break;case"<=":o.LessEqual([a,u]);break;case">=":o.GreaterEqual([a,u]);break;case"=":o.Equal([a,u]);break}if(o.setReturnIndex(lr(o,o.getReturnIndex())),o.isConstant())return new Yt(o.close());let f=o.getInstruction(a).type!==2||Yo(t,r.args[1]).indexOf(o.argNames[a])!==-1;if(!on.plotImplicits&&f)throw Ym();Dr[l].direction===-1?o.Subtract([u,a]):o.Subtract([a,u]),o.close();let m=o.getLiveArgNames();if(m.length===0)throw Te();if(m.length===1&&!c&&!on.plotSingleVariableImplicitEquations)return Wm();if(m.length>2)return Tt(e.sliderVariables(m)).setDependencies(m);if(c&&!e.validInequalityVariables(m))return $m().setDependencies(m);let{localFrames:d,effectiveOrder:y,variableOfInterest:g}=WR(s,c);if(e.complicatedPolarImplicit(g,y))return Xm().setDependencies(m);if(!e.validImplicitVariables(m))return zs();if(y>2)return new Yt(o.close());let h=[],x=[],P=1;for(let D=0;D<d.length;D++){let M=d[D],E=YR(M,c);P=E.length;for(let v of E){let N=M.chunk.copy();if(N.setReturnIndex(v),M.isRestrictedPolynomial){let{mappedArgIndex:G,mappedReturnIndex:C}=M;N.setReturnIndex(KM(N,{mappedArgIndex:G,mappedReturnIndex:C,solutionIndex:N.getReturnIndex()}))}N.close(),h.push(new Yt(N))}let S=!1;for(let v of M.coefficients){let N=M.chunk.getInstruction(v);N.type===1&&N.value!==0&&(S=!0)}if(o.argNames.length!==2||S)x.push(void 0);else{let v=M.chunk.copy(),N=M.coefficients.slice();v.List(N),v.close();let G=k(o.getReturnType())?o.elementAt(D):o.copy(),H=G.argNames.indexOf(g)===0?1:0,te=G.getReturnIndex();G.Add([H,G.Multiply([G.Constant(0),te])]),x.push({coefficients:v,restriction:G})}}return new b.SolvedEquation(g,new b.List(h),x,P)}function WR(e,t){let r=e.chunk,n=e.policy,i=r.argNames,s=k(r.getReturnType()),o=[];e:for(let a=0;a<i.length;a++){let u=i[a],l=i.length>1&&!n.validSolvedVariable(u);o[a]={localFrames:[],effectiveOrder:0,variableOfInterest:u};let c=!t;if(l){o[a].effectiveOrder=1/0;continue}let p=s?r.getConstantListLength():1;if(p==null)throw new Error("Programming error: cannot solve a variable-length list expression");for(let f=0;f<p;f++){let m=s?r.elementAt(f):r;if(m.polynomialOrder(u,{allowRestriction:c,allowClosedBlockReferences:!1})>2){o[a].effectiveOrder=1/0;continue e}let y=m.getPolynomialCoefficients(u);o[a].localFrames.push(y),o[a].effectiveOrder=Math.max(o[a].effectiveOrder,y.coefficients.length-1)}}return i.length===1?o[0]:(i[0]==="y"&&(o=[o[1],o[0]]),o[0].effectiveOrder===0?o[1]:o[1].effectiveOrder===0?o[0]:o[o[0].effectiveOrder<o[1].effectiveOrder?0:1])}function YR(e,t){return t?JR(e):XR(e)}function XR({chunk:e,coefficients:t}){let[r,n,i]=t,s=e.Constant(ie(0,1)),o=e.Constant(NaN);if(i===void 0){n===void 0&&(n=s);let a=e.Negative([e.Divide([r,n])]),u=e.Equal([n,s]);return[e.Piecewise([u,o,a])]}else{let a=e.Constant(ie(2,1)),u=e.Multiply([a,i]),l=e.Negative([n]),c=e.Subtract([e.Multiply([n,n]),e.Multiply([a,e.Multiply([u,r])])]),p=e.Equal([i,s]),f=e.getInstruction(c);if(f.type===1&&F(f.value)===0)return[e.Piecewise([p,o,e.Divide([l,u])])];{let m=e.SyntheticNativeFunction("sqrt",[c]),d=e.Less([n,s]),y=e.Greater([n,s]),g=e.Divide([e.Add([l,m]),u]),h=e.Divide([e.Subtract([l,m]),u]),x=e.Negative([e.Divide([r,n])]);return[e.Piecewise([p,e.Piecewise([d,x,o]),h]),e.Piecewise([p,e.Piecewise([y,x,o]),g])]}}}function JR({chunk:e,coefficients:t}){let[r,n,i]=t,s=e.Constant(ie(0,1));i===void 0&&(i=s),n===void 0&&(n=s),r===void 0&&(r=s);let o=e.Constant(ie(2,1)),a=e.Constant(NaN),u=e.Constant(ie(1e305,1)),l=e.Negative([u]),c=e.Multiply([o,i]),p=e.Negative([n]),f=e.Subtract([e.Multiply([n,n]),e.Multiply([o,e.Multiply([c,r])])]),m=e.SyntheticNativeFunction("sqrt",[f]),d=e.Divide([e.Add([p,m]),c]),y=e.Divide([e.Subtract([p,m]),c]),g=e.Negative([e.Divide([r,n])]),h=e.Equal([i,s]),x=e.Greater([i,s]),P=e.Equal([n,s]),D=e.Greater([n,s]),M=e.Less([n,s]),E=e.Greater([r,s]),S=e.Less([f,s]);return[e.Piecewise([h,e.Piecewise([M,g,a]),e.Piecewise([x,y,a])]),e.Piecewise([h,e.Piecewise([P,e.Piecewise([E,l,a]),a]),e.Piecewise([x,e.Piecewise([S,l,a]),d])]),e.Piecewise([h,e.Piecewise([P,e.Piecewise([E,u,a]),a]),e.Piecewise([x,e.Piecewise([S,u,a]),y])]),e.Piecewise([h,e.Piecewise([D,g,a]),e.Piecewise([x,d,a])])]}var L=function(){};L.version="1.2.6";L._myIndexOf=function(t){var r=this.length,n;for(n=0;n<r;++n)if(this[n]===t)return n;return-1};L.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:L._myIndexOf;L.precision=4;L.largeArray=50;L.compile=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return t="return function ("+e.join(",")+") {"+t+"}",new Function(["numeric"],t)(L)};L._dim=function(t){for(var r=[];typeof t=="object";)r.push(t.length),t=t[0];return r};L.dim=function(t){var r,n;return typeof t=="object"?(r=t[0],typeof r=="object"?(n=r[0],typeof n=="object"?L._dim(t):[t.length,r.length]):[t.length]):[]};L.mapreduce=function(t,r){return L.compile("x","accum","_s","_k",\'if(typeof accum === "undefined") accum = \'+r+`;\nif(typeof x === "number") { var xi = x; `+t+`; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    `+t+`;\n    xi = x[i-1];\n    `+t+`;\n}\nif(i === 0) {\n    xi = x[i];\n    `+t+`\n}\nreturn accum;`)};L.mapreduce2=function(t,r){return L.compile("x",`var n = x.length;\nvar i,xi;\n`+r+`\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    `+t+`\n}\nreturn accum;`)};L.rep=function(t,r,n){typeof n=="undefined"&&(n=0);var i=t[n],s=Array(i),o;if(n===t.length-1){for(o=i-2;o>=0;o-=2)s[o+1]=r,s[o]=r;return o===-1&&(s[0]=r),s}for(o=i-1;o>=0;o--)s[o]=L.rep(t,r,n+1);return s};L.dotMMsmall=function(t,r){var n,i,s,o,a,u,l,c,p,f,m,d,y,g;for(o=t.length,a=r.length,u=r[0].length,l=Array(o),n=o-1;n>=0;n--){for(c=Array(u),p=t[n],s=u-1;s>=0;s--){for(f=p[a-1]*r[a-1][s],i=a-2;i>=1;i-=2)m=i-1,f+=p[i]*r[i][s]+p[m]*r[m][s];i===0&&(f+=p[0]*r[0][s]),c[s]=f}l[n]=c}return l};L._getCol=function(t,r,n){var i=t.length,s;for(s=i-1;s>0;--s)n[s]=t[s][r],--s,n[s]=t[s][r];s===0&&(n[0]=t[0][r])};L.dotMMbig=function(t,r){var n=L._getCol,i=r.length,s=Array(i),o=t.length,a=r[0].length,u=new Array(o),l,c=L.dotVV,p,f,m,d;for(--i,--o,p=o;p!==-1;--p)u[p]=Array(a);for(--a,p=a;p!==-1;--p)for(n(r,p,s),f=o;f!==-1;--f)d=0,l=t[f],u[f][p]=c(l,s);return u};L.dotMV=function(t,r){var n=t.length,i=r.length,s,o=Array(n),a=L.dotVV;for(s=n-1;s>=0;s--)o[s]=a(t[s],r);return o};L.dotVM=function(t,r){var n,i,s,o,a,u,l,c,p,f,m,d,y,g,h,x,P,D,M;for(o=t.length,a=r[0].length,l=Array(a),s=a-1;s>=0;s--){for(f=t[o-1]*r[o-1][s],i=o-2;i>=1;i-=2)m=i-1,f+=t[i]*r[i][s]+t[m]*r[m][s];i===0&&(f+=t[0]*r[0][s]),l[s]=f}return l};L.dotVV=function(t,r){var n,i=t.length,s,o=t[i-1]*r[i-1];for(n=i-2;n>=1;n-=2)s=n-1,o+=t[n]*r[n]+t[s]*r[s];return n===0&&(o+=t[0]*r[0]),o};L.dot=function(t,r){var n=L.dim;switch(n(t).length*1e3+n(r).length){case 2002:return r.length<10?L.dotMMsmall(t,r):L.dotMMbig(t,r);case 2001:return L.dotMV(t,r);case 1002:return L.dotVM(t,r);case 1001:return L.dotVV(t,r);case 1e3:return L.mulVS(t,r);case 1:return L.mulSV(t,r);case 0:return t*r;default:throw new Error("numeric.dot only works on vectors and matrices")}};L.diag=function(t){var r,n,i,s=t.length,o=Array(s),a;for(r=s-1;r>=0;r--){for(a=Array(s),n=r+2,i=s-1;i>=n;i-=2)a[i]=0,a[i-1]=0;for(i>r&&(a[i]=0),a[r]=t[r],i=r-1;i>=1;i-=2)a[i]=0,a[i-1]=0;i===0&&(a[0]=0),o[r]=a}return o};L.getDiag=function(e){var t=Math.min(e.length,e[0].length),r,n=Array(t);for(r=t-1;r>=1;--r)n[r]=e[r][r],--r,n[r]=e[r][r];return r===0&&(n[0]=e[0][0]),n};L.identity=function(t){return L.diag(L.rep([t],1))};L.pointwise=function(t,r,n){typeof n=="undefined"&&(n="");var i=[],s,o=/\\[i\\]$/,a,u="",l=!1;for(s=0;s<t.length;s++)o.test(t[s])?(a=t[s].substring(0,t[s].length-3),u=a):a=t[s],a==="ret"&&(l=!0),i.push(a);return i[t.length]="_s",i[t.length+1]="_k",i[t.length+2]=\'if(typeof _s === "undefined") _s = numeric.dim(\'+u+`);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i`+(l?"":", ret = Array(_n)")+`;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee(`+t.join(",")+`,_s,_k+1);\n    return ret;\n}\n`+n+`\nfor(i=_n-1;i!==-1;--i) {\n    `+r+`\n}\nreturn ret;`,L.compile.apply(null,i)};L.pointwise2=function(t,r,n){typeof n=="undefined"&&(n="");var i=[],s,o=/\\[i\\]$/,a,u="",l=!1;for(s=0;s<t.length;s++)o.test(t[s])?(a=t[s].substring(0,t[s].length-3),u=a):a=t[s],a==="ret"&&(l=!0),i.push(a);return i[t.length]="var _n = "+u+`.length;\nvar i`+(l?"":", ret = Array(_n)")+`;\n`+n+`\nfor(i=_n-1;i!==-1;--i) {\n`+r+`\n}\nreturn ret;`,L.compile.apply(null,i)};L._biforeach=function e(t,r,n,i,s){if(i===n.length-1){s(t,r);return}var o,a=n[i];for(o=a-1;o>=0;o--)e(typeof t=="object"?t[o]:t,typeof r=="object"?r[o]:r,n,i+1,s)};L._biforeach2=function e(t,r,n,i,s){if(i===n.length-1)return s(t,r);var o,a=n[i],u=Array(a);for(o=a-1;o>=0;--o)u[o]=e(typeof t=="object"?t[o]:t,typeof r=="object"?r[o]:r,n,i+1,s);return u};L._foreach=function e(t,r,n,i){if(n===r.length-1){i(t);return}var s,o=r[n];for(s=o-1;s>=0;s--)e(t[s],r,n+1,i)};L._foreach2=function e(t,r,n,i){if(n===r.length-1)return i(t);var s,o=r[n],a=Array(o);for(s=o-1;s>=0;s--)a[s]=e(t[s],r,n+1,i);return a};L.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};L.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="};L.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"];L.mathfuns2=["atan2","pow","max","min"];L.ops1={neg:"-",not:"!",bnot:"~",clone:""};L.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi);","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]};(function(){var e,t;for(e=0;e<L.mathfuns2.length;++e)t=L.mathfuns2[e],L.ops2[t]=t;for(e in L.ops2)if(L.ops2.hasOwnProperty(e)){t=L.ops2[e];var r,n,i="";L.myIndexOf.call(L.mathfuns2,e)!==-1?(i="var "+t+" = Math."+t+`;\n`,r=function(s,o,a){return s+" = "+t+"("+o+","+a+")"},n=function(s,o){return s+" = "+t+"("+s+","+o+")"}):(r=function(s,o,a){return s+" = "+o+" "+t+" "+a},L.opseq.hasOwnProperty(e+"eq")?n=function(s,o){return s+" "+t+"= "+o}:n=function(s,o){return s+" = "+s+" "+t+" "+o}),L[e+"VV"]=L.pointwise2(["x[i]","y[i]"],r("ret[i]","x[i]","y[i]"),i),L[e+"SV"]=L.pointwise2(["x","y[i]"],r("ret[i]","x","y[i]"),i),L[e+"VS"]=L.pointwise2(["x[i]","y"],r("ret[i]","x[i]","y"),i),L[e]=L.compile(`var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric.`+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+`SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else `+n("x","y")+`\n}\nreturn x;\n`),L[t]=L[e],L[e+"eqV"]=L.pointwise2(["ret[i]","x[i]"],n("ret[i]","x[i]"),i),L[e+"eqS"]=L.pointwise2(["ret[i]","x"],n("ret[i]","x"),i),L[e+"eq"]=L.compile(`var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric.`+e+"eqV, S = numeric."+e+`eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n`)}for(e=0;e<L.mathfuns2.length;++e)t=L.mathfuns2[e],delete L.ops2[t];for(e=0;e<L.mathfuns.length;++e)t=L.mathfuns[e],L.ops1[t]=t;for(e in L.ops1)L.ops1.hasOwnProperty(e)&&(i="",t=L.ops1[e],L.myIndexOf.call(L.mathfuns,e)!==-1&&Math.hasOwnProperty(t)&&(i="var "+t+" = Math."+t+`;\n`),L[e+"eqV"]=L.pointwise2(["ret[i]"],"ret[i] = "+t+"(ret[i]);",i),L[e+"eq"]=L.compile("x",\'if(typeof x !== "object") return \'+t+`x\nvar i;\nvar V = numeric.`+e+`eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n`),L[e+"V"]=L.pointwise2(["x[i]"],"ret[i] = "+t+"(x[i]);",i),L[e]=L.compile("x",\'if(typeof x !== "object") return \'+t+`(x)\nvar i;\nvar V = numeric.`+e+`V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n`));for(e=0;e<L.mathfuns.length;++e)t=L.mathfuns[e],delete L.ops1[t];for(e in L.mapreducers)L.mapreducers.hasOwnProperty(e)&&(t=L.mapreducers[e],L[e+"V"]=L.mapreduce2(t[0],t[1]),L[e]=L.compile("x","s","k",t[1]+`if(typeof x !== "object") {    xi = x;\n`+t[0]+`\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.`+e+`V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n`+t[0]+`\n}\nreturn accum;\n`))})();L.inv=function(y){var r=L.dim(y),n=Math.abs,i=r[0],s=r[1],o=L.clone(y),a,u,l=L.identity(i),c,p,f,m,d,y;for(m=0;m<s;++m){var g=-1,h=-1;for(f=m;f!==i;++f)d=n(o[f][m]),d>h&&(g=f,h=d);for(u=o[g],o[g]=o[m],o[m]=u,p=l[g],l[g]=l[m],l[m]=p,y=u[m],d=m;d!==s;++d)u[d]/=y;for(d=s-1;d!==-1;--d)p[d]/=y;for(f=i-1;f!==-1;--f)if(f!==m){for(a=o[f],c=l[f],y=a[m],d=m+1;d!==s;++d)a[d]-=u[d]*y;for(d=s-1;d>0;--d)c[d]-=p[d]*y,--d,c[d]-=p[d]*y;d===0&&(c[0]-=p[0]*y)}}return l};L.det=function(t){var r=L.dim(t);if(r.length!==2||r[0]!==r[1])throw new Error("numeric: det() only works on square matrices");var n=r[0],i=1,s,o,a,u=L.clone(t),l,c,p,f,m,d,y;for(o=0;o<n-1;o++){for(a=o,s=o+1;s<n;s++)Math.abs(u[s][o])>Math.abs(u[a][o])&&(a=s);for(a!==o&&(f=u[a],u[a]=u[o],u[o]=f,i*=-1),l=u[o],s=o+1;s<n;s++){for(c=u[s],p=c[o]/l[o],a=o+1;a<n-1;a+=2)m=a+1,c[a]-=l[a]*p,c[m]-=l[m]*p;a!==n&&(c[a]-=l[a]*p)}if(l[o]===0)return 0;i*=l[o]}return i*u[o][o]};L.transpose=function(t){var r,n,i=t.length,s=t[0].length,o=Array(s),a,u,l;for(n=0;n<s;n++)o[n]=Array(i);for(r=i-1;r>=1;r-=2){for(u=t[r],a=t[r-1],n=s-1;n>=1;--n)l=o[n],l[r]=u[n],l[r-1]=a[n],--n,l=o[n],l[r]=u[n],l[r-1]=a[n];n===0&&(l=o[0],l[r]=u[0],l[r-1]=a[0])}if(r===0){for(a=t[0],n=s-1;n>=1;--n)o[n][0]=a[n],--n,o[n][0]=a[n];n===0&&(o[0][0]=a[0])}return o};L.negtranspose=function(t){var r,n,i=t.length,s=t[0].length,o=Array(s),a,u,l;for(n=0;n<s;n++)o[n]=Array(i);for(r=i-1;r>=1;r-=2){for(u=t[r],a=t[r-1],n=s-1;n>=1;--n)l=o[n],l[r]=-u[n],l[r-1]=-a[n],--n,l=o[n],l[r]=-u[n],l[r-1]=-a[n];n===0&&(l=o[0],l[r]=-u[0],l[r-1]=-a[0])}if(r===0){for(a=t[0],n=s-1;n>=1;--n)o[n][0]=-a[n],--n,o[n][0]=-a[n];n===0&&(o[0][0]=-a[0])}return o};L.norm2=function(t){return Math.sqrt(L.norm2Squared(t))};L.linspace=function(t,r,n){if(typeof n=="undefined"&&(n=Math.max(Math.round(r-t)+1,1)),n<2)return n===1?[t]:[];var i,s=Array(n);for(n--,i=n;i>=0;i--)s[i]=(i*r+(n-i)*t)/n;return s};L.getBlock=function(t,r,n){var i=L.dim(t);function s(o,a){var u,l=r[a],c=n[a]-l,p=Array(c);if(a===i.length-1){for(u=c;u>=0;u--)p[u]=o[u+l];return p}for(u=c;u>=0;u--)p[u]=s(o[u+l],a+1);return p}return s(t,0)};L.setBlock=function(t,r,n,i){var s=L.dim(t);function o(a,u,l){var c,p=r[l],f=n[l]-p;if(l===s.length-1)for(c=f;c>=0;c--)a[c+p]=u[c];for(c=f;c>=0;c--)o(a[c+p],u[c],l+1)}return o(t,i,0),t};L.getRange=function(t,r,n){var i=r.length,s=n.length,o,a,u=Array(i),l,c;for(o=i-1;o!==-1;--o)for(u[o]=Array(s),l=u[o],c=t[r[o]],a=s-1;a!==-1;--a)l[a]=c[n[a]];return u};L.blockMatrix=function(t){var r=L.dim(t);if(r.length<4)return L.blockMatrix([t]);var n=r[0],i=r[1],s,o,a,u,l;for(s=0,o=0,a=0;a<n;++a)s+=t[a][0].length;for(u=0;u<i;++u)o+=t[0][u][0].length;var c=Array(s);for(a=0;a<s;++a)c[a]=Array(o);var p=0,f,m,d,y,g;for(a=0;a<n;++a){for(f=o,u=i-1;u!==-1;--u)for(l=t[a][u],f-=l[0].length,d=l.length-1;d!==-1;--d)for(g=l[d],m=c[p+d],y=g.length-1;y!==-1;--y)m[f+y]=g[y];p+=t[a][0].length}return c};L.tensor=function(t,r){if(typeof t=="number"||typeof r=="number")return L.mul(t,r);var n=L.dim(t),i=L.dim(r);if(n.length!==1||i.length!==1)throw new Error("numeric: tensor product is only defined for vectors");var s=n[0],o=i[0],a=Array(s),u,l,c,p;for(l=s-1;l>=0;l--){for(u=Array(o),p=t[l],c=o-1;c>=3;--c)u[c]=p*r[c],--c,u[c]=p*r[c],--c,u[c]=p*r[c],--c,u[c]=p*r[c];for(;c>=0;)u[c]=p*r[c],--c;a[l]=u}return a};L.epsilon=2220446049250313e-31;L.LU=function(e,t){t=t||!1;var r=Math.abs,n,i,s,o,a,u,l,c,p,f=e.length,m=f-1,d=new Array(f);for(t||(e=L.clone(e)),s=0;s<f;++s){for(l=s,u=e[s],p=r(u[s]),i=s+1;i<f;++i)o=r(e[i][s]),p<o&&(p=o,l=i);for(d[s]=l,l!=s&&(e[s]=e[l],e[l]=u,u=e[s]),a=u[s],n=s+1;n<f;++n)e[n][s]/=a;for(n=s+1;n<f;++n){for(c=e[n],i=s+1;i<m;++i)c[i]-=c[s]*u[i],++i,c[i]-=c[s]*u[i];i===m&&(c[i]-=c[s]*u[i])}}return{LU:e,P:d}};L.LUsolve=function(t,r){var n,i,s=t.LU,o=s.length,a=L.clone(r),u=t.P,l,c,p,f;for(n=o-1;n!==-1;--n)a[n]=r[n];for(n=0;n<o;++n)for(l=u[n],u[n]!==n&&(f=a[n],a[n]=a[l],a[l]=f),c=s[n],i=0;i<n;++i)a[n]-=a[i]*c[i];for(n=o-1;n>=0;--n){for(c=s[n],i=n+1;i<o;++i)a[n]-=a[i]*c[i];a[n]/=c[n]}return a};L.solve=function(t,r,n){return L.LUsolve(L.LU(t,n),r)};var At=L;function jR(e,t){let r=e.length,n=t.length,i=0,s=0;for(let a=n-r;a<n;a++)i+=e[a+r-n]*t[a],s+=e[a+r-n]*e[a+r-n];let o=i/s;for(let a=n-r;a<n;a++)t[a]=2*o*e[a+r-n]-t[a]}function ZR(e,t,r){let n=e.length,i=t.length,s=0,o=0;for(let u=i-n;u<i;u++)s+=e[u+n-i]*t[u][r],o+=e[u+n-i]*e[u+n-i];let a=s/o;for(let u=i-n;u<i;u++)t[u][r]=2*a*e[u+n-i]-t[u][r]}function QR(e,t,r,n){let i=Array(e.length-t);if(i.length===1)return i[0]=1,i;if(n===0){i[0]=1;for(let o=1;o<i.length;o++)i[o]=0;return i}let s=e[t][r]<0?-1:1;i[0]=e[t][r]+s*Math.sqrt(n);for(let o=t+1;o<e.length;o++)i[o-t]=e[o][r];return i}function KR(e,t,r){let n=0;for(;t<e.length;t++)n+=e[t][r]*e[t][r];return n}function Vp(e,t){if(!t||!t.mutateInput){let s=e;e=Array(e.length);for(let o=0;o<s.length;o++)e[o]=s[o].slice()}let r=Math.min(e.length,e[0].length),n=Array(r),i=[];for(let s=0;s<r;s++){let o=-1/0,a=s;for(let l=s;l<e[s].length;l++){let c=KR(e,s,l);c>o&&(o=c,a=l)}if(n[s]=a,a!==s)for(let l=0;l<e.length;l++){let c=e[l][a];e[l][a]=e[l][s],e[l][s]=c}let u=QR(e,s,s,o);for(let l=s;l<e[s].length;l++)ZR(u,e,l);i.push(u)}return{reflectors:i,r:e,p:n}}function tv(e,t,r){let{reflectors:n,r:i,p:s}=e,o=t.slice();for(let l=0;l<n.length;l++)jR(n[l],o);for(let l=n.length;l<i[0].length;l++)o[l]=0;o.length=i[0].length;let a=Math.pow(2,-52),u=r.regularize?a*Math.abs(i[0][0])*Math.max(i.length,i[0].length):0;for(let l=n.length-1;l>=0;l--){let c=i[l];if(Math.abs(c[l])<=u)o[l]=0;else{for(let p=l+1;p<n.length;p++)o[l]-=o[p]*c[p];o[l]/=c[l]}}for(let l=s.length-1;l>=0;l--)if(s[l]!==l){let c=o[l];o[l]=o[s[l]],o[s[l]]=c}return o}function ew(e,t,r){let n=Array(e.r[0].length);for(let s=0;s<n.length;s++)n[s]=Array(t[0].length);let i=Array(t.length);for(let s=0;s<t[0].length;s++){for(let a=0;a<t.length;a++)i[a]=t[a][s];let o=tv(e,i,r);for(let a=0;a<o.length;a++)n[a][s]=o[a]}return n}function ao(e,t,r){return Array.isArray(t[0])?ew(e,t,r):tv(e,t,r)}function tw(e){let t=e.r,r=Math.min(t.length,t[0].length),n=t[0][0],i=t[r-1][r-1];return n===0?1/0:Math.abs(n/i)}function rv(e){let t=Math.pow(2,-52);return Math.max(e.r.length,e.r[0].length)*t*tw(e)<1}var rw=Math.pow(2,-52);function qp(e){for(let t of e)for(let r of t)if(!St(r))return!1;return!0}function nw(e){let t=[];for(let r of e)t.push(r.slice());return t}function iv(e){let{numRows:t,numCols:r}=Gp(e),n=[];for(let i=0;i<r;i++)n.push([]);for(let i=0;i<t;i++)for(let s=0;s<r;s++)n[s].push(e[i][s]);return n}function Gp(e){let t=e.length,r=t>0?e[0].length:0;return{numRows:t,numCols:r}}function iw(){throw new Error("Matrix dimension mismatch")}function Ch(e,t){let r=Gp(e),n=Gp(t);r.numCols!==n.numRows&&iw();let i=[];for(let s=0;s<r.numRows;s++){let o=[];for(let a=0;a<n.numCols;a++){let u=ie(0,1);for(let l=0;l<e[s].length;l++)u=si(u,oi(e[s][l],t[l][a]));o.push(u)}i.push(o)}return i}function sv(e){let t=nw(e);return ow(t),t}function sw(e){let t=0;for(let r of e)for(let n of r){let i=Math.abs(F(n));if(!isFinite(i))return NaN;i>t&&(t=i)}return t}function nv(e){for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length;r++)e[t][r]=NaN}function ow(e){let{numRows:t,numCols:r}=Gp(e),n=sw(e);if(!isFinite(n))return nv(e),{determinant:NaN,rank:0};let i=Math.max(t,r)*n*rw,s=ie(1,1),o=0,a=0;for(;o<t&&a<r;){let u=o,l=Math.abs(F(e[o][a]));for(let p=o+1;p<t;p++){let f=Math.abs(F(e[p][a]));(!isFinite(f)||f>l)&&(l=f,u=p)}if(!isFinite(l))return nv(e),{determinant:NaN,rank:0};if(l===0){s=ie(0,1),a+=1;continue}if(!St(e[u][a])&&l<i){for(let p=o;p<t;p++)e[o][p]=0;s=0,a+=1;continue}if(u!==o){s=cn(s);let p=e[o];e[o]=e[u],e[u]=p}for(let p=0;p<t;p++){if(p===o)continue;let f=$n(e[p][a],e[o][a]);e[p][a]=ie(0,1);for(let m=a+1;m<r;m++)e[p][m]=Hn(e[p][m],oi(f,e[o][m]))}let c=e[o][a];s=oi(s,c),e[o][a]=ie(1,1);for(let p=a+1;p<r;p++)e[o][p]=$n(e[o][p],c);o+=1,a+=1}return{rank:o,determinant:o===t&&o===r?s:ie(0,1)}}function zp(e,t){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function gs(e,t){let r=ys(e,t),n=0;for(let i of r){let s=i;n+=s*s}return n/r.length}function ys(e,t){return e.apply(void 0,t)}function kp(e,t){let r=[];for(let n of e){let i=n.apply(void 0,t);r.push(i)}return r}function ov(e,t){let r=[];for(let n=0;n<e.length;n++)t[n]&&r.push(e[n]);return r}function _h(e,t,r){let n=[];for(let i=0,s=0;i<e.length;i++){let o=0;r[i]&&(o=t[s],s+=1),n.push(e[i]+o)}return n}function Vh(e,t){let r=t.solution.map(u=>Math.abs(u)<1e-6?0:u),n=t.solution.map(()=>0),i=gs(e,r),s=ys(e,r),o=ys(e,n),a=0;for(let u=0;u<s.length;u++){let l=o[u]*1e-15;a+=Math.abs(s[u]*l)+l*l}return a/=s.length,isFinite(a)||(a=0),isFinite(t.MSE)&&!isFinite(i)?t:i<=t.MSE+a?{solution:r,MSE:i}:t}function Gh(e,t){if(!qp(t)||!qp([e]))return;let r=iv(t),n=Ch([e],r)[0],i=Ch(t,r);for(let l=0;l<n.length;l++)i[l].push(cn(n[l]));let s=sv(i);if(!qp(s))return;let o=[],a=n.length,u=0;for(let l of s)for(;u<a;)if(F(l[u])===1){o.push(l[l.length-1]),u++;break}else o.push(ie(0,1)),u++;for(;u<a;)o.push(ie(0,1)),u++;return o}function qh(e,t){let r=zp(0,t.length),n=kp(t,r),i=Vp(At.transpose(n),{mutateInput:!0});for(var s=0;s<2;s++){let l=ys(e,r),c=At.neg(ao(i,l,{regularize:!1}));r=At.add(r,c)}let o=gs(e,r);if(rv(i))return{solution:r,MSE:o};let a=zp(0,t.length);for(var s=0;s<2;s++){let c=ys(e,a),p=At.neg(ao(i,c,{regularize:!0}));a=At.add(a,p)}let u=gs(e,a);return .999*u<=o?{solution:a,MSE:u}:{solution:r,MSE:o}}function Fh(e,t,r,n){let i=n.maxIterations,s=n.linearSubset||zp(!1,r.length),o=At.not(s),a=ov(t,s),u=ov(t,o),l=2,c=.1,p=r,f=0,m=.001,d;if(At.any(s)){let h=At.transpose(kp(a,p)),x=Vp(h);d={Jv:h,F:x};let P=ys(e,p),D=At.neg(ao(x,P,{regularize:!0}));p=_h(p,D,s)}let y=!1,g=gs(e,p);for(;f<i&&!y&&isFinite(g);){let h=ys(e,p),x=kp(u,p),P=At.transpose(x),D,M;if(d){let{F:v,Jv:N}=d;D=At.dot(x,At.sub(h,At.dot(N,ao(v,h,{regularize:!0})))),M=At.dot(x,At.sub(P,At.dot(N,ao(v,P,{regularize:!0}))))}else D=At.dot(x,h),M=At.dot(x,P);let E=p,S=!1;for(;f<i&&!y&&!S;){f+=1;let v=At.add(M,At.diag(zp(m,u.length))),N=At.neg(At.solve(v,D,!0));E=_h(p,N,o),y=At.all(At.eq(E,p));let G;if(d){let H=At.transpose(kp(a,E)),te=Vp(H);G={Jv:H,F:te};let je=ys(e,E),Me=At.neg(ao(te,je,{regularize:!0}));E=_h(E,Me,s)}let C=gs(e,E);S=C<g,S?(p=E,g=C,d=G,m*=c):(m=Math.max(m,1e-64),m*=l)}}return{solution:p,MSE:g}}var Bh=[18.9,.105,.0113,.089,4.414,.373,.06,.149,1.84,9.26,5,.7,.2,1.13,2.61,1,.007,30,120,1500,4e-4,7.23,-1,-.0081,-.03,-28.6,-1.71,-.4,-6.94,-.777,-500],uw=function(e){let t=e*503%Bh.length;return Bh[t]},lw=function(e){let t=[];for(let r=0;r<Bh.length;r++){let n=[];for(let i=0;i<e;i++)r===0&&e!==1?n[i]=0:r===1&&e!==1?n[i]=1:n[i]=uw(r*e+i);t.push(n)}return t},av=function(e,t,r,n,i){let s=[];for(let a of r)s.push({soln:Fh(e,t,a,i),initialGuess:a});s.sort(function(a,u){return isNaN(a.soln.MSE)?1:isNaN(u.soln.MSE)?-1:a.soln.MSE-u.soln.MSE});let o=[];for(let a=0;a<n;a++)o.push(s[a].initialGuess);return o};function cw(e,t,r,n){if(!t||t.type!=="known")return e;let i=t.bounds;return i[0]===-1/0&&i[1]===1/0?e:i[0]===-1/0?i[1]-Math.exp(-e):i[1]===1/0?i[0]+Math.exp(e):r/(n-1)*i[1]+(n-1-r)/(n-1)*i[0]}var uv=[3,5,7,11,13,17,19];function pw(e,t){let r=[];for(let i=0;i<e.length;i++){let s=e[i],o=[];for(let a=0;a<s.length;a++){var n=uv[a%uv.length]*i%e.length;o.push(cw(s[a],t[a],n,e.length))}r.push(o)}return r}function lv(e,t,r){r||(r={});let{linearSubset:n,bounds:i,preferredInitialGuess:s}=r,o=lw(t.length);i&&(o=pw(o,i));let a=av(e,t,o,5,{maxIterations:3,linearSubset:n}),u=av(e,t,a,1,{maxIterations:60,linearSubset:n}),l=Fh(e,t,u[0],{maxIterations:250,linearSubset:n});if(!s)return l;let c=Fh(e,t,s,{maxIterations:100,linearSubset:n});return isFinite(c.MSE)&&(c.MSE<l.MSE||Nr(c.MSE,l.MSE,8))?c:l}function kh(e){return{chunk:e,isLazy:!0}}function cv(e){return e.slice()}function Hp(e){if(!e.isLazy)return e;let t=e.chunk.copy();return t.reopenFinalBlock(),{chunk:t,forwardParameterMap:cv,reverseParameterMap:cv,isLazy:!1,valueMap:hw(e.chunk.instructionsLength()),replacementMask:jo(e.chunk.argNames.length)}}function pv(e){let{chunk:t,forwardParameterMap:r,reverseParameterMap:n,isLazy:i,valueMap:s,replacementMask:o,didShiftScale:a}=e;return{chunk:t.copy(),forwardParameterMap:r,reverseParameterMap:n,isLazy:i,valueMap:s.slice(),replacementMask:o.slice(),didShiftScale:a}}function fw(e){var t=1/0,r=-1/0,n=e.length;for(let i of e)t=Math.min(t,i),r=Math.max(r,i);return{min:t,max:r,length:n}}function mv(e){let t=e.getInstruction(e.getReturnIndex());if(t.type!==48)return;let r=t.args[0],n=e.getReturnIndex()-r,i=e.getInstruction(r);if(i.args.length!==2)return;let s=i.args[0],o=i.args[n],a=[],u=[];a.push(s),u.push({min:1,max:Zn(e,e.getReturnIndex(),"Programming error: cannot optimize regression on non-constant-length list"),length:Zn(e,e.getReturnIndex(),"Programming error: cannot optimize regression on non-constant-length list")});let l=!1,c=!1;for(let g=s+1;g<=o;g++){let h=e.getInstruction(g);if(h.type===39||h.type===41||h.type===40){if(h.args[1]!==s)continue;let x=h.args[0];if(e.getInstruction(x).valueType!==Y||!It(e.getInstruction(x)))continue;let P=ht(e,x),D=fw(P);if(!isFinite(D.min)||!isFinite(D.max))continue;a.push(g),u.push(D)}else if(h.type===37)h.symbol==="exp"?c=!0:dv(h)&&(l=!0);else if(h.type===12||h.type===13)c=!0;else if(_r(h)||mr(h))return}if(a.length===0||!c&&!l)return;let p=[];for(let g=0;g<=o;g++){let h=a.indexOf(g);if(h!==-1){let x=jo(a.length);x[h]=!0,p.push(x)}else p.push(Up(e,p,a.length,g))}let f=[];for(let g=0;g<=e.getReturnIndex();g++)if(e.getInstruction(g).type===2){let x=jo(e.argNames.length);x[g]=!0,f.push(x)}else f.push(Up(e,f,e.argNames.length,g));let m={listAccessDependencyTable:p,listAccesses:a,listStatisticsTable:u},d;for(let g=s+1;g<=e.getReturnIndex();g++){let h=e.getInstruction(g);switch(h.type){case 37:{if(h.symbol==="exp"){let Me=h.args[0],Ke=zh(m,Me);if(Ke===void 0){Gi(e,f,d,g);break}let{listStatistics:xt,listAccessIndex:re}=Ke,ve=fu(kh(e),g,Me,re,xt);ve?d=[ve]:Gi(e,f,d,g)}break}case 12:case 13:{let[Me,Ke]=h.args,xt=zh(m,Ke);if(xt===void 0||fv(m,Me)){Gi(e,f,d,g);break}let{listStatistics:re,listAccessIndex:ve}=xt,Ne=mw(kh(e),g,ve,re);Ne?d=[Ne]:Gi(e,f,d,g);break}case 10:if(d&&d.length>1){Gi(e,f,d,g);break}let x=d&&d.length>0?d[0]:kh(e),[P,D]=h.args,M=x.isLazy?P:x.valueMap[P],E=x.isLazy?D:x.valueMap[D],S=x.chunk.getInstruction(M),v=x.chunk.getInstruction(E),N,G,C;if(S.type===37)N=P,C=S,G=D;else if(v.type===37)N=D,C=v,G=P;else{Gi(e,f,d,g);break}let H=zh(m,N);if(H===void 0||fv(m,G)){Gi(e,f,d,g);break}let{listAccessIndex:te,listStatistics:je}=H;if(C.symbol==="exp"){let Me=yw(x,g,G,N,te,je);if(Me){d=Me;break}}else if(dv(C)){let Me=dw(x,g,G,N,te);if(Me){d=[Me];break}}Gi(e,f,d,g);break;default:{Gi(e,f,d,g);break}}}if(d===void 0||d.length===0)return;let y=[];for(let g of d)y.push({chunk:g.chunk.close(),forwardParameterMap:g.forwardParameterMap,reverseParameterMap:g.reverseParameterMap});return y}function Gi(e,t,r,n){if(r===void 0)return;let i=e.getInstruction(n);if(ne(i))for(let s of r)s.valueMap[n]=n;else for(let s of r){let{chunk:o,valueMap:a}=s,u=[],l=0;for(let c of i.args){if(a[c]!==c){if(l+=1,l>1){r.length=0;return}}else{let p=t[c];for(let f=0;f<p.length;f++)if(p[f]&&s.replacementMask[f]){r.length=0;return}}u.push(a[c])}a[n]=l>0?Lt(o,i,u):n}}function zh(e,t){let{listAccessDependencyTable:r,listAccesses:n,listStatisticsTable:i}=e,s,o=r[t];for(let a=0;a<o.length;a++)if(o[a]){if(s)return;s={listAccessIndex:n[a],listStatistics:i[a]}}return s}function fv(e,t){let{listAccessDependencyTable:r}=e,n=r[t];for(let i of n)if(i)return!0;return!1}function Uh(e,t){let r=[];for(let s=0;s<=t;s++)if(e.getInstruction(s).type===2){let a=jo(e.argNames.length);a[s]=!0,r.push(a)}else r.push(Up(e,r,e.argNames.length,s));let n,i=r[t];for(let s=0;s<i.length;s++)if(i[s]){if(n!==void 0)return;n=s}return n}function dw(e,t,r,n,i){let s=e.chunk,o=Uh(s,r);if(o===void 0)return;let a=Hh(e,r,o);if(a===void 0)return;let u=s.getInstruction(n),l=u.args[0];if(a=yv(a,l,i),a===void 0)return;let{chunk:c,valueMap:p}=a,f=c.getInstruction(p[l]);if(f.type!==8)return;let m=f.args[1],d=c.getInstruction(f.args[0]);if(d.type!==10)return;let[y,g]=d.args,h=o,x=m,P=y,D=g,M=c.Multiply([P,D]),E=c.SyntheticNativeFunction("cos",[M]),S=c.SyntheticNativeFunction("sin",[M]),v=u.symbol==="sin"?c.Add([c.Multiply([h,S]),c.Multiply([x,E])]):c.Subtract([c.Multiply([h,E]),c.Multiply([x,S])]);p[t]=v;function N(H){let te=a.forwardParameterMap(H),je=te[o],Me=te[m],Ke=je*Math.cos(Me),xt=je*Math.sin(Me);return te[o]=Ke,te[m]=xt,te}function G(H){let te=H.slice(),je=H[o],Me=H[m],Ke=ii(je,Me),xt=Math.atan2(Me,je);return te[o]=Ke,te[m]=xt,a.reverseParameterMap(te)}let C=a.replacementMask.slice();return C[o]=!0,C[y]=!0,C[m]=!0,{chunk:c,forwardParameterMap:N,reverseParameterMap:G,valueMap:p,replacementMask:C,isLazy:!1}}function mw(e,t,r,n){let i=e.chunk,s=i.getInstruction(t),[o,a]=s.args,u=i.getInstruction(o);if(u.type===1&&u.valueType===I&&F(u.value)>0){let x=Hp(e),{chunk:P,valueMap:D}=x,M=P.Multiply([P.SyntheticNativeFunction("ln",[D[o]]),D[a]]);return D[a]=M,D[t]=P.SyntheticNativeFunction("exp",[M]),fu(x,t,a,r,n)||x}let l=Uh(i,o);if(l===void 0)return;let c=Hh(e,o,l);if(c===void 0)return;let{chunk:p,valueMap:f}=c,m=p.Multiply([f[o],f[a]]);f[a]=m,f[t]=p.SyntheticNativeFunction("exp",[m]);function d(x){let P=c.forwardParameterMap(x),D=P[l],M=Math.log(D);return P[l]=M,P}function y(x){let P=x.slice(),D=P[l],M=Math.exp(D);return P[l]=M,c.reverseParameterMap(P)}let g=c.replacementMask.slice();g[l]=!0;let h={chunk:p,forwardParameterMap:d,reverseParameterMap:y,isLazy:!1,valueMap:f,replacementMask:g};return fu(h,t,a,r,n)||h}function yw(e,t,r,n,i,s){if(!e.isLazy&&e.didShiftScale)return;let o=e.isLazy?e:pv(e),a=e.chunk,u=Uh(a,r);if(u===void 0)return;let l=Hh(e,r,u);if(l===void 0)return;let{chunk:c,valueMap:p}=l,f=c.getInstruction(p[n]).args[0],m=c.Add([f,p[r]]);p[r]=m,p[t]=c.SyntheticNativeFunction("exp",[m]);function d(E){let S=l.forwardParameterMap(E),v=S[u],N=Math.log(v);return S[u]=N,S}function y(E){let S=E.slice(),v=S[u],N=Math.exp(v);return S[u]=N,l.reverseParameterMap(S)}function g(E){let S=l.forwardParameterMap(E),v=S[u],N=Math.log(-v);return S[u]=N,S}function h(E){let S=E.slice(),v=S[u],N=-Math.exp(v);return S[u]=N,l.reverseParameterMap(S)}let x=l.replacementMask.slice();x[u]=!0;let P=Hp(o);P.valueMap[t]=P.chunk.Multiply([P.valueMap[r],P.valueMap[n]]);let D={chunk:c,forwardParameterMap:d,reverseParameterMap:y,isLazy:!1,valueMap:p,replacementMask:x},M=pv(D);return M.forwardParameterMap=g,M.reverseParameterMap=h,D=fu(D,t,r,i,s)||D,M=fu(M,t,r,i,s)||M,M.valueMap[t]=M.chunk.Negative([M.valueMap[t]]),[P,D,M]}function fu(e,t,r,n,i){let s=gw(e,r,n,i);if(s!==void 0)return s.valueMap[t]=s.chunk.SyntheticNativeFunction("exp",[s.valueMap[r]]),s}function gw(e,t,r,n){let i=yv(e,t,r);if(i===void 0)return;let{chunk:s,valueMap:o}=i,a=s.getInstruction(o[t]);if(a.type!==8)return;let u=a.args[1],l=s.getInstruction(a.args[0]);if(l.type!==10)return;let[c,p]=l.args,{min:f,max:m}=n,d=m-f,y=.5*(m+f),g=s.Divide([s.Subtract([p,s.Constant(y)]),s.Constant(d)]),h=s.Add([s.Multiply([c,g]),u]);o[t]=h;function x(D){let M=i.forwardParameterMap(D),E=M[c],S=M[u],v=E*d,N=S+y*E;return M[c]=v,M[u]=N,M}function P(D){let M=D.slice(),E=D[c],S=D[u],v=E/d,N=S-v*y;return M[c]=v,M[u]=N,i.reverseParameterMap(M)}return{chunk:s,forwardParameterMap:x,reverseParameterMap:P,isLazy:!1,valueMap:o,replacementMask:i.replacementMask,didShiftScale:!0}}function Hh(e,t,r){let n=e.chunk,i=Ur(n,r,{allowRestriction:!1,allowClosedBlockReferences:!1});if(Bt(i,t)!==1)return;let s=_n(i),[o,a]=Ut(s,t);if(a===void 0)return;let u=s.newChunk.getInstruction(o);if(u.type!==1||u.valueType!==I)return;let l=s.newChunk.getInstruction(a);if(l.type!==1||l.valueType!==I)return;let c=Hp(e),{chunk:p,valueMap:f}=c,m=F(u.value),d=F(l.value);f[t]=r;function y(x){let P=c.forwardParameterMap(x),D=P[r],M=m+d*D;return P[r]=M,P}function g(x){let P=x.slice(),M=(P[r]-m)/d;return P[r]=M,c.reverseParameterMap(P)}let h=c.replacementMask.slice();return h[r]=!0,{chunk:p,forwardParameterMap:y,reverseParameterMap:g,isLazy:!1,valueMap:f,replacementMask:h}}function yv(e,t,r){let n=e.chunk,i=e.isLazy?t:e.valueMap[t],s=Ur(n,r,{allowRestriction:!1,allowClosedBlockReferences:!0});if(Bt(s,i)!==1)return;e.isLazy&&(s=Ur(n.copy().reopenFinalBlock(),r,{allowRestriction:!1,allowClosedBlockReferences:!1}));let o=_n(s),[a,u]=Ut(o,i);if(u===void 0)return;let l=o.newChunk,c=Math.max(u,a),p=[];for(let De=0;De<=c;De++)if(l.getInstruction(De).type===2){let bt=jo(l.argNames.length);bt[De]=!0,p.push(bt)}else p.push(Up(l,p,l.argNames.length,De));let f,m;for(let De=0;De<n.argNames.length;De++)if(p[u][De])if(f===void 0)f=De;else return;else if(p[a][De])if(m===void 0)m=De;else return;if(f===void 0||m===void 0)return;let d=Ur(l,f,{allowRestriction:!1,allowClosedBlockReferences:!1});if(Bt(d,u)!==1)return;let y=Ur(l,m,{allowRestriction:!1,allowClosedBlockReferences:!1});if(Bt(y,a)!==1)return;let g=_n(d),h=_n(y),[x,P]=Ut(g,u),D=g.newChunk.getInstruction(x);if(D.type!==1||D.valueType!==I)return;let M=g.newChunk.getInstruction(P);if(M.type!==1||M.valueType!==I)return;let E=Hp(e),{chunk:S,valueMap:v}=E,N=S.Add([S.Multiply([f,r]),m]);v[t]=N;let G=l.copy();G.List([u,a]);let C=G.close().getCompiledFunction().fn;function H(De){let se=E.forwardParameterMap(De),[bt,Gt]=C.apply(null,se);return se[f]=bt,se[m]=Gt,se}let te=F(D.value),je=F(M.value),[Me,Ke]=Ut(h,a),xt=h.newChunk.copy();xt.List([Me,Ke]);let re=xt.close().getCompiledFunction().fn;function ve(De){let se=De.slice(),bt=De[f],Gt=De[m],In=(bt-te)/je,ia=De.slice();ia[f]=In,ia.splice(m,1);let[Nu,CE]=re.apply(null,ia),_E=(Gt-Nu)/CE;return se[f]=In,se[m]=_E,E.reverseParameterMap(se)}let Ne=E.replacementMask.slice();return Ne[f]=!0,Ne[m]=!0,{chunk:S,forwardParameterMap:H,reverseParameterMap:ve,isLazy:!1,valueMap:v,replacementMask:Ne}}function Up(e,t,r,n){let i=e.getInstruction(n),s=jo(r);if(ne(i))return s;for(let o of i.args){let a=t[o];for(let u=0;u<a.length;u++)s[u]=s[u]||a[u]}return s}function jo(e){let t=[];for(let r=0;r<e;r++)t.push(!1);return t}function hw(e){let t=[];for(let r=0;r<e;r++)t.push(r);return t}function dv(e){return e.type===37&&(e.symbol==="sin"||e.symbol==="cos")}function Nt(e,t){switch(e){case I:case be:return new b.Constant(t);case tt:return new b.Seed(t);case w:return new b.ParenSeq([Nt(I,t[0]),Nt(I,t[1])]);case et:return new b.FunctionCall("rgb",[Nt(I,t[0]),Nt(I,t[1]),Nt(I,t[2])]);case ye:return new b.FunctionCall("polygon",[Nt(Le,t)]);case ue:return new b.FunctionCall("segment",[Nt(w,t[0]),Nt(w,t[1])]);case J:return new b.FunctionCall("line",[Nt(w,t[0]),Nt(w,t[1])]);case ge:return new b.FunctionCall("ray",[Nt(w,t[0]),Nt(w,t[1])]);case Q:return new b.FunctionCall("circle",[Nt(w,t[0]),Nt(I,t[1])]);case X:return new b.FunctionCall("arc",[Nt(w,t[0]),Nt(w,t[1]),Nt(w,t[2])]);case xe:return new b.FunctionCall("angle",[Nt(w,t[0]),Nt(I,t[1]),Nt(I,t[2])]);case le:return new b.FunctionCall("directedangle",[Nt(w,t[0]),Nt(I,t[1]),Nt(I,t[2])]);case de:case Y:case pr:case Le:case rr:case zt:case Ct:case Qt:case Kt:case vt:case Et:case jt:case Zt:{let n=[],i=ot(e);for(let s of t)n.push(Nt(i,s));return new b.List(n)}case Jt:case Dt:case Mt:case Wt:case Ge:case Se:case Ir:case vn:throw new Error(`Programming error: cannot create parse node from valueType: ${jr(e)}`);default:let r=e;throw new Error(`Programming error: unexpected valueType: ${jr(r)}`)}}function Iv(e,t){try{return bw(e,t)}catch(r){return r instanceof b.Error?r:Te()}}function bw(e,t){let{policy:r,frame:n,exportFrame:i,lastExportFrame:s,priorAnalysis:o}=e,a=t._lhs.buildIRExpression(r,n),u=t._rhs.buildIRExpression(r,n);if(a.isError)throw a;if(u.isError)throw u;if(a.valueType!==I&&a.valueType!==Y||u.valueType!==I&&u.valueType!==Y)throw Fd([Z(a.valueType),Z(u.valueType)]);let l=t._difference.buildIRExpression(r,n,{wrapInList:!0});if(l.isError)throw l;for(let M of l.getDependencies())if(!r.validRegressionParameter(M))throw Qm(M);let c=Pw(l.getDependencies(),t.userData.regressionParameters,s),{parameters:p,residuals:f,isLinear:m,parameterWarning:d}=Tv(c,l),y={policy:r,frame:n},g=gv(y,t,p),h=Mw(t,a,g),x;if(t.userData.isLogModeRegression&&(h===Lr.LOGLIN||h===Lr.LOGLOG)){let M=t._logDifference.buildIRExpression(r,n,{wrapInList:!0});if(M.isError)throw M;let E=t._logLhs.buildIRExpression(r,n,{wrapInList:!0});if(E.isError)throw E;({parameters:p,isLinear:m,parameterWarning:d}=Tv(c,M)),g=gv(y,t,p),f=Pv(y,t._difference,p);let S=Pv(y,t._logDifference,p);x=xv(t,E,g,S,t.userData.isLogModeRegression,h)}else x=xv(t,a,g,f,t.userData.isLogModeRegression,h);let P=xw(t,i),D=Iw(t,P,o);return t.userData.residualVariable=dr(P),new b.OptimizedRegression(p,Nt(Y,f),x,g.substituted,{isModelValid:g.isValid,residualVariable:P,residualSuggestionId:D,shouldSuggestLogMode:h!==Lr.NONE,isLinear:m,parameterWarning:d})}function xw(e,t){if(e.userData&&e.userData.residualVariable){let s=pi(e.userData.residualVariable);if(!t[s])return s}let r=e.getDependencies().filter(s=>s[0]!=="_"),n;for(let s of r){let o=s.match(/_(.*)/);if(o&&(n="e_"+o[1],!t[n]))return n}let i=1;for(;;){if(n="e_"+i,!t[n])return n;i++}}function gv({policy:e,frame:t},r,n){let i=r._rhs.getDependencies(),s,o;for(let p of i){if(n.hasOwnProperty(p))continue;let f=t[p];if(!f||(f.type==="Assignment"&&(f=f._expression),!f.buildIRExpression))continue;let m=f.buildIRExpression(e,t);if(!m.isError&&m.valueType===Y){if(s!==void 0){s=void 0,o=void 0;break}m.getDependencies().length===0&&(s=p,o=m)}}let a=Object.create(t);s!==void 0&&(a[s]=void 0);let u=r._rhs.buildIRExpression(e,a),l=Object.create(a);for(let p in n)l[p]=n[p];let c=r._rhs.buildIRExpression(e,l);return o?{node:u,substituted:c,listNode:o,isValid:!0}:{node:u,substituted:c,listNode:o,isValid:!1}}function Pw(e,t,r){let n=[];t||(t={}),r||(r={});for(let i of e){let s=dr(i);r[i]&&isFinite(r[i].asValue())?n.push(+r[i].asValue()):t.hasOwnProperty(s)&&isFinite(+t[s])?n.push(+t[s]):n.push(1)}return n}function hv(e,t){let r=t.getDependencies(),n=t.getCompiledFunction(r).fn;if(r.length){let i=t.findLinearSubset(r),s=i.every(a=>a),o=[];for(let a of r)o.push(t.takeDerivative(a).getCompiledFunction(r).fn);if(s){let a=r.map(()=>ie(0,1)),u=t.interpretWithParameters(a),l=[];for(let m of r)l.push(t.takeDerivative(m).interpretWithParameters(a));let c=Gh(u,l);if(c){let m=t.interpretWithParameters(c);return{solution:c,residuals:m,MSE:Wh(m),isLinear:s}}let{solution:p,MSE:f}=Vh(n,qh(n,o));return{solution:p,residuals:n.apply(void 0,p),MSE:f,isLinear:s}}else{let a=[];for(let p of r)a.push(t.boundDomain(p));let u={linearSubset:i,bounds:a,preferredInitialGuess:e},{solution:l,MSE:c}=Vh(n,lv(n,o,u));return{solution:l,residuals:n.apply(void 0,l),MSE:c,isLinear:s}}}else return{solution:[],residuals:t.interpretWithParameters([]),MSE:gs(n,[]),isLinear:!0}}function bv(e,t){let r={},n=t.getDependencies();for(let i=0;i<n.length;i++){let s=new b.RegressionParameter(e[i]);r[n[i]]=s}return r}function xv(e,t,r,n,i,s){let o=Wh(n);if(!isFinite(o))throw Km();if(t.getDependencies().length>0)return{RMSE:Math.sqrt(o)};let a=k(t.valueType)?Ja(t.asValue()):0;if(t.getDependencies().length||!isFinite(a)||a<=0||!e.isLhsSimple)return{RMSE:Math.sqrt(o)};{let u=1-o/a;if(r.isValid){let l=[],c=[],p=i&&(s===Lr.LINLOG||s===Lr.LOGLOG);b.List.eachArgs([r.listNode,t],function(m){let d=m[0].isConstant?m[0].asCompilerValue():NaN,y=m[1].isConstant?m[1].asCompilerValue():NaN;l.push(p?Math.log(F(d)):d),c.push(y)});let f=op(l.map(m=>F(m)),c.map(m=>F(m)));if(Nr(Tw(l,c).MSE,o,8))return{r:f,rsquared:f*f}}return{Rsquared:u}}}function Tw(e,t){let r=t,n=[e.map(a=>cn(a)),e.map(()=>ie(-1,1))],i=Gh(r,n);if(i){let[a,u]=i,l=[];for(let c=0;c<t.length;c++)l.push(Hn(t[c],si(oi(a,e[c]),u)));return{solution:i,MSE:Wh(l)}}function s(a,u){let l=[];for(let c=0;c<e.length;c++)l.push(F(t[c])-(a*F(e[c])+u));return l}return qh(s,[function(){return e.map(function(a){return-F(a)})},function(){return e.map(function(){return-1})}])}function Iw(e,t,r){let n=e._rhs.getDependencies(),i;for(let s in r){if(!r.hasOwnProperty(s))continue;let o=r[s].concreteTree;if(!o.isTable||!o.columns[0])continue;let a=r[s].rawTree.columns;if(!a||!a.length)continue;let u=a[0].getExports();if(u.length===1&&n.indexOf(u[0])!==-1){for(let l=1;l<a.length;l++)if(a[l].getDependencies().indexOf(t)!==-1)return;i=i||s}}return i||void 0}function $h(e,t){let r=e.length,n=e[0],i=t[0],s=e[r-1],o=t[r-1];if(!isFinite(n)||!isFinite(s)||!isFinite(i)||!isFinite(o)||o-i===0)return!1;let a=s-n;if(a===0)return!1;for(let u=1;u<r-1;u++){let l=e[u],c=t[u],p=(o*(l-n)+i*(s-l))/a;if(!Nr(c,p,5))return!1}return!0}var Lr={NONE:0,LOGLIN:1,LOGLOG:2,LINLOG:3};function Mw(e,t,r){if(!e.isLhsSimple||!r.isValid)return Lr.NONE;let n=r.substituted;if(n.isError||n.valueType!==I)return Lr.NONE;let i=n.getDependencies();if(i.length!==1||isFinite(r.node.polynomialOrder(i[0])))return Lr.NONE;let s=n.getCompiledFunction(i).fn,o=r.listNode;if(n.valueType!==I)return Lr.NONE;let a=o.mapElements(f=>+f.asValue());if(a.length<3)return Lr.NONE;a.sort(function(f,m){return f-m});let u=a.map(s),l=u.map(Math.log),c=a.map(Math.log),p=!0;return b.List.wrap(t).eachElement(f=>{isFinite(Math.log(+f.asValue()))||(p=!1)}),$h(a,l)&&p?Lr.LOGLIN:$h(c,l)&&p?Lr.LOGLOG:$h(c,u)?Lr.LINLOG:Lr.NONE}function Pv({policy:e,frame:t},r,n){let i=Object.create(t);for(let o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);return _p({policy:e,frame:i,wrapInList:!0},r).asCompilerValue()}function Wh(e){let t=0;for(let r of e){let n=F(r);t+=n*n}return t/e.length}function Tv(e,t){let r,n,i=t._chunk;if(i&&(n=mv(i)),!n||n.length===0)return t=t.deriveRegressionRestrictions(),r=hv(e,t),{parameters:bv(r.solution,t),residuals:r.residuals,isLinear:r.isLinear,parameterWarning:!1};let s=t.getDependencies(),o=t.getCompiledFunction(s).fn,a=1/0,u={},l,c=!1;for(let p of n){let f=new Yt(p.chunk);if(f=f.deriveRegressionRestrictions(),r=hv(p.forwardParameterMap(e),f),r.MSE<a){let m=p.reverseParameterMap(r.solution.map(y=>F(y))),d=gs(o,m);if(u&&(!isFinite(d)||d>=a)){isFinite(d)||(c=!0);continue}a=r.MSE,u=bv(m,t),l=o.apply(void 0,m)}}return{parameters:u,residuals:l,isLinear:!1,parameterWarning:c}}b.Base.prototype.analyze=function(e,t){return Br(this)?Vr(e,t,this):new _(e,t,this,this.tryGetConcreteTree(e,t))};function Yh(e,t,r,n){if(n.isError)return new _(e,t,r,n);if(!e.areAllScalesLinear()&&!sa(n.valueType))return new _(e,t,r,Ta(Z(n.valueType)));var i=n.getDependencies();switch(n.valueType){case Dt:case Wt:case de:return new _(e,t,r,n);case et:case rr:case ue:case Ct:case Q:case jt:case X:case Zt:case J:case Qt:case ge:case Kt:case xe:case vt:case le:case Et:case Se:case Ir:case Ge:case ye:case zt:return i.length?new _(e,t,r,Tt(r.getSliderVariables(e,n)).setDependencies(i)):new _(e,t,r,n);case w:case Le:if(i.length){if(!e.validParametricVariables(i)){var s=r.getSliderVariables(e,n);return new _(e,t,r,Tt(s).setDependencies(s))}return new _(e,t,r,n)}return new _(e,t,r,n);case I:case Y:return i.length===0?new _(e,t,r,n):i.length<=e.dimensions()-1?e.validExpressionVariables(i)?new _(e,t,r,n):new _(e,t,r,uc(e.implicitDependency(i)).setDependencies(i)):e.validImplicitVariables(i)?new _(e,t,r,uc().setDependencies(i)):new _(e,t,r,Tt(r.getSliderVariables(e,n)).setDependencies(i));default:return new _(e,t,r,Te())}}function vv(e){return new b.FunctionCall("pdf",[e,new b.Identifier("x")])}b.FunctionCall.prototype.analyze=function(e,t,r){var n;Bp[this._symbol]&&Yo(t,this).length===0?n=vv(this).tryGetConcreteTree(e,t):n=this.tryGetConcreteTree(e,t);var i=Yh(e,t,this,n);if(Br(this)&&!Sv(i))return Vr(e,t,this);var s=this.getMoveStrategy(e,t,n,r,this.userData);if(s){var o=this.getDefaultDragMode(s),a=n.asCompilerValue(),u=[new b.Constant(a[0]),new b.Constant(a[1])];return new _(e,t,this,new b.MovablePoint(u,s,o))}return i};b.Expression.prototype.analyze=function(e,t){var r=Yh(e,t,this,this.tryGetConcreteTree(e,t));return Br(this)&&!Sv(r)?Vr(e,t,this):r};b.FunctionDefinition.prototype.analyze=function(e,t){if(Br(this))return Vr(e,t,this);if(fe[this._symbol])return this.asEquation().analyze(e,t);var r=this._symbol.split("_")[0];if(fe[r]&&fe[r].isFunction)return new _(e,t,this,Eo(this._symbol,r));var n=this.tryGetConcreteTree(e,t);if(n.isError)return new _(e,t,this,n);var i=this._argSymbols,s=n.getDependencies();if(s.indexOf(this._symbol)!==-1)return new _(e,t,this,va(this._symbol));var o=s.filter(function(u){return i.indexOf(u)===-1});if(e.unplottablePolarFunction(this._symbol,s))return new _(e,t,this,Hm());if(o.some(function(u){return e.assignmentForbidden(u)}))return new _(e,t,this,Ea(o,this._symbol,i).setDependencies(s));if(o.length){var a=this.getSliderVariables(e,n);return new _(e,t,this,Tt(a).setDependencies(a))}return!e.areAllScalesLinear()&&!sa(n.valueType)?new _(e,t,this,Ta(Z(n.valueType))):new _(e,t,this,n)};b.Assignment.prototype.analyze=function(e,t,r){if(Br(this))return Vr(e,t,this);var n=this._symbol;if(!e.validLHS(n))return new _(e,t,this,Um(n));if(fe[n])return this.asEquation().analyze(e,t);var i;if(this._expression instanceof b.FunctionCall&&Bp[this._expression._symbol]&&Yo(t,this).length===0)i=vv(this._expression).tryGetConcreteTree(e,t);else{var s=Object.create(t);s[n]=e.validSolvedVariable(n)?void 0:zs(),i=this.tryGetConcreteTree(e,s)}if(i.isError)return new _(e,t,this,i);if(!e.areAllScalesLinear()&&!sa(i.valueType))return new _(e,t,this,Ta(Z(i.valueType)));var o=i.getDependencies();if(this.isEquation(i))return this.asEquation().analyze(e,t);var a=i.valueType===et||i.valueType===rr;if(o.length>1||a&&o.length){var u=this.getSliderVariables(e,i);return a||u.length?new _(e,t,this,Tt(u).allowExport().setDependencies(u)):new _(e,t,this,i)}var l=this.getMoveStrategy(e,t,i,r,this.userData);if(l){var c=this.getDefaultDragMode(l);return new _(e,t,this,new b.MovablePoint([i.elementAt(0),i.elementAt(1)],l,c))}else return new _(e,t,this,i)};b.Regression.prototype.analyze=function(e,t,r,n,i){if(Br(this))return Vr(e,t,this);var s={policy:e,frame:t,exportFrame:r,lastExportFrame:n,priorAnalysis:i};return new _(e,t,this,Iv(s,this))};function $p(e,t){var r=this.tryGetConcreteTree(e,t),n=r.getDependencies();return n.length?new _(e,t,this,Tt(this.getSliderVariables(e,r)).setDependencies(n)):new _(e,t,this,this.tryGetConcreteTree(e,t))}b.Object3D.prototype.analyze=$p;b.Histogram.prototype.analyze=function(e,t){return Br(this)?Vr(e,t,this):e.areAllScalesLinear()?$p.call(this,e,t):new _(e,t,this,Ud())};b.DotPlot.prototype.analyze=function(e,t){return Br(this)?Vr(e,t,this):e.areAllScalesLinear()?$p.call(this,e,t):new _(e,t,this,Hd())};b.BoxPlot.prototype.analyze=function(e,t){return Br(this)?Vr(e,t,this):e.areAllScalesLinear()?$p.call(this,e,t):new _(e,t,this,$d())};function Ev(e){return function(t,r){if(Br(this))return Vr(t,r,this);var n=this.tryGetConcreteTree(t,r),i=n.getDependencies();if(i.length)return new _(t,r,this,Tt(this.getSliderVariables(t,n)).setDependencies(i));var s=new _(t,r,this,this.tryGetConcreteTree(t,r));if(!n.isError){s.evaluationState.expression_type="TTEST";var o=n.args.map(function(a){return a.asValue()});s.evaluationState.ttest_results=e.apply(null,o)}return s}}b.TTest.prototype.analyze=Ev(ug);b.IndependentTTest.prototype.analyze=Ev(lg);b.Stats.prototype.analyze=function(e,t){if(Br(this))return Vr(e,t,this);var r=this.tryGetConcreteTree(e,t),n=r.getDependencies();if(n.length)return new _(e,t,this,Tt(this.getSliderVariables(e,r)).setDependencies(n));var i=new _(e,t,this,this.tryGetConcreteTree(e,t));if(!r.isError){i.evaluationState.expression_type="STATS";var s=r.args.map(function(o){return o.asValue()});i.evaluationState.stats_results=cg.apply(null,s)}return i};b.Equation.prototype.analyze=b.BaseComparator.prototype.analyze=function(e,t){if(Br(this))return Vr(e,t,this);var r=this.getOperator()!=="=";if(!on.plotInequalities&&r)return new _(e,t,this,sc());var n=ev({policy:e,frame:t},this.asComparator());if(n.isError)return new _(e,t,this,n);if(n instanceof b.SolvedEquation&&n.getDependencies().length){var i=n.getDependencies().concat(n._symbol);if(!e.validImplicitVariables(i))return new _(e,t,this,zs().setDependencies(i))}return this.getGraphMode(e,n)===8&&!e.validImplicitVariables(n.getDependencies())?new _(e,t,this,zs().setDependencies(n.getDependencies())):new _(e,t,this,n)};b.DoubleInequality.prototype.analyze=function(e,t){if(Br(this))return Vr(e,t,this);if(!on.plotInequalities)return new _(e,t,this,sc());var r=this.tryGetConcreteTree(e,t);if(r.isError)return new _(e,t,this,r);var n=r.getDependencies();return Dr[this._operators[0]].direction!==Dr[this._operators[1]].direction?new _(e,t,this,Jm()):e.validDoubleInequalitySymbol(r._symbol)?e.validDoubleInequalityVariables(n)?n.length>2?new _(e,t,this,Tt(this.getSliderVariables(e,r)).setDependencies(n)):r._expressions[0].getDependencies().indexOf(r._symbol)!==-1||r._expressions[1].getDependencies().indexOf(r._symbol)!==-1?new _(e,t,this,ac().setDependencies(n)):new _(e,t,this,r):new _(e,t,this,oc().setDependencies(n)):new _(e,t,this,oc().setDependencies(n))};b.And.prototype.analyze=function(e,t){if(Br(this))return Vr(e,t,this);var r=this.tryGetConcreteTree(e,t);if(r.isError)return new _(e,t,this,r);var n=r.getDependencies();return n.length?e.validDoubleInequalityVariables(n)?new _(e,t,this,ac().setDependencies(n)):new _(e,t,this,Tt(this.getSliderVariables(e,r)).setDependencies(n)):new _(e,t,this,r)};b.ParenSeq.prototype.analyze=function(e,t,r){if(Br(this))return Vr(e,t,this);var n=this.tryGetConcreteTree(e,t);if(n.isError)return new _(e,t,this,n);var i=this.getMoveStrategy(e,t,n,r,this.userData);if(i){var s=this.getDefaultDragMode(i),o=n.asCompilerValue(),a=[new b.Constant(o[0]),new b.Constant(o[1])];return new _(e,t,this,new b.MovablePoint(a,i,s))}return Yh(e,t,this,n)};function vw(e,t){return e.filter(function(r){return!t[r]})}function Ew(e){for(var t={},r=0;r<e.length;r++){var n=e[r];if(n instanceof Ys&&n.header instanceof b.Identifier){var i=n.header._symbol;t[i]===void 0&&(t[i]=0),t[i]+=1}}return t}b.Table.prototype.analyze=function(e,t){var r=Object.create(t),n=[],i=Ew(this.columns),s;for(s=0;s<this.columns.length;s++){var o=this.columns[s];if(o instanceof Ys&&o.header instanceof b.Identifier){var a=o.header._symbol,u=r[a],l=i[a]>1;u&&u.isError&&(u.isTableCycleWithoutGlobalDefinition||u.isMultiplyDefinedByTables&&!l)&&(r[a]=void 0)}var c=o.analyze(e,r);if(s===0&&c.concreteTree.isIndependent){var p=c.concreteTree.getDependencies()[0];e.validFirstColumnVariable(p)||(c=new _(e,t,o,Zm()))}if(c.concreteTree.isIndependent)c.rawTree.exportToLocal(c.concreteTree,r);else if(!c.concreteTree.isError){var f=c.concreteTree.header.getDependencies(),m=vw(f,r);m.length&&(c=new _(e,t,o,Tt(m).setDependencies(m)))}n.push(c.concreteTree)}var d=1;for(s=0;s<n.length;s++)n[s].isError||(d=Math.max(n[s].values.length,d));for(s=0;s<n.length;s++)if(!n[s].isError&&n[s].header.isConstant){for(var y=[],g=0;g<d;g++)y.push(n[s].header);n[s]=new b.TableColumn(n[s].header,y)}var h=new b.Table(n),x=new _(e,t,this,h);return x.evaluationState.is_graphable=!0,x};b.TableColumn.prototype.analyze=function(e,t){var r=this.header.tableError();if(r)return new _(e,t,this,jm(r));var n=this.tryGetConcreteTree(e,t);if(n.isError)return new _(e,t,this,n);if(n.header.isError)return new _(e,t,this,n.header);if(n.values.isError)return new _(e,t,this,n.values);for(var i=0;i<n.values.length;i++)if(!n.values[i].isError){var s=this.values[i]&&this.values[i].tableError();if(s){n.values[i]=Oo(s);continue}var o=n.values[i].getDependencies();o.length&&(n.values[i]=Tt(o).setDependencies(o))}return new _(e,t,this,n)};b.Image.prototype.analyze=function(e,t,r){var n=this.tryGetConcreteTree(e,t);if(n.radianAngle.isError||n.center.isError||n.width.isError||n.height.isError||n.opacity.isError)return new _(e,t,this,n);var i=n.center.getDependencies(),s=n.radianAngle.getDependencies(),o=n.width.getDependencies(),a=n.height.getDependencies(),u=n.opacity.getDependencies();return i.length||s.length||o.length||a.length||u.length?new _(e,t,this,new b.Image({center:i.length?Tt(s).setDependencies(i):n.center,radianAngle:s.length?Tt(s).setDependencies(s):n.radianAngle,width:o.length?Tt(o).setDependencies(o):n.width,height:a.length?Tt(a).setDependencies(a):n.height,opacity:u.length?Tt(u).setDependencies(u):n.opacity})):(n.moveStrategy=this.getMoveStrategy(e,t,n,r,this.userData),new _(e,t,this,n))};b.Slider.prototype.analyze=function(e,t){if(Br(this))return Vr(e,t,this);var r=this.tryGetConcreteTree(e,t),n=r.sliderInfo,i;if(n.missingVars.length){var s=Wi(n.missingVars);i=new _(e,t,this,Tt(e.sliderVariables(s)).setDependencies(s).allowExport())}else i=new _(e,t,this,r);var o=i.evaluationState;if(on.sliders){o.assignment=n.exportedSymbol,o.slider_min_number=n.values.min,o.slider_max_number=n.values.max,o.slider_step_number=n.values.step,o.slider_min_valid=n.valids.min,o.slider_max_valid=n.valids.max,o.slider_step_valid=n.valids.step;var a=o.slider_min_valid&&o.slider_max_valid&&o.slider_step_valid;o.is_slider=!0,o.raw_slider_latex=this.getInputString(),o.is_slidable=a,o.is_animatable=o.is_slidable&&!o.is_graphable,n.errMsg&&(o.error=n.errMsg.getError())}return delete o.is_evaluable,delete o.zero_values,i};function Br(e){return"latex"in e.userData&&fi(e.userData.latex).slice(-1)==="="}function Vr(e,t,r){return new _(e,t,r,Ma("="))}function Sv(e){return e.concreteTree.isConstant&&e.concreteTree.valueType===I}b.Base.prototype.analyzeFourFunction=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?new _(e,t,this,r):new _(e,t,this,Te())};b.Expression.prototype.analyzeFourFunction=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return new _(e,t,this,r);var n=r.getDependencies();if(n.length>0){var i=n[0],s,o=fe[i];return o?s=o.isFunction?fn(i):Us(i):s=Ra(i),new _(e,t,this,s)}return new _(e,t,this,r)};b.Assignment.prototype.analyzeFourFunction=function(e,t){return new _(e,t,this,wa())};b.FunctionDefinition.prototype.analyzeFourFunction=function(e,t){return new _(e,t,this,La())};b.Equation.prototype.analyzeFourFunction=function(e,t){return new _(e,t,this,_i())};function Xh(e,t){return new _(e,t,this,Hs())}b.And.prototype.analyzeFourFunction=Xh;b.DoubleInequality.prototype.analyzeFourFunction=Xh;b.BaseComparator.prototype.analyzeFourFunction=Xh;b.Regression.prototype.analyzeFourFunction=function(e,t){return new _(e,t,this,$s())};b.ParenSeq.prototype.analyzeFourFunction=function(e,t){return new _(e,t,this,Ws())};b.Base.prototype.analyzeScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?new _(e,t,this,r):new _(e,t,this,Te())};b.Expression.prototype.analyzeScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return new _(e,t,this,r);var n=r.getDependencies();return n.length>0?new _(e,t,this,Tt(n)):new _(e,t,this,r)};b.Assignment.prototype.analyzeScientific=function(e,t){var r=this._symbol;if(fe[r])return new _(e,t,this,Eo(r));var n=Object.create(t);n[r]=_i();var i=this.tryGetConcreteTree(e,n);if(i.isError)return new _(e,t,this,i);var s=i.getDependencies();return this.isEquation(i)?new _(e,t,this,_i()):s.length>0?new _(e,t,this,Tt(s)):new _(e,t,this,i)};b.FunctionDefinition.prototype.analyzeScientific=function(e,t){if(fe[this._symbol])return new _(e,t,this,Eo(this._symbol));var r=this.tryGetConcreteTree(e,t);if(r.isError)return new _(e,t,this,r);var n=this._argSymbols,i=r.getDependencies();if(i.indexOf(this._symbol)!==-1)return new _(e,t,this,va(this._symbol));var s=i.filter(function(o){return n.indexOf(o)===-1});return s.length?new _(e,t,this,Ea(s,this._symbol,n)):new _(e,t,this,r)};b.Equation.prototype.analyzeScientific=function(e,t){return new _(e,t,this,_i())};function Jh(e,t){return new _(e,t,this,Hs())}b.And.prototype.analyzeScientific=Jh;b.DoubleInequality.prototype.analyzeScientific=Jh;b.BaseComparator.prototype.analyzeScientific=Jh;b.Regression.prototype.analyzeScientific=function(e,t){return new _(e,t,this,$s())};b.ParenSeq.prototype.analyzeScientific=function(e,t){return new _(e,t,this,Ws())};b.Base.prototype.analyzeSingleExpressionScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?new _(e,t,this,r):new _(e,t,this,Te())};b.Expression.prototype.analyzeSingleExpressionScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return new _(e,t,this,r);var n=r.getDependencies();if(n.length>0){var i=n[0],s,o=fe[i];return o?s=o.isFunction?fn(i):Us(i):s=Ra(i),new _(e,t,this,s)}return new _(e,t,this,r)};b.Assignment.prototype.analyzeSingleExpressionScientific=function(e,t){return new _(e,t,this,wa())};b.FunctionDefinition.prototype.analyzeSingleExpressionScientific=function(e,t){return new _(e,t,this,La())};b.Equation.prototype.analyzeSingleExpressionScientific=function(e,t){return new _(e,t,this,_i())};function jh(e,t){return new _(e,t,this,Hs())}b.And.prototype.analyzeSingleExpressionScientific=jh;b.DoubleInequality.prototype.analyzeSingleExpressionScientific=jh;b.BaseComparator.prototype.analyzeSingleExpressionScientific=jh;b.Regression.prototype.analyzeSingleExpressionScientific=function(e,t){return new _(e,t,this,$s())};b.ParenSeq.prototype.analyzeSingleExpressionScientific=function(e,t){return new _(e,t,this,Ws())};function Sw(e){return!e||e[0].type==="none"&&e[1].type==="none"?"NONE":e[1].type==="none"?"X":e[0].type==="none"?"Y":"XY"}function Ov(e,t){var r=Sw(t);switch(e){case"NONE":return"NONE";case"AUTO":return r;case"XY":return r;case"X":return r==="X"||r==="XY"?"X":"NONE";case"Y":return r==="Y"||r==="XY"?"Y":"NONE";default:return"NONE"}}b.Base.prototype.getGraphMode=function(e,t){return 10};function Ow(e,t){var r;return e&&e.hasOwnProperty("dragMode")?e.dragMode==="AUTO"?r=t.defaultDragMode:r=e.dragMode:r=t.defaultDragMode,Ov(r,t.moveStrategy)}function Nv(e,t){if(t.isMovablePoint&&Ow(this.userData,t)!=="NONE")return 4;var r=t.getDependencies();switch(t.valueType){case w:case Le:return r.length===0?3:e.validParametricVariables(r)?e.dimensions()===2?5:14:10;case I:case Y:return e.dimensions()===2&&r.length===1?2:e.dimensions()===3&&r.length===2?13:10;case ye:case zt:return 16;case Q:case jt:return 20;case X:case Zt:return 21;case ue:case Ct:return 17;case J:case Qt:return 18;case ge:case Kt:return 19;case xe:case vt:case le:case Et:return 23;default:return 10}}b.Expression.prototype.getGraphMode=Nv;function Dv(e,t){var r=t._expression.getDependencies();if(r.length>1)return 10;if(t._expression.isList&&t._expression.length===0)return 10;var n=t._symbol;return e.graphMode(n,r)}b.Equation.prototype.getGraphMode=b.BaseComparator.prototype.getGraphMode=function(e,t){var r=t.getDependencies();return t.isConstant?10:t instanceof b.SolvedEquation?r.length===0?e.graphableAsConstant(t._symbol)?e.constantGraphMode(t._symbol):10:Dv(e,t):r.length===1||r.length===2?8:10};b.DoubleInequality.prototype.getGraphMode=function(e,t){return e.constantGraphMode(t._symbol)};b.Assignment.prototype.getGraphMode=function(e,t){if(t instanceof b.SolvedEquation)return Dv(e,t);if(this.isEquation(t))return this.asEquation().getGraphMode(e,t);var r=t.getDependencies();switch(t.valueType){case I:case Y:case de:switch(r.length){case 0:return e.graphableAsConstant(this._symbol)?e.constantGraphMode(this._symbol):10;case 1:return t.valueType===Y&&!e.graphableListVariables(this._symbol,r[0])?10:this.isSlider?10:e.graphMode(this._symbol,r);case 2:return e.dimensions()===3&&this._symbol==="z"?13:10;default:return 10}break;default:return Nv.call(this,e,t)}};b.FunctionDefinition.prototype.getGraphMode=function(e,t){if(this._argSymbols.length!==1)return 10;var r=e.graphMode(this._symbol,this._argSymbols),n=t.getDependencies();switch(t.valueType){case I:case Y:switch(n.length){case 0:return r;case 1:return n[0]!==this._argSymbols[0]?10:r;default:return 10}break;default:return 10}};b.Regression.prototype.getGraphMode=function(e,t){return this.isLhsSimple?t.isModelValid?t.model.getDependencies().length!==1?10:2:10:10};function Kh(e,t){return t.isError?10:11}b.Object3D.prototype.getGraphMode=function(e,t){return t.isError?10:12};b.Histogram.prototype.getGraphMode=Kh;b.DotPlot.prototype.getGraphMode=Kh;b.BoxPlot.prototype.getGraphMode=Kh;b.Image.prototype.getGraphMode=function(e,t){return this.userData.showPoints?this.center.isError||this.radianAngle.isError||this.width.isError||this.height.isError||this.opacity.isError?10:3:10};var Aw={};an(Aw,{colors:()=>Lw,getDisplayColor:()=>Ni,invertColor:()=>Dw,isValidHexColor:()=>jp,mutateOpacity:()=>ww,normalizeColor:()=>eb,parseHex:()=>Rw,shadeColor:()=>Nw});function eb(e){return jp(e)?(e.match(/^#([A-Fa-f0-9]{3})$/g)&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]),e.toLowerCase()):e}function jp(e){return typeof e=="string"&&(e.match(/^#([A-Fa-f0-9]{3})$/g)||e.match(/^#([A-Fa-f0-9]{6})$/g))}function Nw(e,t){if(e=eb(e),!jp(e))return e;t>1&&(t=1),t<-1&&(t=-1);var r=parseInt(e.slice(1),16),n=t<0?0:255,i=t<0?t*-1:t,s=r>>16,o=r>>8&255,a=r&255;return"#"+(16777216+(Math.round((n-s)*i)+s)*65536+(Math.round((n-o)*i)+o)*256+(Math.round((n-a)*i)+a)).toString(16).slice(1)}function Dw(e){if(e=eb(e),!jp(e))return e;let t="0123456789abcdef";return"#"+e.slice(1).split("").map(r=>t[15-t.indexOf(r)]).join("")}function Rw(e){if(e=e.replace(/#/,""),e.length===3)var t=parseInt(e.slice(0,1)+e.slice(0,1),16),r=parseInt(e.slice(1,2)+e.slice(1,2),16),n=parseInt(e.slice(2,3)+e.slice(2,3),16);else if(e.length===6)var t=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),n=parseInt(e.slice(4,6),16);else var t=0,r=0,n=0;return{r:t,g:r,b:n}}function ww(e,t){let r=/(rgba\\([\\d]+\\,\\ ?[\\d]+\\,\\ ?[\\d]+\\,\\ ?)[\\d.]+(\\))/;return e.match(r)?e.replace(r,`$1${t}$2`):e}function Ni(e,t){if(t&&t.colorLatexValue){var r=t.colorLatexValue;return Array.isArray(r)?r[0]:r}return e.color}var Lw={RED:"#c74440",BLUE:"#2d70b3",GREEN:"#388c46",PURPLE:"#6042a6",ORANGE:"#fa7e19",BLACK:"#000000",GRAY:"#aaaaaa"};b.Base.prototype.getGraphInfo=function(e,t){var r=t.getDependencies(),n,i;switch(r.length){case 0:n=Rv(t),i=t.boundDomain("x");break;case 1:i=t.boundDomain(r[0]),i.type==="known"&&(n=Rv(t));break;case 2:i=Tr();break}return{graphMode:this.getGraphMode(e,t),color:Ni(this.userData,this.metaData),pointStyle:this.userData.pointStyle,lineStyle:this.userData.lineStyle,arrowMode:this.userData.arrowMode,operator:this.getOperator(),isLinear:!!n,linearCoefficients:n,domainBound:i}};function Rv(e){switch(e.valueType){case I:return tb(e);case w:{var t=tb(e.elementAt(0)),r=tb(e.elementAt(1));return!t||!r?void 0:[t,r]}default:return}}function tb(e){var t=e.getDependencies();switch(t.length){case 0:return[+e.asValue(),0];case 1:if(e.polynomialOrder(t[0])>1)return;var r=e.getPolynomialCoefficients(t[0]);return[r[0]?+r[0].asValue():0,r[1]?+r[1].asValue():0];default:return}}var wv=new b.Constant(ie(0,1));b.Base.prototype.getMoveStrategy=function(){};b.Assignment.prototype.getMoveStrategy=function(e,t,r,n,i){return this._expression.getMoveStrategy(e,t,r,n,i)};function Cw(e){return{type:"updateSliderNonlinear",id:e.id,initialValue:e.initialValue,min:e.min,max:e.max,compiled:e.compiled,movesOn:e.movesOn,hasLinearComponent:e.hasLinearComponent}}function _w(e){return{type:"updateGliderParameter",span:e.span,movesOn:e.movesOn}}function Fw(e){return{type:"updateSliderForGlider",id:e.sliderId,movesOn:e.movesOn,min:e.min,max:e.max}}function Lv(e,t,r,n,i,s){var o=t.getDependencies();for(let g of o)if(i[g])return;for(var a=o.length-1;a>=0;a--){var u=o[a];if(!s[u]){var l=n[u];if(l!==void 0){var c=r[u];if(c.order===1){var p=c.tree,f=p.getPolynomialCoefficients(u),m=f[1]||wv,d=f[0]||wv;if(!(!d.isConstant||!m.isConstant)&&!(!isFinite(d.asValue())||!isFinite(m.asValue()))&&m.asValue()!==0){var y=[-d.asValue()/m.asValue(),1/m.asValue()];return{symbol:u,id:l,coefficients:y}}}}}}}function Bw(e,t){for(var r in t){var n=t[r].evaluationState,i=n.assignment;if(i===e)return r}}function Vw(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}function rb(e,t){var r=Vw(e),n={};for(var i in t){var s=t[i].evaluationState.assignment;t[i].evaluationState.is_slidable&&r[s]&&(n[s]=i)}return n}function Av(e,t,r,n){for(var i=[],s=0;s<r.length;s++){var o=r[s],a={};i.push(a);for(var u=0;u<n.length;u++){var l=n[u],c=Object.create(t);c[l]=void 0;var p=o.tryGetConcreteTree(e,c);if(p.isError){a[l]={tree:p,order:1/0};continue}else a[l]={tree:p,order:p.polynomialOrder(l)}}}return i}function Cv(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];t[i].order!==0&&(r[i]=!0)}}b.ParenSeq.prototype.getMoveStrategy=function(e,t,r,n,i){if(r.valueType!==w||r.getDependencies().length!==0)return;for(var s=this.getDependencies(),o=rb(s,n),a=Object.keys(o),u=this.args,l=Av(e,t,u,a),c=[],p={},f={},m=0;m<2;m++){var d=u[m];if(d.isConstant){c[m]={type:"updateCoordinate",inputSpan:d.getInputSpan()};continue}var y=Lv(e,d,l[m],o,p,f);y&&(c[m]={type:"updateSlider",id:y.id,coefficients:y.coefficients},p[y.symbol]=!0,Cv(a,l[m],f)),c[m]||(c[m]={type:"none"})}let[g,h]=c,x;if(g.type==="none"&&h.type==="none"&&a.length===1&&(x=a[0]),!x)return g.type!=="none"||h.type!=="none"?c:void 0;var P=o[x],D;try{var M=Object.create(t);M[x]=void 0,D=this.getConcreteTree(e,M).getCompiledFunction()}catch(S){return}vg(D);var E=n[P].evaluationState;return[Cw({id:P,initialValue:E.constant_value,min:E.slider_min_number,max:E.slider_max_number,compiled:D,hasLinearComponent:g.type==="updateSlider"||h.type==="updateSlider"}),{type:"none"}]};b.FunctionCall.prototype.getMoveStrategy=function(e,t,r,n,i){if(this._symbol==="glider"&&!(!r.isTypedConstant||r.valueType!==w)){var s,o,a;switch(this.args[1].type){case"Constant":{var u=this.args[1].asValue();return typeof u!="number"||(s=this.args[0].getConcreteTree(e,t),!s.isTypedConstant)?void 0:(a=s.asTypedValue(),[_w({span:this.args[1].getInputSpan(),movesOn:a}),{type:"none"}])}case"Identifier":{var l=this.args[1]._symbol,c=rb([l],n),p=c[l];if(p===void 0)return;var f=n[p].evaluationState,m=Object.create(t);return m[l]=void 0,s=this.args[0].getConcreteTree(e,m),s.isTypedConstant?(a=s.asTypedValue(),o={min:f.slider_min_number,max:f.slider_max_number},[Fw({min:o.min,max:o.max,movesOn:a,sliderId:p}),{type:"none"}]):void 0}default:return}}};b.Image.prototype.getMoveStrategy=function(e,t,r,n,i){if(!(r.center.valueType!==w||r.center.getDependencies().length!==0||!r.width.isConstant||!r.height.isConstant||!r.radianAngle.isConstant||!r.opacity.isConstant)){var s=this.getDependencies(),o=rb(s,n),a=Object.keys(o),u=[this.width,this.height];this.center.type==="ParenSeq"?u.push(this.center.args[0],this.center.args[1]):this.center.type==="Identifier"&&(this.center.referencedStatementId=Bw(this.center._symbol,n));for(var l={},c={},p=Av(e,t,u,a),f=[],m=[2,3,0,1],d=0;d<m.length;d++){var y=m[d],g=u[y];if(!g){f[y]={type:"none"};continue}if(g.isConstant){f[y]={type:"updateCoordinate",inputSpan:g.getInputSpan()};continue}var h=Lv(e,g,p[y],o,l,c);h&&(f[y]={type:"updateSlider",id:h.id,coefficients:h.coefficients},l[h.symbol]=!0,Cv(a,p[y],c)),f[y]||(f[y]={type:"none"})}if(!(f[0].type==="none"&&f[1].type==="none"&&f[2].type==="none"&&f[3].type==="none"))return f}};b.Base.prototype.getDefaultDragMode=function(e){return"NONE"};b.Assignment.prototype.getDefaultDragMode=function(e){return e[0].type!=="none"&&e[1].type!=="none"?"XY":e[0].type!=="none"?"X":e[1].type!=="none"?"Y":"NONE"};b.ParenSeq.prototype.getDefaultDragMode=function(e){return e[0].type==="updateSlider"&&e[1].type==="updateSlider"?"XY":e[0].type==="updateSlider"?"X":e[1].type==="updateSlider"?"Y":e[0].type==="updateSliderNonlinear"&&e[0].hasLinearComponent?"X":"NONE"};b.FunctionCall.prototype.getDefaultDragMode=function(e){return this._symbol!=="glider"?"NONE":b.Assignment.prototype.getDefaultDragMode.call(this,e)};var Gw=b.List;b.Base.prototype.tableInfo=function(e,t){return!1};b.Identifier.prototype.tableInfo=function(e,t){return e.validFirstColumnVariable(this._symbol)?{independent_variable:this._symbol,dependent_column:this.getInputString(),by_reference:!1}:!1};b.Expression.prototype.tableInfo=function(e,t){var r=t.getDependencies();if(ms(this))return!1;switch(t.valueType){case w:case Le:if(r.length!==0||t.isMovablePoint&&(t.moveStrategy[0].type==="updateSlider"||t.moveStrategy[1].type==="updateSlider"))return!1;var n=Gw.wrap(t).asValue();return{independent_variable:"x",dependent_column:"y",by_reference:!1,values:n};case I:if(r.length!==1)return!1;var i=r[0];return e.validFirstColumnVariable(i)?{independent_variable:i,dependent_column:this.getInputString(),by_reference:!1}:!1;default:return!1}};b.Assignment.prototype.tableInfo=function(e,t){if(t instanceof b.SolvedEquation||!this.getInputString().length||ms(this))return!1;var r=t.getDependencies();if(r.length>1)return!1;var n;if(r.length===0){if(!e.tableableAsConstant(this._symbol))return!1;n=e.implicitIndependent(this._symbol)}else n=r[0];if(!e.validFirstColumnVariable(n))return!1;var i=e.assignmentForbidden(this._symbol)?fi(this.getInputString().replace(/[^=]*=/,"")):fi(this.getInputString().split("=")[0]);return{independent_variable:n,dependent_column:i,by_reference:!e.assignmentForbidden(this._symbol)}};b.FunctionDefinition.prototype.tableInfo=function(e,t){if(this._argSymbols.length!==1||!this.getInputString().length)return!1;var r=t.getDependencies();if(r.length>1)return!1;var n=this._argSymbols[0];if(!e.validFirstColumnVariable(n))return!1;var i=e.assignmentForbidden(this._symbol),s=i?fi(this.getInputString().replace(/[^=]*=/,"")):fi(this.getInputString().split("=")[0]);return{independent_variable:n,dependent_column:s,by_reference:!i}};b.BaseComparator.prototype.tableInfo=function(e,t){return!1};b.DoubleInequality.prototype.tableInfo=function(e,t){return!1};b.Equation.prototype.tableInfo=function(e,t){return!1};b.Base.prototype.tableError=function(){return this.isInequality()?T("shared-calculator-error-table-inequality-supplement"):!(this instanceof b.Expression)&&!(this instanceof b.IRExpression)?T("shared-calculator-error-table-generic-supplement"):!1};b.List.prototype.tableError=function(){return T("shared-calculator-error-table-list-supplement")};b.Equation.prototype.tableError=b.Assignment.prototype.tableError=function(){return T("shared-calculator-error-table-equation-supplement")};b.FunctionDefinition.prototype.tableError=function(){return T("shared-calculator-error-table-function-definition-supplement")};b.Regression.prototype.tableError=function(){return T("shared-calculator-error-table-regression-supplement")};var qi=class{constructor(t){this.xtolerance=t.xtolerance||t.tolerance||0,this.ytolerance=t.ytolerance||t.tolerance||0,this.ztolerance=t.ztolerance||t.tolerance||0,this.map=t.map,this.segments=[],this.segment=[],this.pivotPoint=void 0,this.pendingPoint=void 0}colinear(t,r,n){this.map&&(t=this.map(t),r=this.map(r),n=this.map(n));var i=Un(n[0],n[1],n[2]||0,t[0],t[1],t[2]||0,r[0],r[1],r[2]||0);if(i<1)return!1;var s=[t[0]+i*(r[0]-t[0]),t[1]+i*(r[1]-t[1]),t.length===3?t[2]+i*(r[2]-t[2]):0];return Math.abs(n[0]-s[0])<=this.xtolerance&&Math.abs(n[1]-s[1])<=this.ytolerance&&(t.length===2||Math.abs(n[2]-s[2])<=this.ztolerance)}addPoint(t){if(this.dimensions=t.length,this.xtolerance<0&&this.ytolerance<0&&(this.dimensions===2||this.ztolerance<0)){this.segment.push.apply(this.segment,t);return}if(!this.segment.length){this.segment.push.apply(this.segment,t);return}let r=this.dimensions===2?[this.segment[this.segment.length-2],this.segment[this.segment.length-1]]:[this.segment[this.segment.length-3],this.segment[this.segment.length-2],this.segment[this.segment.length-1]];if(!(t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2])){if(!this.pivotPoint||!this.pendingPoint){this.pivotPoint=t,this.pendingPoint=t;return}(!this.colinear(r,this.pivotPoint,t)||Sn(r[0]-t[0],r[1]-t[1],(r[2]||0)-(t[2]||0))<Sn(r[0]-this.pendingPoint[0],r[1]-this.pendingPoint[1],(r[2]||0)-(this.pendingPoint[2]||0)))&&(this.flushPending(),this.pivotPoint=t),this.pendingPoint=t}}flushPending(){this.pendingPoint&&(this.segment.push.apply(this.segment,this.pendingPoint),this.pivotPoint=void 0,this.pendingPoint=void 0)}breakSegment(){this.flushPending(),this.segment.length>(this.dimensions||2)&&this.segments.push(this.segment),this.segment=[]}getSegments(){return this.breakSegment(),this.segments}finish(){return{segments:this.getSegments(),resolved:!0}}};var Fv=5,qw=Math.pow(2,14);function Bv(e,t){let r=kw(e,t);return{segments:r.contours.strokeSegments,fillSegments:r.contours.fillSegments,resolved:r.quadTree.resolved}}function kw(e,t){let r=Math.pow(2,-Fv),n=_v(t,r),i=_v(t,2*r),s=zw(e,n,i),o=Jw(s.root,e,n),a=eL(o,e,n);return{paddedDomain:n,rootDomain:i,quadTree:s,triangles:o,contours:a}}function ea(e,t,r){return{x:e,y:t,z:r}}function Zp(e,t,r){return{x:e,y:t,isZero:r}}function Qp(e,t,r){return{vertices:[e,t,r],visited:!1,next:void 0}}function _v(e,t){let{mathToPixels:r}=e,n=r.interpolateX(e.xmin,e.xmax,-t),i=r.interpolateX(e.xmax,e.xmin,-t),s=r.interpolateY(e.ymin,e.ymax,-t),o=r.interpolateY(e.ymax,e.ymin,-t);return oe(z({},e),{xmin:n,ymin:s,xmax:i,ymax:o})}function du(e,t){return{depth:e,vertices:t,children:void 0,center:void 0}}function nb(e,t,r){e.center=Vv(e.vertices[0],e.vertices[1],e.vertices[2],e.vertices[3],t,r)}function zw(e,t,r){let n=Uw(e,r),i=[],s=[];s.push(n);let o=1,a=!0;e:for(;s.length;){let u=i;i=s,s=u;let l;for(;l=i.pop();)if($w(l,e,t)){if(Hw(l,e,t),!l.children){a=!1;break e}if(s.push(l.children[0]),s.push(l.children[1]),s.push(l.children[2]),s.push(l.children[3]),o+=3,o>=qw){a=!1;break e}}else nb(l,e,t)}for(let u=0;u<i.length;u++)nb(i[u],e,t);for(let u=0;u<s.length;u++)nb(s[u],e,t);return{root:n,resolved:a}}function Uw(e,t){let r=t.xmin,n=t.xmax,i=t.ymin,s=t.ymax;return du(0,[Ko(r,s,e),Ko(n,s,e),Ko(n,i,e),Ko(r,i,e)])}function Hw(e,t,r){let n=e.depth+1,i=e.vertices[0],s=e.vertices[1],o=e.vertices[2],a=e.vertices[3],u=Ar(i,s,t,r),l=Ar(s,o,t,r),c=Ar(o,a,t,r),p=Ar(a,i,t,r),f=Ar(i,o,t,r);e.children=[du(n,[i,u,f,p]),du(n,[u,s,l,f]),du(n,[f,l,o,c]),du(n,[p,f,c,a])]}function $w(e,t,r){if(e.depth<Fv)return!0;if(Yw(e,r)||Ww(e,r))return!1;let n=e.vertices[0],i=e.vertices[1],s=e.vertices[2],o=e.vertices[3];if(isNaN(n.z)&&isNaN(i.z)&&isNaN(s.z)&&isNaN(o.z))return!1;if(isNaN(n.z)||isNaN(i.z)||isNaN(s.z)||isNaN(o.z))return!0;let a=Vv(n,i,s,o,t,r),u=Ri(n,i,t,r),l=Ri(i,s,t,r),c=Ri(s,o,t,r),p=Ri(o,n,t,r);return bs(n,u,t,r)||bs(i,u,t,r)||bs(i,l,t,r)||bs(s,l,t,r)||bs(s,c,t,r)||bs(o,c,t,r)||bs(o,p,t,r)||bs(n,p,t,r)||hs(n,u,a,t,r)||hs(u,i,a,t,r)||hs(i,l,a,t,r)||hs(l,s,a,t,r)||hs(s,c,a,t,r)||hs(c,o,a,t,r)||hs(o,p,a,t,r)||hs(p,n,a,t,r)}function hs(e,t,r,n,i){if(e.z>0==t.z>0&&t.z>0==r.z>0)return!1;let s,o,a,u;if(e.z>0==t.z>0){if(s=Ar(e,t,n,i),s.z>0!=e.z>0)return!0;o=Di(e,r,n,i),a=Di(t,r,n,i),u=Di(s,r,n,i)}else if(t.z>0==r.z>0){if(s=Ar(t,r,n,i),s.z>0!=t.z>0)return!0;o=Di(t,e,n,i),a=Di(r,e,n,i),u=Di(s,e,n,i)}else{if(s=Ar(r,e,n,i),s.z>0!=r.z>0)return!0;o=Di(r,t,n,i),a=Di(e,t,n,i),u=Di(s,t,n,i)}let{mathToPixels:l}=i,[c,p]=l.mapCoordinatePair([u.x,u.y]),[f,m]=l.mapCoordinatePair([o.x,o.y]),[d,y]=l.mapCoordinatePair([a.x,a.y]);return Ab(c,p,f,m,d,y)>i.tolerance}function bs(e,t,r,n){if(isNaN(e.z)&&isNaN(t.z))return!1;if(isNaN(e.z)||isNaN(t.z))return e.z>0||t.z>0;let s=4*Ar(e,t,r,n).z-t.z-3*e.z,o=1e-4,a=(r((1-o)*e.x+o*t.x,(1-o)*e.y+o*t.y)-e.z)/o,u=Math.max(Math.abs(e.z),Math.abs(t.z));return Math.abs(s-a)>.125*u}function Ww(e,t){let{mathToPixels:r}=t,[n,i]=r.mapCoordinatePair([e.vertices[1].x,e.vertices[1].y]),[s,o]=r.mapCoordinatePair([e.vertices[0].x,e.vertices[0].y]),[a,u]=r.mapCoordinatePair([e.vertices[3].x,e.vertices[3].y]);return Math.abs(n-s)<10*t.tolerance||Math.abs(o-u)<10*t.tolerance}function Yw(e,t){return e.vertices[0].x<t.xmin||e.vertices[0].y>t.ymax||e.vertices[2].x>t.xmax||e.vertices[2].y<t.ymin}function ta(e,t){return e.x<t.xmin||e.x>t.xmax||e.y<t.ymin||e.y>t.ymax}function Ko(e,t,r){return ea(e,t,r(e,t))}function Ar(e,t,r,n){let{mathToPixels:i}=n;return Ko(i.interpolateX(e.x,t.x,.5),i.interpolateY(e.y,t.y,.5),r)}function Ri(e,t,r,n){if(ta(e,n)||ta(t,n))return Ar(e,t,r,n);if(isNaN(e.z)||isNaN(t.z))return Xw(e,t,r,n);if(e.z>0!=t.z>0)return Ar(e,t,r,n);let i=.01,s=r((1-i)*e.x+i*t.x,(1-i)*e.y+i*t.y)-e.z,o=t.z-r(i*e.x+(1-i)*t.x,i*e.y+(1-i)*t.y);return isNaN(s)||isNaN(o)||s>0==o>0?Ar(e,t,r,n):Gv(ea(e.x,e.y,s),ea(t.x,t.y,o),r,n)}function Vv(e,t,r,n,i,s){let o=Ri(e,r,i,s);return e.z>0==r.z>0&&o.z>0!=e.z>0||(o=Ri(t,n,i,s),t.z>0==n.z>0&&o.z>0!=t.z>0)?o:Ar(e,r,i,s)}function Gv(e,t,r,n){if(isNaN(e.z))return t;if(isNaN(t.z))return e;if(!isFinite(e.z)&&!isFinite(t.z))return Ar(e,t,r,n);if(isFinite(e.z))if(isFinite(t.z)){let i=1-e.z/t.z,s=1-t.z/e.z;return Ko(e.x/i+t.x/s,e.y/i+t.y/s,r)}else return e;else return t}function Di(e,t,r,n){let{mathToPixels:i}=n,s=e.x,o=t.x,a=e.y,u=t.y,l=e.z,c=t.z;if(ta(e,n)||ta(t,n)){let y=Ar(e,t,r,n);return Zp(y.x,y.y,!1)}let[p,f]=i.mapCoordinatePair([s,a]),[m,d]=i.mapCoordinatePair([o,u]);for(;Math.abs(p-m)>n.tolerance||Math.abs(f-d)>n.tolerance;){let y=.5*(s+o),g=.5*(a+u),h=r(y,g);h>0==l>0?(s=y,a=g,l=h):(o=y,u=g,c=h),[p,f]=i.mapCoordinatePair([s,a]),[m,d]=i.mapCoordinatePair([o,u])}if(isNaN(l))return Zp(o,u,!1);if(isNaN(c))return Zp(s,a,!1);{let y=Gv(ea(s,a,l),ea(o,u,c),r,n),g=l===0||c===0||y.z===0||y.z>=l==c>=y.z&&Math.abs(y.z)<1e250;return Zp(y.x,y.y,g)}}function Xw(e,t,r,n){let{mathToPixels:i}=n;if(isNaN(e.z)===isNaN(t.z))return Ar(e,t,r,n);if(isNaN(e.z)){let d=e;e=t,t=d}let s=e.x,o=t.x,a=e.y,u=t.y,l=e.z,[c,p]=i.mapCoordinatePair([s,a]),[f,m]=i.mapCoordinatePair([o,u]);for(;Math.abs(c-f)>n.tolerance||Math.abs(p-m)>n.tolerance;){let d=.5*(s+o),y=.5*(a+u),g=r(d,y);isNaN(g)===isNaN(l)?(s=d,a=y,l=g):(o=d,u=y),[c,p]=i.mapCoordinatePair([s,a]),[f,m]=i.mapCoordinatePair([o,u])}return ea(s,a,l)}function Jw(e,t,r){let n={triangles:[],edgeCache:{},domain:r,fn:t};return mu(e,n),n.triangles}function mu(e,t){e.children&&(mu(e.children[0],t),mu(e.children[1],t),mu(e.children[2],t),mu(e.children[3],t),xs(e.children[0],e.children[1],t),xs(e.children[3],e.children[2],t),Ps(e.children[1],e.children[2],t),Ps(e.children[0],e.children[3],t))}function xs(e,t,r){e.children&&t.children?(xs(e.children[1],t.children[0],r),xs(e.children[2],t.children[3],r)):e.children?(xs(e.children[1],t,r),xs(e.children[2],t,r)):t.children?(xs(e,t.children[0],r),xs(e,t.children[3],r)):jw(e,t,r)}function Ps(e,t,r){e.children&&t.children?(Ps(e.children[2],t.children[1],r),Ps(e.children[3],t.children[0],r)):e.children?(Ps(e.children[2],t,r),Ps(e.children[3],t,r)):t.children?(Ps(e,t.children[1],r),Ps(e,t.children[0],r)):Zw(e,t,r)}function jw(e,t,r){if(!e.center||!t.center)return;let n,i;e.depth>=t.depth?(n=Ri(e.vertices[1],e.vertices[2],r.fn,r.domain),i=tf(e.vertices[1],t.center,e.vertices[2],e.center,n)):(n=Ri(t.vertices[0],t.vertices[3],r.fn,r.domain),i=tf(t.vertices[0],t.center,t.vertices[3],e.center,n)),qv(i,r.edgeCache,r.domain);for(let s=0;s<4;s++)r.triangles.push(i[s])}function Zw(e,t,r){if(!e.center||!t.center)return;let n,i;e.depth>=t.depth?(n=Ri(e.vertices[3],e.vertices[2],r.fn,r.domain),i=tf(e.vertices[2],t.center,e.vertices[3],e.center,n)):(n=Ri(t.vertices[1],t.vertices[0],r.fn,r.domain),i=tf(t.vertices[1],t.center,t.vertices[0],e.center,n)),qv(i,r.edgeCache,r.domain);for(let s=0;s<4;s++)r.triangles.push(i[s])}function tf(e,t,r,n,i){return[Qp(e,i,t),Qp(t,i,r),Qp(r,i,n),Qp(n,i,e)]}function yu(e,t,r){return e.z>0&&!ta(e,r)&&(!(t.z>0)||ta(t,r))}function Kp(e,t){return""+e.x+","+e.y+","+t.x+","+t.y}function qv(e,t,r){ef(e[0],e[1],e[2],Kp(e[1].vertices[2],e[1].vertices[0]),t,r),ef(e[1],e[2],e[3],Kp(e[2].vertices[0],e[2].vertices[2]),t,r),ef(e[2],e[3],e[0],Kp(e[3].vertices[2],e[3].vertices[0]),t,r),ef(e[3],e[0],e[1],Kp(e[0].vertices[0],e[0].vertices[2]),t,r)}function ef(e,t,r,n,i,s){let o=t.vertices[0],a=t.vertices[1],u=t.vertices[2];yu(a,u,s)&&(t.next=r),yu(o,a,s)&&(t.next=e),yu(u,o,s)&&Kw(t,n,i),yu(o,u,s)&&Qw(t,n,i)}function Qw(e,t,r){r[t]?r[t].next=e:r[t]=e}function Kw(e,t,r){r[t]?e.next=r[t]:r[t]=e}function eL(e,t,r){let{tolerance:n,mathToPixels:i}=r,s={tolerance:n,map:a=>i.mapCoordinatePair(a)},o={fillAccumulator:new qi(s),strokeAccumulator:new qi(s),fn:t,domain:r};for(let a=0;a<e.length;a++){let u=e[a];u.next&&!u.visited&&tL(u,o)}return{strokeSegments:o.strokeAccumulator.finish().segments,fillSegments:o.fillAccumulator.finish().segments}}function tL(e,t){for(;;){let r=e.vertices[0],n=e.vertices[1],i=e.vertices[2];if(ib(r,n,t),ib(n,i,t),ib(i,r,t),e.visited||!e.next)break;e.visited=!0,e=e.next}t.strokeAccumulator.breakSegment(),t.fillAccumulator.breakSegment()}function ib(e,t,r){if(yu(e,t,r.domain)){let n=Di(e,t,r.fn,r.domain);r.fillAccumulator.addPoint([n.x,n.y]),n.isZero?r.strokeAccumulator.addPoint([n.x,n.y]):r.strokeAccumulator.breakSegment()}}function sb(e){return Math.abs(e)<5e-8}var gu=class extends qi{constructor(r,n,i){let{tolerance:s,mathToPixels:o}=r;super({tolerance:s,map:a=>o.mapCoordinatePair(a)});this.fn=n,this.mappedFn=a=>o.mapY(n(a)),this.derivative=i,this.poiData={zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}},this.zeroBuffer=[],this.extremumBuffer=[]}getPOI(){return on.pointsOfInterest?(this.poiData.intercept=this.findIntercept(this.fn),this.poiData):{zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}}}addPoint(r){this.segment.length===0&&sb(r[1])&&(this.poiData.zeros.x.push(r[0]),this.poiData.zeros.y.push(r[1])),this.updateZeroBuffer(r),this.updateExtremumBuffer(r),super.addPoint(r)}updateZeroBuffer(r){let[n,i]=this.map?this.map(r):r;if(!isFinite(n)||!isFinite(i)){this.zeroBuffer.length=0;return}switch(this.zeroBuffer.length){case 0:{if(sb(r[1]))return;this.zeroBuffer.push(r);return}case 1:if(r[1]===0){this.zeroBuffer.push(r);return}else if(r[1]>0!=this.zeroBuffer[0][1]>0){let s=Hy(this.zeroBuffer[0][0],this.zeroBuffer[0][1],r[0],r[1],this.fn);s&&(this.poiData.zeros.x.push(s[0]),this.poiData.zeros.y.push(s[1])),this.zeroBuffer.length=0,this.zeroBuffer.push(r);return}else{this.zeroBuffer.length=0,this.zeroBuffer.push(r);return}case 2:{if(r[1]===0)return;if(r[1]>0!=this.zeroBuffer[0][1]>0){let s=qa(this.zeroBuffer[0][0],this.zeroBuffer[0][1],this.zeroBuffer[1][0],this.zeroBuffer[1][1],r[0],r[1],this.fn);s&&(this.poiData.zeros.x.push(s[0]),this.poiData.zeros.y.push(s[1])),this.zeroBuffer.length=0,this.zeroBuffer.push(r);return}else{this.zeroBuffer.length=0,this.zeroBuffer.push(r);return}}}}updateExtremumBuffer(r){let[n,i]=this.map?this.map(r):r;if(!isFinite(n)||!isFinite(i)){this.extremumBuffer.length=0;return}switch(this.extremumBuffer.length){case 0:{this.extremumBuffer.push(r);return}case 1:{r[1]===this.extremumBuffer[0][1]&&(this.extremumBuffer.length=0),this.extremumBuffer.push(r);return}case 2:if(r[1]===this.extremumBuffer[1][1]){this.extremumBuffer.push(r);return}else if(r[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){let s=this.bisectExtremumUsingDerivative(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],r[0],r[1]);s&&(this.poiData.extrema.x.push(s[0]),this.poiData.extrema.y.push(s[1]),!Ao(this.extremumBuffer[0][0],this.mappedFn(this.extremumBuffer[0][0]),s[0],this.mappedFn(s[0]),r[0],this.mappedFn(r[0]),this.mappedFn,this.ytolerance)&&s[0]>this.segment[this.segment.length-2]&&(this.pendingPoint=s)),this.extremumBuffer.shift(),this.extremumBuffer.push(r);return}else{this.extremumBuffer.shift(),this.extremumBuffer.push(r);return}case 3:{if(r[1]===this.extremumBuffer[1][1])return;if(r[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){let s,o=.5*(this.extremumBuffer[1][0]+this.extremumBuffer[2][0]),a=this.fn(o);a===this.extremumBuffer[1][1]?s=qa(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],r[0],r[1],this.fn):s=this.bisectExtremumUsingDerivative(this.extremumBuffer[1][0],this.extremumBuffer[1][1],o,a,this.extremumBuffer[2][0],this.extremumBuffer[2][1]),s&&(this.poiData.extrema.x.push(s[0]),this.poiData.extrema.y.push(s[1])),this.extremumBuffer.shift(),this.extremumBuffer.shift(),this.extremumBuffer.push(r);return}else{this.extremumBuffer.shift(),this.extremumBuffer.shift(),this.extremumBuffer.push(r);return}}}}bisectExtremumUsingDerivative(r,n,i,s,o,a){let u;if(this.derivative){let l=this.derivative(r),c=this.derivative(o);if(!isNaN(l)&&!isNaN(c)&&(s>n&&l>0&&c<0||s<n&&l<0&&c>0)){let p=Hy(r,l,o,c,this.derivative);p&&(u=[p[0],this.fn(p[0])])}}return u||(u=$P(r,n,i,s,o,a,this.fn)),u}breakSegment(){this.zeroBuffer.length=0,this.extremumBuffer.length=0,this.flushPending(),this.segment.length>2&&(this.segments.push(this.segment),sb(this.segment[this.segment.length-1])&&(this.poiData.zeros.x.push(this.segment[this.segment.length-2]),this.poiData.zeros.y.push(this.segment[this.segment.length-1]))),this.segment=[]}findIntercept(r){if(!r)return{x:[],y:[]};let n=r(0);return isFinite(n)?{x:[0],y:[r(0)]}:{x:[],y:[]}}finish(){return{segments:this.getSegments(),resolved:!0,poi:this.getPOI()}}};var rL=e=>{for(var t=[],r=[],n=e.length,i=0;i<n;i++)t.push(e[i][0]),r.push(e[i][1]);return{defined:{x:t,y:r}}},Gn=rL;function kv(e,t){return{type:"linear",s:e,t}}function zv(e,t){return{type:"logarithmic",s:e,t}}function Uv(e,t){return{type:"exponential",s:e,t}}function nL([e,t],[r,n]){let i=(n-r)/(t-e),s=(t*r-e*n)/(t-e);return kv(i,s)}function iL([e,t],[r,n]){let i=(n-r)/(Math.log(t)-Math.log(e)),s=(Math.log(t)*r-Math.log(e)*n)/(Math.log(t)-Math.log(e));return zv(i,s)}function sL([e,t],[r,n]){let i=(Math.log(n)-Math.log(r))/(t-e),s=(t*Math.log(r)-e*Math.log(n))/(t-e);return Uv(i,s)}function ob(e,t,r){switch(e){case"linear":return nL(t,r);case"logarithmic":return iL(t,r);case"exponential":return sL(t,r);default:{let n=e;throw new Error("Unexpected scale type: "+n)}}}function ab({type:e,s:t,t:r},n){switch(e){case"linear":return t*n+r;case"logarithmic":return t*Math.log(n)+r;case"exponential":return Math.exp(t*n+r);default:let i=e;throw new Error("Unexpected scale type: "+i)}}function ub({type:e},t,r,n){switch(e){case"linear":return oL(t,r,n);case"logarithmic":return Math.pow(t,1-n)*Math.pow(r,n);case"exponential":return n===0?t:n===1?r:Math.log((1-n)*Math.exp(t)+n*Math.exp(r));default:let i=e;throw new Error("Unexpected scale type: "+i)}}function oL(e,t,r){return(1-r)*e+r*t}function lb({type:e,s:t,t:r}){switch(e){case"linear":return kv(1/t,-r/t);case"logarithmic":return Uv(1/t,-r/t);case"exponential":return zv(1/t,-r/t);default:let n=e;throw new Error("Unexpected scale type: "+n)}}function Hv({width:e,height:t}){return{left:0,right:e,top:0,bottom:t}}function $v({xmin:e,xmax:t,ymin:r,ymax:n}){return{left:e,right:t,bottom:r,top:n}}var Ts=class{constructor(t,r){this.xScale=t,this.yScale=r}static fromRects(t,r,{xAxisScale:n,yAxisScale:i}){return new Ts(ob(n,[t.left,t.right],[r.left,r.right]),ob(i,[t.bottom,t.top],[r.bottom,r.top]))}inverse(){return new Ts(lb(this.xScale),lb(this.yScale))}mapX(t){return ab(this.xScale,t)}mapY(t){return ab(this.yScale,t)}mapPoint({x:t,y:r}){return{x:this.mapX(t),y:this.mapY(r)}}mapCoordinatePair([t,r]){return[this.mapX(t),this.mapY(r)]}mapRect({top:t,bottom:r,left:n,right:i}){return{left:this.mapX(n),right:this.mapX(i),bottom:this.mapY(r),top:this.mapY(t)}}interpolateX(t,r,n){return ub(this.xScale,t,r,n)}interpolateY(t,r,n){return ub(this.yScale,t,r,n)}dangerouslyGetXScaleFactor(){if(this.xScale.type!=="linear")throw new Error(`Cannot get scale factor a \'${this.xScale.type}\' scale`);return this.xScale.s}dangerouslyGetYScaleFactor(){if(this.yScale.type!=="linear")throw new Error(`Cannot get scale factor a \'${this.yScale.type}\' scale`);return this.yScale.s}};function Wv(){return{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}}}function Qv(e){return{graphMode:15,error:e,segments:[]}}function fb(e,t){let r=e[0]+t.min*e[1],n=e[0]+t.max*e[1],i={zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}};if(!isFinite(r)||!isFinite(n))return{segments:[],poi:i,resolved:!0};let s=[[t.min,r,t.max,n]],o=-e[0]/e[1];return!isNaN(o)&&o>=t.min&&o<=t.max&&(i.zeros.x.push(o),i.zeros.y.push(0)),0>=t.min&&0<=t.max&&(i.intercept.x.push(0),i.intercept.y.push(e[0])),{segments:s,poi:i,resolved:!0}}function uL(e,t){let r=fb(e[0],t),n=fb(e[1],t);return r.segments.length&&n.segments.length&&r.segments[0].length===4&&n.segments[0].length===4?{segments:[[r.segments[0][1],n.segments[0][1],r.segments[0][3],n.segments[0][3]]],resolved:!0}:{segments:[],resolved:!0}}function Yv(e,t){let r=e(t);return{segments:[[...r,...r]],resolved:!0}}function Xv(e,t,r){let{mappedFn:n,jumpTolerance:i,screen:s}=r,[o,a]=e,[u,l]=t,c=Li(o,u),p=n(c),f=s.height;if(!(a<0&&l<0&&(a>=p||l>=p))&&!(a>f&&l>f&&(a<=p||l<=p)))return Ao(o,a,c,p,u,l,n,i)}var cb=(e,t,r)=>{let{fn:n,mappedFn:i,jumpTolerance:s,accumulator:o}=r;if(!isFinite(s)||s<=0)return;let a=Xv(e,t,r);if(!a)return;let u=(t[0]-e[0])/10,l=[-u,u],c;for(let p=0;p<l.length;p++){let f=e[0]+l[p],m=i(f);isFinite(m)||([f,m]=e,f=e[0],m=e[1]);let d=t[0]+l[p],y=i(d);if(isFinite(y)?c=d:[d,y]=t,Xv([f,m],[d,y],r)){let[g,h]=a;o.addPoint([g,n(g)]),o.breakSegment(),o.addPoint([h,n(h)]);return}}return c},db=class{constructor(t,r,n){let i=s=>r.mathToPixels.mapY(t(s));this.derivative=n,this.accumulator=new gu(r,t,n),this.fn=t,this.mathToPixels=r.mathToPixels,this.mappedFn=i,this.jumpTolerance=r.tolerance||0,this.screen=r.screen}};function Jv(e,t,r,n){let i=r,s=e(i),o=t.mapY(s);return isFinite(o)||(i=r+n,s=e(i),o=t.mapY(s)),isFinite(o)||(i=r-n,s=e(i),o=t.mapY(s)),[i,s,o]}function yb(e,t,r){let n=new db(e,t,r),{mathToPixels:i,mappedFn:s}=n,o=t.nInitialSamples,a=Math.abs(i.interpolateX(t.min,t.max,1/(o-1))-t.min)/10,[u,l,c]=Jv(e,i,t.min,a);isFinite(c)&&n.accumulator.addPoint([u,l]);for(var p=1;p<o;p++){let f=i.interpolateX(t.min,t.max,p/(o-1)),m=Math.abs(u-f)/10,[d,y,g]=Jv(e,i,f,m);if(isFinite(g)&&isFinite(c)){let h=cb([u,c],[d,g],n);h!==void 0&&(d=h,y=e(d),g=i.mapY(y)),n.accumulator.addPoint([d,y])}else if(isFinite(g)&&!isFinite(c)){let h=yn(u,c,d,g,s);if(h!==void 0){h!==d&&n.accumulator.addPoint([h,e(h)]);let x=cb([h,s(h)],[d,g],n);x!==void 0&&(d=x,y=e(d),g=i.mapY(y)),n.accumulator.addPoint([d,y])}}else if(!isFinite(g)&&isFinite(c)){let h=yn(u,c,d,g,s);if(h!==void 0){let x=cb([u,c],[h,s(h)],n);x!==void 0&&(h=x),h!==u&&n.accumulator.addPoint([h,e(h)]),n.accumulator.breakSegment()}}u=d,l=y,c=g}return n.accumulator.finish()}function lL(e){let{fn:t,min:r,max:n}=e,i=Math.floor(r),s=Math.ceil(n),o=[];for(let a=i;a<=s;a++){let u=t(a);!isFinite(a)||!isFinite(u)||o.push([a,u])}return{segments:o,resolved:!0}}function cL(e,t,r,n){let i=t.min,s=t.max-t.min,o=t.xtolerance&&t.ytolerance?Math.min(t.xtolerance,t.ytolerance):0,a=Math.floor(s/(Math.PI/r)),u,l,c;function p(f,m){let d=m%2===0?1:-1;if(!n&&d===-1)return!1;let y=m*(Math.PI/r),g=[i,i+1,i+2,i+3],h=!1;for(let x=0,P=g.length;x<P;x++){let D=f(g[x]),M=f(g[x]+y);if(isFinite(D)&&isFinite(M)&&(h=!0),isFinite(D)!==isFinite(M)||Math.abs(D-d*M)>o)return!1}return!!h}for(u=1;u<=a;u++)if(p(e,u)){for(c=u,l=2;l*u<=a;l++)p(e,l*u)||(c=void 0);if(c)break}return c?c*(Math.PI/r):null}function Kv(e){return[e[1]*Math.cos(e[0]),e[1]*Math.sin(e[0])]}function pb(e,t){if(t.max<t.min)return{segments:[],resolved:!0};let{xtolerance:r,ytolerance:n,ztolerance:i,map:s}=t,o=new qi({xtolerance:r,ytolerance:n,ztolerance:i,map:s}),a=10,u=t.min,l=e(u);isFinite(l[0])&&isFinite(l[1])&&o.addPoint(l);let c=t.nInitialSamples;for(let p=1;p<c;p++){let f=p/(c-1),m=(1-f)*t.min+f*t.max,d=e(m);hu(e,u,l,m,d,a,o,t.screen),u=m,l=d}return o.finish()}function pL(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function hu(e,t,r,n,i,s,o,a){if(n===t)return;let{xtolerance:u,ytolerance:l,ztolerance:c,map:p}=o,f=Li(t,n),m=e(f),d=p(r),y=p(i),g=p(m),h=isFinite(d[0])&&isFinite(d[1])&&(d.length===2||isFinite(d[2])),x=isFinite(y[0])&&isFinite(y[1])&&(y.length===2||isFinite(y[2])),P=isFinite(g[0])&&isFinite(g[1])&&(g.length===2||isFinite(g[2]));if(s===0||f===t||f===n){o.breakSegment(),x&&o.addPoint(i);return}if(!(!h&&!x)){if(h!==x){let D=t,M=n,E=r,S=i;for(;t!==f&&f!==n;)P==h?(t=f,r=m,d=g,h=P):(n=f,i=m,y=g,x=P),f=t+(n-t)/2,m=e(f),g=p(m),P=isFinite(g[0])&&isFinite(g[1])&&(g.length===2||isFinite(g[2]));h?(hu(e,D,E,t,r,s-1,o,a),o.breakSegment()):(o.breakSegment(),o.addPoint(i),hu(e,n,i,M,S,s-1,o,a));return}if(h&&P&&x){let D=pL(d,y),M=Un(g[0],g[1],g[2]||0,d[0],d[1],d[2]||0,y[0],y[1],y[2]||0),E=M>.2&&M<.8&&Math.abs(g[0]-(d[0]+M*(y[0]-d[0])))<=u&&Math.abs(g[1]-(d[1]+M*(y[1]-d[1])))<=l&&(d.length===2||Math.abs(g[2]-(d[2]+M*(y[2]-d[2])))<=c);if(D||E||a&&fL(d,g,y,a)){o.addPoint(i);return}}hu(e,t,r,f,m,s-1,o,a),hu(e,f,m,n,i,s-1,o,a)}}function fL(e,t,r,{width:n,height:i}){return e[0]<0&&r[0]<0&&(e[0]>=t[0]||r[0]>=t[0])||e[0]>n&&r[0]>n&&(e[0]<=t[0]||r[0]<=t[0])||e[1]<0&&r[1]<0&&(e[1]>=t[1]||r[1]>=t[1])||e[1]>i&&r[1]>i&&(e[1]<=t[1]||r[1]<=t[1])}function dL(e,t){let r=e.fn,{xmin:n,xmax:i,ymin:s,ymax:o}=t,a=30,u=30,l=(i-n)/a,c=(o-s)/u,p=[],f=[],m=[],d=l/1e3,y=c/1e3;for(let g=0;g<a;g++)for(let h=0;h<u;h++){let x=n+g*l,P=s+h*c,D=r(x,P);p.push(x,P,D);let M=r(x+d,P)-D,E=r(x,P+y)-D,S=M*y,v=E*d,N=-d*y,G=Math.sqrt(S*S+v*v+N*N);f.push(S/G,v/G,N/G)}for(let g=0;g<a-1;g++)for(let h=0;h<u-1;h++){let x=h*u+g,P=h*u+g+1,D=(h+1)*u+g,M=(h+1)*u+g+1;m.push(x,D,P),m.push(D,M,P)}return{cacheKey:e.source+":"+JSON.stringify(t),positions:new Float32Array(p),normals:new Float32Array(f),faces:new Int16Array(m)}}function jv(e){for(let t of e)if(t!==0)return!1;return!0}function eE(e,t){let{min:r,max:n,mathToPixels:i,nInitialSamples:s}=t,o=i.interpolateX(r,n,0),a=e(o),u=jv(a),l=!1,c=[];for(var p=1;p<s;p++){let f=i.interpolateX(r,n,p/(s-1)),m=e(f),d=jv(m);if(u){o=f,a=m,d||(u=!1);continue}if(d){l?(u=!0,l=!1):l=!0;continue}let y=HP(o,a,f,m,e);y!==void 0&&c.push(y),o=f,a=m}return c}function tE(e){if(!e)return!1;let t=e.viewport.xmin,r=e.viewport.xmax,n=e.viewport.ymin,i=e.viewport.ymax;return!(!isFinite(t)||!isFinite(r)||r<=t||!isFinite(n)||!isFinite(i)||i<=n||!isFinite(e.screen.width)||e.screen.width<=0||!isFinite(e.screen.height)||e.screen.height<=0)}function Zv(e,t){let r=t-e;return 1+Math.ceil(r/(r/1e3))}function ra(e,t,r){var D;let{viewport:n,screen:i,xAxisScale:s,yAxisScale:o}=e,a=e.viewport.xmin,u=e.viewport.xmax,l=e.viewport.ymin,c=e.viewport.ymax;var p=t.lineWidth;if(p>3){var f=p*(u-a)/e.screen.width,m=p*(c-l)/e.screen.height;a-=f,u+=f,l-=m,c+=m}let y=1/4,g=t.domainBound,h,x=Ts.fromRects($v(n),Hv(i),{xAxisScale:s,yAxisScale:o}),P;switch(t.graphMode){case 1:switch(h=Or(kn([l,c]),g),h.type){case"empty":return!1;case"known":l=h.bounds[0],c=h.bounds[1]}let M=1+Math.ceil(Math.abs(x.mapY(c)-x.mapY(l))/y),E=new Ts(x.yScale,x.xScale);P={min:l,max:c,tolerance:y,nInitialSamples:M,mathToPixels:E,screen:{width:i.height,height:i.width}};break;case 2:{switch(h=Or(kn([a,u]),g),h.type){case"empty":return!1;case"known":a=h.bounds[0],u=h.bounds[1]}let S=1+Math.ceil(Math.abs(x.mapX(u)-x.mapX(a))/y);P={min:a,max:u,tolerance:y,nInitialSamples:S,mathToPixels:x,screen:i};break}case 6:{let S=e.degreeMode?Math.PI/180:1;if(!t.domain)throw new Error("Expected polar graph to have domain");let{min:v,max:N}=t.domain;switch(h=Or(kn([v,N]),g),h.type){case"empty":return!1;case"known":v=h.bounds[0],N=h.bounds[1]}let G=1+Math.min(Math.ceil(S*Math.abs(N-v)/(2*Math.PI)*1e3),12e3);if(P={min:v,max:N,screen:i,nInitialSamples:G,xtolerance:y,ytolerance:y,map:([C,H])=>x.mapCoordinatePair(Kv([C,H]))},!t.domain.isExplicit){let C=cL(r,P,S,t.operator==="=");C&&(P.max=P.min+C,P.nInitialSamples=1+Math.min(Math.ceil(S*Math.abs(P.max-P.min)/(2*Math.PI)*1e3),12e3))}break}case 5:case 14:{let S={min:0,max:1},{min:v,max:N}=(D=t.domain)!=null?D:S;switch(h=Or(kn([v,N]),g),h.type){case"empty":return!1;case"known":v=h.bounds[0],N=h.bounds[1]}if(t.graphMode===14){let G=y*(u-a)/e.screen.width,C=y*(c-l)/e.screen.height;P={min:v,max:N,nInitialSamples:Zv(v,N),xtolerance:G,ytolerance:C,ztolerance:Math.min(G,C),map:H=>H}}else P={min:v,max:N,screen:i,nInitialSamples:Zv(v,N),xtolerance:y,ytolerance:y,ztolerance:y,map:([G,C])=>x.mapCoordinatePair([G,C])};break}case 8:P={xmin:a,xmax:u,ymin:l,ymax:c,mathToPixels:x,tolerance:y};break;case 13:return{xmin:-10,xmax:10,ymin:-10,ymax:10};default:return!1}return P}function rf(e){let{viewState:t,graphInfo:r,compiled:n,maxOverride:i,showPoint:s}=e,o=n.fn,a=ra(t,r,o),u;a||(u={segments:[],resolved:!0});let{min:l,max:c}=a;u=lL({fn:o,min:Math.max(l,0),max:i!==void 0?Math.min(i,c):c});let{points:p,droppedIndices:f}=bu(u.segments);return{segments:[p],droppedIndices:f,graphMode:3,color:r.color,style:r.pointStyle,poi:Gn(u.segments),showPoint:s}}function lo(e){let{viewState:t,graphInfo:r,compiled:n,derivative:i}=e,s=n.fn,o=ra(t,r,s),a,u,l,c=r.graphMode,p=t.xAxisScale==="linear"&&t.yAxisScale==="linear";if(!o)a={segments:[],resolved:!0};else{switch(c){case 1:case 2:let m=i?i.fn:void 0;a=r.isLinear&&p&&jn(r.linearCoefficients)?fb(r.linearCoefficients,o):yb(s,o,m);break;case 6:a=pb(g=>[g,s(g)],o);break;case 8:a=Bv(s,o);break;case 5:o.max===o.min?a=Yv(s,o.min):a=r.isLinear&&p&&jn(r.linearCoefficients)?uL(r.linearCoefficients,o):pb(s,o);break;case 14:return o.max===o.min?a=Yv(s,o.min):a=pb(s,o),{graphMode:14,segments:a.segments,cacheKey:n.source+":"+JSON.stringify(o),color:r.color,style:"dummy"};break;case 13:return{meshData:dL(n,o),color:r.color,graphMode:13,poi:Wv(),compiled:n,style:"dummy"};default:throw new Error("Programming Error: unexpected graphmode "+c)}l=a.poi}if((!l||l.zeros.x.length+l.extrema.x.length+l.intercept.x.length>250)&&(l=Wv()),c===1)for(let m in l){if(!l.hasOwnProperty(m))continue;let d=m;u=l[d].y,l[d].y=l[d].x,l[d].x=u}let f={segments:a.segments,resolved:a.resolved,graphMode:c,color:r.color,style:r.lineStyle,lineWidth:r.lineWidth,lineOpacity:r.lineOpacity,listIndex:r.listIndex,operator:r.operator,poi:l,compiled:n};if(c===6){let m=o;f.sampledDomain={min:m.min,max:m.max}}return a.fillSegments&&(f.fillSegments=a.fillSegments),f}function mL(e,t,r){let n,i,s,o,a=[],u=null;switch(r){case 6:u=Kv;break;case 1:u=function(l){return[l[1],l[0]]};break}for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i+=2)s=[o[i],o[i+1]],u&&(s=u(s)),a.push(s[0],s[1]);for(n=t.length-1;n>=0;n--)for(o=t[n],i=o.length-2;i>=0;i-=2)s=[o[i],o[i+1]],u&&(s=u(s)),a.push(s[0],s[1]);return a}function nf(e,t,r){let n=p=>{let f=p[p.length-1];return f[f.length-2]},i=[],s=0,o=0,a=[],u=[],l=-1/0,c=-1/0;for(;;){if(l<=c){if(s>=t.length)break;u.push(t[s++])}if(c<=l){if(o>=e.length)break;a.push(e[o++])}if(l=n(u),c=n(a),Nr(l,c,4)){i.push(mL(a,u,r)),u=[],a=[];let p=Math.max(l,c);l=p,c=p}}return i}function bu(e){let t=[],r={};for(let n=0;n<e.length;n++){let i=e[n],[s,o]=i;!isNaN(s)&&!isNaN(o)?t.push(i):r[n]=!0}return{points:t,droppedIndices:r}}var yL=(e,t)=>{let r=e.segments[0],n=t.segments[0],i=[[...r,...n]];return oe(z({},e),{segments:i})};function gL(e){let{viewState:t,graphInfo:r,compiled:n,derivative:i,bounds:s}=e,o=Bn(r),a=Or(r.domainBound,kn(s));if(a.type==="known")return o.domainBound=a,o.lineStyle="SOLID",lo({graphInfo:o,viewState:t,compiled:n,derivative:i})}function Is(e){let{viewState:t,graphInfo:r,compiled:n,bounds:i,included:s,showPoint:o}=e,a=Bn(r),u=Or(r.domainBound,kn(i));if(u.type==="known")return a.domainBound=u,a.pointStyle=s?"POINT":"OPEN",rf({graphInfo:a,viewState:t,compiled:n,showPoint:o,maxOverride:void 0})}function iE(e){let{viewState:t,graphInfo:r,compiled:n,bounds:i,maxOverride:s,showPoint:o}=e,[a,u]=i,l=[],c;a=Math.ceil(a),u=Math.floor(u);let p=s!==void 0?s:1/0;if(a===-1/0&&u>=p)c=Is({bounds:[a,p],included:!0,viewState:t,graphInfo:r,compiled:n,showPoint:o}),l.push(c);else if(a===-1/0&&u<1/0)c=Is({bounds:[a,u],included:!0,viewState:t,graphInfo:r,compiled:n,showPoint:o}),l.push(c),l.push(Is({bounds:[u+1,p],included:!1,viewState:t,graphInfo:r,compiled:n,showPoint:o}));else if(a>-1/0&&u>=p)c=Is({bounds:[a,p],included:!0,viewState:t,graphInfo:r,compiled:n,showPoint:o}),l.push(Is({bounds:[-1/0,a-1],included:!1,viewState:t,graphInfo:r,compiled:n,showPoint:o})),l.push(c);else{c=Is({bounds:[a,u],included:!0,viewState:t,graphInfo:r,compiled:n,showPoint:o});let f=Is({bounds:[-1/0,a-1],included:!1,viewState:t,graphInfo:r,compiled:n,showPoint:o}),m=Is({bounds:[u+1,p],included:!1,viewState:t,graphInfo:r,compiled:n,showPoint:o});l.push(c);let d;f&&m&&(d=yL(f,m),l.push(d))}return{cdfTopBranch:c,topBranches:l}}var sE=e=>{let{viewState:t,graphInfo:r,compiled:n,derivative:i,bounds:s}=e,[o,a]=s,u=gL({bounds:[o,a],viewState:t,graphInfo:r,compiled:n,derivative:i}),l=[lo({viewState:t,graphInfo:r,compiled:n,derivative:i})];return{cdfTopBranch:u,topBranches:l}};function M5(e){switch(e){case"LOOP_FORWARD":return"dcg-icon-arrow-one-way";case"LOOP_FORWARD_REVERSE":return"dcg-icon-arrow-two-way";case"PLAY_ONCE":return"dcg-icon-arrow-once";case"PLAY_INDEFINITELY":return"dcg-icon-arrow-infinite"}}function xu(e,t){let r={};for(let n in t)t.hasOwnProperty(n)&&(ci(e[n],t[n])||(r[n]=t[n]));return r}function of(e,t){let r,n={};for(let i in t)t.hasOwnProperty(i)&&(ci(e[i],t[i])||(n[i]=t[i],r=n));return r}function O5(e,t){t||(t={});let r={};for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(r[n]=Bn(e[n]));for(let n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r}function D5({from:e,to:t,props:r}){for(var n in r)r[n]&&e.hasOwnProperty(n)&&(t[n]=Bn(e[n]))}function R5(e,t){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}function aE(e,t){let r={};for(var n in t)t.hasOwnProperty(n)&&(r[n]=e[n]);return r}function w5(e){let t={};for(let r in e)e.hasOwnProperty(r)&&(t[r]=!0);return t}var hL=(n=>(n.NONE="NONE",n.POSITIVE="POSITIVE",n.BOTH="BOTH",n))(hL||{});var uE={collapsed:!1,hidden:!1,secret:!1,readonly:!1,title:""};function C5(e){return z(z({},uE),e)}function _5(e){return xu(uE,e)}var lE="**dcg_geo_folder**";var gb={show:!1,min:"",max:""},hb={breadth:"",axisOffset:"",alignedAxis:"x",showBoxplotOutliers:!0,binAlignment:"center",dotplotXMode:"exact",histogramMode:""},bb={enabled:!1,latex:""};var bL=4e3,af={polarDomain:{min:"",max:""},parametricDomain:{min:"",max:""},cdf:gb,colorLatex:"",description:"",fillOpacity:"",lineOpacity:"",pointOpacity:"",pointSize:"",lineWidth:"",labelAngle:"",vizProps:hb,clickableInfo:bb},cE=oe(z({folderId:"",latex:"",color:"",showLabel:!1,label:"",hidden:!1,secret:!1,readonly:!1,dragMode:"AUTO",labelSize:"",labelOrientation:"default",suppressTextOutline:!1,interactiveLabel:!1,editableLabelMode:"NONE",residualVariable:"",isLogModeRegression:!1,pointStyle:"POINT",lineStyle:"SOLID",arrowMode:"DEFAULT",regressionParameters:{},displayEvaluationAsFraction:!1,slider:{},strictIntersection:!1},af),{points:void 0,lines:void 0,fill:void 0}),pE={hardMin:!1,hardMax:!1,animationPeriod:bL,loopMode:"LOOP_FORWARD_REVERSE",playDirection:1,isPlaying:!1,min:"-10",max:"10",step:""};function X5(e){return oe(z(z({},cE),e),{slider:z(z({},pE),e.slider),cdf:z(z({},gb),e.cdf),vizProps:z(z({},hb),e.vizProps),clickableInfo:z(z({},bb),e.clickableInfo)})}function J5(e){var t=xu(cE,oe(z({},e),{slider:xu(pE,e.slider)})),r=of(gb,e.cdf);r===void 0?delete t.cdf:t.cdf=r;var n=of(hb,e.vizProps);n===void 0?delete t.vizProps:t.vizProps=n;var i=of(bb,e.clickableInfo);return i===void 0?delete t.clickableInfo:t.clickableInfo=i,t}function xL(e){return aE(e,af)}function j5(e,t){for(var r in af)if(af.hasOwnProperty(r)&&e[r]!==t[r])return!1;return!0}function Z5(e){return z({type:"statement",id:e.id,latex:e.latex,label:e.label,color:e.color,fill:e.fill,points:e.points,lines:e.lines,pointStyle:e.pointStyle,lineStyle:e.lineStyle,arrowMode:e.arrowMode,dragMode:e.dragMode,labelSize:e.labelSize,labelOrientation:e.labelOrientation,suppressTextOutline:e.suppressTextOutline,interactiveLabel:e.interactiveLabel,editableLabelMode:e.editableLabelMode,residualVariable:e.residualVariable,regressionParameters:e.regressionParameters,isLogModeRegression:e.isLogModeRegression,showLabel:e.showLabel,shouldGraph:e.hidden,slider:{min:e.slider.hardMin?e.slider.min:"",max:e.slider.hardMax?e.slider.max:"",softMin:e.slider.hardMin?"":e.slider.min,softMax:e.slider.hardMax?"":e.slider.max,step:e.slider.step,isPlayingOnce:e.slider.isPlaying&&e.slider.loopMode==="PLAY_ONCE"},strictIntersection:e.strictIntersection,isInConstructionsFolder:e.folderId===lE},xL(e))}function xb(e,t){let r;switch(t){case"solvedEquation":r=2;break;case"baseComparator":r=4;break;default:r=1;break}return Math.floor(e/r)}var TL=!1,Pu=b.List;function br(){return{}}function IL(){return{segments:[],poi:{},graphMode:1,color:""}}function co(e,t,r){let n=1/0;for(let s of t){let o=e[s];Array.isArray(o)&&o.length<n&&(n=o.length)}let i=1;return r==="solvedEquation"?i=2:r==="baseComparator"&&(i=4),i*n}function na(e,t,r){return Array.isArray(e)?e[xb(t,r)]:e}function ML(e,t){var r=t.viewport.xmax-t.viewport.xmin,n=t.viewport.ymax-t.viewport.ymin;let i=Sn(r,n),s=Sn(30,30),o=Math.round(2-Math.log(i/s)/Math.LN10);if(o<=0)return Math.round(e)+"";{let a=Math.pow(10,o);return Math.round(e*a)/a+""}}function vL(e,t){var r=t.viewport.xmax-t.viewport.xmin,n=t.viewport.ymax-t.viewport.ymin;let i=r*n,s=30*30,o=Math.round(2-Math.log(i/s)/Math.LN10);if(o<=0)return Math.round(e)+"";{let a=Math.pow(10,o);return Math.round(e*a)/a+""}}function EL(e,t){return t.degreeMode?Math.round(e/(Math.PI/180)*10)/10+"\\xB0":Math.round(e*100)/100+""}function po(e,t,r){let n=xb(t,r),i=e.userData.lineStyle,s=na(e.metaData.computedLineWidth,t,r),o=na(e.metaData.computedLineOpacity,t,r),a=na(e.metaData.computedFillOpacity,t,r),u=e.metaData.colorLatexValue?na(e.metaData.colorLatexValue,t,r):e.userData.color;return{listIndex:n,style:i,lineWidth:s,lineOpacity:o,fillOpacity:a,color:u}}b.Base.prototype._graph=SL;function SL(e,t,r,n,i,s){if(t instanceof b.SolvedEquation){let l=this._graph(e,t._expression,r,n,i,t.branchMultiplier===2?"solvedEquation":void 0),c=hE(this,t,r,e);return c&&(l||(l=[]),Array.prototype.push.apply(l,c)),l}function o(l){let c=l.editableLabelMode;return c==="TEXT"||c==="MATH"}let a=t.getExpressionType(n.graphMode,t.valueType),u=ZM(a,{points:this.userData.points,lines:this.userData.lines,fill:this.userData.fill});switch(n.graphMode){case 4:let{points:l,droppedIndices:c}=bu([t.asValue()]),p=this.userData.shouldGraph&&u.points,f=this.userData.showLabel&&!p;return p?[{segments:[l],graphMode:n.graphMode,droppedIndices:c,color:Ni(this.userData,this.metaData),style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:o(this.userData),labels:this.computedLabels||[],poi:Gn(l),movablePointInfo:[]}]:f?[{segments:[l],graphMode:3,color:Ni(this.userData,this.metaData),style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,nakedLabel:!0,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:o(this.userData),labels:this.computedLabels||[],poi:Gn(l),showPoint:!1}]:[];case 3:{let d=[],y=this.userData.shouldGraph&&u.points,g=this.userData.shouldGraph&&u.lines,h=["colorLatexValue"];y&&h.push("computedPointOpacity","computedPointSize"),(this.userData.showLabel||y)&&h.push("computedLabelSize","computedLabelAngle");let x=co(this.metaData,h,s),P=Pu.wrap(t).asValue();Rr(P),P.length>x&&(P.length=x);let D=this.userData.showLabel&&!y&&!g,M=bu(P);return(this.userData.showLabel||y)&&d.push({segments:[M.points],graphMode:n.graphMode,droppedIndices:M.droppedIndices,color:this.metaData.colorLatexValue||this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,showPoint:y,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,pointSize:this.metaData.computedPointSize,pointOpacity:this.metaData.computedPointOpacity,suppressTextOutline:this.userData.suppressTextOutline,interactiveLabel:!!this.userData.interactiveLabel,editableLabel:o(this.userData),nakedLabel:D,labels:this.computedLabels||[],poi:Gn(P)}),g&&d.push({segments:gE(P),graphMode:5,color:Ni(this.userData,this.metaData),style:this.userData.lineStyle,lineWidth:this.metaData.computedLineWidth,lineOpacity:this.metaData.computedLineOpacity,poi:br()}),d}case 5:case 14:{let d=this.userData,y=this.metaData,g=[],h=["colorLatexValue"];u.lines&&h.push("computedLineOpacity","computedLineWidth"),u.fill&&h.push("computedFillOpacity");let x=co(this.metaData,h,s),P=Pu.wrap(t).mapElements((D,M)=>{if(M>=x)return IL();let{listIndex:E,lineWidth:S,lineOpacity:v,color:N}=po(this,M,s);if(D.getDependencies().length===0){let{points:C,droppedIndices:H}=bu([D.asValue()]);return{segments:[C],graphMode:3,droppedIndices:H,color:Ni(d,y),style:d.lineStyle,lineWidth:S,lineOpacity:v,poi:Gn(C)}}else{let C=D.getCompiledFunction(),H=this.getGraphInfo(e,D);return H.graphMode=n.graphMode,H.domain={min:this.metaData.evaluatedDomainMin,max:this.metaData.evaluatedDomainMax},H.style=this.userData.lineStyle,H.lineWidth=S,H.lineOpacity=v,H.color=N,H.listIndex=E,lo({viewState:r,graphInfo:H,compiled:C})}});if(u.fill)if(P.forEach((D,M)=>{if(M>=x)return;let{color:E,fillOpacity:S,listIndex:v}=po(this,M,s);g.push({segments:D.segments,color:E,fillOpacity:S,listIndex:v,graphMode:7,poi:br()})}),u.lines)P=P.concat(g);else return g;return P}case 1:case 2:case 8:case 6:case 13:case 20:case 21:case 18:case 19:case 17:case 23:{let d=[],y=t.valueType===I,g=co(this.metaData,["computedLineOpacity","computedLineWidth","colorLatexValue","fillOpacity"],s);return Pu.wrap(t).eachElement((h,x)=>{if(x>=g)return;let P=this.getGraphInfo(e,h);P.graphMode=n.graphMode;let{listIndex:D,style:M,lineWidth:E,lineOpacity:S,fillOpacity:v,color:N}=po(this,x,s);if(P.listIndex=D,P.style=M,P.lineWidth=E,P.lineOpacity=S,P.fillOpacity=v,P.color=N,n.graphMode===6&&(P.domain={min:this.metaData.evaluatedDomainMin,max:this.metaData.evaluatedDomainMax,isExplicit:this.metaData.isExplicitDomain}),n.graphMode===20){let[[re,ve],Ne]=h.asValue();if(isNaN(re)||isNaN(ve)||isNaN(Ne))return;d.push({segments:[[re,ve,Ne]],resolved:!0,graphMode:P.graphMode,color:P.color,style:P.lineStyle,lineWidth:P.lineWidth,lineOpacity:P.lineOpacity,listIndex:P.listIndex,operator:P.operator,poi:br()});return}else if(n.graphMode===21){let re=ap(h.asValue());if(!re)return;let ve=[];re.type==="arc"?ve.push({graphMode:n.graphMode,segments:[[re.center[0],re.center[1],re.radius,re.startAngle,re.endAngle]],color:P.color,style:P.lineStyle,lineWidth:P.lineWidth,lineOpacity:P.lineOpacity,listIndex:P.listIndex,operator:n.operator,poi:br()}):re.type==="rays"?ve.push({graphMode:19,segments:[[re.start1[0],re.start1[1],re.end1[0],re.end1[1]]],color:P.color,style:P.lineStyle,lineWidth:P.lineWidth,lineOpacity:P.lineOpacity,listIndex:P.listIndex,operator:n.operator,poi:br()},{graphMode:19,segments:[[re.start2[0],re.start2[1],re.end2[0],re.end2[1]]],color:P.color,style:P.lineStyle,lineWidth:P.lineWidth,lineOpacity:P.lineOpacity,listIndex:P.listIndex,operator:n.operator,poi:br()}):ve.push({graphMode:17,segments:[[re.start[0],re.start[1],re.end[0],re.end[1]]],color:P.color,style:P.lineStyle,lineWidth:P.lineWidth,lineOpacity:P.lineOpacity,listIndex:P.listIndex,operator:n.operator,poi:br()}),d.push(...ve),d.push(...mE(ve,i));return}else if(n.graphMode===17||n.graphMode===18||n.graphMode===19){let[[re,ve],[Ne,De]]=h.asValue();if(isNaN(re)||isNaN(ve)||isNaN(Ne)||isNaN(De))return;let se={segments:[[re,ve,Ne,De]],resolved:!0,graphMode:P.graphMode,color:n.color,style:n.lineStyle,arrowMode:P.arrowMode,lineWidth:P.lineWidth,lineOpacity:P.lineOpacity,listIndex:P.listIndex,operator:n.operator,poi:br()};if(d.push(se),d.push(...mE([se],i)),this.userData.showLabel&&n.graphMode===17){let bt=P.listIndex,Gt=this.computedLabels&&this.computedLabels[bt||0];d.push({graphMode:22,objectType:17,segments:[[re,ve,Ne,De]],color:n.color,listIndex:bt,showLabel:!0,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,labels:Gt?[Gt]:[ML(Sn(Ne-re,De-ve),r)]})}return}else if(n.graphMode===23){let{value:re,valueType:ve}=h.asTypedValue(),[[Ne,De],se,bt]=re;if(isNaN(Ne)||isNaN(De)||isNaN(se)||isNaN(bt))return;let Gt=P.listIndex,In=ve===le,ia=In?bt:Math.abs(bt);if(d.push({graphMode:23,segments:[[Ne,De,se,bt,In?1:0]],color:P.color,style:P.lineStyle,lineWidth:P.lineWidth,lineOpacity:P.lineOpacity,listIndex:Gt,operator:n.operator,poi:br()}),this.userData.showLabel){let Nu=this.computedLabels&&this.computedLabels[Gt||0];d.push({graphMode:22,objectType:23,segments:[[Ne,De,se,bt]],color:N,listIndex:Gt,showLabel:!0,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,labels:Nu?[Nu]:[EL(ia,r)]})}return}let G=n.graphMode===8||n.graphMode===13?h.getCompiledFunction(["x","y"]):h.getCompiledFunction(),C=ms(this),H=C&&C.discrete,te=NL(C,h),je;try{je=h.getCompiledDerivative()}catch(re){}let Me=this.metaData.evaluatedCDFMin,Ke=this.metaData.evaluatedCDFMax;if(Me!==void 0&&Ke!==void 0&&!isNaN(Me)&&!isNaN(Ke)&&y)if(H){let re={viewState:r,graphInfo:P,compiled:G,bounds:[Me,Ke],maxOverride:yE(C,h),showPoint:this.userData.shouldGraph},ve=iE(re),Ne=ve.cdfTopBranch,De=ve.topBranches;if(De.forEach(function(se){!se||!te||(se.boundingBox=te)}),De.every(se=>se!==void 0)&&(d=De,Ne&&Ne.segments[0].length)){let se=[];Ne.segments[0].forEach(function(bt){!isNaN(bt[0])&&!isNaN(bt[1])&&se.push([bt[0],0,bt[0],bt[1]])}),d.push({graphMode:5,segments:se,boundingBox:te,poi:br(),color:N})}}else{let ve=sE({viewState:r,graphInfo:P,compiled:G,derivative:je,bounds:[Me,Ke]}),Ne=ve.cdfTopBranch,De=ve.topBranches;if(De.forEach(function(se){!se||!te||(se.boundingBox=te)}),d=De,Ne&&Ne.segments.length){let se,bt;for(let Gt=0;Gt<Ne.segments.length;Gt++){let In=Ne.segments[Gt];if(In.length>=4){se=In[0];break}}for(let Gt=Ne.segments.length-1;Gt>=0;Gt--){let In=Ne.segments[Gt];if(In.length>=4){bt=In[In.length-2];break}}if(se!==void 0&&bt!==void 0&&isFinite(se)&&isFinite(bt)){let Gt=nf(Ne.segments,[[se,0,bt,0]],Ne.graphMode);d.push({graphMode:7,segments:Gt,poi:br(),color:N})}}}else if(H){let re=rf({viewState:r,graphInfo:P,compiled:G,showPoint:this.userData.shouldGraph,maxOverride:yE(C,h)});te&&(re.boundingBox=te),d.push(re)}else{let re=this.userData.lines===void 0?!0:this.userData.lines,Ne=lo({viewState:r,graphInfo:P,compiled:G,derivative:je});if(te&&(Ne.boundingBox=te),Ne.fillSegments){let xt=Ne,{fillSegments:De}=xt,se=Nb(xt,["fillSegments"]);re||(se.lineWidth=0),d.push(se)}else re||(Ne.lineWidth=0),d.push(Ne);P.graphMode===8&&P.operator!=="="&&d.push({graphMode:7,segments:Ne.fillSegments,poi:br(),listIndex:P.listIndex,color:N,fillOpacity:v})}}),d}case 16:{let d=[],y=this.userData.lines===void 0?!0:this.userData.lines,g=this.userData.fill===void 0?!0:this.userData.fill;if(!g&&!y)return d;let h=co(this.metaData,["computedLineOpacity","computedLineWidth","colorLatexValue","fillOpacity"],s),x=t.asValue();k(t.valueType)||(x=[x]);for(let P=0;P<x.length;P++){if(P>h-1)continue;let D=x[P];if(!D.length)continue;let M=this.getGraphInfo(e,t),{listIndex:E,lineWidth:S,lineOpacity:v,fillOpacity:N,color:G}=po(this,P,s);this.userData.isToolPreview||(D=[...D,D[0]]),Rr(D);let C=gE(D);if(C.length&&(g&&d.push({segments:C,graphMode:7,poi:br(),color:G,fillOpacity:N,style:M.style,listIndex:E}),y&&d.push({segments:C,graphMode:5,poi:br(),color:G,style:this.userData.lineStyle,lineWidth:S,lineOpacity:v,listIndex:E}),TL&&this.userData.showLabel)){let H=this.computedLabels&&this.computedLabels[E||0];d.push({graphMode:22,objectType:16,segments:C,color:G,listIndex:E,showLabel:!0,labelSize:this.metaData.computedLabelSize,labelAngle:this.metaData.computedLabelAngle,labelOrientation:this.userData.labelOrientation,labels:H?[H]:[vL(dg(D),r)]})}}return d}case 7:case 11:case 12:case 10:case 15:case 22:return!1;default:let m=n.graphMode;throw new Error(`Unexpected graphMode: ${m}`)}}function lf(e,t,r){return{resolved:!0,graphMode:t,segments:r,operator:e.operator,poi:br(),color:e.color,style:"DASHED",lineWidth:1,lineOpacity:.5,isIntersectionExtension:!0}}function mE(e,t){var n,i;if(!t)return[];let r=[];for(let s of e)if(s.graphMode===17){let o=t[(n=s.listIndex)!=null?n:0];if(!o)continue;let a=0,u,l=1,c,[p,f,m,d]=s.segments[0];for(let y=0;y<o.length;y++){let[g,h]=o[y],x=Un(g,h,0,p,f,0,m,d,0);x<a&&(a=x,u=y),s.graphMode===17&&x>l&&(l=x,c=y)}u!==void 0&&r.push(lf(s,17,[[p,f,o[u][0],o[u][1]]])),c!==void 0&&r.push(lf(s,17,[[m,d,o[c][0],o[c][1]]]))}else if(s.graphMode===21){let o=t[(i=s.listIndex)!=null?i:0];if(!o)continue;let[a,u,l,c,p]=s.segments[0],f=p-c+(p<c?1:-1)*2*Math.PI,m=[];for(let d of o){let[y,g]=d,h=Math.atan2(g-u,y-a),x=Lb(h,c,f);0<x&&x<1&&m.push(x)}if(m.length){m.push(0,1),m.sort();let d=0,y=0;for(let x=0;x<m.length-1;x++){let P=m[x+1]-m[x];(d===void 0||P>d)&&(d=P,y=x)}let g=m[y],h=m[y+1];g>0&&r.push(lf(s,21,[[a,u,l,c,c+g*f]])),h<1&&r.push(lf(s,21,[[a,u,l,p,p-(1-h)*f]]))}}return r}function OL(){throw new Error("Programming error: this function is not expected to be called")}function hE(e,t,r,n){let i=[];for(let s=0;s<t.otherVariableSolutionData.length;s++){let o=t.otherVariableSolutionData[s];if(!o)continue;let{coefficients:a,restriction:u}=o,l=a.argNames[0];if(l!=="x"&&l!=="y")continue;let c=a.getCompiledFunction().fn,p,f;l==="y"?(p=1,f=2):(p=2,f=1);let m=void 0,{listIndex:d,style:y,lineWidth:g,lineOpacity:h,color:x}=po(e,s,m),P=ra(r,{graphMode:p,domainBound:Tr(),lineWidth:g,operator:"="},OL);if(!P)continue;let D=eE(c,P);for(let M of D){let E=new Yt(u.substituteConstantArguments({[l]:M})),S=e.getGraphInfo(n,E);S=oe(z({},S),{graphMode:f,lineWidth:g});let v=void 0,N=e._graph(n,E,r,S,v,t.branchMultiplier===2?"solvedEquation":void 0);if(jn(N))for(let G of N)i.push(oe(z({},G),{listIndex:d,style:y,lineWidth:g,lineOpacity:h,color:x}))}}return i.length>0?i:!1}b.Base.prototype.tryGraph=function(e,t,r,n){try{return this.graph(e,t,r,n)}catch(i){let s=i instanceof b.Error?i.getError():Te().getError();return[Qv(s)]}};b.Base.prototype.graph=function(e,t,r,n){let i=this.getGraphInfo(e,t);return this._graph(e,t,r,i,n)};b.BaseComparator.prototype.graph=function(e,t,r){let n=this.getGraphInfo(e,t),i=n.graphMode,s="baseComparator",o=this.userData.lines===void 0?!0:this.userData.lines;if(i===8)return this._graph(e,t,r,n);if(i===10||!(t instanceof b.SolvedEquation))return!1;let a=this.getOperator(),u=[],l=[],c=!0;t._expression.eachElement(function(g){u.push(g.getCompiledFunction());try{l.push(g.getCompiledDerivative())}catch(h){c=!1}}),c||(l=void 0);let p=[],f=[-1,0,0,1],m=co(this.metaData,["computedLineWidth","computedLineOpacity","computedFillOpacity","colorLatexValue"],s),d=Math.min(u.length,m);for(let g=0;g<d;g++){let h=this.getGraphInfo(e,t._expression.args[g]);h.graphMode=i;let{listIndex:x,style:P,color:D,lineWidth:M,lineOpacity:E,fillOpacity:S}=po(this,g,s);h.listIndex=x,h.style=P,h.color=D,n.graphMode===6&&(h.domain={min:this.metaData.evaluatedDomainMin,max:this.metaData.evaluatedDomainMax,isExplicit:this.metaData.isExplicitDomain});let v=lo({viewState:r,graphInfo:h,compiled:u[g],derivative:l?l[g]:void 0});v.lineWidth=M,v.lineOpacity=E,v.fillOpacity=S,v.operator=_s(Dr[a].inclusive,f[g%4]),o||(v.lineWidth=0),p.push(v)}for(let g=0;g<d;g+=4){let h=nf(p[g+1].segments,p[g+2].segments,i);p.push({graphMode:7,listIndex:p[g].listIndex,segments:h,poi:br(),fillOpacity:p[g].fillOpacity,color:p[g].color})}let y=hE(this,t,r,e);if(y){for(let g of y)g.operator=_s(Dr[a].inclusive,0);Array.prototype.push.apply(p,y)}return p};b.DoubleInequality.prototype.graph=function(e,t,r){let n=this.getGraphInfo(e,t);if(n.graphMode===10)return!1;let i=[],s=_s(Dr[this._operators[0]].inclusive,0),o=_s(Dr[this._operators[1]].inclusive,0),a=this.userData,u=this.metaData,l=a.lines===void 0?!0:a.lines,c=["colorLatexValue","computedFillOpacity"];l&&c.push("computedLineWidth","computedLineOpacity");let p=co(u,c),f=t._expressions;return Rr(f),Pu.eachArgs(f,(m,d)=>{let y=d;if(y>=p)return;m[0].userData=m[1].userData=a,m[0].metaData=m[1].metaData=u;let g=void 0,{color:h,lineWidth:x,lineOpacity:P,fillOpacity:D}=po(this,y,g),M=this._graph(e,m[0],r,n)[0];M.listIndex=y,M.operator=s,M.color=h,M.lineWidth=x,M.lineOpacity=P,i.push(M);let E=this._graph(e,m[1],r,n)[0];E.listIndex=y,E.operator=o,E.color=h,E.lineWidth=x,E.lineOpacity=P,i.push(E);let S=M.segments,v=E.segments;Rr(S),Rr(v);let N=nf(S,v,M.graphMode);l||(M.lineWidth=0,E.lineWidth=0),i.push({graphMode:7,listIndex:M.listIndex,segments:N,lineOpacity:P,fillOpacity:D,poi:br(),color:h})}),i};b.Regression.prototype.graph=function(e,t,r){let n=this.getGraphInfo(e,t);return this._graph(e,t.model,r,n)};function Tb(e,t){let r=1/0,n=-1/0,i=1/0,s=-1/0;for(let a of t)for(var o=0;o<a.length;o+=2){let u=a[o],l=a[o+1];u<r&&(r=u),u>n&&(n=u),l<i&&(i=l),l>s&&(s=l)}if(isFinite(r)&&isFinite(i))return{type:e,xmin:r,ymin:i,xmax:n,ymax:s}}function NL(e,t){if(!e||!(t instanceof Yt))return;let r=t._chunk,n=r.getInstruction(r.getReturnIndex());if(n.type!==37)return;let i=e.discrete?"discreteDistribution":"continuousDistribution";if(e.symbol==="binomialdist"&&n.symbol==="binompdf"){let s=ht(r,n.args[1]),o=ht(r,n.args[2]),a=ip(o*s,s,o);return{type:i,xmin:0,xmax:s,ymin:0,ymax:a}}if(e.symbol==="poissondist"&&n.symbol==="poissonpdf"){let s=ht(r,n.args[1]),o=Math.max(Fo(Math.floor(s),s),Fo(Math.ceil(s),s));return{type:i,xmin:0,xmax:2.5*s,ymin:0,ymax:o}}if(e.symbol==="normaldist"&&n.symbol==="normalpdf"){let s=ht(r,n.args[1]),o=ht(r,n.args[2]),a=ng(s,s,o);return{type:i,xmin:s-2*Math.abs(o),xmax:s+2*Math.abs(o),ymin:0,ymax:a}}if(e.symbol==="uniformdist"&&n.symbol==="uniformpdf"){let s=ht(r,n.args[1]),o=ht(r,n.args[2]),a=(s+o)/2,u=o-s,l=og(a,s,o);return{type:i,xmin:s-u/3,xmax:o+u/3,ymin:0,ymax:l}}if(e.symbol==="tdist"&&n.symbol==="tpdf"){let s=ht(r,n.args[1]),o=np(0,s);return{type:i,xmin:-3,xmax:3,ymin:0,ymax:o}}}function yE(e,t){if(e===void 0||e.symbol!=="binomialdist"||!(t instanceof Yt))return;let r=t._chunk,n=r.getInstruction(r.getReturnIndex());if(n.type===37&&n.symbol==="binompdf")return ht(r,n.args[1])}function bE(e,t,r){let n={};r-=.5*t;for(var i=e.length-1;i>=0;i--){let s=e[i],o=Math.floor((s-r)/t);n[o]?n[o].data.push(s):n[o]={id:o,data:[s],min:o*t+r,max:o*t+r+t,center:o*t+r+t/2}}return n}var DL=function(e){let t=[];return Pu.wrap(e).eachElement(function(r){t.push(r.args.map(n=>n.asValue()))}),t};b.Object3D.prototype.graph=function(e,t,r){let n=this.getGraphInfo(e,t);return[{segments:[DL(t)],color:n.color,objectName:this._symbol,graphMode:12}]};b.Histogram.prototype.graph=function(e,t,r){let n=this.getGraphInfo(e,t),i=t.args[0].asValue(),s=t.args[1].asValue(),o=this.userData.vizProps&&this.userData.vizProps.binAlignment==="left"?s/2:0;Rr(i);let a=bE(i,s,o),u=1;this.userData.vizProps&&this.userData.vizProps.histogramMode==="density"?u=1/(i.length*s):this.userData.vizProps&&this.userData.vizProps.histogramMode==="relative"&&(u=1/i.length);let l=[],c=[];for(let f in a){let m=a[f],d=m.data.length;c.push([m.min,0*u,m.min,d*u,m.max,d*u,m.max,0*u]);let y=0;a[m.id+1]&&(y=a[m.id+1].data.length);let g=[m.min,0*u,m.min,d*u,m.max,d*u];y<d&&g.push(m.max,y*u),l.push(g)}let p=Tb("histogram",c);return p&&s&&(p.binWidth=s),[{segments:c,graphMode:7,boundingBox:p,poi:br(),color:n.color,fillOpacity:.4},{segments:l,graphMode:2,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},color:n.color}]};b.DotPlot.prototype.graph=function(e,t,r){let n=this.getGraphInfo(e,t),i=t.args[1].asValue(),s=this.userData.vizProps&&this.userData.vizProps.binAlignment==="left"?i/2:0,o=t.args[0].asValue();Rr(o);let a=bE(o,i,s),u=!1,l,c=[];for(let h in a){let x=a[h];for(var p=x.data.length-1;p>=0;p--)x.center!==x.data[p]&&(u=!0)}if(this.userData.vizProps&&this.userData.vizProps.dotplotXMode==="exact")for(let h in a){l=a[h].data,l.reverse();for(let P=0;P<l.length;P++)c.push([l[P],P+1])}else for(let h in a){let x=a[h];l=x.data;for(let P=0;P<l.length;P++)c.push([x.center,P+1])}let f=Tb("dotplot",c);f&&i&&(f.ymin=0,f.xmin-=.5*i,f.xmax+=.5*i,f.binWidth=i);let{computedPointOpacity:m,computedPointSize:d}=this.metaData,y=na(m,0),g=this.userData.pointSize?na(d,0):14;return[{segments:[c],graphMode:3,boundingBox:f,poi:Gn(c),color:n.color,style:this.userData.pointStyle,pointSize:g,pointOpacity:y,showPoint:!0,needsDotplotXMode:u}]};b.BoxPlot.prototype.graph=function(e,t,r){let n=this.getGraphInfo(e,t),i=this.metaData.evaluatedAxisOffset,s=this.metaData.evaluatedBreadth,o=t.args[0].asValue();if(Rr(o),isNaN(s)||isNaN(i))return!1;let a=Math.min.apply(null,o),u=Math.max.apply(null,o),l=Zs(o,1),c=Zs(o,2),p=Zs(o,3),f=i,m=f-s/2,d=f+s/2,y=s/10,g=[];if(this.userData.vizProps.showBoxplotOutliers){let D=p-l,M=l-1.5*D,E=p+1.5*D;a=1/0,u=-1/0,o.forEach(function(S){M<=S&&S<a&&(a=S),u<S&&S<=E&&(u=S),(S<M||S>E)&&g.push([S,f])})}let h=[[l,m,p,m,p,d,l,d,l,m],[c,m,c,d],[l,f,a,f],[p,f,u,f],[a,f-y,a,f+y],[u,f-y,u,f+y]];if(this.userData.vizProps&&this.userData.vizProps.alignedAxis==="y"){for(let D of h)for(var x=0;x<D.length;x+=2){let M=D[x];D[x]=D[x+1],D[x+1]=M}for(let D of g){let M=D[0];D[0]=D[1],D[1]=M}}let P=[{segments:h,graphMode:5,boundingBox:Tb("boxplot",h.concat(g)),poi:br(),color:n.color}];return g.length&&P.push({segments:[g],graphMode:3,color:n.color,style:"OPEN",showPoint:!0,poi:Gn(g)}),P};function RL(e){return Array.prototype.concat.apply([],e)}b.Table.prototype.isValueDraggable=function(e,t,r){if(!e.columns[t].isIndependent)return!1;let i=this.columns[t].values,s=i&&i[r];return!!(s&&isFinite(s.asValue())&&s.getDependencies().length===0)};b.Table.prototype.graph=function(e,t,r){let n={};if(t.columns[0].isError)return n;let s=t.columns[0].values;for(let o=1;o<this.columns.length;o++){let a=t.columns[o];if(a.isError)continue;let u=this.columns[o].header.userData,l=this.columns[o].header.metaData;if(u.hidden)continue;let c=co(l,["colorLatexValue","computedPointSize","computedPointOpacity"]),p=u.dragMode,f=p==="X"||p==="XY",m=p==="Y"||p==="XY",d=!!u.points,y=!!u.lines,g=[],h=[],x=[],P=[],D=[],M=[],E=1/0,S=-1/0,v=1/0,N=-1/0,G={};for(let H=0;H<s.length;H++){let te=s[H],je=a.values[H];if(!te||!je||!isFinite(te.asValue())||!isFinite(je.asValue())){G[H]=!0,y&&(M.length>1&&D.push(M),M=[]);continue}let Me=te.asValue(),Ke=je.asValue();if(d){if(H>=c)continue;let xt=f&&this.isValueDraggable(t,0,H),re=m&&this.isValueDraggable(t,o,H);xt||re?(x.push([Me,Ke]),P.push({index:H,dragX:xt,dragY:re})):h.push([Me,Ke])}y&&M.push([Me,Ke]),Me<E&&(E=Me),Me>S&&(S=Me),Ke<v&&(v=Ke),Ke>N&&(N=Ke)}let C={type:"table",xmin:E,xmax:S,ymin:v,ymax:N};x.length&&g.push({graphMode:4,segments:[x],color:l.colorLatexValue||u.color,tableId:u.tableId,poi:Gn(x),movablePointInfo:P,boundingBox:C,pointOpacity:l.computedPointOpacity}),h.length&&g.push({segments:[h],droppedIndices:G,graphMode:3,showPoint:!0,poi:Gn(h),color:l.colorLatexValue||u.color,pointSize:l.computedPointSize,pointOpacity:l.computedPointOpacity,style:u.pointStyle,tableId:u.tableId,boundingBox:C}),(D.length||M.length)&&(D.push(M),g.push({segments:D.map(RL),graphMode:5,poi:br(),color:Ni(u,l),style:u.lineStyle,lineWidth:Array.isArray(l.computedLineWidth)?l.computedLineWidth[0]:l.computedLineWidth,lineOpacity:Array.isArray(l.computedLineOpacity)?l.computedLineOpacity[0]:l.computedLineOpacity,tableId:u.tableId,boundingBox:C})),g.length&&(n[u.id]=g)}return n};function wL(e,t,r){return e?t===0&&r===0?e[2].type!=="none"||e[3].type!=="none":t!==0&&r!==0?e[0].type!=="none"&&e[1].type!=="none":t!==0?e[0].type!=="none":r!==0?e[1].type!=="none":!1:!1}b.Image.prototype.graph=function(e,t,r){let n=[];if(t.center.valueType!==w||t.center.getDependencies().length!==0||!t.radianAngle.isConstant||!t.width.isConstant||!t.height.isConstant||!t.opacity.isConstant)return n;let i=[],s=[],o=t.width.asValue()/2,a=t.height.asValue()/2,u=t.radianAngle.asValue();for(var l=-1;l<=1;l++)for(var c=-1;c<=1;c++){let[p,f]=t.center.asValue(),m=[p+l*o*Math.cos(u)+c*a*Math.sin(u),f-l*o*Math.sin(u)+c*a*Math.cos(u)];wL(t.moveStrategy,l,c)&&(i.push(m),s.push([l,c]))}return n.push({segments:[i],scaleFactors:[s],graphMode:4,color:Ni(this.userData,this.metaData),style:this.userData.style,poi:Gn(i),movablePointInfo:[],pointOpacity:1}),n};function gE(e){let t=[],r=[];for(let[n,i]of e)!isNaN(n)&&!isNaN(i)?t.push(n,i):(t.length>=4&&r.push(t),t=[]);return t.length>=4&&r.push(t),r}b.List.prototype.elementAt=function(e){return e=Math.floor(e),e>=0&&e<this.args.length?this.args[e]:new b.Constant(NaN)};b.List.prototype.eachElement=function(t){for(var r=0;r<this.length;r++)t(this.elementAt(r),r)};b.List.prototype.mapElements=function(t){for(var r=[],n=0;n<this.length;n++)r.push(t(this.elementAt(n),n));return r};b.IRExpression.prototype.elementAt=function(e){var t=this._chunk.elementAt(e);return new Yt(t)};b.ParenSeq.prototype.elementAt=function(e){return e<0||e>this.args.length-1?new b.Constant(NaN):this.args[e]};function LL(){return dr(this._symbol)+" "}b.Identifier.prototype.printLatex=LL;b.Constant.prototype.printLatex=function(){return so(this.asValue())};b.Ticker.prototype.printLatex=function(){return"\\\\ticker\\\\left("+this.args.map(Sr).join(", ")+"\\\\right)"};b.Negative.prototype.printLatex=function(){return"-\\\\left("+this.args[0].printLatex()+"\\\\right)"};b.Add.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)+\\\\left("+this.args[1].printLatex()+"\\\\right)"};b.PercentOf.prototype.printLatex=function(){return this.args[0].printLatex()+" \\\\% \\\\operatorname{of} "+this.args[1].printLatex()};b.Subtract.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)-\\\\left("+this.args[1].printLatex()+"\\\\right)"};b.Multiply.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)*\\\\left("+this.args[1].printLatex()+"\\\\right)"};b.Divide.prototype.printLatex=function(){return"\\\\frac{"+this.args[0].printLatex()+"}{"+this.args[1].printLatex()+"}"};b.Exponent.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)^{"+this.args[1].printLatex()+"}"};b.Assignment.prototype.printLatex=function(){return dr(this._symbol)+"="+this._expression.printLatex()};b.Equation.prototype.printLatex=function(){return this._lhs.printLatex()+"="+this._rhs.printLatex()};function Tu(e){switch(e){case">":return">";case"<":return"<";case">=":return"\\\\ge ";case"<=":return"\\\\le ";case"=":return"="}return""}b.BaseComparator.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+Tu(this.operator)+"\\\\left("+this.args[1].printLatex()+"\\\\right)"};b.DoubleInequality.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+Tu(this.args[1])+this.args[2].printLatex()+Tu(this.args[3])+"\\\\left("+this.args[4].printLatex()+"\\\\right)"};b.And.prototype.printLatex=function(){if(!(this.args[0]instanceof b.BaseComparator)||!(this.args[1]instanceof b.BaseComparator))throw new Error("Not implemented");if(this.args[0].args[1].printLatex()!==this.args[1].args[0].printLatex())throw new Error("Not implemented");return"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)"+Tu(this.args[0].operator)+"\\\\left("+this.args[0].args[1].printLatex()+"\\\\right)"+Tu(this.args[1].operator)+"\\\\left("+this.args[1].args[1].printLatex()+"\\\\right)"};function Sr(e){return e.printLatex()}function AL(){switch(this._symbol){case"sqrt":return"\\\\sqrt{"+this.args[0].printLatex()+"}";case"nthroot":return"\\\\sqrt["+this.args[1].printLatex()+"]{"+this.args[0].printLatex()+"}";case"logbase":return"\\\\log_{"+this.args[1].printLatex()+"}\\\\left("+this.args[0].printLatex()+"\\\\right)";default:return dr(this._symbol)+"\\\\left("+this.args.map(Sr).join(", ")+"\\\\right)"}}b.FunctionCall.prototype.printLatex=AL;b.SeededFunctionCall.prototype.printLatex=function(){return dr(this._symbol)+"\\\\left("+this.args.slice(1).map(Sr).join(", ")+"\\\\right)"};b.DotAccess.prototype.printLatex=function(){return"("+this.args[0].printLatex()+").("+this.args[1].printLatex()+")"};b.Prime.prototype.printLatex=function(){switch(this.args[0]._symbol){case"logbase":return"\\\\log_{"+this.args[0].args[1].printLatex()+"}"+Array(this.order+1).join("\'")+"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)";default:return dr(this.args[0]._symbol)+Array(this.order+1).join("\'")+"\\\\left("+this.args[0].args.map(Sr).join(", ")+"\\\\right)"}};b.List.prototype.printLatex=function(){return"\\\\left["+this.args.map(Sr).join(", ")+"\\\\right]"};b.Range.prototype.printLatex=function(){return"\\\\left["+this.args[0].args.map(Sr).join(", ")+" ... "+this.args[1].args.map(Sr).join(", ")+"\\\\right]"};b.UpdateRule.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\to("+this.args[1].printLatex()+")"};b.ListAccess.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)\\\\left["+this.args[1].printLatex()+"\\\\right]"};b.ParenSeq.prototype.printLatex=function(){return"\\\\left("+this.args.map(Sr).join(", ")+"\\\\right)"};b.BareSeq.prototype.printLatex=function(){return this.args.map(Sr).join(", ")};b.Sum.prototype.printLatex=function(){return"\\\\sum_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"};b.Product.prototype.printLatex=function(){return"\\\\prod_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"};b.Integral.prototype.printLatex=function(){return"\\\\int_{"+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)d"+this.args[0].printLatex()};b.FunctionExponent.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)^{"+this.args[2].printLatex()+"}"};b.FunctionFactorial.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)!"};function xE(e){return e.isConstant&&e.asValue()===!0}function CL(e){return e.isConstant&&e.isNaN()}b.Piecewise.prototype.printLatex=function(){var e=this;if(xE(e.args[0]))return e.args[1].printLatex();for(var t=["\\\\left\\\\{"];;){if(xE(e.args[0])){t.push(e.args[1].printLatex());break}if(t.push(e.args[0].printLatex(),": "),CL(e.args[2])){t.push(e.args[1].printLatex());break}if(t.push(e.args[1].printLatex(),", "),!(e.args[2]instanceof b.Piecewise)){t.push(e.args[2].printLatex());break}e=e.args[2]}return t.push("\\\\right\\\\}"),t.join("")};b.FunctionDefinition.prototype.printLatex=function(){return dr(this._symbol)+"\\\\left("+this._argSymbols.map(dr).join(", ")+"\\\\right) = "+this._expression.printLatex()};b.Derivative.prototype.printLatex=function(){return"\\\\frac{d}{d"+dr(this._symbol)+"}\\\\left("+this.args[0].printLatex()+"\\\\right)"};b.Regression.prototype.printLatex=function(){return"\\\\left("+this._lhs.printLatex()+"\\\\right)\\\\sim\\\\left("+this._rhs.printLatex()+"\\\\right)"};b.Histogram.prototype.printLatex=function(){return"\\\\histogram\\\\left("+this.args.map(Sr).join(", ")+"\\\\right)"};b.Object3D.prototype.printLatex=function(){return"\\\\"+this._symbol+"\\\\left("+this.args.map(Sr).join(", ")+"\\\\right)"};b.DotPlot.prototype.printLatex=function(){return"\\\\dotplot\\\\left("+this.args.map(Sr).join(", ")+"\\\\right)"};b.BoxPlot.prototype.printLatex=function(){return"\\\\boxplot\\\\left("+this.args.map(Sr).join(", ")+"\\\\right)"};b.TTest.prototype.printLatex=function(){return"\\\\TTest\\\\left("+this.args.map(Sr).join(", ")+"\\\\right)"};b.IndependentTTest.prototype.printLatex=function(){return"\\\\IndependentTTest\\\\left("+this.args.map(Sr).join(", ")+"\\\\right)"};b.Stats.prototype.printLatex=function(){return"\\\\Stats\\\\left("+this.args.map(Sr).join(", ")+"\\\\right)"};b.AssignmentExpression.prototype.printLatex=function(){return dr(this._symbol)+"="+this.args[1].printLatex()};b.ListComprehension.prototype.printLatex=function(){return"\\\\left["+this._body.printLatex()+"\\\\operatorname{for}"+this._inputLists.map(Sr).join(", ")+"\\\\right]"};b.Substitution.prototype.printLatex=function(){return"\\\\left(\\\\left("+this._body.printLatex()+"\\\\right)\\\\operatorname{with}"+this._assignments.map(Sr).join(", ")+"\\\\right)"};b.Construction.prototype.printLatex=function(){return"\\\\construction "};b.Base.prototype.getExpressionType=function(e,t){return e===1||e===2?"X_OR_Y":e===3||e===4?t===w?"SINGLE_POINT":"POINT_LIST":e===5?"PARAMETRIC":e===14?"PARAMETRIC":e===6?"POLAR":e===8?"IMPLICIT":pe(t,ye)?"POLYGON":"X_OR_Y"};b.Histogram.prototype.getExpressionType=function(e,t){return"HISTOGRAM"};b.Object3D.prototype.getExpressionType=function(e,t){return"CUBE"};b.DotPlot.prototype.getExpressionType=function(e,t){return"DOTPLOT"};b.BoxPlot.prototype.getExpressionType=function(e,t){return"BOXPLOT"};function Ib(e,t,r){let n=[],i={},s={},o={},a={},u={},l={},c={},p=0,f=[],m=[];if(!r){r=[];for(let h in t)t.hasOwnProperty(h)&&r.push(h)}for(let h in t){if(!t.hasOwnProperty(h))continue;let x=t[h].exportPenalty||0;for(;n.length<x+1;)n.push([]);n[x].push(h)}for(let h of n){let x={};for(let P of h){let D=t[P],M=t[P].exportPenalty||0,E=D.isTable,S=D.getLegalExports(e);for(let v of S)fe[v]||i[v]||(E&&(u[v]=!0),M===0&&(a[v]=!0),x[v]=x[v]||[],x[v].push(P),x[v].length>1&&(!s[v]&&E&&(o[v]=!0),s[v]=!0))}for(let P in x)o[P]||(i[P]=x[P])}for(let h of r)c.hasOwnProperty(h)||d(h);function d(h){c[h]=c[h]||{};let x=c[h],P;x.id=h,x.index=p,x.lowlink=p,f.push(x),x.instack=!0,p++;let D=t[h].getDependencies();for(let M of D){if(!i.hasOwnProperty(M))continue;let E=i[M];for(let S of E)c.hasOwnProperty(S)?(P=c[S],P.instack&&(x.lowlink=Math.min(x.lowlink,P.index))):(d(S),P=c[S],x.lowlink=Math.min(x.lowlink,P.lowlink))}if(x.lowlink===x.index)if(P=f.pop(),P.instack=!1,P===x)y(x);else{let M=[P];for(;P=f.pop(),P.instack=!1,M.push(P),P!==x;);g(M)}}function y(h){m.push(h.id)}function g(h){let x=[];for(let P=h.length-1;P>=0;P--){let D=h[P],M=t[D.id].getLegalExports(e);Array.prototype.push.apply(x,M),x.push(M[0]),m.push(D.id)}x=Wi(x),x.sort();for(let P of x)l[P]=x}return{resolved:m,globallyDefined:a,tableDefined:u,multiplyDefined:s,multiplyDefinedByTables:o,cyclicallyDefined:l}}var Iu=class{constructor({enableGeometry:t,scales:r}){this._isGeometry=!1;this._isGeometry=t,this._scales=r}isGeometryEnabled(){return this._isGeometry}areAllScalesLinear(){return this._scales?this._scales.xAxisScale==="linear"&&this._scales.yAxisScale==="linear":!0}dimensions(){return 2}assignmentForbidden(t){return t==="x"||t==="y"||t==="theta"||this.substitutionForbidden(t)}substitutionForbidden(t){return t==="index"||t==="dt"||t.slice(0,3)==="tmp"||fe.hasOwnProperty(t)}isValidSlider(t){return t==="x"||t==="y"?!0:!(t.slice(0,3)==="ans"||t.slice(0,6)==="idref_"||this.assignmentForbidden(t))}sliderVariables(t){return t.indexOf("theta")!==-1&&(t=t.filter(function(r){return r!=="r"})),t.filter(r=>!(this.assignmentForbidden(r)||r.slice(0,3)==="ans"||r.slice(0,6)==="idref_"||r[0]==="_"))}graphingEnabled(){return!0}ansEnabled(){return!1}dimensionVarsEnabled(){return!0}validRegressionParameter(t){return t!=="x"&&t!=="y"}validLHS(t){return t!=="theta"&&t.slice(0,6)!=="idref_"}unplottablePolarFunction(t,r){return t!=="theta"?!1:r.indexOf("r")!==-1}validDoubleInequalitySymbol(t){return t==="x"||t==="y"}validDoubleInequalityVariables(t){return t.length>2?!1:t.every(this.validDoubleInequalitySymbol)}validExpressionVariables(t){return t.length===1&&t[0]==="x"}validSolvedVariable(t){return t==="x"||t==="y"||t==="r"}validImplicitVariables(t){switch(t.length){case 0:return!0;case 1:return t[0]==="x"||t[0]==="y"||t[0]==="r";case 2:return t[0]==="x"&&t[1]==="y"||t[0]==="y"&&t[1]==="x"||t[0]==="r"&&t[1]==="theta"||t[0]==="theta"&&t[1]==="r";default:return!1}}graphableListVariables(t,r){return t==="x"||t==="y"||t==="r"||r==="x"||r==="y"}validParametricVariable(t){return t==="t"}validParametricVariables(t){return t.length===1&&this.validParametricVariable(t[0])}validInequalityVariables(t){switch(t.length){case 1:return t[0]==="x"||t[0]==="y"||t[0]==="r";case 2:return this.validImplicitVariables(t);default:return!1}}validFirstColumnVariable(t){return t!=="y"&&t!=="r"&&t!=="theta"&&!t.match(/y_(\\d+)/)}validActionVariable(t){return t==="dt"||t==="index"}complicatedPolarImplicit(t,r){return t==="theta"||t==="r"&&r!==1}constantGraphMode(t){return t==="x"?1:t==="r"?6:2}graphMode(t,r){let n=r[0];return n==="y"?1:t==="x"?1:t==="r"&&n==="theta"?6:2}tableableAsConstant(t){return!(t==="x"||t==="r"||t==="theta")}implicitIndependent(t){return"x"}implicitDependency(t){return t.length!==1?"y":t[0]==="y"?"x":t[0]==="theta"?"r":"y"}graphableAsConstant(t){return t==="y"||t==="x"||t==="r"}disabledFeatures(){return[]}},cf=class{isGeometryEnabled(){return!1}areAllScalesLinear(){return!0}dimensions(){return 3}assignmentForbidden(t){return t==="x"||t==="y"||t==="z"||this.substitutionForbidden(t)}substitutionForbidden(t){return t.slice(0,3)==="tmp"||fe.hasOwnProperty(t)}isValidSlider(t){return t==="x"||t==="y"||t==="z"?!0:!(t.slice(0,3)==="ans"||this.assignmentForbidden(t))}sliderVariables(t){return t.filter(r=>!(this.assignmentForbidden(r)||r.slice(0,3)==="ans"))}graphingEnabled(){return!0}ansEnabled(){return!1}dimensionVarsEnabled(){return!0}validRegressionParameter(t){return!1}validLHS(t){return!0}unplottablePolarFunction(t,r){return!1}validDoubleInequalitySymbol(t){return!1}validDoubleInequalityVariables(t){return!1}validExpressionVariables(t){let r=t.join("");return r==="x"||r==="y"||r==="xy"||r==="yx"}validSolvedVariable(t){return t==="x"||t==="y"||t==="z"}validImplicitVariables(t){return!1}graphableListVariables(t,r){return t==="x"||t==="y"||r==="x"||r==="y"}validParametricVariable(t){return t==="t"}validParametricVariables(t){return t.length===1&&this.validParametricVariable(t[0])}validInequalityVariables(t){return!1}validFirstColumnVariable(t){return!1}validActionVariable(t){return t==="dt"||t==="index"}complicatedPolarImplicit(t,r){return!1}constantGraphMode(t){return 13}graphMode(t,r){return t==="z"&&this.validExpressionVariables(r)?13:10}tableableAsConstant(t){return!(t==="x"||t==="r")}implicitIndependent(t){return"x"}implicitDependency(t){if(t.length!==2)return"z";let r=t[0]<t[1]?t[0]+t[1]:t[1]+t[0];return r==="xy"?"z":r==="xz"?"y":r==="yz"?"x":"z"}graphableAsConstant(t){return t==="z"}disabledFeatures(){return[]}};var _L=100;function pf(e){for(var t=[],r=0;r<e;r++)t[r]={x:[],y:[],intersects:[]};return t}function FL(e,t,r,n){return r===1&&n===1||r===2&&n===2?function(i){return t(i)-e(i)}:r===1&&n===2||r===2&&n===1?function(i){return i-t(e(i))}:!1}function TE(e,t){t instanceof b.SolvedEquation?t=t._expression:t instanceof b.OptimizedRegression&&(t=t.model);var r=[],n=[];return t instanceof b.DoubleInequality?b.List.eachArgs(t._expressions,function(i){r.push(i[0].getCompiledFunction()),n.push(i[0].isConstant&&i[1].isNaN()),r.push(i[1].getCompiledFunction()),n.push(i[1].isConstant&&i[1].isNaN())}):b.List.wrap(t).eachElement(function(i){r.push(i.getCompiledFunction()),n.push(i.isConstant&&i.isNaN())}),{functions:r,skipIntersecting:n}}function BL(e,t){var r=[];for(var n in e)if(e.hasOwnProperty(n)&&String(n)!==String(t)&&e[n].shouldIntersect()){var i=e[n],s=TE(i.policy,i.concreteTree);r.push({id:n,graphMode:i.getGraphMode(),functions:s.functions,skipIntersecting:s.skipIntersecting})}return r}function VL(e,t){e.intersects=Array(e.x.length);for(var r=0;r<e.x.length;r++)e.intersects[r]=t}function GL(e,t){if(t===1){var r=e.y;e.y=e.x,e.x=r}}function qL(e,t){Array.prototype.push.apply(e.x,t.x),Array.prototype.push.apply(e.y,t.y),e.intersects&&t.intersects&&Array.prototype.push.apply(e.intersects,t.intersects)}function kL(e,t,r){var n=yb(e,t),i=n.poi.zeros,s=n.poi.extrema,o=[],a=0,u=0;for(a=0;a<i.x.length;a++){for(;u<s.x.length&&s.x[u]<i.x[a];u++)Nr(s.y[u],0)&&o.push(s.x[u]);o.push(i.x[a])}for(;u<s.x.length;u++)Nr(s.y[u],0)&&o.push(s.x[u]);return{x:o,y:o.map(r)}}function IE(e,t,r){var n=e[r],i=n.getGraphInfo(),s=n.getGraphMode(),o,a,u;try{o=TE(n.policy,n.concreteTree),a=pf(o.functions.length),u=BL(e,r)}catch(P){return pf(0)}if(!u)return a;for(var l=0,c=0;c<u.length;c++)for(var p=u[c],f=0;f<o.functions.length;f++)if(!o.skipIntersecting[f]){for(var m=o.functions[f].fn,d=ra(t,i,m),y=0;y<p.functions.length;y++)if(!u[c].skipIntersecting[y]){var g=p.functions[y].fn,h=FL(m,g,s,p.graphMode);if(h){var x;try{x=kL(h,d,m)}catch(P){return pf(0)}if(l+=x.x.length,l>_L)return pf(o.functions.length);VL(x,p.id),GL(x,s),qL(a[f],x)}}}return a}function zL(e){if(e.length<2)return"text";let t=e.split("`").length-1;return t<2?"text":t===2&&e[0]==="`"&&e[e.length-1]==="`"?"latex":"mixed"}function UL(e){if(e.length===0)return[""];let t=[],r=e.split(/(`)/),n=!1,i="";for(let s=0;s<r.length;s++){let o=r[s];o.length&&(o==="`"?(i+="`",n=!n,n||(t.push(i),i="")):(i+=o,n||(t.push(i),i="")))}return i.length&&t.push(i),t}function Mb(e){return UL(e).map(HL)}function HL(e){let r="\\\\$({"+["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\\\{[a-zA-Z0-9]+\\\\}","\\\\\\\\[a-zA-Z]+","\\\\\\\\[a-zA-Z]+_{[a-zA-Z0-9]+}","\\\\\\\\[a-zA-Z]+_[a-zA-Z0-9]+"].join("})|\\\\$({")+"})",n=new RegExp(r,"g"),i=[],s=0,o=0,a;for(;a=n.exec(e);){o=a.index,o>s&&i.push(e.substr(s,o-s));let u=a[0],l=u.replace(/[{}\\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");i.push({symbol:l,str:u}),s=a.index+u.length}return s<e.length&&i.push(e.substr(s)),{raw:e,parts:i}}function ME(e,t){return t?"{"+od(e,{bigCutoff:1e7,digits:8})+"}":sd(e,{bigCutoff:1e7,digits:8})}function vb(e,t,r){return e.map(n=>$L(n,t,r)).join("")}function $L(e,t,r){let n=[],i=zL(e.raw)==="latex";for(let s of e.parts)if(typeof s=="string")n.push(s);else{let o=new b.Identifier(s.symbol).tryGetConcreteTree(yp,t);if(o.valueType===I&&o.getDependencies().length===0){let a=o.asValue();if(typeof a=="number"){n.push(ME(a,i));continue}}else if(o.valueType===Y&&r<o.length&&o.getDependencies().length===0){let a=o.elementAt(r).asValue();if(typeof a=="number"){n.push(ME(a,i));continue}}i?n.push("{?}"):n.push("?")}return n.join("")}function vE(){let e={},t={},r={},n=[],i=this.statements[qn];for(let s in this.statements){if(!this.statements.hasOwnProperty(s))continue;let o=this.statements[s];switch(o.type){case"Error":break;case"Regression":{r[s]=[],n.push(s);break}case"Construction":break;default:{let a=o.getLegalExports(this.policy);if(a){for(let l of a)o.exportPenalty!==void 0&&o.exportPenalty>0?t[l]=s:e[l]=s;let u=[];for(let l of o.getDependencies())l==="construction"&&i?u.push(...i.getDependencies()):u.push(l);r[s]=ya(u,o.getDummyDependencies(),a)}break}}}for(let s of n){let o=this.statements[s],a=pi(o.userData.residualVariable);a&&(t[a]=s);let u=o.getDependencies().slice(),l={},c;for(;c=u.pop();){if(l[c])continue;l[c]=!0;let p=e[c]||t[c];if(p){u.push(...r[p]),r[s].push(c);continue}t[c]=s}}return{exportMap:e,weakExportMap:t,dependencyMap:r}}var Mu=class{constructor(){this.data={}}getChildIntersections(t){return this.data[t]||{count:0}}addListParent(t,r,n){if(oa(n.valueType,[w,Le]),r!==void 0)n.valueType===Le?this.addPoint(t,r,n.value[r]):this.addPoint(t,r,n.value);else{oa(n.valueType,[Le]);for(let i=0;i<n.value.length;i++)this.addPoint(t,i,n.value[i])}}addPrimitiveParent(t,r){if(oa(r.valueType,[w,Le]),r.valueType===w)this.addPoint(t,0,r.value);else for(let n=0;n<r.value.length;n++)this.addPoint(t,0,r.value[n])}addPoint(t,r,n){var s;let i=this.data[t]||{count:0};this.data[t]||(this.data[t]=i),i[r]||(i[r]=[]),(s=i[r])==null||s.push(n),i.count++}};var vu=class{constructor(t){this.singleExpression=t.singleExpression}isGeometryEnabled(){return!1}areAllScalesLinear(){return!0}assignmentForbidden(t){return this.substitutionForbidden(t)}substitutionForbidden(t){return t.slice(0,3)!=="ans"}isValidSlider(t){return!1}sliderVariables(){return[]}graphingEnabled(){return!1}ansEnabled(){return!this.singleExpression}dimensionVarsEnabled(){return!1}disabledFeatures(){return["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf","Substitution"]}};var Eu=class{constructor(t){this.singleExpression=t.singleExpression}isGeometryEnabled(){return!1}areAllScalesLinear(){return!0}assignmentForbidden(t){return this.substitutionForbidden(t)}substitutionForbidden(t){return this.singleExpression?t.slice(0,3)!=="ans":t.slice(0,3)==="tmp"}isValidSlider(t){return!1}sliderVariables(){return[]}graphingEnabled(){return!1}ansEnabled(){return!this.singleExpression}dimensionVarsEnabled(){return!1}disabledFeatures(){return this.singleExpression?["Sum","Product","Integral","Derivative","Piecewise","Substitution","PercentOf"]:["Sum","Product","Integral","Derivative","Piecewise","Substitution"]}};var ki=typeof performance!="undefined"?()=>performance.now():()=>Date.now();typeof self!="undefined"&&self.WorkerGlobalScope&&(self.Fragile={countReferences:dp,Opcodes:Qe,Types:me,getConstantListLength:ur,ParsenodeError:O});var{Constant:ti,Seed:SE,FunctionCall:rA,Image:nA,Slider:iA,Table:sA,TableColumn:oA,Construction:aA}=b;function uA(e,t){switch(e){case"fourFunction":return new vu({singleExpression:!1});case"singleExpressionFourFunction":return new vu({singleExpression:!0});case"scientific":return new Eu({singleExpression:!1});case"singleExpressionScientific":return new Eu({singleExpression:!0});case"graphing":return new Iu({enableGeometry:!1,scales:t});case"geometry":return new Iu({enableGeometry:!0,scales:t});case"graphing_3d":return new cf}}var lA={fourFunction:zu,singleExpressionFourFunction:zu,scientific:If,singleExpressionScientific:Mf,graphing:ca,graphing_3d:ca,geometry:ca},qn="**geo_construction_statement_id**";function Jr(e,t){var r=Mi(e,t);return r.isError||r instanceof b.Expression?r:Te()}function cA(e){let t=e.rawTree.userData,r=e.rawTree.metaData;return!!(t.cdf&&t.cdf.show&&r.distributionSpec)}function pA(e){let t=e.evaluationState.expression_type,r=e.rawTree.userData;return!r.clickableInfo||!r.clickableInfo.enabled?!1:e.rawTree.isImage?!0:e.getGraphMode()===4?!1:QM(t)}function Vt(e,t){let r="id"+e;for(let[n,i]of t||[])r+="::"+n+i;return r}var fA=new ti(ie(0,1)),dA=new ti(ie(1,1)),mA=new ti(NaN);function fo(e,t){return e?e==="0"?fA:e==="1"?dA:Jr(e,t):mA}function vs(e,t){if(e)return Jr(e,t)}function yA(e){return e.slice(0,3)!=="ans"}function gA(e){return e.slice(0,6)!=="idref_"}function OE(e,t){let{multiplyDefined:r,multiplyDefinedByTables:n,cyclicallyDefined:i}=e;for(let s in r)r.hasOwnProperty(s)&&(t[s]=n[s]?Nm(s):So(s));for(let s in i){if(!i.hasOwnProperty(s))continue;let o=e.tableDefined[s]&&!e.globallyDefined[s],a=i[s].filter(yA).filter(gA);t[s]=o?Rm(a):ic(a)}}function Ou(e,t,r){for(let n of r)e[n]||(e[n]=[]),e[n].push(t)}function NE(e,t,r){if(r.extraDepNodes)for(let n of r.extraDepNodes)n&&Ou(e,t,n.getDependencies());r.clickHandler&&Ou(e,t,r.clickHandler.getDependencies())}function hA(e,t,r){let n=e.evaluationState,i=e.rawTree,s=i.metaData.cdfMin,o=i.metaData.cdfMax,a={},u=NaN,l=NaN,c=i.type==="Assignment"?i._expression:i,p=c&&c.metaData&&c.metaData.distributionSpec;if(s){let g=s.tryGetConcreteTree(t,r);g.isConstant&&(u=+g.asValue());for(let h of g.getDependencies())a[h]=!0}else u=-1/0;if(o){let g=o.tryGetConcreteTree(t,r);g.isConstant&&(l=+g.asValue());for(let h of g.getDependencies())a[h]=!0}else l=1/0;let f=!0,m=!0;if(isNaN(u)&&(f=!1,u=NaN),isNaN(l)&&(m=!1,l=NaN),f?m?u>l&&(f=!1,m=!1,n.error=zm().getError()):n.error=km().getError():n.error=qm().getError(),f&&m){let g=new rA("cdf",[c,new ti(u),new ti(l)]);n.cdf_evaluation=+g.tryGetConcreteTree(t,r).asValue()}let d=-1/0,y=1/0;if(p&&(p.discrete&&(d=0),p.symbol==="binomialdist"&&c.args&&c.args[0])){let g=+c.args[0].asValue();isFinite(g)&&(y=g)}i.metaData.evaluatedCDFMin=u,i.metaData.evaluatedCDFMax=l,n.cdf_min_valid=f,n.cdf_max_valid=m,n.cdf_min_default=d,n.cdf_max_default=y,n.is_single_identifier=!1,oo(n,t,a)}function bA(e,t,r,n){let i={},s=!0,o=NaN,a,u=!1;if(r){let l=r.tryGetConcreteTree(e,t);a=l.getDependencies().length===0?l.asValue():NaN,u=Array.isArray(a),o=u?a:+a;for(let c of l.getDependencies())i[c]=!0}if(u){for(let l of o)if(!isFinite(+l)){s=!1,o=NaN;break}}else isFinite(+o)||(s=!1,o=NaN);return r||(s=!0,n!==void 0&&(o=n)),{value:o,valid:s,missingVarsMap:i}}var Su={lineWidth:{parseNode:"lineWidth",valueOutputProp:"computedLineWidth",formulaOutputProp:"",validOutputProp:"line_width_valid",default:(e,t,r,n)=>{let i=r.isGeometryEnabled(),s=n!==void 0&&pe(n,ye);return i&&s?2:2.5},transform:void 0,shouldEvaluate:void 0,seed:"lw"},lineOpacity:{parseNode:"lineOpacity",valueOutputProp:"computedLineOpacity",formulaOutputProp:"",validOutputProp:"line_opacity_valid",default:(e,t,r,n)=>{let i=r.isGeometryEnabled(),s=n!==void 0&&pe(n,ye);return i&&s?.6:.9},transform:void 0,shouldEvaluate:void 0,seed:"lo"},pointOpacity:{parseNode:"pointOpacity",valueOutputProp:"computedPointOpacity",formulaOutputProp:"",validOutputProp:"point_opacity_valid",default:(e,t,r)=>!e||!t?.9:e.getGraphMode(r,t)===4?1:.9,transform:void 0,shouldEvaluate:void 0,seed:"po"},pointSize:{parseNode:"pointSize",valueOutputProp:"computedPointSize",formulaOutputProp:"",validOutputProp:"point_size_valid",default:()=>9,shouldEvaluate:void 0,transform:void 0,seed:"ps"},fillOpacity:{parseNode:"fillOpacity",valueOutputProp:"computedFillOpacity",formulaOutputProp:"",validOutputProp:"fill_opacity_valid",default:(e,t,r,n)=>{let i=r.isGeometryEnabled(),s=n!==void 0&&pe(n,ye);return i&&s?.2:.4},transform:void 0,shouldEvaluate:e=>{if(!e)return!1;let{expression_type:t,is_inequality:r}=e.evaluationState;return!!(t==="POLYGON"||t==="PARAMETRIC"||r)},seed:"fo"},labelSize:{parseNode:"labelSize",valueOutputProp:"computedLabelSize",formulaOutputProp:"",validOutputProp:"label_size_valid",transform:void 0,default:()=>1,shouldEvaluate:void 0,seed:"ls"},labelAngle:{parseNode:"labelAngle",valueOutputProp:"computedLabelAngle",formulaOutputProp:"label_angle_value",validOutputProp:"label_angle_valid",default:()=>0,transform:e=>`-\\\\trigAngleMultiplier*(${e})`,shouldEvaluate:void 0,seed:"la"}};function DE(e,t,r,n,i,s,o){let a=Su[s],u;e&&(u=e.tryGetConcreteTree(n,i));let l=a.default&&a.default(e,u,n,o),c=bA(n,i,r[a.parseNode],l);r[a.valueOutputProp]=c.value,a.formulaOutputProp&&(t[a.formulaOutputProp]=c.value),t[a.validOutputProp]=c.valid,oo(t,n,c.missingVarsMap)}function xA(e,t,r,n){let i,s,o;if(e.rawTree.isTable&&e.evaluationState.column_data&&e.rawTree.columns)for(let a=0;a<e.evaluationState.column_data.length;a++)i=e.evaluationState.column_data[a],s=e.rawTree.columns[a].header.metaData,o=s[n],DE(o,i,s,t,r,n,e.concreteTree.valueType);else i=e.evaluationState,s=e.rawTree.metaData,o=s[n],DE(o,i,s,t,r,n,e.concreteTree.valueType)}function RE(e){return Xs(e[0],e[1],e[2]).formatHex()}function wE(e,t,r,n,i){let s;if(e){let o=e.tryGetConcreteTree(n,i),a=o.getDependencies().length>0?void 0:o.asValue(),{valueType:u}=o;if(s=!!(a&&(u===et||u===rr)),s){let l=o&&o.valueType===et?RE(a):a.map(RE);t.colorLatexValue=l,r.color_latex_value=l}}else s=!0;r.color_latex_valid=s}function PA(e,t,r){let n,i,s;if(e.rawTree.isTable&&e.evaluationState.column_data&&e.rawTree.columns)for(let o=0;o<e.evaluationState.column_data.length;o++)n=e.evaluationState.column_data[o],i=e.rawTree.columns[o].header.metaData,s=i.colorLatex,wE(s,i,n,t,r);else n=e.evaluationState,i=e.rawTree.metaData,s=i.colorLatex,wE(s,i,n,t,r)}function TA(e,t,r){let n=e.evaluationState,i=e.rawTree,s={},o=i.metaData.clickHandler;if(!o)return;let a=o.tryGetConcreteTree(t,r);!a.isError&&a.valueType!==Ge&&(a=ba(Z(a.valueType)));for(let l of a.getDependencies())t.validActionVariable(l)||(s[l]=!0);let u=Object.keys(s);u.length>0&&(a=Tt(u).setDependencies(a.getDependencies())),a.isError&&!Ah(t,a)?n.click_handler={status:"error",error:a.getError()}:a.isEmptyAction?n.click_handler={status:"empty"}:n.click_handler={status:"maybe-valid"},oo(n,t,s)}function IA(e,t,r){let n=e.evaluationState,i=e.rawTree,s=n.expression_type==="POLAR"?i.metaData.polarDomainMin:i.metaData.parametricDomainMin,o=n.expression_type==="POLAR"?i.metaData.polarDomainMax:i.metaData.parametricDomainMax,a={},u=NaN,l=NaN,c=!1;if(s){c=!0;let m=s.tryGetConcreteTree(t,r);m.isConstant&&(u=+m.asValue());for(let d of m.getDependencies())a[d]=!0}else u=0;if(o){c=!0;let m=o.tryGetConcreteTree(t,r);m.isConstant&&(l=+m.asValue());for(let d of m.getDependencies())a[d]=!0}else n.expression_type==="PARAMETRIC"?l=1:n.expression_type==="POLAR"&&(l=Math.PI*12/+r.trigAngleMultiplier.asValue());let p=!0,f=!0;isFinite(u)||(p=!1,u=NaN),isFinite(l)||(f=!1,l=NaN),p?f?u>l&&(p=!1,f=!1,n.error=Gm().getError()):n.error=Vm().getError():n.error=Bm().getError(),i.metaData.evaluatedDomainMin=u,i.metaData.evaluatedDomainMax=l,n.expression_type==="POLAR"&&(i.metaData.isExplicitDomain=c),n.domain_min_number=u,n.domain_max_number=l,n.domain_min_valid=p,n.domain_max_valid=f,n.expression_type==="PARAMETRIC"&&(delete a.t,oo(n,t,a))}function MA(e,t,r){let n=e.evaluationState,i=e.rawTree,s=i.metaData.vizAxisOffset,o=i.metaData.vizBreadth,a={},u=NaN,l=NaN;if(s){let f=s.tryGetConcreteTree(t,r);f.isConstant&&(u=+f.asValue());for(let m of f.getDependencies())a[m]=!0}else u=1;if(o){let f=o.tryGetConcreteTree(t,r);f.isConstant&&(l=+f.asValue());for(let m of f.getDependencies())a[m]=!0}else l=1;let c=!0,p=!0;isFinite(u)||(c=!1,u=NaN),isFinite(l)||(p=!1,l=NaN),c?p||(n.error=Jd().getError()):n.error=Xd().getError(),i.metaData.evaluatedAxisOffset=u,i.metaData.evaluatedBreadth=l,n.viz_values={axisOffset:u,breadth:l},n.viz_valids={axisOffset:c,breadth:p},oo(n,t,a)}function vA(e){return e.globalRandomSeed||[]}function LE(e,t,r,n,i){let s={},o={},a=[],u=[];for(let l in n)n[l]&&(o[l]=!0,a.push(l));for(let l in i)i[l]&&(s[l]=!0,u.push(l));for(;a.length||u.length;){for(;a.length;){let l=a.pop(),c=t[l];if(c)for(let p of c.getLegalExports(e))s[p]||(s[p]=!0,u.push(p))}for(;u.length;){let l=u.pop(),c=r[l];if(c)for(let p of c)o[p]||(o[p]=!0,a.push(p))}}return{ids:o,symbols:s}}function Eb(e,t,r){if(e.isError||e.getDependencies().length||e.valueType!==Ge)return;let n=e.asValue();if(n)for(let i in n.updateRules){t[i]=wh(n,i);let{value:s,valueType:o}=n.updateRules[i];r[i]=new b.Assignment(i,Nt(o,s))}}var ff=class{constructor(){this.childIntersections=new Mu;this.getCLSymbolMap=vE;this.statements={},this.analysis={},this.currentStatus={},this.currentLabel={},this.unpublishedIds={},this.dimensions={width:0,height:0},this.intersectId=void 0,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={},this.markedRegressionDirty=!1,this.use_degrees=!1,this.initialEvaluation=!1,this.globalEventCount=0,this.actions=!0,this.substitutions=!0,this.setEvaluationMode("graphing"),this.setRestrictedFunctions(!1),this.setForceEnableGeometryFunctions(!1),this.setFunctionDefinition(!0),this.setReplaceRoundWithReciprocal(!1),this.setDistributions(!0),this.invalidate()}invalidate(){delete this.statements[qn];for(let r in this.statements)this.statements.hasOwnProperty(r)&&this.markAsDirtyRoot(r);this.currentStatus={},this.analysis={};let t=this.viewState?{xAxisScale:this.viewState.xAxisScale,yAxisScale:this.viewState.yAxisScale}:void 0;this.policy=uA(this.evaluationMode,t),this.parent_frame=lA[this.evaluationMode].getFrame({restrictedFunctions:this.restrictedFunctions,forceEnableGeometryFunctions:this.forceEnableGeometryFunctions,isGeometryCalculator:this.evaluationMode==="geometry",replaceRoundWithReciprocal:this.replaceRoundWithReciprocal,distributions:this.distributions,additionalFunctions:this.additionalFunctions,trigAngleMultiplier:new ti(this.use_degrees?Math.PI/180:ie(1,1)),initialEvaluation:new ti(this.initialEvaluation?1:0),globalEventCount:new ti(0),globalRandomSeed:new SE(this.globalRandomSeedString||""),width:this.policy.dimensionVarsEnabled()?new ti(ie(this.dimensions.width,1)):dc("width"),height:this.policy.dimensionVarsEnabled()?new ti(ie(this.dimensions.height,1)):dc("height")}),this.frame=Object.create(this.parent_frame),this.lastFrame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame),this.lastClockTickTime=void 0}processChangeSet(t){let r=ki(),n={cacheWrites:0,cacheReads:0,cacheHits:0,cacheMisses:0};RM(n);let i={intersections:{},graphs:{}};t.isCompleteState&&(this.invalidate(),this.statements={},this.currentLabel={});let s=!!t.isCompleteState&&!t.isUndoRedoState;s!==this.initialEvaluation&&(this.initialEvaluation=s,this.invalidate()),t.viewState&&this.setViewState(t.viewState),t.hasOwnProperty("degreeMode")&&this.setDegreeMode(t.degreeMode),t.hasOwnProperty("globalRandomSeed")&&this.setGlobalRandomSeed(t.globalRandomSeed),t.hasOwnProperty("evaluationMode")&&this.setEvaluationMode(t.evaluationMode),t.hasOwnProperty("additionalFunctions")&&this.setAdditionalFunctions(t.additionalFunctions),t.hasOwnProperty("restrictedFunctions")&&this.setRestrictedFunctions(t.restrictedFunctions),t.hasOwnProperty("forceEnableGeometryFunctions")&&this.setForceEnableGeometryFunctions(t.forceEnableGeometryFunctions),t.hasOwnProperty("distributions")&&this.setDistributions(t.distributions),t.hasOwnProperty("functionDefinition")&&this.setFunctionDefinition(t.functionDefinition),t.hasOwnProperty("replaceRoundWithReciprocal")&&this.setReplaceRoundWithReciprocal(t.replaceRoundWithReciprocal),t.hasOwnProperty("pointsOfInterest")&&this.setWorkerConfigProperty("pointsOfInterest",t.pointsOfInterest),t.hasOwnProperty("plotSingleVariableImplicitEquations")&&this.setWorkerConfigProperty("plotSingleVariableImplicitEquations",t.plotSingleVariableImplicitEquations),t.hasOwnProperty("plotImplicits")&&this.setWorkerConfigProperty("plotImplicits",t.plotImplicits),t.hasOwnProperty("plotInequalities")&&this.setWorkerConfigProperty("plotInequalities",t.plotInequalities),t.hasOwnProperty("sliders")&&this.setWorkerConfigProperty("sliders",t.sliders),t.hasOwnProperty("actions")&&this.setActions(!!t.actions),t.hasOwnProperty("substitutions")&&this.setSubstitutions(!!t.substitutions);let o;if(t.hasOwnProperty("selectedIds")){let p=t.selectedIds||{};(this.intersectId===void 0||!p[this.intersectId])&&([o]=Object.keys(p),this.intersectId=o)}t.hasOwnProperty("dimensions")&&this.setDimensions(t.dimensions);let a=ki();this.processStatements(t,i);let u=ki();n.processStatements=u-a,a=u,this.updateAnalysis(),u=ki(),n.updateAnalysis=u-a,a=u,o!==void 0&&this._updateIntersections(o,i),u=ki(),n.updateIntersections=u-a,a=u;let l=this._publishAllStatuses();u=ki(),n.publishAllStatuses=u-a,a=u,this._computeAllLabels(),u=ki(),n.computeAllLabels=u-a,a=u,this._computeAriaDescriptions(),u=ki(),n.computeAriaDescriptions=u-a,a=u,this._graphAllChanged(i),u=ki(),n.graphAllChanges=u-a;let c=this.processEvents(t.events);return this.unpublishedIds={},n.timeInWorker=u-r,{syncId:t.syncId,isCompleteState:t.isCompleteState,intersectionChanges:i.intersections,statusChanges:l,graphChanges:i.graphs,timingData:n,eventUpdates:c}}processStatements(t,r){if(t.removes)for(let n in t.removes){let i;if(!t.isCompleteState&&this.statements.hasOwnProperty(n)&&(i=this.statements[n].getAllIds()),this.removeStatement(n,r),!t.isCompleteState&&i)for(let s of i)r.graphs[s]=void 0}if(t.statements)for(let n in t.statements){let i=t.statements[n];i===null||this.addStatement(i,r)}}setViewState(t){if(ci(t,this.viewState))return;let r=!!(this.viewState&&t.xAxisScale===this.viewState.xAxisScale&&t.yAxisScale===this.viewState.yAxisScale);if(this.viewState=t,r)for(let n in this.statements)this.statements.hasOwnProperty(n)&&(this.unpublishedIds[n]=!0);else this.invalidate()}getViewState(){return this.viewState}setDegreeMode(t){this.use_degrees=t,this.invalidate()}setDimensions(t){t!==void 0&&(this.dimensions=t,this.invalidate())}setGlobalRandomSeed(t){this.globalRandomSeedString=t,this.parent_frame.globalRandomSeed=new SE(t),this.dirtyExportedSymbolRoots.globalRandomSeed=!0}setEvaluationMode(t){this.evaluationMode=t,this.invalidate()}setAdditionalFunctions(t){this.additionalFunctions=t,this.invalidate()}setRestrictedFunctions(t){this.restrictedFunctions=t,this.invalidate()}setForceEnableGeometryFunctions(t){this.forceEnableGeometryFunctions=t,this.invalidate()}setDistributions(t){this.distributions=t,this.invalidate()}setFunctionDefinition(t){this.functionDefinition=t,this.invalidate()}setReplaceRoundWithReciprocal(t){this.replaceRoundWithReciprocal=t,this.invalidate()}setActions(t){t!==this.actions&&(this.actions=t,this.invalidate())}setSubstitutions(t){t!==this.substitutions&&(this.substitutions=t,this.invalidate())}setWorkerConfigProperty(t,r){r!==on[t]&&(on[t]=r,this.invalidate())}_publishAllStatuses(){let t={},r=this.currentStatus;this.currentStatus={};for(let n in this.unpublishedIds){if(!this.analysis.hasOwnProperty(n))continue;let i=this.analysis[n].evaluationState;ci(i,r[n])||(t[n]=i),this.currentStatus[n]=i}return t}_computeAllLabels(){for(let t in this.currentLabel){let r=this.statements[t];if(!r)continue;let n=r.tryGetConcreteTree(this.policy,this.frame),i=1;(n.valueType===Le||n.valueType===Ct||n.valueType===zt||n.valueType===vt||n.valueType===Et)&&(i=n.length);let s=[],o=this.currentLabel[t];if(jn(o))for(let a=0;a<i;a++)s.push(vb(o,this.frame,a));ci(s,r.computedLabels)||(r.computedLabels=s,this.unpublishedIds[t]=!0)}}_computeAriaDescriptions(){for(let t in this.analysis){let r=this.analysis[t],n=r.evaluationState,s=r.rawTree.userData;if(s.description&&s.description!==""){n.computed_description=[];let o=1;r.concreteTree.isList?o=r.concreteTree.length:n.dimensions&&n.dimensions.x&&Array.isArray(n.dimensions.x)&&(o=n.dimensions.x.length);for(let a=0;a<o;a++)n.computed_description.push(vb(Mb(s.description),this.frame,a))}}}_graphAllChanged(t){let r=this.getViewState(),n=!1;if(!(!r||!tE(r))){for(let i in this.unpublishedIds){if(!this.analysis.hasOwnProperty(i))continue;let s=this.analysis[i],o=s.evaluationState.expression_type,a=o==="SINGLE_POINT"||o==="POINT_LIST";if(s.rawTree.isTable){let u=s.graph(r,void 0),l=s.rawTree.getAllIds();for(let c of l)u[c]?this._notifyGraphComputed(c,u[c],t):this._notifyGraphRemoved(c,t)}else s.evaluationState.is_graphable&&(s.rawTree.userData.shouldGraph||s.rawTree.userData.showLabel&&a)?(this._notifyGraphComputed(i,s.graph(r,this.childIntersections.getChildIntersections(i)),t),this.intersectId===i&&(n=!0)):this._notifyGraphRemoved(i,t)}ar(this.unpublishedIds).length&&this.intersectId!==void 0&&(this.unpublishedIds.hasOwnProperty(this.intersectId)||(n=!0)),n&&this._updateIntersections(this.intersectId,t)}}_notifyGraphRemoved(t,r){r.graphs[t]=void 0}_notifyGraphComputed(t,r,n){$T(r),n.graphs[t]=r}_updateIntersections(t,r){if(!this.viewState)return;if(!this.analysis[t]||!this.analysis[t].shouldIntersect()){r.intersections[t]=[];return}let n=IE(this.analysis,this.viewState,t);r.intersections[t]=n}getDisabledFeatures(){let t=this.policy.disabledFeatures();this.functionDefinition===!1&&(t=t.concat("FunctionDefinition")),this.actions===!1&&(t=t.concat("UpdateRule")),this.substitutions===!1&&(t=t.concat("Substitution"));let r=this.additionalFunctions||[];return t=t.filter(n=>!(n==="Exponent"&&r.indexOf("exponent")!==-1||n==="PercentOf"&&r.indexOf("percent")!==-1)),t}areFractionsDisallowed(){let{evaluationMode:t}=this;return t!=="fourFunction"&&t!=="singleExpressionFourFunction"?!1:!this.additionalFunctions||this.additionalFunctions.indexOf("fraction")===-1}addStatement(t,r){if(!t)return;let n=t.id;this.markExportsDirty(n),this.markAsDirtyRoot(n);let i={index:this.policy.ansEnabled()?t.index:void 0,disabledFeatures:this.getDisabledFeatures(),disallowFrac:this.areFractionsDisallowed(),seedPrefix:Vt(n),writeIntegral:this.evaluationMode==="geometry"},s={extraDepNodes:[]};switch(t.type){case"table":let u=[];this.statements.hasOwnProperty(n)&&(u=this.statements[n].getAllIds()),t.shouldGraph=!0;let l=t.columns,c=[],p=M=>!M.replace(/\\\\space|\\\\ /g,"").match(/\\S/);for(let M=0;M<l.length;M++){let E,S,v,N=l[M];E=Mi(N.latex,oe(z({},i),{seedPrefix:Vt(n,[["tr",0],["tc",M]])})),S=[];let G=-1;for(let C=0;C<l[M].values.length;C++)p(N.values[C])?S.push(new ti(NaN)):(S.push(Mi(N.values[C],oe(z({},i),{seedPrefix:Vt(n,[["tr",C+1],["tc",M]])}))),G=C);if(S=S.slice(0,G+1),v=new oA(E,S),v.id=N.id,v.header){if(v.header.userData=N,v.header.metaData={extraDepNodes:[]},N.colorLatex){let C=Jr(N.colorLatex,oe(z({},i),{seedPrefix:Vt(n,[["tr",0],["tc",M],["cl",M]])}));v.header.metaData.colorLatex=C,v.header.metaData.extraDepNodes.push(C)}if(N.pointSize){let C=Jr(N.pointSize,oe(z({},i),{seedPrefix:Vt(n,[["tr",0],["tc",M],["ps",M]])}));v.header.metaData.pointSize=C,v.header.metaData.extraDepNodes.push(C)}if(N.pointOpacity){let C=Jr(N.pointOpacity,oe(z({},i),{seedPrefix:Vt(n,[["tr",0],["tc",M],["po",M]])}));v.header.metaData.pointOpacity=C,v.header.metaData.extraDepNodes.push(C)}if(N.lineWidth){let C=Jr(N.lineWidth,oe(z({},i),{seedPrefix:Vt(n,[["tr",0],["tc",M],["lw",M]])}));v.header.metaData.lineWidth=C,v.header.metaData.extraDepNodes.push(C)}if(N.lineOpacity){let C=Jr(N.lineOpacity,oe(z({},i),{seedPrefix:Vt(n,[["tr",0],["tc",M],["lo",M]])}));v.header.metaData.lineOpacity=C,v.header.metaData.extraDepNodes.push(C)}}c.push(v)}this.statements[n]=new sA(c);let f=this.statements[n].getAllIds();u.forEach(M=>{f.indexOf(M)===-1&&this._notifyGraphRemoved(M,r)});break;case"image":let m="-\\\\trigAngleMultiplier*("+t.angle+")",d=Jr(t.center,oe(z({},i),{seedPrefix:Vt(n,[["ic",n]])})),y=Jr(m,oe(z({},i),{seedPrefix:Vt(n,[["ia",n]])})),g=Jr(t.width,oe(z({},i),{seedPrefix:Vt(n,[["iw",n]])})),h=Jr(t.height,oe(z({},i),{seedPrefix:Vt(n,[["ih",n]])})),x=Jr(t.opacity,oe(z({},i),{seedPrefix:Vt(n,[["io",n]])}));this.statements[n]=new nA({center:d,radianAngle:y,width:g,height:h,opacity:x},void 0);break;case"ticker":{this.statements[n]=new b.Ticker({handler:Jr(t.handlerLatex,oe(z({},i),{allowDt:!0})),minStep:Jr(t.minStepLatex||"0",i)});break}default:t=t;let P,D=fi(t.latex);D.slice(-1)==="="?P=D.substring(0,D.length-1):P=t.latex,this.statements[n]=Mi(P,i);for(let M in Su){let E=M;if(t[E]){let S=Su[E],v=t[E];S.transform&&(v=S.transform(v));let N=fo(v,oe(z({},i),{seedPrefix:Vt(n,[[S.seed,n]])}));s[E]=N,s.extraDepNodes.push(N)}}if(t.colorLatex){let M=vs(t.colorLatex,oe(z({},i),{seedPrefix:Vt(n,[["ac",n]])}));s.colorLatex=M,s.extraDepNodes.push(M)}if(t.polarDomain&&t.polarDomain.min&&(s.polarDomainMin=fo(t.polarDomain.min,oe(z({},i),{seedPrefix:Vt(n,[["lm",n]])})),s.extraDepNodes.push(s.polarDomainMin)),t.polarDomain&&t.polarDomain.max&&(s.polarDomainMax=fo(t.polarDomain.max,oe(z({},i),{seedPrefix:Vt(n,[["lM",n]])})),s.extraDepNodes.push(s.polarDomainMax)),t.parametricDomain&&t.parametricDomain.min&&(s.parametricDomainMin=fo(t.parametricDomain.min,oe(z({},i),{seedPrefix:Vt(n,[["lm",n]])})),s.extraDepNodes.push(s.parametricDomainMin)),t.parametricDomain&&t.parametricDomain.max&&(s.parametricDomainMax=fo(t.parametricDomain.max,oe(z({},i),{seedPrefix:Vt(n,[["lM",n]])})),s.extraDepNodes.push(s.parametricDomainMax)),t.vizProps&&(t.vizProps.axisOffset&&(s.vizAxisOffset=fo(t.vizProps.axisOffset,oe(z({},i),{seedPrefix:Vt(n,[["vo",n]])})),s.extraDepNodes.push(s.vizAxisOffset)),t.vizProps.breadth&&(s.vizBreadth=fo(t.vizProps.breadth,oe(z({},i),{seedPrefix:Vt(n,[["vb",n]])})),s.extraDepNodes.push(s.vizBreadth))),t.cdf&&t.cdf.show){let M=JM(t.latex);M&&M.type==="distribution"&&(s.distributionSpec=M,s.cdfMin=vs(t.cdf.min,oe(z({},i),{seedPrefix:Vt(n,[["lm",n]])})),s.extraDepNodes.push(s.cdfMin),s.cdfMax=vs(t.cdf.max,oe(z({},i),{seedPrefix:Vt(n,[["lM",n]])})),s.extraDepNodes.push(s.cdfMax))}if(this.statements[n].shouldPromoteToSlider(this.policy)){let M=t.slider,E=!!(M&&M.isPlayingOnce),S=vs(M&&M.softMin,i),v=vs(M&&M.softMax,i),N=vs(M&&M.min,oe(z({},i),{seedPrefix:Vt(n,[["lm",n]])})),G=vs(M&&M.max,oe(z({},i),{seedPrefix:Vt(n,[["lM",n]])})),C=vs(M&&M.step,oe(z({},i),{seedPrefix:Vt(n,[["ls",n]])}));this.statements[n]=new iA(this.statements[n],{sliderMin:N,sliderMax:G,sliderStep:C,sliderIsPlayingOnce:E,sliderSoftMin:S,sliderSoftMax:v})}}let o=t.clickableInfo;o&&o.enabled&&o.latex&&(s.clickHandler=Jr(o.latex,oe(z({},i),{allowIndex:!0}))),this.statements[n].userData=t,this.statements[n].metaData=s;let a=t.label;if(a){let u=this.currentLabel[n];(!u||u.raw!==a)&&(this.currentLabel[n]=Mb(a))}else delete this.currentLabel[n]}removeStatement(t,r){let n=this.statements[t];if(n){if(this.markExportsDirty(t),n.isTable){let i=this;n.getAllIds().forEach(function(s){i._notifyGraphRemoved(s,r)})}else this._notifyGraphRemoved(t,r);delete this.currentLabel[t],delete this.statements[t],delete this.analysis[t],delete this.currentStatus[t]}}markExportsDirty(t){if(this.statements[t]){this.statements[t].isRegression&&(this.markedRegressionDirty=!0);for(let r of this.statements[t].getLegalExports(this.policy))this.dirtyExportedSymbolRoots[r]=!0}}markAsDirtyRoot(t){this.dirtyStatementRoots[t]=!0}getFrame(){return this.updateAnalysis(),this.frame}getAnalysis(){return this.updateAnalysis(),this.analysis}getEvaluationState(t){if(this.updateAnalysis(),!!this.analysis[t])return this.analysis[t].evaluationState}_updateRegressions(t){let r=this.frame,n=this.lastFrame,i=this.regressionFrame,s=[];for(let c in t)t.hasOwnProperty(c)&&t[c].isRegression&&s.push(c);let o=this;s.sort(function(c,p){let f=o.statements[c].userData&&o.statements[c].userData.residualVariable,m=o.statements[p].userData&&o.statements[p].userData.residualVariable;return f&&!m?-1:m&&!f?1:0});let a=Ib(this.policy,t,s);OE(a,i);let u=a.resolved,l={};for(let c of u)if(c!==qn)if(this.statements[c].isRegression)this.analysis[c]=t[c].analyze(this.policy,i,r,n,l),this.analysis[c].exportTo(this.policy,r),delete t[c];else{let p=t[c].tryGetConcreteTree(this.policy,i);t[c].exportTo(this.policy,p,i),l[c]={rawTree:t[c],concreteTree:p}}}buildSymbolToExpressionDirtyMap(){let t={};for(let r in this.statements){if(!this.statements.hasOwnProperty(r))continue;let n=this.statements[r],i=n.metaData;if(Ou(t,r,n.getDependencies()),Ou(t,r,n.getLegalExports(this.policy)),n.isRegression&&n.userData&&n.userData.residualVariable&&Ou(t,r,[pi(n.userData.residualVariable)]),NE(t,r,i),n.isTable&&n.columns)for(let s=0;s<n.columns.length;s++){let o=n.columns[s];o.header&&o.header.metaData&&NE(t,r,o.header.metaData)}}return t}buildChildIntersectionMap(){var n,i;let t=this.childIntersections,r=new Mu;for(let s in this.analysis){let o=this.analysis[s],{geometry:a}=o.evaluationState;if(a!=null&&a.call&&a.call.symbol==="intersection"&&this.statements[s].userData.shouldGraph&&!o.concreteTree.isError){let u=!!this.unpublishedIds[s],l=o.concreteTree.asTypedValue();for(let c of a.call.parents){let p=c&&this.frame[c[0]],f=p&&p.userData.id;if(f==null)continue;let m=c&&c[1],d=this.analysis[f];k(d.concreteTree.asTypedValue().valueType)?r.addListParent(f,m===void 0?void 0:m-1,l):r.addPrimitiveParent(f,l),u&&(this.unpublishedIds[f]=!0)}}}for(let s in t.data){let o=((n=t.data[s])==null?void 0:n.count)||0;(((i=r.data[s])==null?void 0:i.count)||0)<o&&(this.unpublishedIds[s]=!0)}return r}updateConstruction(){if(!this.policy.isGeometryEnabled){this.parent_frame.construction=Ki();return}let t=[];for(let o in this.statements)this.statements[o].userData.isInConstructionsFolder&&t.push(o);let r=this.statements[qn],n=new aA(t);n.metaData={extraDepNodes:[]},n.userData={};let i={};for(let o of(r==null?void 0:r.getDependencies())||[])i[o]=!0;let s={};for(let o of n.getDependencies())s[o]=!0;(!r||!ci(i,s))&&(this.statements[qn]=n,this.parent_frame.construction=n,this.markAsDirtyRoot(qn),this.markExportsDirty(qn))}updateAnalysis(){var p;this.updateConstruction();let t=this.buildSymbolToExpressionDirtyMap(),r=LE(this.policy,this.statements,t,this.dirtyStatementRoots,this.dirtyExportedSymbolRoots),n=this.markedRegressionDirty;for(let f in r.ids)(p=this.statements[f])!=null&&p.isRegression&&(n=!0);let i={};if(n){for(let f in this.statements)this.statements[f]&&(i[f]=this.statements[f]);this.frame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame)}else{let f=r.ids;for(let d in f)this.statements[d]&&(i[d]=this.statements[d]);let m=r.symbols;for(let d in m)m[d]&&(delete this.frame[d],delete this.regressionFrame[d])}for(let f in i)i[f]&&(this.unpublishedIds[f]=!0);this.markedRegressionDirty=!1,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={};let s=this.analysis,o=this.frame;(this.evaluationMode==="graphing"||this.evaluationMode==="geometry")&&this._updateRegressions(i);let a=Ib(this.policy,i);OE(a,o);let u=a.resolved;for(let f of u)if(f!==qn)switch(this.evaluationMode){case"fourFunction":case"singleExpressionFourFunction":s[f]=this.statements[f].analyzeFourFunction(this.policy,o,s),s[f].exportTo(this.policy,o);break;case"scientific":s[f]=this.statements[f].analyzeScientific(this.policy,o,s),s[f].exportTo(this.policy,o);break;case"singleExpressionScientific":s[f]=this.statements[f].analyzeSingleExpressionScientific(this.policy,o,s),s[f].exportTo(this.policy,o);break;case"graphing":case"graphing_3d":case"geometry":if(o.r){let m=Object.create(o);if(m.r=void 0,s[f]=this.statements[f].analyze(this.policy,m,s),s[f].getGraphMode()===6){s[f].exportTo(this.policy,o);continue}}s[f]=this.statements[f].analyze(this.policy,o,s),s[f].exportTo(this.policy,o);break}if(this.evaluationMode==="graphing"||this.evaluationMode==="graphing_3d"||this.evaluationMode==="geometry"){for(let f of u){if(f===qn)continue;let m=s[f],d=m.evaluationState.expression_type;for(let y in Su){let g=y;var l=Su[g];(!l.shouldEvaluate||l.shouldEvaluate(m))&&xA(m,this.policy,o,g)}PA(m,this.policy,o),this.actions&&pA(m)&&TA(m,this.policy,o),d==="PARAMETRIC"||d==="POLAR"?IA(m,this.policy,o):d==="BOXPLOT"?MA(m,this.policy,o):cA(m)&&hA(m,this.policy,o)}this.childIntersections=this.buildChildIntersectionMap()}vA(t).forEach(function(f){s[f].evaluationState.depends_on_random_seed=!0});let c=LE(this.policy,this.statements,t,{[qn]:!0},{construction:!0});for(let f in c.ids){if(f===qn)continue;let m=s[f].evaluationState;m.geometry&&(m.geometry.unconstructable=!0)}this.lastFrame=Object.create(this.parent_frame);for(let f in o)o.hasOwnProperty(f)&&(this.lastFrame[f]=o[f])}processEvents(t){if(!t||!this.actions)return;let r=Object.create(this.frame),n={},i=!1,s=!1,o;for(let l of t)switch(this.globalEventCount+=1,r.globalEventCount=new b.Constant(this.globalEventCount),l.type){case"step":{let p=this.statements[l.expressionId];if(!p)continue;let f=p.tryGetConcreteTree(this.policy,r);s=!0,Eb(f,n,r);break}case"click":{let p=this.statements[l.expressionId];if(!p||!p.metaData.clickHandler)continue;r.index=new b.Constant(l.indexVar+1);let f=p.metaData.clickHandler.tryGetConcreteTree(this.policy,r);s=!0,i=!0,Eb(f,n,r);break}case"clock-tick":{(o===void 0||l.isFirstTick&&!o.isFirstTick)&&(o=l);break}default:return l}if(o){let l=this.statements[o.id];if(l&&l instanceof b.Ticker){var a=l.minStep.tryGetConcreteTree(this.policy,r).asValue(),u=typeof a=="number"&&a>=0&&isFinite(a);if(u){let c=this.lastClockTickTime;if(this.lastClockTickTime=Date.now(),!o.isFirstTick&&c!==void 0){r.dt=new b.Constant(this.lastClockTickTime-c);let p=l.handler.tryGetConcreteTree(this.policy,r);Eb(p,n,r)}}}}return{objectClicked:i,userAction:s,updates:n}}};var AE=class{constructor(t){this.context=new ff,this.sendMessage=t}processChangeSet(t){var r=this.context.processChangeSet(t);this.sendMessage("processChangeSet",r)}};Object.defineProperty(__dcg_chunk_exports__, \'a\', { get: () => EA });\nObject.defineProperty(__dcg_chunk_exports__, \'b\', { get: () => z });\nObject.defineProperty(__dcg_chunk_exports__, \'c\', { get: () => oe });\nObject.defineProperty(__dcg_chunk_exports__, \'d\', { get: () => SA });\nObject.defineProperty(__dcg_chunk_exports__, \'e\', { get: () => Nb });\nObject.defineProperty(__dcg_chunk_exports__, \'f\', { get: () => OA });\nObject.defineProperty(__dcg_chunk_exports__, \'g\', { get: () => NA });\nObject.defineProperty(__dcg_chunk_exports__, \'h\', { get: () => an });\nObject.defineProperty(__dcg_chunk_exports__, \'i\', { get: () => DA });\nObject.defineProperty(__dcg_chunk_exports__, \'j\', { get: () => RA });\nObject.defineProperty(__dcg_chunk_exports__, \'k\', { get: () => Bn });\nObject.defineProperty(__dcg_chunk_exports__, \'l\', { get: () => Hb });\nObject.defineProperty(__dcg_chunk_exports__, \'m\', { get: () => Ov });\nObject.defineProperty(__dcg_chunk_exports__, \'n\', { get: () => M5 });\nObject.defineProperty(__dcg_chunk_exports__, \'o\', { get: () => un });\nObject.defineProperty(__dcg_chunk_exports__, \'p\', { get: () => I });\nObject.defineProperty(__dcg_chunk_exports__, \'q\', { get: () => w });\nObject.defineProperty(__dcg_chunk_exports__, \'r\', { get: () => Mt });\nObject.defineProperty(__dcg_chunk_exports__, \'s\', { get: () => Y });\nObject.defineProperty(__dcg_chunk_exports__, \'t\', { get: () => pr });\nObject.defineProperty(__dcg_chunk_exports__, \'u\', { get: () => Le });\nObject.defineProperty(__dcg_chunk_exports__, \'v\', { get: () => Wt });\nObject.defineProperty(__dcg_chunk_exports__, \'w\', { get: () => de });\nObject.defineProperty(__dcg_chunk_exports__, \'x\', { get: () => rr });\nObject.defineProperty(__dcg_chunk_exports__, \'y\', { get: () => ye });\nObject.defineProperty(__dcg_chunk_exports__, \'z\', { get: () => zt });\nObject.defineProperty(__dcg_chunk_exports__, \'A\', { get: () => ue });\nObject.defineProperty(__dcg_chunk_exports__, \'B\', { get: () => Ct });\nObject.defineProperty(__dcg_chunk_exports__, \'C\', { get: () => Q });\nObject.defineProperty(__dcg_chunk_exports__, \'D\', { get: () => jt });\nObject.defineProperty(__dcg_chunk_exports__, \'E\', { get: () => X });\nObject.defineProperty(__dcg_chunk_exports__, \'F\', { get: () => Zt });\nObject.defineProperty(__dcg_chunk_exports__, \'G\', { get: () => J });\nObject.defineProperty(__dcg_chunk_exports__, \'H\', { get: () => Qt });\nObject.defineProperty(__dcg_chunk_exports__, \'I\', { get: () => ge });\nObject.defineProperty(__dcg_chunk_exports__, \'J\', { get: () => Kt });\nObject.defineProperty(__dcg_chunk_exports__, \'K\', { get: () => xe });\nObject.defineProperty(__dcg_chunk_exports__, \'L\', { get: () => vt });\nObject.defineProperty(__dcg_chunk_exports__, \'M\', { get: () => le });\nObject.defineProperty(__dcg_chunk_exports__, \'N\', { get: () => Et });\nObject.defineProperty(__dcg_chunk_exports__, \'O\', { get: () => Se });\nObject.defineProperty(__dcg_chunk_exports__, \'P\', { get: () => Ir });\nObject.defineProperty(__dcg_chunk_exports__, \'Q\', { get: () => jr });\nObject.defineProperty(__dcg_chunk_exports__, \'R\', { get: () => Z });\nObject.defineProperty(__dcg_chunk_exports__, \'S\', { get: () => k });\nObject.defineProperty(__dcg_chunk_exports__, \'T\', { get: () => ot });\nObject.defineProperty(__dcg_chunk_exports__, \'U\', { get: () => yf });\nObject.defineProperty(__dcg_chunk_exports__, \'V\', { get: () => pe });\nObject.defineProperty(__dcg_chunk_exports__, \'W\', { get: () => me });\nObject.defineProperty(__dcg_chunk_exports__, \'X\', { get: () => ii });\nObject.defineProperty(__dcg_chunk_exports__, \'Y\', { get: () => Lb });\nObject.defineProperty(__dcg_chunk_exports__, \'Z\', { get: () => Vu });\nObject.defineProperty(__dcg_chunk_exports__, \'_\', { get: () => Sn });\nObject.defineProperty(__dcg_chunk_exports__, \'$\', { get: () => Li });\nObject.defineProperty(__dcg_chunk_exports__, \'aa\', { get: () => Un });\nObject.defineProperty(__dcg_chunk_exports__, \'ba\', { get: () => WE });\nObject.defineProperty(__dcg_chunk_exports__, \'ca\', { get: () => tC });\nObject.defineProperty(__dcg_chunk_exports__, \'da\', { get: () => Ab });\nObject.defineProperty(__dcg_chunk_exports__, \'ea\', { get: () => rC });\nObject.defineProperty(__dcg_chunk_exports__, \'fa\', { get: () => Nr });\nObject.defineProperty(__dcg_chunk_exports__, \'ga\', { get: () => nC });\nObject.defineProperty(__dcg_chunk_exports__, \'ha\', { get: () => ir });\nObject.defineProperty(__dcg_chunk_exports__, \'ia\', { get: () => fe });\nObject.defineProperty(__dcg_chunk_exports__, \'ja\', { get: () => yp });\nObject.defineProperty(__dcg_chunk_exports__, \'ka\', { get: () => ui });\nObject.defineProperty(__dcg_chunk_exports__, \'la\', { get: () => $i });\nObject.defineProperty(__dcg_chunk_exports__, \'ma\', { get: () => Ls });\nObject.defineProperty(__dcg_chunk_exports__, \'na\', { get: () => Nf });\nObject.defineProperty(__dcg_chunk_exports__, \'oa\', { get: () => Df });\nObject.defineProperty(__dcg_chunk_exports__, \'pa\', { get: () => On });\nObject.defineProperty(__dcg_chunk_exports__, \'qa\', { get: () => el });\nObject.defineProperty(__dcg_chunk_exports__, \'ra\', { get: () => Cf });\nObject.defineProperty(__dcg_chunk_exports__, \'sa\', { get: () => cx });\nObject.defineProperty(__dcg_chunk_exports__, \'ta\', { get: () => px });\nObject.defineProperty(__dcg_chunk_exports__, \'ua\', { get: () => fx });\nObject.defineProperty(__dcg_chunk_exports__, \'va\', { get: () => yx });\nObject.defineProperty(__dcg_chunk_exports__, \'wa\', { get: () => hx });\nObject.defineProperty(__dcg_chunk_exports__, \'xa\', { get: () => Ix });\nObject.defineProperty(__dcg_chunk_exports__, \'ya\', { get: () => rl });\nObject.defineProperty(__dcg_chunk_exports__, \'za\', { get: () => qf });\nObject.defineProperty(__dcg_chunk_exports__, \'Aa\', { get: () => Bx });\nObject.defineProperty(__dcg_chunk_exports__, \'Ba\', { get: () => ar });\nObject.defineProperty(__dcg_chunk_exports__, \'Ca\', { get: () => Yi });\nObject.defineProperty(__dcg_chunk_exports__, \'Da\', { get: () => Jf });\nObject.defineProperty(__dcg_chunk_exports__, \'Ea\', { get: () => ci });\nObject.defineProperty(__dcg_chunk_exports__, \'Fa\', { get: () => Jx });\nObject.defineProperty(__dcg_chunk_exports__, \'Ga\', { get: () => Nn });\nObject.defineProperty(__dcg_chunk_exports__, \'Ha\', { get: () => Ji });\nObject.defineProperty(__dcg_chunk_exports__, \'Ia\', { get: () => Zf });\nObject.defineProperty(__dcg_chunk_exports__, \'Ja\', { get: () => iP });\nObject.defineProperty(__dcg_chunk_exports__, \'Ka\', { get: () => gP });\nObject.defineProperty(__dcg_chunk_exports__, \'La\', { get: () => P1 });\nObject.defineProperty(__dcg_chunk_exports__, \'Ma\', { get: () => To });\nObject.defineProperty(__dcg_chunk_exports__, \'Na\', { get: () => nd });\nObject.defineProperty(__dcg_chunk_exports__, \'Oa\', { get: () => T1 });\nObject.defineProperty(__dcg_chunk_exports__, \'Pa\', { get: () => v1 });\nObject.defineProperty(__dcg_chunk_exports__, \'Qa\', { get: () => MP });\nObject.defineProperty(__dcg_chunk_exports__, \'Ra\', { get: () => cl });\nObject.defineProperty(__dcg_chunk_exports__, \'Sa\', { get: () => E1 });\nObject.defineProperty(__dcg_chunk_exports__, \'Ta\', { get: () => od });\nObject.defineProperty(__dcg_chunk_exports__, \'Ua\', { get: () => dr });\nObject.defineProperty(__dcg_chunk_exports__, \'Va\', { get: () => O1 });\nObject.defineProperty(__dcg_chunk_exports__, \'Wa\', { get: () => pi });\nObject.defineProperty(__dcg_chunk_exports__, \'Xa\', { get: () => fi });\nObject.defineProperty(__dcg_chunk_exports__, \'Ya\', { get: () => Ci });\nObject.defineProperty(__dcg_chunk_exports__, \'Za\', { get: () => Dr });\nObject.defineProperty(__dcg_chunk_exports__, \'_a\', { get: () => b });\nObject.defineProperty(__dcg_chunk_exports__, \'$a\', { get: () => _V });\nObject.defineProperty(__dcg_chunk_exports__, \'ab\', { get: () => Vc });\nObject.defineProperty(__dcg_chunk_exports__, \'bb\', { get: () => EP });\nObject.defineProperty(__dcg_chunk_exports__, \'cb\', { get: () => DP });\nObject.defineProperty(__dcg_chunk_exports__, \'db\', { get: () => Uc });\nObject.defineProperty(__dcg_chunk_exports__, \'eb\', { get: () => Hc });\nObject.defineProperty(__dcg_chunk_exports__, \'fb\', { get: () => hn });\nObject.defineProperty(__dcg_chunk_exports__, \'gb\', { get: () => kP });\nObject.defineProperty(__dcg_chunk_exports__, \'hb\', { get: () => VV });\nObject.defineProperty(__dcg_chunk_exports__, \'ib\', { get: () => UV });\nObject.defineProperty(__dcg_chunk_exports__, \'jb\', { get: () => TS });\nObject.defineProperty(__dcg_chunk_exports__, \'kb\', { get: () => zr });\nObject.defineProperty(__dcg_chunk_exports__, \'lb\', { get: () => aT });\nObject.defineProperty(__dcg_chunk_exports__, \'mb\', { get: () => ja });\nObject.defineProperty(__dcg_chunk_exports__, \'nb\', { get: () => Go });\nObject.defineProperty(__dcg_chunk_exports__, \'ob\', { get: () => qo });\nObject.defineProperty(__dcg_chunk_exports__, \'pb\', { get: () => bg });\nObject.defineProperty(__dcg_chunk_exports__, \'qb\', { get: () => xg });\nObject.defineProperty(__dcg_chunk_exports__, \'rb\', { get: () => Ky });\nObject.defineProperty(__dcg_chunk_exports__, \'sb\', { get: () => XO });\nObject.defineProperty(__dcg_chunk_exports__, \'tb\', { get: () => FT });\nObject.defineProperty(__dcg_chunk_exports__, \'ub\', { get: () => JO });\nObject.defineProperty(__dcg_chunk_exports__, \'vb\', { get: () => ap });\nObject.defineProperty(__dcg_chunk_exports__, \'wb\', { get: () => Xa });\nObject.defineProperty(__dcg_chunk_exports__, \'xb\', { get: () => Pg });\nObject.defineProperty(__dcg_chunk_exports__, \'yb\', { get: () => VT });\nObject.defineProperty(__dcg_chunk_exports__, \'zb\', { get: () => GT });\nObject.defineProperty(__dcg_chunk_exports__, \'Ab\', { get: () => QO });\nObject.defineProperty(__dcg_chunk_exports__, \'Bb\', { get: () => qT });\nObject.defineProperty(__dcg_chunk_exports__, \'Cb\', { get: () => KO });\nObject.defineProperty(__dcg_chunk_exports__, \'Db\', { get: () => kT });\nObject.defineProperty(__dcg_chunk_exports__, \'Eb\', { get: () => eN });\nObject.defineProperty(__dcg_chunk_exports__, \'Fb\', { get: () => cN });\nObject.defineProperty(__dcg_chunk_exports__, \'Gb\', { get: () => dN });\nObject.defineProperty(__dcg_chunk_exports__, \'Hb\', { get: () => mN });\nObject.defineProperty(__dcg_chunk_exports__, \'Ib\', { get: () => hi });\nObject.defineProperty(__dcg_chunk_exports__, \'Jb\', { get: () => jn });\nObject.defineProperty(__dcg_chunk_exports__, \'Kb\', { get: () => KV });\nObject.defineProperty(__dcg_chunk_exports__, \'Lb\', { get: () => ON });\nObject.defineProperty(__dcg_chunk_exports__, \'Mb\', { get: () => bI });\nObject.defineProperty(__dcg_chunk_exports__, \'Nb\', { get: () => Qn });\nObject.defineProperty(__dcg_chunk_exports__, \'Ob\', { get: () => bp });\nObject.defineProperty(__dcg_chunk_exports__, \'Pb\', { get: () => DI });\nObject.defineProperty(__dcg_chunk_exports__, \'Qb\', { get: () => Er });\nObject.defineProperty(__dcg_chunk_exports__, \'Rb\', { get: () => j });\nObject.defineProperty(__dcg_chunk_exports__, \'Sb\', { get: () => Qg });\nObject.defineProperty(__dcg_chunk_exports__, \'Tb\', { get: () => ps });\nObject.defineProperty(__dcg_chunk_exports__, \'Ub\', { get: () => mM });\nObject.defineProperty(__dcg_chunk_exports__, \'Vb\', { get: () => Mi });\nObject.defineProperty(__dcg_chunk_exports__, \'Wb\', { get: () => BM });\nObject.defineProperty(__dcg_chunk_exports__, \'Xb\', { get: () => JM });\nObject.defineProperty(__dcg_chunk_exports__, \'Yb\', { get: () => so });\nObject.defineProperty(__dcg_chunk_exports__, \'Zb\', { get: () => _R });\nObject.defineProperty(__dcg_chunk_exports__, \'_b\', { get: () => s8 });\nObject.defineProperty(__dcg_chunk_exports__, \'$b\', { get: () => qR });\nObject.defineProperty(__dcg_chunk_exports__, \'ac\', { get: () => ZM });\nObject.defineProperty(__dcg_chunk_exports__, \'bc\', { get: () => QM });\nObject.defineProperty(__dcg_chunk_exports__, \'cc\', { get: () => eb });\nObject.defineProperty(__dcg_chunk_exports__, \'dc\', { get: () => jp });\nObject.defineProperty(__dcg_chunk_exports__, \'ec\', { get: () => Nw });\nObject.defineProperty(__dcg_chunk_exports__, \'fc\', { get: () => Dw });\nObject.defineProperty(__dcg_chunk_exports__, \'gc\', { get: () => Lw });\nObject.defineProperty(__dcg_chunk_exports__, \'hc\', { get: () => Aw });\nObject.defineProperty(__dcg_chunk_exports__, \'ic\', { get: () => Hv });\nObject.defineProperty(__dcg_chunk_exports__, \'jc\', { get: () => $v });\nObject.defineProperty(__dcg_chunk_exports__, \'kc\', { get: () => Ts });\nObject.defineProperty(__dcg_chunk_exports__, \'lc\', { get: () => xu });\nObject.defineProperty(__dcg_chunk_exports__, \'mc\', { get: () => of });\nObject.defineProperty(__dcg_chunk_exports__, \'nc\', { get: () => O5 });\nObject.defineProperty(__dcg_chunk_exports__, \'oc\', { get: () => D5 });\nObject.defineProperty(__dcg_chunk_exports__, \'pc\', { get: () => R5 });\nObject.defineProperty(__dcg_chunk_exports__, \'qc\', { get: () => aE });\nObject.defineProperty(__dcg_chunk_exports__, \'rc\', { get: () => w5 });\nObject.defineProperty(__dcg_chunk_exports__, \'sc\', { get: () => hL });\nObject.defineProperty(__dcg_chunk_exports__, \'tc\', { get: () => C5 });\nObject.defineProperty(__dcg_chunk_exports__, \'uc\', { get: () => _5 });\nObject.defineProperty(__dcg_chunk_exports__, \'vc\', { get: () => lE });\nObject.defineProperty(__dcg_chunk_exports__, \'wc\', { get: () => bL });\nObject.defineProperty(__dcg_chunk_exports__, \'xc\', { get: () => af });\nObject.defineProperty(__dcg_chunk_exports__, \'yc\', { get: () => cE });\nObject.defineProperty(__dcg_chunk_exports__, \'zc\', { get: () => pE });\nObject.defineProperty(__dcg_chunk_exports__, \'Ac\', { get: () => X5 });\nObject.defineProperty(__dcg_chunk_exports__, \'Bc\', { get: () => J5 });\nObject.defineProperty(__dcg_chunk_exports__, \'Cc\', { get: () => xL });\nObject.defineProperty(__dcg_chunk_exports__, \'Dc\', { get: () => j5 });\nObject.defineProperty(__dcg_chunk_exports__, \'Ec\', { get: () => Z5 });\nObject.defineProperty(__dcg_chunk_exports__, \'Fc\', { get: () => PE });\nObject.defineProperty(__dcg_chunk_exports__, \'Gc\', { get: () => Iu });\nObject.defineProperty(__dcg_chunk_exports__, \'Hc\', { get: () => LA });\nObject.defineProperty(__dcg_chunk_exports__, \'Ic\', { get: () => zL });\nObject.defineProperty(__dcg_chunk_exports__, \'Jc\', { get: () => UL });\nObject.defineProperty(__dcg_chunk_exports__, \'Kc\', { get: () => vu });\nObject.defineProperty(__dcg_chunk_exports__, \'Lc\', { get: () => Eu });\nObject.defineProperty(__dcg_chunk_exports__, \'Mc\', { get: () => ff });\nObject.defineProperty(__dcg_chunk_exports__, \'Nc\', { get: () => AE });\n\n    return __dcg_chunk_exports__;\n  })();',__dcg_shared_module_exports__=eval(__dcg_shared_module_source__),__dcg_worker_source_exports__=function(){const e=`\n      // store the code for the worker module as a function that takes the shared module exports as an argument\n      const __dcg_worker_module__ = (__dcg_shared_module_exports__) => {\nvar o={};__dcg_shared_module_exports__['Hc'].log=function(e){self.postMessage({log:JSON.stringify(e)})};var a=self;a.window=a;a.onmessage=function(e){var n=e.data&&e.data.connectionId;if(n)if(e.data.originalMessage.type==="destroy")delete o[n];else{var s=o[n];s||(s=new __dcg_shared_module_exports__['Nc'](function(g,c){a.postMessage({connectionId:n,originalMessage:{type:g,payload:c}})}),o[n]=s),s.processChangeSet(e.data.originalMessage)}};a.loadMessageQueue&&(a.loadMessageQueue.forEach(function(e){a.onmessage(e)}),delete a.loadMessageQueue);\n\n      };\n      // execute the shared module store its exports\n      const __dcg_worker_shared_module_exports__ = ${__dcg_shared_module_source__};\n      // call the worker module, passing in the shared module exports\n      __dcg_worker_module__(__dcg_worker_shared_module_exports__);`;let t;return t="undefined"!=typeof Blob&&URL&&"function"==typeof URL.createObjectURL?()=>{const t=URL.createObjectURL(new Blob([e],{type:"application/javascript"})),n=new Worker(t);return n.revokeObjectURL=()=>{URL.revokeObjectURL(t)},n}:()=>{new Function(e)()},{createWorker:t,default:{createWorker:t}}}();var EM=__dcg_shared_module_exports__.g((e=>{var t,n=e&&e.__extends||(t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),r=e&&e.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};!function(){var e=-1,t=1,i=Math.min,o=Math.max;function a(){}function s(e,t){if(!t)throw new Error("prayer failed: "+e)}function l(n){s("a direction was passed",n===e||n===t)}new URLSearchParams(window.location.search);function c(e){var t=document.implementation.createHTMLDocument("");if(t.body.innerHTML=e,1===t.body.children.length)return t.body.children[0];for(var n=document.createDocumentFragment();t.body.firstChild;)n.appendChild(t.body.firstChild);return n}var d=function(e,t,n){var r;switch(e){case"svg":case"path":r=document.createElementNS("http://www.w3.org/2000/svg",e);break;default:r=document.createElement(e)}for(var i in t){var o=t[i];void 0!==o&&r.setAttribute(i,"string"==typeof o?o:String(o))}if(n)for(var a=0;a<n.length;a++)r.appendChild(n[a]);return r};function p(e,t){var n,r,i;if("function"==typeof(null===(n=e)||void 0===n?void 0:n.closest))return e.closest(t);if(!(e instanceof HTMLElement))return null;var o=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,a=e;do{if(o.call(a,t))return a;a=null!==(i=null!==(r=null==a?void 0:a.parentElement)&&void 0!==r?r:null==a?void 0:a.parentNode)&&void 0!==i?i:null}while(null!==a&&1===a.nodeType);return null}d.text=function(e){return document.createTextNode(e)},d.block=function(e,t,n){var r=d(e,t,[n.html()]);return n.setDOM(r),A.linkElementByBlockNode(r,n),r},d.entityText=function(e){var t=c(e);return s("entity parses to a single text node",t instanceof DocumentFragment&&1===t.childNodes.length&&t.childNodes[0]instanceof Text),t.childNodes[0]};var u="​";function h(e){return e.getClientRects().length?e.getBoundingClientRect():{top:0,left:0,height:0,width:0,x:0,y:0,bottom:0,right:0}}var g,m,f=("function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(g=requestAnimationFrame,m=cancelAnimationFrame):(g=function(e){return setTimeout(e,13)},m=clearTimeout),function(e,t){var n,r=Date.now(),i=0;function o(){var n=(Date.now()-r)/e;n<=i?s():i=n,t(i,s,a)}function a(){void 0!==n&&m(n),n=void 0}function s(){a(),n=g(o)}t(e<=0?1:0,s,a)}),y=function(){function t(e){this.span=d("span",{class:"dcg-mq-aria-alert","aria-live":"assertive","aria-atomic":"true"}),this.msg="",this.items=[],this.controller=e}return t.prototype.attach=function(){var e=this.controller.container;this.span.parentNode!==e&&x(e).prepend(x(this.span))},t.prototype.queue=function(e,t){void 0===t&&(t=!1);var n="";if(e instanceof Z){var r=e.mathspeak({ignoreShorthand:!0});t&&(e.parent&&e.parent.ariaLabel&&"block"===e.ariaLabel?n=e.parent.ariaLabel+" "+r:e.ariaLabel&&(n=e.ariaLabel+" "+r)),""===n&&(n=r)}else n=e||"";return this.items.push(n),this},t.prototype.queueDirOf=function(t){return l(t),this.queue(t===e?"before":"after")},t.prototype.queueDirEndOf=function(t){return l(t),this.queue(t===e?"beginning of":"end of")},t.prototype.alert=function(e){return this.attach(),e&&this.queue(e),this.items.length&&(this.msg=this.items.join(" ").replace(/ +(?= )/g,"").trim(),this.controller.containerHasFocus()&&(this.controller.options.logAriaAlerts&&this.msg&&console.log(this.msg),this.span.textContent=this.msg)),this.clear()},t.prototype.clear=function(){return this.items.length=0,this},t}(),b=function(){function n(n,r){var i;1===arguments.length&&(r=n),n&&r&&(this.ends=((i={})[e]=n,i[t]=r,i))}return n.create=function(e,t){1===arguments.length&&(t=e),s("No half-empty DOMFragments",!!e==!!t);var r=new n(e,t);return s("last is a forward sibling of first",r.isValid()),r},n.prototype.isEmpty=function(){return void 0===this.ends},n.prototype.isOneNode=function(){return!(!this.ends||this.ends[e]!==this.ends[t])},n.prototype.isValid=function(){return!this.ends||this.ends[e]===this.ends[t]||(this.eachNode((function(e){return n=e})),n===this.ends[t]);var n},n.prototype.firstNode=function(){return s("Fragment is not empty",this.ends),this.ends[e]},n.prototype.lastNode=function(){return s("Fragment is not empty",this.ends),this.ends[t]},n.prototype.children=function(){var e=this.oneNode(),t=e.firstChild,r=e.lastChild;return t&&r?new n(t,r):new n},n.prototype.join=function(r){if(!this.ends)return r;if(!r.ends)return this;for(var i=!1,o=this.ends[t].nextSibling;o;){if(o===r.ends[e]){i=!0;break}o=o.nextSibling}return s("sibling must be a forward DOM sibling of this fragment",i),new n(this.ends[e],r.ends[t])},n.prototype.oneNode=function(){return s("Fragment has a single node",this.ends&&this.ends[e]===this.ends[t]),this.ends[e]},n.prototype.oneElement=function(){var e=this.oneNode();return s("Node is an Element",e.nodeType===Node.ELEMENT_NODE),e},n.prototype.oneText=function(){var e=this.oneNode();return s("Node is Text",e.nodeType===Node.TEXT_NODE),e},n.prototype.eachNode=function(n){if(!this.ends)return this;for(var r=this.ends[t],i=this.ends[e],o=void 0;i&&(o=i.nextSibling,n(i),i!==r);i=o);return this},n.prototype.eachElement=function(e){return this.eachNode((function(t){t.nodeType===Node.ELEMENT_NODE&&e(t)})),this},n.prototype.text=function(){var e="";return this.eachNode((function(t){e+=t.textContent||""})),e},n.prototype.toNodeArray=function(){var e=[];return this.eachNode((function(t){return e.push(t)})),e},n.prototype.toElementArray=function(){var e=[];return this.eachElement((function(t){return e.push(t)})),e},n.prototype.toDocumentFragment=function(){var e=document.createDocumentFragment();return this.eachNode((function(t){return e.appendChild(t)})),e},n.prototype.insertBefore=function(t){return this.insDirOf(e,t)},n.prototype.insertAfter=function(e){return this.insDirOf(t,e)},n.prototype.append=function(e){return e.appendTo(this.oneElement()),this},n.prototype.prepend=function(e){return e.prependTo(this.oneElement()),this},n.prototype.appendTo=function(e){return this.insAtDirEnd(t,e)},n.prototype.prependTo=function(t){return this.insAtDirEnd(e,t)},n.prototype.parent=function(){if(!this.ends)return this;var t=this.ends[e].parentNode;return t?new n(t):new n},n.prototype.wrapAll=function(n){if(n.textContent="",!this.ends)return this;var r=this.ends[e].parentNode,i=this.ends[t].nextSibling;return this.appendTo(n),r&&r.insertBefore(n,i),this},n.prototype.replaceWith=function(e){var n,r=null===(n=this.ends)||void 0===n?void 0:n[t],i=null==r?void 0:r.parentNode,o=null==r?void 0:r.nextSibling;this.detach();var a=e.toDocumentFragment();return r&&i?(i.insertBefore(a,o||null),this):this},n.prototype.nthElement=function(n){if(this.ends&&!(n<0||n!==Math.floor(n)))for(var r=this.ends[e];r;){if(r.nodeType===Node.ELEMENT_NODE){if(n<=0)return r;n-=1}if(r===this.ends[t])return;r=r.nextSibling}},n.prototype.firstElement=function(){return this.nthElement(0)},n.prototype.lastElement=function(){if(this.ends)for(var n=this.ends[t];n;){if(n.nodeType===Node.ELEMENT_NODE)return n;if(n===this.ends[e])return;n=n.previousSibling}},n.prototype.first=function(){return new n(this.firstElement())},n.prototype.last=function(){return new n(this.lastElement())},n.prototype.eq=function(e){return new n(this.nthElement(e))},n.prototype.slice=function(e){if(!this.ends)return this;var r=this.nthElement(e);return r?new n(r,this.ends[t]):new n},n.prototype.next=function(){for(var e=this.oneNode();e;)if((e=e.nextSibling)&&e.nodeType===Node.ELEMENT_NODE)return new n(e);return new n},n.prototype.prev=function(){for(var e=this.oneNode();e;)if((e=e.previousSibling)&&e.nodeType===Node.ELEMENT_NODE)return new n(e);return new n},n.prototype.empty=function(){return this.eachElement((function(e){e.textContent=""})),this},n.prototype.remove=function(){return this.toDocumentFragment(),this},n.prototype.detach=function(){return this.remove()},n.prototype.insDirOf=function(t,n){var r;if(!this.ends)return this;var i=null===(r=n.ends)||void 0===r?void 0:r[t];return i&&i.parentNode?(function(t,n,r,i){n.insertBefore(r,t===e?i:i.nextSibling)}(t,i.parentNode,this.toDocumentFragment(),i),this):this.detach()},n.prototype.insAtDirEnd=function(t,n){return this.ends?(function(t,n,r){t===e?r.insertBefore(n,r.firstChild):r.appendChild(n)}(t,this.toDocumentFragment(),n),this):this},n.prototype.hasClass=function(e){var t=!1;return this.eachElement((function(n){n.classList.contains(e)&&(t=!0)})),t},n.prototype.addClass=function(e){for(var t=function(e){if(!e)return"continue";n.eachElement((function(t){t.classList.add(e)}))},n=this,r=0,i=e.split(/\s+/);r<i.length;r++){t(i[r])}return this},n.prototype.removeClass=function(e){for(var t=function(e){if(!e)return"continue";n.eachElement((function(t){t.classList.remove(e)}))},n=this,r=0,i=e.split(/\s+/);r<i.length;r++){t(i[r])}return this},n.prototype.toggleClass=function(e,t){if(!0===t)return this.addClass(e);if(!1===t)return this.removeClass(e);for(var n=function(e){if(!e)return"continue";r.eachElement((function(t){t.classList.toggle(e)}))},r=this,i=0,o=e.split(/\s+/);i<o.length;i++){n(o[i])}return this},n}(),x=b.create;var _=function(){function n(e,t,n){this.init(e,t,n)}return n.prototype.init=function(n,r,i){this.parent=n,this[e]=r,this[t]=i},n.copy=function(r){return new n(r.parent,r[e],r[t])},n}();function v(n,r){var i=n[e];if(i){var o=n[t];if(o)for(o=o[t];i!==o;i=i[t]){if(!1===r(i))break}}}function w(n,r,i){var o=n[e];if(!o)return r;var a=n[t];if(!a)return r;for(a=a[t];o!==a;o=o[t])r=i(r,o);return r}var A=function(){function n(){var o;this[r]=0,this[i]=0,this.parent=0,this.ends=((o={})[e]=0,o[t]=0,o),this.id=n.uniqueNodeId()}var r,i;return n.uniqueNodeId=function(){return n.idCounter+=1},n.getNodeOfElement=function(e){if(e){if(!e.nodeType)throw new Error("must pass an Element to NodeBase.getNodeOfElement");var t=e;return t.mqBlockNode||t.mqCmdNode}},n.linkElementByBlockNode=function(e,t){e.mqBlockNode=t},n.linkElementByCmdNode=function(e,t){e.mqCmdNode=t},n.prototype.setEnds=function(n){this.ends=n,s("No half-empty node ends",!!this.ends[e]==!!this.ends[t])},n.prototype.getEnd=function(e){return this.ends[e]},n.prototype.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},n.prototype.setDOM=function(e){return e&&s("DOM is an element or a text node",e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE),this._el=e,this},n.prototype.domFrag=function(){return x(this._el)},n.prototype.createDir=function(n,r){l(n);var i=this;return i.html(),i.domFrag().insDirOf(n,r.domFrag()),r[n]=i.adopt(r.parent,r[e],r[t]),i},n.prototype.createLeftOf=function(t){this.createDir(e,t)},n.prototype.selectChildren=function(e,t){return new P(e,t)},n.prototype.bubble=function(e){for(var t=this.getSelfNode();t;t=t.parent){if(!1===e(t))break}return this},n.prototype.postOrder=function(e){var t=this.getSelfNode();return function t(n){return!!n&&(n.eachChild(t),e(n),!0)}(t),t},n.prototype.isEmpty=function(){return 0===this.ends[e]&&0===this.ends[t]},n.prototype.isQuietEmptyDelimiter=function(e){if(!this.isEmpty()||!e||!this.parent||void 0===this.parent.ctrlSeq)return!1;var t=this.parent.ctrlSeq.replace(/^\\(left|right)?/,"");return e.hasOwnProperty(t)},n.prototype.isStyleBlock=function(){return!1},n.prototype.isTextBlock=function(){return!1},n.prototype.children=function(){return new E(this.getEnd(e),this.getEnd(t))},n.prototype.eachChild=function(e){return v(this.ends,e),this},n.prototype.foldChildren=function(e,t){return w(this.ends,e,t)},n.prototype.withDirAdopt=function(e,t,n,r){var i=this.getSelfNode();return new E(i,i).withDirAdopt(e,t,n,r),this},n.prototype.adopt=function(e,t,n){var r=this.getSelfNode();return new E(r,r).adopt(e,t,n),this.getSelfNode()},n.prototype.disown=function(){var e=this.getSelfNode();return new E(e,e).disown(),this},n.prototype.remove=function(){return this.domFrag().remove(),this.disown()},n.prototype.shouldIgnoreSubstitutionInSimpleSubscript=function(e){return!!(e.disableAutoSubstitutionInSubscripts&&this.parent&&this.parent.parent instanceof Ye&&this.parent.domFrag().hasClass("dcg-mq-sub"))},n.prototype.getSelfNode=function(){return this},n.prototype.parser=function(){s("Abstract parser() method is never called",!1)},n.prototype.html=function(){throw new Error("html() unimplemented in NodeBase")},n.prototype.text=function(){return""},n.prototype.latex=function(){var e={latex:"",startIndex:-1,endIndex:-1};return this.latexRecursive(e),e.latex},n.prototype.latexRecursive=function(e){},n.prototype.checkCursorContextOpen=function(e){e.startSelectionBefore===this&&(e.startIndex=e.latex.length),e.endSelectionBefore===this&&(e.endIndex=e.latex.length)},n.prototype.checkCursorContextClose=function(e){e.startSelectionAfter===this&&(e.startIndex=e.latex.length),e.endSelectionAfter===this&&(e.endIndex=e.latex.length)},n.prototype.finalizeTree=function(e,t){},n.prototype.contactWeld=function(e,t){},n.prototype.blur=function(e){},n.prototype.focus=function(){},n.prototype.intentionalBlur=function(){},n.prototype.reflow=function(){},n.prototype.registerInnerField=function(e,t){},n.prototype.chToCmd=function(e,t){s("Abstract chToCmd() method is never called",!1)},n.prototype.mathspeak=function(e){return""},n.prototype.seek=function(e,t){},n.prototype.siblingDeleted=function(e,t){},n.prototype.siblingCreated=function(e,t){},n.prototype.finalizeInsert=function(e,t){},n.prototype.fixDigitGrouping=function(e){},n.prototype.writeLatex=function(e,t){},n.prototype.write=function(e,t){},r=e,i=t,n.idCounter=0,n}();function k(n,r,i){s("a parent is always present",n),s("leftward is properly set up",r?r[t]===i&&r.parent===n:n.getEnd(e)===i),s("rightward is properly set up",i?i[e]===r&&i.parent===n:n.getEnd(t)===r)}var E=function(){function n(n,r,i){var o,a;if(this.disowned=!1,void 0===i&&(i=e),l(i),s("no half-empty fragments",!n==!r),n&&r){s("withDir is passed to Fragment",n instanceof Z),s("oppDir is passed to Fragment",r instanceof Z),s("withDir and oppDir have the same parent",n.parent===r.parent);var c=((a={})[i]=n,a[-i]=r,a);this.setEnds(c);var d=0;this.each((function(e){d=e})),s("following direction siblings from start reaches end",d===c[t])}else this.setEnds(((o={})[e]=0,o[t]=0,o))}return n.prototype.getDOMFragFromEnds=function(){var n=this.ends[e],r=this.ends[t];return 0===n||0===r?x():n===r?n.domFrag():n.domFrag().join(r.domFrag())},n.prototype.setEnds=function(e){this.ends=e},n.prototype.getEnd=function(e){return this.ends?this.ends[e]:0},n.prototype.domFrag=function(){return this.getDOMFragFromEnds()},n.prototype.withDirAdopt=function(t,n,r,i){return t===e?this.adopt(n,r,i):this.adopt(n,i,r)},n.prototype.adopt=function(n,r,i){var o;k(n,r,i);var a=this;this.disowned=!1;var s=a.ends[e];if(!s)return this;var l=a.ends[t];if(!l)return this;var c=((o={})[e]=n.getEnd(e),o[t]=n.getEnd(t),o);return r||(c[e]=s),i?i[e]=l:c[t]=l,n.setEnds(c),l[t]=i,a.each((function(i){return i[e]=r,i.parent=n,r&&(r[t]=i),r=i,!0})),a},n.prototype.disown=function(){var n,r=this,i=r.ends[e];if(!i||r.disowned)return r;this.disowned=!0;var o=r.ends[t];if(!o)return r;var a=i.parent;k(a,i[e],i),k(a,o,o[t]);var s=((n={})[e]=a.getEnd(e),n[t]=a.getEnd(t),n);i[e]?i[e][t]=o[t]:s[e]=o[t];o[t]?o[t][e]=i[e]:s[t]=i[e];return s[e]&&s[t]?a.setEnds(s):a.ends=s,r},n.prototype.remove=function(){return this.domFrag().remove(),this.disown()},n.prototype.each=function(e){return v(this.ends,e),this},n.prototype.fold=function(e,t){return w(this.ends,e,t)},n}(),I={},M={};function S(e){return e&&e.prototype instanceof Z}var C,T=function(r){function i(e,t,n){var i=r.call(this,e,t,n)||this;return i.ancestors={},i}return n(i,r),i.fromCursor=function(n){return new i(n.parent,n[e],n[t])},i}(_),D=function(r){function i(e,t,n){var i=r.call(this,e,0,0)||this;return i.upDownCache={},i.cursorElement=d("span",{class:"dcg-mq-cursor"},[d.text(u)]),i._domFrag=x(),i.controller=n,i.options=t,i.setDOMFrag(x(i.cursorElement)),i.blink=function(){x(i.cursorElement).toggleClass("dcg-mq-blink")},i}return n(i,r),i.prototype.setDOMFrag=function(e){return this._domFrag=e,this},i.prototype.domFrag=function(){return this._domFrag},i.prototype.show=function(){if(x(this.cursorElement).removeClass("dcg-mq-blink"),this.setDOMFrag(x(this.cursorElement)),this.intervalId)clearInterval(this.intervalId);else{var n=this[t];if(n){var r=this.selection;r&&r.getEnd(e)[e]===this[e]?this.domFrag().insertBefore(r.domFrag()):this.domFrag().insertBefore(n.domFrag())}else this.domFrag().appendTo(this.parent.domFrag().oneElement());this.parent.focus()}return this.intervalId=setInterval(this.blink,500),this},i.prototype.hide=function(){return this.intervalId&&clearInterval(this.intervalId),this.intervalId=0,this.domFrag().detach(),this.setDOMFrag(x()),this},i.prototype.withDirInsertAt=function(e,t,n,r){var i=this.parent;this.parent=t,this[e]=n,this[-e]=r,i!==t&&i.blur&&i.blur(this)},i.prototype.insDirOf=function(e,t){return l(e),this.domFrag().insDirOf(e,t.domFrag()),this.withDirInsertAt(e,t.parent,t[e],t),this.parent.domFrag().addClass("dcg-mq-hasCursor"),this},i.prototype.insLeftOf=function(t){return this.insDirOf(e,t)},i.prototype.insRightOf=function(e){return this.insDirOf(t,e)},i.prototype.insAtDirEnd=function(e,t){return l(e),this.domFrag().insAtDirEnd(e,t.domFrag().oneElement()),this.withDirInsertAt(e,t,0,t.getEnd(e)),t.focus(),this},i.prototype.insAtLeftEnd=function(t){return this.insAtDirEnd(e,t)},i.prototype.insAtRightEnd=function(e){return this.insAtDirEnd(t,e)},i.prototype.jumpUpDown=function(e,n){var r=this;r.upDownCache[e.id]=_.copy(r);var i=r.upDownCache[n.id];if(i){var o=i[t];o?r.insLeftOf(o):r.insAtRightEnd(i.parent)}else{var a=r.getBoundingClientRectWithoutMargin().left;n.seek(a,r)}r.controller.aria.queue(n,!0)},i.prototype.getBoundingClientRectWithoutMargin=function(){var e=this.domFrag();e.removeClass("dcg-mq-cursor");var t=h(e.oneElement()),n=t.left,r=t.right;return e.addClass("dcg-mq-cursor"),{left:n,right:r}},i.prototype.unwrapGramp=function(){var n=this.parent.parent,r=n.parent,i=n[t],o=n[e];if(n.disown().eachChild((function(e){return e.isEmpty()||(e.children().adopt(r,o,i).each((function(e){return e.domFrag().insertBefore(n.domFrag()),!0})),o=e.getEnd(t)),!0})),!this[t]){var a=this[e];if(a)this[t]=a[t];else for(;!this[t];){var s=this.parent[t];if(!s){this[t]=n[t],this.parent=r;break}this.parent=s,this[t]=s.getEnd(e)}}var l=this[t];l?this.insLeftOf(l):this.insAtRightEnd(r),n.domFrag().remove();var c=n[e],d=n[t];c&&c.siblingDeleted(this.options,t),d&&d.siblingDeleted(this.options,e)},i.prototype.startSelection=function(){for(var e=this.anticursor=T.fromCursor(this),t=e.ancestors,n=e;n.parent;n=n.parent)t[n.parent.id]=n},i.prototype.endSelection=function(){delete this.anticursor},i.prototype.select=function(){var n,r=this.anticursor;if(this[e]===r[e]&&this.parent===r.parent)return!1;for(var i=this;i.parent;i=i.parent)if(i.parent.id in r.ancestors){n=i.parent;break}s("cursor and anticursor in the same tree",n);var o,a,l=n,c=r.ancestors[l.id],d=t;if(i[e]!==c)for(var p=i;p;p=p[t])if(p[t]===c[t]){d=e,o=i,a=c;break}d===t&&(o=c,a=i),o instanceof _&&(o=o[t]),a instanceof _&&(a=a[e]),this.hide().selection=l.selectChildren(o,a);var u=this.selection.getEnd(d);return this.insDirOf(d,u),this.selectionChanged(),!0},i.prototype.resetToEnd=function(n){this.clearSelection();var r=n.root;this[t]=0,this[e]=r.getEnd(t),this.parent=r},i.prototype.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},i.prototype.deleteSelection=function(){var n=this.selection;n&&(this[e]=n.getEnd(e)[e],this[t]=n.getEnd(t)[t],n.remove(),this.selectionChanged(),delete this.selection)},i.prototype.replaceSelection=function(){var n=this.selection;return n&&(this[e]=n.getEnd(e)[e],this[t]=n.getEnd(t)[t],delete this.selection),n},i.prototype.depth=function(){for(var e=this,t=0;e=e.parent;)t+=e instanceof ye?1:0;return t},i.prototype.isTooDeep=function(e){return void 0!==this.options.maxDepth&&this.depth()+(e||0)>this.options.maxDepth},i.prototype.selectionChanged=function(){},i}(_),P=function(r){function i(e,t,n){var i=r.call(this,e,t,n)||this;return i._el=d("span",{class:"dcg-mq-selection"}),i.getDOMFragFromEnds().wrapAll(i._el),i}return n(i,r),i.prototype.isCleared=function(){return void 0===this._el},i.prototype.domFrag=function(){return this.isCleared()?this.getDOMFragFromEnds():x(this._el)},i.prototype.setEnds=function(n){s("Selection ends are never empty",n[e]&&n[t]),this.ends=n},i.prototype.getEnd=function(e){return this.ends[e]},i.prototype.adopt=function(e,t,n){return this.clear(),r.prototype.adopt.call(this,e,t,n)},i.prototype.clear=function(){var e=this.getDOMFragFromEnds();return this.domFrag().replaceWith(e),this._el=void 0,this},i.prototype.join=function(e,t){return void 0===t&&(t=""),this.fold("",(function(n,r){return n+t+r[e]()}))},i}(E),O=function(){function n(e,t,n){this.textareaEventListeners={},this.id=e.id,this.data={},this.root=e,this.container=t,this.options=n,this.aria=new y(this.getControllerSelf()),this.ariaLabel="Math Input",this.ariaPostLabel="",e.controller=this.getControllerSelf(),this.cursor=e.cursor=new D(e,n,this.getControllerSelf())}return n.prototype.getControllerSelf=function(){return this},n.prototype.handle=function(n,r){var i,o=this.options.handlers,a=null===(i=this.options.handlers)||void 0===i?void 0:i.fns[n];if(a){var l=null==o?void 0:o.APIClasses[this.KIND_OF_MQ];s("APIClass is defined",l);var c=new l(this);r===e||r===t?a(r,c):a(c)}},n.onNotify=function(e){n.notifyees.push(e)},n.prototype.notify=function(e){for(var t=0;t<n.notifyees.length;t+=1)n.notifyees[t](this.cursor,e);return this},n.prototype.setAriaLabel=function(e){var t=this.getAriaLabel();return e&&"string"==typeof e&&""!==e?this.ariaLabel=e:this.editable?this.ariaLabel="Math Input":this.ariaLabel="",this.ariaLabel!==t&&!this.containerHasFocus()&&this.updateMathspeak(),this},n.prototype.getAriaLabel=function(){return"Math Input"!==this.ariaLabel?this.ariaLabel:this.editable?"Math Input":""},n.prototype.setAriaPostLabel=function(e,t){var n=this;return e&&"string"==typeof e&&""!==e?(e!==this.ariaPostLabel&&"number"==typeof t&&(this._ariaAlertTimeout&&clearTimeout(this._ariaAlertTimeout),this._ariaAlertTimeout=setTimeout((function(){n.containerHasFocus()?n.aria.alert(n.root.mathspeak().trim()+" "+e.trim()):n.updateMathspeak()}),t)),this.ariaPostLabel=e):(this._ariaAlertTimeout&&clearTimeout(this._ariaAlertTimeout),this.ariaPostLabel=""),this},n.prototype.getAriaPostLabel=function(){return this.ariaPostLabel||""},n.prototype.containerHasFocus=function(){return document.activeElement&&this.container.contains(document.activeElement)},n.prototype.getTextareaOrThrow=function(){var e=this.textarea;if(!e)throw new Error("expected a textarea");return e},n.prototype.getTextareaSpanOrThrow=function(){var e=this.textareaSpan;if(!e)throw new Error("expected a textareaSpan");return e},n.prototype.addTextareaEventListeners=function(e){if(this.textarea)for(var t in e){var n=t;this.removeTextareaEventListener(n),this.textarea.addEventListener(n,e[n])}},n.prototype.removeTextareaEventListener=function(e){if(this.textarea){var t=this.textareaEventListeners[e];t&&this.textarea.removeEventListener(e,t)}},n.prototype.exportMathSpeak=function(){return this.root.mathspeak()},n.prototype.updateMathspeak=function(){},n.prototype.scrollHoriz=function(){},n.prototype.selectionChanged=function(){},n.prototype.setOverflowClasses=function(){},n.notifyees=[],n}(),B={},L={},F={},N=function(){function e(e){this.version=e}return e.prototype.assertJquery=function(){return s("Interface versions > 2 do not depend on JQuery",this.version<=2),s("JQuery is set for interface v < 3",this.jQuery),this.jQuery},e}(),R=function(){},q=function(){window.console&&console.warn('You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')};function G(e){return q(),C||(C=U(1)),C(e)}G.prototype=R.prototype,G.VERSION="vv1.8",G.interfaceVersion=function(e){if(1!==e)throw"Only interface version 1 supported. You specified: "+e;return(q=function(){window.console&&console.warn('You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:\n\n    MathQuill = MathQuill.getInterface(1);\n    // now MathQuill.MathField() works like it used to\n\nSee also the "`dev` branch (2014–2015) → v0.10.0 Migration Guide" at\n  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide')})(),G},G.getInterface=U;var Q=U.MIN=1,z=U.MAX=3;function U(i){if(1!==i&&2!==i&&3!==i)throw"Only interface versions between "+Q+" and "+z+" supported. You specified: "+i;var o=i;if(o<3){var a=window.jQuery;if(!a)throw"MathQuill interface version ".concat(o," requires jQuery 1.5.2+ to be loaded first");N.prototype.jQuery=a}var l=r(r({},F),{handlers:function(e){return{fns:e||{},APIClasses:g}}});function c(e,t){for(var n in t)if(t.hasOwnProperty(n)){if("substituteKeyboardEvents"===n&&o>=3)throw new Error(["As of interface version 3, the 'substituteKeyboardEvents'","option is no longer supported. Use 'overrideTypedText' and","'overrideKeystroke' instead."].join(" "));var r=t[n],i=l[n];e[n]=i?i(r):r}}var p=o<3?N:function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(N),u=function(e){function t(t){var n=e.call(this)||this;return n.__controller=t,n.__options=t.options,n.id=t.id,n.data=t.data,n}return n(t,e),t.prototype.mathquillify=function(e){var t=this.__controller,n=t.root,r=t.container;t.createTextarea();var i=x(r).addClass(e).children().detach();n.setDOM(x(d("span",{class:"dcg-mq-root-block","aria-hidden":!0})).appendTo(r).oneElement()),A.linkElementByBlockNode(n.domFrag().oneElement(),n),this.latex(i.text()),this.revert=function(){return t.removeMouseEventListener(),x(r).removeClass("dcg-mq-editable-field dcg-mq-math-mode dcg-mq-text-mode").empty().append(i),o<3?this.__options.assertJquery()(r):r}},t.prototype.setAriaLabel=function(e){return this.__controller.setAriaLabel(e),this},t.prototype.getAriaLabel=function(){return this.__controller.getAriaLabel()},t.prototype.config=function(e){return c(this.__options,e),this},t.prototype.el=function(){return this.__controller.container},t.prototype.text=function(){return this.__controller.exportText()},t.prototype.mathspeak=function(){return this.__controller.exportMathSpeak()},t.prototype.latex=function(e){if(arguments.length>0){this.__controller.renderLatexMath(e);var t=this.__controller.cursor;return this.__controller.blurred&&t.hide().parent.blur(t),this}return this.__controller.exportLatex()},t.prototype.selection=function(){return this.__controller.exportLatexSelection()},t.prototype.html=function(){return this.__controller.root.domFrag().oneElement().innerHTML.replace(/ jQuery\d+="(?:\d+|null)"/g,"").replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?dcg-mq-cursor( dcg-mq-blink)?"?>.?<\/span>/i,"").replace(/ dcg-mq-hasCursor|dcg-mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},t.prototype.reflow=function(){return this.__controller.root.postOrder((function(e){e.reflow()})),this},t}(R),h=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return n(i,r),i.prototype.mathquillify=function(e){return r.prototype.mathquillify.call(this,e),this.__controller.editable=!0,this.__controller.addMouseEventListener(),this.__controller.editablesTextareaEvents(),this},i.prototype.focus=function(){return this.__controller.getTextareaOrThrow().focus(),this.__controller.scrollHoriz(),this},i.prototype.blur=function(){return this.__controller.getTextareaOrThrow().blur(),this},i.prototype.write=function(e){this.__controller.writeLatex(e),this.__controller.scrollHoriz();var t=this.__controller.cursor;return this.__controller.blurred&&t.hide().parent.blur(t),this},i.prototype.empty=function(){var n,r=this.__controller.root,i=this.__controller.cursor;return r.setEnds(((n={})[e]=0,n[t]=0,n)),r.domFrag().empty(),delete i.selection,i.insAtRightEnd(r),this},i.prototype.cmd=function(e){var t=this.__controller.notify(void 0),n=t.cursor;if(/^\\[a-z]+$/i.test(e)&&!n.isTooDeep()){e=e.slice(1);var r,i=I[e];i&&(r=i.constructor?new i(e):i(e),n.selection&&r.replaces(n.replaceSelection()),r.createLeftOf(n.show()))}else n.parent.write(n,e);return t.scrollHoriz(),t.blurred&&n.hide().parent.blur(n),this},i.prototype.select=function(){return this.__controller.selectAll(),this},i.prototype.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},i.prototype.moveToDirEnd=function(e){return this.__controller.notify("move").cursor.insAtDirEnd(e,this.__controller.root),this},i.prototype.moveToLeftEnd=function(){return this.moveToDirEnd(e)},i.prototype.moveToRightEnd=function(){return this.moveToDirEnd(t)},i.prototype.keystroke=function(e,t){for(var n=e.replace(/^\s+|\s+$/g,"").split(/\s+/),r=0;r<n.length;r+=1)this.__controller.keystroke(n[r],t);return this},i.prototype.typedText=function(e){for(var t=0;t<e.length;t+=1)this.__controller.typedText(e.charAt(t));return this},i.prototype.dropEmbedded=function(e,t,n){var r=e-(void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft),i=t-(void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop),o=document.elementFromPoint(r,i);this.__controller.seek(o,r,i),(new ut).setOptions(n).createLeftOf(this.__controller.cursor)},i.prototype.setAriaPostLabel=function(e,t){return this.__controller.setAriaPostLabel(e,t),this},i.prototype.getAriaPostLabel=function(){return this.__controller.getAriaPostLabel()},i.prototype.clickAt=function(e,t,n){n=n||document.elementFromPoint(e,t);var r=this.__controller,i=r.root.domFrag().oneElement();return i.contains(n)||(n=i),r.seek(n,e,t),r.blurred&&this.focus(),this},i.prototype.ignoreNextMousedown=function(e){return this.__controller.cursor.options.ignoreNextMousedown=e,this},i}(u),g={AbstractMathQuill:u,EditableField:h};s("API.StaticMath defined",B.StaticMath),g.StaticMath=B.StaticMath(g),s("API.MathField defined",B.MathField),g.MathField=B.MathField(g),s("API.InnerMathField defined",B.InnerMathField),g.InnerMathField=B.InnerMathField(g),B.TextField&&(g.TextField=B.TextField(g));var m=function(e){if(!e||!e.nodeType)return null;for(var t,n=0,r=x(e).children().toElementArray();n<r.length;n++){var i=r[n];if(i.classList.contains("dcg-mq-root-block")){t=i;break}}var o=A.getNodeOfElement(t),a=o&&o.controller,s=a&&g[a.KIND_OF_MQ];return a&&s?new s(a):null};function f(e,t){function n(n,r){if(!n||!n.nodeType)return null;var i=m(n);if(i instanceof t)return i;var a=new le(new t.RootBlock,n,new p(o));return a.KIND_OF_MQ=e,new t(a).__mathquillify(r||{},o)}return s(e+" is defined",t),n.prototype=t.prototype,n}return m.L=e,m.R=t,m.config=function(e){return c(p.prototype,e),this},m.registerEmbed=function(e,t){if(!/^[a-z][a-z0-9]*$/i.test(e))throw"Embed name must start with letter and be only letters and digits";L[e]=t},m.StaticMath=f("StaticMath",g.StaticMath),m.MathField=f("MathField",g.MathField),m.InnerMathField=f("InnerMathField",g.InnerMathField),g.TextField&&(m.TextField=f("TextField",g.TextField)),m.prototype=u.prototype,(m.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"}).prototype=h.prototype,o<3&&(m.saneKeyboardEvents=se),m}G.noConflict=function(){return window.MathQuill=j,G};var j=window.MathQuill;function Y(e){e.moveOutOf=function(e){s("controller is defined",this.controller),this.controller.handle("moveOutOf",e)},e.deleteOutOf=function(e){s("controller is defined",this.controller),this.controller.handle("deleteOutOf",e)},e.selectOutOf=function(e){s("controller is defined",this.controller),this.controller.handle("selectOutOf",e)},e.upOutOf=function(){s("controller is defined",this.controller),this.controller.handle("upOutOf")},e.downOutOf=function(){s("controller is defined",this.controller),this.controller.handle("downOutOf")},e.reflow=function(){s("controller is defined",this.controller),this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function V(e,t){throw"Parse Error: "+t+" at "+(e=e?"'"+e+"'":"EOF")}window.MathQuill=G;var H=function(){function e(e){this._=e}return e.prototype.parse=function(t){return this.skip(e.eof)._(""+t,(function(e,t){return t}),V)},e.prototype.or=function(t){s("or is passed a parser",t instanceof e);var n=this;return new e((function(e,r,i){return n._(e,r,(function(n){return t._(e,r,i)}))}))},e.prototype.then=function(t){var n=this;return new e((function(r,i,o){return n._(r,(function(n,r){var a=t instanceof e?t:t(r);return s("a parser is returned",a instanceof e),a._(n,i,o)}),o)}))},e.prototype.many=function(){var t=this;return new e((function(e,n,r){for(var i=[];t._(e,o,a););return n(e,i);function o(t,n){return e=t,i.push(n),!0}function a(){return!1}}))},e.prototype.times=function(t,n){arguments.length<2&&(n=t);var r=this;return new e((function(e,i,o){for(var a,s=[],l=!0,c=0;c<t;c+=1)if(!(l=!!r._(e,d,p)))return o(e,a);for(;c<n&&l;c+=1)r._(e,d,u);return i(e,s);function d(t,n){return s.push(n),e=t,!0}function p(t,n){return a=n,e=t,!1}function u(e,t){return!1}}))},e.prototype.result=function(t){return this.then(e.succeed(t))},e.prototype.atMost=function(e){return this.times(0,e)},e.prototype.atLeast=function(e){var t=this;return t.times(e).then((function(e){return t.many().map((function(t){return e.concat(t)}))}))},e.prototype.map=function(t){return this.then((function(n){return e.succeed(t(n))}))},e.prototype.skip=function(e){return this.then((function(t){return e.result(t)}))},e.string=function(t){var n=t.length,r="expected '"+t+"'";return new e((function(e,i,o){var a=e.slice(0,n);return a===t?i(e.slice(n),a):o(e,r)}))},e.regex=function(t){s("regexp parser is anchored","^"===t.toString().charAt(1));var n="expected "+t;return new e((function(e,r,i){var o=t.exec(e);if(o){var a=o[0];return r(e.slice(a.length),a)}return i(e,n)}))},e.succeed=function(t){return new e((function(e,n){return n(e,t)}))},e.fail=function(t){return new e((function(e,n,r){return r(e,t)}))},e.letter=e.regex(/^[a-z]/i),e.letters=e.regex(/^[a-z]*/i),e.digit=e.regex(/^[0-9]/),e.digits=e.regex(/^[0-9]*/),e.whitespace=e.regex(/^\s+/),e.optWhitespace=e.regex(/^\s*/),e.any=new e((function(e,t,n){return e?t(e.slice(1),e.charAt(0)):n(e,"expected any character")})),e.all=new e((function(e,t,n){return t("",e)})),e.eof=new e((function(e,t,n){return e?n(e,"expected EOF"):t(e,e)})),e}(),K=function(){function e(){this.fn=a}return e.prototype.listen=function(e){this.fn=e,clearTimeout(this.timeoutId),this.timeoutId=setTimeout(this.fn)},e.prototype.listenOnce=function(e){var t=this;this.listen((function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];t.clearListener(),e.apply(void 0,n)}))},e.prototype.clearListener=function(){this.fn=a,clearTimeout(this.timeoutId)},e.prototype.trigger=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.fn.apply(this,e)},e}(),W=function(){var e={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"},t={ArrowRight:"Right",ArrowLeft:"Left",ArrowDown:"Down",ArrowUp:"Up",Delete:"Del",Escape:"Esc"," ":"Spacebar"};function n(e){switch(r(e)){case"Right":case"Left":case"Down":case"Up":return!0}return!1}function r(n){var r;if(void 0===n.key){var i=n.which||n.keyCode;return e[i]||String.fromCharCode(i)}return function(e){return 1===e.length&&e>="a"&&e<="z"}(n.key)?n.key.toUpperCase():null!==(r=t[n.key])&&void 0!==r?r:n.key}function i(e){var t=r(e),n=[];return e.ctrlKey&&n.push("Ctrl"),e.metaKey&&n.push("Meta"),e.altKey&&n.push("Alt"),e.shiftKey&&n.push("Shift"),n.length?("Alt"!==t&&"Control"!==t&&"Meta"!==t&&"Shift"!==t&&n.push(t),n.join("-")):t}return function(e,t){var r=null,o=null,a=new K;function s(){try{e instanceof HTMLTextAreaElement&&e.select()}catch(e){}}var l=!1;function c(){t.options&&t.options.overrideKeystroke?t.options.overrideKeystroke(i(r),r):t.keystroke(i(r),r)}function d(t){a.trigger(t),t.target===e&&(r=t,o=null,l&&a.listenOnce((function(e){e&&"focusout"===e.type||s()})),c())}function p(t){a.trigger(t),t.target===e&&(r&&o&&c(),o=t,n(t)?a.listenOnce(g):a.listen(h))}function u(t){a.trigger(t),t.target===e&&r&&!o&&(n(t)?a.listenOnce(g):a.listen(h))}function h(){if(!("selectionStart"in e&&e instanceof HTMLTextAreaElement&&e.selectionStart!==e.selectionEnd)&&e instanceof HTMLTextAreaElement){var n=e.value;r&&!r.altKey&&r.ctrlKey&&!r.metaKey&&r.shiftKey&&("U"===r.key||"Unidentified"===r.key||"Process"===r.key)||(1===n.length?(e.value="",t.options&&t.options.overrideTypedText?t.options.overrideTypedText(n):t.typedText(n)):g())}}function g(){e instanceof HTMLTextAreaElement&&e.value.length>1&&s()}function m(){r=null,o=null,a.clearListener(),e instanceof HTMLTextAreaElement&&(e.value="")}function f(e){a.trigger(e)}return t.options&&t.options.disableCopyPaste?t.addTextareaEventListeners({keydown:d,keypress:p,keyup:u,focusout:m,copy:function(e){e.preventDefault()},cut:function(e){e.preventDefault()},paste:function(e){a.trigger(),e.preventDefault()},input:f}):t.addTextareaEventListeners({keydown:d,keypress:p,keyup:u,focusout:m,cut:function(){a.listenOnce((function(){t.cut()}))},copy:function(){a.listenOnce((function(){t.copy()}))},paste:function(n){a.trigger(),n.target===e&&(document.activeElement!==e&&e.focus(),a.listen((function(){if(e instanceof HTMLTextAreaElement){var n=e.value;e.value="",n&&t.paste(n)}})))},input:f}),{select:function(t){a.trigger(),a.clearListener(),e instanceof HTMLTextAreaElement&&(e.value=t),t&&s(),l=!!t}}}}(),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.exportText=function(){return this.root.foldChildren("",(function(e,t){return e+t.text()}))},t}(O);O.onNotify((function(e,t){if("edit"===t||"replace"===t||void 0===t){var n=e.controller;if(!n||!n.options.enableDigitGrouping||!1!==n.blurred)return;n.disableGroupingForSeconds(1)}}));var $=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleTextareaFocusEditable=function(){var e=t.cursor;t.updateMathspeak(),t.blurred=!1,clearTimeout(t.blurTimeout),x(t.container).addClass("dcg-mq-focused"),e.parent||e.insAtRightEnd(t.root),e.selection?(e.selection.domFrag().removeClass("dcg-mq-blur"),t.selectionChanged()):e.show(),t.setOverflowClasses()},t.handleTextareaBlurEditable=function(){t.textareaSelectionTimeout&&(clearTimeout(t.textareaSelectionTimeout),t.textareaSelectionTimeout=0),t.disableGroupingForSeconds(0),t.blurred=!0,t.blurTimeout=setTimeout((function(){t.root.postOrder((function(e){e.intentionalBlur()})),t.cursor.clearSelection().endSelection(),t.blur(),t.updateMathspeak(),t.scrollHoriz()})),window.addEventListener("blur",t.handleWindowBlur)},t.handleTextareaFocusStatic=function(){t.blurred=!1},t.handleTextareaBlurStatic=function(){t.cursor.selection&&t.cursor.selection.clear(),setTimeout((function(){x(t.getTextareaSpanOrThrow()).detach(),t.blurred=!0}))},t.handleWindowBlur=function(){clearTimeout(t.blurTimeout),t.cursor.selection&&t.cursor.selection.domFrag().addClass("dcg-mq-blur"),t.blur(),t.updateMathspeak()},t}return n(t,e),t.prototype.disableGroupingForSeconds=function(e){var t=this;clearTimeout(this.__disableGroupingTimeout),0===e?this.root.domFrag().removeClass("dcg-mq-suppress-grouping"):(this.root.domFrag().addClass("dcg-mq-suppress-grouping"),this.__disableGroupingTimeout=setTimeout((function(){t.root.domFrag().removeClass("dcg-mq-suppress-grouping")}),1e3*e))},t.prototype.blur=function(){this.cursor.hide().parent.blur(this.cursor),x(this.container).removeClass("dcg-mq-focused"),window.removeEventListener("blur",this.handleWindowBlur),this.options&&this.options.resetCursorOnBlur&&this.cursor.resetToEnd(this)},t.prototype.addEditableFocusBlurListeners=function(){var e=this.cursor;this.addTextareaEventListeners({focus:this.handleTextareaFocusEditable,blur:this.handleTextareaBlurEditable}),this.blurred=!0,e.hide().parent.blur(e)},t.prototype.addStaticFocusBlurListeners=function(){this.addTextareaEventListeners({focus:this.handleTextareaFocusStatic,blur:this.handleTextareaBlurStatic})},t}(J),X=!1,Z=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return n(i,r),i.prototype.keystroke=function(n,r,o){var a=o.cursor;switch(n){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":o.ctrlDeleteDir(e);break;case"Shift-Backspace":case"Backspace":o.backspace();break;case"Esc":case"Tab":return void o.escapeDir(t,n,r);case"Shift-Tab":case"Shift-Esc":return void o.escapeDir(e,n,r);case"End":o.notify("move").cursor.insAtRightEnd(a.parent),o.aria.queue("end of").queue(a.parent,!0);break;case"Ctrl-End":o.notify("move").cursor.insAtRightEnd(o.root),o.aria.queue("end of").queue(o.ariaLabel).queue(o.root).queue(o.ariaPostLabel);break;case"Shift-End":o.selectToBlockEndInDir(t);break;case"Ctrl-Shift-End":o.selectToRootEndInDir(t);break;case"Home":o.notify("move").cursor.insAtLeftEnd(a.parent),o.aria.queue("beginning of").queue(a.parent,!0);break;case"Ctrl-Home":o.notify("move").cursor.insAtLeftEnd(o.root),o.aria.queue("beginning of").queue(o.ariaLabel).queue(o.root).queue(o.ariaPostLabel);break;case"Shift-Home":o.selectToBlockEndInDir(e);break;case"Ctrl-Shift-Home":o.selectToRootEndInDir(e);break;case"Left":o.moveLeft();break;case"Shift-Left":o.selectLeft();break;case"Ctrl-Left":case"Ctrl-Right":case"Ctrl-Up":case"Ctrl-Down":break;case"Right":o.moveRight();break;case"Shift-Right":o.selectRight();break;case"Up":o.moveUp();break;case"Down":o.moveDown();break;case"Shift-Up":o.withIncrementalSelection((function(t){if(a[e])for(;a[e];)t(e);else t(e)}));break;case"Shift-Down":o.withIncrementalSelection((function(e){if(a[t])for(;a[t];)e(t);else e(t)}));break;case"Ctrl-Shift-Del":case"Ctrl-Del":o.ctrlDeleteDir(t);break;case"Shift-Del":case"Del":o.deleteForward();break;case"Meta-A":case"Ctrl-A":o.selectAll();break;case"Ctrl-Alt-Up":a.parent.parent&&a.parent.parent instanceof i?o.aria.queue(a.parent.parent):o.aria.queue("nothing above");break;case"Ctrl-Alt-Down":a.parent&&a.parent instanceof i?o.aria.queue(a.parent):o.aria.queue("block is empty");break;case"Ctrl-Alt-Left":a.parent.parent&&a.parent.parent.getEnd(e)?o.aria.queue(a.parent.parent.getEnd(e)):o.aria.queue("nothing to the left");break;case"Ctrl-Alt-Right":a.parent.parent&&a.parent.parent.getEnd(t)?o.aria.queue(a.parent.parent.getEnd(t)):o.aria.queue("nothing to the right");break;case"Ctrl-Alt-Shift-Down":a.selection?o.aria.queue(a.selection.join("mathspeak"," ").trim()+" selected"):o.aria.queue("nothing selected");break;case"Ctrl-Alt-=":case"Ctrl-Alt-Shift-Right":o.ariaPostLabel.length?o.aria.queue(o.ariaPostLabel):o.aria.queue("no answer");break;default:return}o.aria.alert(),null==r||r.preventDefault(),o.scrollHoriz()},i.prototype.moveOutOf=function(e,t,n){s("overridden or never called on this node",!1)},i.prototype.moveTowards=function(e,t,n){s("overridden or never called on this node",!1)},i.prototype.deleteOutOf=function(e,t){s("overridden or never called on this node",!1)},i.prototype.deleteTowards=function(e,t){s("overridden or never called on this node",!1)},i.prototype.unselectInto=function(e,t){s("overridden or never called on this node",!1)},i.prototype.selectOutOf=function(e,t){s("overridden or never called on this node",!1)},i.prototype.selectTowards=function(e,t){s("overridden or never called on this node",!1)},i}(A);O.onNotify((function(e,t){("move"===t||"upDown"===t)&&e.show().clearSelection()})),F.leftRightIntoCmdGoes=function(e){if(e&&"up"!==e&&"down"!==e)throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+e+'"';return e},O.onNotify((function(e,t){"upDown"!==t&&(e.upDownCache={})})),O.onNotify((function(e,t){"edit"===t&&e.show().deleteSelection()})),O.onNotify((function(e,t){"select"!==t&&e.endSelection()}));var ee=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return n(i,r),i.prototype.keystroke=function(e,t){this.cursor.parent.keystroke(e,t,this.getControllerSelf())},i.prototype.escapeDir=function(e,t,n){l(e);var r=this.cursor;if(r.parent!==this.root&&(null==n||n.preventDefault()),r.parent!==this.root)return r.clearSelection(),r.parent.moveOutOf(e,r),r.controller.aria.alert(),this.notify("move")},i.prototype.moveDir=function(e){l(e);var t=this.cursor,n=t.options.leftRightIntoCmdGoes,r=t[e];return t.selection?t.insDirOf(e,t.selection.getEnd(e)):r?r.moveTowards(e,t,n):t.parent.moveOutOf(e,t,n),this.notify("move")},i.prototype.moveLeft=function(){return this.moveDir(e)},i.prototype.moveRight=function(){return this.moveDir(t)},i.prototype.moveUp=function(){return this.moveUpDown("up")},i.prototype.moveDown=function(){return this.moveUpDown("down")},i.prototype.moveUpDown=function(n){var r,i,o=this.notify("upDown").cursor;"up"===n?(r="upInto",i="upOutOf"):(r="downInto",i="downOutOf");var a=o[e],s=o[t],l=s&&s[r],c=a&&a[r];return l?o.insAtLeftEnd(l):c?o.insAtRightEnd(c):o.parent.bubble((function(e){var t=e[i];if(t&&("function"==typeof t&&(t=t.call(e,o)),t instanceof Z&&o.jumpUpDown(e,t),!0!==t))return!1})),this},i.prototype.deleteDir=function(n){l(n);var r=this.cursor,i=r[n],o=r.parent.parent,a=r.controller;if(i&&i instanceof Z)i.sides?a.aria.queue(i.parent.chToCmd(i.sides[-n].ch).mathspeak({createdLeftOf:r})):!i.blocks&&"\\text"!==i.parent.ctrlSeq&&a.aria.queue(i);else if(o&&o instanceof Z)if(o.sides)a.aria.queue(o.parent.chToCmd(o.sides[n].ch).mathspeak({createdLeftOf:r}));else if(o.blocks&&o.mathspeakTemplate)if(o.upInto&&o.downInto)a.aria.queue(o.mathspeakTemplate[1]);else{var s=o.mathspeakTemplate,c=n===e?s[0]:s[s.length-1];a.aria.queue(c)}else a.aria.queue(o);var d=r.selection;if(this.notify("edit"),!d){var p=r[n];p?p.deleteTowards(n,r):r.parent.deleteOutOf(n,r)}var u=r[e],h=r[t];return u.siblingDeleted&&u.siblingDeleted(r.options,t),h.siblingDeleted&&h.siblingDeleted(r.options,e),r.parent.bubble((function(e){e.reflow()})),this},i.prototype.ctrlDeleteDir=function(n){l(n);var r,i=this.cursor;if(!i[n]||i.selection)return this.deleteDir(n);this.notify("edit"),r=n===e?new E(i.parent.getEnd(e),i[e]):new E(i[t],i.parent.getEnd(t)),i.controller.aria.queue(r),r.remove(),i.insAtDirEnd(n,i.parent);var o=i[e],a=i[t];return o&&o.siblingDeleted(i.options,t),a&&a.siblingDeleted(i.options,e),i.parent.bubble((function(e){e.reflow()})),this},i.prototype.backspace=function(){return this.deleteDir(e)},i.prototype.deleteForward=function(){return this.deleteDir(t)},i.prototype.startIncrementalSelection=function(){s("Multiple selections can't be simultaneously open",!X),X=!0,this.notify("select");var e=this.cursor;e.anticursor||e.startSelection()},i.prototype.selectDirIncremental=function(e){s("A selection is open",X),X=!0;var t=this.cursor,n=t.selection;l(e);var r=t[e];r?n&&n.getEnd(e)===r&&t.anticursor[-e]!==r?r.unselectInto(e,t):r.selectTowards(e,t):t.parent.selectOutOf(e,t)},i.prototype.finishIncrementalSelection=function(){s("A selection is open",X);var e=this.cursor;e.clearSelection(),e.select()||e.show();var t=e.selection;t&&e.controller.aria.clear().queue(t.join("mathspeak"," ").trim()+" selected"),X=!1},i.prototype.withIncrementalSelection=function(e){var t=this;try{this.startIncrementalSelection();try{e((function(e){return t.selectDirIncremental(e)}))}finally{this.finishIncrementalSelection()}}finally{X=!1}},i.prototype.selectDir=function(e){this.withIncrementalSelection((function(t){return t(e)}))},i.prototype.selectLeft=function(){return this.selectDir(e)},i.prototype.selectRight=function(){return this.selectDir(t)},i.prototype.selectAll=function(){this.notify("move");var t=this.cursor;t.insAtRightEnd(this.root),this.withIncrementalSelection((function(n){for(;t[e];)n(e)}))},i.prototype.selectToBlockEndInDir=function(e){var t=this.cursor;this.withIncrementalSelection((function(n){for(;t[e];)n(e)}))},i.prototype.selectToRootEndInDir=function(e){var t=this,n=this.cursor;this.withIncrementalSelection((function(r){for(;n[e]||n.parent!==t.root;)r(e)}))},i}($),te=(function(e){function t(t){return e.call(this)||this}n(t,e)}(Z),function(){function e(e){for(var n=e[0]||new ye,r=1;r<e.length;r+=1)e[r].children().adopt(n,n.getEnd(t),0);return n}var n=H.string,r=H.regex,i=H.letter,o=H.digit,a=H.any,s=H.optWhitespace,l=H.succeed,c=H.fail,d=i.map((function(e){return new Ae(e)})),p=o.map((function(e){return new _e(e)})),u=r(/^[^${}\\_^]/).map((function(e){return new he(e)})),h=r(/^[^\\a-eg-zA-Z]/).or(n("\\").then(r(/^[a-z]+/i).or(r(/^\s+/).result(" ")).or(a))).then((function(e){var t=I[e];return t?t.constructor?new t(e).parser():t(e).parser():c("unknown command: \\"+e)})).or(d).or(p).or(u),g=n("{").then((function(){return f})).skip(n("}")),m=s.then(g.or(h.map((function(e){var t=new ye;return e.adopt(t,0,0),t})))),f=m.many().map(e).skip(s),y=n("[").then(m.then((function(e){return"]"!==e.join("latex")?l(e):c("")})).many().map(e).skip(s)).skip(n("]")),b=f;return b.block=m,b.optBlock=y,b}());F.maxDepth=function(e){return"number"==typeof e?e:void 0};var ne,re=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return n(i,r),i.prototype.cleanLatex=function(e){return e.replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},i.prototype.exportLatex=function(){return this.cleanLatex(this.root.latex())},i.prototype.writeLatex=function(e){var t=this.notify("edit").cursor;return t.parent.writeLatex(t,e),this},i.prototype.exportLatexSelection=function(){var n={latex:"",startIndex:-1,endIndex:-1},r=this.cursor.selection;if(r)n.startSelectionBefore=r.getEnd(e),n.endSelectionAfter=r.getEnd(t);else{var i=this.cursor[e];i?n.startSelectionAfter=i:n.startSelectionBefore=this.cursor.parent;var o=this.cursor[t];o?n.endSelectionBefore=o:n.endSelectionAfter=this.cursor.parent}this.root.latexRecursive(n);for(var a=n.latex,s=this.cleanLatex(a),l=n.startIndex,c=n.endIndex,d=0,p=0;p<n.endIndex;p++)a[p]!==s[d]?(p<n.startIndex&&(l-=1),c-=1):d+=1;return{latex:s,startIndex:l,endIndex:c}},i.prototype.classifyLatexForEfficientUpdate=function(e){if("string"==typeof e){var t=e.match(/-?[0-9.]+$/g);if(t&&1===t.length)return{latex:e,prefix:e.substr(0,e.length-t[0].length),digits:t[0]}}},i.prototype.updateLatexMathEfficiently=function(n,r){var i,o,a,s,l,c=this.root,d=this.classifyLatexForEfficientUpdate(n);if(!d)return!1;if(!(l=this.classifyLatexForEfficientUpdate(r))||l.prefix!==d.prefix)return!1;var p=l.digits,u=d.digits,h=!1,g=!1;"-"===p[0]&&(h=!0,p=p.substr(1)),"-"===u[0]&&(g=!0,u=u.substr(1));for(var m=this.root.getEnd(t),f=[],y=p.length-1;y>=0;y--){if(!m||m.ctrlSeq!==p[y]||m.parent!==c)return!1;f.unshift(m),m=m[e]}if(h&&!g){var b=m;if(!b||"-"!==b.ctrlSeq||b[t]!==f[0]||b.parent!==c)return!1;var x=b[e];if(x&&x.parent!==c)return!1;f[0][e]=b[e],c.getEnd(e)===b&&c.setEnds(((i={})[e]=f[0],i[t]=c.getEnd(t),i)),x&&(x[t]=f[0]),b.domFrag().remove()}if(!h&&g){var _=new De("-"),v=document.createElement("span");v.textContent="-",_.setDOM(v);var w=f[0][e];w&&(w[t]=_),c.getEnd(e)===f[0]&&c.setEnds(((o={})[e]=_,o[t]=c.getEnd(t),o)),_.parent=c,_[e]=f[0][e],_[t]=f[0],f[0][e]=_,_.contactWeld(this.cursor),_.domFrag().insertBefore(f[0].domFrag())}var A=Math.min(p.length,u.length);for(y=0;y<A;y++){var k=u[y];(m=f[y]).ctrlSeq!==k&&(m.ctrlSeq=k,m.domFrag().oneElement().textContent=k,m.mathspeakName=k)}if(p.length>u.length)for(m=f[u.length-1],c.setEnds(((a={})[e]=c.getEnd(e),a[t]=m,a)),m[t]=0,y=p.length-1;y>=A;y--)f[y].domFrag().remove();if(u.length>p.length){var E=document.createDocumentFragment();for(y=A;y<u.length;y++){var I=document.createElement("span");I.className="dcg-mq-digit",I.textContent=u[y];var M=new _e(u[y]);M.parent=c,M.setDOM(I),E.appendChild(I),M[e]=c.getEnd(t),M[t]=0,M[e][t]=M,c.setEnds(((s={})[e]=c.getEnd(e),s[t]=M,s))}c.domFrag().oneElement().appendChild(E)}var S=this.exportLatex();if(S!==n)return console.warn("tried updating latex efficiently but did not work. Attempted: "+n+" but wrote: "+S),!1;var C=c.getEnd(t);return C&&C.fixDigitGrouping(this.cursor.options),!0},i.prototype.renderLatexMathFromScratch=function(n){var r,i=this.root,o=this.cursor,a=H.all,s=H.eof,l=te.skip(s).or(a.result(!1)).parse(n);if(i.setEnds(((r={})[e]=0,r[t]=0,r)),l&&l.children().adopt(i,0,0),l){var c=i.domFrag();c.children().remove(),c.oneElement().appendChild(l.html()),i.finalizeInsert(o.options,o)}else i.domFrag().empty()},i.prototype.renderLatexMath=function(n){var r=this.cursor,i=this.root;this.notify("replace"),r.clearSelection();var o=this.exportLatex();(!i.getEnd(e)||!i.getEnd(t)||o!==n)&&(this.updateLatexMathEfficiently(n,o)||this.renderLatexMathFromScratch(n),this.updateMathspeak()),r.insAtRightEnd(i)},i.prototype.renderLatexText=function(n){var r,i=this.root,o=this.cursor;i.domFrag().children().slice(1).remove(),i.setEnds(((r={})[e]=0,r[t]=0,r)),delete o.selection,o.show().insAtRightEnd(i);var a=H.regex,s=H.string,l=H.eof,c=H.all,d=s("$").then(te).skip(s("$").or(l)).map((function(t){var n=new RootMathCommand(o);n.createBlocks();var r=n.getEnd(e);return t.children().adopt(r,0,0),n})),p=s("\\$").result("$").or(a(/^[^$]/)).map((function(e){return new he(e)})),u=d.or(p).many().skip(l).or(c.result(!1)).parse(n);if(u){for(var h=0;h<u.length;h+=1)u[h].adopt(i,i.getEnd(t),0);x(i.html()).appendTo(i.domFrag().oneElement()),i.finalizeInsert(o.options,o)}},i}(ee),ie=function(e){return!1};N.prototype.ignoreNextMousedown=ie,O.onNotify((function(e,t){("edit"===t||"replace"===t)&&ne&&ne.cursor===e&&ne.cb()}));var oe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleMouseDown=function(e){var n=p(e.target,".dcg-mq-root-block"),r=n&&A.getNodeOfElement(n)||A.getNodeOfElement(t.root.domFrag().oneElement()),i=r.domFrag().firstNode().ownerDocument,o=r.controller,s=o.cursor,l=s.blink,c=o.getTextareaSpanOrThrow(),d=o.getTextareaOrThrow();if(e.preventDefault(),e.target.unselectable=!0,!s.options.ignoreNextMousedown(e)&&(s.options.ignoreNextMousedown=ie,!p(e.target,".dcg-mq-ignore-mousedown"))){var u,h=null;ne={cursor:s,cb:function(){u=!0,s.blink=l,s.clearSelection(),y(),f()}},(!o.blurred||(n&&!o.editable&&x(n).prepend(x(c)),d.focus(),!u))&&(s.blink=a,o.seek(e.target,e.clientX,e.clientY).cursor.startSelection(),null==n||n.addEventListener("mousemove",g),null==i||i.addEventListener("mousemove",m),null==i||i.addEventListener("mouseup",b))}function g(e){h=e.target}function m(e){s.anticursor||s.startSelection(),o.seek(h,e.clientX,e.clientY).cursor.select(),s.selection&&s.controller.aria.clear().queue(s.selection.join("mathspeak")+" selected").alert(),h=null}function f(){null==n||n.removeEventListener("mousemove",g),null==i||i.removeEventListener("mousemove",m),null==i||i.removeEventListener("mouseup",b),ne=void 0}function y(){o.editable?(s.show(),s.controller.aria.queue(s.parent).alert()):x(c).detach()}function b(){s.blink=l,s.selection||y(),f()}},t}return n(t,e),t.prototype.addMouseEventListener=function(){this.container.addEventListener("mousedown",this.handleMouseDown)},t.prototype.removeMouseEventListener=function(){this.container.removeEventListener("mousedown",this.handleMouseDown)},t.prototype.seek=function(e,t,n){for(var r,i=this.notify("select").cursor;e&&!(r=A.getNodeOfElement(e));)e=e.parentElement;return r||(r=this.root),i.clearSelection().show(),r.seek(t,i),this.scrollHoriz(),this},t}(re),ae=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return n(i,r),i.prototype.setOverflowClasses=function(){var e=this.root.domFrag().oneElement(),t=!1,n=!1;if(!this.blurred){var r=h(e).width,i=e.scrollWidth,o=e.scrollLeft;t=i>r+o,n=o>0}e.classList.contains("dcg-mq-editing-overflow-right")!==t&&e.classList.toggle("dcg-mq-editing-overflow-right"),e.classList.contains("dcg-mq-editing-overflow-left")!==n&&e.classList.toggle("dcg-mq-editing-overflow-left")},i.prototype.scrollHoriz=function(){var n=this,r=this.cursor,i=r.selection,o=h(this.root.domFrag().oneElement());if(!r.domFrag().isEmpty()||i){if(i){var a=h(i.domFrag().oneElement()),s=a.left-(o.left+20),l=a.right-(o.right-20);if(i.getEnd(e)===r[t])if(s<0)var c=s;else{if(!(l>0))return;if(a.left-l<o.left+20)c=s;else c=l}else if(l>0)c=l;else{if(!(s<0))return;if(a.right-s>o.right-20)c=l;else c=s}}else{var d=h(r.domFrag().oneElement()).left;if(d>o.right-20)c=d-(o.right-20);else{if(!(d<o.left+20))return;c=d-(o.left+20)}}var p=this.root.domFrag().oneElement();if(!(c<0&&0===p.scrollLeft||c>0&&p.scrollWidth<=p.scrollLeft+o.width)){this.cancelScrollHoriz&&(this.cancelScrollHoriz(),this.cancelScrollHoriz=void 0);var u=this.root.domFrag().oneElement(),g=u.scrollLeft;f(this.getScrollAnimationDuration(),(function(e,t,r){e>=1?(n.cancelScrollHoriz=void 0,u.scrollLeft=Math.round(g+c),n.setOverflowClasses()):(n.cancelScrollHoriz=r,t(),u.scrollLeft=Math.round(g+e*c))}))}}else{this.cancelScrollHoriz&&(this.cancelScrollHoriz(),this.cancelScrollHoriz=void 0);var m=this.root.domFrag().oneElement(),y=m.scrollLeft;f(this.getScrollAnimationDuration(),(function(e,t,r){e>=1?(n.cancelScrollHoriz=void 0,m.scrollLeft=0,n.setOverflowClasses()):(n.cancelScrollHoriz=r,t(),m.scrollLeft=Math.round((1-e)*y))}))}},i.prototype.getScrollAnimationDuration=function(){var e;return null!==(e=this.options.scrollAnimationDuration)&&void 0!==e?e:100},i}(oe);function se(e,t){return W(e[0],t)}N.prototype.substituteTextarea=function(){return d("textarea",{autocapitalize:"off",autocomplete:"off",autocorrect:"off",spellcheck:!1,"x-palm-disable-ste-all":!0})},N.prototype.substituteKeyboardEvents=se;var le=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectFn=a,t}return n(t,e),t.prototype.createTextarea=function(){this.textareaSpan=d("span",{class:"dcg-mq-textarea"});var e=this.options.substituteTextarea();if(!e.nodeType)throw"substituteTextarea() must return a DOM element, got "+e;this.textarea=x(e).appendTo(this.textareaSpan).oneElement();var t=this;t.cursor.selectionChanged=function(){t.selectionChanged()}},t.prototype.selectionChanged=function(){var e=this;e.textareaSelectionTimeout||(e.textareaSelectionTimeout=setTimeout((function(){e.setTextareaSelection()})))},t.prototype.setTextareaSelection=function(){this.textareaSelectionTimeout=0;var e="";this.cursor.selection&&(e=this.cleanLatex(this.cursor.selection.join("latex")),this.options.statelessClipboard&&(e="$"+e+"$")),this.selectFn(e)},t.prototype.staticMathTextareaEvents=function(){var e=this;this.removeTextareaEventListener("cut"),this.removeTextareaEventListener("paste"),e.options.disableCopyPaste?this.removeTextareaEventListener("copy"):this.addTextareaEventListeners({copy:function(){e.setTextareaSelection()}}),this.addStaticFocusBlurListeners(),e.selectFn=function(t){var n=e.getTextareaOrThrow();n instanceof HTMLTextAreaElement&&(n.value=t,t&&n.select())}},t.prototype.editablesTextareaEvents=function(){var e=this.getTextareaOrThrow(),t=this.getTextareaSpanOrThrow();if(this.options.version<3){var n=this.options.assertJquery(),r=this.options.substituteKeyboardEvents(n(e),this);this.selectFn=function(e){r.select(e)}}else{var i=W(e,this).select;this.selectFn=i}x(this.container).prepend(x(t)),this.addEditableFocusBlurListeners(),this.updateMathspeak()},t.prototype.unbindEditablesEvents=function(){var e=this,t=e.getTextareaOrThrow(),n=e.getTextareaSpanOrThrow();this.selectFn=function(e){t instanceof HTMLTextAreaElement&&(t.value=e,e&&t.select())},x(n).remove(),this.removeTextareaEventListener("focus"),this.removeTextareaEventListener("blur"),e.blurred=!0,this.removeTextareaEventListener("cut"),this.removeTextareaEventListener("paste")},t.prototype.typedText=function(e){if("\n"===e)return this.handle("enter");var t=this.notify(void 0).cursor;t.parent.write(t,e),this.scrollHoriz()},t.prototype.cut=function(){var e=this,t=e.cursor;t.selection&&setTimeout((function(){e.notify("edit"),t.parent.bubble((function(e){e.reflow()})),e.options&&e.options.onCut&&e.options.onCut()}))},t.prototype.copy=function(){this.setTextareaSelection()},t.prototype.paste=function(e){this.options.statelessClipboard&&(e="$"===e.slice(0,1)&&"$"===e.slice(-1)?e.slice(1,-1):"\\text{"+e+"}"),this.writeLatex(e).cursor.show(),this.scrollHoriz(),this.options&&this.options.onPaste&&this.options.onPaste()},t.prototype.setupStaticField=function(){this.mathspeakSpan=d("span",{class:"dcg-mq-mathspeak"}),x(this.container).prepend(x(this.mathspeakSpan)),this.updateMathspeak(),this.blurred=!0,this.cursor.hide().parent.blur(this.cursor)},t.prototype.updateMathspeak=function(){var e=this,t=e.getAriaLabel(),n=/[A-Za-z0-9]$/.test(t)?t+":":t,r=e.root.mathspeak().trim();this.aria.clear();var i=e.getTextareaOrThrow();e.mathspeakSpan?(i.setAttribute("aria-label",""),e.mathspeakSpan.textContent=(n+" "+r).trim()):i.setAttribute("aria-label",(n+" "+r+" "+e.ariaPostLabel).trim())},t}(ae),ce=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return n(i,r),i.prototype.finalizeInsert=function(n,r){var i=this;i.postOrder((function(e){e.finalizeTree(n)})),i.postOrder((function(e){e.contactWeld(r)})),i.postOrder((function(e){e.blur(r)})),i.postOrder((function(e){e.reflow()}));var o=i[t],a=i[e];o&&o.siblingCreated(n,e),a&&a.siblingCreated(n,t),i.bubble((function(e){e.reflow()}))},i.prototype.prepareInsertionAt=function(e){var t=e.options.maxDepth;if(void 0!==t){var n=e.depth();if(n>t)return!1;this.removeNodesDeeperThan(t-n)}return!0},i.prototype.removeNodesDeeperThan=function(e){for(var t,n=0,r=[[this,n]];t=r.shift();){var i=t;i[0].children().each((function(t){var o=t instanceof ye?1:0;(n=i[1]+o)<=e?r.push([t,n]):(o?t.children():t).remove()}))}},i}(Z),de=function(e,t){this.childCount=e,this.render=t},pe=function(r){function i(e,t,n){var i=r.call(this)||this;return i.textTemplate=[""],i.mathspeakTemplate=[""],i.setCtrlSeqHtmlAndText(e,t,n),i}return n(i,r),i.prototype.setEnds=function(n){s("MathCommand ends are never empty",n[e]&&n[t]),this.ends=n},i.prototype.getEnd=function(e){return this.ends[e]},i.prototype.setCtrlSeqHtmlAndText=function(e,t,n){this.ctrlSeq||(this.ctrlSeq=e),t&&(this.domView=t),n&&(this.textTemplate=n)},i.prototype.replaces=function(e){e.disown(),this.replacedFragment=e},i.prototype.isEmpty=function(){return this.foldChildren(!0,(function(e,t){return e&&t.isEmpty()}))},i.prototype.parser=function(){var e=this;return te.block.times(this.numBlocks()).map((function(n){e.blocks=n;for(var r=0;r<n.length;r+=1)n[r].adopt(e,e.getEnd(t),0);return e}))},i.prototype.createLeftOf=function(t){var n=this,i=n.replacedFragment;if(n.createBlocks(),r.prototype.createLeftOf.call(this,t),i){var o=n.getEnd(e);i.adopt(o,0,0),i.domFrag().appendTo(o.domFrag().oneElement()),n.placeCursor(t),n.prepareInsertionAt(t)}n.finalizeInsert(t.options,t),n.placeCursor(t)},i.prototype.createBlocks=function(){for(var e=this,n=e.numBlocks(),r=e.blocks=Array(n),i=0;i<n;i+=1){(r[i]=new ye).adopt(e,e.getEnd(t),0)}},i.prototype.placeCursor=function(t){t.insAtRightEnd(this.foldChildren(this.getEnd(e),(function(e,t){return e.isEmpty()?e:t})))},i.prototype.moveTowards=function(e,t,n){var r;"up"===n?r=this.upInto:"down"===n&&(r=this.downInto);var i=r||this.getEnd(-e);t.insAtDirEnd(-e,i),t.controller.aria.queueDirEndOf(-e).queue(t.parent,!0)},i.prototype.deleteTowards=function(e,t){this.isEmpty()?t[e]=this.remove()[e]:this.moveTowards(e,t)},i.prototype.selectTowards=function(e,t){t[-e]=this,t[e]=this[e]},i.prototype.selectChildren=function(){return new P(this,this)},i.prototype.unselectInto=function(e,t){var n=t.anticursor.ancestors[this.id];t.insAtDirEnd(-e,n)},i.prototype.seek=function(n,r){function i(n){var r,i=n.domFrag().oneElement(),o=h(i).left,a=o+i.offsetWidth;return(r={})[e]=o,r[t]=a,r}var o=this,a=i(o);if(n<a[e])return r.insLeftOf(o);if(n>a[t])return r.insRightOf(o);var s=a[e];o.eachChild((function(l){var c=i(l);return n<c[e]?(n-s<c[e]-n?l[e]?r.insAtRightEnd(l[e]):r.insLeftOf(o):r.insAtLeftEnd(l),!1):n>c[t]?void(l[t]?s=c[t]:a[t]-n<n-c[t]?r.insRightOf(o):r.insAtRightEnd(l)):(l.seek(n,r),!1)}))},i.prototype.numBlocks=function(){return this.domView.childCount},i.prototype.html=function(){var e=this.blocks;s("domView is defined",this.domView);var t=this.domView.render(e||[]);return this.setDOM(t),A.linkElementByCmdNode(t,this),t},i.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+=this.ctrlSeq||"",this.eachChild((function(t){e.latex+="{";var n=e.latex.length;t.latexRecursive(e),n===e.latex.length&&(e.latex+=" "),e.latex+="}"})),this.checkCursorContextClose(e)},i.prototype.text=function(){var e=this,t=0;return e.foldChildren(e.textTemplate[t],(function(n,r){t+=1;var i=r.text();return n&&"("===e.textTemplate[t]&&"("===i[0]&&")"===i.slice(-1)?n+i.slice(1,-1)+e.textTemplate[t]:n+i+(e.textTemplate[t]||"")}))},i.prototype.mathspeak=function(){var e=this,t=0;return e.foldChildren(e.mathspeakTemplate[t]||"Start"+e.ctrlSeq+" ",(function(n,r){return t+=1,n+" "+r.mathspeak()+" "+(e.mathspeakTemplate[t]+" "||0)}))},i}(ce),ue=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.setCtrlSeqHtmlTextAndMathspeak(t,n?new de(0,(function(){return n.cloneNode(!0)})):void 0,r,i),o}return n(t,e),t.prototype.setCtrlSeqHtmlTextAndMathspeak=function(t,n,r,i){!r&&t&&(r=t.replace(/^\\/,"")),this.mathspeakName=i||r,e.prototype.setCtrlSeqHtmlAndText.call(this,t,n,[r||""])},t.prototype.parser=function(){return H.succeed(this)},t.prototype.numBlocks=function(){return 0},t.prototype.replaces=function(e){e.remove()},t.prototype.createBlocks=function(){},t.prototype.moveTowards=function(e,t){t.domFrag().insDirOf(e,this.domFrag()),t[-e]=this,t[e]=this[e],t.controller.aria.queue(this)},t.prototype.deleteTowards=function(e,t){t[e]=this.remove()[e]},t.prototype.seek=function(e,t){var n=this.domFrag().oneElement();return e-h(n).left<n.offsetWidth/2?t.insLeftOf(this):t.insRightOf(this),t},t.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+=this.ctrlSeq||"",this.checkCursorContextClose(e)},t.prototype.text=function(){return this.textTemplate.join("")},t.prototype.mathspeak=function(e){return this.mathspeakName||""},t.prototype.placeCursor=function(){},t.prototype.isEmpty=function(){return!0},t}(pe),he=function(e){function t(t,n,r){return e.call(this,t,d("span",{},[n||d.text(t)]),void 0,r)||this}return n(t,e),t}(ue);function ge(e,t,n){return function(){return new he(e,t?d.entityText(t):void 0,n)}}var me=function(e){function t(t,n,r,i,o){return o?e.call(this,t,d("span",{},[n||d.text(t||"")]),void 0,i)||this:e.call(this,t,d("span",{class:"dcg-mq-binary-operator"},n?[n]:[]),r,i)||this}return n(t,e),t}(ue);function fe(e,t,n,r){return function(){return new me(e,t?d.entityText(t):void 0,n,r)}}var ye=function(r){function i(){var e=null!==r&&r.apply(this,arguments)||this;return e.ariaLabel="block",e}return n(i,r),i.prototype.join=function(e){return this.foldChildren("",(function(t,n){return t+n[e]()}))},i.prototype.html=function(){var e=document.createDocumentFragment();return this.eachChild((function(t){var n=t.html();e.appendChild(n)})),e},i.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),this.eachChild((function(t){return t.latexRecursive(e)})),this.checkCursorContextClose(e)},i.prototype.text=function(){var n=this.getEnd(e);return n===this.getEnd(t)&&0!==n?n.text():this.join("text")},i.prototype.mathspeak=function(){var e="",t={};return this.controller&&(t=this.controller.options.autoOperatorNames),this.foldChildren([],(function(n,r){if(r.isPartOfOperator)e+=r.mathspeak();else{if(""!==e){if(t._maxLength>0){var i=t[e.toLowerCase()];"string"==typeof i&&(e=i)}n.push(e+" "),e=""}var o=r.mathspeak(),a=r.ctrlSeq;isNaN(a)&&"."!==a&&(!r.parent||!r.parent.parent||!r.parent.parent.isTextBlock())&&(o=" "+o+" "),n.push(o)}return n})).join("").replace(/ +(?= )/g,"").replace(/(\.)([0-9]+)/g,(function(e,t,n){return t+n.split("").join(" ").trim()}))},i.prototype.keystroke=function(n,i,o){return!o.options.spaceBehavesLikeTab||"Spacebar"!==n&&"Shift-Spacebar"!==n?r.prototype.keystroke.call(this,n,i,o):(null==i||i.preventDefault(),void o.escapeDir("Shift-Spacebar"===n?e:t,n,i))},i.prototype.moveOutOf=function(e,t,n){var r;if("up"===n?r=this.parent.upInto:"down"===n&&(r=this.parent.downInto),!r&&this[e]){var i=-e;t.insAtDirEnd(i,this[e]),t.controller.aria.queueDirEndOf(i).queue(t.parent,!0)}else t.insDirOf(e,this.parent),t.controller.aria.queueDirOf(e).queue(this.parent)},i.prototype.selectOutOf=function(e,t){t.insDirOf(e,this.parent)},i.prototype.deleteOutOf=function(e,t){t.unwrapGramp()},i.prototype.seek=function(n,r){var i=this.getEnd(t);if(!i)return r.insAtRightEnd(this);var o=i.domFrag().oneElement();if(h(o).left+o.offsetWidth<n)return r.insAtRightEnd(this);if(n<h(this.getEnd(e).domFrag().oneElement()).left)return r.insAtLeftEnd(this);for(;n<h(i.domFrag().oneElement()).left;)i=i[e];return i.seek(n,r)},i.prototype.chToCmd=function(e,t){var n;return e.match(/^[a-eg-zA-Z]$/)?new Ae(e):/^\d$/.test(e)?new _e(e):t&&t.typingSlashWritesDivisionSymbol&&"/"===e?I["÷"](e):t&&t.typingAsteriskWritesTimesSymbol&&"*"===e?I["×"](e):t&&t.typingPercentWritesPercentOf&&"%"===e?I.percentof(e):(n=M[e]||I[e])?n.constructor?new n(e):n(e):new he(e)},i.prototype.write=function(e,t){var n=this.chToCmd(t,e.options);e.selection&&n.replaces(e.replaceSelection()),e.isTooDeep()||(n.createLeftOf(e.show()),"/"===t?e.controller.aria.alert("over"):e.controller.aria.alert(n.mathspeak({createdLeftOf:e})))},i.prototype.writeLatex=function(n,r){var i=H.all,o=H.eof,a=te.skip(o).or(i.result(!1)).parse(r);if(a&&!a.isEmpty()&&a.prepareInsertionAt(n)){a.children().adopt(n.parent,n[e],n[t]),x(a.html()).insertBefore(n.domFrag()),n[e]=a.getEnd(t),a.finalizeInsert(n.options,n);var s=a.getEnd(t),l=a.getEnd(e),c=s[t],d=l[e];c&&c.siblingCreated(n.options,e),d&&d.siblingCreated(n.options,t),n.parent.bubble((function(e){e.reflow()}))}},i.prototype.focus=function(){return this.domFrag().addClass("dcg-mq-hasCursor"),this.domFrag().removeClass("dcg-mq-empty"),this},i.prototype.blur=function(e){return this.domFrag().removeClass("dcg-mq-hasCursor"),this.isEmpty()&&(this.domFrag().addClass("dcg-mq-empty"),e&&this.isQuietEmptyDelimiter(e.options.quietEmptyDelimiters)&&this.domFrag().addClass("dcg-mq-quiet-delimiter")),this},i}(ce);N.prototype.mouseEvents=!0,B.StaticMath=function(e){var t;return t=function(t){function r(n){var r=t.call(this,n)||this,i=r.innerFields=[];return r.__controller.root.postOrder((function(t){t.registerInnerField(i,e.InnerMathField)})),r}return n(r,t),r.prototype.__mathquillify=function(e,n){return this.config(e),t.prototype.mathquillify.call(this,"dcg-mq-math-mode"),this.__controller.setupStaticField(),this.__options.mouseEvents&&(this.__controller.addMouseEventListener(),this.__controller.staticMathTextareaEvents()),this},r.prototype.latex=function(n){var r=t.prototype.latex.apply(this,arguments);if(arguments.length>0){var i=this.innerFields=[];this.__controller.root.postOrder((function(t){t.registerInnerField(i,e.InnerMathField)})),this.__controller.updateMathspeak()}return r},r.prototype.setAriaLabel=function(e){return this.__controller.setAriaLabel(e),this},r.prototype.getAriaLabel=function(){return this.__controller.getAriaLabel()},r}(e.AbstractMathQuill),t.RootBlock=ye,t};var be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(ye);Y(be.prototype),B.MathField=function(e){var t;return t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.__mathquillify=function(t,n){return this.config(t),n>1&&(this.__controller.root.reflow=a),e.prototype.mathquillify.call(this,"dcg-mq-editable-field dcg-mq-math-mode"),delete this.__controller.root.reflow,this},t}(e.EditableField),t.RootBlock=be,t},B.InnerMathField=function(e){return s("MathField class is defined",e.MathField),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.makeStatic=function(){this.__controller.editable=!1,this.__controller.root.blur(),this.__controller.unbindEditablesEvents(),x(this.__controller.container).removeClass("dcg-mq-editable-field")},t.prototype.makeEditable=function(){this.__controller.editable=!0,this.__controller.editablesTextareaEvents(),this.__controller.cursor.insAtRightEnd(this.__controller.root),x(this.__controller.container).addClass("dcg-mq-editable-field")},t}(e.MathField)};var xe=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return n(i,r),i.prototype.finalizeTree=function(e,t){this.sharedSiblingMethod(e,t)},i.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},i.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},i.prototype.sharedSiblingMethod=function(n,r){r!==e&&this[t]instanceof i||this.fixDigitGrouping(n)},i.prototype.fixDigitGrouping=function(n){if(n.enableDigitGrouping){var r=this,i=this,o=0,a=[],s="\\ ",l=r;do{if(/^[0-9]$/.test(l.ctrlSeq))r=l;else if(l.ctrlSeq===s)r=l,o+=1;else{if("."!==l.ctrlSeq)break;r=l,a.push(l)}}while(l=r[e]);for(;l=i[t];)if(/^[0-9]$/.test(l.ctrlSeq))i=l;else if(l.ctrlSeq===s)i=l,o+=1;else{if("."!==l.ctrlSeq)break;i=l,a.push(l)}for(;i!==r&&r&&r.ctrlSeq===s;)r=r[t],o-=1;for(;i!==r&&i&&i.ctrlSeq===s;)i=i[e],o-=1;if(r!==i||!r||r.ctrlSeq!==s)o>0||a.length>1?this.removeGroupingBetween(r,i):a[0]?(a[0]!==r&&this.addGroupingBetween(a[0][e],r),a[0]!==i&&this.removeGroupingBetween(a[0][t],i)):this.addGroupingBetween(i,r)}},i.prototype.removeGroupingBetween=function(e,n){var r=e;do{if(r instanceof i&&r.setGroupingClass(void 0),!r||r===n)break}while(r=r[t])},i.prototype.addGroupingBetween=function(t,n){var r=t,o=0,a=0;for(r=t;r&&(a+=1,r!==n);)r=r[e];var s=a%3;0===s&&(s=3);for(r=t;r;){o+=1;var l=void 0;if(a>=4&&(o===a?l="dcg-mq-group-leading-"+s:o%3==0&&o!==a&&(l="dcg-mq-group-start"),l||(l="dcg-mq-group-other")),r instanceof i&&r.setGroupingClass(l),r===n)break;r=r[e]}},i.prototype.setGroupingClass=function(e){this._groupingClass!==e&&(this._groupingClass&&this.domFrag().removeClass(this._groupingClass),e&&this.domFrag().addClass(e),this._groupingClass=e)},i}(ue),_e=function(t){function r(e,n){return t.call(this,e,d("span",{class:"dcg-mq-digit"},[d.text(e)]),void 0,n)||this}return n(r,t),r.prototype.createLeftOf=function(n){var r=n[e],i=r&&r[e],o=n.parent.parent instanceof Ye?n.parent.parent.sub:void 0;n.options.autoSubscriptNumerals&&n.parent!==o&&(r instanceof ve&&!1!==r.isItalic||r instanceof Ye&&i instanceof ve&&!1!==i.isItalic)?((new He).createLeftOf(n),t.prototype.createLeftOf.call(this,n),n.insRightOf(n.parent.parent)):t.prototype.createLeftOf.call(this,n)},r.prototype.mathspeak=function(n){if(n&&n.createdLeftOf){var r=n.createdLeftOf,i=r[e],o=i&&i[e],a=r.parent.parent instanceof Ye?r.parent.parent.sub:void 0;if(r.options.autoSubscriptNumerals&&r.parent!==a&&(i instanceof ve&&!1!==i.isItalic||r[e]instanceof Ye&&o instanceof ve&&!1!==o.isItalic))return"Subscript "+t.prototype.mathspeak.call(this)+" Baseline"}return t.prototype.mathspeak.call(this)},r}(xe),ve=function(r){function i(e,t){return r.call(this,e,d("var",{},[t||d.text(e)]))||this}return n(i,r),i.prototype.text=function(){var n=this.ctrlSeq||"";return this.isPartOfOperator?"\\"==n[0]?n=n.slice(1,n.length):" "==n[n.length-1]&&(n=n.slice(0,-1)):(this[e]&&!(this[e]instanceof i)&&!(this[e]instanceof me)&&"\\ "!==this[e].ctrlSeq&&(n="*"+n),this[t]&&!(this[t]instanceof me)&&!(this[t]instanceof Ye)&&(n+="*")),n},i.prototype.mathspeak=function(){var e=this.ctrlSeq||"";return this.isPartOfOperator||e.length>1||this.parent&&this.parent.parent&&this.parent.parent.isTextBlock()?r.prototype.mathspeak.call(this):'"'+e+'"'},i}(ue);function we(e,t,n){return function(){return new ve(e,d.entityText(t))}}N.prototype.autoCommands={_maxLength:0},F.autoCommands=function(e){if("string"!=typeof e||!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),n={},r=0,i=0;i<t.length;i+=1){var a=t[i];if(a.length<2)throw'autocommand "'+a+'" not minimum length of 2';if(I[a]===Ie)throw'"'+a+'" is a built-in operator name';n[a]=1,r=o(r,a.length)}return n._maxLength=r,n},N.prototype.quietEmptyDelimiters={},F.quietEmptyDelimiters=function(e){void 0===e&&(e="");for(var t=e.split(" "),n={},r=0;r<t.length;r+=1){n[t[r]]=1}return n},N.prototype.autoParenthesizedFunctions={_maxLength:0},F.autoParenthesizedFunctions=function(e){if("string"!=typeof e||!/^[a-z]+(?: [a-z]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of only letters';for(var t=e.split(" "),n={},r=0,i=0;i<t.length;i+=1){var a=t[i];if(a.length<2)throw'autocommand "'+a+'" not minimum length of 2';n[a]=1,r=o(r,a.length)}return n._maxLength=r,n};var Ae=function(r){function o(e){var t=r.call(this,e)||this;return t.letter=e,t}return n(o,r),o.prototype.checkAutoCmds=function(t){if(!this.shouldIgnoreSubstitutionInSimpleSubscript(t.options)){var n=t.options.autoCommands,r=n._maxLength||0;if(r>0){for(var i="",a=this,s=0;a instanceof o&&a.ctrlSeq===a.letter&&s<r;)i=a.letter+i,a=a[e],s+=1;for(;i.length;){if(n.hasOwnProperty(i)){for(a=this,s=1;a&&s<i.length;s+=1,a=a[e]);new E(a,this).remove(),t[e]=a[e];var l=I[i];return(S(l)?new l(i):l(i)).createLeftOf(t)}i=i.slice(1)}}}},o.prototype.autoParenthesize=function(n){var r=n.parent.getEnd(t);if(!(r&&r instanceof it&&"\\left("===r.ctrlSeq||this.shouldIgnoreSubstitutionInSimpleSubscript(n.options))){for(var i="",a=this,s=0,l=n.options.autoParenthesizedFunctions,c=l._maxLength||0,d=n.options.autoOperatorNames;a instanceof o&&s<c;)i=a.letter+i,a=a[e],s+=1;for(;i.length;){if(l.hasOwnProperty(i)&&d.hasOwnProperty(i))return n.parent.write(n,"(");i=i.slice(1)}}},o.prototype.createLeftOf=function(e){r.prototype.createLeftOf.call(this,e),this.checkAutoCmds(e),this.autoParenthesize(e)},o.prototype.italicize=function(e){return this.isItalic=e,this.isPartOfOperator=!e,this.domFrag().toggleClass("dcg-mq-operator-name",!e),this},o.prototype.finalizeTree=function(e,t){this.sharedSiblingMethod(e,t)},o.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},o.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},o.prototype.sharedSiblingMethod=function(n,r){r!==e&&this[t]instanceof o||this.autoUnItalicize(n)},o.prototype.autoUnItalicize=function(n){var r=n.autoOperatorNames;if(0!==r._maxLength&&!this.shouldIgnoreSubstitutionInSimpleSubscript(n)){for(var a=this.letter,s=this[e];s instanceof o;s=s[e])a=s.letter+a;for(var l=this[t];l instanceof o;l=l[t])a+=l.letter;var c=s&&s[t],d=l&&l[e];new E(c||this.parent.getEnd(e),d||this.parent.getEnd(t)).each((function(e){e instanceof o&&(e.italicize(!0).domFrag().removeClass("dcg-mq-first dcg-mq-last dcg-mq-followed-by-supsub"),e.ctrlSeq=e.letter)}));var p=r._maxLength||0;e:for(var u=0,h=s[t]||this.parent.getEnd(e);h&&u<a.length;u+=1,h=h[t])for(var g=i(p,a.length-u);g>0;g-=1){var m=a.slice(u,u+g),f=void 0;if(r.hasOwnProperty(m)){for(var y=0,b=h;y<g;y+=1,b=b[t])b instanceof o&&(b.italicize(!1),f=b);var x=ke.hasOwnProperty(m);if(h.ctrlSeq=(x?"\\":"\\operatorname{")+h.ctrlSeq,f.ctrlSeq+=x?" ":"}",Ee.hasOwnProperty(m)){var _=f[e],v=_&&_[e];(v&&v[e]).domFrag().addClass("dcg-mq-last")}if(this.shouldOmitPadding(h[e])||h.domFrag().addClass("dcg-mq-first"),!this.shouldOmitPadding(f[t]))if(f[t]instanceof Ye){var w=f[t];(w.siblingCreated=w.siblingDeleted=function(){w.domFrag().toggleClass("dcg-mq-after-operator-name",!(w[t]instanceof it))})()}else f.domFrag().toggleClass("dcg-mq-last",!(f[t]instanceof it));u+=g-1,h=f;continue e}}}},o.prototype.shouldOmitPadding=function(e){return!e||"."===e.ctrlSeq||e instanceof me||e instanceof Ke},o}(ve),ke={};N.prototype.autoOperatorNames=function(){for(var e={_maxLength:9},t="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),n=0;n<t.length;n+=1)ke[t[n]]=e[t[n]]=1;var r="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" ");for(n=0;n<r.length;n+=1)ke[r[n]]=1;var i="sin cos tan sec cosec csc cotan cot ctg".split(" ");for(n=0;n<i.length;n+=1)e[i[n]]=e["arc"+i[n]]=e[i[n]+"h"]=e["ar"+i[n]+"h"]=e["arc"+i[n]+"h"]=1;var o="gcf hcf lcm proj span".split(" ");for(n=0;n<o.length;n+=1)e[o[n]]=1;return e}();var Ee={limsup:1,liminf:1,projlim:1,injlim:1};F.autoOperatorNames=function(e){if("string"!=typeof e)throw'"'+e+'" not a space-delimited list';if(!/^[a-z\|\-]+(?: [a-z\|\-]+)*$/i.test(e))throw'"'+e+'" not a space-delimited list of letters or "|"';for(var t=e.split(" "),n={},r=0,i=0;i<t.length;i+=1){var a=t[i];if(a.length<2)throw'"'+a+'" not minimum length of 2';if(a.indexOf("|")<0)n[a]=a,r=o(r,a.length);else{var s=a.split("|");if(s.length>2)throw'"'+a+'" has more than 1 mathspeak delimiter';if(s[0].length<2)throw'"'+a[0]+'" not minimum length of 2';n[s[0]]=s[1].replace(/-/g," "),r=o(r,s[0].length)}}return n._maxLength=r,n};var Ie=function(e){function r(t){return e.call(this,t||"")||this}return n(r,e),r.prototype.createLeftOf=function(e){for(var t=this.ctrlSeq,n=0;n<t.length;n+=1)new Ae(t.charAt(n)).createLeftOf(e)},r.prototype.parser=function(){for(var e=this.ctrlSeq,n=new ye,r=0;r<e.length;r+=1)new Ae(e.charAt(r)).adopt(n,n.getEnd(t),0);return H.succeed(n.children())},r}(ue);for(var Me in N.prototype.autoOperatorNames)N.prototype.autoOperatorNames.hasOwnProperty(Me)&&(I[Me]=Ie);I.operatorname=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.createLeftOf=function(){},t.prototype.numBlocks=function(){return 1},t.prototype.parser=function(){return te.block.map((function(e){var t=!0,n="",r=e.children();return r.each((function(e){e instanceof Ae?n+=e.letter:t=!1})),t&&"ans"===n?$e():r}))},t}(pe),I.f=function(e){function t(){var t=this;return(t=e.call(this,"f")||this).letter="f",t.domView=new de(0,(function(){return d("var",{class:"dcg-mq-f"},[d.text("f")])})),t}return n(t,e),t.prototype.italicize=function(t){return this.domFrag().eachElement((function(e){return e.textContent="f"})),this.domFrag().toggleClass("dcg-mq-f",t),e.prototype.italicize.call(this,t)},t}(Ae),I[" "]=I.space=function(){return new xe("\\ ",d("span",{},[d.text(" ")])," ")},I["."]=function(){return new xe(".",d("span",{class:"dcg-mq-digit"},[d.text(".")]),".")},I["'"]=I.prime=ge("'","&prime;","prime"),I["″"]=I.dprime=ge("″","&Prime;","double prime"),I.backslash=ge("\\backslash ","\\","backslash"),M["\\"]||(M["\\"]=I.backslash),I.$=ge("\\$","$","dollar"),I.square=ge("\\square ","□","square"),I.mid=ge("\\mid ","∣","mid");var Se=function(e){function t(t,n,r){return e.call(this,t,d("span",{class:"dcg-mq-nonSymbola"},[n||d.text(t)]))||this}return n(t,e),t}(ue);I["@"]=function(){return new Se("@")},I["&"]=function(){return new Se("\\&",d.entityText("&amp;"),"and")},I["%"]=function(e){function t(){return e.call(this,"\\%",d.text("%"),"percent")||this}return n(t,e),t.prototype.parser=function(){var t=H.optWhitespace,n=H.string;return t.then(n("\\operatorname{of}").map((function(){return Xe()}))).or(e.prototype.parser.call(this))},t}(Se),I["∥"]=I.parallel=ge("\\parallel ","&#x2225;","parallel"),I["∦"]=I.nparallel=ge("\\nparallel ","&#x2226;","not parallel"),I["⟂"]=I.perp=ge("\\perp ","&#x27C2;","perpendicular"),I.alpha=I.beta=I.gamma=I.delta=I.zeta=I.eta=I.theta=I.iota=I.kappa=I.mu=I.nu=I.xi=I.rho=I.sigma=I.tau=I.chi=I.psi=I.omega=function(e){return new ve("\\"+e+" ",d.entityText("&"+e+";"))},I.phi=we("\\phi ","&#981;"),I.phiv=I.varphi=we("\\varphi ","&phi;"),I.epsilon=we("\\epsilon ","&#1013;"),I.epsiv=I.varepsilon=we("\\varepsilon ","&epsilon;"),I.piv=I.varpi=we("\\varpi ","&piv;"),I.sigmaf=I.sigmav=I.varsigma=we("\\varsigma ","&sigmaf;"),I.thetav=I.vartheta=I.thetasym=we("\\vartheta ","&thetasym;"),I.upsilon=I.upsi=we("\\upsilon ","&upsilon;"),I.gammad=I.Gammad=I.digamma=we("\\digamma ","&#989;"),I.kappav=I.varkappa=we("\\varkappa ","&#1008;"),I.rhov=I.varrho=we("\\varrho ","&#1009;"),I.pi=I.π=function(){return new Se("\\pi ",d.entityText("&pi;"),"pi")},I.lambda=function(){return new Se("\\lambda ",d.entityText("&lambda;"),"lambda")},I.Upsilon=I.Upsi=I.upsih=I.Upsih=function(){return new ue("\\Upsilon ",d("var",{style:"font-family: serif"},[d.entityText("&upsih;")]),"capital upsilon")},I.Gamma=I.Delta=I.Theta=I.Lambda=I.Xi=I.Pi=I.Sigma=I.Phi=I.Psi=I.Omega=I.forall=function(e){return new he("\\"+e+" ",d.entityText("&"+e+";"))};var Ce=function(r){function i(e){var t=r.call(this)||this;return t.latexStr=e,t}return n(i,r),i.prototype.createLeftOf=function(n){var r=te.parse(this.latexStr);r.children().adopt(n.parent,n[e],n[t]),n[e]=r.getEnd(t),x(r.html()).insertBefore(n.domFrag()),r.finalizeInsert(n.options,n);var i=r.getEnd(t),o=i&&i[t];o&&o.siblingCreated(n.options,e);var a=r.getEnd(e),s=a&&a[e];s&&s.siblingCreated(n.options,t),n.parent.bubble((function(e){e.reflow()}))},i.prototype.mathspeak=function(){return te.parse(this.latexStr).mathspeak()},i.prototype.parser=function(){var e=te.parse(this.latexStr).children();return H.succeed(e)},i}(pe);function Te(t){if(!t)return!1;var n=t[e];return n?!(n instanceof me||/^(\\ )|[,;:\(\[]$/.test(n.ctrlSeq)):!!(t.parent&&t.parent.parent&&t.parent.parent.isStyleBlock())&&Te(t.parent.parent)}I["⁰"]=function(){return new Ce("^0")},I["¹"]=function(){return new Ce("^1")},I["²"]=function(){return new Ce("^2")},I["³"]=function(){return new Ce("^3")},I["⁴"]=function(){return new Ce("^4")},I["⁵"]=function(){return new Ce("^5")},I["⁶"]=function(){return new Ce("^6")},I["⁷"]=function(){return new Ce("^7")},I["⁸"]=function(){return new Ce("^8")},I["⁹"]=function(){return new Ce("^9")},I["¼"]=function(){return new Ce("\\frac14")},I["½"]=function(){return new Ce("\\frac12")},I["¾"]=function(){return new Ce("\\frac34")},I["√"]=function(){return new Ce("\\sqrt{}")};var De=function(e){function r(t,n,r){return e.call(this,t,n,void 0,r,!0)||this}return n(r,e),r.prototype.contactWeld=function(e,t){this.sharedSiblingMethod(e.options,t)},r.prototype.siblingCreated=function(e,t){this.sharedSiblingMethod(e,t)},r.prototype.siblingDeleted=function(e,t){this.sharedSiblingMethod(e,t)},r.prototype.sharedSiblingMethod=function(e,n){if(n!==t)return this.domFrag().oneElement().className=Te(this)?"dcg-mq-binary-operator":"",this},r}(me);I["+"]=function(e){function t(){return e.call(this,"+",d.text("+"))||this}return n(t,e),t.prototype.mathspeak=function(){return Te(this)?"plus":"positive"},t}(De);var Pe=function(e){function t(){return e.call(this,"-",d.entityText("&minus;"))||this}return n(t,e),t.prototype.mathspeak=function(){return Te(this)?"minus":"negative"},t}(De);I["−"]=I["—"]=I["–"]=I["-"]=Pe,I["±"]=I.pm=I.plusmn=I.plusminus=function(){return new De("\\pm ",d.entityText("&plusmn;"),"plus-or-minus")},I.mp=I.mnplus=I.minusplus=function(){return new De("\\mp ",d.entityText("&#8723;"),"minus-or-plus")},M["*"]=I.sdot=I.cdot=fe("\\cdot ","&middot;","*","times");var Oe=function(t){function r(){return t.call(this,"\\to ",d.entityText("&rarr;"),"to")||this}return n(r,t),r.prototype.deleteTowards=function(n,r){if(n===e){var i=r[e];return new E(i,this).remove(),r[e]=i[e],(new Pe).createLeftOf(r),void r[e].bubble((function(e){e.reflow()}))}t.prototype.deleteTowards.call(this,n,r)},r}(me);I["→"]=I.to=Oe;var Be=function(t){function r(e,n){var r=this,i=n?"Strict":"";return(r=t.call(this,e["ctrlSeq".concat(i)],d.entityText(e["htmlEntity".concat(i)]),e["text".concat(i)],e["mathspeak".concat(i)])||this).data=e,r.strict=n,r}return n(r,t),r.prototype.swap=function(e){this.strict=e;var t=e?"Strict":"";this.ctrlSeq=this.data["ctrlSeq".concat(t)],this.domFrag().children().replaceWith(x(d.entityText(this.data["htmlEntity".concat(t)]))),this.textTemplate=[this.data["text".concat(t)]],this.mathspeakName=this.data["mathspeak".concat(t)]},r.prototype.deleteTowards=function(n,r){if(n===e&&!this.strict)return this.swap(!0),void this.bubble((function(e){e.reflow()}));t.prototype.deleteTowards.call(this,n,r)},r}(me),Le={ctrlSeq:"\\le ",htmlEntity:"&le;",text:"≤",mathspeak:"less than or equal to",ctrlSeqStrict:"<",htmlEntityStrict:"&lt;",textStrict:"<",mathspeakStrict:"less than"},Fe={ctrlSeq:"\\ge ",htmlEntity:"&ge;",text:"≥",mathspeak:"greater than or equal to",ctrlSeqStrict:">",htmlEntityStrict:"&gt;",textStrict:">",mathspeakStrict:"greater than"},Ne=function(t){function r(){return t.call(this,Fe,!0)||this}return n(r,t),r.prototype.createLeftOf=function(n){var r=n[e];if(r instanceof me&&"-"===r.ctrlSeq){var i=r;return n[e]=i[e],i.remove(),(new Oe).createLeftOf(n),void n[e].bubble((function(e){e.reflow()}))}t.prototype.createLeftOf.call(this,n)},r}(Be);I["<"]=I.lt=function(){return new Be(Le,!0)},I[">"]=I.gt=Ne,I["≤"]=I.le=I.leq=function(){return new Be(Le,!1)},I["≥"]=I.ge=I.geq=function(){return new Be(Fe,!1)},I.infty=I.infin=I.infinity=ge("\\infty ","&infin;","infinity"),I["≠"]=I.ne=I.neq=fe("\\ne ","&ne;","not equal");var Re=function(t){function r(){return t.call(this,"=",d.text("="),"=","equals")||this}return n(r,t),r.prototype.createLeftOf=function(n){var r=n[e];if(r instanceof Be&&r.strict)return r.swap(!1),void r.bubble((function(e){e.reflow()}));t.prototype.createLeftOf.call(this,n)},r}(me);I["="]=Re,I["×"]=I.times=I.cross=fe("\\times ","&times;","[x]","times"),I["÷"]=I.div=I.divide=I.divides=fe("\\div ","&divide;","[/]","over");var qe=function(t){function r(){return t.call(this,"\\sim ",d.text("~"),"~","tilde")||this}return n(r,t),r.prototype.createLeftOf=function(n){if(n[e]instanceof r){var i=n[e];return n[e]=i[e],i.remove(),(new Ge).createLeftOf(n),void n[e].bubble((function(e){e.reflow()}))}t.prototype.createLeftOf.call(this,n)},r}(me),Ge=function(t){function r(){return t.call(this,"\\approx ",d.entityText("&approx;"),"≈","approximately equal")||this}return n(r,t),r.prototype.deleteTowards=function(n,r){if(n===e){var i=r[e];return new E(i,this).remove(),r[e]=i[e],(new qe).createLeftOf(r),void r[e].bubble((function(e){e.reflow()}))}t.prototype.deleteTowards.call(this,n,r)},r}(me);I.tildeNbsp=ge("~"," "," "),I.sim=qe,I["≈"]=I.approx=Ge,M["~"]=I.sim,I["~"]=I.tildeNbsp,F.interpretTildeAsSim=function(e){var t=!!e;return I["~"]=t?I.sim:I.tildeNbsp,t};var Qe={sqrt:{width:"",html:function(){return d("svg",{preserveAspectRatio:"none",viewBox:"0 0 32 54"},[d("path",{d:"M0 33 L7 27 L12.5 47 L13 47 L30 0 L32 0 L13 54 L11 54 L4.5 31 L0 33"})])}},"|":{width:".4em",html:function(){return d("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[d("path",{d:"M4.4 0 L4.4 54 L5.6 54 L5.6 0"})])}},"[":{width:".55em",html:function(){return d("svg",{preserveAspectRatio:"none",viewBox:"0 0 11 24"},[d("path",{d:"M8 0 L3 0 L3 24 L8 24 L8 23 L4 23 L4 1 L8 1"})])}},"]":{width:".55em",html:function(){return d("svg",{preserveAspectRatio:"none",viewBox:"0 0 11 24"},[d("path",{d:"M3 0 L8 0 L8 24 L3 24 L3 23 L7 23 L7 1 L3 1"})])}},"(":{width:".55em",html:function(){return d("svg",{preserveAspectRatio:"none",viewBox:"3 0 106 186"},[d("path",{d:"M85 0 A61 101 0 0 0 85 186 L75 186 A75 101 0 0 1 75 0"})])}},")":{width:".55em",html:function(){return d("svg",{preserveAspectRatio:"none",viewBox:"3 0 106 186"},[d("path",{d:"M24 0 A61 101 0 0 1 24 186 L34 186 A75 101 0 0 0 34 0"})])}},"{":{width:".7em",html:function(){return d("svg",{preserveAspectRatio:"none",viewBox:"10 0 210 350"},[d("path",{d:"M170 0 L170 6 A47 52 0 0 0 123 60 L123 127 A35 48 0 0 1 88 175 A35 48 0 0 1 123 223 L123 290 A47 52 0 0 0 170 344 L170 350 L160 350 A58 49 0 0 1 102 301 L103 220 A45 40 0 0 0 58 180 L58 170 A45 40 0 0 0 103 130 L103 49 A58 49 0 0 1 161 0"})])}},"}":{width:".7em",html:function(){return d("svg",{preserveAspectRatio:"none",viewBox:"10 0 210 350"},[d("path",{d:"M60 0 L60 6 A47 52 0 0 1 107 60 L107 127 A35 48 0 0 0 142 175 A35 48 0 0 0 107 223 L107 290 A47 52 0 0 1 60 344 L60 350 L70 350 A58 49 0 0 0 128 301 L127 220 A45 40 0 0 1 172 180 L172 170 A45 40 0 0 1 127 130 L127 49 A58 49 0 0 0 70 0"})])}},"&#8741;":{width:".7em",html:function(){return d("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[d("path",{d:"M3.2 0 L3.2 54 L4 54 L4 0 M6.8 0 L6.8 54 L6 54 L6 0"})])}},"&lang;":{width:".55em",html:function(){return d("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[d("path",{d:"M6.8 0 L3.2 27 L6.8 54 L7.8 54 L4.2 27 L7.8 0"})])}},"&rang;":{width:".55em",html:function(){return d("svg",{preserveAspectRatio:"none",viewBox:"0 0 10 54"},[d("path",{d:"M3.2 0 L6.8 27 L3.2 54 L2.2 54 L5.8 27 L2.2 0"})])}}},ze=function(e){function t(t,n,r,i,o){var a=e.call(this,t,new de(1,(function(e){return d.block(n,r,e[0])})))||this;return a.ariaLabel=i||t.replace(/^\\/,""),a.mathspeakTemplate=["Start"+a.ariaLabel+",","End"+a.ariaLabel],a.shouldNotSpeakDelimiters=o&&o.shouldNotSpeakDelimiters,a}return n(t,e),t.prototype.mathspeak=function(t){return!this.shouldNotSpeakDelimiters||t&&t.ignoreShorthand?e.prototype.mathspeak.call(this):this.foldChildren("",(function(e,n){return e+" "+n.mathspeak(t)})).trim()},t}(pe);I.mathrm=function(e){function t(){return e.call(this,"\\mathrm","span",{class:"dcg-mq-roman dcg-mq-font"},"Roman Font",{shouldNotSpeakDelimiters:!0})||this}return n(t,e),t.prototype.isTextBlock=function(){return!0},t}(ze),I.mathit=function(){return new ze("\\mathit","i",{class:"dcg-mq-font"},"Italic Font")},I.mathbf=function(){return new ze("\\mathbf","b",{class:"dcg-mq-font"},"Bold Font")},I.mathsf=function(){return new ze("\\mathsf","span",{class:"dcg-mq-sans-serif dcg-mq-font"},"Serif Font")},I.mathtt=function(){return new ze("\\mathtt","span",{class:"dcg-mq-monospace dcg-mq-font"},"Math Text")},I.underline=function(){return new ze("\\underline","span",{class:"dcg-mq-non-leaf dcg-mq-underline"},"Underline")},I.overline=I.bar=function(){return new ze("\\overline","span",{class:"dcg-mq-non-leaf dcg-mq-overline"},"Overline")},I.overrightarrow=function(){return new ze("\\overrightarrow","span",{class:"dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-right"},"Over Right Arrow")},I.overleftarrow=function(){return new ze("\\overleftarrow","span",{class:"dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-left"},"Over Left Arrow")},I.overleftrightarrow=function(){return new ze("\\overleftrightarrow ","span",{class:"dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-leftright"},"Over Left and Right Arrow")},I.overarc=function(){return new ze("\\overarc","span",{class:"dcg-mq-non-leaf dcg-mq-overarc"},"Over Arc")},I.dot=function(){return new pe("\\dot",new de(1,(function(e){return d("span",{class:"dcg-mq-non-leaf"},[d("span",{class:"dcg-mq-dot-recurring-inner"},[d("span",{class:"dcg-mq-dot-recurring"},[d.text("˙")]),d.block("span",{class:"dcg-mq-empty-box"},e[0])])])})))},I.textcolor=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.setColor=function(e){this.color=e,this.domView=new de(1,(function(t){return d.block("span",{class:"dcg-mq-textcolor",style:"color:"+e},t[0])})),this.ariaLabel=e.replace(/^\\/,""),this.mathspeakTemplate=["Start "+this.ariaLabel+",","End "+this.ariaLabel]},t.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e);var t=this.blocks[0];e.latex+="\\textcolor{"+this.color+"}{",t.latexRecursive(e),e.latex+="}",this.checkCursorContextClose(e)},t.prototype.parser=function(){var t=this,n=H.optWhitespace,r=H.string,i=H.regex;return n.then(r("{")).then(i(/^[#\w\s.,()%-]*/)).skip(r("}")).then((function(n){return t.setColor(n),e.prototype.parser.call(t)}))},t.prototype.isStyleBlock=function(){return!0},t}(pe);I.class=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.parser=function(){var t=this,n=H.string,r=H.regex;return H.optWhitespace.then(n("{")).then(r(/^[-\w\s\\\xA0-\xFF]*/)).skip(n("}")).then((function(n){return t.cls=n||"",t.domView=new de(1,(function(e){return d.block("span",{class:"dcg-mq-class ".concat(n)},e[0])})),t.ariaLabel=n+" class",t.mathspeakTemplate=["Start "+t.ariaLabel+",","End "+t.ariaLabel],e.prototype.parser.call(t)}))},t.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e);var t=this.blocks[0];e.latex+="\\class{"+this.cls+"}{",t.latexRecursive(e),e.latex+="}",this.checkCursorContextClose(e)},t.prototype.isStyleBlock=function(){return!0},t}(pe);var Ue=/^[\+\-]?[\d]+$/;function je(e){if(!e)return"";var t="";return e.eachChild((function(e){void 0!==e.ctrlSeq&&(t+=e.ctrlSeq)})),t}N.prototype.charsThatBreakOutOfSupSub="";var Ye=function(r){function i(){var e=null!==r&&r.apply(this,arguments)||this;return e.ctrlSeq="_{...}^{...}",e}return n(i,r),i.prototype.setEnds=function(n){s("SupSub ends must be MathBlocks",n[e]instanceof ye&&n[t]instanceof ye),this.ends=n},i.prototype.getEnd=function(e){return this.ends[e]},i.prototype.createLeftOf=function(t){if(this.replacedFragment||t[e]||!t.options.supSubsRequireOperand)return r.prototype.createLeftOf.call(this,t)},i.prototype.contactWeld=function(n){for(var r=e;r;r=r===e&&t){var o=this[r],a=void 0;if(o instanceof i){for(var s="sub";s;s="sub"===s&&"sup"){var l=this[s],c=o[s];if(l){if(c)if(l.isEmpty())a=new _(c,0,c.getEnd(e));else{l.domFrag().children().insAtDirEnd(-r,c.domFrag().oneElement());var d=l.children().disown();a=new _(c,d.getEnd(t),c.getEnd(e)),r===e?d.adopt(c,c.getEnd(t),0):d.adopt(c,0,c.getEnd(e))}else o.addBlock(l.disown());this.placeCursor=function(e,t){return function(n){n.insAtDirEnd(-r,e||t)}}(c,l)}}this.remove(),n&&n[e]===this&&(r===t&&a?a[e]?n.insRightOf(a[e]):n.insAtLeftEnd(a.parent):n.insRightOf(o));break}}},i.prototype.finalizeTree=function(){this.getEnd(e).write=function(n,r){if(n.options.autoSubscriptNumerals&&this===this.parent.sub){if("_"===r)return;var i=this.chToCmd(r,n.options);return i instanceof ue?n.deleteSelection():n.clearSelection().insRightOf(this.parent),i.createLeftOf(n.show()),void n.controller.aria.queue("Baseline").alert(i.mathspeak({createdLeftOf:n}))}n[e]&&!n[t]&&!n.selection&&n.options.charsThatBreakOutOfSupSub.indexOf(r)>-1&&(n.insRightOf(this.parent),n.controller.aria.queue("Baseline")),ye.prototype.write.call(this,n,r)}},i.prototype.moveTowards=function(e,t,n){t.options.autoSubscriptNumerals&&!this.sup?t.insDirOf(e,this):r.prototype.moveTowards.call(this,e,t,n)},i.prototype.deleteTowards=function(t,n){if(n.options.autoSubscriptNumerals&&this.sub){var i=this.sub.getEnd(-t);i instanceof ue?i.remove():i&&i.deleteTowards(t,n.insAtDirEnd(-t,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(e,n.insAtLeftEnd(this.sub)),this.sup&&n.insDirOf(-t,this))}else r.prototype.deleteTowards.call(this,t,n)},i.prototype.latexRecursive=function(e){if(this.checkCursorContextOpen(e),this.sub){e.latex+="_{";var t=e.latex.length;this.sub.latexRecursive(e),t===e.latex.length&&(e.latex+=" "),e.latex+="}"}if(this.sup){e.latex+="^{";t=e.latex.length;this.sup.latexRecursive(e),t===e.latex.length&&(e.latex+=" "),e.latex+="}"}this.checkCursorContextClose(e)},i.prototype.text=function(){function e(e,t){var n=t&&t.text()||"";return t?e+(1===n.length?n:"("+(n||" ")+")"):""}return e("_",this.sub)+e("^",this.sup)},i.prototype.addBlock=function(e){"sub"===this.supsub?(this.sup=this.upInto=this.sub.upOutOf=e,e.adopt(this,this.sub,0).downOutOf=this.sub,e.setDOM(x(d("span",{class:"dcg-mq-sup"})).append(e.domFrag().children()).prependTo(this.domFrag().oneElement()).oneElement()),A.linkElementByBlockNode(e.domFrag().oneElement(),e)):(this.sub=this.downInto=this.sup.downOutOf=e,e.adopt(this,0,this.sup).upOutOf=this.sup,this.domFrag().removeClass("dcg-mq-sup-only"),e.setDOM(x(d("span",{class:"dcg-mq-sub"})).append(e.domFrag().children()).appendTo(this.domFrag().oneElement()).oneElement()),A.linkElementByBlockNode(e.domFrag().oneElement(),e),this.domFrag().append(x(d("span",{style:"display:inline-block;width:0"},[d.text(u)]))));for(var t=0;t<2;t+=1)!function(e,t,n,r){e[t].deleteOutOf=function(i,o){if(o.insDirOf(this[i]?-i:i,this.parent),!this.isEmpty()){var a=this.getEnd(i);this.children().disown().withDirAdopt(i,o.parent,o[i],o[-i]).domFrag().insDirOf(-i,o.domFrag()),o[-i]=a}e.supsub=n,delete e[t],delete e["".concat(r,"Into")];var s=e[n];s["".concat(r,"OutOf")]=Ve,delete s.deleteOutOf,"sub"===t&&e.domFrag().addClass("dcg-mq-sup-only").children().last().remove(),this.remove()}}(this,"sub sup".split(" ")[t],"sup sub".split(" ")[t],"down up".split(" ")[t])},i}(pe);function Ve(e){var n=this.parent,r=e;do{if(r[t])return e.insLeftOf(n);r=r.parent.parent}while(r!==n);e.insRightOf(n)}var He=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.supsub="sub",e.domView=new de(1,(function(e){return d("span",{class:"dcg-mq-supsub dcg-mq-non-leaf"},[d.block("span",{class:"dcg-mq-sub"},e[0]),d("span",{style:"display:inline-block;width:0"},[d.text(u)])])})),e.textTemplate=["_"],e.mathspeakTemplate=["Subscript,",", Baseline"],e.ariaLabel="subscript",e}return n(r,t),r.prototype.finalizeTree=function(){this.downInto=this.sub=this.getEnd(e),this.sub.upOutOf=Ve,t.prototype.finalizeTree.call(this)},r}(Ye);I.subscript=I._=He,I.superscript=I.supscript=I["^"]=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.supsub="sup",t.domView=new de(1,(function(e){return d("span",{class:"dcg-mq-supsub dcg-mq-non-leaf dcg-mq-sup-only"},[d.block("span",{class:"dcg-mq-sup"},e[0])])})),t.textTemplate=["^(",")"],t.ariaLabel="superscript",t.mathspeakTemplate=["Superscript,",", Baseline"],t}return n(r,e),r.prototype.mathspeak=function(t){var n=this.upInto;if(void 0!==n){var r=je(n);if((!t||!t.ignoreShorthand)&&Ue.test(r)){if("0"===r)return"to the 0 power";if("2"===r)return"squared";if("3"===r)return"cubed";var i="";return/^[+-]?\d{1,3}$/.test(r)&&(/(11|12|13|4|5|6|7|8|9|0)$/.test(r)?i="th":/1$/.test(r)?i="st":/2$/.test(r)?i="nd":/3$/.test(r)&&(i="rd")),"to the "+("object"==typeof n?n.mathspeak():r)+i+" power"}}return e.prototype.mathspeak.call(this)},r.prototype.finalizeTree=function(){this.upInto=this.sup=this.getEnd(t),this.sup.downOutOf=Ve,e.prototype.finalizeTree.call(this)},r}(Ye);var Ke=function(r){function i(e,t,n){var i=r.call(this)||this;i.ariaLabel=n||e.replace(/^\\/,"");var o=new de(2,(function(e){return d("span",{class:"dcg-mq-large-operator dcg-mq-non-leaf"},[d("span",{class:"dcg-mq-to"},[d.block("span",{},e[1])]),d("big",{},[d.text(t)]),d("span",{class:"dcg-mq-from"},[d.block("span",{},e[0])])])}));return ue.prototype.setCtrlSeqHtmlTextAndMathspeak.call(i,e,o),i}return n(i,r),i.prototype.createLeftOf=function(e){r.prototype.createLeftOf.call(this,e),e.options.sumStartsWithNEquals&&(new Ae("n").createLeftOf(e),(new Re).createLeftOf(e))},i.prototype.latexRecursive=function(n){this.checkCursorContextOpen(n),n.latex+=this.ctrlSeq+"_{";var r=n.latex.length;this.getEnd(e).latexRecursive(n);var i=n.latex.length;i===r&&(n.latex+=" "),n.latex+="}^{",r=n.latex.length,this.getEnd(t).latexRecursive(n),r===(i=n.latex.length)&&(n.latex+=" "),n.latex+="}",this.checkCursorContextClose(n)},i.prototype.mathspeak=function(){return"Start "+this.ariaLabel+" from "+this.getEnd(e).mathspeak()+" to "+this.getEnd(t).mathspeak()+", end "+this.ariaLabel+", "},i.prototype.parser=function(){for(var e=H.string,n=H.optWhitespace,r=H.succeed,i=te.block,o=this,a=o.blocks=[new ye,new ye],s=0;s<a.length;s+=1)a[s].adopt(o,o.getEnd(t),0);return n.then(e("_").or(e("^"))).then((function(e){var n=a["_"===e?0:1];return i.then((function(e){return e.children().adopt(n,n.getEnd(t),0),r(o)}))})).many().result(o)},i.prototype.finalizeTree=function(){var n=this.getEnd(e),r=this.getEnd(t);n.ariaLabel="lower bound",r.ariaLabel="upper bound",this.downInto=n,this.upInto=r,n.upOutOf=r,r.downOutOf=n},i}(pe);I["∑"]=I.sum=I.summation=function(){return new Ke("\\sum ","∑","sum")},I["∏"]=I.prod=I.product=function(){return new Ke("\\prod ","∏","product")},I.coprod=I.coproduct=function(){return new Ke("\\coprod ","∐","co product")},I["∫"]=I.int=I.integral=function(e){function t(){var t=e.call(this,"\\int ","","integral")||this;return t.ariaLabel="integral",t.domView=new de(2,(function(e){return d("span",{class:"dcg-mq-int dcg-mq-non-leaf"},[d("big",{},[d.text("∫")]),d("span",{class:"dcg-mq-supsub dcg-mq-non-leaf"},[d("span",{class:"dcg-mq-sup"},[d.block("span",{class:"dcg-mq-sup-inner"},e[1])]),d.block("span",{class:"dcg-mq-sub"},e[0]),d("span",{style:"display:inline-block;width:0"},[d.text(u)])])])})),t}return n(t,e),t.prototype.createLeftOf=function(e){pe.prototype.createLeftOf.call(this,e)},t}(Ke);var We=I.frac=I.dfrac=I.cfrac=I.fraction=function(r){function i(){var e=null!==r&&r.apply(this,arguments)||this;return e.ctrlSeq="\\frac",e.domView=new de(2,(function(e){return d("span",{class:"dcg-mq-fraction dcg-mq-non-leaf"},[d.block("span",{class:"dcg-mq-numerator"},e[0]),d.block("span",{class:"dcg-mq-denominator"},e[1]),d("span",{style:"display:inline-block;width:0"},[d.text(u)])])})),e.textTemplate=["(",")/(",")"],e}return n(i,r),i.prototype.finalizeTree=function(){var n=this.getEnd(e),r=this.getEnd(t);this.upInto=r.upOutOf=n,this.downInto=n.downOutOf=r,n.ariaLabel="numerator",r.ariaLabel="denominator",this.getFracDepth()>1?this.mathspeakTemplate=["StartNestedFraction,","NestedOver",", EndNestedFraction"]:this.mathspeakTemplate=["StartFraction,","Over",", EndFraction"]},i.prototype.mathspeak=function(n){if(n&&n.createdLeftOf)return n.createdLeftOf.parent.mathspeak();var i=je(this.getEnd(e)),o=je(this.getEnd(t));if((!n||!n.ignoreShorthand)&&Ue.test(i)&&Ue.test(o)){var a="1"===i||"-1"===i,s="";if("2"===o?s=a?"half":"halves":"3"===o?s=a?"third":"thirds":"4"===o?s=a?"quarter":"quarters":"5"===o?s=a?"fifth":"fifths":"6"===o?s=a?"sixth":"sixths":"7"===o?s=a?"seventh":"sevenths":"8"===o?s=a?"eighth":"eighths":"9"===o&&(s=a?"ninth":"ninths"),""!==s){for(var l="",c=!1,d=this[e];d&&void 0!==d[e];d=d[e])if("\\ "!==d.ctrlSeq){if(!Ue.test(d.ctrlSeq||"")){c=!1;break}c=!0}return c&&(l+="and "),l+=this.getEnd(e).mathspeak()+" "+s}}return r.prototype.mathspeak.call(this)},i.prototype.getFracDepth=function(){var e=function(t,n){return t instanceof Z&&t.ctrlSeq&&t.ctrlSeq.toLowerCase().search("frac")>=0&&(n+=1),t&&t.parent?e(t.parent,n):n};return e(this,0)},i}(pe),Je=I.over=M["/"]=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return n(i,r),i.prototype.createLeftOf=function(n){if(!this.replacedFragment){var i=n[e];if(!n.options.typingSlashCreatesNewFraction)for(;i&&!(i instanceof me||i instanceof(I.text||a)||i instanceof Ke||"\\ "===i.ctrlSeq||/^[,;:]$/.test(i.ctrlSeq));)i=i[e];if(i instanceof Ke&&i[t]instanceof Ye)(o=(i=i[t])[t])instanceof Ye&&o.ctrlSeq!=i.ctrlSeq&&(i=i[t]);if(i!==n[e]&&!n.isTooDeep(1)){var o=i[t],s=n[e];this.replaces(new E(o||n.parent.getEnd(e),s)),n[e]=i}}r.prototype.createLeftOf.call(this,n)},i}(We),$e=function(){return new ue("\\operatorname{ans}",d("span",{class:"dcg-mq-ans"},[d.text("ans")]),"ans")};I.ans=$e;var Xe=function(){return new ue("\\%\\operatorname{of}",d("span",{class:"dcg-mq-nonSymbola dcg-mq-operator-name"},[d.text("% of ")]),"percent of")};I.percent=I.percentof=Xe;var Ze=function(r){function i(){var e=null!==r&&r.apply(this,arguments)||this;return e.tokenId="",e.ctrlSeq="\\token",e.textTemplate=["token(",")"],e.mathspeakTemplate=["StartToken,",", EndToken"],e.ariaLabel="token",e}return n(i,r),i.prototype.html=function(){var e=d("span",{class:"dcg-mq-token dcg-mq-ignore-mousedown","data-dcg-mq-token":this.tokenId});return this.setDOM(e),A.linkElementByCmdNode(e,this),e},i.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+="\\token{"+this.tokenId+"}",this.checkCursorContextClose(e)},i.prototype.mathspeak=function(){var e=[];return this.domFrag().children().eachElement((function(t){var n=t.getAttribute("aria-label");"string"==typeof n&&""!==n&&e.push(n)})),e.length>0?e.join(" ").trim():"token "+this.tokenId},i.prototype.parser=function(){var n=this;return te.block.map((function(r){var i=r.getEnd(e);if(i)for(n.tokenId+=i.ctrlSeq;i=i[t];)n.tokenId+=i.ctrlSeq;return n}))},i}(ue);I.token=Ze;var et=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\sqrt",t.domView=new de(1,(function(e){return d("span",{class:"dcg-mq-non-leaf dcg-mq-sqrt-container"},[d("span",{class:"dcg-mq-scaled dcg-mq-sqrt-prefix"},[Qe.sqrt.html()]),d.block("span",{class:"dcg-mq-non-leaf dcg-mq-sqrt-stem"},e[0])])})),t.textTemplate=["sqrt(",")"],t.mathspeakTemplate=["StartRoot,",", EndRoot"],t.ariaLabel="root",t}return n(t,e),t.prototype.parser=function(){return te.optBlock.then((function(e){return te.block.map((function(t){var n=new tt;return n.blocks=[e,t],e.adopt(n,0,0),t.adopt(n,e,0),n}))})).or(e.prototype.parser.call(this))},t}(pe);I.sqrt=et,I.hat=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\hat",t.domView=new de(1,(function(e){return d("span",{class:"dcg-mq-non-leaf"},[d("span",{class:"dcg-mq-hat-prefix"},[d.text("^")]),d.block("span",{class:"dcg-mq-hat-stem"},e[0])])})),t.textTemplate=["hat(",")"],t}return n(t,e),t}(pe);var tt=function(r){function i(){var e=null!==r&&r.apply(this,arguments)||this;return e.domView=new de(2,(function(e){return d("span",{class:"dcg-mq-nthroot-container dcg-mq-non-leaf"},[d.block("sup",{class:"dcg-mq-nthroot dcg-mq-non-leaf"},e[0]),d("span",{class:"dcg-mq-scaled dcg-mq-sqrt-container"},[d("span",{class:"dcg-mq-sqrt-prefix dcg-mq-scaled"},[Qe.sqrt.html()]),d.block("span",{class:"dcg-mq-sqrt-stem dcg-mq-non-leaf"},e[1])])])})),e.textTemplate=["sqrt[","](",")"],e}return n(i,r),i.prototype.latexRecursive=function(n){this.checkCursorContextOpen(n),n.latex+="\\sqrt[",this.getEnd(e).latexRecursive(n),n.latex+="]{",this.getEnd(t).latexRecursive(n),n.latex+="}",this.checkCursorContextClose(n)},i.prototype.mathspeak=function(){var n=this.getEnd(e).mathspeak(),r=this.getEnd(t).mathspeak();return this.getEnd(e).ariaLabel="Index",this.getEnd(t).ariaLabel="Radicand","3"===n?"Start Cube Root, "+r+", End Cube Root":"Root Index "+n+", Start Root, "+r+", End Root"},i}(et);I.nthroot=tt,I.cbrt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.createLeftOf=function(t){e.prototype.createLeftOf.call(this,t),new _e("3").createLeftOf(t),t.controller.moveRight()},t}(tt);var nt=function(e){function t(t,n,r){var i=new de(1,(function(e){return d("span",{class:"dcg-mq-non-leaf"},[d("span",{class:"dcg-mq-diacritic-above"},[n]),d.block("span",{class:"dcg-mq-diacritic-stem"},e[0])])}));return e.call(this,t,i,r)||this}return n(t,e),t}(pe);I.vec=function(){return new nt("\\vec",d.entityText("&rarr;"),["vec(",")"])},I.tilde=function(){return new nt("\\tilde",d.text("~"),["tilde(",")"])};var rt=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return n(i,r),i.prototype.setDOM=function(n){var i;r.prototype.setDOM.call(this,n);var o=this.domFrag().children();return o.isEmpty()||(this.delimFrags=((i={})[e]=o.first(),i[t]=o.last(),i)),this},i}(pe),it=function(r){function i(n,i,o,a,s){var l,c=r.call(this,"\\left"+a,void 0,[i,o])||this;return c.side=n,c.sides=((l={})[e]={ch:i,ctrlSeq:a},l[t]={ch:o,ctrlSeq:s},l),c}return n(i,r),i.prototype.numBlocks=function(){return 1},i.prototype.html=function(){var n=this,i=this.getSymbol(e),o=this.getSymbol(t);return this.domView=new de(1,(function(r){return d("span",{class:"dcg-mq-non-leaf dcg-mq-bracket-container"},[d("span",{style:"width:"+i.width,class:"dcg-mq-scaled dcg-mq-bracket-l dcg-mq-paren"+(n.side===t?" dcg-mq-ghost":"")},[i.html()]),d.block("span",{style:"margin-left:"+i.width+";margin-right:"+o.width,class:"dcg-mq-bracket-middle dcg-mq-non-leaf"},r[0]),d("span",{style:"width:"+o.width,class:"dcg-mq-scaled dcg-mq-bracket-r dcg-mq-paren"+(n.side===e?" dcg-mq-ghost":"")},[o.html()])])})),r.prototype.html.call(this)},i.prototype.getSymbol=function(e){var n=this.sides[e||t].ch;return Qe[n]||{width:"0",html:""}},i.prototype.latexRecursive=function(n){this.checkCursorContextOpen(n),n.latex+="\\left"+this.sides[e].ctrlSeq,this.getEnd(e).latexRecursive(n),n.latex+="\\right"+this.sides[t].ctrlSeq,this.checkCursorContextClose(n)},i.prototype.mathspeak=function(n){var i=this.sides[e].ch,o=this.sides[t].ch;if("|"===i&&"|"===o)this.mathspeakTemplate=["StartAbsoluteValue,",", EndAbsoluteValue"],this.ariaLabel="absolute value";else{if(n&&n.createdLeftOf&&this.side){var a="";return this.side===e?a=this.textTemplate[0]:this.side===t&&(a=this.textTemplate[1]),(this.side===e?"left ":"right ")+at[a]}this.mathspeakTemplate=["left "+at[i]+",",", right "+at[o]],this.ariaLabel=at[i]+" block"}return r.prototype.mathspeak.call(this)},i.prototype.matchBrack=function(n,r,o){return o instanceof i&&o.side&&o.side!==-r&&(!n.restrictMismatchedBrackets||ot[this.sides[this.side].ch]===o.sides[o.side].ch||{"(":"]","[":")"}[this.sides[e].ch]===o.sides[t].ch)&&o},i.prototype.closeOpposing=function(n){n.side=0,n.sides[this.side]=this.sides[this.side];var r=n.delimFrags[this.side===e?e:t].removeClass("dcg-mq-ghost");this.replaceBracket(r,this.side)},i.prototype.createLeftOf=function(n){var i;if(!this.replacedFragment){var o=n.options;i="|"===this.sides[e].ch?this.matchBrack(o,t,n[t])||this.matchBrack(o,e,n[e])||this.matchBrack(o,0,n.parent.parent):this.matchBrack(o,-this.side,n[-this.side])||this.matchBrack(o,-this.side,n.parent.parent)}if(i){var a=this.side=-i.side;this.closeOpposing(i),i===n.parent.parent&&n[a]&&new E(n[a],n.parent.getEnd(a),-a).disown().withDirAdopt(-a,i.parent,i,i[a]).domFrag().insDirOf(a,i.domFrag()),i.bubble((function(e){e.reflow()}))}else a=(i=this).side,i.replacedFragment?i.side=0:n[-a]&&(i.replaces(new E(n[-a],n.parent.getEnd(-a),a)),n[-a]=0),r.prototype.createLeftOf.call(this,n);a===e?n.insAtLeftEnd(i.getEnd(e)):n.insRightOf(i)},i.prototype.placeCursor=function(){},i.prototype.unwrap=function(){this.getEnd(e).children().disown().adopt(this.parent,this,this[t]).domFrag().insertAfter(this.domFrag()),this.remove()},i.prototype.deleteSide=function(n,r,i){var o=this.parent,a=this[n],s=o.getEnd(n);if(n===this.side)return this.unwrap(),void(a?i.insDirOf(-n,a):i.insAtDirEnd(n,o));var l=i.options,c=!this.side;if(this.side=-n,this.matchBrack(l,n,this.getEnd(e).getEnd(this.side))){this.closeOpposing(this.getEnd(e).getEnd(this.side));var d=this.getEnd(e).getEnd(n);this.unwrap(),d&&d.siblingCreated(i.options,n),a?i.insDirOf(-n,a):i.insAtDirEnd(n,o)}else{if(this.matchBrack(l,n,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(r&&c)return this.unwrap(),void(a?i.insDirOf(-n,a):i.insAtDirEnd(n,o));this.sides[n]=function(e){var t=e.side,n=e.sides[t];return{ch:ot[n.ch],ctrlSeq:ot[n.ctrlSeq]}}(this),this.delimFrags[e].removeClass("dcg-mq-ghost"),this.delimFrags[t].removeClass("dcg-mq-ghost");var p=this.delimFrags[n].addClass("dcg-mq-ghost");this.replaceBracket(p,n)}if(a){var u=this.getEnd(e);d=u.getEnd(n);u.domFrag().removeClass("dcg-mq-empty"),new E(a,s,-n).disown().withDirAdopt(-n,u,d,0).domFrag().insAtDirEnd(n,u.domFrag().oneElement()),d&&d.siblingCreated(i.options,n),i.insDirOf(-n,a)}else r?i.insDirOf(n,this):i.insAtDirEnd(n,this.getEnd(e))}},i.prototype.replaceBracket=function(t,n){var r=this.getSymbol(n);if(t.children().replaceWith(x(r.html())),t.oneElement().style.width=r.width,n===e){var i=t.next();i.isEmpty()||(i.oneElement().style.marginLeft=r.width)}else{var o=t.prev();o.isEmpty()||(o.oneElement().style.marginRight=r.width)}},i.prototype.deleteTowards=function(e,t){this.deleteSide(-e,!1,t)},i.prototype.finalizeTree=function(){this.getEnd(e).deleteOutOf=function(e,t){this.parent.deleteSide(e,!0,t)},this.finalizeTree=this.intentionalBlur=function(){this.delimFrags[this.side===e?t:e].removeClass("dcg-mq-ghost"),this.side=0}},i.prototype.siblingCreated=function(e,t){t===-this.side&&this.finalizeTree()},i}(rt);var ot={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "},at={"&lang;":"angle-bracket","&rang;":"angle-bracket","|":"pipe"};function st(n,r,i){r=r||n;var o=ot[n],a=ot[r];M[n]=function(){return new it(e,n,o,r,a)},M[o]=function(){return new it(t,n,o,r,a)},at[n]=at[o]=i}st("(","","parenthesis"),st("[","","bracket"),st("{","\\{","brace"),I.langle=function(){return new it(e,"&lang;","&rang;","\\langle ","\\rangle ")},I.rangle=function(){return new it(t,"&lang;","&rang;","\\langle ","\\rangle ")},M["|"]=function(){return new it(e,"|","|","|","|")},I.lVert=function(){return new it(e,"&#8741;","&#8741;","\\lVert ","\\rVert ")},I.rVert=function(){return new it(t,"&#8741;","&#8741;","\\lVert ","\\rVert ")},I.left=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.parser=function(){var e=H.regex,t=H.string,n=H.optWhitespace;return n.then(e(/^(?:[([|]|\\\{|\\langle(?![a-zA-Z])|\\lVert(?![a-zA-Z]))/)).then((function(r){var i=r.replace(/^\\/,"");return"\\langle"==r&&(i="&lang;",r+=" "),"\\lVert"==r&&(i="&#8741;",r+=" "),te.then((function(o){return t("\\right").skip(n).then(e(/^(?:[\])|]|\\\}|\\rangle(?![a-zA-Z])|\\rVert(?![a-zA-Z]))/)).map((function(e){var t=e.replace(/^\\/,"");"\\rangle"==e&&(t="&rang;",e+=" "),"\\rVert"==e&&(t="&#8741;",e+=" ");var n=new it(0,i,t,r,e);return n.blocks=[o],o.adopt(n,0,0),n}))}))}))},t}(pe),I.right=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.parser=function(){return H.fail("unmatched \\right")},t}(pe);var lt=Qe["("],ct=Qe[")"],dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ctrlSeq="\\binom",t.domView=new de(2,(function(e){return d("span",{class:"dcg-mq-non-leaf dcg-mq-bracket-container"},[d("span",{style:"width:"+lt.width,class:"dcg-mq-paren dcg-mq-bracket-l dcg-mq-scaled"},[lt.html()]),d("span",{style:"margin-left:"+lt.width+"; margin-right:"+ct.width,class:"dcg-mq-non-leaf dcg-mq-bracket-middle"},[d("span",{class:"dcg-mq-array dcg-mq-non-leaf"},[d.block("span",{},e[0]),d.block("span",{},e[1])])]),d("span",{style:"width:"+ct.width,class:"dcg-mq-paren dcg-mq-bracket-r dcg-mq-scaled"},[ct.html()])])})),t.textTemplate=["choose(",",",")"],t.mathspeakTemplate=["StartBinomial,","Choose",", EndBinomial"],t.ariaLabel="binomial",t}return n(t,e),t}(rt);I.binom=I.binomial=dt,I.choose=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.createLeftOf=function(e){Je.prototype.createLeftOf(e)},t}(dt);var pt=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctrlSeq="\\MathQuillMathField",e.domView=new de(1,(function(e){return d("span",{class:"dcg-mq-editable-field"},[d.block("span",{class:"dcg-mq-root-block","aria-hidden":"true"},e[0])])})),e}return n(r,t),r.prototype.parser=function(){var e=this,n=H.string,r=H.regex,i=H.succeed;return n("[").then(r(/^[a-z][a-z0-9]*/i)).skip(n("]")).map((function(t){e.name=t})).or(i(void 0)).then(t.prototype.parser.call(this))},r.prototype.finalizeTree=function(t){var n=new le(this.getEnd(e),this.domFrag().oneElement(),t);n.KIND_OF_MQ="MathField",n.editable=!0,n.createTextarea(),n.editablesTextareaEvents(),n.cursor.insAtRightEnd(n.root),Y(n.root),function e(t){if(t.parentNode&&!x(t).hasClass("dcg-mq-root-block")&&e(t.parentNode),t.nodeType===Node.ELEMENT_NODE){var n=t;"true"===n.getAttribute("aria-hidden")&&(n.removeAttribute("aria-hidden"),x(t).children().eachElement((function(e){e.setAttribute("aria-hidden","true")})))}}(this.domFrag().parent().oneElement()),this.domFrag().oneElement().removeAttribute("aria-hidden")},r.prototype.registerInnerField=function(t,n){var r=new n(this.getEnd(e).controller);t[this.name]=r,t.push(r)},r.prototype.latexRecursive=function(t){this.checkCursorContextOpen(t),this.getEnd(e).latexRecursive(t),this.checkCursorContextClose(t)},r.prototype.text=function(){return this.getEnd(e).text()},r}(pe);I.editable=I.MathQuillMathField=pt;var ut=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.setOptions=function(e){function t(){return""}return this.text=e.text||t,this.domView=new de(0,(function(){return d("span",{},[c(e.htmlString||"")])})),this.latex=e.latex||t,this},t.prototype.latexRecursive=function(e){this.checkCursorContextOpen(e),e.latex+=this.latex(),this.checkCursorContextClose(e)},t.prototype.parser=function(){var e=this,t=H.string,n=H.regex,r=H.succeed;return t("{").then(n(/^[a-z][a-z0-9]*/i)).skip(t("}")).then((function(i){return t("[").then(n(/^[-\w\s]*/)).skip(t("]")).or(r(void 0)).map((function(t){return e.setOptions(L[i](t))}))}))},t}(ue);if(I.embed=ut,window.jQuery)for(var ht in C=U(1))!function(e,t){"function"==typeof t?(G[e]=function(){return q(),t.apply(this,arguments)},G[e].prototype=t.prototype):G[e]=t}(ht,C[ht])}()})),X_,UC,qC=__dcg_shared_module_exports__.f((()=>{X_=function(){{let r=function(t){e&&n.evtInScope(t)&&(t.stopPropagation(),t.stopImmediatePropagation())},i=function(t){e&&n.evtInScope(t)&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())};var e=!1,t=null,n={isGhostEvent:function(e){return!1},evtInScope:function(e){return!1}};return document.addEventListener("mousedown",(function(i){n.evtInScope(i)&&(t=document.activeElement,e=n.isGhostEvent(i),r(i))}),!0),document.addEventListener("mouseup",r,!0),document.addEventListener("click",(function(n){i(n),e&&document.activeElement!==t&&(document.activeElement&&document.activeElement.blur(),t&&t.focus()),e=!1}),!0),document.addEventListener("focus",i,!0),document.addEventListener("blur",i,!0),n}}(),UC=X_}));function XM(e,t,n){var r,i,o=(n=n||pr).createElement("script");if(o.text=e,t)for(r in Z_)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function pu(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Wy[YM.call(e)]||"object":typeof e}function HC(e){var t=!!e&&"length"in e&&e.length,n=pu(e);return!Yt(e)&&!du(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function va(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function $C(e,t,n){return Yt(t)?k.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?k.grep(e,(function(e){return Uy.call(t,e)>-1!==n})):k.filter(t,e,n)}function kM(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function nF(e){var t={};return k.each(e.match(Rs)||[],(function(e,n){t[n]=!0})),t}function ou(e){return e}function By(e){throw e}function IM(e,t,n,r){var i;try{e&&Yt(i=e.promise)?i.call(e).done(t).fail(n):e&&Yt(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function Hy(){pr.removeEventListener("DOMContentLoaded",Hy),window.removeEventListener("load",Hy),k.ready()}function lF(e,t){return t.toUpperCase()}function Fs(e){return e.replace(aF,"ms-").replace(sF,lF)}function zh(){this.expando=k.expando+zh.uid++}function uF(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:cF.test(e)?JSON.parse(e):e)}function MM(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(dF,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=uF(n)}catch(e){}Bo.set(e,t,n)}else n=void 0;return n}function iT(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},l=s(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),d=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&Wh.exec(k.css(e,t));if(d&&d[3]!==c){for(l/=2,c=c||d[3],d=+l||1;a--;)k.style(e,t,d+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),d/=o;d*=2,k.style(e,t,d+c),n=n||[]}return n&&(d=+d||+l||0,i=n[1]?d+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=d,r.end=i)),i}function hF(e){var t,n=e.ownerDocument,r=e.nodeName,i=TM[r];return i||(t=n.body.appendChild(n.createElement(r)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),TM[r]=i,i)}function su(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Dt.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&jy(r)&&(i[o]=hF(r))):"none"!==n&&(i[o]="none",Dt.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function Ro(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&va(e,t)?k.merge([e],n):n}function oS(e,t){for(var n=0,r=e.length;n<r;n++)Dt.set(e[n],"globalEval",!t||Dt.get(t[n],"globalEval"))}function aT(e,t,n,r,i){for(var o,a,s,l,c,d,p=t.createDocumentFragment(),u=[],h=0,g=e.length;h<g;h++)if((o=e[h])||0===o)if("object"===pu(o))k.merge(u,o.nodeType?[o]:o);else if(gF.test(o)){for(a=a||p.appendChild(t.createElement("div")),s=(nT.exec(o)||["",""])[1].toLowerCase(),l=wa[s]||wa._default,a.innerHTML=l[1]+k.htmlPrefilter(o)+l[2],d=l[0];d--;)a=a.lastChild;k.merge(u,a.childNodes),(a=p.firstChild).textContent=""}else u.push(t.createTextNode(o));for(p.textContent="",h=0;o=u[h++];)if(r&&k.inArray(o,r)>-1)i&&i.push(o);else if(c=hu(o),a=Ro(p.appendChild(o),"script"),c&&oS(a),n)for(d=0;o=a[d++];)oT.test(o.type||"")&&n.push(o);return p}function lu(){return!0}function cu(){return!1}function fF(e,t){return e===mF()==("focus"===t)}function mF(){try{return pr.activeElement}catch(e){}}function YC(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)YC(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=cu;else if(!i)return e;return 1===o&&(a=i,i=function(e){return k().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=k.guid++)),e.each((function(){k.event.add(this,t,i,r,n)}))}function $y(e,t,n){n?(Dt.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=Dt.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=hc.call(arguments),Dt.set(this,t,o),r=n(this,t),this[t](),o!==(i=Dt.get(this,t))||r?Dt.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else o.length&&(Dt.set(this,t,{value:k.event.trigger(k.extend(o[0],k.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Dt.get(e,t)&&k.event.add(e,t,lu)}function AM(e,t){return va(e,"table")&&va(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function wF(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function vF(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function VM(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Dt.hasData(e)&&(s=Dt.get(e).events))for(i in Dt.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)k.event.add(t,i,s[i][n]);Bo.hasData(e)&&(o=Bo.access(e),a=k.extend({},o),Bo.set(t,a))}}function CF(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Uh.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function au(e,t,n,r){t=jM(t);var i,o,a,s,l,c,d=0,p=e.length,u=p-1,h=t[0],g=Yt(h);if(g||p>1&&"string"==typeof h&&!Nr.checkClone&&bF.test(h))return e.each((function(i){var o=e.eq(i);g&&(t[0]=h.call(this,i,o.html())),au(o,t,n,r)}));if(p&&(o=(i=aT(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=k.map(Ro(i,"script"),wF)).length;d<p;d++)l=i,d!==u&&(l=k.clone(l,!0,!0),s&&k.merge(a,Ro(l,"script"))),n.call(e[d],l,d);if(s)for(c=a[a.length-1].ownerDocument,k.map(a,vF),d=0;d<s;d++)l=a[d],oT.test(l.type||"")&&!Dt.access(l,"globalEval")&&k.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?k._evalUrl&&!l.noModule&&k._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):XM(l.textContent.replace(xF,""),l,c))}return e}function LM(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)!n&&1===r.nodeType&&k.cleanData(Ro(r)),r.parentNode&&(n&&hu(r)&&oS(Ro(r,"script")),r.parentNode.removeChild(r));return e}function Hh(e,t,n){var r,i,o,a,s=e.style;return(n=n||Yy(e))&&(""===(a=n.getPropertyValue(t)||n[t])&&!hu(e)&&(a=k.style(e,t)),!Nr.pixelBoxStyles()&&aS.test(a)&&SF.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function lT(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function EF(e){for(var t=e[0].toUpperCase()+e.slice(1),n=PM.length;n--;)if((e=PM[n]+t)in cT)return e}function JC(e){return k.cssProps[e]||OM[e]||(e in cT?e:OM[e]=EF(e)||e)}function dT(e,t,n){var r=Wh.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function XC(e,t,n,r,i,o){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=k.css(e,n+vl[a],!0,i)),r?("content"===n&&(l-=k.css(e,"padding"+vl[a],!0,i)),"margin"!==n&&(l-=k.css(e,"border"+vl[a]+"Width",!0,i))):(l+=k.css(e,"padding"+vl[a],!0,i),"padding"!==n?l+=k.css(e,"border"+vl[a]+"Width",!0,i):s+=k.css(e,"border"+vl[a]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l}function RM(e,t,n){var r=Yy(e),i=(!Nr.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,a=Hh(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(aS.test(a)){if(!n)return a;a="auto"}return(!Nr.boxSizingReliable()&&i||!Nr.reliableTrDimensions()&&va(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+XC(e,t,n||(i?"border":"content"),o,r,a)+"px"}function No(e,t,n,r,i){return new No.prototype.init(e,t,n,r,i)}function QC(){zy&&(!1===pr.hidden&&window.requestAnimationFrame?window.requestAnimationFrame(QC):window.setTimeout(QC,k.fx.interval),k.fx.tick())}function NM(){return window.setTimeout((function(){uu=void 0})),uu=Date.now()}function Ky(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=vl[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function uT(e,t,n){for(var r,i=(Ya.tweeners[t]||[]).concat(Ya.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function TF(e,t,n){var r,i,o,a,s,l,c,d,p="width"in t||"height"in t,u=this,h={},g=e.style,m=e.nodeType&&jy(e),f=Dt.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,u.always((function(){u.always((function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],IF.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!f||void 0===f[r])continue;m=!0}h[r]=f&&f[r]||k.style(e,r)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(h))for(r in p&&1===e.nodeType&&(n.overflow=[g.overflow,g.overflowX,g.overflowY],null==(c=f&&f.display)&&(c=Dt.get(e,"display")),"none"===(d=k.css(e,"display"))&&(c?d=c:(su([e],!0),c=e.style.display||c,d=k.css(e,"display"),su([e]))),("inline"===d||"inline-block"===d&&null!=c)&&"none"===k.css(e,"float")&&(l||(u.done((function(){g.display=c})),null==c&&(d=g.display,c="none"===d?"":d)),g.display="inline-block")),n.overflow&&(g.overflow="hidden",u.always((function(){g.overflow=n.overflow[0],g.overflowX=n.overflow[1],g.overflowY=n.overflow[2]}))),l=!1,h)l||(f?"hidden"in f&&(m=f.hidden):f=Dt.access(e,"fxshow",{display:c}),o&&(f.hidden=!m),m&&su([e],!0),u.done((function(){for(r in m||su([e]),Dt.remove(e,"fxshow"),h)k.style(e,r,h[r])}))),l=uT(m?f[r]:0,r,u),r in f||(f[r]=l.start,m&&(l.end=l.start,l.start=0))}function GF(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=Fs(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function Ya(e,t,n){var r,i,o=0,a=Ya.prefilters.length,s=k.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=uu||NM(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:uu||NM(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),d=c.props;for(GF(d,c.opts.specialEasing);o<a;o++)if(r=Ya.prefilters[o].call(c,e,d,c.opts))return Yt(r.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return k.map(d,uT,c),Yt(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}function ed(e){return(e.match(Rs)||[]).join(" ")}function Zc(e){return e.getAttribute&&e.getAttribute("class")||""}function zC(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(Rs)||[]}function eS(e,t,n,r){var i;if(Array.isArray(t))k.each(t,(function(t,i){n||PF.test(e)?r(e,i):eS(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==pu(t))r(e,t);else for(i in t)eS(e+"["+i+"]",t[i],n,r)}function $M(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Rs)||[];if(Yt(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function zM(e,t,n,r){var i={},o=e===tS;function a(s){var l;return i[s]=!0,k.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!i["*"]&&a("*")}function WC(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}function HF(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function $F(e,t,n,r){var i,o,a,s,l,c={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}var Cl,WM,hc,jM,iS,Uy,Wy,YM,qy,JM,Q_,Nr,Yt,du,pr,Z_,QM,k,rd,nu,DM,ZM,eT,tT,eF,tF,rF,iF,Rs,oF,nS,Sl,aF,sF,qh,Dt,Bo,cF,dF,rT,Wh,vl,td,hu,pF,jy,TM,Uh,nT,oT,wa,gF,GM,yF,bF,xF,aS,Yy,sT,SF,PM,cT,OM,DF,_M,kF,FM,uu,zy,IF,MF,pT,Bh,AF,VF,LF,BM,KM,Kh,hT,ZC,PF,UM,OF,_F,FF,RF,NF,BF,KF,UF,qF,qM,tS,HM,rS,zF,$h,gT,jC,WF,jF,YF,P,at=__dcg_shared_module_exports__.f((()=>{var e,t,n;qC(),Cl=[],WM=Object.getPrototypeOf,hc=Cl.slice,jM=Cl.flat?function(e){return Cl.flat.call(e)}:function(e){return Cl.concat.apply([],e)},iS=Cl.push,Uy=Cl.indexOf,YM=(Wy={}).toString,qy=Wy.hasOwnProperty,JM=qy.toString,Q_=JM.call(Object),Nr={},Yt=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},du=function(e){return null!=e&&e===e.window},pr=window.document,Z_={type:!0,src:!0,nonce:!0,noModule:!0},QM="3.6.0",k=function(e,t){return new k.fn.init(e,t)},k.fn=k.prototype={jquery:QM,constructor:k,length:0,toArray:function(){return hc.call(this)},get:function(e){return null==e?hc.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(hc.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:iS,sort:Cl.sort,splice:Cl.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"!=typeof a&&!Yt(a)&&(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,a[t]=k.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+(QM+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==YM.call(e))&&(!(t=WM(e))||"function"==typeof(n=qy.call(t,"constructor")&&t.constructor)&&JM.call(n)===Q_)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){XM(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(HC(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(HC(Object(e))?k.merge(n,"string"==typeof e?[e]:e):iS.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:Uy.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(HC(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return jM(a)},guid:1,support:Nr}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=Cl[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){Wy["[object "+t+"]"]=t.toLowerCase()})),rd=function(e){var t,n,r,i,o,a,s,l,c,d,p,u,h,g,m,f,y,b,x,_="sizzle"+1*new Date,v=e.document,w=0,A=0,k=le(),E=le(),I=le(),M=le(),S=function(e,t){return e===t&&(p=!0),0},C={}.hasOwnProperty,T=[],D=T.pop,P=T.push,O=T.push,B=T.slice,L=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",R="(?:\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",q="\\["+N+"*("+R+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+N+"*\\]",G=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",Q=new RegExp(N+"+","g"),z=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),U=new RegExp("^"+N+"*,"+N+"*"),j=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),Y=new RegExp(N+"|>"),V=new RegExp(G),H=new RegExp("^"+R+"$"),K={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+G),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},W=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){u()},ae=_e((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{O.apply(T=B.call(v.childNodes),v.childNodes),T[v.childNodes.length].nodeType}catch(e){O={apply:T.length?function(e,t){P.apply(e,B.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var o,s,c,d,p,g,y,b=t&&t.ownerDocument,v=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==v&&9!==v&&11!==v)return r;if(!i&&(u(t),t=t||h,m)){if(11!==v&&(p=Z.exec(e)))if(o=p[1]){if(9===v){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(b&&(c=b.getElementById(o))&&x(t,c)&&c.id===o)return r.push(c),r}else{if(p[2])return O.apply(r,t.getElementsByTagName(e)),r;if((o=p[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!M[e+" "]&&(!f||!f.test(e))&&(1!==v||"object"!==t.nodeName.toLowerCase())){if(y=e,b=t,1===v&&(Y.test(e)||j.test(e))){for(((b=ee.test(e)&&ye(t.parentNode)||t)!==t||!n.scope)&&((d=t.getAttribute("id"))?d=d.replace(re,ie):t.setAttribute("id",d=_)),s=(g=a(e)).length;s--;)g[s]=(d?"#"+d:":scope")+" "+xe(g[s]);y=g.join(",")}try{return O.apply(r,b.querySelectorAll(y)),r}catch(t){M(e,!0)}finally{d===_&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,r,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ce(e){return e[_]=!0,e}function de(e){var t=h.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function pe(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ge(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ce((function(t){return t=+t,ce((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function ye(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!W.test(t||n&&n.nodeName||"HTML")},u=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:v;return a==h||9!==a.nodeType||!a.documentElement||(g=(h=a).documentElement,m=!o(h),v!=h&&(i=h.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=de((function(e){return g.appendChild(e).appendChild(h.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=de((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=de((function(e){return e.appendChild(h.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=X.test(h.getElementsByClassName),n.getById=de((function(e){return g.appendChild(e).id=_,!h.getElementsByName||!h.getElementsByName(_).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],f=[],(n.qsa=X.test(h.querySelectorAll))&&(de((function(e){var t;g.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&f.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||f.push("\\["+N+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+_+"-]").length||f.push("~="),(t=h.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||f.push("\\["+N+"*name"+N+"*="+N+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||f.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||f.push(".#.+[+~]"),e.querySelectorAll("\\\f"),f.push("[\\r\\n\\f]")})),de((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=h.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&f.push("name"+N+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&f.push(":enabled",":disabled"),g.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),f.push(",.*:")}))),(n.matchesSelector=X.test(b=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.oMatchesSelector||g.msMatchesSelector))&&de((function(e){n.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),y.push("!=",G)})),f=f.length&&new RegExp(f.join("|")),y=y.length&&new RegExp(y.join("|")),t=X.test(g.compareDocumentPosition),x=t||X.test(g.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return p=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==h||e.ownerDocument==v&&x(v,e)?-1:t==h||t.ownerDocument==v&&x(v,t)?1:d?L(d,e)-L(d,t):0:4&r?-1:1)}:function(e,t){if(e===t)return p=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==h?-1:t==h?1:i?-1:o?1:d?L(d,e)-L(d,t):0;if(i===o)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ue(a[r],s[r]):a[r]==v?-1:s[r]==v?1:0}),h},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(u(e),n.matchesSelector&&m&&!M[t+" "]&&(!y||!y.test(t))&&(!f||!f.test(t)))try{var r=b.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){M(t,!0)}return se(t,h,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=h&&u(e),x(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=h&&u(e);var i=r.attrHandle[t.toLowerCase()],o=i&&C.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(p=!n.detectDuplicates,d=!n.sortStable&&e.slice(0),e.sort(S),p){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return d=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ce,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&V.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&k(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(Q," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,d,p,u,h,g,m=o!==a?"nextSibling":"previousSibling",f=t.parentNode,y=s&&t.nodeName.toLowerCase(),b=!l&&!s,x=!1;if(f){if(o){for(;m;){for(u=t;u=u[m];)if(s?u.nodeName.toLowerCase()===y:1===u.nodeType)return!1;g=m="only"===e&&!g&&"nextSibling"}return!0}if(g=[a?f.firstChild:f.lastChild],a&&b){for(x=(h=(c=(d=(p=(u=f)[_]||(u[_]={}))[u.uniqueID]||(p[u.uniqueID]={}))[e]||[])[0]===w&&c[1])&&c[2],u=h&&f.childNodes[h];u=++h&&u&&u[m]||(x=h=0)||g.pop();)if(1===u.nodeType&&++x&&u===t){d[e]=[w,h,x];break}}else if(b&&(x=h=(c=(d=(p=(u=t)[_]||(u[_]={}))[u.uniqueID]||(p[u.uniqueID]={}))[e]||[])[0]===w&&c[1]),!1===x)for(;(u=++h&&u&&u[m]||(x=h=0)||g.pop())&&((s?u.nodeName.toLowerCase()!==y:1!==u.nodeType)||!++x||(b&&((d=(p=u[_]||(u[_]={}))[u.uniqueID]||(p[u.uniqueID]={}))[e]=[w,x]),u!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[_]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=L(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ce((function(e){var t=[],n=[],r=s(e.replace(z,"$1"));return r[_]?ce((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return se(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ce((function(e){return H.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===g},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe((function(){return[0]})),last:fe((function(e,t){return[t-1]})),eq:fe((function(e,t,n){return[n<0?n+t:n]})),even:fe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:fe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:fe((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:fe((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ge(t);function be(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function _e(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=A++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,l){var c,d,p,u=[w,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(d=(p=t[_]||(t[_]={}))[t.uniqueID]||(p[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=d[o])&&c[0]===w&&c[1]===s)return u[2]=c[2];if(d[o]=u,u[2]=e(t,n,l))return!0}return!1}}function ve(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function we(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),c&&t.push(s));return a}function Ae(e,t,n,r,i,o){return r&&!r[_]&&(r=Ae(r)),i&&!i[_]&&(i=Ae(i,o)),ce((function(o,a,s,l){var c,d,p,u=[],h=[],g=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),f=!e||!o&&t?m:we(m,u,e,s,l),y=n?i||(o?e:g||r)?[]:a:f;if(n&&n(f,y,s,l),r)for(c=we(y,h),r(c,[],s,l),d=c.length;d--;)(p=c[d])&&(y[h[d]]=!(f[h[d]]=p));if(o){if(i||e){if(i){for(c=[],d=y.length;d--;)(p=y[d])&&c.push(f[d]=p);i(null,y=[],c,l)}for(d=y.length;d--;)(p=y[d])&&(c=i?L(o,p):u[d])>-1&&(o[c]=!(a[c]=p))}}else y=we(y===a?y.splice(g,y.length):y),i?i(null,a,y,l):O.apply(a,y)}))}function ke(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,d=_e((function(e){return e===t}),s,!0),p=_e((function(e){return L(t,e)>-1}),s,!0),u=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?d(e,n,r):p(e,n,r));return t=null,i}];l<o;l++)if(n=r.relative[e[l].type])u=[_e(ve(u),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[_]){for(i=++l;i<o&&!r.relative[e[i].type];i++);return Ae(l>1&&ve(u),l>1&&xe(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<i&&ke(e.slice(l,i)),i<o&&ke(e=e.slice(i)),i<o&&xe(e))}u.push(n)}return ve(u)}return be.prototype=r.filters=r.pseudos,r.setFilters=new be,a=se.tokenize=function(e,t){var n,i,o,a,s,l,c,d=E[e+" "];if(d)return t?0:d.slice(0);for(s=e,l=[],c=r.preFilter;s;){for(a in(!n||(i=U.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),n=!1,(i=j.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(z," ")}),s=s.slice(n.length)),r.filter)(i=K[a].exec(s))&&(!c[a]||(i=c[a](i)))&&(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):E(e,l).slice(0)},s=se.compile=function(e,t){var n,i=[],o=[],s=I[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=ke(t[n]))[_]?i.push(s):o.push(s);s=I(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,l,d){var p,g,f,y=0,b="0",x=o&&[],_=[],v=c,A=o||i&&r.find.TAG("*",d),k=w+=null==v?1:Math.random()||.1,E=A.length;for(d&&(c=a==h||a||d);b!==E&&null!=(p=A[b]);b++){if(i&&p){for(g=0,!a&&p.ownerDocument!=h&&(u(p),s=!m);f=e[g++];)if(f(p,a||h,s)){l.push(p);break}d&&(w=k)}n&&((p=!f&&p)&&y--,o&&x.push(p))}if(y+=b,n&&b!==y){for(g=0;f=t[g++];)f(x,_,a,s);if(o){if(y>0)for(;b--;)x[b]||_[b]||(_[b]=D.call(l));_=we(_)}O.apply(l,_),d&&!o&&_.length>0&&y+t.length>1&&se.uniqueSort(l)}return d&&(w=k,c=v),x};return n?ce(o):o}(o,i)),s.selector=e}return s},l=se.select=function(e,t,n,i){var o,l,c,d,p,u="function"==typeof e&&e,h=!i&&a(e=u.selector||e);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=K.needsContext.test(e)?0:l.length;o--&&(c=l[o],!r.relative[d=c.type]);)if((p=r.find[d])&&(i=p(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ye(t.parentNode)||t))){if(l.splice(o,1),!(e=i.length&&xe(l)))return O.apply(n,i),n;break}}return(u||s(e,h))(i,t,!m,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},n.sortStable=_.split("").sort(S).join("")===_,n.detectDuplicates=!!p,u(),n.sortDetached=de((function(e){return 1&e.compareDocumentPosition(h.createElement("fieldset"))})),de((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||pe("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),(!n.attributes||!de((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})))&&pe("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),de((function(e){return null==e.getAttribute("disabled")}))||pe(F,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(window),k.find=rd,k.expr=rd.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=rd.uniqueSort,k.text=rd.getText,k.isXMLDoc=rd.isXML,k.contains=rd.contains,k.escapeSelector=rd.escape,nu=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},DM=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},ZM=k.expr.match.needsContext,eT=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack($C(this,e||[],!1))},not:function(e){return this.pushStack($C(this,e||[],!0))},is:function(e){return!!$C(this,"string"==typeof e&&ZM.test(e)?k(e):e||[],!1).length}}),eF=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,tF=k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||tT,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:eF.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:pr,!0)),eT.test(r[1])&&k.isPlainObject(t))for(r in t)Yt(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=pr.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):Yt(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)},tF.prototype=k.fn,tT=k(pr),rF=/^(?:parents|prev(?:Until|All))/,iF={children:!0,contents:!0,next:!0,prev:!0},k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&k(e);if(!ZM.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?Uy.call(k(e),this[0]):Uy.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return nu(e,"parentNode")},parentsUntil:function(e,t,n){return nu(e,"parentNode",n)},next:function(e){return kM(e,"nextSibling")},prev:function(e){return kM(e,"previousSibling")},nextAll:function(e){return nu(e,"nextSibling")},prevAll:function(e){return nu(e,"previousSibling")},nextUntil:function(e,t,n){return nu(e,"nextSibling",n)},prevUntil:function(e,t,n){return nu(e,"previousSibling",n)},siblings:function(e){return DM((e.parentNode||{}).firstChild,e)},children:function(e){return DM(e.firstChild)},contents:function(e){return null!=e.contentDocument&&WM(e.contentDocument)?e.contentDocument:(va(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,r){var i=k.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=k.filter(r,i)),this.length>1&&(iF[e]||k.uniqueSort(i),rF.test(e)&&i.reverse()),this.pushStack(i)}})),Rs=/[^\x20\t\r\n\f]+/g,k.Callbacks=function(e){e="string"==typeof e?nF(e):k.extend({},e);var t,n,r,i,o=[],a=[],s=-1,l=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){k.each(n,(function(n,r){Yt(r)?(!e.unique||!c.has(r))&&o.push(r):r&&r.length&&"string"!==pu(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?k.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],!n&&!t&&(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,r){var o=Yt(e[r[4]])&&e[r[4]];i[r[1]]((function(){var e=o&&o.apply(this,arguments);e&&Yt(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,o?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,r){var i=0;function o(e,t,n,r){return function(){var a=this,s=arguments,l=function(){var l,c;if(!(e<i)){if((l=n.apply(a,s))===t.promise())throw new TypeError("Thenable self-resolution");c=l&&("object"==typeof l||"function"==typeof l)&&l.then,Yt(c)?r?c.call(l,o(i,t,ou,r),o(i,t,By,r)):(i++,c.call(l,o(i,t,ou,r),o(i,t,By,r),o(i,t,ou,t.notifyWith))):(n!==ou&&(a=void 0,s=[l]),(r||t.resolveWith)(a,s))}},c=r?l:function(){try{l()}catch(r){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(r,c.stackTrace),e+1>=i&&(n!==By&&(a=void 0,s=[r]),t.rejectWith(a,s))}};e?c():(k.Deferred.getStackHook&&(c.stackTrace=k.Deferred.getStackHook()),window.setTimeout(c))}}return k.Deferred((function(i){t[0][3].add(o(0,i,Yt(r)?r:ou,i.notifyWith)),t[1][3].add(o(0,i,Yt(e)?e:ou)),t[2][3].add(o(0,i,Yt(n)?n:By))})).promise()},promise:function(e){return null!=e?k.extend(e,r):r}},i={};return k.each(t,(function(e,o){var a=o[2],s=o[5];r[o[1]]=a.add,s&&a.add((function(){n=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(o[3].fire),i[o[0]]=function(){return i[o[0]+"With"](this===i?void 0:this,arguments),this},i[o[0]+"With"]=a.fireWith})),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=arguments.length,n=t,r=Array(n),i=hc.call(arguments),o=k.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?hc.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(IM(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||Yt(i[n]&&i[n].then)))return o.then();for(;n--;)IM(i[n],a(n),o.reject);return o.promise()}}),oF=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,k.Deferred.exceptionHook=function(e,t){window.console&&window.console.warn&&e&&oF.test(e.name)&&window.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){window.setTimeout((function(){throw e}))},nS=k.Deferred(),k.fn.ready=function(e){return nS.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!(!0!==e&&--k.readyWait>0)&&nS.resolveWith(pr,[k]))}}),k.ready.then=nS.then,"complete"===pr.readyState||"loading"!==pr.readyState&&!pr.documentElement.doScroll?window.setTimeout(k.ready):(pr.addEventListener("DOMContentLoaded",Hy),window.addEventListener("load",Hy)),Sl=function(e,t,n,r,i,o,a){var s=0,l=e.length,c=null==n;if("object"===pu(n))for(s in i=!0,n)Sl(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,Yt(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(k(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):o},aF=/^-ms-/,sF=/-([a-z])/g,qh=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},zh.uid=1,zh.prototype={cache:function(e){var t=e[this.expando];return t||(t={},qh(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Fs(t)]=n;else for(r in t)i[Fs(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Fs(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t)for((Array.isArray(t)?t=t.map(Fs):t=(t=Fs(t))in r?[t]:t.match(Rs)||[],n=t.length);n--;)delete r[t[n]];(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}},Dt=new zh,Bo=new zh,cF=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,dF=/[A-Z]/g,k.extend({hasData:function(e){return Bo.hasData(e)||Dt.hasData(e)},data:function(e,t,n){return Bo.access(e,t,n)},removeData:function(e,t){Bo.remove(e,t)},_data:function(e,t,n){return Dt.access(e,t,n)},_removeData:function(e,t){Dt.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Bo.get(o),1===o.nodeType&&!Dt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(0===(r=a[n].name).indexOf("data-")&&(r=Fs(r.slice(5)),MM(o,r,i[r])));Dt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){Bo.set(this,e)})):Sl(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=Bo.get(o,e))||void 0!==(n=MM(o,e))?n:void 0;this.each((function(){Bo.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Bo.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Dt.get(e,t),n&&(!r||Array.isArray(n)?r=Dt.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){k.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Dt.get(e,n)||Dt.access(e,n,{empty:k.Callbacks("once memory").add((function(){Dt.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Dt.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),rT=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wh=new RegExp("^(?:([+-])=|)("+rT+")([a-z%]*)$","i"),vl=["Top","Right","Bottom","Left"],td=pr.documentElement,hu=function(e){return k.contains(e.ownerDocument,e)},pF={composed:!0},td.getRootNode&&(hu=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(pF)===e.ownerDocument}),jy=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&hu(e)&&"none"===k.css(e,"display")},TM={},k.fn.extend({show:function(){return su(this,!0)},hide:function(){return su(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){jy(this)?k(this).show():k(this).hide()}))}}),Uh=/^(?:checkbox|radio)$/i,nT=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,oT=/^$|^module$|\/(?:java|ecma)script/i,e=pr.createDocumentFragment().appendChild(pr.createElement("div")),(t=pr.createElement("input")).setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),Nr.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Nr.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",Nr.option=!!e.lastChild,(wa={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]}).tbody=wa.tfoot=wa.colgroup=wa.caption=wa.thead,wa.th=wa.td,Nr.option||(wa.optgroup=wa.option=[1,"<select multiple='multiple'>","</select>"]),gF=/<|&#?\w+;/,GM=/^([^.]*)(?:\.(.+)|)/,k.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,c,d,p,u,h,g,m,f=Dt.get(e);if(qh(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(td,i),n.guid||(n.guid=k.guid++),(l=f.events)||(l=f.events=Object.create(null)),(a=f.handle)||(a=f.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(Rs)||[""]).length;c--;)h=m=(s=GM.exec(t[c])||[])[1],g=(s[2]||"").split(".").sort(),h&&(p=k.event.special[h]||{},h=(i?p.delegateType:p.bindType)||h,p=k.event.special[h]||{},d=k.extend({type:h,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:g.join(".")},o),(u=l[h])||((u=l[h]=[]).delegateCount=0,(!p.setup||!1===p.setup.call(e,r,g,a))&&e.addEventListener&&e.addEventListener(h,a)),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?u.splice(u.delegateCount++,0,d):u.push(d),k.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,c,d,p,u,h,g,m,f=Dt.hasData(e)&&Dt.get(e);if(f&&(l=f.events)){for(c=(t=(t||"").match(Rs)||[""]).length;c--;)if(h=m=(s=GM.exec(t[c])||[])[1],g=(s[2]||"").split(".").sort(),h){for(p=k.event.special[h]||{},u=l[h=(r?p.delegateType:p.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=u.length;o--;)d=u[o],(i||m===d.origType)&&(!n||n.guid===d.guid)&&(!s||s.test(d.namespace))&&(!r||r===d.selector||"**"===r&&d.selector)&&(u.splice(o,1),d.selector&&u.delegateCount--,p.remove&&p.remove.call(e,d));a&&!u.length&&((!p.teardown||!1===p.teardown.call(e,g,f.handle))&&k.removeEvent(e,h,f.handle),delete l[h])}else for(h in l)k.event.remove(e,h+t[c],n,r,!0);k.isEmptyObject(l)&&Dt.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),l=k.event.fix(e),c=(Dt.get(this,"events")||Object.create(null))[l.type]||[],d=k.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,l)){for(a=k.event.handlers.call(this,l,c),t=0;(i=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)(!l.rnamespace||!1===o.namespace||l.rnamespace.test(o.namespace))&&(l.handleObj=o,l.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?k(i,this).index(c)>-1:k.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:Yt(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return Uh.test(t.type)&&t.click&&va(t,"input")&&$y(t,"click",lu),!1},trigger:function(e){var t=this||e;return Uh.test(t.type)&&t.click&&va(t,"input")&&$y(t,"click"),!0},_default:function(e){var t=e.target;return Uh.test(t.type)&&t.click&&va(t,"input")&&Dt.get(t,"click")||va(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?lu:cu,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:cu,isPropagationStopped:cu,isImmediatePropagationStopped:cu,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=lu,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=lu,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=lu,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return $y(this,e,fF),!1},trigger:function(){return $y(this,e),!0},_default:function(){return!0},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return(!r||r!==this&&!k.contains(this,r))&&(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,r){return YC(this,e,t,n,r)},one:function(e,t,n,r){return YC(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=cu),this.each((function(){k.event.remove(this,e,n,t)}))}}),yF=/<script|<style|<link/i,bF=/checked\s*(?:[^=]|=\s*.checked.)/i,xF=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=hu(e);if(!(Nr.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=Ro(s),r=0,i=(o=Ro(e)).length;r<i;r++)CF(o[r],a[r]);if(t)if(n)for(o=o||Ro(e),a=a||Ro(s),r=0,i=o.length;r<i;r++)VM(o[r],a[r]);else VM(e,s);return(a=Ro(s,"script")).length>0&&oS(a,!l&&Ro(e,"script")),s},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(qh(n)){if(t=n[Dt.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[Dt.expando]=void 0}n[Bo.expando]&&(n[Bo.expando]=void 0)}}}),k.fn.extend({detach:function(e){return LM(this,e,!0)},remove:function(e){return LM(this,e)},text:function(e){return Sl(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return au(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||AM(this,e).appendChild(e)}))},prepend:function(){return au(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=AM(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return au(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return au(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(Ro(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return Sl(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!yF.test(e)&&!wa[(nT.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(Ro(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return au(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(Ro(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,r=[],i=k(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),k(i[a])[t](n),iS.apply(r,n.get());return this.pushStack(r)}})),aS=new RegExp("^("+rT+")(?!px)[a-z%]+$","i"),Yy=function(e){var t=e.ownerDocument.defaultView;return(!t||!t.opener)&&(t=window),t.getComputedStyle(e)},sT=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},SF=new RegExp(vl.join("|"),"i"),function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",td.appendChild(l).appendChild(c);var e=window.getComputedStyle(c);n="1%"!==e.top,s=12===t(e.marginLeft),c.style.right="60%",o=36===t(e.right),r=36===t(e.width),c.style.position="absolute",i=12===t(c.offsetWidth/3),td.removeChild(l),c=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,l=pr.createElement("div"),c=pr.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",Nr.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(Nr,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=pr.createElement("table"),t=pr.createElement("tr"),n=pr.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",td.appendChild(e).appendChild(t).appendChild(n),r=window.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,td.removeChild(e)),a}}))}(),PM=["Webkit","Moz","ms"],cT=pr.createElement("div").style,OM={},DF=/^(none|table(?!-c[ea]).+)/,_M=/^--/,kF={position:"absolute",visibility:"hidden",display:"block"},FM={letterSpacing:"0",fontWeight:"400"},k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Hh(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Fs(t),l=_M.test(t),c=e.style;if(l||(t=JC(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];if("string"===(o=typeof n)&&(i=Wh.exec(n))&&i[1]&&(n=iT(e,t,i),o="number"),null==n||n!=n)return;"number"===o&&!l&&(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),!Nr.clearCloneStyle&&""===n&&0===t.indexOf("background")&&(c[t]="inherit"),(!a||!("set"in a)||void 0!==(n=a.set(e,n,r)))&&(l?c.setProperty(t,n):c[t]=n)}},css:function(e,t,n,r){var i,o,a,s=Fs(t);return _M.test(t)||(t=JC(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Hh(e,t,r)),"normal"===i&&t in FM&&(i=FM[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!DF.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?RM(e,t,r):sT(e,kF,(function(){return RM(e,t,r)}))},set:function(e,n,r){var i,o=Yy(e),a=!Nr.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===k.css(e,"boxSizing",!1,o),l=r?XC(e,t,r,s,o):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-XC(e,t,"border",!1,o)-.5)),l&&(i=Wh.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),dT(e,n,l)}}})),k.cssHooks.marginLeft=lT(Nr.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Hh(e,"marginLeft"))||e.getBoundingClientRect().left-sT(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+vl[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(k.cssHooks[e+t].set=dT)})),k.fn.extend({css:function(e,t){return Sl(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Yy(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=No,No.prototype={constructor:No,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=No.propHooks[this.prop];return e&&e.get?e.get(this):No.propHooks._default.get(this)},run:function(e){var t,n=No.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):No.propHooks._default.set(this),this}},No.prototype.init.prototype=No.prototype,No.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[JC(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},No.propHooks.scrollTop=No.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=No.prototype.init,k.fx.step={},IF=/^(?:toggle|show|hide)$/,MF=/queueHooks$/,k.Animation=k.extend(Ya,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return iT(n.elem,e,Wh.exec(t),n),n}]},tweener:function(e,t){Yt(e)?(t=e,e=["*"]):e=e.match(Rs);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Ya.tweeners[n]=Ya.tweeners[n]||[],Ya.tweeners[n].unshift(t)},prefilters:[TF],prefilter:function(e,t){t?Ya.prefilters.unshift(e):Ya.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||Yt(e)&&e,duration:e,easing:n&&t||t&&!Yt(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Yt(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(jy).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=k.isEmptyObject(e),o=k.speed(t,n,r),a=function(){var t=Ya(this,k.extend({},e),o);(i||Dt.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=k.timers,a=Dt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&MF.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem===this&&(null==e||o[i].queue===e)&&(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Dt.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=k.timers,a=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Ky(t,!0),e,r,i)}})),k.each({slideDown:Ky("show"),slideUp:Ky("hide"),slideToggle:Ky("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(uu=Date.now();t<n.length;t++)!(e=n[t])()&&n[t]===e&&n.splice(t--,1);n.length||k.fx.stop(),uu=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){zy||(zy=!0,QC())},k.fx.stop=function(){zy=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var r=window.setTimeout(t,e);n.stop=function(){window.clearTimeout(r)}}))},function(){var e=pr.createElement("input"),t=pr.createElement("select").appendChild(pr.createElement("option"));e.type="checkbox",Nr.checkOn=""!==e.value,Nr.optSelected=t.selected,(e=pr.createElement("input")).value="t",e.type="radio",Nr.radioValue="t"===e.value}(),Bh=k.expr.attrHandle,k.fn.extend({attr:function(e,t){return Sl(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?k.prop(e,t,n):((1!==o||!k.isXMLDoc(e))&&(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?pT:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!Nr.radioValue&&"radio"===t&&va(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Rs);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),pT={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Bh[t]||k.find.attr;Bh[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=Bh[a],Bh[a]=i,i=null!=n(e,t,r)?a:null,Bh[a]=o),i}})),AF=/^(?:input|select|textarea|button)$/i,VF=/^(?:a|area)$/i,k.fn.extend({prop:function(e,t){return Sl(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return(1!==o||!k.isXMLDoc(e))&&(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):AF.test(e.nodeName)||VF.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Nr.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,l=0;if(Yt(e))return this.each((function(t){k(this).addClass(e.call(this,t,Zc(this)))}));if((t=zC(e)).length)for(;n=this[l++];)if(i=Zc(n),r=1===n.nodeType&&" "+ed(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ed(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,l=0;if(Yt(e))return this.each((function(t){k(this).removeClass(e.call(this,t,Zc(this)))}));if(!arguments.length)return this.attr("class","");if((t=zC(e)).length)for(;n=this[l++];)if(i=Zc(n),r=1===n.nodeType&&" "+ed(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=ed(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):Yt(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,Zc(this),t),t)})):this.each((function(){var t,i,o,a;if(r)for(i=0,o=k(this),a=zC(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(void 0===e||"boolean"===n)&&((t=Zc(this))&&Dt.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Dt.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ed(Zc(n))+" ").indexOf(t)>-1)return!0;return!1}}),LF=/\r/g,k.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=Yt(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,k(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=k.map(i,(function(e){return null==e?"":e+""}))),(!(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])||!("set"in t)||void 0===t.set(this,i,"value"))&&(this.value=i))}))):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(LF,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:ed(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:i.length;for(r=o<0?l:a?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!va(n.parentNode,"optgroup"))){if(t=k(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),a=i.length;a--;)((r=i[a]).selected=k.inArray(k.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},Nr.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),Nr.focusin="onfocusin"in window,BM=/^(?:focusinfocus|focusoutblur)$/,KM=function(e){e.stopPropagation()},k.extend(k.event,{trigger:function(e,t,n,r){var i,o,a,s,l,c,d,p,u=[n||pr],h=qy.call(e,"type")?e.type:e,g=qy.call(e,"namespace")?e.namespace.split("."):[];if(o=p=a=n=n||pr,3!==n.nodeType&&8!==n.nodeType&&!BM.test(h+k.event.triggered)&&(h.indexOf(".")>-1&&(g=h.split("."),h=g.shift(),g.sort()),l=h.indexOf(":")<0&&"on"+h,(e=e[k.expando]?e:new k.Event(h,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),d=k.event.special[h]||{},r||!d.trigger||!1!==d.trigger.apply(n,t))){if(!r&&!d.noBubble&&!du(n)){for(s=d.delegateType||h,BM.test(s+h)||(o=o.parentNode);o;o=o.parentNode)u.push(o),a=o;a===(n.ownerDocument||pr)&&u.push(a.defaultView||a.parentWindow||window)}for(i=0;(o=u[i++])&&!e.isPropagationStopped();)p=o,e.type=i>1?s:d.bindType||h,(c=(Dt.get(o,"events")||Object.create(null))[e.type]&&Dt.get(o,"handle"))&&c.apply(o,t),(c=l&&o[l])&&c.apply&&qh(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=h,!r&&!e.isDefaultPrevented()&&(!d._default||!1===d._default.apply(u.pop(),t))&&qh(n)&&l&&Yt(n[h])&&!du(n)&&((a=n[l])&&(n[l]=null),k.event.triggered=h,e.isPropagationStopped()&&p.addEventListener(h,KM),n[h](),e.isPropagationStopped()&&p.removeEventListener(h,KM),k.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),Nr.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=Dt.access(r,t);i||r.addEventListener(e,n,!0),Dt.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=Dt.access(r,t)-1;i?Dt.access(r,t,i):(r.removeEventListener(e,n,!0),Dt.remove(r,t))}}})),Kh=window.location,hT={guid:Date.now()},ZC=/\?/,k.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new window.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],(!t||n)&&k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t},PF=/\[\]$/,UM=/\r?\n/g,OF=/^(?:submit|button|image|reset|file)$/i,_F=/^(?:input|select|textarea|keygen)/i,k.param=function(e,t){var n,r=[],i=function(e,t){var n=Yt(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){i(this.name,this.value)}));else for(n in e)eS(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&_F.test(this.nodeName)&&!OF.test(e)&&(this.checked||!Uh.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(UM,"\r\n")}})):{name:t.name,value:n.replace(UM,"\r\n")}})).get()}}),FF=/%20/g,RF=/#.*$/,NF=/([?&])_=[^&]*/,BF=/^(.*?):[ \t]*([^\r\n]*)$/gm,KF=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,UF=/^(?:GET|HEAD)$/,qF=/^\/\//,qM={},tS={},HM="*/".concat("*"),(rS=pr.createElement("a")).href=Kh.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Kh.href,type:"GET",isLocal:KF.test(Kh.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":HM,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?WC(WC(e,k.ajaxSettings),t):WC(k.ajaxSettings,e)},ajaxPrefilter:$M(qM),ajaxTransport:$M(tS),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,o,a,s,l,c,d,p,u=k.ajaxSetup({},t),h=u.context||u,g=u.context&&(h.nodeType||h.jquery)?k(h):k.event,m=k.Deferred(),f=k.Callbacks("once memory"),y=u.statusCode||{},b={},x={},_="canceled",v={readyState:0,getResponseHeader:function(e){var t;if(l){if(!o)for(o={};t=BF.exec(i);)o[t[1].toLowerCase()+" "]=(o[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=o[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?i:null},setRequestHeader:function(e,t){return null==l&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==l&&(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)v.always(e[v.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||_;return n&&n.abort(t),w(0,t),this}};if(m.promise(v),u.url=((e||u.url||Kh.href)+"").replace(qF,Kh.protocol+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(Rs)||[""],null==u.crossDomain){s=pr.createElement("a");try{s.href=u.url,s.href=s.href,u.crossDomain=rS.protocol+"//"+rS.host!=s.protocol+"//"+s.host}catch(e){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=k.param(u.data,u.traditional)),zM(qM,u,t,v),l)return v;for(d in(c=k.event&&u.global)&&0==k.active++&&k.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!UF.test(u.type),r=u.url.replace(RF,""),u.hasContent?u.data&&u.processData&&0===(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&(u.data=u.data.replace(FF,"+")):(p=u.url.slice(r.length),u.data&&(u.processData||"string"==typeof u.data)&&(r+=(ZC.test(r)?"&":"?")+u.data,delete u.data),!1===u.cache&&(r=r.replace(NF,"$1"),p=(ZC.test(r)?"&":"?")+"_="+hT.guid+++p),u.url=r+p),u.ifModified&&(k.lastModified[r]&&v.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&v.setRequestHeader("If-None-Match",k.etag[r])),(u.data&&u.hasContent&&!1!==u.contentType||t.contentType)&&v.setRequestHeader("Content-Type",u.contentType),v.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+HM+"; q=0.01":""):u.accepts["*"]),u.headers)v.setRequestHeader(d,u.headers[d]);if(u.beforeSend&&(!1===u.beforeSend.call(h,v,u)||l))return v.abort();if(_="abort",f.add(u.complete),v.done(u.success),v.fail(u.error),n=zM(tS,u,t,v)){if(v.readyState=1,c&&g.trigger("ajaxSend",[v,u]),l)return v;u.async&&u.timeout>0&&(a=window.setTimeout((function(){v.abort("timeout")}),u.timeout));try{l=!1,n.send(b,w)}catch(e){if(l)throw e;w(-1,e)}}else w(-1,"No Transport");function w(e,t,o,s){var d,p,b,x,_,w=t;l||(l=!0,a&&window.clearTimeout(a),n=void 0,i=s||"",v.readyState=e>0?4:0,d=e>=200&&e<300||304===e,o&&(x=HF(u,v,o)),!d&&k.inArray("script",u.dataTypes)>-1&&k.inArray("json",u.dataTypes)<0&&(u.converters["text script"]=function(){}),x=$F(u,x,v,d),d?(u.ifModified&&((_=v.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=_),(_=v.getResponseHeader("etag"))&&(k.etag[r]=_)),204===e||"HEAD"===u.type?w="nocontent":304===e?w="notmodified":(w=x.state,p=x.data,d=!(b=x.error))):(b=w,(e||!w)&&(w="error",e<0&&(e=0))),v.status=e,v.statusText=(t||w)+"",d?m.resolveWith(h,[p,w,v]):m.rejectWith(h,[v,w,b]),v.statusCode(y),y=void 0,c&&g.trigger(d?"ajaxSuccess":"ajaxError",[v,u,d?p:b]),f.fireWith(h,[v,w]),c&&(g.trigger("ajaxComplete",[v,u]),--k.active||k.event.trigger("ajaxStop")))}return v},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,r,i){return Yt(n)&&(i=i||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:n,success:r},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(Yt(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return Yt(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=Yt(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}},zF={0:200,1223:204},$h=k.ajaxSettings.xhr(),Nr.cors=!!$h&&"withCredentials"in $h,Nr.ajax=$h=!!$h,k.ajaxTransport((function(e){var t,n;if(Nr.cors||$h&&!e.crossDomain)return{send:function(r,i){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),!e.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(o,r[o]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?i(0,"error"):i(a.status,a.statusText):i(zF[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&window.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),pr.head.appendChild(t[0])},abort:function(){n&&n()}}})),gT=[],jC=/(=)\?(?=&|$)|\?\?/,k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=gT.pop()||k.expando+"_"+hT.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(jC.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&jC.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=Yt(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(jC,"$1"+r):!1!==e.jsonp&&(e.url+=(ZC.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){o=arguments},n.always((function(){void 0===i?k(window).removeProp(r):window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,gT.push(r)),o&&Yt(i)&&i(o[0]),o=i=void 0})),"script"})),Nr.createHTMLDocument=((n=pr.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===n.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(Nr.createHTMLDocument?((r=(t=pr.implementation.createHTMLDocument("")).createElement("base")).href=pr.location.href,t.head.appendChild(r)):t=pr),o=!n&&[],(i=eT.exec(e))?[t.createElement(i[1])]:(i=aT([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=ed(e.slice(s)),e=e.slice(0,s)),Yt(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,c=k.css(e,"position"),d=k(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(r=d.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),Yt(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):d.css(p)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||td}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(r){return Sl(this,(function(e,r,i){var o;if(du(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=lT(Nr.pixelPosition,(function(e,n){if(n)return n=Hh(e,t),aS.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){k.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return Sl(this,(function(t,n,i){var o;return du(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?k.css(t,n,s):k.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),WF=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),Yt(e))return r=hc.call(arguments,2),i=function(){return e.apply(t||this,r.concat(hc.call(arguments)))},i.guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=va,k.isFunction=Yt,k.isWindow=du,k.camelCase=Fs,k.type=pu,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(WF,"")},jF=window.jQuery,YF=window.$,k.noConflict=function(e){return window.$===k&&(window.$=YF),e&&window.jQuery===k&&(window.jQuery=jF),k},"undefined"==typeof noGlobal&&(window.jQuery=window.$=k),P=k})),Sn,Ns=__dcg_shared_module_exports__.f((()=>{Sn=()=>{let e="";try{e=location.search,"?"==e[0]&&(e=e.slice(1))}catch(e){}let t=e.split("&"),n={};for(let e of t){let t=e.split("=");2==t.length?n[t[0]]=decodeURIComponent(t[1]):n[t[0]]=!0}return n}}));function t2(e,t){if(null!=t){if("string"!=typeof e)throw new Error("Must pass a string for an EventHandler name");if("function"!=typeof t)throw new Error("Must pass a function for an EventHandler callback");return{bindings:{onMount:function(n){n[e.toLowerCase()]=function(e){e&&t.apply(this,arguments)}}}}}}var DT,kT=__dcg_shared_module_exports__.f((()=>{DT=t2}));function r2(e){var t=function(){return e};return t.isDCGViewConst=!0,t}function i2(e){return!("function"!=typeof e||!e.isDCGViewConst)}var tn,Qa=__dcg_shared_module_exports__.f((()=>{tn={isConst:i2,makeConst:r2}}));function n2(e,t,n){void 0===n?e.removeAttribute(t):e.setAttribute(t,n+"")}var tb,lS=__dcg_shared_module_exports__.f((()=>{tb={update:n2}}));function o2(e,t){var n,r=t();return tn.isConst(t)||(n={onUpdate:function(n){var i=t();i!==r&&(r=i,tb.update(n,e,i))}}),{value:r,bindings:n}}var IT,MT=__dcg_shared_module_exports__.f((()=>{Qa(),lS(),IT=o2}));function a2(e){return"o"===e[0]&&"n"===e[1]&&e[2].toUpperCase()===e[2]}var TT,GT=__dcg_shared_module_exports__.f((()=>{TT=a2}));function s2(e,t){cS[e]=t}function l2(e){return cS.hasOwnProperty(e)}function c2(e,t){return(0,cS[e])(t)}var cS,Yh,dS=__dcg_shared_module_exports__.f((()=>{cS={},Yh={isCustomAttribute:l2,add:s2,parse:c2}}));function d2(e,t,n){var r=e._bindings[t];r?r.push(n):e._bindings[t]=[n]}function u2(e,t){var n=e._bindings[t];if(n)for(var r=n.length,i=0;i<r;i++)n[i]()}var vo,Jh=__dcg_shared_module_exports__.f((()=>{vo={add:d2,invoke:u2}}));function p2(e){mu.push(e)}function h2(e){var t=mu;mu=[];for(var n=0;n<t.length;n++){var r=t[n];r!==e&&mu.push(r)}}function g2(e,t){try{if(t&&t._isDCGView){e+=" ["+t._viewName+"]";var n=t.traceViewHierarchy();n.ancestors.length>0&&(e+="\nView Hierarchy:\n"+n.formatted)}throw new Error(e)}catch(e){console.warn(e);for(var r=0;r<mu.length;r++)mu[r](e)}}var mu,Ks,Xh=__dcg_shared_module_exports__.f((()=>{mu=[],Ks={warn:g2,addWarningHandler:p2,removeWarningHandler:h2}}));function y2(e,t,n){var r=!1;return function(){r?Ks.warn(e+" is a one-time binding but was called multiple times",n):(r=!0,t.apply(this,arguments))}}function b2(e,t,n){var r=n.bindings;if(r)for(var i in r){var o=r[i];i in f2&&(o=o.bind(null,t)),i in m2&&(o=y2(i,o,e)),vo.add(e,i,o)}}function x2(e,t){if("function"!=typeof t)throw new Error('The "'+e+'" attr must be a function. It is: '+JSON.stringify(t));return Yh.isCustomAttribute(e)?Yh.parse(e,t):TT(e)?DT(e,t):IT(e,t)}function w2(e,t,n){if(t)for(var r in t){var i=x2(r,t[r]);if(i){var o=i.value;void 0!==o&&n.setAttribute(r,o),i.bindings&&b2(e,n,i)}}}var f2,m2,AT,VT=__dcg_shared_module_exports__.f((()=>{kT(),MT(),GT(),dS(),Jh(),Xh(),f2={onMount:!0,didMount:!0,willUnmount:!0,willUpdate:!0,onUpdate:!0,didUpdate:!0},m2={willMount:!0,onMount:!0,didMount:!0,willUnmount:!0,onUnmount:!0,didUnmount:!0},AT=w2}));function v2(){LT=!0}function C2(e,t,n){if("function"!=typeof n)throw new Error("bindText expects a function");var r=n();null==r&&(r="");var i=document.createTextNode(r);if(LT){var o=document.createElement("span");o.appendChild(i),t.appendChild(o)}else t.appendChild(i);vo.add(e,"onUpdate",(function(){var e=n();null==e&&(e=""),r!==e&&(i.nodeValue=e,r=e)}))}var LT,rb,uS=__dcg_shared_module_exports__.f((()=>{Jh(),LT=!1,rb={bindText:C2,enableSpanWrapping:v2}}));function PT(e,t){var n=document.createTextNode(t);e.appendChild(n)}function pS(e,t,n){if(this.tagName=e,this.attrs=t,this.children=n,Array.isArray(this.children))for(var r=0;r<this.children.length;r++){var i=typeof this.children[r];"object"!==i&&"function"!==i||(this.children[r]._parentElement=this)}}var S2,OT,_T=__dcg_shared_module_exports__.f((()=>{VT(),uS(),Qa(),Xh(),S2=rb.bindText,pS.prototype._isDCGElement=!0,pS.prototype.renderToDocFrag=function(e,t){if(this._domNode)throw new Error("Cannot remount a DCGElement");var n=this.children,r=document.createElement(this.tagName);this._domNode=r,AT(t,this.attrs,r),e.appendChild(r);for(var i=n.length,o=0;o<i;o++){var a=n[o];a._isDCGElement?a.renderToDocFrag(r,t):tn.isConst(a)?PT(r,a()):"function"==typeof a?S2(t,r,a):(Ks.warn("Text should be a const or a getter: "+JSON.stringify(a),t),PT(r,a))}},OT=pS}));function FT(e,t){if(null!=e)if(Array.isArray(e))for(var n=0;n<e.length;n++)FT(e[n],t);else t.push(e)}function E2(e,t){for(var n=[],r=arguments.length-1,i=2;i<=r;i++)FT(arguments[i],n);if("string"==typeof e)return new OT(e,t,n);if(e&&e._isDCGViewClass)return new e(t,n);throw new Error("createElement expects a String or DCGViewClass")}var Us,yu=__dcg_shared_module_exports__.f((()=>{_T(),Us=E2}));function D2(){for(var e=this._element;e._isDCGView;)e=e._element;return e._domNode}function k2(e,t){if(t&&t._childViews.push(this),this.__generatedHTMLBefore)throw new Error("Cannot remount a DCGView");if(this.__generatedHTMLBefore=!0,this._element.renderToDocFrag(e,this),Array.isArray(this._siblingElements))for(var n=0;n<this._siblingElements.length;n++)this._siblingElements[n].renderToDocFrag(e,this)}function I2(e,t,n){if(!e||!e._isDCGViewClass)throw new Error("Must pass a DCGView class to be mounted");if(!t||1!==t.nodeType)throw new Error("Must pass an HTMLElement for the node");if(t._mountedDCGView)throw new Error("This node is already mounted by a view");var r=new e(n),i=document.createDocumentFragment();return r.renderToDocFrag(i),t.innerHTML="",hS(r),t._mountedDCGView=r,t.appendChild(i),gS(r),fS(r),r}function M2(e){var t=e._mountedDCGView;if(!t)throw new Error("This node is not mounted by a DCGView");mS(t),e.innerHTML="",delete e._mountedDCGView,yS(t),bS(t)}function hS(e){e.willMount&&e.willMount(),vo.invoke(e,"willMount"),e._childViews.forEach(hS)}function gS(e){e._isMounted=!0,e.onMount&&e.onMount(),vo.invoke(e,"onMount"),e._childViews.forEach(gS)}function fS(e){e.didMount&&e.didMount(),vo.invoke(e,"didMount"),e._childViews.forEach(fS)}function mS(e){e.willUnmount&&e.willUnmount(),vo.invoke(e,"willUnmount"),e._childViews.forEach(mS)}function yS(e){e._isMounted=!1,e._childViews.forEach(yS),vo.invoke(e,"onUnmount"),e.onUnmount&&e.onUnmount()}function bS(e){e._childViews.forEach(bS),vo.invoke(e,"didUnmount"),e.didUnmount&&e.didUnmount()}function T2(e,t){var n=document.createDocumentFragment();return e.renderToDocFrag(n,t),n.firstChild}var Ot,gc=__dcg_shared_module_exports__.f((()=>{Jh(),Ot={renderToDocFrag:k2,findRootNode:D2,createNodeForView:T2,willMount:hS,onMount:gS,didMount:fS,willUnmount:mS,onUnmount:yS,didUnmount:bS,mountToNode:I2,unmountFromNode:M2}}));function G2(){if(!this._isMounted)return Ks.warn("Trying to update view that is not mounted. Ignoring update.",this);if(!this.shouldUpdate||this.shouldUpdate()){if(this.willUpdate&&this.willUpdate(),vo.invoke(this,"willUpdate"),vo.invoke(this,"onUpdate"),this.onUpdate&&this.onUpdate(),this.overrideChildUpdates)this.overrideChildUpdates();else for(var e=this._childViews,t=e.length,n=0;n<t;n++)e[n].update();vo.invoke(this,"didUpdate"),this.didUpdate&&this.didUpdate()}}var RT,NT=__dcg_shared_module_exports__.f((()=>{Jh(),Xh(),RT={update:G2}}));function A2(e){var t=arguments.length;if(t<2)return e;for(var n=1;n<t;n++)for(var r=arguments[n],i=Object.keys(r),o=i.length,a=0;a<o;a++){var s=i[a];e[s]=r[s]}return e}var qs,bu=__dcg_shared_module_exports__.f((()=>{qs=A2}));function V2(e){if(!e)throw new Error("must pass a spec to DCGView.createClass");if("function"!=typeof e.template)throw new Error("must pass a template function to DCGView.createClass");var t=function(t,n){this._viewName=e.viewName||(this.constructor?this.constructor.name:"Anonymous DCGView"),this._setupProps(t,n),this.init&&this.init(),this._callTemplate()};for(var n in t.prototype._setupProps=function(e,t){if(e){for(var n in e){var r=e[n];if("function"!=typeof r&&void 0!==r)throw new Error('The "'+n+'" prop must be a function. It is: '+JSON.stringify(r))}this.props=e}else this.props={};this.children=t,this._childViews=[],this._bindings={}},t.prototype._callTemplate=function(){if(this._element=this.template(),!this._element||!this._element._isDCGElement)throw new Error("template() must return a DCGElement");this._element._parentElement=this},t.prototype.bindFn=function(e){return e.bind(this)},t.prototype.findRootNode=Ot.findRootNode,t.prototype.renderToDocFrag=Ot.renderToDocFrag,t.prototype.const=tn.makeConst,t.prototype.spread=qs,t.prototype.createElement=Us,t.prototype.update=RT.update,t.prototype.traceViewHierarchy=function(){for(var e=[],t=this._parentElement;t;t=t._parentElement)e.unshift(t);var n=e.concat([this]).filter((function(e){return!(!e._isDCGView||e._isDCGSwitch&&e._parentElement&&e._parentElement._isDCGIf||e._isDCGIfDefinedWrapper||e._isDCGSwitchWrapper||e._isDCGSwitchUnionWrapper)})).map((function(e,t){for(var n="";t-- >0;)n+="  ";return n+"<"+e._viewName+">"})).join("\n");return{ancestors:e,formatted:n}},e)if(e.hasOwnProperty(n)){if(t.prototype.hasOwnProperty(n))throw new Error("Cannot override the "+n+"() method");t.prototype[n]=e[n]}return t._isDCGViewClass=!0,t.prototype._isDCGView=!0,t.prototype._isDCGElement=!0,t}var Zr,Sa=__dcg_shared_module_exports__.f((()=>{yu(),gc(),NT(),Qa(),bu(),Zr=V2}));function BT(e){var t=e(),n=typeof t;if("string"===n)return t;if(!n||"object"!==n)throw new Error("Unsupported type returned from style getter: "+n);var r="";for(var i in t){var o=t[i];t.hasOwnProperty(i)&&null!=o&&(r?r+=";"+i+":"+o:r=i+":"+o)}return r}function L2(e){var t,n=BT(e);return tn.isConst(e)||(t={onUpdate:function(t){var r=BT(e);n!==r&&(tb.update(t,"style",r),n=r)}}),{value:n,bindings:t}}var KT,UT=__dcg_shared_module_exports__.f((()=>{Qa(),lS(),KT=L2}));function qT(e){var t=e(),n=typeof t;if("string"===n)return t;if(!n||"object"!==n)throw new Error("Unsupported type returned from class getter: "+n);var r="";for(var i in t)if(t.hasOwnProperty(i)){t[i]&&(r?r+=" "+i:r=i)}return r}function P2(e,t,n){for(var r=[],i=e.className.replace(HT,"").split($T),o=t.replace(HT,"").split($T),a={},s=o.length-1;s>=0;s--)a[o[s]]=!0;var l=i.length;for(s=0;s<l;s++){var c=i[s];a.hasOwnProperty(c)||r.push(c)}return n?r.length?n+" "+r.join(" "):n:r.join(" ")}function O2(e){var t,n=qT(e);return tn.isConst(e)||(t={onUpdate:function(t){var r=qT(e);n!==r&&(t.className===n?(t.className=r,n=r):(t.className=P2(t,n,r),n=r))}}),{value:n,bindings:t}}var HT,$T,zT,WT=__dcg_shared_module_exports__.f((()=>{Qa(),HT=/^\s+|\s+$/g,$T=/\s+/,zT=O2}));function _2(e){return function(t){if("function"!=typeof t)throw new Error("The "+e+" attribute expects a function for the value");if(tn.isConst(t))throw new Error("The "+e+" attribute does not expect a const for the value");var n={bindings:{}};return n.bindings[e]=t,n}}var Hs,jT=__dcg_shared_module_exports__.f((()=>{Qa(),Hs=_2}));function YT(e){var t,n,r=e.length,i=new Array(r),o=new Array(r+1),a=0;for(n=0;n<r;n++){if(e[o[a]]<e[n])t=a+1;else{for(var s=1,l=a-1;s<=l;){var c=Math.ceil((s+l)/2);e[o[c]]<e[n]?s=c+1:l=c-1}t=s}i[n]=o[t-1],o[t]=n,t>a&&(a=t)}var d=new Array(a),p=o[a];for(n=a-1;n>=0;n--)d[n]=e[p],p=i[p];return d}var JT=__dcg_shared_module_exports__.f((()=>{}));function F2(e,t){var n,r,i={},o=[],a=[];for(n=0;n<t.length;n++)i[r=t[n]]=n;for(n=0;n<e.length;n++)void 0===i[r=e[n]]&&o.push(r);var s=[];for(n=0;n<e.length;n++){var l=i[r=e[n]];void 0!==l&&s.push(l)}var c=YT(s),d={};for(n=0;n<c.length;n++)d[r=t[c[n]]]=!0;for(n=t.length-1;n>=0;n--)!d[r=t[n]]&&a.push({key:r,beforeKey:t[n+1]});return{removes:o,inserts:a}}var ib,xS=__dcg_shared_module_exports__.f((()=>{JT(),ib=F2}));function K2(e,t){return Us(B2,{items:e,keyFunction:t.key,viewFunction:t.item})}var R2,N2,B2,XT,QT=__dcg_shared_module_exports__.f((()=>{Sa(),xS(),yu(),gc(),R2=Zr({viewName:"EachPlaceholder",_isDCGEachPlaceholder:!0,template:function(){return this.createElement("div",{style:this.const("display: none")})}}),N2=Zr({viewName:"EachWrapper",_isDCGEachWrapper:!0,template:function(){return this.children[0]}}),B2=Zr({viewName:"Each",_isDCGEach:!0,getKeys:function(){this._keyToItem={};var e=this.props.items(),t=this.props.keyFunction?e.map(this.props.keyFunction):e.slice(0);if(!this._chosenKeyType&&t.length&&(this._chosenKeyType=typeof t[0],"string"!==this._chosenKeyType&&"number"!==this._chosenKeyType))throw new Error("The key: "+JSON.stringify(t[0])+" is not a string or number");for(var n=0;n<t.length;n++){var r=t[n];if(typeof r!==this._chosenKeyType)throw new Error("Keys must be the same type. "+JSON.stringify(r)+" is not a "+this._chosenKeyType);if(r in this._keyToItem)throw new Error("The key: "+JSON.stringify(r)+" is not unique");this._keyToItem[r]=e[n]}return t},createViewForKey:function(e){var t=this._keyToItem[e],n=this.props.viewFunction.call(this,t,e),r=n;return r._isDCGView||(r=this.createElement(N2,null,n)),this._keyToView[e]=r,r},template:function(){this._keyToView={},this._keys=this.getKeys(),this._element=this.createElement(R2,null),this._siblingElements=[];for(var e=0;e<this._keys.length;e++){var t=this._keys[e],n=this.createViewForKey(t);n._parentElement=this._element._parentElement,this._siblingElements.push(n)}return this._element},detachAllRemovedViews:function(){for(var e,t=this._childViews,n=0,r=t.length,i=0;i<r;i++)(e=t[i])._will_be_unmounted_?n++:t[i-n]=e;t.splice(r-n,n)},overrideChildUpdates:function(){var e=this._keys,t=this.getKeys();this._keys=t;var n,r,i,o,a,s,l=this._element.findRootNode().parentNode,c=ib(e,t),d=[];for(n=c.removes.length-1;n>=0;n--)s=c.removes[n],d.push(this._keyToView[s]);for(d.forEach(Ot.willUnmount),n=0;n<c.removes.length;n++)s=c.removes[n],r=this._keyToView[s],delete this._keyToView[s],r._will_be_unmounted_=!0,l.removeChild(r.findRootNode());d.length>0&&this.detachAllRemovedViews(),d.forEach(Ot.onUnmount),d.forEach(Ot.didUnmount);var p=[];for(n=c.inserts.length-1;n>=0;n--)(s=c.inserts[n].key)in this._keyToView||(r=this.createViewForKey(s),p.push(r),Ot.createNodeForView(r,this));for(p.forEach(Ot.willMount),n=0;n<c.inserts.length;n++)a=c.inserts[n],i=this._keyToView[a.key].findRootNode(),o=void 0!==a.beforeKey?this._keyToView[a.beforeKey].findRootNode():null,l.insertBefore(i,o);p.forEach(Ot.onMount),p.forEach(Ot.didMount);var u=this._childViews,h=u.length-p.length;for(n=0;n<h;n++)u[n].update()}}),XT=K2})),U2,q2,ZT,e0=__dcg_shared_module_exports__.f((()=>{Sa(),xS(),Qa(),gc(),U2=Zr({viewName:"ForWrapper",template:function(){return this.children[0]}}),q2=Zr({viewName:"For",_isDCGFor:!0,getKeys:function(){this._keyToItem={};var e=this.props.each();if(!Array.isArray(e))throw new Error("<For each={}> must return an array");var t=this.props.key?e.map(this.props.key):e.slice(0);if(!this._chosenKeyType&&t.length&&(this._chosenKeyType=typeof t[0],"string"!==this._chosenKeyType&&"number"!==this._chosenKeyType))throw new Error("The key: "+JSON.stringify(t[0])+" is not a string or number");for(var n=0;n<t.length;n++){var r=t[n];if(typeof r!==this._chosenKeyType)throw new Error("Keys must be the same type. "+JSON.stringify(r)+" is not a "+this._chosenKeyType);if(r in this._keyToItem)throw new Error("The key: "+JSON.stringify(r)+" is not unique");this._keyToItem[r]=e[n]}return t},createViewForKey:function(e){var t=this._keyToItem[e],n=this._viewFunction.call(this,t,e),r=n;return r._isDCGView||(r=this.createElement(U2,null,n)),this._keyToView[e]=r,r},template:function(){if(this._keyToView={},"function"!=typeof this.props.each)throw new Error("<For each={}> must be a function");if(1!==this.children.length)throw new Error("<For> expects a single child. You passed "+this.children.length);var e=this.children[0];if(!e||!e._isDCGElement)throw new Error("<For> expects the root node to be a DCGElement. You passed "+JSON.stringify(e));if(e._isDCGView)throw new Error("<For> expects the root node to not be a DCGView. Pass in something like <div> or <span>");if(1!==e.children.length)throw new Error("<For> expects a root node with a single child. You passed "+e.children.length);if(this._viewFunction=e.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<For> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var t=JSON.stringify(this._viewFunction);throw new Error("<For> expects a function that constructs a DCGElement. You passed "+t)}if(tn.isConst(this._viewFunction))throw new Error("<For> expects a function that constructs a DCGElement. You passed a constant");this._keys=this.getKeys();for(var n=[],r=0;r<this._keys.length;r++){var i=this._keys[r],o=this.createViewForKey(i);o._parentElement=this,n.push(o)}return e.children=n,e},detachAllRemovedViews:function(){for(var e,t=this._childViews,n=0,r=t.length,i=0;i<r;i++)(e=t[i])._will_be_unmounted_?n++:t[i-n]=e;t.splice(r-n,n)},overrideChildUpdates:function(){var e=this._keys,t=this.getKeys();this._keys=t;var n,r,i,o,a,s,l=this.findRootNode(),c=ib(e,t),d=[];for(n=c.removes.length-1;n>=0;n--)s=c.removes[n],d.push(this._keyToView[s]);for(d.forEach(Ot.willUnmount),n=0;n<c.removes.length;n++)s=c.removes[n],r=this._keyToView[s],delete this._keyToView[s],r._will_be_unmounted_=!0,l.removeChild(r.findRootNode());d.length>0&&this.detachAllRemovedViews(),d.forEach(Ot.onUnmount),d.forEach(Ot.didUnmount);var p=[];for(n=c.inserts.length-1;n>=0;n--)(s=c.inserts[n].key)in this._keyToView||(r=this.createViewForKey(s),p.push(r),Ot.createNodeForView(r,this));for(p.forEach(Ot.willMount),n=0;n<c.inserts.length;n++)a=c.inserts[n],i=this._keyToView[a.key].findRootNode(),o=void 0!==a.beforeKey?this._keyToView[a.beforeKey].findRootNode():null,l.insertBefore(i,o);p.forEach(Ot.onMount),p.forEach(Ot.didMount);var u=this._childViews,h=u.length-p.length;for(n=0;n<h;n++)u[n].update()}}),ZT=q2})),H2,$2,nb,wS=__dcg_shared_module_exports__.f((()=>{Sa(),Qa(),gc(),H2=Zr({viewName:"SwitchWrapper",_isDCGSwitchWrapper:!0,template:function(){return this.children[0]}}),$2=Zr({viewName:"Switch",_isDCGSwitch:!0,updateKey:function(){this._key=this.props.key()},createView:function(){var e=this._viewFunction(this._key);null==e&&(e=this.createElement("div",{style:this.const("display: none")}));var t=this.createElement(H2,null,e);return t._parentElement=this,t},template:function(){if(this._key=void 0,"function"!=typeof this.props.key)throw new Error("<Switch key={}> must be a function");if(1!==this.children.length)throw new Error("<Switch> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var e=JSON.stringify(this._viewFunction);throw new Error("<Switch> expects a function that constructs a DCGElement. You passed "+e)}if(tn.isConst(this._viewFunction))throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a constant");return this.updateKey(),this.createView()},overrideChildUpdates:function(){var e=this._key;if(this.updateKey(),e===this._key)this._element.update();else{var t=this.findRootNode(),n=document.createTextNode("");t.parentNode.insertBefore(n,t),Ot.willUnmount(this._element),this._childViews=[],t.parentNode.removeChild(t),Ot.onUnmount(this._element),Ot.didUnmount(this._element),this._element=this.createView();var r=Ot.createNodeForView(this._element,this);Ot.willMount(this._element),n.parentNode.insertBefore(r,n),n.parentNode.removeChild(n),Ot.onMount(this._element),Ot.didMount(this._element)}}}),nb=$2}));function t0(e,t,n){return Us(W2,{getCase:function(){var n=t();return e?n&&n[e]:n},buildChildView:function(e){var r=n[e];if(r)return r(t)}})}function j2(e,t){return"string"==typeof e?t0.bind(this,e,t):t0(void 0,e,t)}var z2,W2,ob,vS=__dcg_shared_module_exports__.f((()=>{Sa(),gc(),yu(),z2=Zr({viewName:"SwitchUnionWrapper",_isDCGSwitchUnionWrapper:!0,template:function(){return this.children[0]}}),W2=Zr({viewName:"SwitchUnion",_isDCGSwitchUnion:!0,updateCase:function(){this._case=this.props.getCase()},createView:function(){var e=this.props.buildChildView(this._case);null==e&&(e=this.createElement("div",{style:this.const("display: none")}));var t=this.createElement(z2,null,e);return t._parentElement=this,t},template:function(){return this._case=void 0,this.updateCase(),this.createView()},overrideChildUpdates:function(){var e=this._case;if(this.updateCase(),e===this._case)this._element.update();else{var t=this.findRootNode(),n=document.createTextNode("");t.parentNode.insertBefore(n,t),Ot.willUnmount(this._element),this._childViews=[],t.parentNode.removeChild(t),Ot.onUnmount(this._element),Ot.didUnmount(this._element),this._element=this.createView();var r=Ot.createNodeForView(this._element,this);Ot.willMount(this._element),n.parentNode.insertBefore(r,n),n.parentNode.removeChild(n),Ot.onMount(this._element),Ot.didMount(this._element)}}}),ob=j2})),Y2,r0,i0=__dcg_shared_module_exports__.f((()=>{Sa(),Qa(),wS(),Y2=Zr({viewName:"If",_isDCGIf:!0,template:function(){if("function"!=typeof this.props.predicate)throw new Error("<If predicate={}> must be a function");if(1!==this.children.length)throw new Error("<If> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<If> expects a function that constructs a DCGElement. You passed a DCGElement directly");if("function"!=typeof this._viewFunction){var e=JSON.stringify(this._viewFunction);throw new Error("<If> expects a function that constructs a DCGElement. You passed "+e)}if(tn.isConst(this._viewFunction))throw new Error("<If> expects a function that constructs a DCGElement. You passed a constant");var t=function(){return!!this.props.predicate()}.bind(this),n=function(e){if(e)return this._viewFunction()}.bind(this);return this.createElement(nb,{key:t},n)}}),r0=Y2}));function Q2(e,t){return Us(X2,{isDefined:function(){return null!=e()},buildChildView:function(){return t(e)}})}var J2,X2,n0,o0=__dcg_shared_module_exports__.f((()=>{Sa(),gc(),yu(),J2=Zr({viewName:"IfDefinedWrapper",_isDCGIfDefinedWrapper:!0,template:function(){return this.children[0]}}),X2=Zr({viewName:"IfDefined",_isDCGIfDefined:!0,updateIsDefined:function(){this._isDefined=this.props.isDefined()},createView:function(){var e;this._isDefined&&(e=this.props.buildChildView()),null==e&&(e=this.createElement("div",{style:this.const("display: none")}));var t=this.createElement(J2,null,e);return t._parentElement=this,t},template:function(){return this._isDefined=void 0,this.updateIsDefined(),this.createView()},overrideChildUpdates:function(){var e=this._isDefined;if(this.updateIsDefined(),e===this._isDefined)this._element.update();else{var t=this.findRootNode(),n=document.createTextNode("");t.parentNode.insertBefore(n,t),Ot.willUnmount(this._element),this._childViews=[],t.parentNode.removeChild(t),Ot.onUnmount(this._element),Ot.didUnmount(this._element),this._element=this.createView();var r=Ot.createNodeForView(this._element,this);Ot.willMount(this._element),n.parentNode.insertBefore(r,n),n.parentNode.removeChild(n),Ot.onMount(this._element),Ot.didMount(this._element)}}}),n0=Q2}));function Z2(e,t){var n=ob((function(){return e()?"true":"false"}),t);return n._viewName="IfElse",n}var a0,s0=__dcg_shared_module_exports__.f((()=>{vS(),a0=Z2})),l0,c0=__dcg_shared_module_exports__.f((()=>{Sa(),bu(),l0=Zr({viewName:"Textarea",computeValue:function(){var e=this.props.value();return null==e?"":e+""},template:function(){if(!this.props.value)throw new Error('<Textarea> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Textarea> expects an "onInput={}" prop');var e=qs({},this.props,{onInput:function(e){this.props.onInput(e.target.value),this._isMounted&&this.update()}.bind(this)});return this.props.disabled&&(e.disabled=function(){if(this.props.disabled())return!0}.bind(this)),delete e.value,this.createElement("textarea",e,this.const(this.computeValue()))},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})})),d0,u0=__dcg_shared_module_exports__.f((()=>{Sa(),bu(),d0=Zr({viewName:"Input",computeValue:function(){var e=this.props.value();return null==e?"":e+""},template:function(){if(!this.props.value)throw new Error('<Input> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Input> expects an "onInput={}" prop');var e=qs({},this.props,{value:this.const(this.computeValue()),onInput:function(e){this.props.onInput(e.target.value),this._isMounted&&this.update()}.bind(this)});return this.props.onEnterPressed&&(e.onKeypress=function(e){13===e.which&&this.props.onEnterPressed()}.bind(this)),this.props.disabled&&(e.disabled=function(){if(this.props.disabled())return!0}.bind(this)),e.hasOwnProperty("tabindex")||(e.tabindex=function(){return this.props.disabled&&this.props.disabled()?"-1":"0"}.bind(this)),this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})})),p0,h0=__dcg_shared_module_exports__.f((()=>{Sa(),bu(),p0=Zr({viewName:"Checkbox",computeChecked:function(){return!!this.props.checked()},template:function(){if(!this.props.checked)throw new Error('<Checkbox> expects a "checked={}" prop');if(!this.props.onChange)throw new Error('<Checkbox> expects an "onChange={}" prop');var e=qs({},this.props,{type:this.const("checkbox"),checked:this.const(this.computeChecked()?"checked":void 0),onChange:function(e){this.props.onChange(e.target.checked),this._isMounted&&this.update()}.bind(this)});return this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeChecked();this.rootDOM.checked!==e&&(this.rootDOM.checked=e)}})})),g0,f0=__dcg_shared_module_exports__.f((()=>{QT(),e0(),wS(),vS(),i0(),o0(),s0(),c0(),u0(),h0(),g0={Each:XT,For:ZT,Switch:nb,SwitchUnion:ob,If:r0,IfDefined:n0,IfElse:a0,Textarea:l0,Input:d0,Checkbox:p0}})),m0,y0=__dcg_shared_module_exports__.f((()=>{Sa(),m0=Zr({template:function(){}})})),eR,Ea,Za,b0=__dcg_shared_module_exports__.f((()=>{yu(),Sa(),gc(),bu(),Qa(),dS(),UT(),WT(),jT(),f0(),Xh(),uS(),y0(),eR=rb.enableSpanWrapping,(Ea={createElement:Us,createClass:Zr,mountToNode:Ot.mountToNode,unmountFromNode:Ot.unmountFromNode,spread:qs,const:tn.makeConst,isConst:tn.isConst,addCustomAttribute:Yh.add,Components:g0,addWarningHandler:Ks.addWarningHandler,removeWarningHandler:Ks.removeWarningHandler,_warn:Ks.warn,enableSpanWrapping:eR,Class:m0}).addCustomAttribute("style",KT),Ea.addCustomAttribute("class",zT),Ea.addCustomAttribute("willMount",Hs("willMount")),Ea.addCustomAttribute("onMount",Hs("onMount")),Ea.addCustomAttribute("didMount",Hs("didMount")),Ea.addCustomAttribute("willUnmount",Hs("willUnmount")),Ea.addCustomAttribute("onUnmount",Hs("onUnmount")),Ea.addCustomAttribute("didUnmount",Hs("didUnmount")),Ea.addCustomAttribute("willUpdate",Hs("willUpdate")),Ea.addCustomAttribute("onUpdate",Hs("onUpdate")),Ea.addCustomAttribute("didUpdate",Hs("didUpdate")),Za=Ea}));function oo(e,t){ab&&ab.notify(e,t)}function Qh(e,t,n,r){if(t)for(var i in t=__dcg_shared_module_exports__.b({},t))try{t[i]=JSON.stringify(t[i],null,2)}catch(e){t[i]="[[could not stringify]]"}ab&&ab.leaveBreadcrumb(e,t,n,r)}var ab,fc=__dcg_shared_module_exports__.f((()=>{}));function Zh(e,t){let n=new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g,"%20")):null}function tR(e,t){return new RegExp("[?|&]"+t+"(=|&|;|$)").test(e)}function rR(e,t,n){if(t!==encodeURIComponent(t))throw new Error("Programming error: parameter name should be URL-safe without encoding.");let r=encodeURIComponent(n);if(e.length){let n=e.split("#"),i=/\?/.test(e)?`${n[0]}&${t}=${r}`:`${n[0]}?${t}=${r}`;return void 0!==n[1]?`${i}#${n[1]}`:i}return`?${t}=${r}`}function iR(e,t,n){let r=new RegExp("([?|&])"+t+"=([^&;]+?)(&|#|;|$)").exec(e);if(!r)return e;let i=r[1],o=`${i}${t}=${r[2]}`,a=`${i}${t}=${encodeURIComponent(n)}`;return e.replace(o,a)}function x0(e,t,n){return tR(e,t)?iR(e,t,n):rR(e,t,n)}var sb=__dcg_shared_module_exports__.f((()=>{}));function cR(e){let t=sR.exec(e);if(t){let e=t[1];return!lR.test(e)}return!1}function lb(e,t){let n=Sn(),r="";return r=void 0!==t?t:n.lang?""+n.lang:"",""===e||""===r||oR.test(e)||aR.test(e)||cR(e)?e:x0(e,"lang",r)}var oR,aR,sR,lR,w0=__dcg_shared_module_exports__.f((()=>{Ns(),sb(),oR=/lang=[A-Za-z]+/,aR=/(cl|learn|help).desmos.com/,sR=/^(?:https?:)?(?:\/\/)?([^\s\/\?]+)/i,lR=/(^desmos\.com$)|(\.desmos.com$)/})),v0=__dcg_shared_module_exports__.f((()=>{})),ne=__dcg_shared_module_exports__.g(((e,t)=>{b0(),at(),fc(),w0(),v0(),Za.addWarningHandler((e=>oo(e))),Za.addCustomAttribute("href",(function(e){let t=lb(e()),n={value:`${lb(e())}`,bindings:{onMount(e){if(!P(e).is("a")&&!P(e).is("use"))throw new Error("Cannot have an href on a non-link element.")}}};return n.bindings.onUpdate=function(n){let r=lb(e());t!==r&&(t=r,n.setAttribute("href",r))},n})),Za.addCustomAttribute("onTap",(e=>({value:"",bindings:{onMount(t){P(t).on("dcg-tap",e)}}}))),Za.addCustomAttribute("ignoreRealClick",(e=>({bindings:{onMount(t){P(t).on("click",(function(t){e()&&t.preventDefault()}))}}}))),Za.addCustomAttribute("onTapStart",(e=>({bindings:{onMount(t){P(t).on("dcg-tapstart",e)}}}))),Za.addCustomAttribute("onTapMove",(e=>({bindings:{onMount(t){P(t).on("dcg-tapmove",e)}}}))),Za.addCustomAttribute("onTapEnd",(e=>({bindings:{onMount(t){P(t).on("dcg-tapend",e)}}}))),Za.addCustomAttribute("onLongHold",(e=>({bindings:{onMount(t){P(t).on("dcg-longhold",e)}}}))),Za.addCustomAttribute("manageFocus",(function(e){return void 0===e()?{}:{bindings:{onMount(t){e().shouldBeFocused()&&t.focus(),t.onfocus=function(t){e().shouldBeFocused()||e().onFocusedChanged(!0,t)},t.onblur=function(t){e().shouldBeFocused()&&e().onFocusedChanged(!1,t)}},onUpdate(t){let n=e().shouldBeFocused(),r=document.activeElement===t;n&&!r?t.focus():r&&!n&&t.blur()},willUnmount(e){e.onfocus=null,e.onblur=null}}}})),t.exports=Za})),Vc=__dcg_shared_module_exports__.g(((e,t)=>{!function(n,r){if("object"==typeof e&&"object"==typeof t)t.exports=r();else{var i=r();for(var o in i)("object"==typeof e?e:n)[o]=i[o]}}(e,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(22);t.map=function(e,t){var n=r.map(e,t);return e.warnings&&(n.warnings=e.warnings),n}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],d=!1,p=-1;function u(){!d||!l||(d=!1,l.length?c=l.concat(c):p=-1,c.length&&h())}function h(){if(!d){var e=s(u);d=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new g(e,t)),1===c.length&&!d&&s(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r,i=["abs","ans","arccosh","arccot","arccoth","arccsc","arccsch","arcsec","arcsech","arcsinh","arctanh","binomialdist","boxplot","cdf","ceil","corr","cov","csch","distance","dotplot","erf","floor","gcf","histogram","IndependentTTest","iTTest","ittest","lcm","length","mad","mcd","mcm","mean","median","midpoint","mod","nCr","normaldist","nPr","pdf","poissondist","polygon","quantile","quartile","random","round","sech","sign","signum","sgn","stdDev","stddev","stdDevP","stddevp","stdev","stdevp","tdist","total","TScore","TScore","Tscore","tscore","tscore","TTest","ttest","var","variance","varp"],o=i,a=s(i);function s(e){var t=e.sort((function(e,t){return t.length-e.length||t.localeCompare(e)})).join("|");return new RegExp("("+t+")","g")}t.getAutoOperator=function(e){for(var t,n=0,i="",o=0,a=e;o<a.length;o++){var s=a[o];if("terminal"!==s.type||!/[A-Za-z]/.test(s.value))break;i+=s.value,n++}return t=i.replace(r,"\\operatorname{$1}"),{modified:n>0&&t!==i,terminalCount:n,value:t}},t.containsValue=function(e){return-1!==o.indexOf(e.toLowerCase())},t.setOperatorNames=function(e){if(!Array.isArray(e))throw new Error("Operator names must be an array, got "+typeof e);for(var t=0,n=e;t<n.length;t++){var i=n[t];if("string"!=typeof i)throw new Error("Operator names must be strings, found "+typeof i)}r=s(o=e)},t.resetOperatorNames=function(){o=i,r=a}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(14),o=n(15),a=n(16),s=n(0),l=n(23),c=n(25);function d(e){if(!c.isSixDotCells(e))throw new Error("EncodingError: Expected input to be six-dot unicode braille characters.")}t.nemethToLatex=function(e,n){return d(e),a.default(t.UnicodeBraille.toBrailleAscii(e),n)},t.latexToNemeth=function(e,n){return n&&n.operatorNames?r.setOperatorNames(n.operatorNames):r.resetOperatorNames(),s.map(i.default(e),t.UnicodeBraille.coerceToSixDotCells)},t.uebToLatex=function(e,n){return d(e),l.default(t.UnicodeBraille.toBrailleAscii(e),n)},t.latexToUeb=function(e,n){return n&&n.operatorNames?r.setOperatorNames(n.operatorNames):r.resetOperatorNames(),s.map(o.default(e),t.UnicodeBraille.coerceToSixDotCells)},t.UnicodeBraille={coerceToSixDotCells:c.coerceToSixDotCells,toBrailleAscii:c.toBrailleAscii,toExpandedBrailleAscii:c.toExpandedBrailleAscii},t.version="1.0.3"},function(e,t){},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return r.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return(r?"/":"")+(t=n(o(t.split("/"),(function(e){return!!e})),!r).join("/"))||"."},t.normalize=function(e){var r=t.isAbsolute(e),i="/"===a(e,-1);return!(e=n(o(e.split("/"),(function(e){return!!e})),!r).join("/"))&&!r&&(e="."),e&&i&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}var c=[];for(l=s;l<i.length;l++)c.push("..");return(c=c.concat(o.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=i(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return i(e)[3]};var a=function(e,t,n){return e.substr(t,n)}}).call(t,n(1))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.hash)throw e;return{_diagnostic:{expected:e.hash.expected,message:e.message,text:e.hash.text,token:e.hash.token},location:e.hash.loc}}},function(e,t,n){function r(e){return{type:"command",value:e}}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=function(e){return{type:"terminal",value:e}},t.command=r,t.greek=function(e){return{type:"greek",value:e}},t.level=function(e){return{subscript:e._,superscript:e["^"],type:"level"}},t.processPrimes=function(e,t){var n=[],o=e.match(/'+/);if(null!==o)for(var a=o[0].length,s=0;s<a;s++)n.push(r("\\prime"));return i(n,t)},t.fraction=function(e,t){return{type:"fraction",numerator:e,denominator:t}},t.typeform=function(e,t){return{name:e,type:"typeform",value:t}},t.radical=function(e,t){return{type:"radical",index:t,radicand:e}},t.group=i},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e,r){var i=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,11],n=[1,12],r=[1,13],i=[1,70],o=[1,71],a=[1,69],s=[1,38],l=[1,39],c=[1,59],d=[1,60],p=[1,61],u=[1,62],h=[1,63],g=[1,64],m=[1,65],f=[1,66],y=[1,67],b=[1,68],x=[1,40],_=[1,34],v=[1,35],w=[1,36],A=[1,37],k=[1,41],E=[1,42],I=[1,43],M=[1,44],S=[1,45],C=[1,46],T=[1,47],D=[1,48],P=[1,49],O=[1,50],B=[1,51],L=[1,52],F=[1,53],N=[1,17],R=[1,54],q=[1,55],G=[1,56],Q=[1,57],z=[1,58],U=[5,12,13,14,18,24,25],j=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,82],Y=[1,75],V=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,77,78,79,80,82],H=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],K={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,element:6,index_element:7,modified_expression:8,radical:9,primes:10,OPEN_MODEXP:11,MODEXP_UNDER:12,MODEXP_OVER:13,CLOSE_MODEXP:14,RADICAL_INDEX:15,index_group:16,OPEN_RADICAL:17,CLOSE_RADICAL:18,level:19,LEVEL:20,BASELINE:21,frac:22,OPEN_FRAC:23,SLASH:24,CLOSE_FRAC:25,subscript_head:26,number:27,atom:28,command:29,greek:30,letter:31,comma:32,period:33,space:34,operation:35,comparison:36,level_with_comparison:37,ellipsis:38,colon:39,infinity:40,integral:41,factorial:42,ampersand:43,question_mark:44,bracket:45,",":46,".":47,"[":48,"{":49,"(":50,"]":51,"}":52,")":53,LANGLE:54,RANGLE:55,PIPE:56,DOUBLE_PIPE:57,SPACE:58,COMMAND:59,GREEK:60,LETTER:61,CAPITAL_LETTER:62,"+":63,"-":64,CDOT:65,TIMES:66,"*":67,"/":68,DIV:69,PERCENT:70,TO:71,COMPARISON:72,LEVEL_WITH_COMPARISON:73,ELLIPSIS:74,COLON:75,NUMBER:76,INFINITY:77,INTEGRAL:78,FACTORIAL:79,"&":80,PRIMES:81,"?":82,unknown:83,UNKNOWN:84,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",11:"OPEN_MODEXP",12:"MODEXP_UNDER",13:"MODEXP_OVER",14:"CLOSE_MODEXP",15:"RADICAL_INDEX",17:"OPEN_RADICAL",18:"CLOSE_RADICAL",20:"LEVEL",21:"BASELINE",23:"OPEN_FRAC",24:"SLASH",25:"CLOSE_FRAC",46:",",47:".",48:"[",49:"{",50:"(",51:"]",52:"}",53:")",54:"LANGLE",55:"RANGLE",56:"PIPE",57:"DOUBLE_PIPE",58:"SPACE",59:"COMMAND",60:"GREEK",61:"LETTER",62:"CAPITAL_LETTER",63:"+",64:"-",65:"CDOT",66:"TIMES",67:"*",68:"/",69:"DIV",70:"PERCENT",71:"TO",72:"COMPARISON",73:"LEVEL_WITH_COMPARISON",74:"ELLIPSIS",75:"COLON",76:"NUMBER",77:"INFINITY",78:"INTEGRAL",79:"FACTORIAL",80:"&",81:"PRIMES",82:"?",84:"UNKNOWN"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,2],[6,1],[8,7],[8,6],[8,5],[8,6],[8,5],[8,5],[8,4],[8,4],[8,3],[8,4],[8,4],[8,4],[8,4],[8,3],[8,3],[8,2],[9,5],[9,4],[9,4],[9,3],[9,3],[9,2],[19,1],[19,1],[22,5],[22,4],[22,4],[22,3],[16,2],[16,1],[7,3],[7,2],[7,2],[7,3],[7,2],[7,2],[7,1],[7,1],[7,1],[26,1],[26,1],[26,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[32,1],[33,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[34,1],[29,1],[30,1],[31,1],[31,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[36,1],[37,1],[38,1],[39,1],[27,1],[40,1],[41,1],[42,1],[43,1],[10,1],[44,1],[83,1]],performAction:function(e,t,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:return r.group();case 3:case 37:case 41:case 43:case 44:case 7:this.$=r.group(o[s-1],o[s]);break;case 4:case 38:this.$=r.group(o[s]);break;case 9:this.$=r.modified_expression(o[s-5],o[s-3],o[s-1]);break;case 10:this.$=r.modified_expression(o[s-4],o[s-2]);break;case 11:this.$=r.modified_expression(o[s-3],o[s-1]);break;case 12:this.$=r.modified_expression(o[s-4],r.group(),o[s-1]);break;case 13:this.$=r.modified_expression(o[s-3],r.group(),o[s-1]);break;case 14:this.$=r.modified_expression(o[s-3],r.group(),r.group());break;case 15:case 16:this.$=r.modified_expression(o[s-2],r.group());break;case 17:this.$=r.modified_expression(o[s-1]);break;case 18:case 19:case 22:case 23:case 24:this.$=r.modified_expression(r.group());break;case 20:case 21:r.warnOrError("Multi-level modified expressions are not supported."),this.$=r.modified_expression(r.group());break;case 25:this.$=r.radical(o[s-1],o[s-3]);break;case 26:this.$=r.radical(o[s-1],r.group());break;case 27:this.$=r.radical(r.group(),o[s-2]);break;case 28:this.$=r.radical(r.group(),r.group());break;case 29:this.$=r.radical(o[s-1]);break;case 30:this.$=r.radical(r.group());break;case 31:this.$=r.level(o[s]);break;case 32:this.$=r.baseline();break;case 33:this.$=r.fraction(o[s-3],o[s-1]);break;case 34:this.$=r.fraction(o[s-2],r.group());break;case 35:this.$=r.fraction(r.group(),o[s-1]);break;case 36:this.$=r.fraction(r.group(),r.group());break;case 39:this.$=r.group(r.simple_subscript(o[s-2],o[s]),o[s-1]);break;case 40:this.$=r.simple_subscript(o[s-1],o[s]);break;case 42:r.warnOrError("Illegal use of Nemeth primes"),this.$=r.group(r.simple_subscript(o[s-2],o[s-1]),o[s]);break;case 67:this.$=r.terminal(",");break;case 68:this.$=r.terminal(".");break;case 69:this.$=r.terminal("[");break;case 70:this.$=r.terminal("\\{");break;case 71:this.$=r.terminal("(");break;case 72:this.$=r.terminal("]");break;case 73:this.$=r.terminal("\\}");break;case 74:this.$=r.terminal(")");break;case 75:this.$=r.terminal("\\langle ");break;case 76:this.$=r.terminal("\\rangle ");break;case 77:this.$=r.terminal("|");break;case 78:this.$=r.terminal("\\|");break;case 79:this.$=r.terminal(" ");break;case 80:this.$=r.command(o[s].toLowerCase());break;case 81:this.$=r.terminal(r.greek(o[s]));break;case 82:this.$=r.terminal(o[s].toLowerCase());break;case 83:this.$=r.terminal(o[s].toUpperCase());break;case 84:this.$=r.terminal("+");break;case 85:this.$=r.terminal("-");break;case 86:this.$=r.terminal("\\cdot ");break;case 87:this.$=r.terminal("\\times ");break;case 88:this.$=r.terminal("*");break;case 89:this.$=r.terminal("/");break;case 90:this.$=r.terminal("\\div ");break;case 91:this.$=r.terminal("\\%");break;case 92:this.$=r.terminal("\\to ");break;case 93:this.$=r.comparison(o[s].trim());break;case 94:this.$=r.level_with_comparison(o[s].trim());break;case 95:this.$=r.terminal("\\ldots ");break;case 96:this.$=r.terminal(":");break;case 97:this.$=r.terminal(o[s]);break;case 98:this.$=r.terminal("\\infty ");break;case 99:this.$=r.terminal("\\int ");break;case 100:this.$=r.terminal("!");break;case 101:this.$=r.terminal("\\&");break;case 102:this.$=r.primes(o[s]);break;case 103:this.$=r.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,11:t,15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},{1:[3]},{5:[1,72]},{1:[2,2]},e(U,[2,4],{6:4,7:5,8:6,9:7,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,22:32,19:33,4:73,11:t,15:n,17:r,20:i,21:o,23:a,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z}),e(j,[2,5]),e(j,[2,6]),e(j,[2,8],{10:74,81:Y}),e(V,[2,45],{10:76,27:77,76:N,81:Y}),e(j,[2,46],{10:78,81:Y}),e(j,[2,47],{10:79,81:Y}),{4:80,6:4,7:5,8:6,9:7,11:t,12:[1,82],13:[1,81],14:[1,83],15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},{7:86,16:84,17:[1,85],19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},{4:87,6:4,7:5,8:6,9:7,11:t,15:n,17:r,18:[1,88],19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},e(H,[2,48]),e(H,[2,49]),e(H,[2,50]),e(H,[2,97]),e(H,[2,51]),e(H,[2,52]),e(H,[2,53]),e(H,[2,54]),e(H,[2,55]),e(H,[2,56]),e(H,[2,57]),e(H,[2,58]),e(H,[2,59]),e(H,[2,60]),e(H,[2,61]),e(H,[2,62]),e(H,[2,63]),e(H,[2,64]),e(H,[2,65]),e(H,[2,66]),e(H,[2,80]),e(H,[2,81]),e(H,[2,82]),e(H,[2,83]),e(H,[2,67]),e(H,[2,68]),e(H,[2,79]),e(H,[2,84]),e(H,[2,85]),e(H,[2,86]),e(H,[2,87]),e(H,[2,88]),e(H,[2,89]),e(H,[2,90]),e(H,[2,91]),e(H,[2,92]),e(H,[2,93]),e(H,[2,94]),e(H,[2,95]),e(H,[2,96]),e(H,[2,98]),e(H,[2,99]),e(H,[2,100]),e(H,[2,101]),e(H,[2,103]),e(H,[2,69]),e(H,[2,70]),e(H,[2,71]),e(H,[2,72]),e(H,[2,73]),e(H,[2,74]),e(H,[2,75]),e(H,[2,76]),e(H,[2,77]),e(H,[2,78]),{4:89,6:4,7:5,8:6,9:7,11:t,15:n,17:r,19:33,20:i,21:o,22:32,23:a,24:[1,90],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},e(H,[2,31]),e(H,[2,32]),{1:[2,1]},e(U,[2,3]),e(j,[2,7]),e(j,[2,102]),e(V,[2,41],{27:91,76:N}),e(j,[2,40],{10:92,81:Y}),e(j,[2,43]),e(j,[2,44]),{12:[1,93],13:[1,94],14:[1,95]},{12:[1,96],13:[1,97],14:[1,98]},{12:[1,100],13:[1,99],14:[1,101]},e(j,[2,24]),{17:[1,102]},{4:103,6:4,7:5,8:6,9:7,11:t,15:n,17:r,18:[1,104],19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},{7:86,16:105,17:[2,38],19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},{18:[1,106]},e(H,[2,30]),{24:[1,107]},{4:108,6:4,7:5,8:6,9:7,11:t,15:n,17:r,19:33,20:i,21:o,22:32,23:a,25:[1,109],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},e(j,[2,39]),e(j,[2,42]),{4:110,6:4,7:5,8:6,9:7,11:t,13:[1,111],14:[1,112],15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},{4:113,6:4,7:5,8:6,9:7,11:t,14:[1,114],15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},e(j,[2,17]),{14:[1,115]},{14:[1,116]},e(j,[2,22]),{14:[1,117]},{14:[1,118]},e(j,[2,23]),{4:119,6:4,7:5,8:6,9:7,11:t,15:n,17:r,18:[1,120],19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},{18:[1,121]},e(H,[2,28]),{17:[2,37]},e(H,[2,29]),{4:122,6:4,7:5,8:6,9:7,11:t,15:n,17:r,19:33,20:i,21:o,22:32,23:a,25:[1,123],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},{25:[1,124]},e(H,[2,36]),{13:[1,125],14:[1,126]},{4:127,6:4,7:5,8:6,9:7,11:t,14:[1,128],15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},e(j,[2,16]),{14:[1,129]},e(j,[2,15]),e(j,[2,18]),e(j,[2,20]),e(j,[2,19]),e(j,[2,21]),{18:[1,130]},e(H,[2,27]),e(H,[2,26]),{25:[1,131]},e(H,[2,34]),e(H,[2,35]),{4:132,6:4,7:5,8:6,9:7,11:t,14:[1,133],15:n,17:r,19:33,20:i,21:o,22:32,23:a,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:s,47:l,48:c,49:d,50:p,51:u,52:h,53:g,54:m,55:f,56:y,57:b,58:x,59:_,60:v,61:w,62:A,63:k,64:E,65:I,66:M,67:S,68:C,69:T,70:D,71:P,72:O,73:B,74:L,75:F,76:N,77:R,78:q,79:G,80:Q,82:z},e(j,[2,11]),{14:[1,134]},e(j,[2,14]),e(j,[2,13]),e(H,[2,25]),e(H,[2,33]),{14:[1,135]},e(j,[2,10]),e(j,[2,12]),e(j,[2,9])],defaultActions:{3:[2,2],72:[2,1],105:[2,37]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,l=0,c=0,d=i.slice.call(arguments,1),p=Object.create(this.lexer),u={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(u.yy[h]=this.yy[h]);p.setInput(e,u.yy),u.yy.lexer=p,u.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var g=p.yylloc;i.push(g);var m=p.options&&p.options.ranges;"function"==typeof u.yy.parseError?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var f,y,b,x,_,v,w,A,k,E,I={};;){if(b=n[n.length-1],this.defaultActions[b]?x=this.defaultActions[b]:(null==f&&(E=void 0,"number"!=typeof(E=p.lex()||1)&&(E=t.symbols_[E]||E),f=E),x=o[b]&&o[b][f]),void 0===x||!x.length||!x[0]){var M="";for(v in k=[],o[b])this.terminals_[v]&&v>2&&k.push("'"+this.terminals_[v]+"'");M=p.showPosition?"Parse error on line "+(s+1)+":\n"+p.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[f]||f,line:p.yylineno,loc:g,expected:k})}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+f);switch(x[0]){case 1:n.push(f),r.push(p.yytext),i.push(p.yylloc),n.push(x[1]),f=null,y?(f=y,y=null):(l=p.yyleng,a=p.yytext,s=p.yylineno,g=p.yylloc,c>0&&c--);break;case 2:if(w=this.productions_[x[1]][1],I.$=r[r.length-w],I._$={first_line:i[i.length-(w||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(w||1)].first_column,last_column:i[i.length-1].last_column},m&&(I._$.range=[i[i.length-(w||1)].range[0],i[i.length-1].range[1]]),void 0!==(_=this.performAction.apply(I,[a,l,s,u.yy,x[1],r,i].concat(d))))return _;w&&(n=n.slice(0,-1*w*2),r=r.slice(0,-1*w),i=i.slice(0,-1*w)),n.push(this.productions_[x[1]][0]),r.push(I.$),i.push(I._$),A=o[n[n.length-2]][n[n.length-1]],n.push(A);break;case 3:return!0}}return!0}},W={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:case 2:return this.begin("modexp"),11;case 1:case 51:return 21;case 3:return 12;case 4:return 13;case 5:return this.popState(),14;case 6:return 63;case 7:return 64;case 8:return 65;case 9:return 66;case 10:return 67;case 11:return 68;case 12:return 69;case 13:return 54;case 14:return 48;case 15:return 49;case 16:return 50;case 17:return 55;case 18:return 51;case 19:return 52;case 20:return 53;case 21:return 57;case 22:return 56;case 23:return 75;case 24:return 70;case 25:return 71;case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:case 34:case 36:case 37:return 73;case 35:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:return 72;case 48:return 74;case 49:return 20;case 50:case 72:return 47;case 52:return 81;case 53:return 60;case 54:return 15;case 55:return this.begin("radical"),17;case 56:return this.popState(),18;case 57:return 18;case 58:return 78;case 59:return 80;case 60:return 79;case 61:case 62:return 59;case 63:return t.yytext=this.matches[1],76;case 64:return 23;case 65:return 24;case 66:return 25;case 67:return t.yytext=this.matches[1],62;case 68:return 61;case 69:return 77;case 70:return 82;case 71:return 46;case 73:return 58;case 74:return 5;case 75:return 84}},rules:[/^(?:"(?=[^>\]]+%))/,/^(?:")/,/^(?:"(?=[^>\]]+\]|[^>\]]+%))/,/^(?:%)/,/^(?:<)/,/^(?:\])/,/^(?:[+])/,/^(?:[-])/,/^(?:[*])/,/^(?:[@][*])/,/^(?:[@][\#])/,/^(?:[_][/])/,/^(?:[.][/])/,/^(?:[.][.][(])/,/^(?:[@][(])/,/^(?:[.][(])/,/^(?:[(])/,/^(?:[.][.][)])/,/^(?:[@][)])/,/^(?:[.][)])/,/^(?:[)])/,/^(?:[\\][\\])/,/^(?:[\\])/,/^(?:[_][3])/,/^(?:[@][0])/,/^(?:[ ][$]O[ ])/,/^(?:[ ][\^;]+[.]K[ ])/,/^(?:[\^;]+[=])/,/^(?:[ ][\^;]+[/][.]K[ ])/,/^(?:[ ][\^;]+[@][:][@][:][ ])/,/^(?:[ ][\^;]+["]K[:][ ])/,/^(?:[ ][\^;]+[.]1[:][ ])/,/^(?:[ ][\^;]+["]K[ ])/,/^(?:[ ][\^;]+[.]1[ ])/,/^(?:[ ][\^;]+[/][$][L][ ])/,/^(?:[ ][.]K[ ])/,/^(?:[ ][\^;]+[/]?[$][L][ ])/,/^(?:[ ][\^;]+[$]P[ ])/,/^(?:[=])/,/^(?:[ ][/][.]K[ ])/,/^(?:[ ][@][:][@][:][ ])/,/^(?:[ ]["]K[:][ ])/,/^(?:[ ][.]1[:][ ])/,/^(?:[ ]["]K[ ])/,/^(?:[ ][.]1[ ])/,/^(?:[@][:])/,/^(?:[ ][/]?[$][L][ ])/,/^(?:[ ][$]P[ ])/,/^(?:[ ]['][']['][ ])/,/^(?:[\^;]+)/,/^(?:[.]["])/,/^(?:["])/,/^(?:[']+)/,/^(?:[.][,]?[ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[.]*[<])/,/^(?:[.]*[>])/,/^(?:[.]*\])/,/^(?:[.]*\])/,/^(?:!)/,/^(?:[_]&)/,/^(?:&)/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:#?(\d*\.?\d+))/,/^(?:[,]*[?])/,/^(?:[,]*[/])/,/^(?:[,]*#)/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,][=])/,/^(?:[_][8])/,/^(?:[,][ ]?)/,/^(?:[.])/,/^(?:[ ])/,/^(?:$)/,/^(?:.)/],conditions:{radical:{rules:[0,1,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75],inclusive:!0},modexp:{rules:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75],inclusive:!0},INITIAL:{rules:[2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75],inclusive:!0}}};function J(){this.yy={}}return K.lexer=W,J.prototype=K,K.Parser=J,new J}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),e.exit(1));var i=n(4).readFileSync(n(5).normalize(r[1]),"utf8");return t.parser.parse(i)},void 0!==r&&n.c[n.s]===r&&t.main(e.argv.slice(1))}).call(t,n(1),n(8)(e))},function(e,t,n){(function(e,r){var i=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,15],n=[1,16],r=[1,17],i=[1,36],o=[1,18],a=[1,37],s=[1,38],l=[1,14],c=[1,46],d=[1,47],p=[1,39],u=[1,40],h=[1,41],g=[1,56],m=[1,42],f=[1,43],y=[1,44],b=[1,45],x=[1,54],_=[1,55],v=[1,57],w=[1,58],A=[1,59],k=[1,60],E=[1,61],I=[1,62],M=[1,63],S=[1,64],C=[1,65],T=[1,66],D=[1,67],P=[1,68],O=[1,69],B=[1,70],L=[1,71],F=[1,72],N=[1,73],R=[1,74],q=[1,75],G=[1,76],Q=[1,48],z=[1,49],U=[1,50],j=[1,51],Y=[1,52],V=[1,77],H=[1,53],K=[5,14,18,19,29,52,53,54],W=[5,10,13,14,15,18,19,29,52,53,54],J=[5,10,13,14,15,17,18,19,21,23,24,28,29,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88],$=[1,85],X=[1,86],Z=[1,87],ee=[10,13,15,17,21,23,24,28,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88],te={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,expression_group:6,delimited_expression:7,level:8,radical:9,LEVEL:10,basic_token:11,bracketed_expression:12,RADICAL_WITH_INDEX:13,CLOSE_RADICAL:14,RADICAL:15,frac:16,OPEN_FRAC:17,OVER:18,CLOSE_FRAC:19,simple_frac:20,NUMBER:21,NUMBER_FRAC_DENOMINATOR:22,NUMBER_FRAC_NUMERATOR_BAD:23,NUMBER_FRAC_DENOMINATOR_BAD:24,atom:25,lbracket:26,rbracket:27,OPEN_GROUP:28,CLOSE_GROUP:29,command:30,greek:31,letter:32,comma:33,period:34,colon:35,infinity:36,integral:37,factorial:38,ampersand:39,question_mark:40,bracket:41,space:42,operation:43,comparison:44,ellipsis:45,primes:46,",":47,".":48,"[":49,"{":50,"(":51,"]":52,"}":53,")":54,SPACE:55,COMMAND:56,GREEK:57,CAPITAL_LETTER:58,LETTER:59,PIPE:60,DOUBLE_PIPE:61,"+":62,"-":63,CDOT:64,TIMES:65,"*":66,DIV:67,SLASH:68,PERCENT:69,TO:70,"=":71,NEQ:72,"<":73,">":74,LEQ:75,APPROX:76,GEQ:77,TILDE:78,PARALLEL:79,PERPENDICULAR:80,ELLIPSIS:81,COLON:82,INFINITY:83,INTEGRAL:84,FACTORIAL:85,"&":86,PRIMES:87,"?":88,unknown:89,UNKNOWN:90,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"LEVEL",13:"RADICAL_WITH_INDEX",14:"CLOSE_RADICAL",15:"RADICAL",17:"OPEN_FRAC",18:"OVER",19:"CLOSE_FRAC",21:"NUMBER",22:"NUMBER_FRAC_DENOMINATOR",23:"NUMBER_FRAC_NUMERATOR_BAD",24:"NUMBER_FRAC_DENOMINATOR_BAD",28:"OPEN_GROUP",29:"CLOSE_GROUP",47:",",48:".",49:"[",50:"{",51:"(",52:"]",53:"}",54:")",55:"SPACE",56:"COMMAND",57:"GREEK",58:"CAPITAL_LETTER",59:"LETTER",60:"PIPE",61:"DOUBLE_PIPE",62:"+",63:"-",64:"CDOT",65:"TIMES",66:"*",67:"DIV",68:"SLASH",69:"PERCENT",70:"TO",71:"=",72:"NEQ",73:"<",74:">",75:"LEQ",76:"APPROX",77:"GEQ",78:"TILDE",79:"PARALLEL",80:"PERPENDICULAR",81:"ELLIPSIS",82:"COLON",83:"INFINITY",84:"INTEGRAL",85:"FACTORIAL",86:"&",87:"PRIMES",88:"?",90:"UNKNOWN"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[7,1],[7,1],[8,2],[8,2],[8,2],[9,4],[9,3],[9,3],[9,2],[9,4],[9,3],[9,2],[16,5],[16,4],[16,4],[16,3],[16,2],[20,2],[20,1],[20,1],[11,1],[11,1],[11,1],[6,2],[6,2],[6,1],[6,1],[12,3],[12,2],[12,3],[12,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[33,1],[34,1],[26,1],[26,1],[26,1],[27,1],[27,1],[27,1],[42,1],[30,1],[31,1],[32,1],[32,1],[41,1],[41,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[45,1],[35,1],[36,1],[37,1],[38,1],[39,1],[46,1],[40,1],[89,1]],performAction:function(e,t,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:return r.group();case 3:case 35:this.$=r.group(o[s-2],o[s-1],o[s]);break;case 4:case 6:case 31:case 32:case 36:this.$=r.group(o[s-1],o[s]);break;case 5:case 7:case 33:case 34:this.$=r.group(o[s]);break;case 10:case 11:case 12:this.$=r.basic_level(o[s-1],r.group(o[s]));break;case 13:case 17:this.$=r.radical(o[s-1],r.group(o[s-2]));break;case 14:case 15:this.$=r.radical(r.group(),r.group(o[s-1]));break;case 16:this.$=r.radical(r.group(),r.group());break;case 18:this.$=r.radical(o[s-1]);break;case 19:this.$=r.radical(r.group());break;case 20:this.$=r.fraction(o[s-3],o[s-1]);break;case 21:this.$=r.fraction(o[s-2],r.group());break;case 22:this.$=r.fraction(r.group(),o[s-1]);break;case 23:case 24:this.$=r.fraction(r.group(),r.group());break;case 25:this.$=r.fraction(r.group(r.terminal(r.to_number(o[s-1]))),r.group(r.terminal(r.to_number(o[s]))));break;case 26:this.$=r.fraction(r.group(r.terminal(r.to_number(o[s]))),r.group());break;case 27:this.$=r.fraction(r.group(),r.group(r.terminal(r.to_number(o[$01]))));break;case 37:this.$=r.group(o[s-1]);break;case 38:this.$=r.group();break;case 39:this.$=r.terminal(r.to_number(o[s]));break;case 57:this.$=r.terminal(",");break;case 58:this.$=r.terminal(".");break;case 59:this.$=r.terminal("[");break;case 60:this.$=r.terminal("\\{");break;case 61:this.$=r.terminal("(");break;case 62:this.$=r.terminal("]");break;case 63:this.$=r.terminal("\\}");break;case 64:this.$=r.terminal(")");break;case 65:this.$=r.terminal(" ");break;case 66:this.$=r.command("\\"+o[s].trim().toLowerCase());break;case 67:this.$=r.terminal(r.greek(o[s]));break;case 68:this.$=r.terminal(o[s].toUpperCase());break;case 69:this.$=r.terminal(o[s].toLowerCase());break;case 70:this.$=r.terminal("|");break;case 71:this.$=r.terminal("\\|");break;case 72:this.$=r.terminal("+");break;case 73:this.$=r.terminal("-");break;case 74:this.$=r.terminal("\\cdot ");break;case 75:this.$=r.terminal("\\times ");break;case 76:this.$=r.terminal("*");break;case 77:this.$=r.terminal("\\div ");break;case 78:this.$=r.terminal("/");break;case 79:this.$=r.terminal("\\%");break;case 80:this.$=r.terminal("\\to ");break;case 81:this.$=r.terminal("=");break;case 82:this.$=r.terminal("\\neq ");break;case 83:this.$=r.terminal("<");break;case 84:this.$=r.terminal(">");break;case 85:this.$=r.terminal("\\leq ");break;case 86:this.$=r.terminal("\\approx ");break;case 87:this.$=r.terminal("\\geq ");break;case 88:this.$=r.terminal("\\sim ");break;case 89:this.$=r.terminal("\\parallel ");break;case 90:this.$=r.terminal("\\perp ");break;case 91:this.$=r.terminal("\\ldots ");break;case 92:this.$=r.terminal(":");break;case 93:this.$=r.terminal("\\infty ");break;case 94:this.$=r.terminal("\\int ");break;case 95:this.$=r.terminal("!");break;case 96:this.$=r.terminal("\\&");break;case 97:this.$=r.primes(o[s]);break;case 98:this.$=r.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:l,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H},{1:[3]},{5:[1,78]},{1:[2,2]},e(K,[2,5],{8:8,9:9,7:79,10:t,13:n,15:r}),e(K,[2,7],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:80,10:t,13:n,15:r,17:i,21:o,23:a,24:s,28:l,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H}),e(W,[2,33],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:81,17:i,21:o,23:a,24:s,28:l,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H}),e(W,[2,34],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:82,17:i,21:o,23:a,24:s,28:l,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H}),e(J,[2,8]),e(J,[2,9]),e(J,[2,28]),e(J,[2,29]),e(J,[2,30]),{4:83,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,27:84,28:l,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:c,48:d,49:p,50:u,51:h,52:$,53:X,54:Z,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H},{4:88,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:l,29:[1,89],30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H},{9:92,11:90,12:91,13:n,15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:l,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H},{11:93,12:94,14:[1,95],16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:l,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H},{4:96,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,14:[1,97],15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:l,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H},e(J,[2,39],{22:[1,98]}),e(J,[2,40]),e(J,[2,41]),e(J,[2,42]),e(J,[2,43]),e(J,[2,44]),e(J,[2,45]),e(J,[2,46]),e(J,[2,47]),e(J,[2,48]),e(J,[2,49]),e(J,[2,50]),e(J,[2,51]),e(J,[2,52]),e(J,[2,53]),e(J,[2,54]),e(J,[2,55]),e(J,[2,56]),{4:99,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,18:[1,100],19:[1,101],20:12,21:o,23:a,24:s,25:10,26:13,28:l,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H},e(J,[2,26]),e(J,[2,27]),e(ee,[2,59]),e(ee,[2,60]),e(ee,[2,61]),e(J,[2,66]),e(J,[2,67]),e(J,[2,68]),e(J,[2,69]),e(J,[2,57]),e(J,[2,58]),e(J,[2,92]),e(J,[2,93]),e(J,[2,94]),e(J,[2,95]),e(J,[2,96]),e(J,[2,98]),e(J,[2,70]),e(J,[2,71]),e(J,[2,65]),e(J,[2,72]),e(J,[2,73]),e(J,[2,74]),e(J,[2,75]),e(J,[2,76]),e(J,[2,77]),e(J,[2,78]),e(J,[2,79]),e(J,[2,80]),e(J,[2,81]),e(J,[2,82]),e(J,[2,83]),e(J,[2,84]),e(J,[2,85]),e(J,[2,86]),e(J,[2,87]),e(J,[2,88]),e(J,[2,89]),e(J,[2,90]),e(J,[2,91]),e(J,[2,97]),{1:[2,1]},e(K,[2,4],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:102,10:t,13:n,15:r,17:i,21:o,23:a,24:s,28:l,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H}),e(K,[2,6]),e(W,[2,31]),e(W,[2,32]),{27:103,52:$,53:X,54:Z},e(J,[2,36]),e(J,[2,62]),e(J,[2,63]),e(J,[2,64]),{29:[1,104]},e(J,[2,38]),e(J,[2,10]),e(J,[2,11]),e(J,[2,12]),{4:105,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,14:[1,106],15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:l,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H},{4:108,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,14:[1,107],15:r,16:11,17:i,20:12,21:o,23:a,24:s,25:10,26:13,28:l,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H},e(J,[2,16]),{14:[1,109]},e(J,[2,19]),e(J,[2,25]),{18:[1,110]},{4:111,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,19:[1,112],20:12,21:o,23:a,24:s,25:10,26:13,28:l,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H},e(J,[2,24]),e(K,[2,3]),e(J,[2,35]),e(J,[2,37]),{14:[1,113]},e(J,[2,15]),e(J,[2,14]),{14:[1,114]},e(J,[2,18]),{4:115,6:4,7:5,8:8,9:9,10:t,11:6,12:7,13:n,15:r,16:11,17:i,19:[1,116],20:12,21:o,23:a,24:s,25:10,26:13,28:l,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:c,48:d,49:p,50:u,51:h,55:g,56:m,57:f,58:y,59:b,60:x,61:_,62:v,63:w,64:A,65:k,66:E,67:I,68:M,69:S,70:C,71:T,72:D,73:P,74:O,75:B,76:L,77:F,78:N,79:R,80:q,81:G,82:Q,83:z,84:U,85:j,86:Y,87:V,88:H},{19:[1,117]},e(J,[2,23]),e(J,[2,13]),e(J,[2,17]),{19:[1,118]},e(J,[2,21]),e(J,[2,22]),e(J,[2,20])],defaultActions:{3:[2,2],78:[2,1]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,l=0,c=0,d=i.slice.call(arguments,1),p=Object.create(this.lexer),u={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(u.yy[h]=this.yy[h]);p.setInput(e,u.yy),u.yy.lexer=p,u.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var g=p.yylloc;i.push(g);var m=p.options&&p.options.ranges;"function"==typeof u.yy.parseError?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var f,y,b,x,_,v,w,A,k,E,I={};;){if(b=n[n.length-1],this.defaultActions[b]?x=this.defaultActions[b]:(null==f&&(E=void 0,"number"!=typeof(E=p.lex()||1)&&(E=t.symbols_[E]||E),f=E),x=o[b]&&o[b][f]),void 0===x||!x.length||!x[0]){var M="";for(v in k=[],o[b])this.terminals_[v]&&v>2&&k.push("'"+this.terminals_[v]+"'");M=p.showPosition?"Parse error on line "+(s+1)+":\n"+p.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[f]||f,line:p.yylineno,loc:g,expected:k})}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+f);switch(x[0]){case 1:n.push(f),r.push(p.yytext),i.push(p.yylloc),n.push(x[1]),f=null,y?(f=y,y=null):(l=p.yyleng,a=p.yytext,s=p.yylineno,g=p.yylloc,c>0&&c--);break;case 2:if(w=this.productions_[x[1]][1],I.$=r[r.length-w],I._$={first_line:i[i.length-(w||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(w||1)].first_column,last_column:i[i.length-1].last_column},m&&(I._$.range=[i[i.length-(w||1)].range[0],i[i.length-1].range[1]]),void 0!==(_=this.performAction.apply(I,[a,l,s,u.yy,x[1],r,i].concat(d))))return _;w&&(n=n.slice(0,-1*w*2),r=r.slice(0,-1*w),i=i.slice(0,-1*w)),n.push(this.productions_[x[1]][0]),r.push(I.$),i.push(I._$),A=o[n[n.length-2]][n[n.length-1]],n.push(A);break;case 3:return!0}}return!0}},ne={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:return void this.begin("captext");case 1:return 58;case 2:return this.popState(),58;case 3:return 62;case 4:return 63;case 5:return 64;case 6:return 65;case 7:return 66;case 8:return 67;case 9:return 49;case 10:return 50;case 11:return 51;case 12:return 52;case 13:return 53;case 14:return 54;case 15:return 72;case 16:return 75;case 17:return 76;case 18:return 77;case 19:return 71;case 20:return 73;case 21:return 74;case 22:return 78;case 23:return 69;case 24:return 70;case 25:return 81;case 26:return 13;case 27:return 15;case 28:return 14;case 29:return 10;case 30:return 28;case 31:return 29;case 32:return 84;case 33:return 85;case 34:return 86;case 35:return 17;case 36:return 18;case 37:return 19;case 38:return 79;case 39:return 80;case 40:return 83;case 41:return t.yytext=this.matches[1],21;case 42:return t.yytext=this.matches[1],22;case 43:return t.yytext=this.matches[1],24;case 44:return 68;case 45:return 47;case 46:return 48;case 47:return 87;case 48:return 61;case 49:return 60;case 50:return 82;case 51:case 52:return 56;case 53:return 57;case 54:return t.yytext=this.matches[1],58;case 55:return 59;case 56:case 58:return;case 57:return 88;case 59:return 55;case 60:return 5;case 61:return 90}},rules:[/^(?:([,][,])(?=[A-Z]))/,/^(?:[A-Z](?=[A-Z]))/,/^(?:[A-Z])/,/^(?:["][6])/,/^(?:["][-])/,/^(?:["][4])/,/^(?:["][8])/,/^(?:["][9])/,/^(?:["][/])/,/^(?:[.][<])/,/^(?:[_][<])/,/^(?:["][<])/,/^(?:[.][>])/,/^(?:[_][>])/,/^(?:["][>])/,/^(?:["][7][@][:])/,/^(?:[_][@][<])/,/^(?:[\^][9])/,/^(?:[_][@][>])/,/^(?:["][7])/,/^(?:[@][<])/,/^(?:[@][>])/,/^(?:[@][9])/,/^(?:[.][0])/,/^(?:[:][O])/,/^(?:[4][4][4])/,/^(?:[%][9])/,/^(?:[%])/,/^(?:[\+])/,/^(?:[95]+(?=.))/,/^(?:[<])/,/^(?:[>])/,/^(?:!)/,/^(?:[6])/,/^(?:[@]&)/,/^(?:[(])/,/^(?:[.][/])/,/^(?:[)])/,/^(?:#[L])/,/^(?:#-)/,/^(?:#=)/,/^(?:#([A-J4]+))/,/^(?:[/]([A-J4]+))/,/^(?:[#][/]([A-J4]+))/,/^(?:[_]?[/])/,/^(?:[1])/,/^(?:[4])/,/^(?:[7]+)/,/^(?:[_][\\][_][\\])/,/^(?:[_][\\])/,/^(?:[3])/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:[,]?[.][ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,]['])/,/^(?:[8])/,/^(?:[;])/,/^(?:[ ])/,/^(?:$)/,/^(?:.)/],conditions:{captext:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61],inclusive:!0},INITIAL:{rules:[0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61],inclusive:!0}}};function re(){this.yy={}}return te.lexer=ne,re.prototype=te,te.Parser=re,new re}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),e.exit(1));var i=n(4).readFileSync(n(5).normalize(r[1]),"utf8");return t.parser.parse(i)},void 0!==r&&n.c[n.s]===r&&t.main(e.argv.slice(1))}).call(t,n(1),n(8)(e))},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(7),o={"~":"\\ ","\\,":"\\ ","\\:":"\\ ","\\;":"\\ ","\\!":"\\ "},a={"\\Vert":"\\|","\\ge":"\\geq","\\le":"\\leq","\\vert":"|"},s={"\\space":!0};function l(e){for(var t=[],n=0,r=e;n<r.length;n++){var o=r[n];t.push(i.terminal(o))}return t}function c(e){for(var t=0,n=0;n<Math.min(3,e.length);n++){var r=e[n];"terminal"===r.type&&"."===r.value&&t++}return 3===t}t.default=function e(t){for(var n=[],d=0;d<t.length;d++){var p=t[d];switch(p.type){case"command":var u=p.value.slice(1).trim();a.hasOwnProperty(p.value)?n.push(i.command(a[p.value])):r.containsValue(u)?n.push(i.typeform("operator_name",l(u))):s[p.value]||n.push(p);break;case"level":var h={subscript:p.subscript&&p.subscript.length>0?e(p.subscript):void 0,superscript:p.superscript&&p.superscript.length>0?e(p.superscript):void 0,type:p.type};(h.subscript||h.superscript)&&n.push(h);break;case"fraction":n.push({denominator:e(p.denominator),numerator:e(p.numerator),type:p.type});break;case"radical":n.push({index:p.index?e(p.index):void 0,radicand:e(p.radicand),type:p.type});break;case"terminal":c(t.slice(d))?(n.push({type:"command",value:"\\ldots"}),d+=2):n.push({type:p.type,value:o.hasOwnProperty(p.value)?o[p.value]:p.value});break;case"typeform":n.push(p);break;case"greek":n.push({type:p.type,value:o.hasOwnProperty(p.value)?o[p.value]:p.value});break;default:throw new Error("Unexpected item:\n"+JSON.stringify({group:t,item:p}))}}return n}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(13),o=n(7);i.parser.yy=o,t.default=function(e){try{return{isError:!1,value:i.parser.parse(e)}}catch(e){return{isError:!0,error:r.default(e)}}}},function(e,t,n){(function(e,r){var i=function(){var e=function(e,t,n,r){for(n=n||{},r=e.length;r--;n[e[r]]=t);return n},t=[1,13],n=[1,14],r=[1,15],i=[1,16],o=[1,17],a=[1,21],s=[1,18],l=[1,19],c=[1,20],d=[1,22],p=[1,23],u=[1,28],h=[1,30],g=[1,31],m=[1,32],f=[1,33],y=[1,29],b=[5,21,27,38],x=[5,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],_=[5,10,12,13,14,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],v=[5,10,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],w={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,level:6,expression:7,subscript:8,superscript:9,_:10,atom:11,"^":12,"PRIMES^":13,PRIMES:14,delimited_group:15,typeform:16,frac:17,radical:18,LEFT:19,delimiter:20,RIGHT:21,FRAC:22,OPERATOR_NAME:23,MATHRM:24,TEXT:25,RADICAL_OPTARG:26,CLOSE_OPTARG:27,RADICAL:28,curly_group:29,greek:30,command:31,SYMBOL:32,DELIMITER:33,DELIMITER_COMMAND:34,GREEK:35,COMMAND:36,"{":37,"}":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"_",12:"^",13:"PRIMES^",14:"PRIMES",19:"LEFT",21:"RIGHT",22:"FRAC",23:"OPERATOR_NAME",24:"MATHRM",25:"TEXT",26:"RADICAL_OPTARG",27:"CLOSE_OPTARG",28:"RADICAL",32:"SYMBOL",33:"DELIMITER",34:"DELIMITER_COMMAND",35:"GREEK",36:"COMMAND",37:"{",38:"}"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[6,2],[6,2],[6,1],[6,1],[8,2],[9,2],[9,2],[9,1],[7,1],[7,1],[7,1],[7,1],[7,1],[15,5],[15,4],[17,3],[16,2],[16,2],[16,2],[18,4],[18,3],[18,2],[18,2],[11,1],[11,1],[11,1],[11,1],[11,1],[20,1],[20,1],[30,1],[31,1],[29,3],[29,2]],performAction:function(e,t,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 2:return r.group();case 3:this.$=r.group(o[s-2],o[s-1],o[s]);break;case 4:case 6:this.$=r.group(o[s-1],o[s]);break;case 5:case 7:this.$=r.group(o[s]);break;case 8:this.$=r.level({_:r.group(o[s-1]),"^":r.group(o[s])});break;case 9:this.$=r.level({_:r.group(o[s]),"^":r.group(o[s-1])});break;case 10:this.$=r.level({"^":r.group(o[s])});break;case 11:this.$=r.level({_:r.group(o[s])});break;case 12:case 13:this.$=o[s];break;case 14:this.$=r.processPrimes(o[s-1],o[s]);break;case 15:this.$=r.processPrimes(o[s],r.group());break;case 21:this.$=r.group(o[s-3],o[s-2],o[s]);break;case 22:this.$=r.group(o[s-2],o[s]);break;case 23:this.$=r.fraction(r.group(o[s-1]),r.group(o[s]));break;case 24:this.$=r.typeform("operator_name",r.group(o[s]));break;case 25:this.$=r.typeform("mathrm",r.group(o[s]));break;case 26:this.$=r.typeform("text",r.group(o[s]));break;case 27:this.$=r.radical(o[s],r.group(o[s-2]));break;case 28:this.$=r.radical(r.group(o[s]),r.group());break;case 29:case 30:this.$=r.radical(r.group(o[s]));break;case 35:case 36:this.$=r.terminal(o[s]);break;case 37:case 39:this.$=r.command(o[s]);break;case 38:this.$=r.greek(o[s]);break;case 40:this.$=o[s-1];break;case 41:this.$=r.group()}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:t,11:12,12:n,13:r,14:i,15:8,16:9,17:10,18:11,19:o,20:25,22:a,23:s,24:l,25:c,26:d,28:p,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},{1:[3]},{5:[1,34]},{1:[2,2]},e(b,[2,5],{15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,7:35,19:o,22:a,23:s,24:l,25:c,26:d,28:p,32:u,33:h,34:g,35:m,36:f,37:y}),e(b,[2,7],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,4:36,10:t,12:n,13:r,14:i,19:o,22:a,23:s,24:l,25:c,26:d,28:p,32:u,33:h,34:g,35:m,36:f,37:y}),e(x,[2,11],{9:37,12:n,13:r,14:i}),e(x,[2,10],{8:38,10:t}),e(_,[2,16]),e(_,[2,17]),e(_,[2,18]),e(_,[2,19]),e(_,[2,20]),{11:39,20:25,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},{11:40,20:25,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},{11:41,20:25,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},e(v,[2,15]),{20:42,33:h,34:g},{11:43,20:25,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},{11:44,20:25,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},{11:45,20:25,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},{11:46,20:25,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},{4:47,6:4,7:5,8:6,9:7,10:t,11:12,12:n,13:r,14:i,15:8,16:9,17:10,18:11,19:o,20:25,22:a,23:s,24:l,25:c,26:d,27:[1,48],28:p,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},{11:49,17:50,20:25,22:a,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},e(_,[2,31]),e(_,[2,32]),e(_,[2,33]),e(_,[2,34]),e(_,[2,35]),{4:51,6:4,7:5,8:6,9:7,10:t,11:12,12:n,13:r,14:i,15:8,16:9,17:10,18:11,19:o,20:25,22:a,23:s,24:l,25:c,26:d,28:p,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y,38:[1,52]},e(_,[2,36]),e(_,[2,37]),e(_,[2,38]),e(_,[2,39]),{1:[2,1]},e(b,[2,4],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,4:53,10:t,12:n,13:r,14:i,19:o,22:a,23:s,24:l,25:c,26:d,28:p,32:u,33:h,34:g,35:m,36:f,37:y}),e(b,[2,6]),e(x,[2,8]),e(x,[2,9]),e([5,12,13,14,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],[2,12]),e(v,[2,13]),e(v,[2,14]),{4:54,6:4,7:5,8:6,9:7,10:t,11:12,12:n,13:r,14:i,15:8,16:9,17:10,18:11,19:o,20:25,21:[1,55],22:a,23:s,24:l,25:c,26:d,28:p,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},e(_,[2,24]),e(_,[2,25]),e(_,[2,26]),{11:56,20:25,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},{27:[1,57]},{11:58,20:25,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},e(_,[2,29]),e(_,[2,30]),{38:[1,59]},e(_,[2,41]),e(b,[2,3]),{21:[1,60]},{20:61,33:h,34:g},e(_,[2,23]),{11:62,20:25,29:24,30:26,31:27,32:u,33:h,34:g,35:m,36:f,37:y},e(_,[2,28]),e(_,[2,40]),{20:63,33:h,34:g},e(_,[2,22]),e(_,[2,27]),e(_,[2,21])],defaultActions:{3:[2,2],34:[2,1]},parseError:function(e,t){if(!t.recoverable){var n=new Error(e);throw n.hash=t,n}this.trace(e)},parse:function(e){var t=this,n=[0],r=[null],i=[],o=this.table,a="",s=0,l=0,c=0,d=i.slice.call(arguments,1),p=Object.create(this.lexer),u={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(u.yy[h]=this.yy[h]);p.setInput(e,u.yy),u.yy.lexer=p,u.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var g=p.yylloc;i.push(g);var m=p.options&&p.options.ranges;"function"==typeof u.yy.parseError?this.parseError=u.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var f,y,b,x,_,v,w,A,k,E,I={};;){if(b=n[n.length-1],this.defaultActions[b]?x=this.defaultActions[b]:(null==f&&(E=void 0,"number"!=typeof(E=p.lex()||1)&&(E=t.symbols_[E]||E),f=E),x=o[b]&&o[b][f]),void 0===x||!x.length||!x[0]){var M="";for(v in k=[],o[b])this.terminals_[v]&&v>2&&k.push("'"+this.terminals_[v]+"'");M=p.showPosition?"Parse error on line "+(s+1)+":\n"+p.showPosition()+"\nExpecting "+k.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[f]||f,line:p.yylineno,loc:g,expected:k})}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+b+", token: "+f);switch(x[0]){case 1:n.push(f),r.push(p.yytext),i.push(p.yylloc),n.push(x[1]),f=null,y?(f=y,y=null):(l=p.yyleng,a=p.yytext,s=p.yylineno,g=p.yylloc,c>0&&c--);break;case 2:if(w=this.productions_[x[1]][1],I.$=r[r.length-w],I._$={first_line:i[i.length-(w||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(w||1)].first_column,last_column:i[i.length-1].last_column},m&&(I._$.range=[i[i.length-(w||1)].range[0],i[i.length-1].range[1]]),void 0!==(_=this.performAction.apply(I,[a,l,s,u.yy,x[1],r,i].concat(d))))return _;w&&(n=n.slice(0,-1*w*2),r=r.slice(0,-1*w),i=i.slice(0,-1*w)),n.push(this.productions_[x[1]][0]),r.push(I.$),i.push(I._$),A=o[n[n.length-2]][n[n.length-1]],n.push(A);break;case 3:return!0}}return!0}},A={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!t||n[0].length>t[0].length)){if(t=n,r=o,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,i[o])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[r]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,n,r){switch(n){case 0:break;case 1:return this.begin("optarg"),26;case 2:return this.popState(),27;case 3:return 23;case 4:return 24;case 5:return 25;case 6:return 28;case 7:return 22;case 8:return 13;case 9:return 14;case 10:return 12;case 11:return 10;case 12:return 19;case 13:return 21;case 14:return 34;case 15:return 33;case 16:return 37;case 17:return 38;case 18:case 19:case 20:case 24:return 32;case 21:case 22:return 35;case 23:return 36;case 25:return 5}},rules:[/^(?:\s+)/,/^(?:(\\sqrt)\s*\[)/,/^(?:\])/,/^(?:(\\operatorname))/,/^(?:(\\mathrm))/,/^(?:(\\text))/,/^(?:(\\sqrt))/,/^(?:(\\frac))/,/^(?:'+\^)/,/^(?:'+)/,/^(?:\^)/,/^(?:[_])/,/^(?:(\\left))/,/^(?:(\\right))/,/^(?:(\\langle|\\rangle|\\vert|\\Vert))/,/^(?:\[|\]|\\\{|\\\}|\(|\)|\||\\\|)/,/^(?:\{)/,/^(?:\})/,/^(?:\\(infty))/,/^(?:\\(int))/,/^(?:!)/,/^(?:\\(alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|omicron|pi|rho|sigma|tau|xi|upsilon|phi|chi|psi|omega))/,/^(?:\\(Alpha|Beta|Gamma|Delta|Epsilon|Zeta|Eta|Theta|Iota|Kappa|Lambda|Mu|Nu|Omicron|Pi|Rho|Sigma|Tau|Xi|Upsilon|Phi|Chi|Psi|Omega))/,/^(?:\\[A-Za-z]+)/,/^(?:\\.|.)/,/^(?:$)/],conditions:{optarg:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!0},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!0}}};function k(){this.yy={}}return w.lexer=A,k.prototype=w,w.Parser=k,new k}();t.parser=i,t.Parser=i.Parser,t.parse=function(){return i.parse.apply(i,arguments)},t.main=function(r){r[1]||(console.log("Usage: "+r[0]+" FILE"),e.exit(1));var i=n(4).readFileSync(n(5).normalize(r[1]),"utf8");return t.parser.parse(i)},void 0!==r&&n.c[n.s]===r&&t.main(e.argv.slice(1))}).call(t,n(1),n(8)(e))},function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(11),o=n(12),a=n(0);t.default=function(e){return a.map(o.default(e),(function(e){return function(e){var t={isStartOfLine:!0,levelIndicator:"",radicalLevel:0,wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1};return y(t,e).value}(i.default(e))}))};var s={"!":"&","*":"@#",",":", ","/":"_/",":":"_3","<":' "K ',"=":" .K ",">":" .1 ","?":"_8","[":"@(","\\ ":" ","\\%":"@0","\\&":"_&","\\,":" ","\\infty":",=","\\int":"!","\\{":".(","\\|":"\\\\","\\}":".)","]":"@)","|":"\\"};function l(e){return/^[a-z]$/.test(e.value)?e.value.toUpperCase():/^[A-Z]$/.test(e.value)?","+e.value:/^[0-9.]$/.test(e.value)||/^[+\-()]$/.test(e.value)?e.value:s.hasOwnProperty(e.value)?s[e.value]:"[terminal: "+e.value+"]"}var c={"\\Vert":"\\\\","\\cdot":"*","\\div":"./","\\ge":" .1: ","\\geq":" .1: ","\\langle":"..(","\\ldots":" ''' ","\\le":' "K: ',"\\leq":' "K: ',"\\ne":" /.K ","\\neq":" /.K ","\\approx":" @:@: ","\\nparallel":" /$L ","\\parallel":" $L ","\\perp":" $P ","\\prime":"'","\\prod":".,P","\\rangle":"..)","\\sim":"@:","\\sum":".,S","\\times":"@*","\\to":" $O ","\\vert":"\\"},d={"\\Alpha":".,A","\\Beta":".,B","\\Chi":".,&","\\Delta":".,D","\\Epsilon":".,E","\\Eta":".,:","\\Gamma":".,G","\\Iota":".,I","\\Kappa":".,K","\\Lambda":".,L","\\Mu":".,M","\\Nu":".,N","\\Omega":".,W","\\Omicron":".,O","\\Phi":".,F","\\Pi":".,P","\\Psi":".,Y","\\Rho":".,R","\\Sigma":".,S","\\Tau":".,T","\\Theta":".,?","\\Upsilon":".,U","\\Xi":".,X","\\Zeta":".,Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"};function p(e){return c.hasOwnProperty(e.value)?c[e.value]:e.value.slice(1).toUpperCase()+" "}function u(e){return d.hasOwnProperty(e.value)?d[e.value]:e.value.slice(1).toUpperCase()+" "}function h(e){return"\\space"===e.value}function g(e,t){return e.isStartOfLine&&/^-?$/.test(t)||/\s-?$/.test(t)||e.wasFraction}function m(e){return"\\sum"===e.value||"\\prod"===e.value}function f(e,t){if(t>=e.length)return!1;var n=e[t];if("terminal"===n.type){if(/^[0-9]$/.test(n.value))return!0;if("."!==n.value||t+1>=e.length)return!1;if("terminal"===(n=e[t+1]).type)return/^[0-9]$/.test(n.value)}return!1}function y(e,t){for(var n="",r=e.levelIndicator,i=0,o=!1,a=0;a<t.length;a++){f(t,a)&&(""===r&&/[A-Z]$/.test(n)?n+=v(r):g(e,n)&&(n+="#"));var s=t[a],c=a<t.length-1?t[a+1]:null;switch("level"!==s.type&&r!==e.levelIndicator&&(A(s)?r="":(e.wasModifiedExpression&&""===e.levelIndicator?e=w(e,{wasModifiedExpression:!1}):n+=v(e.levelIndicator),r=e.levelIndicator)),s.type){case"terminal":!e.wasModifiedExpression&&""!==r&&A(s)?n+=" "+v(r)+l(s).trim()+" ":n+=l(s),"."===s.value&&c&&("terminal"===c.type&&/^[^_\d,]/.test(l(c))||"greek"===c.type)&&(n+='"'),e=w(e,{wasFraction:!1,wasRomanCommand:!1});break;case"command":if(!h(s)){var d=m(s);d&&(n+='"'),!d&&""!==r&&A(s)?n+=" "+v(r)+p(s).trim()+" ":n+=p(s),e=w(e,{wasFraction:!1,wasModifiedExpression:d,wasRomanCommand:!0})}break;case"greek":n+=u(s),e=w(e,{wasFraction:!1});break;case"fraction":var k=b(e,s);n+=k.value,i=Math.max(i,k.fractionLevel),e=w(e,{wasFraction:!0,wasRomanCommand:!1});break;case"radical":var E=x(e,s);n+=E.value,i=Math.max(i,E.fractionLevel),e=w(e,{wasFraction:!1,wasRomanCommand:!1});break;case"level":!e.wasModifiedExpression&&e.wasRomanCommand?(o=/\s$/.test(n))&&(n=n.replace(/\s$/,"")):o=!1;var I=_(e,n.length>0&&!0===/[A-Za-z]/.test(n[n.length-1]),o,s);n+=I.value,r=I.levelIndicator,e=w(e,{wasFraction:!1,wasRomanCommand:!1});break;case"typeform":n+=y(e,s.value).value,"operator_name"===s.name&&(n+=" "),e=w(e,{wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1})}}return{fractionLevel:i,levelIndicator:r,value:n}}function b(e,t){for(var n=y(e=w(e,{isStartOfLine:!1}),t.numerator),r=y(e,t.denominator),i=Math.max(n.fractionLevel,r.fractionLevel),o="",a=0;a<i;a++)o+=",";var s=o+"?"+n.value;return n.levelIndicator!==e.levelIndicator&&(s+=v(e.levelIndicator)),/\.$/.test(n.value)&&(s+='"'),s+=o+"/"+r.value,r.levelIndicator!==e.levelIndicator&&(s+=v(e.levelIndicator)),/\.$/.test(r.value)&&(s+='"'),{fractionLevel:i+1,value:s+=o+"#"}}function x(e,t){for(var n=e.radicalLevel,r="",i="",o=0;o<n;o++)i+=".";if(t.index){r+=i+"<";var a=y(w(e,{isStartOfLine:!1}),t.index);r+=a.value,/\.$/.test(a.value)&&(r+='"'),a.levelIndicator!==e.levelIndicator&&(r+=v(e.levelIndicator)),r+=">"}else r+=i+">";var s=y(w(e,{isStartOfLine:!1,radicalLevel:n+1}),t.radicand);return r+=s.value,/\.$/.test(s.value)&&(r+='"'),s.levelIndicator!==e.levelIndicator&&(r+=v(e.levelIndicator)),r+=i+"]",{fractionLevel:s.fractionLevel,value:r}}function _(e,t,n,r){var i=e.levelIndicator,o="",a=function(e){var t="";if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if("command"!==i.type||"\\prime"!==i.value)break;t+="'"}return t}(r.superscript);if(o+=a,r.subscript){e.wasModifiedExpression&&(o+="%");var s=y(w(e,{isStartOfLine:!1,levelIndicator:i=e.levelIndicator+";"}),r.subscript);t&&/^[0-9]*(\.|\,)?[0-9]+$/.test(s.value)&&i.length<=1?i=e.levelIndicator:!e.wasModifiedExpression&&r.subscript[0]&&"level"!==r.subscript[0].type&&(o+=v(i)),o+=s.value,/\.$/.test(s.value)&&(o+='"')}if(r.superscript){e.wasModifiedExpression&&(o+="<");var l=y(w(e,{isStartOfLine:!1,levelIndicator:i=e.levelIndicator+"^"}),r.superscript.slice(a.length));!e.wasModifiedExpression&&r.superscript[0]&&"level"!==r.superscript[0].type&&""!==l.value&&(o+=v(i)),o+=l.value,/\.$/.test(l.value)&&(o+='"')}return e.wasModifiedExpression?o+="]":e.wasRomanCommand&&n&&(o+=" ",i=i.slice(0,i.length-1)),{levelIndicator:i,value:o}}function v(e){return e||'"'}function w(e,t){return r(r({},e),t)}function A(e){return("terminal"===e.type||"command"===e.type)&&/^<|>|\=|\\leq?|\\geq?|\\neq?$/.test(e.value)}},function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=n(11),a=n(12),s=n(0);t.default=function(e){return s.map(a.default(e),(function(e){return function(e){var t={capsLock:!1,wasNumber:!1};return f(t,e).value}(o.default(e))}))};var l={"!":"6","(":'"<',")":'">',"*":'"9',"+":'"6',",":"1","-":'"-',".":"4","/":"_/",":":"3","<":"@<","=":'"7',">":"@>","?":"8","[":".<","\\ ":" ","\\%":".0","\\&":"@&","\\,":" ","\\infty":"#=","\\int":"!","\\{":"_<","\\|":"_\\_\\","\\}":"_>","]":".>","|":"_\\"};function c(e,t,n){var r="",i=t.value,o=n&&"terminal"===n.type?n.value:"";return y(i,e)&&(r+=";"),/^[\D]/.test(i)&&(e=k(e,{wasNumber:!1})),/^[a-z]$/.test(i)?e.capsLock?(e=k(e,{capsLock:!1}),r+=",'"+i.toUpperCase()):r+=i.toUpperCase():/^[A-Z]$/.test(i)?e.capsLock?r+=i:/[A-Z]/.test(o)?(e=k(e,{capsLock:!0}),r+=",,"+i):r+=","+i:(e=k(e,{capsLock:!1}),/^[0-9.]$/.test(i)?r+=function(e){for(var t="",n="A".charCodeAt(0)-1,r=0,i=e;r<i.length;r++){var o=i[r];t+=","===o?"1":"."===o?"4":"0"===o?"J":String.fromCharCode(n+Number(o))}return t}(i):l.hasOwnProperty(i)?r+=l[i]:r+="[terminal: "+i+"]"),{value:r,ctx:e}}var d={"\\Vert":"_\\_\\","\\cdot":'"4',"\\div":'"/',"\\ge":"_@>","\\geq":"_@>","\\langle":"@<","\\ldots":"444","\\le":"_@<","\\leq":"_@<","\\ne":'"7@:',"\\neq":'"7@:',"\\approx":"^9","\\parallel":"#L","\\perp":"#-","\\prime":"7","\\prod":",.P","\\rangle":"@>","\\sim":"@9","\\sum":",.S","\\times":'"8',"\\to":":O","\\vert":"_\\"},p={"\\Alpha":",.A","\\Beta":",.B","\\Chi":",.&","\\Delta":",.D","\\Epsilon":",.E","\\Eta":",.:","\\Gamma":",.G","\\Iota":",.I","\\Kappa":",.K","\\Lambda":",.L","\\Mu":",.M","\\Nu":",.N","\\Omega":",.W","\\Omicron":",.O","\\Phi":",.F","\\Pi":",.P","\\Psi":",.Y","\\Rho":",.R","\\Sigma":",.S","\\Tau":",.T","\\Theta":",.?","\\Upsilon":",.U","\\Xi":",.X","\\Zeta":",.Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"};function u(e,t){var n;return y(n=d.hasOwnProperty(e.value)?d[e.value]:e.value.slice(1).toUpperCase()+" ",t)&&(n=";"+n),/^[\D]/.test(n)&&(t=k(t,{wasNumber:!1})),{value:n,ctx:t}}function h(e){return p.hasOwnProperty(e.value)?p[e.value]:e.value.slice(1).toUpperCase()+" "}function g(e){return"\\space"===e.value}function m(e,t){if(t<e.length){var n=e[t];if("terminal"===n.type){if(/^\d$/.test(n.value))return!0;if("."!==n.value||t+1>=e.length)return!1;if("terminal"===(n=e[t+1]).type)return/^\d$/.test(n.value)}}return!1}function f(e,t){for(var n,r,i="",o=!0,a=0;a<t.length;a++){m(t,a)?(e=k(e,{wasNumber:!0}),o&&(i+="#",o=!1)):o=!0;var s=t[a];switch(s.type){case"terminal":e=(n=c(e,s,a<t.length-1?t[a+1]:void 0)).ctx," "===(i+=n.value)[i.length-1]&&(o=!0);break;case"command":g(s)||(e=(r=u(s,e)).ctx," "===(i+=r.value)[i.length-1]&&(o=!0));break;case"greek":" "===(i+=h(s))[i.length-1]&&(o=!0);break;case"fraction":var l=b(e,s);i+=l.value,e=l.ctx,o=!1;break;case"radical":i+=_(e,s).value,o=!0;break;case"level":var d=v(e,s);i+=d.value,e=d.ctx,o=!0;break;case"typeform":var p=f(e,s.value).value;i+=p,/(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?/.test(p)&&(i+=" ")}}return{ctx:e,value:i}}function y(e,t){return t.wasNumber&&/^[A-Ja-j]/.test(e)}function b(e,t){var n,r=f(e,t.numerator),i=f(e,t.denominator);return x(r.value)&&x(i.value)?(e=k(e,{wasNumber:!0}),n=r.value+"/"+i.value.slice(1)):(e=k(e,{wasNumber:!1}),n="("+r.value+"./"+i.value+")"),{ctx:e,value:n}}function x(e){return/^\#[A-J41]+$/.test(e)}function _(e,t){var n="%",r=f(e,t.radicand);if(t.index){var o=f(e,i.group(i.level({"^":t.index})));n+=o.value,/\#[A-J]$/.test(o.value)&&/^[A-J]/.test(r.value)&&(n+=";")}return{ctx:e,value:n+=r.value+"+"}}function v(e,t){var n,r="",i=function(e){var t="";if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n];if("command"!==i.type||"\\prime"!==i.value)break;t+="7"}return t}(t.superscript);if(r+=i,t.subscript){var o=f(e,t.subscript);n=A(t.subscript,o.value,0)?"<"+w(o.value)+">":o.value,e=k(e,{wasNumber:o.ctx.wasNumber}),""!==n&&(r+="5"+n)}if(t.superscript){var a=f(e,t.superscript.slice(i.length));n=A(t.superscript,a.value,i.length)?"<"+w(a.value)+">":a.value,e=k(e,{wasNumber:a.ctx.wasNumber}),(""===i||""!==n)&&(r+="9"+n)}return{ctx:e,value:r}}function w(e){return/^;/.test(e)?e.slice(1):e}function A(e,t,n){var r=e[0],i=(t.match(/\</g)||[]).length,o=/^["|\.|_]?\</.test(t),a=(t.match(/\>/g)||[]).length,s=/["|\.|_]?\>$/.test(t);return!x(t)&&e.length-n>1&&0===i&&0===a||i>0&&a>0&&(!o||!s)||i>1||a>1||r&&"typeform"===r.type}function k(e,t){return r(r({},e),t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(18),o=n(0);function a(e,t){for(var n="",i=t,o="",f=!1,y="",b="",x=function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r];if(p(i))t.push({direction:s,index:r}),n.push(c);else if(u(i)){for(;t.length&&t[t.length-1].direction===d;)t.pop();if(t.length){if(o=t.pop())n[o.index]=s,n.push(l)}else n.push(c)}else if(h(i))if(t.length&&t[t.length-1].direction===d){var o;if(o=t.pop())n[o.index]=s,n.push(l)}else t.push({direction:d,index:r}),n.push(c);else n.push(c)}return n}(e),_=0;_<e.length;_++){var v=e[_],w=_+1<e.length?e[_+1]:null;switch(v.type){case"terminal":var A=r.getAutoOperator(e.slice(_));""!==A.value?(n+=A.value,_+=A.terminalCount-1,f=f||A.modified):" "===v.value?(f?(n+=m(i,o=y),i=o):n+="\\ ",f=!1):(x[_]===s?n+="\\left":x[_]===l&&(n+="\\right"),n+=v.value);break;case"comparison":n+=m(i,o=""),i=o,f=!1,n+=v.value;break;case"level_with_comparison":n+=m(i,v.level),i=v.level,f=!1,n+=v.value;break;case"command":var k=v.value.slice(1).trim();w&&"terminal"===w.type&&/[a-z]/.test(w.value)?(n+=k,f=!1):r.containsValue(k)?(n+="\\operatorname{"+k+"}",f=!0):(n+=v.value,f=!0),y=i;break;case"expression":n+=v.value;break;case"fraction":n+=g(v.numerator,v.denominator,i);break;case"modified_expression":n+=a(v.expression,i)+" ",v.under&&(n+="_{"+a(v.under,i)+"}"),v.over&&(n+="^{"+a(v.over,i)+"}");break;case"radical":n+="\\sqrt",v.index&&(n+="["+a(v.index,i)+"]"),n+="{"+a(v.value,i)+"}";break;case"simple_subscript":""===i?(n+=v.base.value+"_{"+v.subscript.value+"}","command"===v.base.type&&(f=!0,y=i)):n+=v.base.value+v.subscript.value;break;case"level":n+=m(i,v.value,b),i=v.value,"^"===v.value&&""!==b&&(b="");break;case"primes":w&&"level"===w.type&&";"===w.value?b=v.value:""!==i?(n+=Array(v.value.length+1).join("\\prime "),b=""):(n+=v.value,b="")}}return(n+=m(i,t)+b).replace(/([^\\])( )$/,"$1")}var s=1,l=-1,c=0,d=2;function p(e){return"terminal"===e.type&&/^(\\langle |\[|\(|\\{)$/.test(e.value)}function u(e){return"terminal"===e.type&&/^(\\rangle |\]|\)|\\})$/.test(e.value)}function h(e){return"terminal"===e.type&&/^(\\\||\|)$/.test(e.value)}function g(e,t,n){return"\\frac{"+a(e,n)+"}{"+a(t,n)+"}"}function m(e,t,n){var r,i,o,a="",s=Math.max(e.length,t.length);for(r=0;r<s&&e[r]===t[r];r++);for(i=e.length-1;i>=r;i--)a+="}";for(o=r;o<t.length;o++)"^"===t[o]&&(n&&(a+=n),a+="^{"),";"===t[o]&&(a+="_{");return a}function f(e){return a(e,"")}t.default=function(e,t){return t&&t.operatorNames?r.setOperatorNames(t.operatorNames):r.resetOperatorNames(),o.map(i.default(e,t),f)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=function(e){return{type:"terminal",value:e}},t.command=function(e){return{type:"command",value:"\\"+e.trim()+" "}};var r={'"K':"<",'"K:':"\\leq ",$L:"\\parallel ",$O:"\\to ",$P:"\\perp ",".1":">",".1:":"\\geq ",".K":"=","@:@:":"\\approx","/$L":"\\nparallel ","/.K":"\\neq ","=":"=","@:":"\\sim "};function i(e){return{type:"level",value:e}}t.level_with_comparison=function(e){var t=/[\^;]+/.exec(e),n=t?t.toString():"",o=e.slice(i.length);return{type:"level_with_comparison",level:n,value:r[o]}},t.comparison=function(e){return{type:"comparison",value:r[e]}},t.level=i,t.baseline=function(){return i("")},t.primes=function(e){return{type:"primes",value:e}},t.fraction=function(e,t){return{type:"fraction",numerator:e,denominator:t}},t.modified_expression=function(e,t,n){return{type:"modified_expression",expression:e,under:t,over:n}},t.radical=function(e,t){return{type:"radical",value:e,index:t}},t.expression=function(e){return{type:"expression",value:e}},t.simple_subscript=function(e,t){return{type:"simple_subscript",base:e,subscript:t}};var o={".&":"\\chi",".,&":"\\Chi",".,:":"\\Eta",".,?":"\\Theta",".,A":"\\Alpha",".,B":"\\Beta",".,D":"\\Delta",".,E":"\\Epsilon",".,F":"\\Phi",".,G":"\\Gamma",".,I":"\\Iota",".,K":"\\Kappa",".,L":"\\Lambda",".,M":"\\Mu",".,N":"\\Nu",".,O":"\\Omicron",".,P":"\\prod",".,R":"\\Rho",".,S":"\\sum",".,T":"\\Tau",".,U":"\\Upsilon",".,W":"\\Omega",".,X":"\\Xi",".,Y":"\\Psi",".,Z":"\\Zeta",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};t.greek=function(e){if(o.hasOwnProperty(e))return o[e]+" ";throw new Error("Unknown Greek letter")},t.group=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)}},function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(9),a=n(17),s=n(20);t.default=function(e,t){t||(t={});var n=o.parser,l=Object.create(n);l.yy=a,l.yy.warnOrError=function(e){l.parseError(e,{recoverable:!1})};var c=Object.create(n);c.yy=r({warnings:[]},a),c.yy.warnOrError=function(e){c.yy.warnings.push(e)},c.lexer=s.default,n=t.strict?l:c;try{return{isError:!1,value:n.parse(e),warnings:n.yy.warnings||[]}}catch(e){return{error:i.default(e),isError:!0}}}},function(e,t,n){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(21),a=n(10),s=n(24);t.default=function(e,t){t||(t={});var n=a.parser,l=Object.create(n);l.yy=s;var c=Object.create(n);c.yy=r({warnings:[]},s),c.lexer=o.default,n=t.strict?l:c;try{return{isError:!1,value:n.parse(e),warnings:n.yy.warnings||[]}}catch(e){return{error:i.default(e),isError:!0}}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=r.parser.lexer,o=Object.create(i);t.default=o;var a=r.parser.terminals_,s=r.parser.symbols_;o.setInput=function(e,t){this.delimiterStack=[],this.outputQueue=[],this.canAcceptPrimes=!1,i.setInput.call(this,e,t)},o.lex=function(){var e=-1;if(!this)return e;if(this.outputQueue.length)return this.outputQueue.shift();for(var t=i.lex.call(this);"UNKNOWN"===a[t]||!this.canAcceptPrimes&&"PRIMES"===a[t];)this.warn(),t=i.lex.call(this);this.canAcceptPrimes=!0;var n,r,o=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(a[t]){case"OPEN_FRAC":case"OPEN_MODEXP":this.delimiterStack.push(t),this.canAcceptPrimes=!1;break;case"RADICAL_INDEX":o===s.RADICAL_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(o)),this.delimiterStack.push(t),this.canAcceptPrimes=!1;break;case"OPEN_RADICAL":o===s.RADICAL_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(t),this.canAcceptPrimes=!1;break;case"SLASH":for(n=!1;this.delimiterStack.length;){if((r=this.delimiterStack.pop()||-1)===s.OPEN_FRAC){n=!0;break}this.pushCloseTokens(r)}n||this.pushOpenTokens(t),this.delimiterStack.push(t),this.canAcceptPrimes=!1;break;case"CLOSE_FRAC":for(n=!1;this.delimiterStack.length;){if((r=this.delimiterStack.pop()||-1)===s.SLASH){n=!0;break}if(r===s.OPEN_FRAC){this.addMissingToken(s.SLASH),n=!0;break}this.pushCloseTokens(r)}if(!n)return this.warn(),this.canAcceptPrimes=!1,this.lex();break;case"CLOSE_RADICAL":for(n=!1;this.delimiterStack.length;){if((r=this.delimiterStack.pop()||-1)===s.OPEN_RADICAL){n=!0;break}if(r===s.RADICAL_INDEX){n=!0,this.addMissingToken(s.OPEN_RADICAL);break}this.pushCloseTokens(r)}n||this.pushOpenTokens(t);break;case"CLOSE_MODEXP":for(n=!1;this.delimiterStack.length;){if((r=this.delimiterStack.pop()||-1)===s.OPEN_MODEXP){n=!0;break}this.pushCloseTokens(r)}n||this.pushOpenTokens(t);break;case"EOF":for(;this.delimiterStack.length;)r=this.delimiterStack.pop()||-1,this.pushCloseTokens(r)}return this.outputQueue.push(t),e=this.outputQueue.shift()||-1},o.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},o.addMissingToken=function(e){this.outputQueue.push(e),this.warn()},o.pushCloseTokens=function(e){switch(a[e]){case"OPEN_FRAC":this.addMissingToken(s.SLASH),this.addMissingToken(s.CLOSE_FRAC);break;case"SLASH":this.addMissingToken(s.CLOSE_FRAC);break;case"RADICAL_INDEX":this.addMissingToken(s.OPEN_RADICAL),this.addMissingToken(s.CLOSE_RADICAL);break;case"OPEN_RADICAL":this.addMissingToken(s.CLOSE_RADICAL);break;case"OPEN_MODEXP":this.addMissingToken(s.CLOSE_MODEXP)}},o.pushOpenTokens=function(e){switch(a[e]){case"SLASH":this.addMissingToken(s.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(s.OPEN_FRAC),this.addMissingToken(s.SLASH);break;case"CLOSE_RADICAL":this.addMissingToken(s.OPEN_RADICAL);break;case"CLOSE_MODEXP":this.addMissingToken(s.OPEN_MODEXP)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=r.parser.lexer,o=Object.create(i);t.default=o;var a=r.parser.terminals_,s=r.parser.symbols_;o.setInput=function(e,t){this.delimiterStack=[],this.outputQueue=[],i.setInput.call(this,e,t)},o.lex=function(){if(this.outputQueue.length)return this.outputQueue.shift();for(var e=i.lex.call(this);"UNKNOWN"===a[e];)this.warn(),e=i.lex.call(this);var t,n,r=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(a[e]){case"OPEN_FRAC":case"OPEN_GROUP":this.delimiterStack.push(e);break;case"RADICAL_WITH_INDEX":r===s.RADICAL_WITH_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(r)),this.delimiterStack.push(e);break;case"RADICAL":r===s.RADICAL_WITH_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(e);break;case"OVER":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===s.OPEN_FRAC){t=!0;break}this.pushCloseTokens(n)}t||this.pushOpenTokens(e),this.delimiterStack.push(e);break;case"CLOSE_FRAC":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===s.OVER){t=!0;break}if(n===s.OPEN_FRAC){this.outputQueue.push(s.OVER),t=!0;break}this.pushCloseTokens(n)}t||this.pushOpenTokens(e);break;case"CLOSE_GROUP":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===s.OPEN_GROUP){t=!0;break}this.pushCloseTokens(n)}t||this.pushOpenTokens(e);break;case"CLOSE_RADICAL":for(t=!1;this.delimiterStack.length;){if((n=this.delimiterStack.pop()||-1)===s.RADICAL||n===s.RADICAL_WITH_INDEX){t=!0;break}this.pushCloseTokens(n)}t||this.pushOpenTokens(e);break;case"EOF":for(;this.delimiterStack.length;)n=this.delimiterStack.pop()||-1,this.pushCloseTokens(n)}return this.outputQueue.push(e),this.outputQueue.shift()||-1},o.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},o.addMissingToken=function(e){this.outputQueue.push(e),this.warn()},o.pushCloseTokens=function(e){switch(a[e]){case"OPEN_FRAC":this.addMissingToken(s.OVER),this.addMissingToken(s.CLOSE_FRAC);break;case"OVER":this.addMissingToken(s.CLOSE_FRAC);break;case"OPEN_GROUP":this.addMissingToken(s.CLOSE_GROUP);break;case"RADICAL_WITH_INDEX":case"RADICAL":this.addMissingToken(s.CLOSE_RADICAL)}},o.pushOpenTokens=function(e){switch(a[e]){case"OVER":this.addMissingToken(s.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(s.OPEN_FRAC),this.addMissingToken(s.OVER);break;case"CLOSE_GROUP":this.addMissingToken(s.OPEN_GROUP);break;case"CLOSE_RADICAL":this.addMissingToken(s.RADICAL)}}},function(e,t,n){function r(e){return e.isError}Object.defineProperty(t,"__esModule",{value:!0}),t.isErr=r,t.isOk=function(e){return!e.isError},t.map=function(e,t){return r(e)?e:{isError:!1,value:t(e.value)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(19),o=n(0);function a(e,t){for(var n="",i=!1,o="",y=function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r];if(p(i))t.push({direction:s,index:r}),n.push(c);else if(u(i)){for(;t.length&&t[t.length-1].direction===d;)t.pop();if(t.length){if(o=t.pop())n[o.index]=s,n.push(l)}else n.push(c)}else if(h(i))if(t.length&&t[t.length-1].direction===d){var o;if(o=t.pop())n[o.index]=s,n.push(l)}else t.push({direction:d,index:r}),n.push(c);else n.push(c)}return n}(e),b=0;b<e.length;b++){var x=e[b],_=b+1<e.length?e[b+1]:null;switch(x.type){case"terminal":var v=r.getAutoOperator(e.slice(b));""!==v.value?(n+=v.value,b+=v.terminalCount-1):" "!==x.value||i?(y[b]===s?n+="\\left":y[b]===l&&(n+="\\right"),n+=x.value):n+="\\ ",i=!1;break;case"command":var w=x.value.slice(1).trim();_&&"terminal"===_.type&&/[a-z]/.test(_.value)?(n+=w,i=!1):r.containsValue(w)?(n+="\\operatorname{"+w+"}",i=!0):(n+=x.value,i=!0);break;case"expression":n+=x.value;break;case"fraction":n+=g(x.numerator,x.denominator);break;case"radical":n+="\\sqrt",x.index&&(n+="["+a(x.index)+"]"),n+="{"+a(x.value)+"}";break;case"basic_level":n+=m(x.level,x.value,o),"9"===x.level&&(o="");break;case"bracketed_level":n+=f(x.level,x.lbrack,x.value,x.rbrack,o),"9"===x.level&&(o="");break;case"primes":!_||"basic_level"!==_.type&&"bracketed_level"!==_.type||"5"!==_.level?t&&""!==t?(n+=Array(x.value.length+1).join("\\prime "),o=""):(n+=x.value,o=""):o=x.value}}return(n+=o).replace(/([^\\])( )$/,"$1")}var s=1,l=-1,c=0,d=2;function p(e){return"terminal"===e.type&&/^(\\langle |\[|\(|\\{)$/.test(e.value)}function u(e){return"terminal"===e.type&&/^(\\rangle |\]|\)|\\})$/.test(e.value)}function h(e){return"terminal"===e.type&&/^(\\\||\|)$/.test(e.value)}function g(e,t){return"\\frac{"+a(e)+"}{"+a(t)+"}"}function m(e,t,n){var r="",i="{"+a(t,e)+"}";return"9"===e?r+=n+"^"+i:"5"===e&&(r+="_"+i),r}function f(e,t,n,r,i){var o="",s="{"+t+a(n,e)+r+"}";return"9"===e?o+=i+"^"+s:"5"===e&&(o+="_"+s),o}var y=a;t.default=function(e,t){return t&&t.operatorNames?r.setOperatorNames(t.operatorNames):r.resetOperatorNames(),o.map(i.default(e,t),(function(e){return y(e,"")}))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.terminal=function(e){return{type:"terminal",value:e}},t.command=function(e){return{type:"command",value:e}},t.basic_level=function(e,t){return{type:"basic_level",level:e,value:t}},t.bracketed_level=function(e,t,n,r){return{type:"bracketed_level",level:e,lbrack:t,value:n,rbrack:r}},t.primes=function(e){return{type:"primes",value:e.length>0?Array(e.length+1).join("'"):""}},t.fraction=function(e,t){return{type:"fraction",numerator:e,denominator:t}},t.radical=function(e,t){return{type:"radical",value:e,index:t}},t.expression=function(e){return{type:"expression",value:e}},t.group=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Array.prototype.concat.apply([],e)};var r={",.&":"\\Chi",",.:":"\\Eta",",.?":"\\Theta",",.A":"\\Alpha",",.B":"\\Beta",",.D":"\\Delta",",.E":"\\Epsilon",",.F":"\\Phi",",.G":"\\Gamma",",.I":"\\Iota",",.K":"\\Kappa",",.L":"\\Lambda",",.M":"\\Mu",",.N":"\\Nu",",.O":"\\Omicron",",.P":"\\prod",",.R":"\\Rho",",.S":"\\sum",",.T":"\\Tau",",.U":"\\Upsilon",",.W":"\\Omega",",.X":"\\Xi",",.Y":"\\Psi",",.Z":"\\Zeta",".&":"\\chi",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};t.greek=function(e){if(r.hasOwnProperty(e))return r[e]+" ";throw new Error("Unknown Greek letter")},t.to_number=function(e){for(var t="",n="A".charCodeAt(0)-1,r=0,i=e;r<i.length;r++){var o=i[r];t+="4"===o?".":"J"===o?"0":o.charCodeAt(0)-n}return t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=" A1B'K2L@CIF/MSP\"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=",i=10240;function o(e){return String.fromCharCode(i+e)}function a(e){return e.charCodeAt(0)-i}function s(e){return r[e]}function l(e){return r.indexOf(e)}function c(e){for(var t="",n=0,r=e;n<r.length;n++){t+=o(l(r[n]))}return t}function d(e){for(var t="",n=0,r=e;n<r.length;n++){t+=s(a(r[n]))}return t}t.toBrailleAscii=d,t.toExpandedBrailleAscii=function(e){return d(e).replace(/[@-^]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+32)}))},t.coerceToSixDotCells=function(e){var t="";if(e)for(var n=0,r=e;n<r.length;n++){var i=r[n],o=i.charCodeAt(0);96<=o&&o<=127&&(o-=32,i=String.fromCharCode(o)),32<=o&&o<=95&&(o=(i=c(i)).charCodeAt(0)),10305<=o&&o<=10495&&(o=10240+(o-1024)%64,i=String.fromCharCode(o)),t+=10240<=o&&o<=10304?i:String.fromCharCode(10240)}return t},t.isSixDotCells=function(e){for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<10240||n>10304)return!1}return!0}},function(e,t,n){n(3),e.exports=n(3)}])}))})),SO=__dcg_shared_module_exports__.g(((e,t)=>{t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}})),DO=__dcg_shared_module_exports__.g(((e,t)=>{var n=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,r=SO();t.exports=function(e){var t,i=0,o=!0,a={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(n,(function(n){if("="===n)return o=!0,void i++;o?0===i?((r[n]||"/"===e.charAt(e.length-2))&&(a.voidElement=!0),a.name=n):(a.attrs[t]=n.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(a.attrs[t]=t),t=n),i++,o=!1})),a}})),IO=__dcg_shared_module_exports__.g(((e,t)=>{var n=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,r=DO(),i=Object.create?Object.create(null):{};function o(e,t,n,r,i){var o=t.indexOf("<",r),a=t.slice(r,-1===o?void 0:o);/^\s*$/.test(a)&&(a=" "),(!i&&o>-1&&n+e.length>=0||" "!==a)&&e.push({type:"text",content:a})}t.exports=function(e,t){t||(t={}),t.components||(t.components=i);var a,s=[],l=-1,c=[],d={},p=!1;return e.replace(n,(function(n,i){if(p){if(n!=="</"+a.name+">")return;p=!1}var u,h="/"!==n.charAt(1),g=0===n.indexOf("\x3c!--"),m=i+n.length,f=e.charAt(m);h&&!g&&(l++,"tag"===(a=r(n)).type&&t.components[a.name]&&(a.type="component",p=!0),!a.voidElement&&!p&&f&&"<"!==f&&o(a.children,e,l,m,t.ignoreWhitespace),d[a.tagName]=a,0===l&&s.push(a),(u=c[l-1])&&u.children.push(a),c[l]=a),(g||!h||a.voidElement)&&(g||l--,!p&&"<"!==f&&f&&o(u=-1===l?s:c[l].children,e,l,m,t.ignoreWhitespace))})),!s.length&&e.length&&o(s,e,0,0,t.ignoreWhitespace),s}})),GO=__dcg_shared_module_exports__.g(((e,t)=>{function n(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(n,"")+"</"+t.name+">"}}t.exports=function(e){return e.reduce((function(e,t){return e+n("",t)}),"")}})),VO=__dcg_shared_module_exports__.g(((e,t)=>{t.exports={parse:IO(),stringify:GO()}})),SM;function J_(e){SM=e(__dcg_shared_module_exports__.d)}J_((function(e){var t={ready:function(){try{window.TestBridge=t,parent.USING_SELENIUM&&function(){window.consoleOverride=!0;var e=window.console.log;window.console.log=function(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);e.apply(window.console,[].concat([t.join(" ")],t))}}()}catch(e){}}};return t}));var{ready:R6}=SM,sq=__dcg_shared_module_exports__.i(EM());at();var fT=(t={IS_IE8:null!==navigator.userAgent.match(/MSIE 8.0/i),IS_IE9:null!==navigator.userAgent.match(/MSIE 9.0/i),IS_IE:null!==navigator.userAgent.match(/MSIE/i)||null!==navigator.userAgent.match(/Trident/i)&&null!==navigator.userAgent.match(/rv:11/i),IS_EDGE:null!==navigator.userAgent.match(/Edge/i),IS_IPAD:null!==navigator.userAgent.match(/iPad/i),IS_MOBILE:null!==navigator.userAgent.match(/Mobile|Android/i),IS_ANDROID:null!==navigator.userAgent.match(/Android/i),IS_IOS:null!==navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,IS_CHROME:null!==navigator.userAgent.match(/Chrome/i),IS_FIREFOX:null!==navigator.userAgent.match(/Firefox/i),IS_SAFARI:null!==navigator.userAgent.match(/^((?!chrome|android).)*safari/i),IS_APPLE:null!==navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i),IS_WINDOWS:null!==navigator.platform.match(/(Win32)/i),IS_TOUCH:null!==navigator.userAgent.match(/Touch/i),IS_KINDLE:null!==navigator.userAgent.match(/Kindle/i)||null!==navigator.userAgent.match(/Silk/i),IS_BRAILLENOTE:null!==navigator.userAgent.match(/KeyWeb/i),IS_IN_IFRAME:window.parent!==window},t.IS_TABLET=t.IS_IPAD||t.IS_ANDROID||t.IS_KINDLE,t.IS_TOUCH_DEVICE=t.SHOULD_NOT_AUTOFOCUS=t.IS_IOS||t.IS_ANDROID||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),t.IOS_VERSION=(e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:null,t.MAC_VERSION=function(){var e=navigator.appVersion.match(/OS X (\d+)_(\d+)_?(\d+)?/);return e?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:null}(),t.CHROME_VERSION=function(){var e=navigator.appVersion.match(/Chrom(e|ium)\/([0-9]+)\.([0-9]+)\.?([0-9]+)?/);return e?[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4]||0,10)]:null}(),t.SUPPORTS_INPUTMODE=!(!("inputMode"in document.createElement("textarea"))||t.IS_IOS&&t.IOS_VERSION&&t.IOS_VERSION[0]<15),t.SUPPORTS_TRANSLATE3D=!1,P(document).ready((function(){var e,n,r=document.createElement("p"),i={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var o in document.body.insertBefore(r,null),i)if(void 0!==r.style[o]){if(r.style[o]="translate3d(1px,1px,1px)",!(n=window.getComputedStyle(r)))return;e=n.getPropertyValue(i[o])}document.body.removeChild(r),t.SUPPORTS_TRANSLATE3D=void 0!==e&&e.length>0&&"none"!==e})),t.translateRule=function(e,n){return t.SUPPORTS_TRANSLATE3D?"translate3d("+e+(e?"px":"")+","+n+(n?"px":"")+",0)":"translate("+e+(e?"px":"")+","+n+(n?"px":"")+")"},t.SUPPORTS_CANVAS=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),t),mT=fT,{SHOULD_NOT_AUTOFOCUS:J6,IS_TOUCH_DEVICE:yT,IS_SAFARI:bT,IS_APPLE:gi,IS_IOS:gu,IS_ANDROID:Jy,IS_IPAD:Ja,IS_IN_IFRAME:El,IOS_VERSION:jh,MAC_VERSION:X6,CHROME_VERSION:Q6,IS_IE:xT,IS_EDGE:Z6,IS_CHROME:eq,IS_FIREFOX:tq,IS_MOBILE:Xy,IS_WINDOWS:wT,IS_TOUCH:vT,SUPPORTS_INPUTMODE:Qy,translateRule:CT}=fT,e,t;at(),Ns();var pn={},na=Sn();if(void 0!==Desmos&&Desmos.config)for(Zy in Desmos.config)Desmos.config.hasOwnProperty(Zy)&&(na[Zy]=Desmos.config[Zy]);var Zy,Xa=function(e){return na.hasOwnProperty(e)},hr=function(e){pn[e]=Xa(e)},fi=function(e){pn[e]=!Xa("no"+e)};hr("testing"),hr("maintenance"),hr("disableScrollFix"),hr("nativeOnscreenKeypad"),hr("hidden"),hr("disableMouseInteractions"),hr("advancedStyling"),hr("outofdom"),na.lang&&(pn.language=na.lang),na.fontSize&&(pn.fontSize=na.fontSize),na.backgroundColor&&(pn.backgroundColor="#"+na.backgroundColor),na.textColor&&(pn.textColor="#"+na.textColor),pn.no_navigation_warning=Xa("noconcat")||Xa("testing"),pn.previewMessage="You're previewing some new accessibility features.",pn.previewFeedbackUrl="mailto:feedback@desmos.com";var JF=location&&"preview.desmos.com"===location.hostname;function fu(e){return pn[e]}function ST(){return __dcg_shared_module_exports__.k(pn)}pn.previewMode=Xa("previewMode")||JF,hr("lockViewport"),hr("authorFeatures"),hr("degreeMode"),hr("clearIntoDegreeMode"),hr("plaidMode"),hr("editOnWeb"),hr("crossOriginSaveTest"),hr("showResetButtonOnGraphpaper"),hr("transparentBackground"),hr("forceLogModeRegressions"),fi("links"),fi("trace"),fi("zoomFit"),hr("expressionsCollapsed"),hr("invertedColors"),hr("projectorMode"),fi("images"),fi("folders"),fi("settingsMenu"),fi("expressionsTopbar"),fi("zoomButtons"),fi("keypad"),fi("graphpaper"),fi("expressions"),fi("branding"),fi("pointsOfInterest"),fi("plotSingleVariableImplicitEquations"),fi("plotImplicits"),fi("plotInequalities"),fi("notes"),fi("sliders"),hr("pauseWhenOffscreen"),hr("worksheetSVG"),fi("brailleControls"),hr("audioTraceKeypad"),fi("audio"),hr("sciKeypad"),hr("4fnKeypad"),hr("ans"),Xa("braille")&&(pn.braille=!0),fi("qwertyKeyboard"),hr("restrictedFunctions"),hr("forceEnableGeometryFunctions"),fi("functionDefinition"),hr("singleExpression"),hr("restrictedEditing"),hr("replaceCommaWith10Exp"),hr("replaceRoundWithReciprocal"),Xa("typingAsteriskWritesTimesSymbol")&&(pn.typingAsteriskWritesTimesSymbol=!0),fi("substitutions"),hr("logScales"),fi("labels"),fi("distributions"),pn["4fnKeypad"]?hr("decimalToFraction"):fi("decimalToFraction"),hr("3d"),Xa("exponentButtonForSquareRoot")?pn.additionalFunctions=["exponent"]:na.additionalFunctions&&"string"==typeof na.additionalFunctions&&(pn.additionalFunctions=na.additionalFunctions.split(",")),Xa("actions")?pn.actions=!0:Xa("noactions")?pn.actions=!1:Xa("clickableObjects")&&(pn.actions=!0);var sS=["exp|exponent ln|natural-log log","total length mean median quantile quartile nCr nPr stats","stdev|standard-deviation stddev|standard-deviation","stdDev|standard-deviation stdevp|standard-deviation-population","stddevp|standard-deviation-population stdDevP|standard-deviation-population mad var|variance","varp|variance-population variance cov|co-variance covp|co-variance-population corr|correlation spearman","lcm mcm gcd mcd gcf mod ceil|ceiling floor round abs|absolute-value min max sign|signum signum sgn","sin|sine cos|cosine tan|tangent csc|co-secant sec|secant cot|co-tangent","sinh|hyperbolic-sine cosh|hyperbolic-cosine tanh|hyperbolic-tangent csch|hyperbolic-co-secant","sech|hyperbolic-secant coth|hyperbolic-co-tangent","arcsin|arc-sine arccos|arc-cosine arctan|arc-tangent arccsc|arc-co-secant arcsec|arc-secant","arccot|arc-co-tangent","arcsinh|hyperbolic-arc-sine arccosh|hyperbolic-arc-cosine arctanh|hyperbolic-arc-co-tangent","arccsch|hyperbolic-arc-co-secant arcsech|hyperbolic-arc-secant","arccoth|hyperbolic-arc-co-tangent","arsinh|hyperbolic-ar-sine arcosh|hyperbolic-ar-cosine artanh|hyperbolic-ar-co-tangent","arcsch|hyperbolic-ar-co-secant arsech|hyperbolic-ar-secant","arcoth|hyperbolic-ar-co-tangent","polygon","distance midpoint","sort shuffle join unique","erf|error-function","TTest|t-test ttest|t-test TScore|t-score tscore|t-score","iTTest|independent-t-test ittest|independent-t-test IndependentTTest","TScore|t-score Tscore|t-score tscore|t-score","normaldist|normal-distribution tdist|t-distribution poissondist|poisson-distribution","binomialdist|binomial-distribution","uniformdist|uniform-distribution","pdf cdf random inverseCdf inversecdf","histogram dotplot boxplot","pdf cdf","rgb hsv","for","width height","with"].join(" "),XF=["det|determinant","inv|inverse","transpose","rref|reduced-row-echelon-form","trace"].join(" "),QF="cube sphere cone dodecahedron octahedron tetrahedron";sS+=" "+XF,fu("3d")&&(sS+=" "+QF);var ZF="alpha beta sqrt theta phi pi tau nthroot cbrt sum prod integral percent infinity infty";function Bs(e){e||(e={});let t=[ZF];return e.disallowAns||t.push("ans"),e.disallowFrac||t.push("frac"),e.additionalCommands&&(t=t.concat(e.additionalCommands)),t.join(" ")}function Ko(e){e||(e={});let t=sS;return e.additionalOperators&&e.additionalOperators.length&&(t=`${t} ${e.additionalOperators.join(" ")}`),e.includeGeometryFunctions&&(t+=" "+Object.keys(__dcg_shared_module_exports__.l).join(" ")),t}var ET=window.MathQuill.noConflict().getInterface(3);ET.config({leftRightIntoCmdGoes:"up",sumStartsWithNEquals:!0,supSubsRequireOperand:!0,charsThatBreakOutOfSupSub:"+-=<>*",autoCommands:Bs(),autoSubscriptNumerals:!0,restrictMismatchedBrackets:!0,typingPercentWritesPercentOf:!0,substituteTextarea:function(){return Qy||!gu&&!Jy?wT&&vT?P('<textarea readonly inputmode="none" autocorrect="off" autocapitalize="none" spellcheck="false" autocomplete="off">').on("keydown",(function(){this.readOnly=!1,this.select()})).on("blur",(function(){this.readOnly=!0}))[0]:P('<textarea inputmode="none" autocorrect="off" autocapitalize="none" spellcheck="false" autocomplete="off">')[0]:P('<span class="dcg-mathquill-input-span" tabindex=0 role="textbox" style="display:inline-block;height:1px;width:1px">')[0]},autoOperatorNames:Ko(),quietEmptyDelimiters:"( [",resetCursorOnBlur:!0,enableDigitGrouping:!0,disableAutoSubstitutionInSubscripts:!0,interpretTildeAsSim:!0});var Ca=ET,S0=__dcg_shared_module_exports__.i(ne()),ir=__dcg_shared_module_exports__.i(ne()),{If:cb}=ir.Components,db=class extends ir.Class{template(){return ir.createElement("div",{class:ir.const("dcg-loading-container")},ir.createElement(cb,{predicate:()=>!this.props.didDataLoadFail()},(()=>ir.createElement("div",{class:ir.const("dcg-graph-loading")},ir.createElement("div",{class:ir.const("pulsing-message")},(()=>this.props.s("account-shell-text-mygraphs-loading"))),ir.createElement("div",{role:ir.const("link"),tabindex:ir.const("0"),class:ir.const("dcg-cancel-while-loading"),onTap:this.props.onCancel},(()=>this.props.s("account-shell-button-mygraphs-cancel")))))),ir.createElement(cb,{predicate:()=>this.props.didDataLoadFail()},(()=>ir.createElement("div",{class:ir.const("dcg-graph-loading-error"),"aria-live":ir.const("assertive"),"aria-atomic":ir.const("true")},ir.createElement("div",{class:ir.const("dcg-graph-loading-error-title")},(()=>this.props.s("account-shell-error-mygraphs-error-loading"))),ir.createElement("div",{class:ir.const("dcg-graph-loading-error-subtitle")},(()=>this.props.s("account-shell-error-mygraphs-check-connection"))),ir.createElement("div",{class:ir.const("dcg-graph-loading-error-options")},ir.createElement("span",{role:ir.const("button"),tabindex:ir.const("0"),class:ir.const("dcg-action-try-again dcg-btn-blue dcg-btn-medium"),onTap:this.props.requestLoadGraphData},(()=>this.props.s("account-shell-button-mygraphs-try-again"))),ir.createElement(cb,{predicate:()=>!!this.props.onCancel},(()=>ir.createElement("span",null,(()=>this.props.s("account-shell-text-mygraphs-or"))))),ir.createElement(cb,{predicate:()=>!!this.props.onCancel},(()=>ir.createElement("span",{role:ir.const("button"),tabindex:ir.const("0"),class:ir.const("dcg-action-cancel dcg-btn-light-gray dcg-btn-medium"),onTap:this.props.onCancel},(()=>this.props.s("account-shell-button-mygraphs-cancel"))))))))))}};at();var wu={cb20221031:1};function dR(e,t){var n=document.createElement("div");n.style.zIndex="999999",n.style.position="fixed",n.style.bottom="50px",n.style.left="0",n.style.right="0",document.body.append(n),S0.mountToNode(db,n,{s:t,didDataLoadFail:function(){return!0},requestLoadGraphData:function(){n.remove(),e()}})}function E0(e,t){var n=P.Deferred();if(e&&e.state)n.resolve(e);else if(e&&"string"==typeof e.stateUrl){var r=!1;let i=()=>{r||(r=!0,P.getJSON(e.stateUrl,wu).done((function(t){e.state=t,n.resolve(e)})).fail((function(){dR(i,t)})).always((function(){r=!1})))};i()}else n.resolve();return n}function ai(e,t){if(/^\s*(\-|\+)?([0-9]+(\.[0-9]+)?)\s*$/.test(e))return parseFloat(e);var n=Object.create(__dcg_shared_module_exports__.ia);return n.trigAngleMultiplier=new __dcg_shared_module_exports__.ha(t?Math.PI/180:1),+__dcg_shared_module_exports__.Vb(e).tryGetConcreteTree(__dcg_shared_module_exports__.ja,n).asValue()}function mi(e,t){if(!isFinite(e))return e;if(!isFinite(t))return t;var n=__dcg_shared_module_exports__.$(e,t);if(e>0!=t>0||0===e||0===t)return 0;var r=e>0?1:-1,i=Math.abs(e).toExponential().split("e"),o=Math.abs(t).toExponential().split("e"),a=i[0],s=o[0],l=i[1],c=o[1];if(c!==l)return r*Math.pow(10,Math.max(parseFloat(l),parseFloat(c)));if(a[0]!==s[0])return parseFloat(n.toPrecision(1));for(var d=1,p=2;p<Math.min(a.length,s.length)&&(d++,a[p]===s[p]);p++);return parseFloat(n.toPrecision(d))}var D0={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function k0(e){var t=[],n=e.toLowerCase();if("rgb"===n.slice(0,3))try{t=n.replace(/[^\d,]/g,"").split(",").slice(0,3).map((function(e){return parseInt(e,10)}))}catch(t){CS(e)}else if("#"===n[0]){n=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/,(function(e,t,n,r){return t+t+n+n+r+r}));try{t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/.exec(n).slice(1).map((function(e){return parseInt(e,16)}))}catch(t){CS(e)}}else t=D0[n];return uR(t)||CS(e),{R:t[0],G:t[1],B:t[2]}}function uR(e){return!(!__dcg_shared_module_exports__.Ga(e)||3!==e.length)&&__dcg_shared_module_exports__.na(e,(function(e){return Number.isInteger(e)&&e>=0&&e<=255}))}function CS(e){throw new Error("Invalid color string: "+e)}function I0(e){var t=e.R,n=e.G,r=e.B,i=[];return i[0]=.49*t+.31*n+.2*r,i[1]=.17697*t+.8124*n+.01063*r,i[2]=.01*n+.99*r,{X:(i=__dcg_shared_module_exports__.la(i,(function(e){return e/.17697})))[0],Y:i[1],Z:i[2]}}function M0(e){var t=e.X,n=e.Y,r=e.Z,i=[];return i[0]=116*eg(n/100)-16,i[1]=500*(eg(t/95.047)-eg(n/100)),i[2]=200*(eg(n/100)-eg(r/108.883)),{L:i[0],a:i[1],b:i[2]}}function eg(e){var t=.20689655172413793;return e>Math.pow(t,3)?Math.pow(e,1/3):e/(3*t*t)+4/29}function pR(e,t){var n=e.L,r=e.a,i=e.b,o=t.L,a=t.a,s=t.b,l=n-o,c=Math.sqrt(r*r+i*i),d=c-Math.sqrt(a*a+s*s),p=r-a,u=i-s,h=l/1,g=d/(1*(1+.045*c)),m=Math.sqrt(p*p+u*u-d*d)/(1*(1+.015*c));return Math.sqrt(h*h+g*g+m*m)}function T0(e,t){return pR(M0(I0(k0(e))),M0(I0(k0(t))))}function G0(e,t){var n=__dcg_shared_module_exports__.la(t,(function(t){return T0(e,t)})),r=__dcg_shared_module_exports__.sa(n);return t[n.indexOf(r)]}function SS(e){if("string"!=typeof e||!e)return!1;try{return T0(e,"#fff")<20}catch(e){return!1}}function ub(e,t){var n=e.cachedViewState;return t.stripDefaults?__dcg_shared_module_exports__.uc(n):n}function hR(e){e.cachedViewState={type:e.type,id:e.id,title:e.title,hidden:e.hidden,readonly:e.readonly,collapsed:e.collapsed,secret:e.secret}}function gR(e){e.cachedUndoRedoDiffState=e.cachedViewState,e.cachedUndoRedoFullState=e.cachedViewState}function V0(e,t){let n=__dcg_shared_module_exports__.k(__dcg_shared_module_exports__.tc(e));return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},n),$s(t)),{cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{},cachedViewState:{}})}function L0(e){fR(e),zs(e),hR(e),gR(e)}function fR(e){var t=e.controller.getAllSelectedItems();e.collapsedChildIsSelected=e.collapsed&&__dcg_shared_module_exports__.oa(t,(t=>"folder"!==t.type&&t.folderId===e.id))}var mR={id:!1,type:!1,hidden:!0,secret:!0,collapsed:!0,title:!0,readonly:!0};function P0(e,t){__dcg_shared_module_exports__.oc({from:t,to:e,props:mR})}function vu(e,t){e.collapsed=t}function O0(e,t){e.title=t}function _0(e,t){e.hidden=t}function R0(e,t){var n=__dcg_shared_module_exports__.jb(e),r=__dcg_shared_module_exports__.jb(t);if(__dcg_shared_module_exports__.fa(n.n/n.d,e)&&__dcg_shared_module_exports__.fa(r.n/r.d,t)){var i=__dcg_shared_module_exports__.lb(n.d,r.d),o=n.n*(i/n.d);return{nstart:o,nstep:r.n*(i/r.d)-o,lcm:i}}}var N0={folderId:"",secret:!1,readonly:!1},hb={latex:"",color:"",hidden:!1,values:[],points:!0,lines:!1,dragMode:"NONE",pointStyle:"POINT",lineStyle:"SOLID",colorLatex:"",lineOpacity:"",lineWidth:"",pointOpacity:"",pointSize:""};function gb(e){let t=(e.columns||[]).map((function(e){return __dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},hb),e)}));return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},N0),e),{columns:t})}function B0(e){return e=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{columns:e.columns.map((function(e){return __dcg_shared_module_exports__.lc(hb,e)}))}),__dcg_shared_module_exports__.lc(N0,e)}function fb(e){return{type:"table",id:e.id,columns:e.columns.map((function(t){return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t),{tableId:e.id})}))}}var{color:bR}=__dcg_shared_module_exports__.eb;function xR(e){return null!==bR(e)}var Cu=xR;function wR(e){return isFinite(e)?__dcg_shared_module_exports__.Ta(e,{digits:8,bigCutoff:1e6,smallCutoff:.001}):"\\mathrm{undefined}"}function vR(e,t,n){let r=e.columnModels[t];r.error=n.error,r.discrete=n.discrete,r.disabled=n.dependent,r.draggable=!n.error&&!n.dependent,r.packedErrors=[],r.computedValues=[];let i=n.values;for(let e=i.length-1;e>=0;e--){let t=i[e];"number"==typeof t?r.computedValues[e]=wR(t):(r.computedValues[e]="",r.packedErrors[e]=t)}}function U0(e){let t=ao(e);if(!t)return;let n=ad(e);n?t.row>=n.min&&t.row<n.max&&Su(e,!0):e.isExpanded||Su(e,!0)}function ad(e){if(e.isExpanded)return;let t=Da(e);return t<30?void 0:{min:8,max:t-4}}function q0(e,t){let n=e.columnModels[t];return{values:n.values.slice(),dragMode:n.dragMode,hidden:n.hidden,id:n.id,color:n.color,points:n.points,lines:n.lines,pointStyle:n.pointStyle,lineStyle:n.lineStyle,latex:n.latex,colorLatex:n.colorLatex,lineOpacity:n.lineOpacity,lineWidth:n.lineWidth,pointSize:n.pointSize,pointOpacity:n.pointOpacity}}var CR=0;function SR(){return"table_guid_"+CR++}function ER(e,t,n){e.columnModels[t].values.splice(n,0,"")}function DR(e,t,n){e.columnModels[t].values.splice(n,1)}function H0(e,t,n){let{color:r}=n;(!r||!Cu(r))&&(r=e.controller.getNextColor());let i=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{type:"table-column",guid:SR(),index:t,error:void 0,table:e,color:r,packedErrors:[],computedValues:[],discrete:void 0,shouldGraph:void 0,disabled:void 0,draggable:void 0});return 0===t&&(i.hidden=!0),i}function rg(e,t){var n=e.table.formula;if(!n)return!1;var r=n.column_data[e.index];return!!r&&!!r[t]}function $0(e){return rg(e,"color_latex_valid")}function z0(e){return rg(e,"line_opacity_valid")}function W0(e){return rg(e,"line_width_valid")}function j0(e){return rg(e,"point_size_valid")}function Y0(e){return rg(e,"point_opacity_valid")}function J0(e){var t=e.table.formula;if(t){var n=t.column_data[e.index];if(n)return n.color_latex_value}}function X0(e){e.draggingOnGraphpaper?e.preTransientState||(e.preTransientState={columns:Eu(e,{stripDefaults:!1}).columns}):delete e.preTransientState,zs(e);let t=Uo(e);var n=t&&t.hidden;__dcg_shared_module_exports__.ka(e.columnModels,(function(e){e.shouldGraph=!n&&!e.hidden})),IR(e),MR(e),kR(e)}function Da(e){let t,n=2,r=ao(e);return r&&r.row>n&&(n=r.row),e.columnModels.forEach((e=>{t=e.disabled?e.computedValues.length:e.values.length+1,t>n&&(n=t)})),n}function ES(e){return e.columnModels.length}function Q0(e,t){e.formula=t;for(let n=0;n<t.column_data.length&&n<ES(e);n++){vR(e,n,t.column_data[n])}let n=e.columnModels[e.columnModels.length-1];n.disabled=!0,n.error=void 0}function DS(e,t){for(let n=0;n<e.columnModels.length;n++)ER(e,n,t)}function Z0(e,t){let n=ad(e);n&&t===n.max-1&&Su(e,!0);for(var r=0;r<e.columnModels.length;r++)DR(e,r,t),r>0&&fG(e.columnModels[r])}function mb(e,t){let n={id:e.controller.generateId(),latex:t?t.latex:"",color:e.controller.getNextColor()},r=t?t.columnIndex:e.columnModels.length;var i=H0(e,r,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},hb),n),{values:[]}));e.columnModels.splice(r,0,i);for(var o=r+1;o<e.columnModels.length;o++)e.columnModels[o].index=o}function eG(e,t){e.columnModels.splice(t,1);for(var n=t;n<e.columnModels.length;n++)e.columnModels[n].index=n}function tG(e,t){var n,r=e.columnModels.length,i=[];for(n=0;n<r;n++)i.push("");var o=e.columnModels[0].values;if(t>1){var a=e.controller.isDegreeMode(),s=ai(o[0],a),l=ai(o[1],a);if(isFinite(s)&&isFinite(l)){var c=R0(s,l);if(c){var d=c.nstart,p=d/c.lcm;for(n=0;n<t;n++){var u=ai(o[n],a);if(!__dcg_shared_module_exports__.fa(u,p))return i;p=(d+=c.nstep)/c.lcm}i[0]=(""+s).length<8&&(""+l).length<8?""+p:"\\frac{"+d+"}{"+c.lcm+"}"}}}return i}function yb(e,t){for(let i=0;i<e.columnModels.length;i++){let o=e.columnModels[i],a={cellLocation:{column:i,row:0}};t(o.latex,"tableHeader",e,a),t(o.colorLatex,"tableColumnColorLatex",e,a),t(o.pointSize,"tableColumnPointSize",e,a),t(o.pointOpacity,"tableColumnPointOpacity",e,a),t(o.lineWidth,"tableColumnLineWidth",e,a),t(o.lineOpacity,"tableColumnLineOpacity",e,a);for(var n=e.columnModels[i],r=0;r<n.values.length;r++)n.values[r]&&t(n.values[r],"tableCellValue",e,{cellLocation:{column:i,row:r+1}})}}function kR(e){let t=fb({type:"table",id:e.id,secret:e.secret,readonly:e.readonly,folderId:e.folderId,columns:e.columnModels.map((function(t){return q0(e,t.index)}))});for(var n=0;n<t.columns.length;n++)t.columns[n].hidden=!e.columnModels[n].shouldGraph;e.cachedParsableState=t}function rG(e){return e.slice(0,e.length-1)}function Eu(e,t){let n=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.cachedViewState),{columns:rG(e.cachedViewState.columns)});return t.stripDefaults?B0(n):n}function IR(e){var t=e.columnModels.map((function(t,n){return q0(e,n)}));e.cachedViewState={id:e.id,type:e.type,folderId:e.folderId,columns:t,secret:e.secret,readonly:e.readonly}}function kS(e,t){e.draggingOnGraphpaper=t}function MR(e){let t=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.cachedViewState),{columns:rG(e.cachedViewState.columns)});e.cachedUndoRedoFullState=t,e.preTransientState&&(t=__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},t),e.preTransientState)),e.cachedUndoRedoDiffState=t}var TR={id:!1,type:!1,columns:!1,folderId:!0,secret:!0,readonly:!0};function iG(e,t){__dcg_shared_module_exports__.oc({from:t,to:e,props:TR}),oG(e,t.columns)}function nG(e,t){let n=__dcg_shared_module_exports__.k(gb(e)),r=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},n),$s(t)),{columnModels:void 0,formula:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{},isExpanded:!1});return oG(r,n.columns),r}function oG(e,t){e.columnModels=t.map((function(t,n){return H0(e,n,t)})),mb(e)}var K0=["x","y","z","u","v","w"];function IS(e,t,n){for(var r=[],i=Math.min(t.length,K0.length),o=0;o<i;o++)r.push({id:n.generateId(),latex:__dcg_shared_module_exports__.Ua(K0[o]+"_"+e),values:t[o],color:n.getNextColor(),hidden:!1,points:!0,lines:!1,dragMode:"NONE",pointStyle:"POINT",lineStyle:"SOLID",colorLatex:"",lineWidth:"",lineOpacity:"",pointOpacity:"",pointSize:""});return{id:n.generateId(),type:"table",folderId:"",secret:!1,readonly:!1,columns:r}}function aG(e,t){let n=Eu(e,{stripDefaults:!1});if(!n.columns||!t.columns)return t;for(var r=0;r<t.columns.length;r++){var i=n.columns[r],o=t.columns[r];if(i)for(var a in i)i.hasOwnProperty(a)&&(o.hasOwnProperty(a)||(o[a]=i[a]))}return t}function ao(e){var t=e.controller.getFocusLocation();if(t&&"table"===t.type&&t.id===e.id)return t.location}function Dn(e,t){for(var n=0;n<e.columnModels.length;n++){let r=e.columnModels[n];if(r.id===t)return r}}function MS(e,t,n){let r=Dn(e,t);r&&(r.points=n,n||(r.dragMode="NONE"))}function sG(e,t,n){let r=Dn(e,t);r&&(r.pointStyle=n)}function lG(e,t,n){let r=Dn(e,t);r&&(r.lines=n)}function cG(e,t,n){let r=Dn(e,t);r&&(r.lineStyle=n)}function bb(e,t,n){let r=Dn(e,t);r&&(r.lineWidth=n)}function xb(e,t,n){let r=Dn(e,t);r&&(r.lineOpacity=n)}function wb(e,t,n){let r=Dn(e,t);r&&(r.pointSize=n)}function vb(e,t,n){let r=Dn(e,t);r&&(r.pointOpacity=n)}function dG(e,t,n){let r=Dn(e,t);r&&(r.dragMode=n,"NONE"!==n&&!r.points&&(r.points=!0))}function uG(e,t,n){let r=Dn(e,t);!r||!Cu(n)||(r.color=n,r.colorLatex="")}function Cb(e,t,n){let r=Dn(e,t);r&&(r.colorLatex=n)}function Su(e,t){e.isExpanded=t}function pG(e,t,n){let r=Dn(e,t);r&&(r.hidden=n,n&&gG(e))}function hG(e,t,n){let r=Dn(e,t);r&&(r.boundingBoxes=n,gG(e))}function gG(e){let t=[];e.columnModels.forEach((e=>{e.boundingBoxes&&!e.hidden&&(t=t.concat(e.boundingBoxes))})),e.boundingBoxes=t}function Sb(e,t){let n=Dn(e,t);return!n||!n.points&&!n.lines}function Dl(e,t,n){if(0===t.row){let r=Dn(e,e.columnModels[t.column].id);if(!r)return;return r.latex=n,void(t.column>=e.columnModels.length-1&&mb(e))}for(var r=e.columnModels[t.column],i=r.values.length;i<t.row-1;i++)r.values[i]="";e.columnModels[r.index].values[t.row-1]=n,t.column>0&&fG(e.columnModels[r.index])}function fG(e){for(;e.values.length>0&&!e.values[e.values.length-1];)e.values.pop()}function mG(e,t){return!!e.columnModels[t.column]&&t.row>=0}function yG(e){let t;if(e.values)for(t of e.values)if(""!==t)return!1;if(e.computedValues)for(t of e.computedValues)if(""!==t)return!1;return!0}function Eb(e,t,n){let r=e.columnModels[n];return r.disabled?r.computedValues[t]||"":r.values[t]||""}function bG(e){let t=Da(e),n=ES(e);for(let r=0;r<n;r++)if(""!==Eb(e,t-1,r))return!1;return!0}var xG={folderId:"",text:"",secret:!1,readonly:!1};function wG(e){return __dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},xG),e)}function vG(e){return __dcg_shared_module_exports__.lc(xG,e)}function CG(e,t){e.text=t}function SG(e,t){let n=__dcg_shared_module_exports__.k(wG(e));return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},n),$s(t)),{cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{},cachedViewState:{}})}function EG(e){zs(e),AR(e),VR(e)}var GR={id:!1,type:!1,folderId:!0,text:!0,secret:!0,readonly:!0};function DG(e,t){__dcg_shared_module_exports__.oc({from:t,to:e,props:GR})}function Db(e,t){var n=e.cachedViewState;return t.stripDefaults?vG(n):n}function AR(e){e.cachedViewState={type:e.type,id:e.id,folderId:e.folderId,text:e.text,secret:e.secret,readonly:e.readonly}}function VR(e){e.cachedUndoRedoDiffState=e.cachedViewState,e.cachedUndoRedoFullState=e.cachedViewState}var LR=0;function PR(){return"helper_item_"+LR++}function IG(e){return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{formula:__dcg_shared_module_exports__.$b(),guid:PR(),cachedParsableState:{type:"statement",id:e.id,latex:e.latex,shouldGraph:!1}})}function MG(e,t,n){var r;t.formula=n;let i=t.proxy,o={numericValue:i.numericValue,listValue:i.listValue},{constant_value:a,zero_values:s}=n,l=null!=a?a:null==(r=(s||[])[0])?void 0:r.val;i.numericValue=__dcg_shared_module_exports__.Ia(l)?l:NaN,i.listValue=__dcg_shared_module_exports__.Ga(l)&&__dcg_shared_module_exports__.na(l,__dcg_shared_module_exports__.Ia)?l.slice(0):void 0,__dcg_shared_module_exports__.Ea(i.numericValue,o.numericValue)||e.runAfterDispatch((()=>{i.notifyPropertyChange("numericValue")})),__dcg_shared_module_exports__.Ea(i.listValue,o.listValue)||e.runAfterDispatch((()=>{i.notifyPropertyChange("listValue")}))}at();var TS={enabled:!1,latex:"",hoveredImage:"",depressedImage:""},kb={center:"\\left(0,0\\right)",angle:"0",width:"10",height:"10",opacity:"1",clickableInfo:TS,description:"",draggable:!1},TG=__dcg_shared_module_exports__.b({folderId:"",hidden:!1,secret:!1,readonly:!1,foreground:!1,name:""},kb);function GG(e){return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},TG),e),{clickableInfo:__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},TS),e.clickableInfo)})}function AG(e){var t=__dcg_shared_module_exports__.lc(TG,e),n=__dcg_shared_module_exports__.mc(TS,e.clickableInfo);return void 0===n?delete t.clickableInfo:t.clickableInfo=n,t}function GS(e){return __dcg_shared_module_exports__.qc(e,kb)}function VG(e){return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({type:"image",id:e.id},GS(e)),{guid:"",index:0,color:"",shouldGraph:e.hidden,showPoints:!1})}function LG(e,t){e.hidden=t}function qo(e,t,n){e[t]=n}function PG(e,t){return e[t]}function OG(e,t){e.description=t}function _G(e,t){e.name=t}function AS(e,t){e.draggable=t}function Du(e){if(e.formula){var t=e.formula.center_reference_id,n=e.formula.center_reference_symbol;if(t&&n){var r=e.controller.getItemModel(t);if(r&&"expression"===r.type&&r.formula.assignment===n&&So(r))return r}}}function _R(e){var t=Du(e);if(!t)return!1;var n=t.reconciledDragMode;return!(!n||"NONE"===n)}function Ws(e){return!!e.draggable&&_R(e)}function FG(e){if(!e.formula||!e.formula.center_is_point_literal)return!1;var t=e.formula.move_strategy;if(!t)return!1;var n=t[2],r=t[3],i=n&&"none"!==n.type,o=r&&"none"!==r.type;return!(!i&&!o)}function RG(e,t){e.opacity=t}function VS(e,t){e.foreground=t}function NG(e,t){e.image_url=t}function Mb(e,t){t(e.opacity,"imageOpacity",e),t(e.center,"imageCenter",e),t(e.height,"imageHeight",e),t(e.width,"imageWidth",e),t(e.angle,"imageAngle",e)}function FR(e){let t=VG(e);t.color=e.color,t.index=e.index,t.guid=e.guid,t.shouldGraph=e.shouldGraph,t.showPoints=e.showPoints,e.cachedParsableState=t}function BG(e){e.draggingOnGraphpaper?e.preTransientState||(e.preTransientState={center:e.center,width:e.width,height:e.height}):delete e.preTransientState,zs(e);let t=Uo(e);e.shouldGraph=(!t||!t.hidden)&&!e.hidden,e.showPoints=e.shouldGraph&&js(e)&&"loaded"===e.loadStatus&&!Ws(e)&&e.controller.isTraceEnabled(),NR(e),BR(e),FR(e)}function KG(e,t){e.formula=t,e.error=RR(e)}function Tb(e){return e.formula&&e.formula.variables||[]}function RR(e){var t={scale:e.controller.s("graphing-calculator-error-log-axes-image"),center:e.controller.s("graphing-calculator-error-image-invalid-center"),angle:e.controller.s("graphing-calculator-error-image-invalid-angle"),width:e.controller.s("graphing-calculator-error-image-invalid-width"),height:e.controller.s("graphing-calculator-error-image-invalid-height"),opacity:e.controller.s("graphing-calculator-error-image-invalid-opacity")};for(var n in e.formula.errorMap){if(e.formula.errorMap[n])return t[n]}}function UG(e,t){return!(!e.formula||!e.formula.errorMap)&&!!e.formula.errorMap[t]}function Gb(e,t){var n=e.cachedViewState;return t.stripDefaults?AG(n):n}function NR(e){var t=e.cachedViewState.clickableInfo,n=!0,r=!0;if(t&&(t.depressedImage===e.clickableInfo.depressedImage&&(r=!1),t.hoveredImage===e.clickableInfo.hoveredImage&&(n=!1)),n&&(e.hoveredImageObj&&(P(e.hoveredImageObj).off("load"),delete e.hoveredImageObj),e.clickableInfo.hoveredImage)){e.hoveredImageObj=new Image;var i=function(){var t=e.controller.getGrapher();t&&t.redrawAllLayers()},o=function(){};Ib(e.hoveredImageObj,e.clickableInfo.hoveredImage,i,o)}if(r&&(e.depressedImageObj&&(P(e.depressedImageObj).off("load"),delete e.depressedImageObj),e.clickableInfo.depressedImage)){e.depressedImageObj=new Image;i=function(){var t=e.controller.getGrapher();t&&t.redrawAllLayers()},o=function(){};Ib(e.depressedImageObj,e.clickableInfo.depressedImage,i,o)}if(e.cachedViewState.image_url!==e.image_url){P(e.imageObj).off("load"),e.imageObj=new Image;let t=function(){e.controller.dispatch({type:"image-load-success",id:e.id})},n=function(){e.controller.dispatch({type:"image-load-error",id:e.id})};Ib(e.imageObj,e.image_url,t,n)}e.cachedViewState=__dcg_shared_module_exports__.b({type:e.type,id:e.id,folderId:e.folderId,image_url:e.image_url,name:e.name,hidden:e.hidden,foreground:e.foreground,secret:e.secret,readonly:e.readonly},GS(e))}function LS(e,t){e.draggingOnGraphpaper=t}function BR(e){var t=e.cachedViewState;e.cachedUndoRedoFullState=e.cachedViewState,e.preTransientState&&(t=__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},t),e.preTransientState)),e.cachedUndoRedoDiffState=t}function KR(e){var t=document.createElement("canvas");return t.width=2,t.height=2,t.getContext("2d").drawImage(e,0,0,2,2),t.toDataURL()}function Ib(e,t,n,r){P(e).on("load.initial-image-load",(function(){var t=e.width,r=e.height;1===t&&1===r?(P(e).off(".initial-image-load"),P(e).on("load",n),e.src=KR(e)):n()})).on("error",r),/^data:/.test(t)||(e.crossOrigin="anonymous"),e.src=t}function qG(e,t){let n=__dcg_shared_module_exports__.k(GG(e));return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},n),$s(t)),{color:__dcg_shared_module_exports__.gc.BLUE,loadStatus:"loading",failures:0,imageObj:new Image,hoveredImageObj:void 0,depressedImageObj:void 0,shouldGraph:void 0,showPoints:void 0,error:void 0,formula:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{}})}var UR=__dcg_shared_module_exports__.b({id:!1,type:!1,image_url:!0,name:!0,folderId:!0,hidden:!0,secret:!0,readonly:!0,foreground:!0},__dcg_shared_module_exports__.rc(kb));function HG(e,t){__dcg_shared_module_exports__.oc({from:t,to:e,props:UR})}function $G(e){let{controller:t,files:n,id:r}=e,i={errors:[],tokens:[]};for(let e=0;e<n.length;e++){let o=n[e];o.type.match("image/*")?i.tokens.push(HR({controller:t,file:o,id:r})):i.errors.push(t.s("graphing-calculator-error-image-invalid-file",{file:o.name}))}return i}var qR=0;function HR(e){let{controller:t,file:n,id:r}=e,i=""+qR++;return t.getGraphSettings().config.imageUploadCallback(n,((e,o)=>{setTimeout((()=>{if(e)t.dispatch({type:"image-upload-error",token:i,error:e});else{let e=new Image;Ib(e,o,(function(){var a=e.width,s=e.height,l=Math.max(a,s)/Math.min(a,s);a<s?(s=10,a=Math.round(10*s/l)/10):(a=10,s=Math.round(10*a/l)/10),t.dispatch({type:"image-upload-success",token:i,url:o,width:a+"",height:s+"",name:n.name,id:r})}),(function(){t.dispatch({type:"image-upload-error",token:i,error:""})}))}}))})),i}function Ab(e,t){e.loadStatus=t,"loaded"===t&&(e.failures=0),"failed"===t&&(e.failures+=1)}function PS(e){e.imageObj.src=e.imageObj.src,Ab(e,"loading")}function Vb(e,t,n){e.clickableInfo=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.clickableInfo),{[t]:n})}function zG(e,t){e.clickableInfo=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.clickableInfo),{latex:t})}function Lb(e){return!!(e.clickableInfo.enabled&&e.formula&&e.formula.click_handler&&"maybe-valid"===e.formula.click_handler.status)}var Iu={handlerLatex:"",minStepLatex:"",open:!1,playing:!1};function WG(e){return __dcg_shared_module_exports__.mc(Iu,e)}function jG(e){return __dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},Iu),e)}var YG="dcg_ticker_guid_internal",$R=YG;function JG(){return OS(Iu)}function zR(e){e.cachedParsableState={type:"ticker",id:e.id,handlerLatex:e.handlerLatex,minStepLatex:e.minStepLatex,shouldGraph:!1}}function XG(e,t){return t.stripDefaults?WG(e.cachedViewState):e.cachedViewState}function QG(e){return e.cachedUndoRedoDiffState}function ZG(e){return e.cachedUndoRedoFullState}function WR(e){e.cachedViewState={handlerLatex:e.handlerLatex,minStepLatex:e.minStepLatex,playing:e.playing,open:e.open}}function jR(e){var t=e.cachedViewState;e.cachedUndoRedoDiffState=t,e.cachedUndoRedoFullState=t}function OS(e){let t=jG(e);return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t),{type:"ticker",guid:YG,id:$R,avgDelta:0,lastTickTime:void 0,cachedViewState:{},cachedParsableState:{},cachedUndoRedoDiffState:{},cachedUndoRedoFullState:{},filteredBySearch:!1})}function eA(e,t){__dcg_shared_module_exports__.pc(t,e)}function tA(e,t){e.formula=t}function rA(e){WR(e),jR(e),zR(e)}function iA(e,{currentFrameTime:t,previousFrameTime:n}){var r,i;if(!e.playing||"maybe-valid"!==(null==(r=e.formula)?void 0:r.handler.status))return!1;if(null==e.lastTickTime||null==n)return!0;if("valid"!==(null==(i=e.formula)?void 0:i.minStep.status))return!1;let o=e.formula.minStep.value,a=e.lastTickTime+o;return t>=a||a-t<(t-n)/2}function nA(e,t){e.lastTickTime=t}function oA(e){if(e.formula)return"error"===e.formula.handler.status?e.formula.handler.error:void 0}function aA(e){if(e.formula)return"error"===e.formula.minStep.status?e.formula.minStep.error:void 0}function ig(e){var t;return(null==(t=e.formula)?void 0:t.variables)||[]}function Pb(e,t){t(e.handlerLatex,"tickerHandler",e),t(e.minStepLatex,"tickerMinStep",e)}function YR(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")}function JR(e){return e.replace(/\\\\right\\(\\*[})\]|])/g,".*\\\\right\\$1").replace(/ ?\\([}\]])/g,".*\\$1")}function lA(e){let t=JR(YR(e));return new RegExp(t)}function XR(e){switch(e.type){case"TokenNode":case"Letter":return!0;case"OperatorName":for(let t of e.arg.args)if("Letter"!==t.type)return!1;return!0;case"Cmd":{let t=__dcg_shared_module_exports__.Tb[e.val];return void 0===t||("Ln"===t||"Log"===t||"Trig"===t)}default:return!1}}function _S(e){let t;try{t=__dcg_shared_module_exports__.Pb(e)}catch(e){return}if(0===t.args.length||t.args.length>2)return;let n,r=t.args[0];if(XR(r)){if(t.args.length>1){let e=t.args[1];if("SupSub"!==e.type)return;let{sup:r,sub:i}=e;if(void 0!==r||void 0===i)return;for(let e of i.args)if("Letter"!==e.type&&"Digit"!==e.type)return;n=i}return{base:r,subscript:n}}}function Ys(e){return void 0!==_S(e)}function _b(e,t){let n=_S(t);if(void 0===n)return[];let r,i=[];try{r=__dcg_shared_module_exports__.Pb(e)}catch(e){return i}return ng(r,n,i,{wrapInBraces:!1}),i}function kl(e,t){return 0!==_b(e,t).length}function Fb(e,t,n){return void 0===_S(n)?e:FS(e,t,n)}function FS(e,t,n){let r=_b(e,t);if(0===r.length)return e;let i="",o=0;for(let t of r){if(i+=e.slice(o,t.base.start),t.wrapInBraces&&(i+="{"),i+=n,o=t.base.end,t.subscript){let n=0,r=0;for(let i=t.subscript.start;i>=0;i--)if("{"===e[i]&&(n+=1),"_"===e[i]){r=i;break}i+=e.slice(o,r),o=t.subscript.end;for(let r=t.subscript.end;r<e.length&&!(n<=0);r++)"}"===e[r]&&(n-=1,o=r+1)}t.wrapInBraces&&(i+="}")}return i+=e.slice(o,e.length),i}function sA(e,t){if(e.args.length!==t.args.length)return!1;for(let n=0;n<e.args.length;n++){let r=e.args[n],i=t.args[n];if(!("Letter"===r.type&&"Letter"===i.type&&r.val===i.val||"Digit"===r.type&&"Digit"===i.type&&r.val===i.val))return!1}return!0}function QR(e,t,n){let r=e.arg.args,i=t.arg.args;if(r.length===i.length){for(let e=0;e<r.length;e++){let t=r[e],n=i[e];if("Digit"!==t.type||t.type!==n.type||t.val!==n.val)return}n.push({base:t.span,wrapInBraces:!1})}}function ng(e,t,n,{wrapInBraces:r}){let{base:i,subscript:o}=t;for(let a=0;a<e.args.length;a++){let s,l=e.args[a];if(a+1<e.args.length){let t=e.args[a+1];"SupSub"===t.type&&void 0!==t.sub&&(s=t.sub)}switch(l.type){case"Letter":case"Cmd":if(i.type!==l.type||i.val!==l.val)break;o&&s&&sA(o,s)?n.push({base:l.span,subscript:s.span,wrapInBraces:r}):!o&&!s&&n.push({base:l.span,wrapInBraces:r});break;case"OperatorName":{if(i.type!==l.type||i.arg.args.length!==l.arg.args.length)break;let e=!0;for(let t=0;t<i.arg.args.length;t++){let n=i.arg.args[t],r=l.arg.args[t];if("Letter"!==n.type||"Letter"!==r.type||n.val!==r.val){e=!1;break}}if(!e)break;o&&s&&sA(o,s)?n.push({base:l.span,subscript:s.span,wrapInBraces:r}):!o&&!s&&n.push({base:l.span,wrapInBraces:r});break}case"Digit":case"Symbol":case"EscapedSymbol":break;case"LeftRight":case"Sqrt":ng(l.arg,t,n,{wrapInBraces:!1});break;case"Frac":ng(l.num,t,n,{wrapInBraces:!1}),ng(l.den,t,n,{wrapInBraces:!1});break;case"SupSub":if(l.sup){let e=!1;for(let t=l.sup.span.start;t>=0;t--){let n=l.sup.span.input[t];if("^"===n)break;"{"===n&&(e=!0)}ng(l.sup,t,n,{wrapInBraces:!e})}break;case"TokenNode":if(i.type!==l.type)break;QR(i,l,n);break;default:throw new Error("Unexpected token type: "+l.type)}}}function pA(e){return{controller:e,__itemModelArray:[],__itemIdToModel:{},__helperIdToModel:{},__toolPreviewIdToModel:{},__anyDependsOnRandomSeed:!1,__anyIsAction:!1,selectedItemMap:{},drawOrder:[],colorIdx:0,expressionAnalysis:{},nextDisplayIndex:1,ticker:JG()}}function hA(e){for(var t=0;t<e.__itemModelArray.length;t++){var n=e.__itemModelArray[t];if("image"===n.type&&"loading"===n.loadStatus)return!0}return!1}function gA(e){var t=__dcg_shared_module_exports__.ma(__dcg_shared_module_exports__.Ca(e.controller.getColors()),(e=>e!=__dcg_shared_module_exports__.gc.ORANGE)),n=t[e.colorIdx];return e.colorIdx=(e.colorIdx+1)%t.length,n}function Au(e,t){return e.__itemModelArray[t]}function Vu(e){for(let t=0;t<e.__itemModelArray.length;t++){let n=e.__itemModelArray[t];if(Lu(n))return n}}function Nb(e){for(let t=e.__itemModelArray.length-1;t>=0;t--){let n=e.__itemModelArray[t];if(Lu(n))return n}}function sd(e,t){var n;do{if(-1===--t)return;n=Au(e,t)}while(n&&!Lu(n));return n}function ld(e,t){var n,r=sg(e);do{if(++t===r)return;n=Au(e,t)}while(n&&!Lu(n));return n}function Uo(e){if("folder"!==e.type&&e.folderId){let t=es(e.controller.getListModel(),e.folderId);if(t&&"folder"===t.type)return t}}function fA(e,t){let n=es(e,t);if(!n||"folder"!==n.type)return 0;let r=0,i=e.__itemModelArray.length;for(var o=n.index+1;o<i;o++){let n=e.__itemModelArray[o];if("folder"===n.type||n.folderId!==t)break;r+=1}return r}function mA(e,t){let n=es(e,t);if(!n||"folder"!==n.type)return[];let r=[],i=e.__itemModelArray.length;for(var o=n.index+1;o<i;o++){let n=e.__itemModelArray[o];if("folder"===n.type||n.folderId!==t)break;r.push(n.id)}return r}function yA(e,t){let n=[],r=es(e,t);if(!r||"folder"!==r.type)return n;let i=e.__itemModelArray.length;for(let o=r.index+1;o<i;o++){let r=e.__itemModelArray[o];if("folder"===r.type||r.folderId!==t)break;n.push(r)}return n}function NS(e){return!(!e||!e.readonly)}function og(e){if(!e)return!1;if(e.secret)return!0;let t=Uo(e);return!(!t||!t.secret)}function Lu(e){return!BS(e)}function BS(e){if(!e||e.filteredBySearch)return!0;if(e.controller.isItemBeingDragged(e.id))return!1;if(!e.controller.shouldShowAuthorFeatures()&&og(e))return!0;let t=Uo(e);return!(!t||!t.collapsed||e.controller.getExpressionSearchStr())}function Bb(e){return e.__itemModelArray}function bA(e){return __dcg_shared_module_exports__.Ca(e.__helperIdToModel)}function Pu(e){return __dcg_shared_module_exports__.Ca(e.__toolPreviewIdToModel)}function Ou(e,t){for(var n=0;n<e.__itemModelArray.length;n++){Tu(e.__itemModelArray[n],t)}for(var r in e.__toolPreviewIdToModel)Tu(e.__toolPreviewIdToModel[r],t);e.ticker.open&&(t(e.ticker.handlerLatex,"tickerHandler",e.ticker),t(e.ticker.minStepLatex,"tickerMinStep",e.ticker))}function Tu(e,t){switch(e.type){case"expression":jb(e,t);break;case"table":yb(e,t);break;case"image":Mb(e,t);break;case"ticker":Pb(e,t);break;case"folder":case"text":break;default:return e}}function Mu(e,t){return!!e.replace(/([_^])([a-z0-9])/gi,"$1{$2}").match(t)}function xA(e,t){if(!Ys(t))return!1;let n=!1;return Ou(e,(e=>{kl(e,t)&&(n=!0)})),n}function wA(e,t){let n=0,r=Ys(t);e.ticker.filteredBySearch=e.ticker.open&&!kl(e.ticker.handlerLatex,t)&&!kl(e.ticker.minStepLatex,t);for(let i of e.__itemModelArray)if(r){switch(i.filteredBySearch=!0,i.type){case"expression":jb(i,(e=>{kl(e,t)&&(i.filteredBySearch=!1,n++)})),i.label&&i.showLabel&&i.label.match(Rb(t))&&(i.filteredBySearch=!1,n++);break;case"table":yb(i,(e=>{kl(e,t)&&(i.filteredBySearch=!1,n++)}));break;case"image":Mb(i,(e=>{kl(e,t)&&(i.filteredBySearch=!1,n++)}));break;case"folder":case"text":break;default:return i}!i.filteredBySearch&&"folder"!==i.type&&i.folderId&&(e.__itemIdToModel[i.folderId].filteredBySearch=!1,n++)}else i.filteredBySearch=!1,n++;return n}function vA(e,t){let n=0,r=lA(t);e.ticker.filteredBySearch=e.ticker.open&&!Mu(e.ticker.handlerLatex,r)&&!Mu(e.ticker.minStepLatex,r);for(var i=0;i<e.__itemModelArray.length;i++)if(t){var o=e.__itemModelArray[i];switch(o.filteredBySearch=!0,o.type){case"expression":jb(o,(e=>{Mu(e,r)&&(o.filteredBySearch=!1,n++)})),o.label&&o.showLabel&&("\\operatorname{label}"===t||t.length>1&&0==="label".indexOf(t)||Mu(o.label,r))&&(o.filteredBySearch=!1,n++);break;case"table":yb(o,(e=>{Mu(e,r)&&(o.filteredBySearch=!1,n++)}));break;case"image":Mb(o,(e=>{Mu(e,r)&&(o.filteredBySearch=!1,n++)}));break;case"folder":o.title&&o.title.indexOf(t)>=0&&(o.filteredBySearch=!1,n++);break;case"text":o.text.indexOf(t)>=0&&(o.filteredBySearch=!1,n++);break;default:return o}!o.filteredBySearch&&"folder"!==o.type&&o.folderId&&(e.__itemIdToModel[o.folderId].filteredBySearch=!1,n++)}else e.__itemModelArray[i].filteredBySearch=!1;return n}function Rb(e,t){return new RegExp("\\$\\{"+e.replace("{","\\{?").replace("}","\\}?").replace("_","\\_?")+"\\}",t)}function CA(e,t){let n=0;for(var r=0;r<e.__itemModelArray.length;r++){var i=e.__itemModelArray[r];if("expression"===i.type&&i.showLabel&&i.label){let e=i.label.match(Rb(t,"g"));e&&(n+=e.length)}}return Ou(e,(e=>{n+=_b(e,t).length})),n}function _u(e,t,n,r){n=n.trim().replace(/_\{([a-zA-Z0-9])\}/g,"_$1");for(var i=0;i<e.__itemModelArray.length;i++){var o=e.__itemModelArray[i];"expression"===o.type&&o.showLabel&&o.label&&o.label.match(Rb(t))&&Ml(o,o.label.replace(Rb(t,"g"),"${"+n.trim()+"}"))}Ou(e,((e,i,o,a)=>{if(r&&void 0!==r.limitToItem&&r.limitToItem!==o.id||r&&void 0!==r.limitToFolder&&("ticker"===o.type||"folder"===o.type||r.limitToFolder!==o.folderId))return;let s=Fb(e,t,n);if(s!==e){let e;switch(a&&o.columnModels&&(e=o.columnModels[a.cellLocation.column].id),i){case"latex":sa(o,s);break;case"cdfMin":Jb(o,s);break;case"cdfMax":Xb(o,s);break;case"colorLatex":wg(o,s);break;case"lineWidth":qu(o,s);break;case"clickableInfoLatex":zb(o,s);break;case"fillOpacity":yg(o,s);break;case"lineOpacity":Uu(o,s);break;case"pointOpacity":bg(o,s);break;case"pointSize":xg(o,s);break;case"labelAngle":Yb(o,s);break;case"labelSize":vg(o,s);break;case"polarDomainMin":hg(o,s);break;case"polarDomainMax":fg(o,s);break;case"parametricDomainMin":gg(o,s);break;case"parametricDomainMax":mg(o,s);break;case"sliderMin":dg(o,s);break;case"sliderMax":ug(o,s);break;case"sliderStep":pg(o,s);break;case"imageOpacity":qo(o,"opacity",s);break;case"imageCenter":qo(o,"center",s);break;case"imageHeight":qo(o,"height",s);break;case"imageWidth":qo(o,"width",s);break;case"imageAngle":qo(o,"angle",s);break;case"tickerHandler":o.handlerLatex=s;break;case"tickerMinStep":o.minStepLatex=s;break;case"tableHeader":case"tableCellValue":if(!a||"table"!==o.type)break;Dl(o,a.cellLocation,s);break;case"tableColumnColorLatex":e&&Cb(o,e,s);break;case"tableColumnPointSize":e&&wb(o,e,s);break;case"tableColumnPointOpacity":e&&vb(o,e,s);break;case"tableColumnLineWidth":e&&bb(o,e,s);break;case"tableColumnLineOpacity":e&&xb(o,e,s);break;case"residualVariable":break;default:throw new Error(`Unexpected latex location ${i}`)}}}))}function ag(e){var t=[];Ou(e,(function(e){if(-1===e.indexOf("~")&&-1===e.indexOf("\\sim"))for(var n=/_(\d)|_\{(?:\s|\\space)*(\d+)(?:\s|\\space)*\}/g;;){var r=n.exec(e);if(!r)break;t.push(parseInt(r[1]||r[2],10))}})),t.sort((function(e,t){return e-t}));for(var n=1,r=0;r<t.length;r++)t[r]===n&&n++;return n}function SA(e){var t=0;return Ou(e,(function(e){for(var n=/\\token\{(\d+)\}/g;;){var r=n.exec(e);if(!r)break;var i=parseInt(r[1],10);i>t&&(t=i)}})),t}function EA(e){var t={};return Ou(e,(function(e){if(-1===e.indexOf("~")&&-1===e.indexOf("\\sim"))for(var n=/(\\?[a-zA-Z]+)_(\d)|(\\?[a-zA-Z]+)_\{(?:\s|\\space)*(\d+)(?:\s|\\space)*\}/g;;){var r=n.exec(e);if(!r)break;var i=r[1]||r[3],o=r[2]||r[4];"\\"!==i[0]&&(i=i[i.length-1]);var a=parseInt(o,10);t[i]||(t[i]=0),a>t[i]&&(t[i]=a)}})),t}function DA(e){var t=[],n={points:[],angles:[],polygons:[],other:[]};function r(e){"expression"!==e.type||e.folderId!==__dcg_shared_module_exports__.vc?"table"===e.type?__dcg_shared_module_exports__.ka(e.columnModels,(function(e){t.push(e.id)})):t.push(e.id):Ma(e)?n.points.push(e.id):UA(e)?n.angles.push(e.id):Js(e)?n.polygons.push(e.id):n.other.push(e.id)}e.__itemModelArray.forEach(r),Pu(e).forEach(r),t.push.apply(t,n.polygons),t.push.apply(t,n.other),t.push.apply(t,n.angles),t.push.apply(t,n.points),e.drawOrder=t}function es(e,t,n){let r=e.__itemIdToModel[t];return r||(n&&n.includePreviewItems?e.__toolPreviewIdToModel[t]:void 0)}function Fu(e,t){for(var n=[],r=0;r<e.__itemModelArray.length;r++){var i=e.__itemModelArray[r];"expression"===i.type&&kn(i)===t&&n.push(i)}return n}function ZR(e,t){return e.__helperIdToModel[t]}function kA(e,t){var n=IG(t);e.__helperIdToModel[n.id]=n}function KS(e){e.__anyDependsOnRandomSeed=!1;for(var t=0;t<e.__itemModelArray.length;t++){var n=e.__itemModelArray[t];if(n&&"formula"in n&&n.formula&&n.formula.depends_on_random_seed)return void(e.__anyDependsOnRandomSeed=!0)}}function IA(e){e.__anyIsAction=!1}function Kb(e){if(!e.__anyIsAction){if(e.ticker.open)return void(e.__anyIsAction=!0);for(var t=0;t<e.__itemModelArray.length;t++){var n=e.__itemModelArray[t];if(n&&"formula"in n&&n.formula){if("expression"!==n.type&&"image"!==n.type)continue;let{formula:t}=n;if(t.hasOwnProperty("action_value")||t.hasOwnProperty("click_handler"))return void(e.__anyIsAction=!0)}}}}function cd(e){for(var t=!e.controller.shouldShowAuthorFeatures(),n=1,r=1,i=0;i<e.__itemModelArray.length;i++){var o=e.__itemModelArray[i];o.index=i,o.displayIndex=n,og(o)&&(o.secretIndex=r,r+=1),(!t||!og(o))&&(n+=1)}for(var a in e.selectedItemMap)e.__itemIdToModel[a]||delete e.selectedItemMap[a];e.nextDisplayIndex=n}function eN(e){e.__itemModelArray=[],e.__itemIdToModel={},e.__helperIdToModel={},e.__toolPreviewIdToModel={},e.__anyDependsOnRandomSeed=!1}function US(e,t){let n={},r=[];return t.forEach((t=>{let i=e.__itemIdToModel[t];if(i&&!NS(i)){let i=Ku(e,t);for(let e of i)n[e.id]||(n[e.id]=!0,r.push(e))}})),r}function sg(e){return e.__itemModelArray.length}function MA(e){return 1===e.nextDisplayIndex}function TA(e){for(var t=[],n=0;n<e.__itemModelArray.length;n++){var r=e.__itemModelArray[n];"expression"===r.type&&r.sliderExists&&t.push(r)}return t}function Ru(e){var t;for(var n in e.selectedItemMap){if(void 0!==t)return;t=n}if(void 0!==t)return e.__itemIdToModel[t]}function GA(e){return __dcg_shared_module_exports__.b({},e.selectedItemMap)}function Ub(e){var t=[];for(var n in e.selectedItemMap)t.push(e.__itemIdToModel[n]);return t}function AA(e){return{list:e.__itemModelArray.map((function(e){return e.cachedUndoRedoDiffState})),ticker:QG(e.ticker)}}function qS(e){return{list:e.__itemModelArray.map((function(e){return e.cachedUndoRedoFullState})),ticker:ZG(e.ticker)}}function VA(e,t){let n={list:e.__itemModelArray.map((function(e){switch(e.type){case"expression":return dd(e,t);case"image":return Gb(e,t);case"table":return Eu(e,t);case"folder":return ub(e,t);case"text":return Db(e,t);default:return e}}))},r=XG(e.ticker,t);return r&&(n.ticker=r),n}function LA(e){let t=0,n=/^[0-9]+$/;for(var r=e.list.length-1;r>=0;r--){var i=e.list[r];let o=i.id;if(n.test(o)){let e=parseInt(o,10);e>t&&(t=e)}if("table"===i.type&&i.columns)for(let e=i.columns.length-1;e>=0;e--)if(o=i.columns[e].id,n.test(o)){let e=parseInt(o,10);e>t&&(t=e)}}return t}function PA(e,t,n){var r,i;for(n||(n={}),e.colorIdx=0,eN(e),e.expressionAnalysis={},r=0;r<t.list.length;r++){if(i=Gu(e,t.list[r]),n.remapColors&&"color"in i&&i.color){var o=__dcg_shared_module_exports__.Ca(e.controller.getColors());__dcg_shared_module_exports__.pa(o,i.color)||(i.color=G0(i.color,o))}e.__itemModelArray.push(i),e.__itemIdToModel[i.id]=i}if(e.ticker=OS(t.ticker),cd(e),1===e.nextDisplayIndex){var a=Gu(e,{type:"expression",id:e.controller.generateId(),color:e.controller.getNextColor()});ka(e,a,e.__itemModelArray.length)}}function Gu(e,t){switch(t.type){case"expression":return Wb(t,e.controller);case"table":return nG(t,e.controller);case"image":return qG(t,e.controller);case"folder":return V0(t,e.controller);case"text":return SG(t,e.controller);default:return t}}function OA(e,t){var n,r;let i=e.__itemIdToModel;for(e.__itemModelArray=[],e.__itemIdToModel={},n=0;n<t.list.length;n++){var o=t.list[n];if((r=i[o.id])&&r.type===o.type)switch(r.type){case"expression":if(o.type!==r.type)throw new Error("invalid restoration");KA(r,o);break;case"table":if(o.type!==r.type)throw new Error("invalid restoration");iG(r,o);break;case"image":if(o.type!==r.type)throw new Error("invalid restoration");HG(r,o);break;case"folder":if(o.type!==r.type)throw new Error("invalid restoration");P0(r,o);break;case"text":if(o.type!==r.type)throw new Error("invalid restoration");DG(r,o);break;default:return r}else r=Gu(e,o);e.__itemModelArray.push(r),e.__itemIdToModel[r.id]=r}t.ticker&&eA(e.ticker,t.ticker),KS(e),Kb(e),cd(e)}function _A(e,t,n){let r,i=es(e,n[0]&&n[0].tableId||t);if(i)switch(i.type){case"expression":let e=!1;i.__workerNeedsDotplotXMode=!1;for(let t=0;t<n.length;t++){let o=n[t];if(13!==o.graphMode&&12!==o.graphMode&&14!==o.graphMode){if(15===o.graphMode){i.error=o.error;continue}"resolved"in o&&!o.resolved&&(e=!0),o.boundingBox&&(r||(r=[]),r.push(o.boundingBox)),o.needsDotplotXMode&&(i.__workerNeedsDotplotXMode=!0)}}i.unresolved=e,i.boundingBoxes=r;let o=1/0,a=-1/0;for(let e of n){if(6!==e.graphMode)continue;let t=e.sampledDomain;t&&(o=Math.min(o,t.min),a=Math.max(a,t.max))}return isFinite(o)&&(i.__workerSampledDomainMin=o),void(isFinite(a)&&(i.__workerSampledDomainMax=a));case"table":for(let e=0;e<n.length;e++){let t=n[e];13===t.graphMode||12===t.graphMode||14===t.graphMode||t.boundingBox&&(r||(r=[]),r.push(t.boundingBox))}return void(r&&hG(i,t,r));default:return}}function FA(e,t){var n,r,i,o=__dcg_shared_module_exports__.k(e.expressionAnalysis);for(n in t){if(!t.hasOwnProperty(n))continue;i=t[n],r=es(e,n);let a={isGraphable:!!i.is_graphable,isError:!!i.error,errorMessage:i.error?e.controller.unpack(i.error):void 0};if(r)switch(r.type){case"expression":if(RS(r,i),i.zero_values&&1===i.zero_values.length){let e=i.zero_values[0].val;__dcg_shared_module_exports__.Ia(e)&&(a.evaluation={type:"Number",value:e},a.evaluationDisplayed=!0),__dcg_shared_module_exports__.Ga(e)&&e.every(__dcg_shared_module_exports__.Ia)&&(a.evaluation={type:"ListOfNumber",value:e.slice()},a.evaluationDisplayed=!0)}else i.hasOwnProperty("constant_value")&&__dcg_shared_module_exports__.Ia(i.constant_value)&&(a.evaluation={type:"Number",value:i.constant_value},a.evaluationDisplayed=!1);break;case"image":KG(r,i);break;case"table":Q0(r,i);break;case"folder":case"text":break;default:return r}else n===e.ticker.id&&tA(e.ticker,i);let s=ZR(e,n);if(s)MG(e.controller,s,i);else{let t=e.__toolPreviewIdToModel[n];t&&RS(t,i)}n!==e.ticker.id&&(o[n]=a)}KS(e),Kb(e),e.expressionAnalysis=o}function Dr(e,t){if(e.selectedItemMap={},t){if("image"===t.type&&t.folderId){let n=es(e,t.folderId);n&&"folder"===n.type&&n.collapsed&&(t=n)}e.selectedItemMap[t.id]=!0}}function HS(e,t){e.selectedItemMap[t]?delete e.selectedItemMap[t]:e.selectedItemMap[t]=!0}function $S(e,t){e.selectedItemMap=__dcg_shared_module_exports__.b({},t)}function Nu(e,t,n,r){if(t===n)return;let i=e.__itemModelArray.splice(t,r);t<n&&(n=n-r+1),e.__itemModelArray.splice.apply(e.__itemModelArray,[n,0,...i]),cd(e)}function ka(e,t,n){var r=String(t.id);if(e.__itemIdToModel.hasOwnProperty(r))throw Error("Item with id '"+r+"' is already in list");e.__itemIdToModel[r]=t,e.__itemModelArray.splice(n,0,t),cd(e)}function ts(e,t){ka(e,t,sg(e))}function Bu(e,t){let n=[];var r=e.__itemModelArray[t];if("folder"===r.type){let o=0,a=t+1;for(let t=a;t<e.__itemModelArray.length;t++){var i=e.__itemModelArray[t];if("folder"===i.type||i.folderId!==r.id)break;js(i)&&Dr(e,void 0),i.readonly?(t>a&&(e.__itemModelArray[t]=e.__itemModelArray[a],e.__itemModelArray[a]=i),Eo(i,""),a+=1):(delete e.__itemIdToModel[i.id],delete e.expressionAnalysis[r.id],o+=1)}o>0&&n.push(...e.__itemModelArray.splice(a,o))}return js(r)&&Dr(e,void 0),n.push(...e.__itemModelArray.splice(t,1)),delete e.__itemIdToModel[r.id],delete e.expressionAnalysis[r.id],KS(e),cd(e),n}function RA(e){return e.__anyDependsOnRandomSeed}function NA(e){return e.__anyIsAction}function Ku(e,t){let n=es(e,t);return n?Bu(e,n.index):[]}function qb(e){let t=Ru(e);if(!t)return!1;let n=sd(e,t.index);return!!n&&(Dr(e,n),n.index===sg(e)-1&&"expression"===t.type&&Ia(t)&&Bu(e,n.index),!0)}function Hb(e){let t=Ru(e);if(!t)return!1;let n=ld(e,t.index);return!!n&&(Dr(e,n),!0)}function js(e){return!!e.controller.getListModel().selectedItemMap[e.id]}function lg(e,t){e.dragState=t}function cg(e){switch(e.type){case"expression":return $b(e);case"image":return Tb(e);case"table":case"text":case"folder":return[];default:return e}}function BA(e,t){for(let n of Bb(e))"folder"===n.type&&vu(n,t)}var tN=0;function rN(){return"abstract_item_"+tN++}function $s(e){return{guid:rN(),controller:e,index:-1,displayIndex:-1,secretIndex:-1,isHiddenFromUI:!0,renderShell:!0}}function zS(e,t){e.secret=t}function Qb(e,t){e.readonly=t}function Eo(e,t){"folder"!==e.type&&(e.folderId=t)}function zs(e){e.isHiddenFromUI=BS(e)}function qA(e){return e.isHiddenFromUI||e.filteredBySearch?"none":e.renderShell?"shell":"render"}function rs(e){let t=Cg(e);return Array.isArray(t)?t[0]:t}function Cg(e){if(!e.colorLatex)return e.color;let t,n;return"expression"===e.type?(t=$A(e),n=HA(e)):"table-column"===e.type&&(t=J0(e),n=$0(e)),n&&t?t:e.color}function Sg(e){let t=__dcg_shared_module_exports__.Vb(e);if("Assignment"!==t.type)return NaN;if("Constant"!==t._expression.type)return NaN;if(!new __dcg_shared_module_exports__.Gc({enableGeometry:!1,scales:void 0}).validLHS(t._symbol))return NaN;if(__dcg_shared_module_exports__.ia[t._symbol])return NaN;let n=t._expression.asValue();return"number"==typeof n?n:NaN}function jS(e){return void 0===e?NaN:+e}var WA={smallCutoff:1e-6,bigCutoff:1e9,digits:12};function jA(e){let t=e.formula;return!!t&&(e.controller.isDecimalToFractionEnabled()&&t.hasOwnProperty("constant_value")&&__dcg_shared_module_exports__.Qa(jS(t.constant_value)))}function ex(e){return!(!e.formula||!e.formula.is_graphable)}function YS(e){let t=e.formula;if(!t)return!1;let n=t.is_evaluable&&t.zero_values&&t.zero_values.length>0&&"boolean"!=typeof t.zero_values[0].val,r=jA(e)&&xc(e),i=!!t.rgb_value&&e.formula.assignment;return n||r||i}function JS(e){let t=e.formula;return YS(e)?t.zero_values&&t.zero_values.length?t.zero_values[0].val:t.rgb_value?t.rgb_value:t.constant_value:jA(e)?e.formula.constant_value:NaN}function Dg(e){var t=e.formula.ttest_results;if(t&&isFinite(t.lessThan))return{lessThan:t.lessThan,greaterThan:t.greaterThan,notEqual:t.notEqual}}function Hu(e){var t=e.formula.stats_results;if(t&&isFinite(t.min))return{min:t.min,q1:t.q1,median:t.median,q3:t.q3,max:t.max}}function bc(e,t){if(!isFinite(t))return e;let n=e.indexOf("=")+1;return ai(e.slice(n),!1)===t?e:e.slice(0,n)+__dcg_shared_module_exports__.Zb(t)}function Ia(e){return""===((e.latex||"")+(e.label||"")).split(" ").join("")}function nN(e){var t="AUTO"===e.dragMode&&void 0!==e.formula.default_drag_mode?e.formula.default_drag_mode:e.dragMode;"AUTO"===e.dragMode&&Gg(e)&&(t="NONE"),e.reconciledDragMode=__dcg_shared_module_exports__.m(t,e.formula.move_strategy),e.interactiveLabel&&"NONE"!==e.reconciledDragMode&&Tg(e,!1)}function Ta(e,t,n){if(!e.sliderExists)return NaN;let r=la(e),i=is(e),o=Ga(e);if(n&&void 0!==n.overwriteStep&&(o=n.overwriteStep),t=__dcg_shared_module_exports__.ab({target:t,hardMin:e.slider.hardMin?r:void 0,hardMax:e.slider.hardMax?i:void 0,step:o}),!n||!n.ignoreSoftLimits){if(!e.slider.hardMin&&t<r)return r;if(!e.slider.hardMax&&t>i)return i}return t}function XS(e,t,n={}){if(!e.sliderExists)return NaN;let r=ca(e),i=la(e),o=is(e),a=Ga(e);void 0===n.overwriteStep&&(n.overwriteStep=a||(o-i)/20);var s=0;switch(t){case"min":return Ta(e,i);case"max":return Ta(e,o);case"up":s=1;break;case"down":s=-1;break;case"bigup":s=5;break;case"bigdown":s=-5;break;default:return t}let l=r;for(var c=0;c<20;c++){let t=c/3*n.overwriteStep,i=r;if(s>0)r=Ta(e,l+t,n),r>i&&(s-=1);else{if(!(s<0))break;r=Ta(e,l-t,n),r<i&&(s+=1)}}return r}function tx(e,t){if(e.sliderExists){e.slider.isPlaying&&$o(e,!1);var n=Ta(e,t,{ignoreSoftLimits:!0});e.latex=bc(e.latex,n)}}function YA(e,t,n){if(e.sliderExists){e.slider.isPlaying&&$o(e,!1),zu(e);var r=XS(e,t,n);e.latex=bc(e.latex,r)}}function JA(e,t){if(e.sliderExists){e.slider.isPlaying&&$o(e,!1);var n=Ta(e,t);e.latex=bc(e.latex,n)}}function XA(e,t){if(!e.sliderExists||e.resetSliderAnimationTargetValue)return;var n=e.sliderLastTickTime;if(e.sliderLastTickTime=t,void 0===n)return;var r=t-n;let i=la(e),o=is(e),a=Ga(e),s=e.slider.animationPeriod,l=e.slider.loopMode;if(isNaN(e.sliderAnimationTargetValue)){var c=ca(e);isNaN(c)||(e.sliderAnimationTargetValue=c)}var d,p,u=a?a/2:0;if("LOOP_FORWARD_REVERSE"===l)e.sliderAnimationTargetValue>=o?In(e,{playDirection:-1}):e.sliderAnimationTargetValue<=i&&In(e,{playDirection:1});else if("LOOP_FORWARD"===l)In(e,{playDirection:1}),e.sliderAnimationTargetValue>=o+u&&(e.sliderAnimationTargetValue=i-u);else if("PLAY_ONCE"===l)In(e,{playDirection:1});else{if("PLAY_INDEFINITELY"!==l)throw new Error("Unexpected slider loop mode: "+l);In(e,{playDirection:1})}if(isFinite(r)||(r=0),"PLAY_INDEFINITELY"===l)d=r/(s/4),a&&(d*=a),e.sliderAnimationTargetValue+=d,p=e.sliderAnimationTargetValue,a||(p=mi(p-.1*d,p+.1*d)),p=Ta(e,p,{ignoreSoftLimits:!0}),e.latex=bc(e.latex,p);else{if(d=(o-i)*(r=Math.min(r,s/10))/s,e.sliderAnimationTargetValue+=d*e.slider.playDirection,e.sliderAnimationTargetValue=Math.max(i-u,Math.min(o+u,e.sliderAnimationTargetValue)),p=e.sliderAnimationTargetValue,!a){let e=d/r*16.666666666666668;p=mi(p-.1*e,p+.1*e)}p=Ta(e,p),e.latex=bc(e.latex,p)}}function $b(e){let t=e.formula;return t?t.is_single_identifier?[]:t.variables||[]:[]}function RS(e,t){e.formula=t,e.error=t.error,e.unresolved=!1,t.is_slider?(!e.sliderExists||e.resetSliderAnimationTargetValue)&&(e.sliderAnimationTargetValue=ca(e),e.sliderDragging=!1,e.sliderExists=!0):e.sliderExists=!1,e.resetSliderAnimationTargetValue=!1;var n={};t.is_regression&&(n=t.regression.parameters,e.residualVariable=t.regression.residualVariable,e.controller.areLogModeRegressionsForced()&&(e.isLogModeRegression=!0)),__dcg_shared_module_exports__.Ea(e.regressionParameters,n)||(e.regressionParameters=n)}function oN(e){let t=Uo(e);t&&t.hidden||e.formula.expression_type&&ju(e)?e.shouldGraph=!1:e.shouldGraph=!Gg(e)}function aN(e){let t=e.formula&&e.formula.raw_slider_latex;if(!e.sliderExists||e.latex!==t)return void(e.cachedDisplayLatex={storedLatex:e.latex,valueLatex:e.latex});let{latex:n}=e;if(e.cachedDisplayLatex.storedLatex!==n)return void(e.cachedDisplayLatex={storedLatex:e.latex,valueLatex:e.latex});let r=eV(e);if(isFinite(r)){let t=e.controller.getFocusLocation();t&&"expression"===t.type&&t.id===e.id||(e.cachedDisplayLatex.valueLatex=bc(e.latex,r))}}function kg(e){return e.cachedDisplayLatex.valueLatex}function QA(e){return __dcg_shared_module_exports__.Na(e).latex}function rx(e){return e.slider.hardMin?e.slider.min:QA(la(e))}function ZA(e){return e.slider.hardMax?e.slider.max:QA(is(e))}function la(e){if(e.slider.hardMin){let t=e.formula.slider_min_number;return isFinite(t)?t:NaN}{let t=e.controller.isDegreeMode(),n=ai(e.slider.min,t),r=ca(e),i=Ga(e),o=e.slider.hardMax?e.formula.slider_max_number:void 0,a=-10;if(n<a&&(a=n),r<a&&(a=r),o<a&&(a=o),i){let e=__dcg_shared_module_exports__.ab({target:a,hardMin:void 0,hardMax:o,step:i});a=e<=a?e:e-i}return a}}function is(e){if(e.slider.hardMax){let t=e.formula.slider_max_number;return isFinite(t)?t:NaN}{let t=e.controller.isDegreeMode(),n=ai(e.slider.max,t),r=ca(e),i=Ga(e),o=e.slider.hardMin?e.formula.slider_min_number:void 0;return __dcg_shared_module_exports__.bb({storedMax:n,sliderValue:r,step:i,hardMin:o})}}function Ga(e){return e.formula.slider_step_number}function eV(e){if(!e.formula||!e.formula.is_slider)return;let t=e.formula.constant_value;return void 0!==t?+t:void 0}function ca(e){let t=e.formula&&e.formula.raw_slider_latex;if(e.latex!==t)return Sg(e.latex);let n=eV(e);return isFinite(n)?n:NaN}function QS(e){return"PLAY_ONCE"===e.slider.loopMode&&ca(e)>=is(e)}function tV(e,t){return!!e.formula.viz_valids&&!!e.formula.viz_valids[t]}function Tl(e,t){return e.vizProps[t]}function rV(e,t,n){e.vizProps=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.vizProps),{[t]:n})}function iV(e,t,n){e.clickableInfo=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.clickableInfo),{[t]:n})}function zb(e,t){e.clickableInfo=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.clickableInfo),{latex:t})}function Xs(e){return!!(e.clickableInfo.enabled&&mE(e)&&e.formula.click_handler&&"maybe-valid"===e.formula.click_handler.status)}function nV(e){return!!e.__workerNeedsDotplotXMode}function ix(e){return!(!e.formula||!e.formula.slider_min_valid)}function nx(e){return!(!e.formula||!e.formula.slider_max_valid)}function ox(e){return!(!e.formula||!e.formula.slider_step_valid)}function oV(e){if(!e.formula)return NaN;if(vc(e)&&isFinite(e.__workerSampledDomainMin))return e.__workerSampledDomainMin;let t=e.formula.domain_min_number;return isFinite(t)?t:NaN}function aV(e){if(!e.formula)return NaN;if(vc(e)&&isFinite(e.__workerSampledDomainMax))return e.__workerSampledDomainMax;let t=e.formula.domain_max_number;return isFinite(t)?t:NaN}function sV(e){return!(!e.formula||!e.formula.domain_min_valid)}function lV(e){return!(!e.formula||!e.formula.domain_max_valid)}function dd(e,t){var n=e.cachedViewState;if((!t.stripDefaults||""!==e.parametricDomain.min||""!==e.parametricDomain.max)&&(n=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{domain:{min:""===e.parametricDomain.min?"0":e.parametricDomain.min,max:""===e.parametricDomain.max?"1":e.parametricDomain.max}})),t.stripDefaults)return __dcg_shared_module_exports__.Bc(n);if(void 0===n.points||void 0===n.lines||void 0===n.fill){let e=__dcg_shared_module_exports__.k(n);return void 0===e.points&&delete e.points,void 0===e.lines&&delete e.lines,void 0===e.fill&&delete e.fill,e}return n}function sN(e){let t=e.cachedViewState;t&&__dcg_shared_module_exports__.Dc(t,e)&&t.folderId===e.folderId&&t.color===e.color&&t.latex===e.latex&&t.showLabel===e.showLabel&&t.label===e.label&&t.hidden===e.hidden&&t.secret===e.secret&&t.readonly===e.readonly&&t.fill===e.fill&&t.points===e.points&&t.lines===e.lines&&t.lineStyle===e.lineStyle&&t.arrowMode===e.arrowMode&&t.pointStyle===e.pointStyle&&t.dragMode===e.dragMode&&t.labelSize===e.labelSize&&t.labelOrientation===e.labelOrientation&&t.suppressTextOutline===e.suppressTextOutline&&t.interactiveLabel===e.interactiveLabel&&t.editableLabelMode===e.editableLabelMode&&t.residualVariable===e.residualVariable&&t.regressionParameters===e.regressionParameters&&t.isLogModeRegression===e.isLogModeRegression&&t.displayEvaluationAsFraction===e.displayEvaluationAsFraction&&t.slider===e.slider&&t.strictIntersection===e.strictIntersection||(e.cachedViewState=__dcg_shared_module_exports__.b({type:e.type,id:e.id,folderId:e.folderId,color:e.color,latex:e.latex,showLabel:e.showLabel,label:e.label,hidden:e.hidden,secret:e.secret,readonly:e.readonly,points:e.points,lines:e.lines,lineStyle:e.lineStyle,arrowMode:e.arrowMode,pointStyle:e.pointStyle,fill:e.fill,dragMode:e.dragMode,labelSize:e.labelSize,labelOrientation:e.labelOrientation,suppressTextOutline:e.suppressTextOutline,interactiveLabel:e.interactiveLabel,editableLabelMode:e.editableLabelMode,residualVariable:e.residualVariable,regressionParameters:e.regressionParameters,isLogModeRegression:e.isLogModeRegression,displayEvaluationAsFraction:e.displayEvaluationAsFraction,slider:e.slider,strictIntersection:e.strictIntersection},__dcg_shared_module_exports__.Cc(e)))}function ZS(e,t){t&&zu(e),e.draggingOnGraphpaper=t}function lN(e){var t=e.memoizedUndoRedoStateParams,n=e.cachedViewState,r=e.preTransientState;if(e.cachedUndoRedoFullState=n,t&&t.viewState===n&&t.preTransientState===r)return;let i;e.memoizedUndoRedoStateParams={viewState:n,preTransientState:r},i=r?__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{latex:r.latex,slider:__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},n.slider),r.slider)}):__dcg_shared_module_exports__.b({},n),delete i.regressionParameters,delete i.residualVariable,e.cachedUndoRedoDiffState=i}function Wb(e,t){let n=__dcg_shared_module_exports__.k(__dcg_shared_module_exports__.Ac(e)),{color:r}=n;return(!r||!Cu(r))&&(r=t.getNextColor()),__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},n),$s(t)),{labelDropdownOpen:!1,formula:{error:void 0,operator:"=",variables:[]},geoOverrideHidden:void 0,error:void 0,unresolved:!1,color:r,pointStyle:n.pointStyle,lineStyle:n.lineStyle,arrowMode:n.arrowMode,displayEvaluationAsFraction:n.displayEvaluationAsFraction,shouldGraph:void 0,sliderDragging:void 0,sliderAnimationTargetValue:void 0,resetSliderAnimationTargetValue:!1,sliderLastTickTime:void 0,draggingOnGraphpaper:!1,cachedUndoRedoDiffState:void 0,cachedUndoRedoFullState:void 0,cachedParsableState:void 0,cachedViewState:void 0,cachedDisplayLatex:{storedLatex:"",valueLatex:""}})}function cN(e){let t=Uo(e),n=!(!t||!t.hidden),r=e.cachedViewState,i=e.index,o=e.showLabel&&!n,a=e.shouldGraph,s=e.memoizedParsableStateParams;if(s&&s.viewState===r&&s.index===i&&s.showLabel===o&&s.shouldGraph===a)return;e.memoizedParsableStateParams={viewState:r,index:i,showLabel:o,shouldGraph:a};let l=__dcg_shared_module_exports__.Ec(r);l.index=i,l.showLabel=o,l.shouldGraph=a,l.isInConstructionsFolder=(null==t?void 0:t.id)===__dcg_shared_module_exports__.vc,e.cachedParsableState=l}function jb(e,t){t(e.latex,"latex",e),t(e.clickableInfo.latex,"clickableInfoLatex",e),t(e.lineWidth,"lineWidth",e),t(e.fillOpacity,"fillOpacity",e),t(e.lineOpacity,"lineOpacity",e),t(e.pointOpacity,"pointOpacity",e),t(e.pointSize,"pointSize",e),t(e.labelSize,"labelSize",e),t(e.labelAngle,"labelAngle",e),t(e.colorLatex,"colorLatex",e),wc(e)&&(t(e.parametricDomain.min,"parametricDomainMin",e),t(e.parametricDomain.max,"parametricDomainMax",e)),vc(e)&&(t(e.polarDomain.min,"polarDomainMin",e),t(e.polarDomain.max,"polarDomainMax",e)),Al(e)&&(t(e.cdf.min,"cdfMin",e),t(e.cdf.max,"cdfMax",e)),e.sliderExists&&(t(e.slider.min,"sliderMin",e),t(e.slider.max,"sliderMax",e),t(e.slider.step,"sliderStep",e)),e.residualVariable&&t(e.residualVariable,"residualVariable",e)}function kn(e){return e.formula&&e.formula.assignment}function cV(e){var t,n;let r=null==(n=null==(t=e.formula)?void 0:t.typed_constant_value)?void 0:n.valueType;return null!=r&&__dcg_shared_module_exports__.S(r)}function eE(e){var t=e.match(/^(\\token\{\d+\})=/);if(t)return t[1]}function $u(e){var t=e.match(/^\\token\{(\d+)\}/);if(t)return t[1]}function Ig(e){var t,n;let r=null==(n=null==(t=e.formula)?void 0:t.typed_constant_value)?void 0:n.valueType;if(null==r||(__dcg_shared_module_exports__.S(r)&&(r=__dcg_shared_module_exports__.T(r)),!__dcg_shared_module_exports__.U(r)))return"unknown";switch(r){case __dcg_shared_module_exports__.q:return"point";case __dcg_shared_module_exports__.A:case __dcg_shared_module_exports__.I:case __dcg_shared_module_exports__.G:return"line";case __dcg_shared_module_exports__.E:case __dcg_shared_module_exports__.C:return"circle";case __dcg_shared_module_exports__.K:return"angle";case __dcg_shared_module_exports__.M:return"directedangle";case __dcg_shared_module_exports__.y:return"polygon";case __dcg_shared_module_exports__.O:return"transformation";default:return r}return"unknown"}function dV(e){return-1!==e.indexOf("\\token{")}function uV(e){return"\\token{"+e+"}"}function pV(e){var t,n;let r=null==(n=null==(t=e.formula.geometry)?void 0:t.call)?void 0:n.symbol;return r&&"apply"!==r?r:Ig(e)}function dN(e){return!!(e.sliderExists&&(e.slider.isPlaying||e.sliderDragging)||e.draggingOnGraphpaper)}function hV(e){return!!(e.sliderExists&&e.sliderDragging||e.draggingOnGraphpaper)}function tE(e){dN(e)?e.preTransientState||(e.preTransientState={latex:e.latex,slider:{min:e.slider.min,max:e.slider.max,playDirection:e.slider.playDirection}}):delete e.preTransientState,(!e.sliderExists||!e.slider.isPlaying)&&(e.sliderLastTickTime=void 0),zs(e),oN(e),nN(e),sN(e),lN(e),cN(e),aN(e)}var uN=__dcg_shared_module_exports__.b({id:!1,type:!1,color:!0,folderId:!0,latex:!0,showLabel:!0,label:!0,hidden:!0,secret:!0,readonly:!0,points:!0,lines:!0,lineStyle:!0,arrowMode:!0,pointStyle:!0,fill:!0,dragMode:!0,labelSize:!0,labelOrientation:!0,suppressTextOutline:!0,interactiveLabel:!0,editableLabelMode:!0,residualVariable:!0,regressionParameters:!0,isLogModeRegression:!0,displayEvaluationAsFraction:!0,slider:!0,strictIntersection:!0,angleType:!0,showAngleDirection:!0},__dcg_shared_module_exports__.rc(__dcg_shared_module_exports__.xc));function KA(e,t){__dcg_shared_module_exports__.oc({from:t,to:e,props:uN}),e.resetSliderAnimationTargetValue=!0,e.sliderAnimationTargetValue=void 0}function dg(e,t){In(e,t?{hardMin:!0,min:t}:{hardMin:!1,min:"-10"})}function ug(e,t){In(e,t?{hardMax:!0,max:t}:{hardMax:!1,max:"10"})}function In(e,t){e.slider=__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},e.slider),t)}function $o(e,t){!e||e.slider.isPlaying===t||(In(e,{isPlaying:t}),t&&(zu(e),e.sliderAnimationTargetValue=ca(e)))}function zu(e){if(!e.slider.hardMin){let t=__dcg_shared_module_exports__.Yb(la(e));t!==e.slider.min&&In(e,{min:t})}if(!e.slider.hardMax){let t=__dcg_shared_module_exports__.Yb(is(e));t!==e.slider.max&&In(e,{max:t})}}function sa(e,t){var n=Sg(t);if(isFinite(n)){let t=__dcg_shared_module_exports__.$a({target:n,step:Ga(e),hardMin:e.slider.hardMin?la(e):void 0,hardMax:e.slider.hardMax?is(e):void 0});t.min||In(e,{hardMin:!1,min:"-10"}),t.max||In(e,{hardMax:!1,max:"10"}),t.step||In(e,{step:""})}e.latex=t}function gV(e,t){In(e,{loopMode:t,playDirection:1}),"PLAY_INDEFINITELY"===t&&In(e,{hardMin:!1,hardMax:!1,min:"",max:""}),e.sliderAnimationTargetValue=la(e)}function Mg(e,t){t&&zu(e),e.sliderDragging=t}function pg(e,t){In(e,{step:t})}function fV(e,t){In(e,{animationPeriod:t})}function xc(e){return e.displayEvaluationAsFraction}function mV(e,t){e.displayEvaluationAsFraction=t}function Ml(e,t){e.label=t}function ud(e,t){e.showLabel=t}function yV(e,t){e.description=t}function hg(e,t){e.polarDomain=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.polarDomain),{min:t})}function gg(e,t){e.parametricDomain=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.parametricDomain),{min:t})}function fg(e,t){e.polarDomain=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.polarDomain),{max:t})}function mg(e,t){e.parametricDomain=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.parametricDomain),{max:t})}function rE(e,t){e.isLogModeRegression=t}function ax(e,t){Cu(t)&&(e.color=t,e.colorLatex="")}function iE(e,t){e.fill=t}function yg(e,t){e.fillOpacity!==t&&(e.fillOpacity=t)}function Uu(e,t){e.lineOpacity!==t&&(e.lineOpacity=t)}function bg(e,t){e.pointOpacity!==t&&(e.pointOpacity=t)}function xg(e,t){e.pointSize!==t&&(e.pointSize=t)}function qu(e,t){e.lineWidth!==t&&(e.lineWidth=t)}function wg(e,t){e.colorLatex!==t&&(e.colorLatex=t)}function bV(e,t){e.labelDropdownOpen=t}function pd(e,t){e.dragMode!==t&&(e.dragMode=t)}function nE(e,t){e.points=t}function oE(e,t){e.pointStyle!==t&&(e.pointStyle=t,"POINT"!==t&&(e.dragMode="NONE"))}function aE(e,t){e.lines=t}function sx(e,t){e.lineStyle!==t&&(e.lineStyle=t)}function xV(e,t){e.arrowMode=t===wV(e)?"DEFAULT":t}function wV(e){return"NONE"}function lx(e){return Ag(e)?"DEFAULT"===e.arrowMode?wV(e):e.arrowMode:"NONE"}function vg(e,t){e.labelSize=t}function Yb(e,t){e.labelAngle=t}function sE(e,t){e.labelOrientation=t}function vV(e,t){e.suppressTextOutline=t}function Tg(e,t){e.interactiveLabel=t}function cx(e,t){e.editableLabelMode=t}function CV(e){return e.editableLabelMode}function Wu(e){let{editableLabelMode:t}=e;return"MATH"===t||"TEXT"===t}function SV(e,t){e.strictIntersection=t}function EV(e){return!("NONE"===e.reconciledDragMode||!e.hidden)}function DV(e,t){e.hidden=t,!t&&ju(e)&&(e.lines=e.points=e.fill=void 0)}function lE(e,t){e.geoOverrideHidden=t}function Gg(e){return void 0!==e.geoOverrideHidden?e.geoOverrideHidden:e.hidden}function ju(e){if(Qs(e))return!1;let{points:t,lines:n,fill:r}=e,i=__dcg_shared_module_exports__.ac(e.formula.expression_type,{points:t,lines:n,fill:r});return!i.points&&!i.lines&&!i.fill}function dx(e){return wc(e)||vc(e)}function kV(e){return e.polarDomain.min}function IV(e){return e.polarDomain.max}function MV(e){return e.parametricDomain.min}function TV(e){return e.parametricDomain.max}function Yu(e){return!!e.formula.action_value&&Object.keys(e.formula.action_value).length>0}function GV(e){return!!e.sliderExists}function Js(e){return"POLYGON"===e.formula.expression_type}function Qs(e){return!!e.formula.is_inequality}function ux(e){return!!e.formula.is_regression}function wc(e){return"PARAMETRIC"===e.formula.expression_type}function vc(e){return"POLAR"===e.formula.expression_type}function UA(e){let t=e.formula.typed_constant_value;if(!t)return!1;let n=t.valueType;return n===__dcg_shared_module_exports__.K||n===__dcg_shared_module_exports__.L||n===__dcg_shared_module_exports__.M||n===__dcg_shared_module_exports__.N}function AV(e){if(Ma(e))return!0;let t=e.formula.typed_constant_value;if(!t)return!1;let n=t.valueType;return n===__dcg_shared_module_exports__.A||n===__dcg_shared_module_exports__.B||n===__dcg_shared_module_exports__.K||n===__dcg_shared_module_exports__.L||n===__dcg_shared_module_exports__.M||n===__dcg_shared_module_exports__.N}function So(e){return"SINGLE_POINT"===e.formula.expression_type}function VV(e){return"POINT_LIST"===e.formula.expression_type}function Ma(e){return"POINT_LIST"===e.formula.expression_type||"SINGLE_POINT"===e.formula.expression_type}function Cc(e){let t=da(e);return!(!t||"visualization"!==t.type||"boxplot"!==t.symbol)}function Gl(e){let t=da(e);return!(!t||"visualization"!==t.type||"dotplot"!==t.symbol)}function hd(e){let t=da(e);return!(!t||"visualization"!==t.type||"histogram"!==t.symbol)}function px(e){return Cc(e)||Gl(e)||hd(e)}function cE(e){return"TTEST"===e.formula.expression_type}function LV(e){return"STATS"===e.formula.expression_type}function Sc(e){let t=da(e);return!(!t||"distribution"!==t.type)}function PV(e){let{formula:t}=e;return!!t&&!!t.is_discrete_distribution}function Ag(e){var t,n;let r=null==(n=null==(t=e.formula)?void 0:t.geometry)?void 0:n.valueType;if(void 0!==r)return __dcg_shared_module_exports__.V(r,__dcg_shared_module_exports__.A)}function da(e){if(e.controller.areDistributionsEnabled()&&e.latex)return(!e.cachedParseToplevelFunction||e.cachedParseToplevelFunction.latex!==e.latex)&&(e.cachedParseToplevelFunction={latex:e.latex,spec:__dcg_shared_module_exports__.Xb(e.latex)}),e.cachedParseToplevelFunction.spec}function dE(e){return Vg(e)&&Sc(e)}function Vg(e){return!!e.formula.expression_type}function uE(e){return!!e.formula.is_concrete_list}function Al(e){return!(!dE(e)||uE(e))&&e.cdf.show}function hx(e){return e.cdf.min}function gx(e){return e.cdf.max}function OV(e){var t=jS(e.formula.cdf_min_default);return t===-1/0?"-\\infty":isFinite(t)?t+"":"-\\infty"}function _V(e){var t=jS(e.formula.cdf_max_default);return t===1/0?"\\infty":isFinite(t)?t+"":"\\infty"}function FV(e,t){e.cdf=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.cdf),{show:t})}function Jb(e,t){e.cdf=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.cdf),{min:t})}function Xb(e,t){e.cdf=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.cdf),{max:t})}function fx(e){return!!e.formula&&!1!==e.formula.cdf_min_valid}function mx(e){return!!e.formula&&!1!==e.formula.cdf_max_valid}function pE(e){return!!e.formula&&!1!==e.formula.fill_opacity_valid}function RV(e){return!!e.formula&&!1!==e.formula.line_opacity_valid}function NV(e){return!!e.formula&&!1!==e.formula.point_opacity_valid}function hE(e){return!!e.formula&&!1!==e.formula.label_size_valid}function gE(e){return!!e.formula&&!1!==e.formula.label_angle_valid}function BV(e){return!!e.formula&&!1!==e.formula.point_size_valid}function KV(e){return!!e.formula&&!1!==e.formula.line_width_valid}function HA(e){return!!e.formula&&!1!==e.formula.color_latex_valid}function $A(e){return e.formula&&e.formula.color_latex_value}function UV(e){return e.formula&&e.formula.label_angle_value}function fE(e){var t=e.formula&&e.formula.cdf_evaluation;return isFinite(t)?t:0}function mE(e){return!(!__dcg_shared_module_exports__.bc(e.formula.expression_type)||e.reconciledDragMode&&"NONE"!==e.reconciledDragMode)}function qV(e){e.showLabel=__dcg_shared_module_exports__.yc.showLabel,e.label=__dcg_shared_module_exports__.yc.label,e.hidden=__dcg_shared_module_exports__.yc.hidden,e.dragMode=__dcg_shared_module_exports__.yc.dragMode,e.fill=__dcg_shared_module_exports__.yc.fill,e.points=__dcg_shared_module_exports__.yc.points,e.pointStyle=__dcg_shared_module_exports__.yc.pointStyle,e.lines=__dcg_shared_module_exports__.yc.lines,e.lineStyle=__dcg_shared_module_exports__.yc.lineStyle,e.slider=__dcg_shared_module_exports__.zc,e.latex="",e.labelSize="",e.labelOrientation="default",e.displayEvaluationAsFraction=__dcg_shared_module_exports__.yc.displayEvaluationAsFraction,e.strictIntersection=__dcg_shared_module_exports__.yc.strictIntersection,e.suppressTextOutline=!1,e.interactiveLabel=!1,e.editableLabelMode=__dcg_shared_module_exports__.yc.editableLabelMode,__dcg_shared_module_exports__.pc(__dcg_shared_module_exports__.xc,e)}function HV(e){return!!e.formula.move_strategy}var pN=1,hN=2,gN=4,fN=8,bx=15,$V=12,zV=3,WV=1,jV=2,YV=3,JV=4,xx=5,XV=6;function Xu(e,t,n){let r=[],i=e.length;if(n===xx)for(let n=0;n<i;n+=2){let i=t.mapX(e[n]),o=t.mapY(e[n+1]);r.push(i,o)}else if(n===XV)for(let n=0;n<i;n+=2){let i=t.mapX(e[n+1]),o=t.mapY(e[n]);r.push(i,o)}else if(n===WV)for(let n=0;n<e.length;n+=2){let i=e[n],o=e[n+1],a=t.mapX(o*Math.cos(i)),s=t.mapY(o*Math.sin(i));r.push(a,s)}else if(n===jV)for(let n=0;n<e.length;n+=2){let i=e[n],o=e[n+1];o<0&&(o=0);let a=t.mapX(o*Math.cos(i)),s=t.mapY(o*Math.sin(i));r.push(a,s)}else if(n===YV)for(let n=0;n<e.length;n+=2){let i=e[n]*Math.PI/180,o=e[n+1],a=t.mapX(o*Math.cos(i)),s=t.mapY(o*Math.sin(i));r.push(a,s)}else if(n===JV)for(let n=0;n<e.length;n+=2){let i=e[n]*Math.PI/180,o=e[n+1];o<0&&(o=0);let a=t.mapX(o*Math.cos(i)),s=t.mapY(o*Math.sin(i));r.push(a,s)}return r}function Lg(e,t,n){let[r,i,o,a]=e,{x:s,y:l}=t.mathToPixels.mapPoint({x:r,y:i}),{x:c,y:d}=t.mathToPixels.mapPoint({x:o,y:a}),p=__dcg_shared_module_exports__.fa(s,c,2)?0:c-s,u=__dcg_shared_module_exports__.fa(l,d,2)?0:d-l,h=(0-s)/p,g=(screen.width-s)/p,m=(0-l)/u,f=(screen.height-l)/u,y=1/0;isFinite(h)&&h<y&&(y=h),isFinite(g)&&g<y&&(y=g),isFinite(m)&&m<y&&(y=m),isFinite(f)&&f<y&&(y=f);let b,x,_,v,w=-1/0;isFinite(h)&&h>w&&(w=h),isFinite(g)&&g>w&&(w=g),isFinite(m)&&m>w&&(w=m),isFinite(f)&&f>w&&(w=f),17===n?(b=s,x=l,_=c,v=d):19===n?(b=s,x=l,_=(1-w)*s+w*c,v=(1-w)*l+w*d):(b=(1-y)*s+y*c,x=(1-y)*l+y*d,_=(1-w)*s+w*c,v=(1-w)*l+w*d);return{mapped:[s,l,c,d],clipped:fd([b,x,_,v],{xmin:-3,ymin:-3,xmax:t.screen.width+3,ymax:t.screen.height+3})}}function fd(e,t){return wx(e,t,bx,!0)}function yx(e,t,n,r){let i,o,a,s,l=[];r?(o=e[0],a=e[1],i=2,s=t(o,a),s&&l.push(o,a)):(o=e[e.length-2],a=e[e.length-1],i=0,s=t(o,a));for(var c=i;c<e.length;c+=2){let r=o,i=a,d=s;o=e[c],a=e[c+1],s=t(o,a),(s||d)&&(s&&d&&l.push(o,a),s&&!d&&(Array.prototype.push.apply(l,n(o,a,r,i)),l.push(o,a)),!s&&d&&Array.prototype.push.apply(l,n(r,i,o,a)))}return l}function wx(e,t,n,r){let i=t.xmin,o=t.xmax,a=t.ymin,s=t.ymax,l=e;return n&gN&&(l=yx(e,(function(e,t){return e>=i}),(function(e,t,n,r){return[i,t+(r-t)*(i-e)/(n-e)]}),r)),n&hN&&(l=yx(l,(function(e,t){return t>=a}),(function(e,t,n,r){return[e+(n-e)*(a-t)/(r-t),a]}),r)),n&fN&&(l=yx(l,(function(e,t){return e<=o}),(function(e,t,n,r){return[o,t+(r-t)*(o-e)/(n-e)]}),r)),n&pN&&(l=yx(l,(function(e,t){return t<=s}),(function(e,t,n,r){return[e+(n-e)*(s-t)/(r-t),s]}),r)),l}function QV(e,t,n){let r=[],i=e[0],o=i+n,a=[];r.push(a);for(let t=0;t<e.length;t+=2){let s=e[t],l=e[t+1];if(l<0&&(l=0),s>=o){for(a=[],r.push(a),i=e[t-2],o=i;s>=o;)o+=n;t-=4}else a.push(s,l)}if(0===t)for(let e=0;e<r.length;e++)r[e].push(0,0);else{let e=n/16,a=t;for(let t=0;t<r.length;t++){let n=r[t];i=n[0],o=n[n.length-2];for(let t=o;t>i;t-=e)n.push(t,a);n.push(i,a)}}return r}function yE(e,t){return(e=e.slice()).push(e[e.length-2],t),e.push(e[0],t),[e]}function Pg(e,t,n){switch(e){case 1:return XV;case 8:case 5:case 2:return xx;case 6:return n.degreeMode?t?JV:YV:t?jV:WV}}function ei(e,t){let n=e;n._dcgSaveClassName&&n._dcgSaveClassName(t)}function Br(e){let t=e;t._dcgRestoreClassName&&t._dcgRestoreClassName()}function ZV(e,t){e.translate(t.left,t.top)}function yN(e,t){var n=document.createRange();n.selectNode(e);var r=n.getBoundingClientRect();if(!(r.width>0&&r.height>0))return;var i=window.getComputedStyle(e.parentElement),o=e.nodeValue||"";if(!o)return;let a=-.228*parseFloat(i.fontSize),s=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily;return{type:"text",rect:{left:r.left-t.pointCenterX,right:r.right-t.pointCenterY,top:r.top-t.pointCenterY,bottom:r.bottom-t.pointCenterY},text:o,color:i.color||"#000",font:s,y:r.height+a,hasOutline:t.hasOutline}}function e1(e,t,n){e.save(),e.font=t.font,n?(e.strokeStyle="#FFF",e.lineWidth=3,e.miterLimit=2,e.strokeText(t.text,0,t.y)):(e.fillStyle=t.color,e.fillText(t.text,0,t.y)),e.restore()}function t1(e,t,n){e.save(),n?(e.strokeStyle="#FFF",e.lineWidth=3):(t.fillColor&&(e.fillStyle=t.fillColor),t.strokeColor&&(e.strokeStyle=t.strokeColor)),e.beginPath();for(let n of t.instructions)switch(n.type){case"moveTo":e.moveTo(n.x,n.y);break;case"lineTo":e.lineTo(n.x,n.y);break;case"arcTo":e.arcTo(n.cx,n.cy,n.x,n.y,n.radius);break;case"ellipse":e.ellipse(n.centerX,n.centerY,n.radiusX,n.radiusY,n.rotation,n.startAngle,n.endAngle,n.anticlockwise)}e.closePath(),n?e.stroke():(t.strokeColor&&e.stroke(),t.fillColor&&e.fill()),e.restore()}function bN(e,t){var n=e.getBoundingClientRect();if(n.width>0&&n.height>0){var r=-5,i=n.width+5,o=-5,a=n.height+5,s=[{type:"moveTo",x:-2,y:o},{type:"lineTo",x:i-3,y:o},{type:"arcTo",cx:i,cy:o,x:i,y:-2,radius:3},{type:"lineTo",x:i,y:a-3},{type:"arcTo",cx:i,cy:a,x:i-3,y:a,radius:3},{type:"lineTo",x:-2,y:a},{type:"arcTo",cx:r,cy:a,x:r,y:a-3,radius:3},{type:"lineTo",x:r,y:-2},{type:"arcTo",cx:r,cy:o,x:-2,y:o,radius:3}];return{type:"path",disableGlow:!0,rect:{left:n.left-t.pointCenterX,right:n.right-t.pointCenterX,top:n.top-t.pointCenterY,bottom:n.bottom-t.pointCenterY},instructions:s,strokeColor:"#C2C2C2",fillColor:"rgba(255,255,255,.75)"}}}function xN(e,t,n){var r=e.getBoundingClientRect();if(r.width>0&&r.height>0){var i=r.width,o=parseFloat(t.borderTopWidth||"1px"),a=t.borderTopColor||"#000",s=[{type:"moveTo",x:0,y:0},{type:"lineTo",x:i,y:0},{type:"lineTo",x:i,y:o},{type:"lineTo",x:0,y:o}];return{type:"path",rect:{left:r.left-n.pointCenterX,right:r.right-n.pointCenterX,top:r.top-n.pointCenterY,bottom:r.bottom-n.pointCenterY},instructions:s,fillColor:a}}}function r1(e,t){var n=Math.sqrt(e[0]*e[0]+e[1]*e[1]),r=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=e[0]*t[0]+e[1]*t[1],o=Math.acos(i/(n*r));return e[0]*t[1]-e[1]*t[0]<0&&(o*=-1),o}function wN(e,t,n,r,i,o,a,s,l){var c=Math.cos(i),d=Math.sin(i),p=(e-s)/2,u=(t-l)/2,h=c*p+d*u,g=-d*p+c*u,m=n*n,f=r*r,y=h*h,b=g*g,x=Math.sqrt((m*f-m*b-f*y)/(m*b+f*y));o===a&&(x*=-1);var _=x*n*g/r,v=-x*r*h/n,w=[1,0],A=[(-h-_)/n,(-g-v)/r];return{centerX:c*_-d*v+(e+s)/2,centerY:d*_+c*v+(t+l)/2,radiusX:n,radiusY:r,startAngle:r1(w,[(h-_)/n,(g-v)/r]),endAngle:r1(w,A),rotation:i,anticlockwise:0===a}}var i1={};function vN(e,t){var n=e+"-"+t,r=i1[n];if(r)return r;r=[],i1[n]=r;var i=t.split(" ");if(4!==i.length)return r;var o=parseFloat(i[0]),a=parseFloat(i[2]),s=parseFloat(i[1]),l=parseFloat(i[3]),c=a-o,d=l-s;function p(e){return(e-o)/c}function u(e){return(e-s)/d}var h="[0-9-.]+",g=new RegExp("(M"+h+" "+h+")"+"|"+("(L"+h+" "+h+")")+"|"+("(A"+h+" "+h+" "+h+" "+h+" "+h+" "+h+" "+h+")"),"g"),m=e.match(g);if(!m||!m.length)return r;var f=NaN,y=NaN;for(let e of m){var b=e.substr(1).split(" ").map(parseFloat);switch(e[0]){case"M":f=p(b[0]),y=u(b[1]),r.push({type:"moveTo",x:f,y});break;case"L":f=p(b[0]),y=u(b[1]),r.push({type:"lineTo",x:f,y});break;case"A":let e=b[0]/c,t=b[1]/d,n=b[2],i=b[3],o=b[4],a=p(b[5]),s=u(b[6]),l=wN(f,y,e,t,n,i,o,a,s);f=a,y=s,r.push(__dcg_shared_module_exports__.b({type:"ellipse"},l))}}return r}function CN(e,t){var n=e.childNodes[0];if(n&&"path"===n.nodeName){var r=e.getBoundingClientRect();if(r.width>0&&r.height>0){var i=vN(n.getAttribute("d")||"",e.getAttribute("viewBox")||""),o=window.getComputedStyle(e),a=r.width,s=r.height;i=__dcg_shared_module_exports__.k(i);for(let e of i)switch(e.type){case"moveTo":case"lineTo":e.x*=a,e.y*=s;break;case"arcTo":e.x*=a,e.y*=s,e.cx*=a,e.cy*=s,e.radius*=a;break;case"ellipse":e.centerX*=a,e.centerY*=s,e.radiusX*=a,e.radiusY*=s;break;default:return e}return{type:"path",rect:{left:r.left-t.pointCenterX,right:r.right-t.pointCenterX,top:r.top-t.pointCenterY,bottom:r.bottom-t.pointCenterY},fillColor:o.color||"#000",instructions:i}}}}function n1(e,t,n){var r=window.getComputedStyle(e);if("0px"!==r.borderTopWidth){let i=xN(e,r,t);i&&n.push(i)}for(var i=e.childNodes,o=0;o<i.length;o++){var a=i[o];if(3===a.nodeType){let e=yN(a,t);e&&n.push(e)}else if("svg"===a.nodeName){let e=CN(a,t);e&&n.push(e)}else 1===a.nodeType&&n1(a,t,n)}}function vx(e,t){let n=[];if(t.hasBorder){let r=bN(e,t);r&&n.push(r)}return n1(e,t,n),n}function Cx(e,t){ei(t,"dcg-svg-label"),t.save(),Br(t);for(let n of e){switch(t.save(),ZV(t,n.rect),n.type){case"path":n.disableGlow||t1(t,n,!0);break;case"text":n.hasOutline&&e1(t,n,!0);break;default:return n}t.restore()}for(let n of e){switch(t.save(),ZV(t,n.rect),n.type){case"path":t1(t,n,!1);break;case"text":e1(t,n,!1);break;default:return n}t.restore()}t.restore()}var o1="v1.8";function SN(e){requestAnimationFrame((function t(n){requestAnimationFrame(t),e(n)}))}function EN(e){setTimeout((function t(){setTimeout(t,Zu),e(Date.now())}),Zu)}Ns();var a1=Sn().timeoutLoop,Zu=0;"string"==typeof a1&&(Zu=parseFloat(a1),isNaN(Zu)&&(Zu=1e3/60));var s1=Zu>0?EN:SN,l1=function(e,t,n){function r(e){return"object"==typeof e}function i(e){return"function"==typeof e}function o(){}return function n(a,s){function l(){var e=new c;return i(e.init)&&e.init.apply(e,arguments),e}function c(){}undefined===s&&(s=a,a=Object),l.Bare=c;var d,p=o[e]=a[e],u=c[e]=l[e]=new o;return u.constructor=l,l.mixin=function(t){return c[e]=l[e]=n(l,t)[e],l},(l.open=function(e){if(d={},i(e)?d=e.call(l,u,p,l,a):r(e)&&(d=e),r(d))for(var n in d)t.call(d,n)&&(u[n]=d[n]);return i(u.init)||(u.init=a),l})(s)}}("prototype",{}.hasOwnProperty),Mn=l1((function(e){var t=0,n="guid_"+Math.round(1e6*Math.random())+"_"+(new Date).getTime()+"_";e.init=function(){this.__observers={},this.__eventObservers={},this.__oldProperties={},this.__propertyComparators={},this.guid=n+ ++t},e.unobserveAll=function(){this.__observers={},this.__eventObservers={}},e.getProperty=function(e){return this[e]},e.getOldProperty=function(e){return this.__oldProperties[e]},e.setProperty=function(e,t){var n=this[e];this[e]=t;var r=this.__propertyComparators[e];if(r){if(r(n,t))return}else if(__dcg_shared_module_exports__.La.isEqual(n,t))return;this.__oldProperties[e]=n,this.notifyPropertyChange(e)},e.setProperties=function(e){for(var t in e)e.hasOwnProperty(t)&&this.setProperty(t,e[t])},e.setPropertyComparator=function(e,t){this.__propertyComparators[e]=t},e.notifyPropertyChange=function(e){this.__callObservers(this.__observers,e,this)},e.observe=function(e,t){this.__addObservers(this.__observers,e,t)},e.unobserve=function(e){this.__removeObservers(this.__observers,e)},e.observeAndSync=function(e,t){this.observe(e,t);for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r].split(".")[0];this.hasOwnProperty(i)&&t(i,this)}},e.triggerEvent=function(e,t){this.__callObservers(this.__eventObservers,e,t)},e.observeEvent=function(e,t){this.__addObservers(this.__eventObservers,e,t)},e.unobserveEvent=function(e){this.__removeObservers(this.__eventObservers,e)},e.__callObservers=function(e,t,n){var r=e[t];if(r)for(var i=0;i<r.length;i++)r[i].callback(t,n)},e.__removeObservers=function(e,t){for(var n=t.split(" "),r=0;r<n.length;r++){var i=n[r].split("."),o=i[0],a=i[1];if(o&&a){var s=e[o],l=[];if(!s)continue;for(var c=0;c<s.length;c++){var d=s[c];d.namespace!==a&&l.push(d)}e[o]=l}else if(o)delete e[o];else if(a)for(o in e)e.hasOwnProperty(o)&&this.__removeObservers(e,o+"."+a)}},e.__addObservers=function(e,t,n){for(var r=t.split(" "),i=0;i<r.length;i++){var o=r[i].split("."),a=o[0];if(!a)throw"Must supply a property to observe";var s={namespace:o[1],callback:n},l=e[a];l?l.push(s):e[a]=[s]}}})),xE=new Mn;s1((function(e){xE.triggerEvent("tick",e)}));var bE=0;function Vl(e){return bE+=1,xE.observeEvent("tick."+bE,(function(t,n){e(n)})),bE}function md(e){xE.unobserveEvent("tick."+e)}function Ex(e){var t=[];for(let r of e)if(r&&"string"==typeof r){var n=r.split("-")[0];t.push(r),t.push(n);for(let e in yd){let r=yd[e];e.split("-")[0]===n&&r.useAsRoot&&t.push(e)}}return t}at();var yd={en:{displayName:"English (US)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},es:{displayName:"Español (LATAM)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ES-ES.pdf",useAsRoot:!0},et:{displayName:"Eesti",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ru:{displayName:"Русский",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_RU.pdf",useAsRoot:!1},da:{displayName:"Dansk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},de:{displayName:"Deutsch",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_DE.pdf",useAsRoot:!1},"pt-BR":{displayName:"Português (Brasil)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!0},"pt-PT":{displayName:"Português (Portugal)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ca:{displayName:"Català",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},fr:{displayName:"Français",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_FR.pdf",useAsRoot:!1},it:{displayName:"Italiano",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_IT.pdf",useAsRoot:!1},is:{displayName:"Íslenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},nl:{displayName:"Nederlands",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},no:{displayName:"Norsk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"sv-SE":{displayName:"Svenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!0},hu:{displayName:"Magyar",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},cs:{displayName:"Čeština",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},pl:{displayName:"Polski",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_PL.pdf",useAsRoot:!1},id:{displayName:"Bahasa Indonesia",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},vi:{displayName:"Tiếng Việt",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_VI.pdf",useAsRoot:!1},el:{displayName:"Ελληνικά",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_EL.pdf",useAsRoot:!1},uk:{displayName:"Українська",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ka:{displayName:"ქართული",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},th:{displayName:"ภาษาไทย",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},tr:{displayName:"Türkçe",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_TR.pdf",useAsRoot:!1},"zh-CN":{displayName:"简体中文",useAsRoot:!0,userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-CN.pdf"},"zh-TW":{displayName:"繁體中文",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-TW.pdf",useAsRoot:!1},ko:{displayName:"한국어",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ja:{displayName:"日本語",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_JA.pdf",useAsRoot:!1}},c1="### Strings shared among tools and homepage\n\n\n### 5313 English words, 950 English strings\n\naccount-shell-button-cancel = Cancel\naccount-shell-button-clear = Clear\naccount-shell-button-confirm-delete =\n    { $count ->\n        [one] Yes, delete graph\n       *[other] Yes, delete graphs\n    }\naccount-shell-button-contact-us = Contact Us\naccount-shell-button-create-own-activity = Create your own submission activity.\naccount-shell-button-delete = Delete\naccount-shell-button-download-braille = Download Braille Equations\naccount-shell-button-download-png = Download PNG\naccount-shell-button-download-svg = Download SVG\naccount-shell-button-duplicate = Duplicate\naccount-shell-button-duplicate-mac = Duplicate or Rename (cmd+shift+s)\naccount-shell-button-duplicate-pc = Duplicate or Rename (ctrl+shift+s)\naccount-shell-button-embed = Embed\naccount-shell-button-export-image = Export Image\naccount-shell-button-hide-browser-warning = Hide this warning.\naccount-shell-button-line-medium = Medium\naccount-shell-button-line-thick = Thick\naccount-shell-button-line-thin = Thin\naccount-shell-button-log-in = Log In\naccount-shell-button-mygraphs-attempt-recovery = Attempt recovery.\naccount-shell-button-mygraphs-cancel = Cancel\naccount-shell-button-mygraphs-close-graph-list = Close Graph List\naccount-shell-button-mygraphs-close-graph-preview = Close Graph Preview\naccount-shell-button-mygraphs-delete-graph = Delete Graph\naccount-shell-button-mygraphs-delete-title = Delete { $graphTitle }\naccount-shell-button-mygraphs-offline-try-again = offline. click to try again.\naccount-shell-button-mygraphs-save = Save\naccount-shell-button-mygraphs-try-again = Try again\naccount-shell-button-open-construction = Open Construction\naccount-shell-button-open-graph = Open Graph\naccount-shell-button-print = Print\naccount-shell-button-rename = Rename\naccount-shell-button-retry-now = Retry now\naccount-shell-button-save = Save\naccount-shell-button-sign-up = Sign Up\naccount-shell-button-submit = Submit\naccount-shell-button-submit-graph = Submit This Graph\naccount-shell-button-svg-options = SVG Options\naccount-shell-button-update-graph = Update your submission\naccount-shell-error-art-contest-logged-out = You must be logged in to enter the art contest.\naccount-shell-error-change-email-logged-out = You must be logged in to change your email.\naccount-shell-error-change-name-logged-out = You must be logged in to change your name.\naccount-shell-error-changing-name = There was an error changing your user name.\naccount-shell-error-consent-error = There was an error accepting your consent.\naccount-shell-error-consent-logged-out = You must be logged in to consent to data collection.\naccount-shell-error-create-account-unexpected = Sorry, there was an error creating your account.\naccount-shell-error-delete-graph-logged-out = You must be logged in to delete graphs.\naccount-shell-error-delete-graph-logged-out-2 = You must be logged in to delete a graph.\naccount-shell-error-delete-unexpected = Sorry, there was an unexpected error deleting this graph. Error { $code }.\naccount-shell-error-deletion-error = There was an error. Try again later?\naccount-shell-error-deletion-error-2 = Error while deleting your account.\naccount-shell-error-deletion-link-not-found = We can't find that deletion token. Perhaps it's been used already?\naccount-shell-error-email-already-registered = Sorry, someone has already registered with this email address.\naccount-shell-error-email-invalid = Please enter a valid email address.\naccount-shell-error-email-password-mismatch = Sorry, your email and password did not match.\naccount-shell-error-email-too-short = Please enter an email address that is at most { $num } characters.\naccount-shell-error-feedback-empty = Please enter your feedback\naccount-shell-error-feedback-unexpected = Sorry, there was an unexpected problem sending feedback. Error { $code }.\naccount-shell-error-graph-too-large = This graph is too large to save. The maximum allowable size is 5 MB.\naccount-shell-error-invalid-deletion-link = This is not a valid deletion link.\naccount-shell-error-invalid-recovery-link = This is not a valid recovery link.\naccount-shell-error-logged-in-register = You are already logged in. You must first log out to register as a different user.\naccount-shell-error-logging-in = Error logging in.\naccount-shell-error-logging-out = Error logging out.\naccount-shell-error-missing-email = Please enter your email address.\naccount-shell-error-missing-name = Please enter your name.\naccount-shell-error-missing-new-password = Please enter your new password.\naccount-shell-error-missing-password = Please enter your password.\naccount-shell-error-mygraphs-check-connection = Check your internet connection?\naccount-shell-error-mygraphs-error-deleting = Error deleting.\naccount-shell-error-mygraphs-error-loading = Error loading graph\naccount-shell-error-name-too-long = Please enter a name that is at most { $num } characters.\naccount-shell-error-new-password-too-long = Please enter a new password that is at most { $num } characters.\naccount-shell-error-new-password-too-short = Please enter a new password that is at least { $num } characters.\naccount-shell-error-password-same-as-old = New password cannot match old password.\naccount-shell-error-password-too-long = Please enter a password that is at most { $num } characters.\naccount-shell-error-password-too-short = Please enter a password that is at least { $num } characters.\naccount-shell-error-passwords-do-not-match = The passwords that you entered did not match. Please try again.\naccount-shell-error-problem-resetting-password = Problem resetting your password. Please try again.\naccount-shell-error-recover-link-not-found = Sorry, we can't find that recovery link. Perhaps it's been used already?\naccount-shell-error-recover-password-too-short = Passwords must be at least { $num } characters long\naccount-shell-error-recover-unrecognized-email = Sorry, we could not find any users registered with this email address.\naccount-shell-error-request-error = Error while making request.\naccount-shell-error-save-art-contest = Error saving. Please try again later.\naccount-shell-error-save-graph = Sorry, there was an unexpected error saving your graph. Error { $code }.\naccount-shell-error-save-graph-logged-out = You must be logged in to save graphs.\naccount-shell-error-setting-email = Error setting new email.\naccount-shell-error-sharing-link = Sorry, there was an error generating a link to your graph. Check your internet connection.\naccount-shell-error-something-went-wrong = Something went wrong, please report this to desmos.com support. (Error { $error_num })\naccount-shell-error-submitting = Error submitting. Please try again later.\naccount-shell-error-unexpected-error = Unexpected error.\naccount-shell-error-unknown = Sorry! Something went wrong. Please try again later.\naccount-shell-error-update-account-settings-logged-out = You must be logged in to update your account settings.\naccount-shell-error-update-graph-logged-out = You must be logged in to update graphs.\naccount-shell-error-user-info-logged-out = You must be logged in to retrieve user information.\naccount-shell-error-verifying-email = Sorry, there was a problem verifying your email.\naccount-shell-error-view-graphs-logged-out = You must be logged in to view saved graphs.\naccount-shell-heading-3dcalc-page-title = Desmos | 3D Graphing Calculator\naccount-shell-heading-artist-statement = Your Artist Statement\naccount-shell-heading-birth-year = Your Birth Year\naccount-shell-heading-contact-us = Contact Us\naccount-shell-heading-country = Your Country\naccount-shell-heading-download-instructions = Download Instructions\naccount-shell-heading-duplicate-construction = Duplicate This Construction\naccount-shell-heading-duplicate-graph = Duplicate This Graph\naccount-shell-heading-email = Your Email\naccount-shell-heading-email-details = This will never be shared, but please provide an email where we can reach you!\naccount-shell-heading-embossers = Tactile Graphics Embossers\naccount-shell-heading-embossing-instructions = Embossing Instructions\naccount-shell-heading-export-graph = Export Your Graph\naccount-shell-heading-export-size = Size\naccount-shell-heading-geometry-page-title = Desmos | Geometry\naccount-shell-heading-graphingcalc-page-title = Desmos | Graphing Calculator\naccount-shell-heading-line-thickness = Line Thickness\naccount-shell-heading-math-art-contest = Global Math Art Contest\naccount-shell-heading-mygraphs-examples = Examples\naccount-shell-heading-mygraphs-recovered-work = Recovered Work\naccount-shell-heading-mygraphs-saved-constructions = Saved Constructions\naccount-shell-heading-mygraphs-saved-graphs = Saved Graphs\naccount-shell-heading-name = Your Name\naccount-shell-heading-name-details = This will be public\naccount-shell-heading-rename-graph = Rename This Graph\naccount-shell-heading-resources = Resources\naccount-shell-heading-save-construction = Save This Construction\naccount-shell-heading-save-graph = Save This Graph\naccount-shell-heading-share-graph = Share Your Graph\naccount-shell-heading-submit-graph = Submit This Graph\naccount-shell-heading-title-mygraphs-search = Search\naccount-shell-heading-tours = Tours\naccount-shell-heading-unsupported-browser = Unsupported Browser\naccount-shell-label-account-information = Account Information\naccount-shell-label-advanced-preferences = Advanced\naccount-shell-label-age-13-14 = Age 13–14\naccount-shell-label-age-15-16 = Age 15–16\naccount-shell-label-age-17-18 = Age 17–18\naccount-shell-label-artiist-statement-description = In 2-3 sentences, describe the inspiration behind your graph.\naccount-shell-label-artist-statement-placeholder = Tell us about your graph...\naccount-shell-label-beta = Beta\naccount-shell-label-betchacant-loading = Challenge accepted...\naccount-shell-label-birth-year-placeholder = Birth Year\naccount-shell-label-country-placeholder = Your Country\naccount-shell-label-created-days-ago = { $number } days ago\naccount-shell-label-created-hours-ago = { $number } hours ago\naccount-shell-label-created-last-week = last week\naccount-shell-label-created-minutes-ago = { $number } minutes ago\naccount-shell-label-created-on-date = on { $month } { $day }, { $year }\naccount-shell-label-created-one-hour-ago = one hour ago\naccount-shell-label-created-one-minute-ago = one minute ago\naccount-shell-label-created-seconds-ago = less than a minute ago\naccount-shell-label-created-weeks-ago = { $number } weeks ago\naccount-shell-label-created-yesterday = yesterday\naccount-shell-label-delete-graph-modal-title = Delete Graph\naccount-shell-label-email-address = Email Address\naccount-shell-label-email-placeholder = So we can write back!\naccount-shell-label-export-size-large-rectangle = Large Rectangle\naccount-shell-label-export-size-large-square = Large Square\naccount-shell-label-export-size-medium-rectangle = Medium Rectangle\naccount-shell-label-export-size-medium-square = Medium Square\naccount-shell-label-export-size-small-square = Small Square\naccount-shell-label-feature-flag-actions = Actions\naccount-shell-label-feedback = Feedback\naccount-shell-label-feedback-email = Email address so we can respond! (optional)\naccount-shell-label-feedback-message = Questions? Feedback?\naccount-shell-label-feedback-placeholder = Write to us!\naccount-shell-label-feedback-sending = Sending...\naccount-shell-label-full-name = Full Name\naccount-shell-label-graph-actions = Graph actions\naccount-shell-label-graph-title = Title\naccount-shell-label-help = Help\naccount-shell-label-help-menu = Help Menu\naccount-shell-label-language = Language\naccount-shell-label-loading = Loading...\naccount-shell-label-math-art-contest = Global Math Art Contest\naccount-shell-label-month-apr = Apr\naccount-shell-label-month-aug = Aug\naccount-shell-label-month-dec = Dec\naccount-shell-label-month-feb = Feb\naccount-shell-label-month-jan = Jan\naccount-shell-label-month-jul = Jul\naccount-shell-label-month-jun = Jun\naccount-shell-label-month-mar = Mar\naccount-shell-label-month-may = May\naccount-shell-label-month-nov = Nov\naccount-shell-label-month-oct = Oct\naccount-shell-label-month-sep = Sep\naccount-shell-label-mygraphs-example = example\naccount-shell-label-mygraphs-last-saved = last saved: { $date }\naccount-shell-label-mygraphs-no-unsaved-changes = no unsaved changes\naccount-shell-label-mygraphs-unsaved-graph = unsaved graph\naccount-shell-label-no-unsaved-changes = No Unsaved Changes\naccount-shell-label-open-graph-mac = { $open_graph } (cmd+o)\naccount-shell-label-open-graph-pc = { $open_graph } (ctrl+o)\naccount-shell-label-privacy-policy-changed = We’ve made changes to our privacy policy!\naccount-shell-label-save-changes-mac = Save Changes (cmd+s)\naccount-shell-label-save-changes-pc = Save Changes (ctrl+s)\naccount-shell-label-saving-graph = Saving graph...\naccount-shell-label-share = share\naccount-shell-label-share-graph = Share Graph\naccount-shell-label-share-link = Share this link:\naccount-shell-label-submission-already-received = Your Art Contest Submission\naccount-shell-label-submission-received = Submission Received!\naccount-shell-label-submitting = Submitting...\naccount-shell-label-success = Success!\naccount-shell-label-you-are-eligible = You're eligible to participate in the 2022 Global Math Art Contest!\naccount-shell-label-zoom = Zoom: { $value }%\naccount-shell-link-accessibility-conformance-report = Accessibility Conformance Report\naccount-shell-link-account-settings = Account Settings\naccount-shell-link-download-chrome = Click here to download Google Chrome.\naccount-shell-link-email-support = Email Our Support Team\naccount-shell-link-getting-started = Getting Started\naccount-shell-link-help = Help\naccount-shell-link-help-center = Help Center\naccount-shell-link-keyboard-shortcuts = Keyboard Shortcuts\naccount-shell-link-learn-more = Learn More\naccount-shell-link-mygraphs-log-in = Log In\naccount-shell-link-mygraphs-sign-up = Sign Up\naccount-shell-link-privacy = Privacy Policy\naccount-shell-link-share-thoughts = Share your thoughts!\naccount-shell-link-sign-out = Sign Out\naccount-shell-link-terms = Terms of Service\naccount-shell-link-user-guide = Desmos User Guide\naccount-shell-link-video-tutorials = Video Tutorials\naccount-shell-narration-back = Back\naccount-shell-narration-clear-selected-country = Clear Selected Country\naccount-shell-narration-graph-preview = Graph Preview\naccount-shell-narration-image-download = Image Download\naccount-shell-narration-language-menu = Language Options Menu\naccount-shell-narration-mygraphs-open-graph = Open graph\naccount-shell-narration-share-options = Share Options\naccount-shell-narration-size-options = Size Options\naccount-shell-text-3d-confirm-leave = Are you sure you want to leave this construction? Your unsaved work will be lost.\naccount-shell-text-advanced-preferences-instructions = Try these advanced features. Feel free to send any questions or feedback to support@desmos.com.\naccount-shell-text-alt-text-art-contest = Earth with students from different countries and a red ribbon around it. Illustration.\naccount-shell-text-alt-text-success = Five people standing around and talking about an exciting piece of art in a museum. Illustration.\naccount-shell-text-art-contest-about-paragraph = Want to share your awesome graph with the world? Students ages 13+ can enter the Desmos Global Math Art Contest before<1> January 15th </1>for a chance to be featured on our website and win other prizes! <2>Learn more</2>\naccount-shell-text-art-contest-congratulations = Congratulations, and keep graphing!\naccount-shell-text-art-contest-copyright-agreement = I pledge that (a) this is my original work and (b) this isn't based on copyrighted material.\naccount-shell-text-art-contest-legal-disclaimer = By submitting this graph, you acknowledge that Desmos Studio, PBC may, at its discretion, post it publicly at the contest website and/or on social media channels.\naccount-shell-text-art-contest-notice-default = Once you've created a graph, you can submit it here to participate in the Global Math Art Contest!\naccount-shell-text-art-contest-notice-login = Please create an account or sign in to participate in the Global Math Art Contest!\naccount-shell-text-art-contest-submission-already-received = <1>Your previous submission to the Global Math Art Contest was successfully received! You can click the link below to update your submission, any time before January 15th.</1>\naccount-shell-text-art-contest-success-paragraph = If you'd like to revise your submission, feel free to resubmit anytime before<1> January 15th</1>{\".\"} We'll only look at the most recent submission.\naccount-shell-text-artcontest-ineligible = <1><2>Based on your age and location, we aren’t able to accept a graph submission from you this year.</2><3>Keep up the awesome graphing! There will be new contests every year.</3></1>\naccount-shell-text-check-recovery-link = Please check your email for a password recovery link.\naccount-shell-text-confirm-leave = Are you sure you want to leave this graph? Your unsaved work will be lost.\naccount-shell-text-construction-cleared = Construction Cleared.\naccount-shell-text-contest-submit-by-teacher = Are you a teacher looking to submit your students' graphs?\naccount-shell-text-contest-under-16 = Under 16?\naccount-shell-text-contest-verify-eligibility = Verify your eligibility\naccount-shell-text-copy-of-title = [Copy of] { $originalTitle }\naccount-shell-text-delete-graphs-confirmation =\n    Are you sure you want to delete { $count ->\n        [one] \"{ $title }\"\n       *[other] the { $count } selected graphs\n    }?\naccount-shell-text-download-instructions = To download, right click on the image of the graph select \"Save As.\" You might also be able to click and drag the image onto your desktop.\naccount-shell-text-embossing-etc-print = Set paper size to { $size }. Then click \"Edit\" and select File > Emboss.\naccount-shell-text-embossing-etc-save = Save this image. Open Firebird, select File > Open > Image File, and open the image.\naccount-shell-text-embossing-vpmax-print = Right click image and select \"print\". Set paper size to { $size }.\naccount-shell-text-embossing-vpmax-save = Right click graph image and save to desktop.\naccount-shell-text-error = error\naccount-shell-text-feature-flag-actions-description = Make graphs interactive by defining rules for responding to clicks or to the passage of time.\naccount-shell-text-feedback-sent = Thanks! We'll be in touch.\naccount-shell-text-geometry-confirm-leave = Are you sure you want to leave this construction? Your unsaved work will be lost.\naccount-shell-text-graph-cleared = Graph cleared.\naccount-shell-text-graph-uses-advanced-features = This graph uses advanced features.\naccount-shell-text-local-regulations-notice = Local regulations require you to submit your graph through your teacher or guardian. Share this link with them:\naccount-shell-text-logged-in = Logged in successfully!\naccount-shell-text-login-window-blocked-apple = Login window blocked. Please allow popups from desmos.com to sign in with Apple\naccount-shell-text-login-window-blocked-google = Login window blocked. Please allow popups from desmos.com to sign in with Google.\naccount-shell-text-maintenance-mode = Desmos is in Maintenance Mode.\naccount-shell-text-mygraphs-attempting-recovery = Attempting recovery...\naccount-shell-text-mygraphs-count-more = { $count } more...\naccount-shell-text-mygraphs-current-construction = Current Construction\naccount-shell-text-mygraphs-current-graph = Current Graph\naccount-shell-text-mygraphs-deleting = Deleting...\naccount-shell-text-mygraphs-loading = Loading...\naccount-shell-text-mygraphs-lost-work = Lost work?\naccount-shell-text-mygraphs-maintenance-mode = Desmos is temporarily in maintenance mode. You can open example graphs, but won't be able to sign in, open your graphs, or save any changes. We're so sorry for the inconvenience.\naccount-shell-text-mygraphs-new-blank-graph = New Blank Graph\naccount-shell-text-mygraphs-new-construction = New Construction\naccount-shell-text-mygraphs-no-examples-match-search = No examples match your search.\naccount-shell-text-mygraphs-no-saved-graphs = No saved graphs yet.\naccount-shell-text-mygraphs-no-search-results = No saved graphs match your search.\naccount-shell-text-mygraphs-no-unsaved-graphs = Couldn't find any unsaved graphs.\naccount-shell-text-mygraphs-opened-graph = Opened '{ $graphTitle }'\naccount-shell-text-mygraphs-opening = Opening...\naccount-shell-text-mygraphs-or = or\naccount-shell-text-mygraphs-search-by-title = search by title\naccount-shell-text-mygraphs-share-thoughts = Share your thoughts!\naccount-shell-text-mygraphs-slow-big-constructions = This can take a little while for big constructions...\naccount-shell-text-mygraphs-slow-big-graphs = This can take a little while for big graphs...\naccount-shell-text-mygraphs-submit-to-contest = <1>Submit this graph to the <2>Global Math Art Contest!</2></1>\naccount-shell-text-mygraphs-synced = synced!\naccount-shell-text-mygraphs-to-save-constructions = to save your constructions!\naccount-shell-text-mygraphs-to-save-graphs = to save your graphs!\naccount-shell-text-mygraphs-updating-graphs = updating graphs...\naccount-shell-text-mygraphs-version = Version\naccount-shell-text-new-construction-created = New construction created.\naccount-shell-text-new-graph-created = New graph created.\naccount-shell-text-or = or\naccount-shell-text-saved = saved\naccount-shell-text-share-submit-to-contest = <1>Submit this graph to the <2>Global Math Art Contest!</2></1>\naccount-shell-text-unsupported-browser-android = Desmos works best on your version of Android if you use the Chrome Browser.\naccount-shell-text-untitled = Untitled\naccount-shell-text-untitled-graph = Untitled Graph\nshared-button-accept = Accept\nshared-button-cancel = Cancel\nshared-button-change-email-address = Change email address\nshared-button-change-email-and-password = Change email and password\nshared-button-close-dialog = Close Dialog\nshared-button-confirm-name = Confirm Name\nshared-button-continue-to-desmos = Continue to Desmos\nshared-button-create-account = Create Account\nshared-button-delete-account-question = Delete your Desmos account?\nshared-button-email-address-narrow = Email\nshared-button-email-address-wide = Email Address\nshared-button-external-account-narrow = External\nshared-button-external-account-wide = External Account\nshared-button-go-to-account-settings = Go to Account Settings\nshared-button-google-account-narrow = Google\nshared-button-google-account-wide = Google Account\nshared-button-learn-more-capitalized = Learn More\nshared-button-login = Log in\nshared-button-login-capitalized = Log In\nshared-button-more-options-menu = More Options\nshared-button-recover-password = Recover Password\nshared-button-save = Save\nshared-button-send-delete-account-email = Send Delete Account Email\nshared-button-send-email = Send Email\nshared-button-sign-in-with-apple = Sign in with Apple\nshared-button-sign-in-with-google = Sign in with Google\nshared-button-try-again = Didn't work? Try again!\nshared-calculator-button-braille-mode-nemeth = Nemeth\nshared-calculator-button-braille-mode-ueb = UEB\nshared-calculator-button-clear = clear\nshared-calculator-button-clear-all = clear all\nshared-calculator-button-controlbar-functions = functions\nshared-calculator-button-language = Language\nshared-calculator-button-mac = Mac Shortcuts\nshared-calculator-button-print = Print\nshared-calculator-button-reverse-contrast = Reverse Contrast\nshared-calculator-button-windows-chrome = Windows / ChromeOS Shortcuts\nshared-calculator-error-action-merge-free-variable = Cannot combine an action that depends on free variable '{ $symbol }'.\nshared-calculator-error-add-arguments-to-definition-many = Try including '{ $symbols }' and '{ $lastSymbol }' as arguments by defining the function as '{ $newSignature }'.\nshared-calculator-error-add-arguments-to-definition-one = Try including '{ $lastSymbol }' as an argument by defining the function as '{ $newSignature }'.\nshared-calculator-error-add-type-error = Cannot add { $symbol1 } and { $symbol2 }.\nshared-calculator-error-adjacent-numbers = Sorry, I don't know what to do with adjacent numbers '{ $left }' and '{ $right }'. Try using parentheses or a '*' symbol.\nshared-calculator-error-and-type-error = Cannot apply { $symbol } to { $symbol1 } and { $symbol2 }.\nshared-calculator-error-ans-undefined = The previous expression didn't define any value for ans.\nshared-calculator-error-assignments-unsupported = This calculator does not support defining variables.\nshared-calculator-error-bad-implicit-call = Use parentheses around the argument of '{ $symbol }'.\nshared-calculator-error-bad-integral-bound-dependency = Integration bounds can't depend on integration variable '{ $symbol }'.\nshared-calculator-error-bad-list-comprehension-input-dependency = List comprehension input list can't depend on input variable '{ $symbol }'.\nshared-calculator-error-bad-log-exponent = Only { $form } is supported. Otherwise, use parens.\nshared-calculator-error-bad-product-bound-dependency = Product bounds can't depend on product index '{ $symbol }'.\nshared-calculator-error-bad-sample-size = Sample size must be a finite, non-negative number.\nshared-calculator-error-bad-sum-bound-dependency = Summation bounds can't depend on summation index '{ $symbol }'.\nshared-calculator-error-bad-symbol-context = You can't use '{ $symbol }' in this context.\nshared-calculator-error-bad-trig-exponent = Only { $form1 } and { $form2 } are supported. Otherwise, use parens.\nshared-calculator-error-bad-tuple-dimensions = Points may only have { $symbol } coordinates.\nshared-calculator-error-binary-operator-missing-operand = You need something on both sides of the '{ $symbol }' symbol.\nshared-calculator-error-blank-expression = You haven't written anything yet.\nshared-calculator-error-boxplot-breadth-invalid = Invalid height. Try using any number.\nshared-calculator-error-boxplot-offset-invalid = Invalid offset. Try using any number.\nshared-calculator-error-cannot-redefine = You can't redefine '{ $symbol }' because it's already defined.\nshared-calculator-error-cannot-redefine-root = You can't define '{ $symbol }' because '{ $symbolRoot }' is already defined.\nshared-calculator-error-cannot-subscript = '{ $symbol }' cannot have a subscript.\nshared-calculator-error-cdf-max-invalid = Invalid cdf max. Try using any number.\nshared-calculator-error-cdf-max-less-than-min = Invalid cdf limits. Min should be less than max.\nshared-calculator-error-cdf-min-invalid = Invalid cdf min. Try using any number.\nshared-calculator-error-cdf-too-many-arguments = 'cdf' should be called on a distribution with at most two numbers. { $recommendation }\nshared-calculator-error-cdf-too-many-arguments-recommendation = For example, try typing: D.cdf(-1,1) where D=normaldist().\nshared-calculator-error-cdf-wrong-arity = 'cdf' should be called on a distribution with at least one number. { $recommendation }\nshared-calculator-error-cdf-wrong-arity-recommendation = For example, try typing: D.cdf(x) where D=normaldist().\nshared-calculator-error-clickable-object-assignment-not-defined = \"{ $symbol }\" is not defined. Try using a different variable or adding a slider.\nshared-calculator-error-clickable-object-assignment-not-identifier = Invalid symbol. Try using a single letter.\nshared-calculator-error-clickable-object-invalid-expression = Can't evaluate this. Try a number or simple expression.\nshared-calculator-error-colon-missing-condition = The left side of a ':' must be a condition, like 'x>1'.\nshared-calculator-error-color-arity = '{ $symbol }' should be called with 3 arguments. { $recommendation }\nshared-calculator-error-color-arity-recommendation = For example, try typing: { $recommendation }.\nshared-calculator-error-color-not-assigned = To use a color, you must assign it to a variable.\nshared-calculator-error-combine-type-error = Cannot combine { $symbol1 } and { $symbol2 }.\nshared-calculator-error-comparator-type-error = Cannot compare { $symbol1 } to { $symbol2 }.\nshared-calculator-error-complicated-double-inequality = We only support solved double inequalities. Try deleting one side of the inequality.\nshared-calculator-error-complicated-polar-implicit = Polar equations must be linear in r.\nshared-calculator-error-constant-unsupported = This calculator does not support the constant '{ $symbol }'.\nshared-calculator-error-deeply-nested = Definitions are nested too deeply.\nshared-calculator-error-dependency-cycle = '{ $symbols }' and '{ $lastSymbol }' can't be defined in terms of each other.\nshared-calculator-error-derivative-missing-body = What do you want to take the derivative of?\nshared-calculator-error-derivative-type-error = Cannot take the derivative of { $symbol }.\nshared-calculator-error-derivative-variable-type-error = Cannot take derivative with respect to '{ $symbol1 }' because it is { $symbol2 }.\nshared-calculator-error-differential-with-superscript = Integration variable cannot have a superscript.\nshared-calculator-error-distribution-as-function = Cannot call distribution '{ $symbol }' as a function. Try '{ $symbol }.pdf(x)'.\nshared-calculator-error-divide-type-error = Cannot divide { $symbol1 } by { $symbol2 }.\nshared-calculator-error-domain-max-invalid = Invalid domain max. Try using any number.\nshared-calculator-error-domain-max-less-than-min = Invalid domain limits. Min should be less than max.\nshared-calculator-error-domain-min-invalid = Invalid domain min. Try using any number.\nshared-calculator-error-dot-lhs-type-error = Cannot call '{ $symbol }' on { $type }.\nshared-calculator-error-duplicate-update-rules = An action cannot specify multiple update rules for '{ $symbol }'.\nshared-calculator-error-empty-paren = Parentheses cannot be empty.\nshared-calculator-error-empty-pipe = Absolute value symbol cannot be empty.\nshared-calculator-error-empty-radical = Radical cannot be empty.\nshared-calculator-error-empty-radical-index = Radical index cannot be empty.\nshared-calculator-error-empty-square-bracket = Square brackets cannot be empty.\nshared-calculator-error-empty-subscript = Subscripts cannot be empty.\nshared-calculator-error-empty-superscript = Superscripts cannot be empty.\nshared-calculator-error-equation-required = Try adding an equals sign to turn this into an equation.\nshared-calculator-error-equation-required-symbol = Try adding '{ $lhs }' to the beginning of this equation.\nshared-calculator-error-equations-unsupported = This calculator does not support this type of equation.\nshared-calculator-error-event-handler-type-error = This should be an action. Try '{ $example }'.\nshared-calculator-error-exponent-type-error = Cannot raise { $symbol1 } to { $symbol2 }.\nshared-calculator-error-feature-unavailable = This feature is not available in the current calculator.\nshared-calculator-error-fraction-empty = You need a numerator and denominator for your fraction.\nshared-calculator-error-fraction-missing-denominator = You need a denominator for the bottom of your fraction.\nshared-calculator-error-fraction-missing-numerator = You need a numerator for the top of your fraction.\nshared-calculator-error-function-definition-unsupported = This calculator does not support function definitions.\nshared-calculator-error-function-not-defined = Function '{ $dependency }' is not defined.\nshared-calculator-error-function-type-error-1 = Function '{ $fn }' cannot be applied to { $arg }.\nshared-calculator-error-function-type-error-2 = Function '{ $fn }' cannot be applied to { $arg1 } and { $arg2 }.\nshared-calculator-error-function-type-error-many = Function '{ $fn }' cannot be applied to these arguments.\nshared-calculator-error-function-unsupported = This calculator does not support the '{ $symbol }' function.\nshared-calculator-error-geometry-length-type-error = Function '{ $fn }' cannot be applied to { $arg } in the geometry calculator. Use '{ $alternativeFn }' to find the number of elements in a list.\nshared-calculator-error-heterogeneous-list = All elements of a list must have the same type.\nshared-calculator-error-identifier-as-function = '{ $symbol }' is a function. Try using parentheses.\nshared-calculator-error-illegal-bin-width = The second argument to '{ $symbol }' must be a positive number.\nshared-calculator-error-illegal-dot-call = Function '{ $symbol }' cannot be called with dot notation.\nshared-calculator-error-implicits-disabled = Plotting implicit equations and inequalities is disabled.\nshared-calculator-error-incorrect-list-comprehension-input = Inputs to a list comprehension must set a variable equal to a list. Try i=[1...10].\nshared-calculator-error-incorrect-product-lower-bound = Lower bound of a product must set a variable equal to a number. Try n=1.\nshared-calculator-error-incorrect-sum-lower-bound = Lower bound of a sum must set a variable equal to a number. Try n=1.\nshared-calculator-error-index-type-error = Cannot index { $symbol1 } with { $symbol2 }.\nshared-calculator-error-inequalities-disabled = Plotting inequalities is disabled.\nshared-calculator-error-inequalities-unsupported = This calculator does not support inequalities.\nshared-calculator-error-inequality-chain-too-long = Cannot chain more than 2 inequalities.\nshared-calculator-error-integral-argument-type-error = Cannot take the integral of { $symbol }.\nshared-calculator-error-integral-lower-bound-type-error = Lower bound of an integral cannot be { $symbol }.\nshared-calculator-error-integral-missing-body = What do you want to take the integral of?\nshared-calculator-error-integral-missing-bound = Integrals must have upper and lower bounds.\nshared-calculator-error-integral-missing-differential = Integrand must end with an integration variable, like dx.\nshared-calculator-error-integral-upper-bound-type-error = Upper bound of an integral cannot be { $symbol }.\nshared-calculator-error-invalid-dependent-first-table-column = This column header can't be defined elsewhere in the calculator.\nshared-calculator-error-invalid-double-inequality-variables = We only plot double inequalities of x and y.\nshared-calculator-error-invalid-first-table-column = First column may not be { $most } or { $last }.\nshared-calculator-error-invalid-half-empty-range = Range must have an upper and lower bound.\nshared-calculator-error-invalid-implicit-variables = We only support implicit equations of x and y.\nshared-calculator-error-invalid-inequality-variables = We only plot inequalities of x and y, or r and θ.\nshared-calculator-error-invalid-lhs = Sorry, you can't graph { $symbol } as a function of anything yet.\nshared-calculator-error-invalid-operator-name = Operator names may only contain letters.\nshared-calculator-error-invalid-regression-parameter = '{ $symbol }' may not be used as a regression parameter. Try using a list.\nshared-calculator-error-invalid-subscript = Subscripts may only contain letters and digits. '{ $symbol }' is not allowed.\nshared-calculator-error-invalid-table-entry = Table entries must be simple expressions. { $supplement }\nshared-calculator-error-invalid-table-header = Table headers must be simple expressions. { $supplement }\nshared-calculator-error-list-comprehension-input-type-error = An input to a list comprehension must be a list, but { $identifier } is { $actual }. Try { $identifier }=[1...10].\nshared-calculator-error-list-type-error = Cannot store { $symbol1 } in a list.\nshared-calculator-error-log-scale-box-plot = Cannot plot a box plot on a log scale.\nshared-calculator-error-log-scale-dot-plot = Cannot plot a dot plot on a log scale.\nshared-calculator-error-log-scale-histogram = Cannot plot a histogram on a log scale.\nshared-calculator-error-log-scale-type-error = Cannot plot { $symbol } on a log scale.\nshared-calculator-error-logbase-unsupported = This calculator does not support specifying the base of a logarithm. Try 'log' or 'ln'.\nshared-calculator-error-malformed-list = Lists are written like this: [1, 2, 3].\nshared-calculator-error-malformed-point = Points are written like this: (1, 2).\nshared-calculator-error-matrix-add-dimensions = Cannot add matrices with different dimensions.\nshared-calculator-error-matrix-assignment = This calculator does not support this type of variable definition. Try using 'New Matrix'.\nshared-calculator-error-matrix-element-type-error = Cannot use { $arg } as an element of a matrix.\nshared-calculator-error-matrix-fractional-power = A matrix can only be raised to integer powers.\nshared-calculator-error-matrix-invalid-variable = Cannot use '{ $symbol }' as a variable.\nshared-calculator-error-matrix-multiply-dimensions = Cannot multiply matrices with incompatible dimensions.\nshared-calculator-error-matrix-power-dimensions = Only square matrices can be raised to a power.\nshared-calculator-error-matrix-subtract-dimensions = Cannot subtract matrices with different dimensions.\nshared-calculator-error-max-list-size = Lists may not have more than { $maxListSize } elements.\nshared-calculator-error-method-requires-list = '{ $symbol }' requires a list. For example, try typing: { $recommendation }.\nshared-calculator-error-mismatched-braces = Expected '{ $symbol1 }' to match '{ $symbol2 }'.\nshared-calculator-error-mismatched-double-inequality = Double inequalities must both go the same way, e.g. { $example }.\nshared-calculator-error-multiply-defined = You've defined '{ $dependency }' in more than one place. Try deleting some of the definitions of '{ $dependency }'.\nshared-calculator-error-multiply-type-error = Cannot multiply { $symbol1 } by { $symbol2 }.\nshared-calculator-error-negative-type-error = Cannot negate { $symbol }.\nshared-calculator-error-non-arithmetic-range = Ranges must be arithmetic sequences.\nshared-calculator-error-non-list-double-reducer = Both arguments of '{ $symbol }' must be lists. For example, try typing: { $recommendation }.\nshared-calculator-error-non-list-parameterized-reducer = The first argument of '{ $symbol }' must be a list. For example, try typing: { $recommendation }.\nshared-calculator-error-non-singular-inverse = Singular matrices do not have an inverse.\nshared-calculator-error-non-square-determinant = Only square matrices have a determinant.\nshared-calculator-error-non-square-inverse = Only square matrices have an inverse.\nshared-calculator-error-non-square-trace = Only square matrices have a trace.\nshared-calculator-error-optimization-error = We couldn't find any region where this model is defined.\nshared-calculator-error-ordered-pair-access-type-error = Cannot access a coordinate of { $symbol }.\nshared-calculator-error-parameter-already-defined = You can't use '{ $dependency }' as a parameter of this function because '{ $dependency }' is already defined.\nshared-calculator-error-parse-error = Sorry, I don't understand this.\nshared-calculator-error-pdf-wrong-arity = 'pdf' should be called on a distribution with a number. { $recommendation }\nshared-calculator-error-pdf-wrong-arity-recommendation = For example, try typing: D.pdf(x) where D=normaldist().\nshared-calculator-error-percent-missing-of = '%' must be used with 'of'. Try '25% of 12'.\nshared-calculator-error-piecewise-branch-length-error = When a piecewise condition depends on a free variable (like \"{ $symbol }\") and its branches are lists, the lists must have the same length.\nshared-calculator-error-piecewise-branch-type-error = Cannot use { $symbol1 } and { $symbol2 } as the branches in a piecewise. Every branch must have the same type.\nshared-calculator-error-piecewise-condition-type-error = The condition in a piecewise expression must be { $symbol1 } but was { $symbol2 }.\nshared-calculator-error-piecewise-missing-condition = A piecewise expression must have at least one condition.\nshared-calculator-error-piecewise-part-missing-condition = Every part of a piecewise expression must have a condition except the last.\nshared-calculator-error-point-type-error = Cannot use { $symbol1 } as a coordinate of { $symbol2 }.\nshared-calculator-error-points-unsupported = This calculator does not support points.\nshared-calculator-error-prime-without-paren = Primed function calls must use parentheses.\nshared-calculator-error-primed-function-arity = Prime notation can only be used for functions of a single argument.\nshared-calculator-error-product-argument-type-error = Cannot take the product of { $symbol }.\nshared-calculator-error-product-infinite-bound-type-error = Product bounds must be finite numbers.\nshared-calculator-error-product-lower-bound-type-error = Lower bound of a product cannot be { $symbol }.\nshared-calculator-error-product-missing-body = What do you want to take the product of?\nshared-calculator-error-product-missing-bound = Products must have upper and lower bounds.\nshared-calculator-error-product-upper-bound-type-error = Upper bound of a product cannot be { $symbol }.\nshared-calculator-error-random-arity = 'random' should be called with no arguments, or an optional number of samples. For example, try random() or random(10).\nshared-calculator-error-random-from-broadcast-distribution = Cannot sample from a list of distributions\nshared-calculator-error-regression-type-error = Cannot regress { $symbol1 } against { $symbol2 }.\nshared-calculator-error-regressions-unsupported = This calculator does not support regressions.\nshared-calculator-error-self-referential-function = The definition of function '{ $symbol }' cannot depend on '{ $symbol }'.\nshared-calculator-error-shadowed-index = You can't use '{ $symbol }' as an index because it's already defined.\nshared-calculator-error-shadowed-integration-variable = You can't use '{ $symbol }' as an integration variable because it's already defined.\nshared-calculator-error-shadowed-list-comprehension-input = You can't use '{ $symbol }' as a list comprehension input because it's already defined.\nshared-calculator-error-single-variable-implicit-equations-disabled = Plotting single-variable implicit equations is disabled.\nshared-calculator-error-slider-limit-references-export = Slider limits cannot depend on the slider variable '{ $symbol }'.\nshared-calculator-error-slider-max-invalid = Invalid slider max. Try using any number.\nshared-calculator-error-slider-max-less-than-min = Invalid slider limits. Min should be less than max.\nshared-calculator-error-slider-min-invalid = Invalid slider min. Try using any number.\nshared-calculator-error-slider-step-invalid = Invalid slider step. Try using any number.\nshared-calculator-error-substitution-ambiguous-comma = Ambiguous use of ',' and 'with'. Add parentheses around the 'with' expression.\nshared-calculator-error-substitution-body-action = The left hand side of a 'with' substitution cannot be an action.\nshared-calculator-error-substitution-body-local-variable-dependency = The left hand side of a 'with' substitution cannot depend on '{ $symbol }' because '{ $symbol }' is locally defined.\nshared-calculator-error-substitution-body-regression-parameter-dependency = The left hand side of a 'with' substitution cannot depend on '{ $symbol }' because '{ $symbol }' is a regression parameter.\nshared-calculator-error-substitution-duplicate-assignment = A 'with' expression cannot make multiple substitutions for '{ $symbol }'.\nshared-calculator-error-substitution-function-lhs = Substituting for '{ $symbol }' is not allowed because it is a function.\nshared-calculator-error-substitution-illegal-lhs = Substituting for '{ $symbol }' is not allowed.\nshared-calculator-error-substitution-invalid-assignments = 'with' must be followed by one or more variable assignments.\nshared-calculator-error-substitution-local-lhs = Substituting for variable '{ $symbol }' is not allowed because it is locally defined.\nshared-calculator-error-substitution-nested = Using one 'with' expression inside another 'with' expression is not allowed.\nshared-calculator-error-substitution-type-error = Cannot substitute { $actual } for { $expected }.\nshared-calculator-error-substitution-undefined-rhs = An expression that depends on the free variable '{ $symbol }' cannot be used on the right hand side of 'with'.\nshared-calculator-error-subtract-type-error = Cannot subtract { $symbol2 } from { $symbol1 }.\nshared-calculator-error-sum-argument-type-error = Cannot take the sum of { $symbol }.\nshared-calculator-error-sum-infinite-bound-type-error = Summation bounds must be finite numbers.\nshared-calculator-error-sum-lower-bound-type-error = Lower bound of a sum cannot be { $symbol }.\nshared-calculator-error-sum-missing-body = What do you want to take the sum of?\nshared-calculator-error-sum-missing-bound = Sums must have upper and lower bounds.\nshared-calculator-error-sum-upper-bound-type-error = Upper bound of a sum cannot be { $symbol }.\nshared-calculator-error-superscript-with-prime = Superscripts and primes cannot be combined.\nshared-calculator-error-table-entry-type-error = Table entry cannot be { $symbol }.\nshared-calculator-error-table-equation-supplement = Equations are not allowed.\nshared-calculator-error-table-function-definition-supplement = Function definitions are not allowed.\nshared-calculator-error-table-generic-supplement = This type of expression is not allowed.\nshared-calculator-error-table-header-type-error = Table header cannot be { $symbol }.\nshared-calculator-error-table-inequality-supplement = Inequalities are not allowed.\nshared-calculator-error-table-list-supplement = Lists are not allowed.\nshared-calculator-error-table-regression-supplement = Regressions are not allowed.\nshared-calculator-error-tdist-wrong-arity = 'tdist' requires 1 argument. For example, try typing: tdist(1).\nshared-calculator-error-ticker-min-step-nonnegative = Min step must evaluate to a non-negative number.\nshared-calculator-error-todo-error = [todo] { $msg }\nshared-calculator-error-token-with-subscript = Tokens may not have subscripts.\nshared-calculator-error-too-many-arguments = '{ $symbol }' accepts at most { $max } arguments.\nshared-calculator-error-too-many-variables-many-symbols = Too many variables. Try defining '{ $variables }' or '{ $lastVariable }'.\nshared-calculator-error-too-many-variables-no-symbols = Too many variables, I don't know what to do with this.\nshared-calculator-error-too-many-variables-one-symbol = Too many variables. Try defining '{ $variable }'.\nshared-calculator-error-transformation-type-error-1 = Transformation '{ $fn }' cannot be applied to { $arg }.\nshared-calculator-error-transformation-type-error-2 = Transformation '{ $fn }' cannot be applied to { $arg1 } and { $arg2 }.\nshared-calculator-error-transformation-type-error-many = Transformation '{ $fn }' cannot be applied to these arguments.\nshared-calculator-error-ttest-list-too-short = Lists for '{ $symbol }' must have at least 2 elements.\nshared-calculator-error-two-numbers-error = Cannot make a polygon from two numbers.\nshared-calculator-error-unary-operator-missing-left = You need something before the '{ $symbol }' symbol.\nshared-calculator-error-unary-operator-missing-right = You need something after the '{ $symbol }' symbol.\nshared-calculator-error-unexpected-for-keyword = 'for' can only be used inside a list. Try [i for i=[1...10]].\nshared-calculator-error-unexpected-inequality = Cannot use an inequality here.\nshared-calculator-error-unexpected-prime = Sorry, I don't understand this use of prime notation.\nshared-calculator-error-unexpected-subscript = Only functions and variables may have subscripts.\nshared-calculator-error-unexpected-symbol = Sorry, I don't understand the way that '{ $symbol }' is used here.\nshared-calculator-error-unknown = Unknown Error\nshared-calculator-error-unplottable-polar-function = We can't plot θ as a function of r. Try plotting r(θ) instead.\nshared-calculator-error-unrecognized-symbol = Sorry, I don't understand the '{ $symbol }' symbol.\nshared-calculator-error-update-rule-function-lhs = '{ $symbol }' cannot be updated because it is a function.\nshared-calculator-error-update-rule-illegal-lhs = Variable '{ $symbol }' cannot be updated.\nshared-calculator-error-update-rule-local-lhs = Variable '{ $symbol }' cannot be updated because it is locally defined.\nshared-calculator-error-update-rule-non-identifier-lhs = The left hand side of '{ $arrow }' should be a variable name like '{ $example }'.\nshared-calculator-error-update-rule-type-error = Cannot update a variable to { $symbol }.\nshared-calculator-error-update-rule-undefined-lhs = Variable '{ $symbol }' must be defined to be updated.\nshared-calculator-error-variable-as-function = Variable '{ $dependency }' can't be used as a function.\nshared-calculator-error-variable-filter = List filters cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-function-free-variable = Function '{ $functionSymbol }' cannot depend on free variable '{ $variableSymbol }'.\nshared-calculator-error-variable-length-distribution-list = The length of a list of distributions can't depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-length-product-body-depends-on-index = Can't take the product of a list whose length depends on product index '{ $symbol }'.\nshared-calculator-error-variable-length-sum-body-depends-on-index = Can't sum a list whose length depends on summation index '{ $symbol }'.\nshared-calculator-error-variable-length-top-level-list = Can't plot a list whose length depends on free variable '{ $symbol }'.\nshared-calculator-error-variable-list-indices = List indices cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-range = Range cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-sample-size = Sample size cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-seed = Random seed cannot depend on free variable '{ $symbol }'.\nshared-calculator-error-variable-unsupported = This calculator does not support the '{ $symbol }' variable.\nshared-calculator-error-variables-unsupported = This calculator does not support variables like '{ $variable }'.\nshared-calculator-error-write-integral = Type '{ $command }' for { $symbol }.\nshared-calculator-error-wrong-arity-many-arg = Function '{ $dependency }' requires { $assignment_arity } arguments. { $supplement }\nshared-calculator-error-wrong-arity-single-arg-too-few = Function '{ $dependency }' requires an argument. { $supplement }\nshared-calculator-error-wrong-arity-single-arg-too-many = Function '{ $dependency }' requires only 1 argument. { $supplement }\nshared-calculator-error-wrong-arity-supplement = For example, try typing: { $recommendation }.\nshared-calculator-error-wrong-two-arg-arity = Function '{ $symbol }' requires 2 arguments. For example, try typing: { $recommendation }.\nshared-calculator-error-zero-arg-reducer = Function '{ $symbol }' requires at least one argument. For example, try typing: { $symbol }(1, 2).\nshared-calculator-heading-function-table-column-header = Function\nshared-calculator-heading-keyboard-shortcuts = Keyboard Shortcuts\nshared-calculator-heading-keyboard-shortcuts-audio-tracing = Audio Tracing\nshared-calculator-heading-keyboard-shortcuts-braille = Braille\nshared-calculator-heading-keyboard-shortcuts-common-actions = Common Actions\nshared-calculator-heading-keyboard-shortcuts-common-symbols = Common Symbols\nshared-calculator-heading-keyboard-shortcuts-desmos-com-only = Desmos.com Only\nshared-calculator-heading-keyboard-shortcuts-expression-entry-and-navigation = Expression Entry and Navigation\nshared-calculator-heading-keyboard-shortcuts-interactive-points = Interactive Points\nshared-calculator-heading-keyboard-shortcuts-slider-trace = Slider Trace\nshared-calculator-heading-keyboard-shortcuts-sliders = Sliders\nshared-calculator-heading-keyboard-shortcuts-symbols = Symbols\nshared-calculator-heading-keyboard-shortcuts-tables = Tables\nshared-calculator-heading-mac-table-column-header = Mac Shortcut\nshared-calculator-heading-shortcut-table-column-header = Shortcut\nshared-calculator-heading-windows-chrome-table-column-header = Windows / ChromeOS Shortcut\nshared-calculator-label-accessibility = Accessibility\nshared-calculator-label-os = Operating System\nshared-calculator-label-saved = Saved!\nshared-calculator-label-saving = Saving...\nshared-calculator-label-settings-display = Display\nshared-calculator-label-toast-learn-more = Learn more\nshared-calculator-label-toast-undo = Undo\nshared-calculator-label-tooltip-convert-to-decimal = Convert to decimal.\nshared-calculator-label-tooltip-convert-to-fraction = Convert to fraction.\nshared-calculator-label-value-type-action = an action\nshared-calculator-label-value-type-angle = an angle\nshared-calculator-label-value-type-any = an unknown object\nshared-calculator-label-value-type-arc = an arc\nshared-calculator-label-value-type-bool = a true/false value\nshared-calculator-label-value-type-circle = a circle\nshared-calculator-label-value-type-color = a color\nshared-calculator-label-value-type-directed-angle = a directed angle\nshared-calculator-label-value-type-distribution = a distribution\nshared-calculator-label-value-type-empty-list = an empty list\nshared-calculator-label-value-type-error = an error object\nshared-calculator-label-value-type-line = a line\nshared-calculator-label-value-type-list-of-angles = a list of angles\nshared-calculator-label-value-type-list-of-any = a list of unknown objects\nshared-calculator-label-value-type-list-of-arcs = a list of arcs\nshared-calculator-label-value-type-list-of-bool = a list of true/false values\nshared-calculator-label-value-type-list-of-circles = a list of circles\nshared-calculator-label-value-type-list-of-colors = a list of colors\nshared-calculator-label-value-type-list-of-directed-angles = a list of directed angles\nshared-calculator-label-value-type-list-of-distributions = a list of distributions\nshared-calculator-label-value-type-list-of-lines = a list of lines\nshared-calculator-label-value-type-list-of-numbers = a list of numbers\nshared-calculator-label-value-type-list-of-points = a list of points\nshared-calculator-label-value-type-list-of-polygons = a list of polygons\nshared-calculator-label-value-type-list-of-rays = a list of rays\nshared-calculator-label-value-type-list-of-segments = a list of segments\nshared-calculator-label-value-type-list-of-transformations = a list of transformations\nshared-calculator-label-value-type-matrix = a matrix\nshared-calculator-label-value-type-number = a number\nshared-calculator-label-value-type-point = a point\nshared-calculator-label-value-type-polygon = a polygon\nshared-calculator-label-value-type-ray = a ray\nshared-calculator-label-value-type-seed = a string\nshared-calculator-label-value-type-segment = a segment\nshared-calculator-label-value-type-transformation = a transformation\nshared-calculator-narration-braille-mode = Braille Mode\nshared-calculator-narration-control-toggle-switch-to-default = { $toggled } selected. Press Enter to switch to { $default }.\nshared-calculator-narration-control-toggle-switch-to-toggled = { $default } selected. Press Enter to switch to { $toggled }.\nshared-calculator-narration-display-as-decimal = Displaying as fraction. Press Enter to display as Decimal\nshared-calculator-narration-display-as-fraction = Displaying as decimal. Press Enter to display as Fraction\nshared-calculator-narration-evaluation = equals { $answer }\nshared-calculator-narration-expression = Expression\nshared-calculator-narration-expression-index = Expression { $index }\nshared-calculator-narration-expression-list = Expression List\nshared-calculator-narration-hotkey-braille-mode-nemeth = Braille mode Nemeth\nshared-calculator-narration-hotkey-braille-mode-off = Braille mode off\nshared-calculator-narration-hotkey-braille-mode-ueb = Braille mode UEB\nshared-calculator-narration-input-error = input has an error\nshared-calculator-narration-item-selected = { $item } selected\nshared-calculator-narration-item-unselected = { $item } unselected\nshared-calculator-narration-keypad = keypad\nshared-calculator-narration-keypad-controlbar = Control Bar\nshared-calculator-narration-keypad-key-10-n = Times ten to the power of\nshared-calculator-narration-keypad-key-abs = Absolute Value\nshared-calculator-narration-keypad-key-action-to = Set Value To\nshared-calculator-narration-keypad-key-action-with = Substitute With\nshared-calculator-narration-keypad-key-alpha = Alpha\nshared-calculator-narration-keypad-key-ans = Answer\nshared-calculator-narration-keypad-key-arccos = Inverse Cosine\nshared-calculator-narration-keypad-key-arccot = Inverse Cotangent\nshared-calculator-narration-keypad-key-arccsc = Inverse Cosecant\nshared-calculator-narration-keypad-key-arcsec = Inverse Secant\nshared-calculator-narration-keypad-key-arcsin = Inverse Sine\nshared-calculator-narration-keypad-key-arctan = Inverse Tangent\nshared-calculator-narration-keypad-key-backspace = Backspace\nshared-calculator-narration-keypad-key-beta = Beta\nshared-calculator-narration-keypad-key-binomialdist = Binomial Distribution\nshared-calculator-narration-keypad-key-boxplot = Box Plot\nshared-calculator-narration-keypad-key-ceil = Ceiling\nshared-calculator-narration-keypad-key-corr = Correlation\nshared-calculator-narration-keypad-key-cos = Cosine\nshared-calculator-narration-keypad-key-cosh = Hyperbolic Cosine\nshared-calculator-narration-keypad-key-cot = Cotangent\nshared-calculator-narration-keypad-key-coth = Hyperbolic Cotangent\nshared-calculator-narration-keypad-key-cov = Co Variance\nshared-calculator-narration-keypad-key-covp = Population Co Variance\nshared-calculator-narration-keypad-key-csc = Cosecant\nshared-calculator-narration-keypad-key-csch = Hyperbolic Cosecant\nshared-calculator-narration-keypad-key-cubed = Cubed\nshared-calculator-narration-keypad-key-decimal = Decimal\nshared-calculator-narration-keypad-key-distance = Distance\nshared-calculator-narration-keypad-key-divide = Divide\nshared-calculator-narration-keypad-key-dotplot = Dot Plot\nshared-calculator-narration-keypad-key-enter = Enter\nshared-calculator-narration-keypad-key-erf = Error Function\nshared-calculator-narration-keypad-key-exp = Exponent\nshared-calculator-narration-keypad-key-factorial = Factorial\nshared-calculator-narration-keypad-key-floor = Floor\nshared-calculator-narration-keypad-key-fraction = A over B\nshared-calculator-narration-keypad-key-histogram = Histogram\nshared-calculator-narration-keypad-key-int = Integral\nshared-calculator-narration-keypad-key-inversecdf = Inverse CDF function\nshared-calculator-narration-keypad-key-ittest = Independent T Test\nshared-calculator-narration-keypad-key-left-arrow = Left Arrow\nshared-calculator-narration-keypad-key-left-bracket = Left Bracket\nshared-calculator-narration-keypad-key-left-paren = Left Parenthesis\nshared-calculator-narration-keypad-key-ln = Natural Log\nshared-calculator-narration-keypad-key-log = Log\nshared-calculator-narration-keypad-key-loga = Log A\nshared-calculator-narration-keypad-key-mean = Mean\nshared-calculator-narration-keypad-key-median = Median\nshared-calculator-narration-keypad-key-midpoint = Midpoint\nshared-calculator-narration-keypad-key-minus = Minus\nshared-calculator-narration-keypad-key-normaldist = Normal Distribution\nshared-calculator-narration-keypad-key-nthroot = Nth Root\nshared-calculator-narration-keypad-key-pdf = Probability Density Function\nshared-calculator-narration-keypad-key-percent-of = Percent Of\nshared-calculator-narration-keypad-key-pi = Pi\nshared-calculator-narration-keypad-key-plus = Plus\nshared-calculator-narration-keypad-key-poissondist = Poisson Distribution\nshared-calculator-narration-keypad-key-polygon = Polygon\nshared-calculator-narration-keypad-key-prime = Function derivative\nshared-calculator-narration-keypad-key-product = Product\nshared-calculator-narration-keypad-key-quantile = Quantile\nshared-calculator-narration-keypad-key-quartile = Quartile\nshared-calculator-narration-keypad-key-random = Random Number\nshared-calculator-narration-keypad-key-reciprocal = Reciprocal\nshared-calculator-narration-keypad-key-right-arrow = Right Arrow\nshared-calculator-narration-keypad-key-right-bracket = Right Bracket\nshared-calculator-narration-keypad-key-right-paren = Right Parenthesis\nshared-calculator-narration-keypad-key-round = Round\nshared-calculator-narration-keypad-key-sec = Secant\nshared-calculator-narration-keypad-key-shift = Shift\nshared-calculator-narration-keypad-key-sin = Sine\nshared-calculator-narration-keypad-key-sinh = Hyperbolic Sine\nshared-calculator-narration-keypad-key-spearman = Spearman Rank Correlation\nshared-calculator-narration-keypad-key-sqrt = Square Root\nshared-calculator-narration-keypad-key-squared = Squared\nshared-calculator-narration-keypad-key-stats = Summary statistics\nshared-calculator-narration-keypad-key-stdev = Standard Deviation\nshared-calculator-narration-keypad-key-stdevp = Standard Deviation of Population\nshared-calculator-narration-keypad-key-subscript = Subscript\nshared-calculator-narration-keypad-key-sum = Sum\nshared-calculator-narration-keypad-key-superscript = Superscript\nshared-calculator-narration-keypad-key-tan = Tangent\nshared-calculator-narration-keypad-key-tanh = Hyperbolic Tangent\nshared-calculator-narration-keypad-key-tau = Tau\nshared-calculator-narration-keypad-key-tdist = Student-t Distribution\nshared-calculator-narration-keypad-key-theta = Theta\nshared-calculator-narration-keypad-key-times = Times\nshared-calculator-narration-keypad-key-toggle-audio-trace = Toggle Audio Trace\nshared-calculator-narration-keypad-key-toggle-letters = Toggle Letters\nshared-calculator-narration-keypad-key-toggle-numbers = Toggle Numbers\nshared-calculator-narration-keypad-key-tscore = T Score\nshared-calculator-narration-keypad-key-ttest = T Test\nshared-calculator-narration-keypad-key-uniformdist = Uniform Distribution\nshared-calculator-narration-keypad-key-ythroot = Yth Root\nshared-calculator-narration-keypad-plus-minus = Plus-Minus\nshared-calculator-narration-math-input-error-message = expression has error\nshared-calculator-narration-redo = redo\nshared-calculator-narration-settings-display-size = Display Size\nshared-calculator-narration-settings-display-size-default = Display size: default\nshared-calculator-narration-settings-display-size-large = Display size: large\nshared-calculator-narration-show-as-decimal = Show as Decimal\nshared-calculator-narration-show-as-fraction = Show as Fraction\nshared-calculator-narration-six-key-mode-off = Six Key Braille Input off\nshared-calculator-narration-six-key-mode-on = Six Key Braille Input on\nshared-calculator-narration-table-cell-coordinates = Row { $rowNumber } Column { $columnNumber }\nshared-calculator-narration-undo = undo\nshared-calculator-text-keyboard-shortcut-add-expression = Add an Expression\nshared-calculator-text-keyboard-shortcut-add-folder = Add a Folder\nshared-calculator-text-keyboard-shortcut-add-image = Add an Image\nshared-calculator-text-keyboard-shortcut-add-note = Add a Note\nshared-calculator-text-keyboard-shortcut-add-table = Add a Table\nshared-calculator-text-keyboard-shortcut-adjust-playback-speed = Adjust Playback Speed (1 = slowest, 5 = fastest)\nshared-calculator-text-keyboard-shortcut-announce-slider-animations = Announce Active Slider Animations\nshared-calculator-text-keyboard-shortcut-beginning-of-block = Beginning of Current Block\nshared-calculator-text-keyboard-shortcut-beginning-of-expression = Beginning of Current Expression\nshared-calculator-text-keyboard-shortcut-close-a-dialog = Close a Dialog\nshared-calculator-text-keyboard-shortcut-collapse-all-folders = Collapse All Folders\nshared-calculator-text-keyboard-shortcut-collapse-folder = Collapse Selected Folder\nshared-calculator-text-keyboard-shortcut-decrease-volume = Decrease Volume\nshared-calculator-text-keyboard-shortcut-decrease-x = Decrease X\nshared-calculator-text-keyboard-shortcut-decrease-x-larger = Decrease X by Larger Amount\nshared-calculator-text-keyboard-shortcut-decrease-y = Decrease Y\nshared-calculator-text-keyboard-shortcut-decrease-y-larger = Decrease Y by Larger Amount\nshared-calculator-text-keyboard-shortcut-degrees-toggle = Toggle Between Degrees and Radians\nshared-calculator-text-keyboard-shortcut-delete-expression = Delete the Focused Expression\nshared-calculator-text-keyboard-shortcut-delete-selection = Delete Selection\nshared-calculator-text-keyboard-shortcut-describe-axes = Describe the graph axes\nshared-calculator-text-keyboard-shortcut-end-of-block = End of Current Block\nshared-calculator-text-keyboard-shortcut-end-of-expression = End of Current Expression\nshared-calculator-text-keyboard-shortcut-exit-block = Exit Current Block\nshared-calculator-text-keyboard-shortcut-expand-all-folders = Expand All Folders\nshared-calculator-text-keyboard-shortcut-expand-folder = Expand Selected Folder\nshared-calculator-text-keyboard-shortcut-first-point = First Point\nshared-calculator-text-keyboard-shortcut-focus-expression-list = Focus the Expression List\nshared-calculator-text-keyboard-shortcut-focus-first-interactive-point = Focus First Interactive Point On Screen\nshared-calculator-text-keyboard-shortcut-hear-graph = Hear Graph\nshared-calculator-text-keyboard-shortcut-hear-specific-branch = Hear Only Branch 1 Through 10\nshared-calculator-text-keyboard-shortcut-increase-selection-left = Increase Selection Left\nshared-calculator-text-keyboard-shortcut-increase-selection-right = Increase Selection Right\nshared-calculator-text-keyboard-shortcut-increase-volume = Increase Volume\nshared-calculator-text-keyboard-shortcut-increase-x = Increase X\nshared-calculator-text-keyboard-shortcut-increase-x-larger = Increase X by Larger Amount\nshared-calculator-text-keyboard-shortcut-increase-y = Increase Y\nshared-calculator-text-keyboard-shortcut-increase-y-larger = Increase Y by Larger Amount\nshared-calculator-text-keyboard-shortcut-keypad-toggle = Show or Hide the Keypad\nshared-calculator-text-keyboard-shortcut-last-point = Last Point\nshared-calculator-text-keyboard-shortcut-move-to-denominator = Move to Denominator Within Fraction\nshared-calculator-text-keyboard-shortcut-move-to-numerator = Move to Numerator Within Fraction\nshared-calculator-text-keyboard-shortcut-move-to-origin = Move to Origin\nshared-calculator-text-keyboard-shortcut-nemeth-mode = Switch to Nemeth\nshared-calculator-text-keyboard-shortcut-next-character = Next Character\nshared-calculator-text-keyboard-shortcut-next-curve = Move to Next Curve\nshared-calculator-text-keyboard-shortcut-next-expression = Move to Next Expression\nshared-calculator-text-keyboard-shortcut-next-interactive-point = Go to Next Interactive Point\nshared-calculator-text-keyboard-shortcut-next-poi = Next Point of Interest\nshared-calculator-text-keyboard-shortcut-next-point = Next Point\nshared-calculator-text-keyboard-shortcut-open-a-graph = Open a Graph\nshared-calculator-text-keyboard-shortcut-open-expression-options = Open Options for the Focused Expression\nshared-calculator-text-keyboard-shortcut-open-shortcuts-dialog = Open Keyboard Shortcuts Dialog\nshared-calculator-text-keyboard-shortcut-previous-character = Previous Character\nshared-calculator-text-keyboard-shortcut-previous-curve = Move to Previous Curve\nshared-calculator-text-keyboard-shortcut-previous-expression = Move to Previous Expression\nshared-calculator-text-keyboard-shortcut-previous-interactive-point = Go to Previous Interactive Point\nshared-calculator-text-keyboard-shortcut-previous-poi = Previous Point of Interest\nshared-calculator-text-keyboard-shortcut-previous-point = Previous Point\nshared-calculator-text-keyboard-shortcut-print-a-graph = Print a Graph\nshared-calculator-text-keyboard-shortcut-print-mode = Switch to Print\nshared-calculator-text-keyboard-shortcut-redo = Redo\nshared-calculator-text-keyboard-shortcut-remove-empty-expression = Remove Selected Empty Expression\nshared-calculator-text-keyboard-shortcut-save-a-graph = Save a Graph\nshared-calculator-text-keyboard-shortcut-select-all = Select All\nshared-calculator-text-keyboard-shortcut-show-answer-as-decimal-or-fraction = Show Answer as Decimal or Fraction\nshared-calculator-text-keyboard-shortcut-show-or-hide-expression-list = Show or Hide the Expression List\nshared-calculator-text-keyboard-shortcut-slider-decrease = Decrease Value\nshared-calculator-text-keyboard-shortcut-slider-decrease-larger = Decrease Value by Larger Increment\nshared-calculator-text-keyboard-shortcut-slider-increase = Increase Value\nshared-calculator-text-keyboard-shortcut-slider-increase-larger = Increase Value by Larger Increment\nshared-calculator-text-keyboard-shortcut-slider-maximum = Highest Value\nshared-calculator-text-keyboard-shortcut-slider-minimum = Lowest Value\nshared-calculator-text-keyboard-shortcut-slider-trace-decrease = Decrease Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-decrease-larger = Decrease Value of Selected Slider by Larger Increment When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-increase = Increase Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-increase-larger = Increase Value of Selected Slider by Larger Increment When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-maximum = Move to Highest Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-minimum = Move to Lowest Value of Selected Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-next-slider = Select Next Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-slider-trace-previous-slider = Select Previous Slider When in Slider Trace\nshared-calculator-text-keyboard-shortcut-speak-answer = Speak Answer\nshared-calculator-text-keyboard-shortcut-speak-branch = Speak Branch\nshared-calculator-text-keyboard-shortcut-speak-color = Speak Color\nshared-calculator-text-keyboard-shortcut-speak-focused-block = Speak Focused Block\nshared-calculator-text-keyboard-shortcut-speak-label = Speak Label\nshared-calculator-text-keyboard-shortcut-speak-left-adjacent-block = Speak Left-Adjacent Block\nshared-calculator-text-keyboard-shortcut-speak-parent-block = Speak Parent Block\nshared-calculator-text-keyboard-shortcut-speak-poi-count = Speak Point of Interest Count\nshared-calculator-text-keyboard-shortcut-speak-point-type = Speak Type of Selected Point\nshared-calculator-text-keyboard-shortcut-speak-right-adjacent-block = Speak Right-Adjacent Block\nshared-calculator-text-keyboard-shortcut-speak-selection = Speak Selection\nshared-calculator-text-keyboard-shortcut-speak-x = Speak X Coordinate\nshared-calculator-text-keyboard-shortcut-speak-y = Speak Y Coordinate\nshared-calculator-text-keyboard-shortcut-summarize-graph = Summarize Selected Curve\nshared-calculator-text-keyboard-shortcut-table-first-column = First Column in Row\nshared-calculator-text-keyboard-shortcut-table-first-row = First Row in Column\nshared-calculator-text-keyboard-shortcut-table-last-column = Last Column in Row\nshared-calculator-text-keyboard-shortcut-table-last-row = Last Row in Column\nshared-calculator-text-keyboard-shortcut-table-next-cell = Next Cell\nshared-calculator-text-keyboard-shortcut-table-next-column = Next Column\nshared-calculator-text-keyboard-shortcut-table-next-row = Next Row\nshared-calculator-text-keyboard-shortcut-table-previous-cell = Previous Cell\nshared-calculator-text-keyboard-shortcut-table-previous-column = Previous Column\nshared-calculator-text-keyboard-shortcut-table-previous-row = Previous Row\nshared-calculator-text-keyboard-shortcut-table-speak-column-header = Speak Column Header\nshared-calculator-text-keyboard-shortcut-toggle-account-menu = Open or Close the Account Menu\nshared-calculator-text-keyboard-shortcut-toggle-audio-trace = Enable or Disable Audio Trace Mode\nshared-calculator-text-keyboard-shortcut-toggle-braille-typing = Turn Braille Typing On or Off\nshared-calculator-text-keyboard-shortcut-toggle-edit-list-mode = Turn Edit List Mode On or Off\nshared-calculator-text-keyboard-shortcut-toggle-graph-settings-menu = Open or Close the Graph Settings Menu\nshared-calculator-text-keyboard-shortcut-toggle-help-menu = Open or Close the Help Menu\nshared-calculator-text-keyboard-shortcut-toggle-language-menu = Open or Close the Language Menu\nshared-calculator-text-keyboard-shortcut-toggle-share-menu = Open or Close the Share Menu\nshared-calculator-text-keyboard-shortcut-toggle-slider-trace = Toggle Slider Trace Mode\nshared-calculator-text-keyboard-shortcut-ueb-mode = Switch to UEB\nshared-calculator-text-keyboard-shortcut-undo = Undo\nshared-calculator-text-keyboard-shortcut-usually = usually\nshared-calculator-text-keyboard-shortcut-zoom-fit = Zoom to Fit\nshared-calculator-text-keyboard-shortcut-zoom-in = Zoom In\nshared-calculator-text-keyboard-shortcut-zoom-out = Zoom Out\nshared-calculator-text-keyboard-shortcut-zoom-restore-default = Restore Default Viewport\nshared-label-email = Email\nshared-label-family-name = Last Name (optional)\nshared-label-given-name-or-nickname = First Name or Nickname\nshared-label-name = Name\nshared-label-name-or-nickname = Name or Nickname\nshared-label-new-email-address = New Email Address\nshared-label-password = Password\nshared-message-account-reactivated = You previously requested to delete your account, but because you logged back in within 30 days, we will not delete your account. Welcome back!\nshared-message-change-password-email-sent = We will send a link to your email address ({ $emailAddress }) so you can change your password.\nshared-message-check-email-for-delete-link = Please check your email ({ $emailAddress }) for the link to delete your account.\nshared-message-check-email-for-link = Please check { $emailAddress } for the Change Email link.\nshared-message-check-email-for-password-link = Please check your email ({ $emailAddress }) for the link to change your password.\nshared-message-check-email-for-password-recovery-link = Message sent. Please check your email for a password recovery link.\nshared-message-consent-delete-information = If you don't want Desmos to hold onto this information, you may delete your account from the Account Settings menu at any time.\nshared-message-consent-information = When you created your Desmos account, you gave us your name, email address, and password (unless you signed in with Google, in which case you gave us access to the name and email address associated with that account). You also gave us access to your saved work. To continue using your Desmos account, please consent below to the collection of this information.\nshared-message-consent-text = I agree to let Desmos store and maintain the information I provide (e.g. login credentials, saved work) in order to provide and improve its service. To withdraw consent, you may delete your account at any time.\nshared-message-cookie-notice = <1>Note:</1> Desmos uses cookies to enable persistence when you are signed in. If you do not wish to use cookies, please use Desmos without logging in. <2>Learn More.</2>\nshared-message-delete-account-notice = When you delete your account, <1>we will retain your data for 30 days.</1> You can reactivate your account at any time during those 30 days by logging back in. If there's something about Desmos we can improve, please <2>let us know.</2>\nshared-message-delete-account-will-send-email = We will send you a link to your email address ({ $email }) so you can delete your account.\nshared-message-email-sent = Email sent\nshared-message-email-settings-will-send-email = We will send a Change Email link to { $emailAddress }.\nshared-message-google-login-not-available = Google Login is not available on this device.\nshared-message-information-saved = Saved!\nshared-message-or-login-with-desmos = Or log in with Desmos\nshared-message-please-review-name = We tried to split your name into first and last name. Please review your name below and edit any mistakes.\nshared-message-privacy-notice = I have read, understand, and accept the <1>Terms of Service</1> and <2>Privacy Policy</2>{\".\"}\nshared-message-set-new-email-address = Set a new email address and password.\nshared-narration-privacy-policy-agreement = Checkbox to indicate agreement to privacy policy (desmos.com/privacy) and terms of service (desmos.com/terms).\nshared-prompt-already-have-account = Already have a Desmos account?\nshared-prompt-enter-email-for-password-recovery-link = Enter your email address to get a password recovery link.\nshared-prompt-forgot-your-password = Forgot your password?\nshared-prompt-new-to-desmos-sign-up-here = New to Desmos? <1>Sign up</1>{\".\"}\nshared-prompt-new-to-desmos-teacher-or-student = New to Desmos? <1>Sign up!</1>\nshared-prompt-please-consent-to-sign-up-with-apple = Please consent above to sign up with Apple\nshared-prompt-please-consent-to-sign-up-with-google = Please consent above to sign up with Google\nshared-prompt-sign-up-with-apple = Sign up with Apple\nshared-prompt-sign-up-with-google = Sign up with Google\nshared-title-account-reactivated = Your account has been reactivated.\nshared-title-account-settings = Account Settings\nshared-title-change-email-address = Change your Desmos email address\nshared-title-change-password-narrow = Password\nshared-title-change-password-wide = Change Password\nshared-title-consent = We value your privacy\nshared-title-delete-account = Are you sure you want to delete your account?\nshared-title-email-settings = Email\nshared-title-language-menu = Language\nshared-title-login = Log In\nshared-title-profile-information-narrow = Profile\nshared-title-profile-information-wide = Profile Information\nshared-title-recover-password = Recover Password\nshared-title-signup = Sign-Up\n### Strings for the graphing calculator and other tools\n\n\n### 3090 English words, 916 English strings\n\nbasic-calculator-button-controlbar-abc = abc\nbasic-calculator-button-controlbar-clear = clear\nbasic-calculator-button-controlbar-clear-all = clear all\nbasic-calculator-button-controlbar-func = func\nbasic-calculator-button-controlbar-main = main\nbasic-calculator-button-turn-braille-mode-off = Turn { $mode } off\nbasic-calculator-error-fractions-unavailable = Fractions are not available in the current calculator.\nbasic-calculator-heading-braille-table-type-this = Type this\nbasic-calculator-heading-braille-table-typeset = Typeset\nbasic-calculator-heading-page-title-florida = Desmos | Florida Calculator\nbasic-calculator-heading-page-title-four-function = Desmos | 4-Function Calculator\nbasic-calculator-heading-title-scientific = Desmos | Scientific Calculator\nbasic-calculator-label-answer-hint = Your answers show up on this side.\nbasic-calculator-label-controlbar-deg = deg\nbasic-calculator-label-controlbar-rad = rad\nbasic-calculator-label-convert-to-decimal = Convert to decimal.\nbasic-calculator-label-convert-to-fraction = Convert to fraction.\nbasic-calculator-label-reverse-contrast = Reverse Contrast\nbasic-calculator-label-six-key-input = Six Key Braille Input\nbasic-calculator-link-download-braille-equations = Download Braille Equations\nbasic-calculator-link-help = Help\nbasic-calculator-link-privacy-policy = Privacy Policy\nbasic-calculator-link-terms-of-service = Terms of Service\nbasic-calculator-link-view-braille-examples = View more examples\nbasic-calculator-narration-calc-description-fourfunction = Desmos Four-Function Calculator\nbasic-calculator-narration-calc-description-scientific = Desmos Scientific Calculator\nbasic-calculator-narration-controlbar-abc = A B C\nbasic-calculator-narration-controlbar-backspace = backspace\nbasic-calculator-narration-controlbar-clear = clear\nbasic-calculator-narration-controlbar-clear-all = clear all\nbasic-calculator-narration-controlbar-degrees = Degrees\nbasic-calculator-narration-controlbar-functions = Functions\nbasic-calculator-narration-controlbar-main = main\nbasic-calculator-narration-controlbar-radians = Radians\nbasic-calculator-narration-controlbar-redo = Redo\nbasic-calculator-narration-controlbar-settings = settings\nbasic-calculator-narration-controlbar-undo = Undo\nbasic-calculator-narration-convert-to-decimal = Displaying as fraction. Press Enter to display as Decimal\nbasic-calculator-narration-convert-to-fraction = Displaying as decimal. Press Enter to display as Fraction\nbasic-calculator-narration-hotkey-six-key-input-off = Six Key Braille Input off\nbasic-calculator-narration-hotkey-six-key-input-on = Six Key Braille Input on\nbasic-calculator-narration-reverse-contrast = Reverse Contrast\nbasic-calculator-narration-six-key-input = Six Key Braille Input\nbasic-calculator-text-4fn-page-description = A beautiful, free 4-Function Calculator from Desmos.com.\nbasic-calculator-text-braille-mode-is-on = { $mode } is on!\nbasic-calculator-text-how-to-type-braille = Use a Refreshable Braille display, or just type Braille with a keyboard.\nbasic-calculator-text-scientific-page-description = A beautiful, free online scientific calculator with advanced features for evaluating percentages, fractions, exponential functions, logarithms, trigonometry, statistics, and more.\ngeometry-label-example-construction-centroid = Centroid\ngeometry-label-example-construction-circumcenter = Circumcenter\ngeometry-label-example-construction-equilateral-triangle = Equilateral Triangle\ngeometry-label-example-construction-orthocenter = Orthocenter\ngeometry-label-example-construction-perpendicular-bisector = Perpendicular Bisector\ngeometry-label-example-construction-pythagorean-theorem = Pythagorean Theorem\ngraphing-calculator-button-audio-trace-hear-graph = Hear Graph\ngraphing-calculator-button-audio-trace-stop-graph = Stop Graph\ngraphing-calculator-button-change-image = Change Image\ngraphing-calculator-button-clear-graph = Delete All\ngraphing-calculator-button-done = Done\ngraphing-calculator-button-draggable = Draggable\ngraphing-calculator-button-edit-graph-on-desmos-logo = edit graph on\ngraphing-calculator-button-editable-math = Editable Math\ngraphing-calculator-button-editable-text = Editable Text\ngraphing-calculator-button-find-cdf = Find Cumulative Probability (CDF)\ngraphing-calculator-button-funcs = funcs\ngraphing-calculator-button-functions = functions\ngraphing-calculator-button-functions-menu-custom-colors = Custom Colors\ngraphing-calculator-button-functions-menu-number-theory = Number Theory\ngraphing-calculator-button-functions-menu-special-characters = Special Characters\ngraphing-calculator-button-hide-folder-from-students = Hide this folder from students\ngraphing-calculator-button-hide-folder-from-students-2 = Hide this folder from students.\ngraphing-calculator-button-keypad-audio-trace-off = Audio Trace Off\ngraphing-calculator-button-keypad-describe-axes = Describe Axes\ngraphing-calculator-button-keypad-describe-curve = Describe Curve\ngraphing-calculator-button-keypad-describe-curve-short = Curve\ngraphing-calculator-button-keypad-describe-point = Describe Point\ngraphing-calculator-button-keypad-describe-point-short = Point\ngraphing-calculator-button-label = Label\ngraphing-calculator-button-label-editable = Editable\ngraphing-calculator-button-label-show-on-hover = Show on hover\ngraphing-calculator-button-label-text-outline = Text outline\ngraphing-calculator-button-load-image-retry = Retry.\ngraphing-calculator-button-place-image-behind-graphs = Place behind graphs\ngraphing-calculator-button-regression-log-mode = Log Mode\ngraphing-calculator-button-regression-plot-residuals = plot\ngraphing-calculator-button-replace = Replace\ngraphing-calculator-button-reset-graph = Reset\ngraphing-calculator-button-settings-degrees = Degrees\ngraphing-calculator-button-settings-radians = Radians\ngraphing-calculator-button-settings-zoom-square = Zoom Square\ngraphing-calculator-button-share-graph-link-copy = Copy\ngraphing-calculator-button-show-all-table-rows = Show all\ngraphing-calculator-button-slider-add-all-variables = all\ngraphing-calculator-button-visual-parameters-binned = Binned\ngraphing-calculator-button-visual-parameters-center = Center\ngraphing-calculator-button-visual-parameters-count = Count\ngraphing-calculator-button-visual-parameters-density = Density\ngraphing-calculator-button-visual-parameters-exact = Exact\ngraphing-calculator-button-visual-parameters-exclude-outliers = Exclude Outliers\ngraphing-calculator-button-visual-parameters-left = Left\ngraphing-calculator-button-visual-parameters-relative = Relative\ngraphing-calculator-error-equation-contains-unresolved-details = This equation contains fine detail that has not been fully resolved.\ngraphing-calculator-error-expression-replacement = Replacement must be a valid function or variable name.\ngraphing-calculator-error-expression-search = Can only rename a valid function or variable name.\ngraphing-calculator-error-failed-to-load-image = Failed to load image.\ngraphing-calculator-error-image-invalid-angle = Invalid angle. Try using any number.\ngraphing-calculator-error-image-invalid-center = Invalid center. Try, for example, (0,0).\ngraphing-calculator-error-image-invalid-file = The file \"{ $file }\" is not an image\ngraphing-calculator-error-image-invalid-height = Invalid height. Try using any number.\ngraphing-calculator-error-image-invalid-opacity = Invalid opacity. Try using any number.\ngraphing-calculator-error-image-invalid-width = Invalid width. Try using any number.\ngraphing-calculator-error-log-axes-image = Cannot plot images on a log scale.\ngraphing-calculator-heading-advanced = Advanced\ngraphing-calculator-heading-arrows = Arrows\ngraphing-calculator-heading-audio-trace-describe = Describe\ngraphing-calculator-heading-audio-trace-navigation = Navigation\ngraphing-calculator-heading-audio-trace-screen-reader = Screen Reader\ngraphing-calculator-heading-calculus = Calculus\ngraphing-calculator-heading-clickable = Clickable\ngraphing-calculator-heading-dist-tab-distributions = Distributions\ngraphing-calculator-heading-dist-tab-visualizations = Visualizations\ngraphing-calculator-heading-drag = Drag\ngraphing-calculator-heading-fill = Fill\ngraphing-calculator-heading-functions-menu-advanced = Advanced\ngraphing-calculator-heading-geometry = Geometry\ngraphing-calculator-heading-hyperbolic-trig = Hyperbolic Trig Functions\ngraphing-calculator-heading-image-opacity = Opacity\ngraphing-calculator-heading-inverse-trig = Inverse Trig Functions\ngraphing-calculator-heading-keypad-audio-trace-point-of-interest = <1>Point</1><2>of Interest</2>\ngraphing-calculator-heading-label = Label\ngraphing-calculator-heading-label-orientation = Orientation\ngraphing-calculator-heading-lines = Lines\ngraphing-calculator-heading-lists = List Operations\ngraphing-calculator-heading-mygraphs-examples = Examples\ngraphing-calculator-heading-on-every-update = On Every Update:\ngraphing-calculator-heading-points = Points\ngraphing-calculator-heading-regression-parameters = Parameters\ngraphing-calculator-heading-regression-residuals = Residuals\ngraphing-calculator-heading-regression-statistics = Statistics\ngraphing-calculator-heading-slider-animation-mode = Animation Mode\ngraphing-calculator-heading-slider-speed = Speed\ngraphing-calculator-heading-stat-tests = Statistical Tests\ngraphing-calculator-heading-stats = Statistics\ngraphing-calculator-heading-style = Style\ngraphing-calculator-heading-title = Graphing Calculator\ngraphing-calculator-heading-title-desmos = Desmos | Graphing Calculator\ngraphing-calculator-heading-title-untitled = Untitled Graph\ngraphing-calculator-heading-trig = Trig Functions\ngraphing-calculator-heading-visual-parameters-bar-heights = Bar Heights\ngraphing-calculator-heading-visual-parameters-bin-alignment = Bin Alignment\ngraphing-calculator-heading-visual-parameters-display-properties = Display Properties\ngraphing-calculator-heading-visual-parameters-x-values = X Values\ngraphing-calculator-label-add-depressed-image-tooltip = Add Depressed Image\ngraphing-calculator-label-add-hovered-image-tooltip = Add Hovered Image\ngraphing-calculator-label-add-item-tooltip = Add Item\ngraphing-calculator-label-add-slider = add slider:\ngraphing-calculator-label-angle-tooltip = Angle\ngraphing-calculator-label-animation-properties-tooltip = Animation Properties\ngraphing-calculator-label-audio-trace-curve = Curve\ngraphing-calculator-label-audio-trace-need-screen-reader = Your Screen Reader needs to be on to hear these.\ngraphing-calculator-label-audio-trace-point = Point\ngraphing-calculator-label-audio-trace-speed = Speed\ngraphing-calculator-label-audio-trace-volume = Volume\ngraphing-calculator-label-axes = Axes\ngraphing-calculator-label-braille-size-etc11 = ETC Romeo/Juliet (11.5 x 11 in)\ngraphing-calculator-label-braille-size-etc8 = ETC Romeo/Juliet (8.5 x 11 in)\ngraphing-calculator-label-braille-size-vpmax11 = VP Max (11.5 x 11 in)\ngraphing-calculator-label-braille-size-vpmax8 = VP Max (8.5 x 11 in)\ngraphing-calculator-label-cdf-maximum = Max:\ngraphing-calculator-label-cdf-minimum = Min:\ngraphing-calculator-label-change-depressed-image-tooltip = Change Depressed Image\ngraphing-calculator-label-change-hovered-image-tooltip = Change Hovered Image\ngraphing-calculator-label-checkers = Number of checkers on a side\ngraphing-calculator-label-convert-to-table-tooltip = Convert to Table\ngraphing-calculator-label-create-table = Create Table\ngraphing-calculator-label-depressed = Depressed\ngraphing-calculator-label-drop-image-here = Drop Image Here\ngraphing-calculator-label-duplicate-expression-tooltip = Duplicate\ngraphing-calculator-label-edit-list-tooltip = Edit List\ngraphing-calculator-label-evaluation-list = { $count } element list\ngraphing-calculator-label-example-graph-3d-world = 3D World\ngraphing-calculator-label-example-graph-calculus-derivatives = Calculus: Derivatives\ngraphing-calculator-label-example-graph-calculus-fundamental-theorem-of-calculus = Calculus: Fundamental Theorem of Calculus\ngraphing-calculator-label-example-graph-calculus-integral-with-adjustable-bounds = Calculus: Integral with adjustable bounds\ngraphing-calculator-label-example-graph-calculus-integrals = Calculus: Integrals\ngraphing-calculator-label-example-graph-calculus-secant-line = Calculus: Secant Line\ngraphing-calculator-label-example-graph-calculus-tangent-line = Calculus: Tangent Line\ngraphing-calculator-label-example-graph-calculus-taylor-expansion-of-sin-x = Calculus: Taylor Expansion of sin(x)\ngraphing-calculator-label-example-graph-checkerboard-inversion = Checkerboard Inversion\ngraphing-calculator-label-example-graph-conic-sections-circle = Conic Sections: Circle\ngraphing-calculator-label-example-graph-conic-sections-ellipse-with-foci = Conic Sections: Ellipse with Foci\ngraphing-calculator-label-example-graph-conic-sections-hyperbola = Conic Sections: Hyperbola\ngraphing-calculator-label-example-graph-conic-sections-parabola-and-focus = Conic Sections: Parabola and Focus\ngraphing-calculator-label-example-graph-fastest-path-to-a-point = Fastest Path to a Point\ngraphing-calculator-label-example-graph-fireworks = Fireworks!\ngraphing-calculator-label-example-graph-fractal-valentine = Fractal Valentine\ngraphing-calculator-label-example-graph-lines-point-slope-form = Lines: Point Slope Form\ngraphing-calculator-label-example-graph-lines-slope-intercept-form = Lines: Slope Intercept Form\ngraphing-calculator-label-example-graph-lines-two-point-form = Lines: Two Point Form\ngraphing-calculator-label-example-graph-lists-curve-stitching = Lists: Curve Stitching\ngraphing-calculator-label-example-graph-lists-family-of-sin-curves = Lists: Family of sin Curves\ngraphing-calculator-label-example-graph-lists-plotting-a-list-of-points = Lists: Plotting a List of Points\ngraphing-calculator-label-example-graph-outstretched-arm = Outstretched Arm\ngraphing-calculator-label-example-graph-pac-man = Pac Man\ngraphing-calculator-label-example-graph-parabolas-standard-form = Parabolas: Standard Form\ngraphing-calculator-label-example-graph-parabolas-standard-form-plus-tangent = Parabolas: Standard Form + Tangent\ngraphing-calculator-label-example-graph-parabolas-vertex-form = Parabolas: Vertex Form\ngraphing-calculator-label-example-graph-parametric-cycloid = Parametric: Cycloid\ngraphing-calculator-label-example-graph-parametric-introduction = Parametric: Introduction\ngraphing-calculator-label-example-graph-polar-conic-sections = Polar: Conic Sections\ngraphing-calculator-label-example-graph-polar-limacon = Polar: Limacon\ngraphing-calculator-label-example-graph-polar-logarithmic-spiral = Polar: Logarithmic Spiral\ngraphing-calculator-label-example-graph-polar-rose = Polar: Rose\ngraphing-calculator-label-example-graph-pride-flag = PRIDE flag\ngraphing-calculator-label-example-graph-regular-sine-wave = Regular Sine Wave?\ngraphing-calculator-label-example-graph-stats-anscombes-quartet = Statistics: Anscombe's Quartet\ngraphing-calculator-label-example-graph-stats-fourth-order-polynomial = Statistics: 4th Order Polynomial\ngraphing-calculator-label-example-graph-stats-linear-regression = Statistics: Linear Regression\ngraphing-calculator-label-example-graph-transformations-inverse-of-a-function = Transformations: Inverse of a Function\ngraphing-calculator-label-example-graph-transformations-scaling-a-function = Transformations: Scaling a Function\ngraphing-calculator-label-example-graph-transformations-translating-a-function = Transformations: Translating a Function\ngraphing-calculator-label-example-graph-trig-period-and-amplitude = Trigonometry: Period and Amplitude\ngraphing-calculator-label-example-graph-trig-phase = Trigonometry: Phase\ngraphing-calculator-label-example-graph-trig-unit-circle = Trigonometry: Unit Circle\ngraphing-calculator-label-example-graph-trig-wave-interference = Trigonometry: Wave Interference\ngraphing-calculator-label-expression = Expression\ngraphing-calculator-label-expression-delete-tooltip = Delete\ngraphing-calculator-label-expression-lowercase = expression\ngraphing-calculator-label-folder-lowercase = folder\ngraphing-calculator-label-geometry-lowercase = geometry\ngraphing-calculator-label-geometry-tool-options = { $tool } options\ngraphing-calculator-label-geometry-tools = Geometry Tools\ngraphing-calculator-label-hide-expression-list-tooltip = Hide Expression List\ngraphing-calculator-label-hide-keypad = Hide Keypad\ngraphing-calculator-label-hovered = Hovered\ngraphing-calculator-label-image-angle = Angle:\ngraphing-calculator-label-image-center = Center:\ngraphing-calculator-label-image-height = Height:\ngraphing-calculator-label-image-lowercase = image\ngraphing-calculator-label-image-opacity = Opacity:\ngraphing-calculator-label-image-width = Width:\ngraphing-calculator-label-label-size-tooltip = Label Scale Factor\ngraphing-calculator-label-line-thickness-tooltip = Line Thickness (px)\ngraphing-calculator-label-list-index = Use <1>index</1> to reference the clicked index in the list.\ngraphing-calculator-label-lock-expression-tooltip = Prevent Editing\ngraphing-calculator-label-new-transformation = New Transformation\ngraphing-calculator-label-note-lowercase = note\ngraphing-calculator-label-opacity-tooltip = Opacity (0 to 1)\ngraphing-calculator-label-open-graph-tooltip = Open Graph (ctrl+o)\ngraphing-calculator-label-poi-unknown = unknown coordinates\ngraphing-calculator-label-point-size-tooltip = Point Size (px)\ngraphing-calculator-label-powered-by = powered by\ngraphing-calculator-label-randomize-tooltip = Randomize\ngraphing-calculator-label-recent-transformations = Recent Transformations\ngraphing-calculator-label-redo-tooltip = Redo (ctrl+y)\ngraphing-calculator-label-reference-count =\n    { $count ->\n        [one] (1 reference)\n       *[other] ({ $count } references)\n    }\ngraphing-calculator-label-regression-log-mode-help-tooltip = Log mode help\ngraphing-calculator-label-regression-parameters-not-exact = Parameters might not be exact. Click to learn more.\ngraphing-calculator-label-regression-what-is-rmse-tooltip = What is RMSE? Click to learn more.\ngraphing-calculator-label-regression-why-is-negative-tooltip = Why is this negative? Click to learn more.\ngraphing-calculator-label-remove-depressed-image = Remove depressed image\ngraphing-calculator-label-remove-hovered-image = Remove hovered image\ngraphing-calculator-label-rename = rename\ngraphing-calculator-label-replace-expressions = Replace with\ngraphing-calculator-label-search-expressions = Search this graph\ngraphing-calculator-label-settings-arrows = Arrows\ngraphing-calculator-label-settings-axis-numbers = Axis Numbers\ngraphing-calculator-label-settings-grid = Grid\ngraphing-calculator-label-settings-lock-viewport = Lock Viewport\ngraphing-calculator-label-settings-logarithmic-scale = Logarithmic Scale\ngraphing-calculator-label-settings-minor-gridlines = Minor Gridlines\ngraphing-calculator-label-settings-one-quadrant = One Quadrant\ngraphing-calculator-label-settings-reverse-contrast = Reverse Contrast\ngraphing-calculator-label-settings-six-key-braille = Six Key Braille Input\ngraphing-calculator-label-settings-step = Step:\ngraphing-calculator-label-settings-x-axis = X-Axis\ngraphing-calculator-label-settings-y-axis = Y-Axis\ngraphing-calculator-label-show-keypad = Show Keypad\ngraphing-calculator-label-slider-disabled-while-ticker-playing = Sliders are disabled while the ticker is running.\ngraphing-calculator-label-slider-step = Step:\ngraphing-calculator-label-table-lowercase = table\ngraphing-calculator-label-ticker-close = cancel\ngraphing-calculator-label-ticker-help-tooltip = On slow computers, this might run slower. Use local variable \"dt\" to capture the actual update speed.\ngraphing-calculator-label-ticker-lowercase = ticker\ngraphing-calculator-label-ticker-min-step = Min Step Time\ngraphing-calculator-label-ticker-pause = pause\ngraphing-calculator-label-ticker-play = play\ngraphing-calculator-label-tooltip-geometry-settings = Geometry Settings\ngraphing-calculator-label-tooltip-graph-settings = Graph Settings\ngraphing-calculator-label-tooltip-open-graph = Open Graph\ngraphing-calculator-label-tooltip-reset = Reset\ngraphing-calculator-label-tooltip-show-list = Show List\ngraphing-calculator-label-tooltip-viewport-default = Default Viewport\ngraphing-calculator-label-tooltip-zoom-in = Zoom In\ngraphing-calculator-label-tooltip-zoom-out = Zoom Out\ngraphing-calculator-label-undo-tooltip = Undo (ctrl+z)\ngraphing-calculator-label-unlock-expression-tooltip = Allow Editing\ngraphing-calculator-label-update-on-click = On click:\ngraphing-calculator-link-audio-trace-keyboard-shortcuts = Keyboard Shortcuts\ngraphing-calculator-link-audio-trace-shortcuts = Shortcuts\ngraphing-calculator-link-edit-on-desmos = edit graph on\ngraphing-calculator-link-learn-more = Learn more.\ngraphing-calculator-link-view-braille-examples = View examples\ngraphing-calculator-narration-add-expression = Add expression\ngraphing-calculator-narration-add-folder = Add folder\ngraphing-calculator-narration-add-image = Add image\ngraphing-calculator-narration-add-item-menu = Add Item Menu\ngraphing-calculator-narration-add-note = Add note\ngraphing-calculator-narration-add-slider-prompt = Add slider for { $vars }\ngraphing-calculator-narration-add-table = Add table\ngraphing-calculator-narration-add-ticker = Add Ticker\ngraphing-calculator-narration-all-folders-collapsed = all folders collapsed\ngraphing-calculator-narration-all-folders-expanded = all folders expanded\ngraphing-calculator-narration-arrow-mode-both = Bi-directional arrow\ngraphing-calculator-narration-arrow-mode-one = Positive directional arrow\ngraphing-calculator-narration-audio-instructions-enter-audio-trace-mac = Press OPTION+T for audio trace.\ngraphing-calculator-narration-audio-instructions-enter-audio-trace-windows = Press ALT+T for audio trace.\ngraphing-calculator-narration-audio-trace-branch-not-found = Branch { $branch } does not exist.\ngraphing-calculator-narration-audio-trace-cannot-change-slider-value = Unable to adjust slider\ngraphing-calculator-narration-audio-trace-description-branch-count = Branches: { $branches }.\ngraphing-calculator-narration-audio-trace-description-color = Color: { $color }.\ngraphing-calculator-narration-audio-trace-description-multiple-extrema = { $count } extrema.\ngraphing-calculator-narration-audio-trace-description-multiple-intercepts = { $count } intercepts.\ngraphing-calculator-narration-audio-trace-description-multiple-intersections = { $count } intersections.\ngraphing-calculator-narration-audio-trace-description-multiple-labels = { $count } point labels.\ngraphing-calculator-narration-audio-trace-description-multiple-roots = { $count } zero crossings.\ngraphing-calculator-narration-audio-trace-description-no-curve-selected = No curve selected.\ngraphing-calculator-narration-audio-trace-description-no-visible-axes = No visible axes.\ngraphing-calculator-narration-audio-trace-description-one-extremum = 1 extremum.\ngraphing-calculator-narration-audio-trace-description-one-intercept = 1 intercept.\ngraphing-calculator-narration-audio-trace-description-one-intersection = 1 intersection.\ngraphing-calculator-narration-audio-trace-description-one-label = 1 point label.\ngraphing-calculator-narration-audio-trace-description-one-root = 1 zero crossing.\ngraphing-calculator-narration-audio-trace-description-shading-above = Shading above.\ngraphing-calculator-narration-audio-trace-description-shading-below = Shading below.\ngraphing-calculator-narration-audio-trace-description-shading-in-regions = Shading in regions.\ngraphing-calculator-narration-audio-trace-description-shading-left = Shading on the left.\ngraphing-calculator-narration-audio-trace-description-shading-right = Shading on the right.\ngraphing-calculator-narration-audio-trace-description-visible-grid = Grid lines are visible.\ngraphing-calculator-narration-audio-trace-description-visible-x-axis = X axis visible.\ngraphing-calculator-narration-audio-trace-description-visible-x-axis-and-label = X axis visible and is labeled { $label }.\ngraphing-calculator-narration-audio-trace-description-visible-x-axis-range = X axis visible from { $xmin } to { $xmax }.\ngraphing-calculator-narration-audio-trace-description-visible-x-axis-range-and-label = X axis visible from { $xmin } to { $xmax } and is labeled { $label }.\ngraphing-calculator-narration-audio-trace-description-visible-y-axis = Y axis visible.\ngraphing-calculator-narration-audio-trace-description-visible-y-axis-and-label = Y axis visible and is labeled { $label }.\ngraphing-calculator-narration-audio-trace-description-visible-y-axis-range = Y axis visible from { $ymin } to { $ymax }.\ngraphing-calculator-narration-audio-trace-description-visible-y-axis-range-and-label = Y axis visible from { $ymin } to { $ymax } and is labeled { $label }.\ngraphing-calculator-narration-audio-trace-expression-with-column = Expression { $index } column { $column }\ngraphing-calculator-narration-audio-trace-first-point = First point\ngraphing-calculator-narration-audio-trace-first-slider = First slider.\ngraphing-calculator-narration-audio-trace-instructions-disable-mac = To disable audio trace, press OPTION+T.\ngraphing-calculator-narration-audio-trace-instructions-disable-windows = To disable audio trace, press ALT+T.\ngraphing-calculator-narration-audio-trace-instructions-expression-navigation-mac = To move between expressions, press COMMAND+Up-Arrow or COMMAND+Down-Arrow.\ngraphing-calculator-narration-audio-trace-instructions-expression-navigation-windows = To move between expressions, press ALT+Up-Arrow or ALT+Down-Arrow.\ngraphing-calculator-narration-audio-trace-instructions-hear-graph = To hear the graph, press H.\ngraphing-calculator-narration-audio-trace-instructions-use-arrow-keys = Use Arrow keys to navigate.\ngraphing-calculator-narration-audio-trace-last-point = Last point\ngraphing-calculator-narration-audio-trace-last-slider = Last slider.\ngraphing-calculator-narration-audio-trace-multiple-sliders-paused = { $sliders } animating sliders were paused.\ngraphing-calculator-narration-audio-trace-no-more-pois = No more points of interest\ngraphing-calculator-narration-audio-trace-no-sliders-paused = No animating sliders were paused.\ngraphing-calculator-narration-audio-trace-one-slider-paused = One animating slider was paused.\ngraphing-calculator-narration-audio-trace-playback-speed = Graph playback speed { $speed }\ngraphing-calculator-narration-audio-trace-poi-count = Points of interest, { $x }.\ngraphing-calculator-narration-audio-trace-point-type-definition = Definition\ngraphing-calculator-narration-audio-trace-point-type-extremum = Extremum\ngraphing-calculator-narration-audio-trace-point-type-intercept = Intercept\ngraphing-calculator-narration-audio-trace-point-type-intersection = Intersection\ngraphing-calculator-narration-audio-trace-point-type-intersection-with-curves = Intersection with { $curves }\ngraphing-calculator-narration-audio-trace-point-type-label = Label\ngraphing-calculator-narration-audio-trace-point-type-not-a-poi = Not a P O I\ngraphing-calculator-narration-audio-trace-point-type-root = Zero\ngraphing-calculator-narration-audio-trace-point-type-trace = Trace\ngraphing-calculator-narration-audio-trace-property-branch-number = Branch { $branch }.\ngraphing-calculator-narration-audio-trace-property-type-before-coordinates = { $type } at\ngraphing-calculator-narration-audio-trace-property-x = X: { $x }.\ngraphing-calculator-narration-audio-trace-property-y = Y: { $y }.\ngraphing-calculator-narration-audio-trace-secret-expression = Secret expression { $index }\ngraphing-calculator-narration-audio-trace-slider-value-unknown = Unable to determine slider value\ngraphing-calculator-narration-audio-trace-sound-effects-disabled = Sound effects have been disabled.\ngraphing-calculator-narration-audio-trace-traceable-curves =\n    { $sketchCount ->\n        [one] 1 audio traceable curve.\n       *[other] { $sketchCount } audio traceable curves.\n    }\ngraphing-calculator-narration-audio-trace-tracing-different-expression = Tracing { $expression }.\ngraphing-calculator-narration-audio-trace-unable-to-play = Unable to play audio.\ngraphing-calculator-narration-audio-trace-unable-to-trace-this-expression = Unable to audio trace this expression.\ngraphing-calculator-narration-audio-trace-unsupported-expression = { $expression } cannot be audio traced.\ngraphing-calculator-narration-audio-trace-volume = Volume { $volume } percent\ngraphing-calculator-narration-cdf-maximum = Max\ngraphing-calculator-narration-cdf-minimum = Min\ngraphing-calculator-narration-click-action = Click Action\ngraphing-calculator-narration-clickable-image-options = Clickable Image Options\ngraphing-calculator-narration-clickable-object-description = clickable object\ngraphing-calculator-narration-collapse = Collapse\ngraphing-calculator-narration-collapse-folder-index = Collapse Folder { $index }\ngraphing-calculator-narration-collapse-folder-title = Collapse { $folder } folder\ngraphing-calculator-narration-color-unknown = unknown\ngraphing-calculator-narration-computed-cell-role-description = computed cell\ngraphing-calculator-narration-create-table = Create Table\ngraphing-calculator-narration-create-table-expression = Create Table from Expression { $index }\ngraphing-calculator-narration-delete = Delete\ngraphing-calculator-narration-delete-expression = Delete Expression { $index }\ngraphing-calculator-narration-delete-folder-index = Delete Folder { $index }\ngraphing-calculator-narration-delete-folder-title = Delete { $folder } folder\ngraphing-calculator-narration-delete-image = Delete Image { $index }\ngraphing-calculator-narration-delete-table = Delete Table { $index }\ngraphing-calculator-narration-delete-text = Delete Note { $index }\ngraphing-calculator-narration-description-collapsed-folder = Collapsed Folder\ngraphing-calculator-narration-description-collapsed-readonly-folder = Collapsed Locked Folder\ngraphing-calculator-narration-description-collapsed-secret-folder = Collapsed Secret Folder\ngraphing-calculator-narration-description-collapsed-secret-readonly-folder = Collapsed Secret Locked Folder\ngraphing-calculator-narration-description-folder = Folder\ngraphing-calculator-narration-description-hidden-collapsed-folder = Hidden Collapsed Folder\ngraphing-calculator-narration-description-hidden-collapsed-readonly-folder = Hidden Collapsed Locked Folder\ngraphing-calculator-narration-description-hidden-collapsed-secret-folder = Hidden Collapsed Secret Folder\ngraphing-calculator-narration-description-hidden-collapsed-secret-readonly-folder = Hidden Collapsed Secret Locked Folder\ngraphing-calculator-narration-description-hidden-folder = Hidden Folder\ngraphing-calculator-narration-description-hidden-readonly-folder = Hidden Locked Folder\ngraphing-calculator-narration-description-hidden-secret-folder = Hidden Secret Folder\ngraphing-calculator-narration-description-hidden-secret-readonly-folder = Hidden Secret Locked Folder\ngraphing-calculator-narration-description-readonly-folder = Locked Folder\ngraphing-calculator-narration-description-secret-folder = Secret Folder\ngraphing-calculator-narration-description-secret-readonly-folder = Secret Locked Folder\ngraphing-calculator-narration-dist-tab-distributions = Distributions\ngraphing-calculator-narration-dist-tab-visualizations = Visualizations\ngraphing-calculator-narration-domain-maximum = domain Maximum:\ngraphing-calculator-narration-domain-minimum = domain Minimum:\ngraphing-calculator-narration-drag-mode-x = X\ngraphing-calculator-narration-drag-mode-xy = X and Y\ngraphing-calculator-narration-drag-mode-y = Y\ngraphing-calculator-narration-draggable-image-description = draggable image\ngraphing-calculator-narration-draggable-image-off-screen-prompt = { \" \" }not completely visible on screen\ngraphing-calculator-narration-draggable-label-description = draggable label\ngraphing-calculator-narration-duplicate = Duplicate\ngraphing-calculator-narration-duplicate-expression = Duplicate Expression { $index }\ngraphing-calculator-narration-duplicate-folder-index = Duplicate Folder { $index }\ngraphing-calculator-narration-duplicate-folder-title = Duplicate { $folder } folder\ngraphing-calculator-narration-duplicate-image = Duplicate Image { $index }\ngraphing-calculator-narration-duplicate-table = Duplicate Table { $index }\ngraphing-calculator-narration-duplicate-text = Duplicate Note { $index }\ngraphing-calculator-narration-edit-action = Edit Action\ngraphing-calculator-narration-edit-expression-list = Edit Expression List\ngraphing-calculator-narration-edit-folder-title = Edit Folder { $index } Title\ngraphing-calculator-narration-edit-graph-on-desmos = Edit graph on Desmos\ngraphing-calculator-narration-edit-image-title = Edit Image { $index } Title\ngraphing-calculator-narration-edit-list-mode-off = Edit list mode off.\ngraphing-calculator-narration-edit-list-mode-on = Edit list mode on.\ngraphing-calculator-narration-edit-on-desmos = Edit graph on Desmos\ngraphing-calculator-narration-edit-slider-variable-limits = Edit { $variable } Limits\ngraphing-calculator-narration-edit-text-title = Note { $index }\ngraphing-calculator-narration-edit-title = Edit Title\ngraphing-calculator-narration-editable-label-mode = Editable label mode\ngraphing-calculator-narration-editable-point-label-at-coordinates = Editable point label at { $coordinates }\ngraphing-calculator-narration-expand = Expand\ngraphing-calculator-narration-expand-folder-index = Expand Folder { $index }\ngraphing-calculator-narration-expand-folder-title = Expand { $folder } folder\ngraphing-calculator-narration-expression-audio-trace-mac = To audio trace, press OPTION+T.\ngraphing-calculator-narration-expression-audio-trace-windows = To audio trace, press ALT+T.\ngraphing-calculator-narration-expression-bar = Expression Bar\ngraphing-calculator-narration-expression-evaluation-has-graph = Has graph.\ngraphing-calculator-narration-expression-evaluation-has-graph-and-regression = Has graph and regression. To access statistics, press Tab.\ngraphing-calculator-narration-expression-evaluation-has-regression = Has regression. To access statistics, press Tab.\ngraphing-calculator-narration-expression-evaluation-is-distribution = is distribution.\ngraphing-calculator-narration-expression-evaluation-is-t-test = is T test. To access statistics, press Tab.\ngraphing-calculator-narration-expression-hidden-label = Hidden { $label }\ngraphing-calculator-narration-expression-index-table = Expression { $index } table\ngraphing-calculator-narration-expression-label = Label\ngraphing-calculator-narration-expression-search-results =\n    { $count ->\n        [zero] No results\n        [one] 1 result\n       *[other] { $count } results\n    }\ngraphing-calculator-narration-fill-opacity = Fill Opacity:\ngraphing-calculator-narration-fill-visible = Fill visible\ngraphing-calculator-narration-folder-collapsed = folder collapsed\ngraphing-calculator-narration-folder-expanded = folder expanded\ngraphing-calculator-narration-folder-has-items = { $folder } has { $count } items\ngraphing-calculator-narration-functions = Functions\ngraphing-calculator-narration-geometry-added-object-type = Added { $type }.\ngraphing-calculator-narration-geometry-added-object-type-and-point = Added { $type } and 1 point.\ngraphing-calculator-narration-geometry-added-object-type-and-points = Added { $type } and { $points } points.\ngraphing-calculator-narration-geometry-added-object-type-with-label = Added { $type } with label { $label }.\ngraphing-calculator-narration-geometry-added-points = Added { $points } points.\ngraphing-calculator-narration-geometry-angle-with-assignment = Angle { $assignment }\ngraphing-calculator-narration-geometry-arc-with-assignment = Arc { $assignment }\ngraphing-calculator-narration-geometry-circle-with-assignment = Circle { $assignment }\ngraphing-calculator-narration-geometry-construction-role-description = construction\ngraphing-calculator-narration-geometry-deselect-all = Deselect All\ngraphing-calculator-narration-geometry-glider-with-assignment = GliderW { $assignment }\ngraphing-calculator-narration-geometry-hidden-construction-description = Hidden { $description }\ngraphing-calculator-narration-geometry-intersection-with-assignment = Intersection { $assignment }\ngraphing-calculator-narration-geometry-item-at-coordinates = { $itemDescription } at { $x } { $y }\ngraphing-calculator-narration-geometry-item-at-coordinates-and-intersection = { $itemDescription } intersecting { $parent1 } and { $parent2 } at { $x } { $y }\ngraphing-calculator-narration-geometry-item-at-coordinates-to-coordinates = { $itemDescription } from { $x1 } { $y1 } to { $x2 } { $y2 }\ngraphing-calculator-narration-geometry-item-at-coordinates-with-middle-and-end = { $itemDescription } starting at { $x1 } { $y1 } middle at { $x2 } { $y2 } and end at { $x3 } { $y3 }\ngraphing-calculator-narration-geometry-item-at-coordinates-with-radius = { $itemDescription } at { $x } { $y } with radius { $radius }.\ngraphing-calculator-narration-geometry-item-at-coordinates-with-vertex-from-to = { $itemDescription } at { $x1 } { $y1 } with vertex { $parent1 }, from { $parent2 } to { $parent3 }\ngraphing-calculator-narration-geometry-item-unknown = Unknown\ngraphing-calculator-narration-geometry-line-with-assignment = Line { $assignment }\ngraphing-calculator-narration-geometry-moved-to-coordinates = Moved to x: { $x }, y: { $y }.\ngraphing-calculator-narration-geometry-near-item = Near { $item }.\ngraphing-calculator-narration-geometry-not-a-construction = Selected item is not a construction.\ngraphing-calculator-narration-geometry-nothing-selected = Nothing selected.\ngraphing-calculator-narration-geometry-point-with-assignment = Point { $assignment }\ngraphing-calculator-narration-geometry-polygon-with-assignment = Polygon { $assignment } with { $sideCount } sides\ngraphing-calculator-narration-geometry-quadrilateral-with-assignment = Quadrilateral { $assignment }\ngraphing-calculator-narration-geometry-ray-with-assignment = Ray { $assignment }\ngraphing-calculator-narration-geometry-segment-with-assignment = Segment { $assignment }\ngraphing-calculator-narration-geometry-tool-cancelled = Cancelled.\ngraphing-calculator-narration-geometry-triangle-with-assignment = Triangle { $assignment }\ngraphing-calculator-narration-geometry-unable-to-move = Unable to move.\ngraphing-calculator-narration-geometry-unlabeled-angle = Angle { $index }\ngraphing-calculator-narration-geometry-unlabeled-arc = Arc { $index }\ngraphing-calculator-narration-geometry-unlabeled-circle = Circle { $index }\ngraphing-calculator-narration-geometry-unlabeled-glider = Glider { $index }\ngraphing-calculator-narration-geometry-unlabeled-intersection = Intersection { $index }\ngraphing-calculator-narration-geometry-unlabeled-line = Line { $index }\ngraphing-calculator-narration-geometry-unlabeled-point = Point { $index }\ngraphing-calculator-narration-geometry-unlabeled-polygon = Polygon { $index } with { $sideCount } sides\ngraphing-calculator-narration-geometry-unlabeled-quadrilateral = Quadrilateral { $index }\ngraphing-calculator-narration-geometry-unlabeled-ray = Ray { $index }\ngraphing-calculator-narration-geometry-unlabeled-segment = Segment { $index }\ngraphing-calculator-narration-geometry-unlabeled-triangle = Triangle { $index }\ngraphing-calculator-narration-graph-settings-controls = Graph Settings Controls\ngraphing-calculator-narration-graphpaper-label = graph paper\ngraphing-calculator-narration-hide = Hide\ngraphing-calculator-narration-hide-animation-properties = Hide Animation Properties\ngraphing-calculator-narration-hide-expression = Hide Expression { $index }\ngraphing-calculator-narration-hide-expression-list = Hide expression list\ngraphing-calculator-narration-hide-folder-index = Hide Folder { $index }\ngraphing-calculator-narration-hide-folder-title = Hide { $folder } folder\ngraphing-calculator-narration-hide-image = Hide Image { $index }\ngraphing-calculator-narration-hide-options = Hide Options\ngraphing-calculator-narration-hide-options-expression = Hide Options for Expression { $index }\ngraphing-calculator-narration-hide-options-image = Hide Options for Image { $index }\ngraphing-calculator-narration-hide-table = Hide Table { $index }\ngraphing-calculator-narration-hide-table-column = Hide Column\ngraphing-calculator-narration-hide-text = Hide Note { $index }\ngraphing-calculator-narration-image-styles = Styles\ngraphing-calculator-narration-items-deleted =\n    { $count ->\n        [one] { $count } item deleted.\n       *[other] { $count } items deleted.\n    }\ngraphing-calculator-narration-keypad-hidden = Keypad hidden\ngraphing-calculator-narration-keypad-key-next-curve = Next Curve\ngraphing-calculator-narration-keypad-key-next-poi = Next Point of Interest\ngraphing-calculator-narration-keypad-key-next-point = Next Point\ngraphing-calculator-narration-keypad-key-previous-curve = Previous Curve\ngraphing-calculator-narration-keypad-key-previous-poi = Previous Point of Interest\ngraphing-calculator-narration-keypad-key-previous-point = Previous Point\ngraphing-calculator-narration-keypad-key-speed-down = Speed Down\ngraphing-calculator-narration-keypad-key-speed-up = Speed Up\ngraphing-calculator-narration-keypad-key-volume-down = Volume Down\ngraphing-calculator-narration-keypad-key-volume-up = Volume Up\ngraphing-calculator-narration-keypad-visible = Keypad visible\ngraphing-calculator-narration-label-angle = Label Angle:\ngraphing-calculator-narration-label-size = Label Size:\ngraphing-calculator-narration-label-text = Label Text\ngraphing-calculator-narration-label-visible = Label visible\ngraphing-calculator-narration-line-opacity = Line Opacity:\ngraphing-calculator-narration-line-style-dashed = Dashed\ngraphing-calculator-narration-line-style-dotted = Dotted\ngraphing-calculator-narration-line-style-solid = Solid\ngraphing-calculator-narration-lines-visible = Lines visible\ngraphing-calculator-narration-main-desmos-geometry = Desmos Geometry\ngraphing-calculator-narration-main-desmos-graphing-calculator = Desmos Graphing Calculator\ngraphing-calculator-narration-make-clickable = make clickable\ngraphing-calculator-narration-menu-arrows-enabled = Arrows Enabled\ngraphing-calculator-narration-menu-drag-enabled = Drag Enabled\ngraphing-calculator-narration-movable-point-description = movable point\ngraphing-calculator-narration-movable-point-off-screen-prompt = { \" \" }not visible on screen\ngraphing-calculator-narration-movable-point-prefix = Graph point\ngraphing-calculator-narration-movable-point-suffix-usage-instructions = { \" \" }is movable. Press Arrows or Shift+Arrows to adjust.\ngraphing-calculator-narration-no-interactive-points = No interactive points on screen\ngraphing-calculator-narration-open-graph = Open Graph\ngraphing-calculator-narration-options-menu = Options Menu\ngraphing-calculator-narration-options-menu-closed = Options menu closed.\ngraphing-calculator-narration-options-menu-open = Options menu open.\ngraphing-calculator-narration-pause-variable-animation = Pause { $variable } Animation\ngraphing-calculator-narration-play-variable-animation = Play { $variable } Animation\ngraphing-calculator-narration-poi-graph-point = Graph point\ngraphing-calculator-narration-point-description = point\ngraphing-calculator-narration-point-opacity = Point Opacity:\ngraphing-calculator-narration-point-size = Point Size:\ngraphing-calculator-narration-point-style-cross = Cross\ngraphing-calculator-narration-point-style-open = Open\ngraphing-calculator-narration-point-style-point = Point\ngraphing-calculator-narration-points-visible = Points visible\ngraphing-calculator-narration-powered-by-desmos = Powered by Desmos\ngraphing-calculator-narration-redo = Redo\ngraphing-calculator-narration-rename = Rename\ngraphing-calculator-narration-rename-expression = Rename in Expression { $index }\ngraphing-calculator-narration-rename-table = Rename in Table { $index }\ngraphing-calculator-narration-run-action-icon = Run Action\ngraphing-calculator-narration-settings-angle = Angle Settings\ngraphing-calculator-narration-settings-cartesian-grid = Cartesian Grid\ngraphing-calculator-narration-settings-polar-grid = Polar Grid\ngraphing-calculator-narration-settings-show-both = Show Both\ngraphing-calculator-narration-settings-show-positive = Show Positive\ngraphing-calculator-narration-settings-x-axis-label-placeholder = e.g. “x”\ngraphing-calculator-narration-settings-x-axis-logarithmic-scale = make x-axis scale logarithmic\ngraphing-calculator-narration-settings-x-axis-max = X Axis Maximum:{ \" \" }\ngraphing-calculator-narration-settings-x-axis-min = X Axis Minimum:{ \" \" }\ngraphing-calculator-narration-settings-x-axis-step = X Axis Step Size:{ \" \" }\ngraphing-calculator-narration-settings-y-axis-label-placeholder = e.g. “y”\ngraphing-calculator-narration-settings-y-axis-logarithmic-scale = make y-axis scale logarithmic\ngraphing-calculator-narration-settings-y-axis-max = Y Axis Maximum:{ \" \" }\ngraphing-calculator-narration-settings-y-axis-min = Y Axis Minimum:{ \" \" }\ngraphing-calculator-narration-settings-y-axis-step = Y Axis Step Size:{ \" \" }\ngraphing-calculator-narration-share-graph-link = Link to this graph\ngraphing-calculator-narration-share-graph-link-copied = Link copied\ngraphing-calculator-narration-share-graph-link-unable-to-copy = Unable to copy link\ngraphing-calculator-narration-show = Show\ngraphing-calculator-narration-show-animation-properties = Show Animation Properties\ngraphing-calculator-narration-show-expression = Show Expression { $index }\ngraphing-calculator-narration-show-expression-list = Show expression list\ngraphing-calculator-narration-show-folder-index = Show Folder { $index }\ngraphing-calculator-narration-show-folder-title = Show { $folder } folder\ngraphing-calculator-narration-show-image = Show Image { $index }\ngraphing-calculator-narration-show-options = Show Options\ngraphing-calculator-narration-show-options-expression = Show Options for Expression { $index }\ngraphing-calculator-narration-show-options-image = Show Options for Image { $index }\ngraphing-calculator-narration-show-table = Show Table { $index }\ngraphing-calculator-narration-show-table-column = Show Column\ngraphing-calculator-narration-show-text = Show Note { $index }\ngraphing-calculator-narration-slider-animate-faster = Animate Faster\ngraphing-calculator-narration-slider-animate-slower = Animate Slower\ngraphing-calculator-narration-slider-animating-at-speed = Animating at { $speed }x\ngraphing-calculator-narration-slider-loop-forwards-and-backwards = Loop forwards and backwards\ngraphing-calculator-narration-slider-maximum = Slider Maximum:\ngraphing-calculator-narration-slider-minimum = Slider Minimum:\ngraphing-calculator-narration-slider-play-indefinitely = Play indefinitely\ngraphing-calculator-narration-slider-play-once = Play once\ngraphing-calculator-narration-slider-repeat-one-direction = Repeat in one direction\ngraphing-calculator-narration-slider-step = Slider Step Size:\ngraphing-calculator-narration-slider-trace-no-sliders = No sliders to trace.\ngraphing-calculator-narration-slider-trace-off = Slider trace off.\ngraphing-calculator-narration-slider-trace-on = Slider trace on.\ngraphing-calculator-narration-slider-variable-paused = { $variable } paused\ngraphing-calculator-narration-slider-variable-playing = { $variable } playing\ngraphing-calculator-narration-slider-variable-restarted = { $variable } restarted\ngraphing-calculator-narration-table-column-header = Column header { $column }\ngraphing-calculator-narration-table-no-column-header = No column header\ngraphing-calculator-narration-table-row-column = Row { $row } Col { $column }\ngraphing-calculator-narration-tick-action = Tick Action\ngraphing-calculator-narration-toggle-audio-trace = Toggle Audio Trace\ngraphing-calculator-narration-toggle-letters = Toggle Letters\ngraphing-calculator-narration-transformations-menu = Transformations Menu\ngraphing-calculator-narration-unable-to-activate-account-menu = Unable to activate account menu\ngraphing-calculator-narration-unable-to-activate-help-menu = Unable to activate help menu\ngraphing-calculator-narration-unable-to-activate-language-menu = Unable to activate language menu\ngraphing-calculator-narration-unable-to-activate-share-menu = Unable to activate share menu\ngraphing-calculator-narration-unable-to-add-expression = Unable to add expression\ngraphing-calculator-narration-unable-to-add-note = Unable to add note\ngraphing-calculator-narration-unable-to-add-table = Unable to add table\ngraphing-calculator-narration-undo = Undo\ngraphing-calculator-narration-viewport-default = Graph viewport default\ngraphing-calculator-narration-viewport-restore-default = Restore Default Viewport\ngraphing-calculator-narration-viewport-updated = Graph viewport updated.\ngraphing-calculator-narration-viewport-zoom-in = Graph zoom in\ngraphing-calculator-narration-viewport-zoom-out = Graph zoom out\ngraphing-calculator-narration-viewport-zoom-square = Graph zoom square\ngraphing-calculator-narration-visual-parameters-height = Height\ngraphing-calculator-narration-visual-parameters-offset = Offset\ngraphing-calculator-narration-visual-parameters-width = Width\ngraphing-calculator-narration-x-percentage-coordinate = { $x } percent from left.\ngraphing-calculator-narration-y-percentage-coordinate = { $y } percent from top.\ngraphing-calculator-text-add-screen-reader-label-placeholder = Add screen reader label\ngraphing-calculator-text-audio-trace-no-implicit-support = Sorry, but I can't trace implicit curves yet.\ngraphing-calculator-text-audio-trace-no-parametric-support = Sorry, but I can't trace parametric curves yet.\ngraphing-calculator-text-audio-trace-no-polar-support = Sorry, but I can't trace polar curves yet.\ngraphing-calculator-text-audio-trace-off = Audio trace off.\ngraphing-calculator-text-audio-trace-on = Audio trace on.\ngraphing-calculator-text-color-black = black\ngraphing-calculator-text-color-blue = blue\ngraphing-calculator-text-color-gray = gray\ngraphing-calculator-text-color-green = green\ngraphing-calculator-text-color-orange = orange\ngraphing-calculator-text-color-purple = purple\ngraphing-calculator-text-color-red = red\ngraphing-calculator-text-color-unknown = color unknown\ngraphing-calculator-text-enter-pareneter = Enter the { $param }.\ngraphing-calculator-text-export-braille-email-accessibility = Feedback? Email <1>accessibility@desmos.com</1>{\".\"}\ngraphing-calculator-text-folder-placeholder = Untitled folder\ngraphing-calculator-text-geometry-arrow-mode = Arrow Mode: { $mode }\ngraphing-calculator-text-geometry-delete-selected-objects =\n    { $count ->\n        [one] Delete 1 object\n       *[other] Delete { $count } objects\n    }\ngraphing-calculator-text-geometry-glider = glider\ngraphing-calculator-text-geometry-hide-objects =\n    { $count ->\n        [one] Hide\n       *[other] Hide all\n    }\ngraphing-calculator-text-geometry-intersection = intersection\ngraphing-calculator-text-geometry-multi-select-more-dropdown = More\ngraphing-calculator-text-geometry-multi-select-transform = Transform\ngraphing-calculator-text-geometry-select-hint = Select a { $type }\ngraphing-calculator-text-geometry-selected-objects =\n    { $count ->\n        [one] 1 object selected\n       *[other] { $count } objects selected\n    }\ngraphing-calculator-text-geometry-show-objects =\n    { $count ->\n        [one] Show\n       *[other] Show all\n    }\ngraphing-calculator-text-geometry-tool-angle-display-name = Angle\ngraphing-calculator-text-geometry-tool-angle-hint-1 = Choose a point (one leg)\ngraphing-calculator-text-geometry-tool-angle-hint-2 = Choose a point (vertex)\ngraphing-calculator-text-geometry-tool-angle-hint-3 = Choose a point (other leg)\ngraphing-calculator-text-geometry-tool-angles-display-name = Angles\ngraphing-calculator-text-geometry-tool-angles-hint-1 = Choose a polygon\ngraphing-calculator-text-geometry-tool-arc-display-name = Arc\ngraphing-calculator-text-geometry-tool-arc-hint-1 = Choose a point (start)\ngraphing-calculator-text-geometry-tool-arc-hint-2 = Choose a point (middle)\ngraphing-calculator-text-geometry-tool-arc-hint-3 = Choose a point (end)\ngraphing-calculator-text-geometry-tool-box-selection-display-name = Box Select\ngraphing-calculator-text-geometry-tool-circle-display-name = Circle\ngraphing-calculator-text-geometry-tool-circle-hint-center = Choose a point (center)\ngraphing-calculator-text-geometry-tool-circle-hint-radius = Choose a point (radius)\ngraphing-calculator-text-geometry-tool-compass-display-name = Compass\ngraphing-calculator-text-geometry-tool-compass-hint-center = Choose a point (center)\ngraphing-calculator-text-geometry-tool-compass-hint-segment = Choose a segment (radius)\ngraphing-calculator-text-geometry-tool-dilation-display-name = Dilation\ngraphing-calculator-text-geometry-tool-dilation-hint-center = Choose point (center)\ngraphing-calculator-text-geometry-tool-dilation-hint-scale-factor = Scale factor\ngraphing-calculator-text-geometry-tool-directedangle-display-name = Directed angle\ngraphing-calculator-text-geometry-tool-line-display-name = Line\ngraphing-calculator-text-geometry-tool-line-hint-end = Choose a 2nd point\ngraphing-calculator-text-geometry-tool-line-hint-start = Choose a 1st point\ngraphing-calculator-text-geometry-tool-midpoint-display-name = Midpoint\ngraphing-calculator-text-geometry-tool-midpoint-hint = Choose a segment\ngraphing-calculator-text-geometry-tool-parallel-display-name = Parallel\ngraphing-calculator-text-geometry-tool-parallel-hint-point = Choose a point to set location\ngraphing-calculator-text-geometry-tool-parallel-hint-straight-line = Choose a line to set slope\ngraphing-calculator-text-geometry-tool-perpendicular-display-name = Perpendicular\ngraphing-calculator-text-geometry-tool-perpendicular-hint-point = Choose a point to set location\ngraphing-calculator-text-geometry-tool-perpendicular-hint-straight-line = Choose a line to set slope\ngraphing-calculator-text-geometry-tool-point-display-name = Point\ngraphing-calculator-text-geometry-tool-point-hint = Select or create a point\ngraphing-calculator-text-geometry-tool-polygon-display-name = Polygon\ngraphing-calculator-text-geometry-tool-polygon-hint-finish-point = Choose another point, or click an existing point to finish\ngraphing-calculator-text-geometry-tool-polygon-hint-first-point = Choose a point\ngraphing-calculator-text-geometry-tool-polygon-hint-next-point = Choose another point\ngraphing-calculator-text-geometry-tool-ray-display-name = Ray\ngraphing-calculator-text-geometry-tool-ray-hint-end = Choose a point (direction)\ngraphing-calculator-text-geometry-tool-ray-hint-start = Choose a point (vertex)\ngraphing-calculator-text-geometry-tool-reflection-display-name = Reflection\ngraphing-calculator-text-geometry-tool-reflection-hint-choose-line = Choose line of reflection\ngraphing-calculator-text-geometry-tool-rotation-display-name = Rotation\ngraphing-calculator-text-geometry-tool-rotation-hint-angle = Choose angle\ngraphing-calculator-text-geometry-tool-rotation-hint-center = Choose point (center)\ngraphing-calculator-text-geometry-tool-segment-display-name = Segment\ngraphing-calculator-text-geometry-tool-segment-hint-end = Choose another point\ngraphing-calculator-text-geometry-tool-segment-hint-start = Choose a point\ngraphing-calculator-text-geometry-tool-selection-display-name = Select\ngraphing-calculator-text-geometry-tool-translation-display-name = Translation\ngraphing-calculator-text-geometry-tool-translation-hint-from = Choose start point\ngraphing-calculator-text-geometry-tool-translation-hint-to = Choose end point\ngraphing-calculator-text-geometry-tool-vector-display-name = Vector\ngraphing-calculator-text-geometry-tool-vector-hint-end = Choose an ending point\ngraphing-calculator-text-geometry-tool-vector-hint-start = Choose a starting point\ngraphing-calculator-text-image-placeholder = Unnamed image\ngraphing-calculator-text-label-orientation-above = Above\ngraphing-calculator-text-label-orientation-above-left = Above Left\ngraphing-calculator-text-label-orientation-above-right = Above Right\ngraphing-calculator-text-label-orientation-below = Below\ngraphing-calculator-text-label-orientation-below-left = Below Left\ngraphing-calculator-text-label-orientation-below-right = Below Right\ngraphing-calculator-text-label-orientation-default = Default\ngraphing-calculator-text-label-orientation-left = Left\ngraphing-calculator-text-label-orientation-right = Right\ngraphing-calculator-text-loading-image = Loading image...\ngraphing-calculator-text-note-placeholder = Empty note\ngraphing-calculator-text-page-description = Explore math with our beautiful, free online graphing calculator. Graph functions, plot points, visualize algebraic equations, add sliders, animate graphs, and more.\ngraphing-calculator-text-parameter-name-binwidth = Bin Width\ngraphing-calculator-text-parameter-name-data = Data Set\ngraphing-calculator-text-parameter-name-dof = Degrees of Freedom\ngraphing-calculator-text-parameter-name-height = Height\ngraphing-calculator-text-parameter-name-max = Maximum\ngraphing-calculator-text-parameter-name-mean = Mean\ngraphing-calculator-text-parameter-name-min = Minimum\ngraphing-calculator-text-parameter-name-offset = Offset\ngraphing-calculator-text-parameter-name-probsuccess = Success Probability\ngraphing-calculator-text-parameter-name-stddev = Standard Deviation\ngraphing-calculator-text-parameter-name-trials = Trials\ngraphing-calculator-text-refreshable-braille-display-note = Use a refreshable Braille display, or just type Braille with a keyboard.\ngraphing-calculator-text-regression-potentially-inaccurate-parameters = Some parameters may be too large or small to represent accurately.\ngraphing-calculator-text-share-graph-link = Link to this graph\ngraphing-calculator-text-table-created = Table created.\ngraphing-calculator-text-table-more-rows = { $rowCount } more rows\ngraphing-calculator-text-toast-choose-one-file = You can only choose one file as a replacement\ngraphing-calculator-text-toast-error-importing-graph = Error importing graph. Check the URL?\ngraphing-calculator-text-toast-error-no-folders = Only graphs without folders can be inserted into a folder.\ngraphing-calculator-text-toast-expression-size-limit = Maximum expression size reached.\ngraphing-calculator-text-toast-graph-cleared = Graph cleared.\ngraphing-calculator-text-toast-graph-reset = Graph reset.\ngraphing-calculator-text-toast-image-upload-failed = Image upload failed.\ngraphing-calculator-text-toast-imported-graph = Graph imported!\ngraphing-calculator-text-toast-importing-graph = Importing graph...\ngraphing-calculator-text-toast-no-file-selected = You did not select a file\ngraphing-calculator-text-toast-undo-cmd-z = Press CMD+Z to undo.\ngraphing-calculator-text-toast-undo-ctrl-z = Press CTRL+Z to undo.\ngraphing-calculator-text-toast-uploading-images = Uploading images...\ngraphing-calculator-text-toast-zoom-to-fit = We zoomed to fit your data.\ngraphing-calculator-text-zoom-fit = Zoom Fit\ngraphing-tours-heading-advanced-tables = Advanced Tables\ngraphing-tours-heading-derivatives = Derivatives\ngraphing-tours-heading-folders = Folders\ngraphing-tours-heading-lists = Lists\ngraphing-tours-heading-regressions = Regressions\ngraphing-tours-heading-restrictions = Restrictions\ngraphing-tours-heading-sliders = Sliders\ngraphing-tours-heading-tables = Tables\ngraphing-tours-label-advanced-tables-continue = Click here to continue editing this table.\ngraphing-tours-label-advanced-tables-convert = Convert this to a table.\ngraphing-tours-label-advanced-tables-create = Click here to generate a table.\ngraphing-tours-label-advanced-tables-dots = Click here to only show the dots.\ngraphing-tours-label-advanced-tables-edit-list = Click the \"Edit List\" button.\ngraphing-tours-label-advanced-tables-graph = Start by graphing a function.\ngraphing-tours-label-advanced-tables-new-column = Move right to add a new column.\ngraphing-tours-label-advanced-tables-options = Click and hold on this icon until the options menu opens up.\ngraphing-tours-label-advanced-tables-start = Let's make a function. First: click here to create a new blank expression.\ngraphing-tours-label-advanced-tables-type-function = Try typing { $sample_expression }\ngraphing-tours-label-advanced-tables-wizard = You're a table wizard!\ngraphing-tours-label-awesome = Awesome!\ngraphing-tours-label-brilliant = Brilliant!\ngraphing-tours-label-derivative-graph-derivative = To graph its derivative: { $equation }\ngraphing-tours-label-derivative-hint-type-derivative = Hint: To get the derivative operator, just type d/dx.\ngraphing-tours-label-derivative-one-more = Let's try one more: { $equation }\ngraphing-tours-label-derivative-start-function = Start with a function: { $equation }\ngraphing-tours-label-derivative-start-graph = Let's graph a derivative!\ngraphing-tours-label-folders-collapse = Now we’ll explore some folder functionality. Click here to collapse the folder.\ngraphing-tours-label-folders-did-you-know = Did You Know...\ngraphing-tours-label-folders-grab = Now grab this equation by its left edge and drag it into the folder.\ngraphing-tours-label-folders-great-start = That’s a great start!\ngraphing-tours-label-folders-hide = You can hide everything in the folder with one click. Click here to try.\ngraphing-tours-label-folders-indicator = Hint: The gray line will show you if the expression is in the folder.\ngraphing-tours-label-folders-name = Give your folder a name.\ngraphing-tours-label-folders-new-equation = Let's make a new equation. For example, type: { $equation }\ngraphing-tours-label-folders-option = ... and select the \"folder\" option.\ngraphing-tours-label-folders-start = Let's make a folder!\ngraphing-tours-label-great-job = Great job!\ngraphing-tours-label-last-thing = Last thing!\ngraphing-tours-label-list-computation = You can do a computation on a list. For example: { $equation }\ngraphing-tours-label-lists-are-powerful = Lists are powerful. Let's see.\ngraphing-tours-label-lists-begin-equation = Begin by typing { $equation }\ngraphing-tours-label-lists-count-by = If you want to count by 5 instead, just write something like this: { $equation }\ngraphing-tours-label-lists-create-range = You can create lists of integers even more easily. Try this: { $equation }\ngraphing-tours-label-lists-graph-equation = Graph: { $equation }\ngraphing-tours-label-lists-graph-points = Let's graph a few points.\ngraphing-tours-label-lists-hint-abc = Hint: press the 'A B C' button on the keypad to find the [ ] buttons\ngraphing-tours-label-lists-hint-plot-points = Hint: this will plot a point for each item of b.\ngraphing-tours-label-lists-hint-superscript = Hint: you can type { $suggestion1 } or use the { $suggestion2 } button on the keypad below.\ngraphing-tours-label-lists-point-equation = Try this: { $equation }\ngraphing-tours-label-lists-put-to-work = Nice. Let's put that list to work.\ngraphing-tours-label-new-item = Click here to add a new item.\ngraphing-tours-label-nice = Nice!\ngraphing-tours-label-regressions-better-fit = Edit this equation to find a better fit. Try, for example:<br>{ $equation }\ngraphing-tours-label-regressions-check-model = Nice. Let's check the model.\ngraphing-tours-label-regressions-data = First, let's get some data.\ngraphing-tours-label-regressions-data-2 = Let's start with some data!\ngraphing-tours-label-regressions-docs = Head over to Google Docs and copy and paste this { $sample_data_link }.\ngraphing-tours-label-regressions-equation = Now type: { $equation }\ngraphing-tours-label-regressions-expression-option = ... and select the \"expression\" option.\ngraphing-tours-label-regressions-fill-sample-data = Fill in the sample data:\ngraphing-tours-label-regressions-hint-1 = Hint #1: to get { $y_1 } type { $y1 }.\ngraphing-tours-label-regressions-hint-2 = Hint #2: { $twiddle } is in our onscreen keypad in the 'A B C' section.\ngraphing-tours-label-regressions-keep-exploring = Nice work &ndash; Keep exploring!\ngraphing-tours-label-regressions-new-model = Now, let's try a new model.\ngraphing-tours-label-regressions-new-table = Click here to add a new table.\ngraphing-tours-label-regressions-own-data = Note: you can add your own data instead by clicking the { $plus_icon } button.\ngraphing-tours-label-regressions-residuals = Residuals are the difference between your data and your model. Click here to add them to your table and plot them on the graph.\ngraphing-tours-label-regressions-sample-data = sample data\ngraphing-tours-label-require-expressions-visible = Click to show the list of expressions.\ngraphing-tours-label-require-not-edit-list-mode = Click to return to your expressions.\ngraphing-tours-label-require-resources-not-open = Click to return to this graph.\ngraphing-tours-label-restrictions-abc = Hint: press the 'A B C' button on the keypad to find the { $buttons } buttons\ngraphing-tours-label-restrictions-blank-expression = Click here to make a new blank expression.\ngraphing-tours-label-restrictions-change-equation = Change this equation to { $sample_expression }\ngraphing-tours-label-restrictions-domain = Restrict the domain of this line by adding { $sample_expression } to the end.\ngraphing-tours-label-restrictions-dont-forget = Don't forget the \"y=\"!\ngraphing-tours-label-restrictions-graph-parabola = Now graph: { $sample_expression }\ngraphing-tours-label-restrictions-move-parabola = Move the parabola.\ngraphing-tours-label-restrictions-new-expression = Click here to create a new expression.\ngraphing-tours-label-restrictions-range = Now let's restrict the range. Add { $sample_expression } to the end.\ngraphing-tours-label-restrictions-star = You're a restrictions star!\ngraphing-tours-label-restrictions-start = Let's get started!\ngraphing-tours-label-restrictions-straight-line = Try graphing a straight line, like { $sample_expression }\ngraphing-tours-label-restrictions-type-all = Try typing all of { $sample_expression }\ngraphing-tours-label-restrictions-typing-hint = Hint: you can type { $suggestion1 }, or use the { $suggestion2 } button on the keypad below.\ngraphing-tours-label-self-destruct = This message will self-destruct in { $seconds }...\ngraphing-tours-label-sliders-add = Now click here to add the sliders.\ngraphing-tours-label-sliders-blank-expression = Click here to create a new blank expression.\ngraphing-tours-label-sliders-change-value = Type in here to change the value.\ngraphing-tours-label-sliders-drag-handle = Drag the handle to change the value.\ngraphing-tours-label-sliders-hands-free = Go \"Hands-free\"\ngraphing-tours-label-sliders-make-sliders = Let's make some sliders!\ngraphing-tours-label-sliders-press-play = Press play to animate the slider.\ngraphing-tours-label-sliders-pro = You're a slider pro!\ngraphing-tours-label-sliders-try-typing = Try typing { $sample_expression }\ngraphing-tours-label-tables-back = Click back to continue editing.\ngraphing-tours-label-tables-close-options = Click anywhere to close the drawing options.\ngraphing-tours-label-tables-dots = Click here to connect the dots.\ngraphing-tours-label-tables-enter = Now try pressing Enter.\ngraphing-tours-label-tables-fill-another = Just fill in one more...\ngraphing-tours-label-tables-fill-cell = Fill it in.\ngraphing-tours-label-tables-fill-row = Fill in this whole row.\ngraphing-tours-label-tables-last-trick = Last trick!\ngraphing-tours-label-tables-next-row = Go down to the next row to add more data.\ngraphing-tours-label-tables-open-options = Click and hold on this icon until the options menu opens up.\ngraphing-tours-label-tables-select-table = ... and select the \"table\" option.\ngraphing-tours-label-tables-start = Let's make a table!\ngraphing-tours-label-tables-type-number = Type any number here.\ngraphing-tours-label-tables-valid-number = Uh-oh! Type a valid number here.\ngraphing-tours-label-tables-whiz = You're a tables whiz!\nmatrix-calculator-button-new = New Matrix\nmatrix-calculator-button-settings = settings\nmatrix-calculator-heading-edit-matrix = Edit Matrix { $variable }\nmatrix-calculator-label-columns = Columns\nmatrix-calculator-label-rows = Rows\nmatrix-calculator-narration-add-column = Add Column\nmatrix-calculator-narration-add-row = Add Row\nmatrix-calculator-narration-evaluation = equals { $rowCount } by { $columnCount } matrix.\nmatrix-calculator-narration-evaluation-row = Row { $rowNumber }: { $values }.\nmatrix-calculator-narration-keypad-key-det = Determinant\nmatrix-calculator-narration-keypad-key-inverse = Inverse\nmatrix-calculator-narration-keypad-key-rref = Reduced row echelon form\nmatrix-calculator-narration-keypad-key-trace = Trace\nmatrix-calculator-narration-keypad-key-transpose = Transpose\nmatrix-calculator-narration-matrix-with-variable = Matrix { $variable }\nmatrix-calculator-narration-matrix-without-variable = Matrix\nmatrix-calculator-narration-new-dimensions = Matrix size: { $rows } by { $cols }\nmatrix-calculator-narration-remove-column = Remove Column\nmatrix-calculator-narration-remove-row = Remove Row\nmatrix-calculator-narration-resize-controls = Resize Matrix Controls\nmatrix-calculator-narration-settings-menu = Settings Menu\nmatrix-calculator-narration-title = Desmos Matrix Calculator\n### String for curriculum marketing\n\n\n### 254 English words, 37 English strings\n\ncurriculum-info-button-no = No\ncurriculum-info-button-request-form-submit = Request More Information\ncurriculum-info-button-yes = Yes\ncurriculum-info-error-request-form-contact-info-email = Please enter a valid email address.\ncurriculum-info-error-request-form-contact-info-first-name = Please enter your first name.\ncurriculum-info-error-request-form-contact-info-last-name = Please enter your last name.\ncurriculum-info-error-request-form-enter-role = Please enter your role.\ncurriculum-info-error-request-form-site-name = Please enter the name of your school or district.\ncurriculum-info-heading-end-of-page-info = Want to learn more?\ncurriculum-info-heading-grade-level-interest = Which grades are you interested in?\ncurriculum-info-heading-partners-logos = Some of Our Partner Schools and Districts\ncurriculum-info-heading-request-form = Request more information about the curriculum.\ncurriculum-info-heading-request-form-contact-info = Your contact information:\ncurriculum-info-heading-request-form-this-fall-interest = Are you looking to use the Desmos Curriculum this fall?\ncurriculum-info-heading-testimonials = What are people saying?\ncurriculum-info-heading-whats-in-the-curriculum = What's in Desmos Math 6–A1?\ncurriculum-info-label-grade-6-interest = Grade 6\ncurriculum-info-label-grade-7-interest = Grade 7\ncurriculum-info-label-grade-8-interest = Grade 8\ncurriculum-info-label-request-form-contact-info-email = Email\ncurriculum-info-label-request-form-contact-info-first-name = First Name\ncurriculum-info-label-request-form-contact-info-last-name = Last Name\ncurriculum-info-label-request-form-enter-role = What is your role?\ncurriculum-info-label-request-form-enter-role-placeholder = Role\ncurriculum-info-label-request-form-select-role = Select your role:\ncurriculum-info-label-request-form-site-name = Name of school or district:\ncurriculum-info-label-request-form-site-name-placeholder = School or District Name\ncurriculum-info-label-role-administrator = Administrator\ncurriculum-info-label-role-coach = Math Coach\ncurriculum-info-label-role-other = Other\ncurriculum-info-label-role-teacher = Teacher\ncurriculum-info-label-try-this-activity = Try an activity!\ncurriculum-info-narration-ipad-with-student-screen = An iPad with a student screen. On the screen, the student sketches planets and explores what happens when the drawing is sent through different machines. Behind the iPad, there is a paper version of the activity where the student has sketched scaled copies of a shape on a grid.\ncurriculum-info-narration-laptop-with-student-screen = A laptop with a student screen. On the screen, the student describes what he notices and wonder while changing the scale factor of a mosaic pattern he created.\ncurriculum-info-narration-screen-with-teacher-dashboard = A computer screen with two windows open. The first window shows the teacher screen for Grade 7, Unit 5. The second window, to the right of the first, shows a teacher dashboard with square patterns created by students in the class.\ncurriculum-info-text-request-sent-confirmation = Thank you, { $firstName }! An email with more information is on the way.\ncurriculum-info-text-request-sent-other-follow-up-email-subject = I have a question about the Desmos Curriculum\n### Strings for desmos.com homepage\n\n\n### 4816 English words, 410 English strings\n\nfrontpage-button-braille-print-examples = Print these examples\nfrontpage-button-main-join-class = Join\nfrontpage-error-something-went-wrong-try-again-later = Sorry! Something went wrong. Please try again later.\nfrontpage-heading-about-desmos-classroom = About Desmos Classroom\nfrontpage-heading-about-desmos-studio = About Desmos Studio\nfrontpage-heading-art-contest-guest-judges = Guest Judges\nfrontpage-heading-braille-examples = Braille Examples\nfrontpage-heading-braille-table-type-this = Type this\nfrontpage-heading-braille-table-typeset = Typeset\nfrontpage-heading-braille-view-examples-in = View examples in:\nfrontpage-heading-equity-as-we-do-this-work = As we do this work, we ask ourselves...\nfrontpage-heading-equity-disrupt-systemic-inequities = III.  We want to disrupt systemic inequities and conditions of marginalization in education.\nfrontpage-heading-equity-more-equitable-workplace = II. We want to work continuously towards an equitable workplace.\nfrontpage-heading-equity-next-steps = Next Steps and an Invitation\nfrontpage-heading-equity-principles = Equity Principles\nfrontpage-heading-equity-serve-all-students-and-teachers = I.  We want our products to serve all students and teachers.\nfrontpage-heading-footer-company = Company\nfrontpage-heading-footer-legal = Legal\nfrontpage-heading-footer-products = Products\nfrontpage-heading-footer-resources = Resources\nfrontpage-heading-guiding-build-for-real-classrooms = Build for Real Classrooms\nfrontpage-heading-guiding-champion-teachers = Champion Teachers\nfrontpage-heading-guiding-design-for-delight = Design for Delight\nfrontpage-heading-guiding-principles = Guiding Principles\nfrontpage-heading-guiding-works-every-time = Works Every Time\nfrontpage-heading-header-maintenance-mode = Desmos is currently undergoing scheduled maintenance, and accounts are temporarily unavailable.\nfrontpage-heading-keyboard-shortcuts-four-function = Four Function Calculator Keyboard Shortcuts\nfrontpage-heading-keyboard-shortcuts-graphing = Graphing Calculator Keyboard Shortcuts\nfrontpage-heading-keyboard-shortcuts-scientific = Scientific Calculator Keyboard Shortcuts\nfrontpage-heading-main-global-art-contest-back = The Desmos Global Art Contest is back!\nfrontpage-heading-main-global-art-contest-finalists-2020 = Global Math Art Contest 2020 Finalists\nfrontpage-heading-main-global-art-contest-finalists-2021 = Global Math Art Contest 2021 Finalists\nfrontpage-heading-main-global-art-contest-gallery-2022 = Global Math Art Contest 2022 Gallery\nfrontpage-heading-main-global-thank-you = Thank you for joining our Global Math Art Contest, { $name }!\nfrontpage-heading-main-lets-learn-together = Let's learn together.\nfrontpage-heading-main-our-partners = Our Partners\nfrontpage-heading-main-students = Students\nfrontpage-heading-main-teachers = Teachers\nfrontpage-heading-main-using-desmos-classroom = Using Desmos Classroom?\nfrontpage-heading-partners-accessibility-out-of-box = Accessibility Out of the Box\nfrontpage-heading-partners-anywhere-any-device = Anywhere, Any Device\nfrontpage-heading-partners-constant-improvements = Constant Improvements\nfrontpage-heading-partners-global-scale = Global Scale\nfrontpage-heading-partners-rock-solid-reliability = Rock-Solid Reliability\nfrontpage-heading-partners-want-to-embed = Want to partner with Desmos Studio PBC?\nfrontpage-heading-shared-contact-us = Contact Us\nfrontpage-heading-team-job-title-ceo = CEO\nfrontpage-heading-team-job-title-coaching = Coaching\nfrontpage-heading-team-job-title-copy-editing = Copy Editing\nfrontpage-heading-team-job-title-data = Data\nfrontpage-heading-team-job-title-engineering = Engineering\nfrontpage-heading-team-job-title-faculty = Faculty\nfrontpage-heading-team-job-title-interaction-developer = Interaction Developer\nfrontpage-heading-team-job-title-localization = Localization\nfrontpage-heading-team-job-title-operations = Operations\nfrontpage-heading-team-job-title-partnerships = Partnerships\nfrontpage-heading-team-job-title-product = Product\nfrontpage-heading-team-job-title-support = Support\nfrontpage-heading-team-meet-the-team = Meet the Team\nfrontpage-heading-team-partnerships-programs-and-operations = Partnerships, Programs, and Operations\nfrontpage-heading-team-product-and-engineering = Product and Engineering\nfrontpage-heading-team-teaching = Teaching\nfrontpage-heading-testmode-about-desmos-test-mode = About Desmos Test Mode\nfrontpage-heading-testmode-about-tab = About\nfrontpage-heading-testmode-android-tab = Android (Beta)\nfrontpage-heading-testmode-chromebooks-tab = Chromebooks\nfrontpage-heading-testmode-feedback-tab = Feedback\nfrontpage-heading-testmode-ipads-and-iphones-tab = iPads and iPhones\nfrontpage-heading-testmode-practice-tab = Practice\nfrontpage-heading-title-404 = Error 404: Page not found\nfrontpage-heading-title-about = About Us\nfrontpage-heading-title-art-contest = Art Contest Finalists\nfrontpage-heading-title-curriculum = Curriculum\nfrontpage-heading-title-equity = Equity Principles\nfrontpage-heading-title-frontpage = Let's learn together.\nfrontpage-heading-title-guiding-principles = Guiding Principles\nfrontpage-heading-title-partners = Partners\nfrontpage-heading-title-team = Team\nfrontpage-label-about-meet-the-team = Meet the Team\nfrontpage-label-art-contest-certificate = View your Certificate\nfrontpage-label-art-contest-feedback = Share your Feedback\nfrontpage-label-art-contest-finalists-2020 = Finalists 2020\nfrontpage-label-art-contest-finalists-2021 = Finalists 2021\nfrontpage-label-art-contest-from-artist = From the artist:\nfrontpage-label-art-contest-from-judges = From the judges:\nfrontpage-label-art-contest-photo-vernon-1st = 1st Place\nfrontpage-label-art-contest-photo-vernon-2nd = 2nd Place\nfrontpage-label-art-contest-photo-vernon-3rd = 3rd Place\nfrontpage-label-art-contest-trailblazer = Trailblazer\nfrontpage-label-main-classcode-placeholder = Code\nfrontpage-link-art-contest-age-range-13-14 = Ages 13-14\nfrontpage-link-art-contest-age-range-15-16 = Ages 15-16\nfrontpage-link-art-contest-age-range-17-18 = Ages 17-18\nfrontpage-link-art-contest-age-range-19 = Ages 19+\nfrontpage-link-curriculum-schedule-call = Request More Info\nfrontpage-link-curriculum-try-it = Try It for Free\nfrontpage-link-footer-classroom-activities = Classroom Activities\nfrontpage-link-footer-contact-twitter = Twitter\nfrontpage-link-footer-partnerships = Partnerships\nfrontpage-link-header-classroom = Classroom\nfrontpage-link-header-math-tools = Math Tools\nfrontpage-link-header-resources = Resources\nfrontpage-link-header-team-desmos = Team Desmos\nfrontpage-link-main-browse-activities = Browse Activities\nfrontpage-link-main-for-students = For Students\nfrontpage-link-main-for-teachers = For Teachers\nfrontpage-link-main-go-to-student-homepage = Go to Student Homepage\nfrontpage-link-main-view-the-winners = See all of the featured graphs!\nfrontpage-link-read-equity-principles = Read our Equity Principles\nfrontpage-link-read-guiding-principles = Read our Guiding Principles\nfrontpage-link-shared-about-us = About Us\nfrontpage-link-shared-account-settings = Account Settings\nfrontpage-link-shared-api-documentation = API Docs\nfrontpage-link-shared-assessments = Assessments\nfrontpage-link-shared-blog = Des-Blog\nfrontpage-link-shared-careers = Careers\nfrontpage-link-shared-contact-us = Contact Us\nfrontpage-link-shared-curriculum = Desmos Math 6–A1\nfrontpage-link-shared-equity-principles = Equity Principles\nfrontpage-link-shared-four-function-calculator = Four-Function Calculator\nfrontpage-link-shared-geometry-tool = Geometry Tool\nfrontpage-link-shared-graphing-calculator = Graphing Calculator\nfrontpage-link-shared-guiding-principles = Guiding Principles\nfrontpage-link-shared-help-center = Help Center\nfrontpage-link-shared-hiring = We're hiring!\nfrontpage-link-shared-log-in = Log In\nfrontpage-link-shared-log-out = Log Out\nfrontpage-link-shared-matrix-calculator = Matrix Calculator\nfrontpage-link-shared-scientific-calculator = Scientific Calculator\nfrontpage-link-shared-sign-up = Sign Up\nfrontpage-link-shared-store = Desmos Store\nfrontpage-link-shared-test-practice = Test Practice\nfrontpage-link-testmode-learn-more-screen-pinning-mode = Learn more about using Screen Pinning on your Android device.\nfrontpage-narration-art-contest-image-of-graph = Image of { $graphTitle }\nfrontpage-narration-art-contest-image-of-graph-by = Image of graph by { $name }\nfrontpage-narration-art-contest-photo-boaler = Photo of Jo Boaler\nfrontpage-narration-art-contest-photo-bousso = Photo of Diarra Bousso\nfrontpage-narration-art-contest-photo-sanderson = Photo of Grant Sanderson\nfrontpage-narration-art-contest-photo-vernon = Photo of Natalie Vernon\nfrontpage-narration-art-contest-photo-woo = Photo of Eddie Woo\nfrontpage-narration-main-partner-logo = { $name } logo\nfrontpage-narration-shared-desmos-logo = Desmos Logo\nfrontpage-narration-shared-image-of-graph = Image of { $graphTitle }\nfrontpage-narration-team-collapse-biography = Collapse Biography\nfrontpage-narration-team-picture-of-name = Picture of { $name }\nfrontpage-narration-testmode-im-done-timer-ios = The I'm Done button and timer on the iOS closing screen\nfrontpage-narration-testmode-ipad-opening-screen = The Start Test button on the iPad opening screen\nfrontpage-narration-testmode-opening-screen = The opening screen of Test Mode\nfrontpage-text-about-build-a-world = Desmos wants to build a world where every student learns math and loves learning math, where a student’s access to the power and beauty of math doesn't depend on their place of birth, race, ethnicity, gender, or any other aspect of their identity.\nfrontpage-text-about-classroom = Desmos Classroom is now part of Amplify Education! <1>Learn more</1>{\".\"}\nfrontpage-text-about-classroom-curriculum = In 2020, we turned those experiences into <1>a core middle school math program</1>, combining a problem-based curriculum from Illustrative Mathematics, scalable support models from Amplify, and Desmos Classroom's intuitive technology and humanizing pedagogy.\nfrontpage-text-about-classroom-join-us = Want to learn more? Preview <1>Desmos Math 6-A1</1>, join the Desmos Educators <2>Facebook Community</2>, or find a <3>career with Desmos Classroom</3> at Amplify!\nfrontpage-text-about-classroom-pedagogy = Desmos Classroom invites, celebrates, and develops student brilliance through <1>free digital classroom activities</1>, thoughtfully designed by teachers for teachers. Those activities are guided by our <2>our pedagogical philosophy</2> and help students to explore concepts deeply, collaborate with their peers on problem-solving, and apply knowledge creatively as mathematicians.\nfrontpage-text-about-desmos-studio-pbc = Desmos Studio is a Public Benefit Corporation with a goal of helping everyone learn math, love math, and grow with math. We believe that everyone has an inner mathematician and that some people haven’t been given the opportunity, encouragement, or tools to discover theirs. So we prioritize <1>equity</1> and <2>accessibility</2> at every level of our work.\nfrontpage-text-about-math-tools = Our free suite of math tools, including our Graphing Calculator, is used annually by over 75 million people around the world. Those tools help people represent their ideas mathematically, connect different representations dynamically, make conjectures, and then develop entirely new ideas. They also result in some <1>pretty spectacular art</1>{\".\"}\nfrontpage-text-about-partners = We partner with the world's most popular curricula and learning software, and with <1>the majority of U.S. state-level assessments and digital college entrance exams</1>{\".\"}\nfrontpage-text-about-studio-join-us = Want to learn more? <1>Play with the calculator</1>, connect with us on <2>Twitter</2>, or find a <3>career with Desmos Studio</3>!\nfrontpage-text-art-contest-3rd-annual = 3rd Annual Global Math Art Contest\nfrontpage-text-art-contest-certificate-of-participation = Certificate of Participation\nfrontpage-text-art-contest-couldnt-find-certificate = We're having trouble finding a submission for the associated with this email address ({ $email }). Try reloading the page or signing in with another account?\nfrontpage-text-art-contest-date-of-issue = Date of Issue\nfrontpage-text-art-contest-enter = Learn more about Desmos's Global Art Contest 2021\nfrontpage-text-art-contest-featured-graph = Featured Graph, { $age }\nfrontpage-text-art-contest-finalist-title = “{ $graphTitle }” by { $name }\nfrontpage-text-art-contest-globe-alt-text = Illustration of Earth with a red ribbon around it.\nfrontpage-text-art-contest-name-and-country = by { $name }, { $country }\nfrontpage-text-art-contest-page-description-2020 = Desmos's first Global Math Art Contest in 2020 featured over 4,000 graphs from over 100 countries around the world. Here are the winners and finalists, chosen from countless examples of incredible effort, artistry, ingenuity, and creativity.\nfrontpage-text-art-contest-page-description-2021 = More than 10,000 students from around the world participated in the second annual Global Math Art Contest! Here are the winners and finalists, chosen from countless examples of incredible effort, artistry, ingenuity, and creativity.\nfrontpage-text-art-contest-page-description-2022 = For our 3rd annual art contest, we decided it was too hard to choose winners from the thousands of amazing graphs submitted in each age category. So we picked 20 to feature from each! Browse these graphs below, and click on any of them to learn more.\nfrontpage-text-art-contest-please-log-in-for-certificate = Please log in to see your Certificate of Participation.\nfrontpage-text-braille-examples-calculator-information = Use a Braille display? You can read and write equations in the <1>Four-Function</1> <2>(www.desmos.com/fourfunction)</2>, <3>Scientific</3> <4>(www.desmos.com/scientific)</4>, and <5>Graphing</5> <6>(www.desmos.com/calculator)</6> calculators as well as <7>classroom activities</7> <8>(teacher.desmos.com)</8> using the two most common mathematical Braille codes in North America: Nemeth and Unified English Braille (UEB).\nfrontpage-text-braille-examples-page-screen-reader-information = Your screen reader should be set for Computer Braille input and output to minimize the risk of translation errors. Check out <1>the help center accessibility page.</1> for more information about using Braille in the Desmos calculators.\nfrontpage-text-description-about = Desmos is a math ed tech company building calculators, digital classroom tools, math activities, and curriculum for classrooms around the world.\nfrontpage-text-description-art-contest = The Desmos Math Art Contest is open yearly to students ages 13⁠–⁠18 to showcase their graphing calculator skills, creativity, and love of math.\nfrontpage-text-description-equity = Our goal is to support the development of a more equitable math education system and tech industry. We use these principles as our guide.\nfrontpage-text-description-frontpage = Desmos offers best-in-class calculators, digital math activities, and curriculum to help every student love math and love learning math.\nfrontpage-text-description-guiding-principles = We have five Guiding Principles. These principles help us make tough decisions. They provide accountability for the outcomes of those decisions. And they help other people make decisions about us, by representing our values to people and organizations who are deciding if we’d be good partners in their work.\nfrontpage-text-description-team = Our team works across 7 time zones, 2 hemispheres, and 18 states with 1 goal: to help every student learn math and love learning math.\nfrontpage-text-equity-as-a-us-based-team = As a primarily U.S.-based team, our focus for applying these principles has typically centered on injustices within our country. However, as our team, community of users, and partnerships continue to expand internationally, we seek to learn how we can apply these principles to strive for equitable math education worldwide.\nfrontpage-text-equity-everyone-understands = Our workplace should be one where everyone understands how they contribute to the company’s mission and feels valued in their contribution. If we don’t intentionally foster diversity and inclusion internally, we remain a part of the broader systemic inequities driving the need for these principles. Equally important, having a diverse group of colleagues is essential to serving a diverse external community. To do this, we must critically examine and address bias in our own processes and interactions.\nfrontpage-text-equity-goal-more-equitable-math-education-system = Our goal is to support the development of a more equitable math education system and tech industry. We use these principles as guides towards achieving this goal.\nfrontpage-text-equity-gratitude = We also want to express our gratitude to the many folks who have influenced and pushed our thinking in this area, especially but certainly not limited to <1>Lauren Baucom</1>, <2>Christelle Rocha</2>, <3>Ayanna Perry</3>, and Rochelle Gutierrez.\nfrontpage-text-equity-how-can-we-measure-impact = How can we measure the impact of our work on communities we aim to serve?\nfrontpage-text-equity-how-can-we-uphold-values = How can we uphold our values when selecting partners and services?\nfrontpage-text-equity-how-might-we-attend-to-safety = How might we attend to the mental, emotional, and physical safety of our employees?\nfrontpage-text-equity-how-might-we-continue-to-prioritize-equity = How might we continue to prioritize a drive for equity as our company changes over time?\nfrontpage-text-equity-how-might-we-examine-biases = How might we examine and reduce our individual biases?\nfrontpage-text-equity-how-might-we-share-our-thinking = How might we share our current thinking and get feedback?\nfrontpage-text-equity-how-might-we-support-access = How might we support the ACCESS and ACHIEVEMENT of the communities we serve?\nfrontpage-text-equity-how-might-we-support-identity = How might we support the IDENTITY and POWER of the communities we serve?\nfrontpage-text-equity-how-might-we-sustain-ourselves = How might we sustain ourselves in our day-to-day work?\nfrontpage-text-equity-how-might-work-disrupt-white-supremacy = How might our work disrupt white supremacy and the oppressive results of dominant culture?\nfrontpage-text-equity-how-will-it-help = How might this work help the communities we aim to serve? How might it harm these communities?\nfrontpage-text-equity-on-a-mission = We're on a mission to help every student learn math and love learning math. To achieve our mission, we must acknowledge past and present injustices in our communities and take intentional action to make change.\nfrontpage-text-equity-tag-or-email = We would love to hear ways these principles may be underdeveloped or ways in which these principles shifted your thinking. If you want to respond publicly, tag us <1>@desmos</1>{\".\"} If you want to respond privately, feel free to email <2>equity@desmos.com</2>{\".\"}\nfrontpage-text-equity-we-have-a-responsibility = We have a responsibility to continuously learn about how systemic inequity is embedded in education and to use this knowledge to drive our decision-making. As we learn and put our learning into practice, we share our work with the hope that others will listen, learn, and push us further.\nfrontpage-text-equity-we-recognize-creating-adopting = We recognize that creating and adopting a set of equity principles is just one foundational step that helps us orient the work that comes next. We are also aware that our team members’ identities, experiences, and biases limit our ability to help every student or to see ways in which our systems and structures bias some groups over others.\nfrontpage-text-equity-what-voices-can-we-amplify = What underrepresented voices can we learn from and amplify?\nfrontpage-text-equity-which-communities-to-learn-from = Which communities do we need to learn from and serve?\nfrontpage-text-equity-who-serves-harms = Who might each internal process serve? Who might this process harm?\nfrontpage-text-equity-without-taking-intentional-steps = Without taking intentional steps, our work will not serve all groups well. Therefore, we must focus on identifying and attending to the needs of marginalized and excluded communities. This means learning from and with these teachers and students, and using their needs to shape our work and measure our success.\nfrontpage-text-footer-copyright-studio = Copyright { $copyrightSign } { $year } Desmos Studio, PBC\nfrontpage-text-global-thank-you = We were amazed going through all of the incredible graphs. We hope that you had as much fun being a part of the contest as we had running it. If you want to, you can:\nfrontpage-text-guiding-building-for-real-classrooms = Building for real classrooms requires listening to teachers and striving to understand the operations of their classrooms—the features that make whole-group or small-group discussions <1>successful</1>, for example, or the way unreliable technology can ruin a lesson. Building for real classrooms also requires us to understand the inequities in the way schools are resourced. Knowing that many students and teachers operate with limited devices and connectivity motivates our team to prioritize building performant, low-bandwidth systems.\nfrontpage-text-guiding-footnote-danny-martin = <1>1</1> <2>Danny Martin</2>, for example, entreats us to consider the brilliance of Black children as an axiom, a statement that is self-evidently true.\nfrontpage-text-guiding-honor-students-brilliance = Honor Students' Brilliance\nfrontpage-text-guiding-once-students-realize = Once students realize we are encouraging their agency and creativity, we hope they will seek delight in every corner of our work. Therefore, we're constantly redesigning for delight and updating to respond to all the student creativity we didn’t anticipate.\nfrontpage-text-guiding-principles-gratitude = All errors in this document are our own, but we are particularly grateful to Desmos Fellows <1>Lauren Baucom</1> and <2>Christelle Rocha</2> for their feedback on earlier drafts of these principles.\nfrontpage-text-guiding-principles-introduction = We have five Guiding Principles. These principles help us make tough decisions, and provide accountability for the outcomes of those decisions. And they help other people make decisions about us by representing our values to the people and organizations who are deciding if we’d be good partners in their work.\nfrontpage-text-guiding-remove-barriers = We also try to remove barriers that might prevent certain students from showcasing their brilliance by focusing on equity in our business models and accessibility in our products.\nfrontpage-text-guiding-so-we-champion = So we champion teachers. We start by listening and learning from and with teachers and researchers. We ask how we can best support each stage of a teacher’s career. We also work to oppose any effort to devalue or deprofessionalize teaching.\nfrontpage-text-guiding-there-are-a-number = There are a number of reasons that a product might not “work” for a user. It could just break, as technology so often does. It could be confusing for a subset of users, perhaps those who are less confident using technology. It could be that someone uses it in a way that we didn’t anticipate. Whatever the reason, even a product that works 99% of the time will interrupt the learning in 1 of 3 classrooms. As a result, we prioritize reliability and usability, even at the expense of development speed. We strive for backwards compatibility, and still open graphs made in the first week of our calculator’s launch. We also aim to design software and lessons that work for a wide variety of inputs. We believe that it’s not our job to enforce rigid syntax, but rather to interpret, as well as we can, anything a user does.\nfrontpage-text-guiding-to-honor-students = To honor students’ brilliance, we must first create opportunities for students to express their brilliance. We design tools and lessons that invite creativity and welcome multiple approaches. We build features to help teachers showcase student thinking, for example with our <1>dashboard tools</1> that support the <2>5 Practices</2>{\".\"} We seek to provide meaningful <3>task-oriented</3> feedback on students’ thinking.\nfrontpage-text-guiding-to-support-real-students = To support real students and real teachers, we need to design for their real and disparate environments.\nfrontpage-text-guiding-we-are-not-uncritical = We are not uncritical or passive champions. We recognize that teachers can both help and harm. We instead consider ourselves partners, supporters, and advocates in the critical work of building joyful classrooms and honoring the brilliance of every student. Excellence in teaching takes years of training and practice, and supporting such excellence is one of our most powerful levers for achieving our goals.\nfrontpage-text-guiding-we-believe-that-students = We believe that students are creative, knowledgeable, and brilliant. We recognize that students in math classes are not always treated as such, and that students of certain genders, races, or backgrounds are disproportionately affected.\nfrontpage-text-guiding-we-cant-enact = We can't enact any of our principles without teachers. We believe that teachers are—and should remain—an integral part of the learning process, and we know that they wield enormous power in their students’ learning experiences.\nfrontpage-text-guiding-we-know-that-software = We know that software will inevitably break or students will do things we don’t anticipate. We believe that reliability doesn't come from avoiding every possible way something can go wrong, but from reacting quickly, carefully, and <1>blamelessly</1> when it does.\nfrontpage-text-guiding-we-prioritize-delight = We prioritize delight in our products even at the cost of development time. We would rather release a delightful product or lesson tomorrow than an adequate one today. We aim for delight not just in the user experience but in the learning experience as well. For example, students experience joy in \"<1>being the cause</1>,\" so we try to create tools and lessons that respond to their interesting thinking. We relish surprises from students and try to surprise them in turn by coming along as they go off trail.\nfrontpage-text-guiding-we-reject-the-idea = We reject the idea that these students are more or less capable and recognize that we must learn from and with marginalized and excluded communities<1>1</1> in order to counter these narratives.\nfrontpage-text-guiding-we-want-to-help = We want to help all students learn math, but we see little value in their learning math if they don't also find something to <1>love</1> about math as well.\nfrontpage-text-header-app-links = Download our apps in the <1>Google Play Store</1> and <2>iOS App Store</2>{\".\"}\nfrontpage-text-main-interactive-and-creative-activities = Interactive and creative activities for your math class.\nfrontpage-text-main-join-your-classmates = Join your classmates!\nfrontpage-text-main-on-a-mission = We're on a mission to help every student learn math and love learning math.\nfrontpage-text-main-partners-benefits = As a partner of Desmos Studio PBC, you benefit from our continual work to make Desmos Tools more powerful, faster, and easier to use. We release a new version of the API annually in April as a free upgrade for all of our partners. <1>Read our Changelog</1>{\".\"}\nfrontpage-text-main-partners-information = Our tools power <1>assessments</1> and major curricula. <2>Learn more</2>\nfrontpage-text-partners-accessible-api = We believe everyone deserves access to powerful math tools, including those who are blind or visually impaired. Desmos's API is WCAG 2.1 compliant at the AA level. We support fully blind users by converting graphs to sound and connecting with screen readers. <1>Learn More</1>{\".\"}\nfrontpage-text-partners-desmos-opening-paragraph = Partner with us to embed the power of Desmos Tools right into your platform, website, or app! Desmos Tools (Graphing, Scientific, Four Function, and Matrix calculators) are available for partners with the Desmos API.\nfrontpage-text-partners-desmos-runs-on-modern-browser = Desmos Tools run on any modern browser with no downloads or installs. We also run seamlessly on iPhones, iPads, Android phones and tablets, Chromebooks, and Windows touch devices. We've seen just about every combination. We make sure our software runs on any modern browser, in nearly any configuration.\nfrontpage-text-partners-desmos-used-by-millions = Desmos is used by millions of students and teachers in nearly every country in the world and has been translated into 30 languages.\nfrontpage-text-partners-desmos-used-by-millions = Desmos Tools are used by millions of people globally, and are translated into a <1>variety of languages</1>{\".\"}\nfrontpage-text-partners-uptime = One of the Desmos Studio values is \"Works every time.\" This extends to the Desmos API. With greater than 99.99% uptime over the last 3 years, Desmos Tools provide the reliability your app or website needs. Better yet, we’ll deliver regular library builds that you can host on your own infrastructure.\nfrontpage-text-team-about-us = Our team works across 7 time zones, 2 hemispheres, and 18 states with 1 goal: to help every student learn math and love learning math. Want to join us? <1>We're hiring!</1>\nfrontpage-text-testmod-administer-test = <1>To administer a Secure Test:</1><2><3>Have students pin the app.</3><4>Tell the students not unpin the app.</4><5>At the end of the test, confirm that the screen was pinned for the entire test by checking the in-app clock.</5></2>\nfrontpage-text-testmod-feedback = We work to continuously improve our Test Mode apps, and we welcome your feedback on how we can support the best possible experience for your students and colleagues. Please email us at <1>feedback@desmos.com</1> with any questions or comments!\nfrontpage-text-testmode-android = Our <1>Android app</1> (currently in Beta testing) allows for offline practice.\nfrontpage-text-testmode-app-self-lock-mode-colors = While in App Self-Lock mode, the top bar of the calculator will change color according to the calculator in use: green for graphing, purple for scientific, blue for four function. There will also be a badge next to the Desmos logo.\nfrontpage-text-testmode-chromebooks = Our Chrome app allows for offline practice. You can download the Chrome app by visiting <1>bit.ly/desmos-test-mode-chrome-app</1> on the device. The <2>Chrome browser</2> must be installed on the device to use the Chrome Test Mode app.\nfrontpage-text-testmode-enable-guided-access = <1>To enable Guided Access:</1><2><3>Go to Settings > General > Accessibility > Guided Access.</3><4>Pick a passcode that needs to be entered.</4><5>Open up the Test Mode app.</5><6>Triple-click the Side or Home button.</6></2><7>This will lock the device to that app and won't allow the student to leave it without a code.</7>\nfrontpage-text-testmode-enable-screen-pinning = <1>To enter Screen Pinning:</1><2><3>Disable WiFi on your phone.</3><4>Enter Airplane Mode on your phone.</4><5>A \"Start Test\" button will appear. Click it.</5></2>\nfrontpage-text-testmode-exit-guided-access = <1>To exit Guided Access:</1><2><3>Triple-click the Side or Home button.</3><4>Enter the passcode that you chose.</4></2>\nfrontpage-text-testmode-four-function-calculator-app-self-lock-mode-caption = Four function calculator in App Self-Lock mode with a blue top bar.\nfrontpage-text-testmode-four-function-calculator-blue-top-bar = The secure four function calculator has a blue top bar.\nfrontpage-text-testmode-four-function-calculator-caption = Four function calculator in kiosk mode with a blue top bar.\nfrontpage-text-testmode-graphing-calculator-app-self-lock-mode-caption = Graphing calculator in App Self-Lock mode with a green top bar.\nfrontpage-text-testmode-graphing-calculator-kiosk-mode-caption = Graphing calculator in kiosk mode with a green top bar.\nfrontpage-text-testmode-guided-access = For additional security, you can lock the student into the app using <1>Guided Access</1>{\".\"}\nfrontpage-text-testmode-ipads-and-iphones = Our <1>iPad and iPhone app</1> allows for offline practice. The app also supports additional levels of security.\nfrontpage-text-testmode-kiosk-mode = Kiosk mode provides an extra level of security by preventing other apps from being used while the calculator is open. Students will be locked into the calculator configuration they choose before pressing \"Start Test\". Before you sign in, click “Apps” on the bottom bar and then select Desmos Test Mode. To exit kiosk mode, turn the Chromebook off.\nfrontpage-text-testmode-kiosk-mode-colors = While in kiosk mode, the top bar of the calculator will change color according to the calculator in use: green for graphing, purple for scientific, blue for four function. There will also be a badge next to the Desmos logo.\nfrontpage-text-testmode-levels-of-security = This page describes the various levels of security available through our apps, along with instructions for installation and usage.\nfrontpage-text-testmode-low-stakes-assessments = Each app lets you administer low-stakes, proctored assessments with security features to help enforce your school's or classroom's policies.\nfrontpage-text-testmode-partners = Desmos partners with high-stakes test providers in <1>over 35 states and on several national and international exams</1> to provide access to our calculators on testing day.\nfrontpage-text-testmode-practice = Students can practice using the calculators on our <1>Practice Page</1>{\".\"} We also provide free apps for <2>Chromebooks,</2> <3>iPads, and iPhones</3> to support practice.\nfrontpage-text-testmode-practice-apps-match-test-day = Our practice apps match the configuration that students will encounter on test day. Students can practice for a specific assessment by selecting \"Choose Assessment\" on the opening screen.\nfrontpage-text-testmode-scientific-calculator-app-self-lock-mode-caption = Scientific calculator in App Self-Lock mode with a purple top bar.\nfrontpage-text-testmode-scientific-calculator-caption = Scientific calculator in kiosk mode with a purple top bar.\nfrontpage-text-testmode-scientific-calculator-purple-top-bar = The secure scientific calculator has a purple top bar.\nfrontpage-text-testmode-screen-pinning-mode = Screen Pinning mode provides an extra level of security by preventing other apps from being used while the calculator is open.\nfrontpage-text-testmode-secure-graphing-calculator-green-top-bar = The secure graphing calculator has a green top bar.\nfrontpage-text-testmode-students-can-leave-app-self-lock-mode = Please note that students can leave App Self-Lock by clicking \"I'm Done\" before the end of the test. You can monitor appropriate usage by looking at the log at the conclusion of the test. It will show how long the student was continuously in the application.\nfrontpage-text-testmode-students-can-leave-chromebook-app = Please note that students can leave the app by powering down their Chromebook and restarting it. You can monitor appropriate usage by looking at the log at the conclusion of the test. It will show how long the student was continuously in the application.\nfrontpage-text-testmode-students-can-opt-into-app-self-lock = Students can opt into App Self-Lock by pressing the \"Start Test\" button. While in App Self-Lock, students will be locked into the calculator they selected before pressing \"Start Test\". They will not be able to switch calculators nor leave the app until they leave App Self-Lock.\nfrontpage-text-testmode-to-help-teachers-and-students-prepare = To help students and teachers prepare for assessments, and to support ongoing instruction and formative assessment needs, Desmos has developed a suite of Test Mode apps.\npractice-button-sc-info-pdf = { $stateName } PDF\npractice-button-state-info-pdf = { $stateName } Information PDF\npractice-heading-is-desmos-on-test = Is Desmos on your test?\npractice-heading-national-international-assessments = National and International Assessments\npractice-heading-practice = Practice\npractice-heading-privacy = Privacy\npractice-heading-questions-and-feedback = Additional Questions and Feedback\npractice-heading-state-assessments = State Assessments\npractice-heading-title-test-mode = Test Mode\npractice-heading-title-testing = Testing\npractice-label-desmos-on-test = Desmos is on the test!\npractice-label-desmos-on-test-apply-nysed = Apply to NYSED to use Desmos!\npractice-label-desmos-on-test-partial = Desmos can be used on the test\npractice-label-desmos-on-tests = Desmos is on the tests!\npractice-label-ib-middle-years = International Baccalaureate® (IB) Middle Years Programme (MYP)\npractice-label-nwea-map-growth = NWEA MAP® Growth™\npractice-label-sample = Sample\npractice-label-sbac = Smarter Balanced\npractice-label-state-test = State Test:\npractice-label-state-tests = State Tests:\npractice-label-states-ak-four-function-grades = Grades 5, 8 (Science)\npractice-label-states-ak-graphing-grades = Grade 9 (Math)\npractice-label-states-ak-scientific-grades = Grades 6-9 (Math), Grade 10 (Science)\npractice-label-states-al-four-function-grades = Grades 6-8 (Math), Grade 8 (Science)\npractice-label-states-al-scientific-grades = Grades 6-8 (Math), Grade 8 (Science)\npractice-label-states-az-four-function-grades = Grade 5 (Science)\npractice-label-states-az-graphing-grades = High School Math\npractice-label-states-az-scientific-grades = Grade 7-8 (Math), 8 & High School (Sci)\npractice-label-states-ca-four-function-grades = Grade 6 (Math), Grade 5 (Science)\npractice-label-states-ca-graphing-grades = Grade 11 (Math)\npractice-label-states-ca-scientific-grades = Grades 7-8 (Math), Grade 8, High School (Science)\npractice-label-states-ct-four-function-grades = Grade 6 (Math) Grade 5 (Sci)\npractice-label-states-ct-graphing-grades = High School\npractice-label-states-ct-scientific-grades = Grades 7-8 (Math), Grade 8 (Sci)\npractice-label-states-de-four-function-grades = Grade 6\npractice-label-states-de-graphing-grades = High School\npractice-label-states-de-scientific-grades = Grades 7-8\npractice-label-states-fl-scientific-grades = Grades 7-8\npractice-label-states-ga-four-function-grades = Grades 6-7\npractice-label-states-ga-graphing-grades = Grade 8 & High School\npractice-label-states-ga-scientific-grades = Grades 6-8 & High School\npractice-label-states-hi-four-function-grades = Grade 6 (Math), Grade 5 (Science)\npractice-label-states-hi-graphing-grades = Grade 11 (Math, Biology)\npractice-label-states-hi-scientific-grades = Grades 7-8 (Math), Grade 8 (Science)\npractice-label-states-ia-four-function-grades = Grades 3-6 (Mathematics), Grade 5 (Science)\npractice-label-states-ia-scientific-grades = Grades 7-11 (Mathematics), Grades 8 & 10 (Science)\npractice-label-states-id-four-function-grades = Grade 6 (Math), Grade 5 (Science)\npractice-label-states-id-graphing-grades = Grade 11 (Math), High School (Science)\npractice-label-states-id-scientific-grades = Grades 7-8 (Math), Grade 8 (Science)\npractice-label-states-in-four-function-grades = Grade 6 (Math) Grades 4, 6 (Sci), I AM\npractice-label-states-in-graphing-grades = High School (SAT Math)\npractice-label-states-in-scientific-grades = Grades 7-8 (Math), Biology\npractice-label-states-ky-four-function-grades = High School (Mathematics)\npractice-label-states-ky-graphing-grades = High School (Mathematics and Science)\npractice-label-states-ky-scientific-grades = High School (Mathematics)\npractice-label-states-la-graphing-grades = High School\npractice-label-states-ma-graphing-grades = Grades 8 & 10 (Mathematics)\npractice-label-states-ma-scientific-grades = High School (Introductory Physics)\npractice-label-states-md-four-function-grades = Grade 5 (Science), Grades 3-7 (Mathematics)\npractice-label-states-md-graphing-grades = High School (Mathematics)\npractice-label-states-md-scientific-grades = Grade 8 (Mathematics), Grade 8 (Science)\npractice-label-states-mi-four-function-grades = Grade 6\npractice-label-states-mi-scientific-grades = Grade 7\npractice-label-states-mo-four-function-grades = Grades 6-8 (Mathematics), Grade 5 & 8 (Science)\npractice-label-states-mo-graphing-grades = Grades 6-8 (Mathematics), Algebra I, Algebra II, Geometry, Grade 8 (Science), Physical Science, and Biology\npractice-label-states-mo-scientific-grades = Grades 6-8 (Mathematics), Grade 8 (Science)\npractice-label-states-ms-graphing-grades = Algebra 1\npractice-label-states-mt-four-function-grades = Grade 6 (Math), Grade 5 (Science)\npractice-label-states-mt-graphing-grades = Grade 11 (Math)\npractice-label-states-mt-scientific-grades = Grades 7-8 (Math), Grade 8 (Science)\npractice-label-states-nc-four-function-grades = Grades 3-5\npractice-label-states-nc-graphing-grades = Grade 8, Math 1, and above\npractice-label-states-nc-scientific-grades = Grades 6-8\npractice-label-states-nd-four-function-grades = Grade 6 (Math), Grade 4 (Science)\npractice-label-states-nd-graphing-grades = Grade 10 (Math, Science)\npractice-label-states-nd-scientific-grades = Grades 7-8 (Math) Grades8 (Science)\npractice-label-states-ne-four-function-grades = Grade 6\npractice-label-states-ne-scientific-grades = Grades 7-8 (Math), Biology\npractice-label-states-nh-graphing-grades = High School (Math)\npractice-label-states-nh-scientific-grades = Grades 6-8 (Math) Grades 5, 8, High School (Science)\npractice-label-states-nv-four-function-grades = Grade 5 (Science), Grade 6 (Mathematics)\npractice-label-states-nv-scientific-grades = Grades 7-8 (Mathematics), Grade 8, High School (Science)\npractice-label-states-ny-graphing-grades = High School (Mathematics)\npractice-label-states-oh-graphing-grades = High School\npractice-label-states-oh-scientific-grades = Grades 3-8\npractice-label-states-or-four-function-grades = Grade 6 (Math), Grade 5 (Science)\npractice-label-states-or-graphing-grades = Grade 11 (Math, Science)\npractice-label-states-or-scientific-grades = Grades 7-8 (Math), Grade 8 (Science)\npractice-label-states-pa-four-function-grades = Mathematics (Grades 4-8, Algebra 1), Science (Grades 4 and 8, Biology, CDT)\npractice-label-states-pa-graphing-grades = Mathematics (Algebra I, CDT)\npractice-label-states-pa-scientific-grades = Mathematics (Grades 6-8), Science (Grade 8, Biology, CDT)\npractice-label-states-ri-graphing-grades = Grade 8 (Mathematics), Grade 11 (Science)\npractice-label-states-sc-alt-four-function-grades = Grade 6, Alternate Assessments\npractice-label-states-sc-alt-scientific-grades = Grades 7, 8, 11, Alternate Assessments\npractice-label-states-sc-std-four-function-grades = Grades 6 (Math, Science)\npractice-label-states-sc-std-graphing-grades = Grades 7-8 (Math), Algebra 1, Biology\npractice-label-states-sc-std-scientific-grades = Grades 6 (Math, Science), 7-8 (Math), Algebra 1, Biology\npractice-label-states-sd-four-function-grades = Grade 6 (Math), Grade 5 (Science)\npractice-label-states-sd-graphing-grades = Grade 11 (Math), High School (Science)\npractice-label-states-sd-scientific-grades = Grades 7-8 (Math), Grade 8 (Science)\npractice-label-states-tn-graphing-grades = Algebra I–II, Geometry, Integrated Math I–III, and Biology\npractice-label-states-tn-scientific-grades = Grades 6-8 (Math and Science)\npractice-label-states-tx-four-function-grades = Grade 8 Science, Biology\npractice-label-states-tx-graphing-grades = Grade 8 Science, Biology, Grade 8 Math, Algebra 1, Algebra 2\npractice-label-states-tx-scientific-grades = Grade 8 Science, Biology\npractice-label-states-ut-graphing-grades = Grades 9-10 (Mathematics)\npractice-label-states-ut-scientific-grades = Grades 9-10 (Science)\npractice-label-states-va-four-function-grades = Grades 4-5\npractice-label-states-va-graphing-grades = High School\npractice-label-states-va-scientific-grades = Grades 6-8\npractice-label-states-vi-four-function-grades = Grade 6\npractice-label-states-vi-graphing-grades = Grades 10-11\npractice-label-states-vi-scientific-grades = Grades 7-8\npractice-label-states-vt-four-function-grades = Grade 6 (Math), Grade 5 (Science)\npractice-label-states-vt-graphing-grades = High School (Math, Science)\npractice-label-states-vt-scientific-grades = Grades 7-8 (Math), Grade 8 (Science)\npractice-label-states-wa-four-function-grades = Grade 6 (Math), Grade 5 (Science)\npractice-label-states-wa-graphing-grades = Grade 11 (Math), Grade 8, High School (Science)\npractice-label-states-wa-scientific-grades = Grades 7-8 (Math)\npractice-label-states-wv-four-function-grades = Grade 6\npractice-label-states-wv-graphing-grades = High School\npractice-label-states-wv-scientific-grades = Grades 7-8\npractice-label-states-wy-four-function-grades = Grade 6\npractice-label-states-wy-graphing-grades = High School\npractice-label-states-wy-scientific-grades = Grades 7-8\npractice-link-four-function = Four Function Calculator\npractice-link-graphing = Graphing Calculator\npractice-link-scientific = Scientific Calculator\npractice-narration-close-details = Close Details About { $stateName }\npractice-text-accessibility-information = Desmos is committed to helping every student love learning math. We are proud to say that the Desmos calculators are <1>WCAG 2.1 AA compliant. </1>The accessibility improvements we've made ensure students who are blind or visually impaired have the same opportunities as their peers to discover the joy of learning math. Please read more about this at <2>www.desmos.com/accessibility</2>{\".\"}\npractice-text-calculator-note = These calculators differ from the ones on our site. You can find more information in the PDF.\npractice-text-data-privacy = Additional rules apply for data privacy when dealing with children under 13. The <1>Four-Function</1> and <2>Scientific</2> calculators, which will be used by students under the age of 13, never request student data as there is no way to log in.\npractice-text-description-test-mode = Learn how to configure Test Mode to use Desmos calculators on assessments.\npractice-text-description-testing = Is Desmos on your test? Find out if the Desmos calculators are on your state assessments.\npractice-text-different-calculators-ib = Please note that these calculators differ from the ones on our site. You can find more information in <1>our overview PDF</1>{\".\"} Students can practice on the sample <2>Scientific Calculator</2>{\".\"}\npractice-text-different-calculators-nwea = Please note that these calculators differ from the ones on our site. You can find more information in <1>our overview PDF</1>{\".\"} Students can practice on the sample <2>Four Function</2> or <3>Scientific Calculator</3>{\".\"}\npractice-text-different-calculators-sbac = Desmos calculators are available on Smarter Balanced assessments. Please note that these calculators differ from the standard ones on our site. Students who reside in a Smarter Balanced member state or U.S. territory can practice with the calculators configured for specific test settings available below.\npractice-text-more-information = Interested in learning more about Desmos calculator found on your state or national assessment? Check out our <1>professional learning and development offerings</1>{\".\"}\npractice-text-national-international-assessments = Desmos is now available on national and international assessments! These assessments include:\npractice-text-practice-information = To help students and teachers prepare for assessments, and to support ongoing instruction and formative assessment needs, Desmos has developed a suite of Test Mode apps. Our practice apps match the configuration that students will encounter on test day. You can learn more at <1>www.desmos.com/test-mode</1>{\".\"}\npractice-text-privacy = During test administrations, Desmos will not receive any data about students. Vendors will host the Desmos technology directly on their servers and will not exchange any data with Desmos's servers. Furthermore, students do not need to sign in or provide any personal information about themselves to be able to practice with Desmos calculators before the test.\npractice-text-questions = We know this change may prompt additional questions from teachers, parents, and administrators. Please don't hesitate to email questions or feedback to <1>support@desmos.com</1>{\".\"}\npractice-text-state-assessments = Desmos is also available on a range of state assessments! Find your state below to learn more.\npractice-text-state-not-listed = If Desmos isn't on your state assessment yet, and you're interested in changing that, <1>please let us know!</1>\npractice-text-students-create-accounts = While practicing for the test, some 11th-grade students using <1>desmos.com/calculator</1> may choose to create accounts to be able to save work for a later time. We encourage everyone to review the <2>Desmos Privacy Policy</2>, which describes what information we collect from these users who are over the age of 13 and what we do with that information.\n",Dc=class{constructor(e){this.value=e}valueOf(){return this.value}},vi=class extends Dc{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}},ua=class extends Dc{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}},Ll=class extends Dc{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}},d1=100,kN="⁨",IN="⁩";function MN(e,t,n){if(n===t||n instanceof ua&&t instanceof ua&&n.value===t.value)return!0;if(t instanceof ua&&"string"==typeof n){if(n===e.memoizeIntlObject(Intl.PluralRules,t.opts).select(t.value))return!0}return!1}function u1(e,t,n){return t[n]?ep(e,t[n].value):(e.reportError(new RangeError("No default")),new vi)}function wE(e,t){let n=[],r=Object.create(null);for(let i of t)"narg"===i.type?r[i.name]=Og(e,i.value):n.push(Og(e,i));return{positional:n,named:r}}function Og(e,t){switch(t.type){case"str":return t.value;case"num":return new ua(t.value,{minimumFractionDigits:t.precision});case"var":return TN(e,t);case"mesg":return GN(e,t);case"term":return AN(e,t);case"func":return VN(e,t);case"select":return LN(e,t);default:return new vi}}function TN(e,{name:t}){let n;if(e.params){if(!Object.prototype.hasOwnProperty.call(e.params,t))return new vi(`$${t}`);n=e.params[t]}else{if(!e.args||!Object.prototype.hasOwnProperty.call(e.args,t))return e.reportError(new ReferenceError(`Unknown variable: $${t}`)),new vi(`$${t}`);n=e.args[t]}if(n instanceof Dc)return n;switch(typeof n){case"string":return n;case"number":return new ua(n);case"object":if(n instanceof Date)return new Ll(n.getTime());default:return e.reportError(new TypeError(`Variable type not supported: $${t}, ${typeof n}`)),new vi(`$${t}`)}}function GN(e,{name:t,attr:n}){let r=e.bundle._messages.get(t);if(!r)return e.reportError(new ReferenceError(`Unknown message: ${t}`)),new vi(t);if(n){let i=r.attributes[n];return i?ep(e,i):(e.reportError(new ReferenceError(`Unknown attribute: ${n}`)),new vi(`${t}.${n}`))}return r.value?ep(e,r.value):(e.reportError(new ReferenceError(`No value: ${t}`)),new vi(t))}function AN(e,{name:t,attr:n,args:r}){let i=`-${t}`,o=e.bundle._terms.get(i);if(!o)return e.reportError(new ReferenceError(`Unknown term: ${i}`)),new vi(i);if(n){let t=o.attributes[n];if(t){e.params=wE(e,r).named;let n=ep(e,t);return e.params=null,n}return e.reportError(new ReferenceError(`Unknown attribute: ${n}`)),new vi(`${i}.${n}`)}e.params=wE(e,r).named;let a=ep(e,o.value);return e.params=null,a}function VN(e,{name:t,args:n}){let r=e.bundle._functions[t];if(!r)return e.reportError(new ReferenceError(`Unknown function: ${t}()`)),new vi(`${t}()`);if("function"!=typeof r)return e.reportError(new TypeError(`Function ${t}() is not callable`)),new vi(`${t}()`);try{let t=wE(e,n);return r(t.positional,t.named)}catch(n){return e.reportError(n),new vi(`${t}()`)}}function LN(e,{selector:t,variants:n,star:r}){let i=Og(e,t);if(i instanceof vi)return u1(e,n,r);for(let t of n){if(MN(e,i,Og(e,t.key)))return ep(e,t.value)}return u1(e,n,r)}function vE(e,t){if(e.dirty.has(t))return e.reportError(new RangeError("Cyclic reference")),new vi;e.dirty.add(t);let n=[],r=e.bundle._useIsolating&&t.length>1;for(let i of t)if("string"!=typeof i){if(e.placeables++,e.placeables>d1)throw e.dirty.delete(t),new RangeError(`Too many placeables expanded: ${e.placeables}, max allowed is ${d1}`);r&&n.push(kN),n.push(Og(e,i).toString(e)),r&&n.push(IN)}else n.push(e.bundle._transform(i));return e.dirty.delete(t),n.join("")}function ep(e,t){return"string"==typeof t?e.bundle._transform(t):vE(e,t)}var Dx=class{constructor(e,t,n){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=n}reportError(e){if(!this.errors)throw e;this.errors.push(e)}memoizeIntlObject(e,t){let n=this.bundle._intls.get(e);n||(n={},this.bundle._intls.set(e,n));let r=JSON.stringify(t);return n[r]||(n[r]=new e(this.bundle.locales,t)),n[r]}};function p1(e,t){let n=Object.create(null);for(let[r,i]of Object.entries(e))t.includes(r)&&(n[r]=i.valueOf());return n}var PN=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function h1(e,t){let n=e[0];if(n instanceof vi)return new vi(`NUMBER(${n.valueOf()})`);if(n instanceof ua||n instanceof Ll)return new ua(n.valueOf(),__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},n.opts),p1(t,PN)));throw new TypeError("Invalid argument to NUMBER")}var ON=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function g1(e,t){let n=e[0];if(n instanceof vi)return new vi(`DATETIME(${n.valueOf()})`);if(n instanceof ua||n instanceof Ll)return new Ll(n.valueOf(),__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},n.opts),p1(t,ON)));throw new TypeError("Invalid argument to DATETIME")}var _g=class{constructor(e,{functions:t,useIsolating:n=!0,transform:r=(e=>e)}={}){this._terms=new Map,this._messages=new Map,this._intls=new WeakMap,this.locales=Array.isArray(e)?e:[e],this._functions=__dcg_shared_module_exports__.b({NUMBER:h1,DATETIME:g1},t),this._useIsolating=n,this._transform=r}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){let n=[];for(let r=0;r<e.body.length;r++){let i=e.body[r];if(i.id.startsWith("-")){if(!1===t&&this._terms.has(i.id)){n.push(new Error(`Attempt to override an existing term: "${i.id}"`));continue}this._terms.set(i.id,i)}else{if(!1===t&&this._messages.has(i.id)){n.push(new Error(`Attempt to override an existing message: "${i.id}"`));continue}this._messages.set(i.id,i)}}return n}formatPattern(e,t=null,n=null){if("string"==typeof e)return this._transform(e);let r=new Dx(this,n,t);try{return vE(r,e).toString(r)}catch(e){if(r.errors)return r.errors.push(e),(new vi).toString(r);throw e}}},CE=/^(-?[a-zA-Z][\w-]*) *= */gm,f1=/\.([a-zA-Z][\w-]*) *= */y,_N=/\*?\[/y,SE=/(-?[0-9]+(?:\.([0-9]+))?)/y,FN=/([a-zA-Z][\w-]*)/y,m1=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,RN=/^[A-Z][A-Z0-9_-]*$/,kx=/([^{}\n\r]+)/y,NN=/([^\\"\n\r]*)/y,y1=/\\([\\"])/y,b1=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,BN=/^\n+/,x1=/ +$/,KN=/ *\r?\n/g,UN=/( *)$/,qN=/{\s*/y,w1=/\s*}/y,HN=/\[\s*/y,$N=/\s*] */y,zN=/\s*\(\s*/y,WN=/\s*->\s*/y,jN=/\s*:\s*/y,YN=/\s*,?\s*/y,JN=/\s+/y,tp=class{constructor(e){this.body=[],CE.lastIndex=0;let t=0;for(;;){let n=CE.exec(e);if(null===n)break;t=CE.lastIndex;try{this.body.push(s(n[1]))}catch(e){if(e instanceof SyntaxError)continue;throw e}}function n(n){return n.lastIndex=t,n.test(e)}function r(n,r){if(e[t]===n)return t++,!0;if(r)throw new r(`Expected ${n}`);return!1}function i(e,r){if(n(e))return t=e.lastIndex,!0;if(r)throw new r(`Expected ${e.toString()}`);return!1}function o(n){n.lastIndex=t;let r=n.exec(e);if(null===r)throw new SyntaxError(`Expected ${n.toString()}`);return t=n.lastIndex,r}function a(e){return o(e)[1]}function s(e){let t=l(),r=function(){let e=Object.create(null);for(;n(f1);){let t=a(f1),n=l();if(null===n)throw new SyntaxError("Expected attribute value");e[t]=n}return e}();if(null===t&&0===Object.keys(r).length)throw new SyntaxError("Expected message value or attributes");return{id:e,value:t,attributes:r}}function l(){let r;if(n(kx)&&(r=a(kx)),"{"===e[t]||"}"===e[t])return c(r?[r]:[],1/0);let i=y();return i?r?c([r,i],i.length):(i.value=b(i.value,BN),c([i],i.length)):r?b(r,x1):null}function c(r=[],i){for(;;){if(n(kx)){r.push(a(kx));continue}if("{"===e[t]){r.push(d());continue}if("}"===e[t])throw new SyntaxError("Unbalanced closing brace");let o=y();if(!o)break;r.push(o),i=Math.min(i,o.length)}let o=r.length-1,s=r[o];"string"==typeof s&&(r[o]=b(s,x1));let l=[];for(let e of r)e instanceof Ix&&(e=e.value.slice(0,e.value.length-i)),e&&l.push(e);return l}function d(){i(qN,SyntaxError);let e=p();if(i(w1))return e;if(i(WN)){let t=function(){let e,t=[],i=0;for(;n(_N);){r("*")&&(e=i);let n=h(),o=l();if(null===o)throw new SyntaxError("Expected variant value");t[i++]={key:n,value:o}}if(0===i)return null;if(void 0===e)throw new SyntaxError("Expected default variant");return{variants:t,star:e}}();return i(w1,SyntaxError),__dcg_shared_module_exports__.b({type:"select",selector:e},t)}throw new SyntaxError("Unclosed placeable")}function p(){if("{"===e[t])return d();if(n(m1)){let[,n,r,a=null]=o(m1);if("$"===n)return{type:"var",name:r};if(i(zN)){let o=function(){let n=[];for(;;){switch(e[t]){case")":return t++,n;case void 0:throw new SyntaxError("Unclosed argument list")}n.push(u()),i(YN)}}();if("-"===n)return{type:"term",name:r,attr:a,args:o};if(RN.test(r))return{type:"func",name:r,args:o};throw new SyntaxError("Function names must be all upper-case")}return"-"===n?{type:"term",name:r,attr:a,args:[]}:{type:"mesg",name:r,attr:a}}return g()}function u(){let e=p();return"mesg"!==e.type?e:i(jN)?{type:"narg",name:e.name,value:g()}:e}function h(){let e;return i(HN,SyntaxError),e=n(SE)?m():{type:"str",value:a(FN)},i($N,SyntaxError),e}function g(){if(n(SE))return m();if('"'===e[t])return function(){r('"',SyntaxError);let n="";for(;;){if(n+=a(NN),"\\"!==e[t]){if(r('"'))return{type:"str",value:n};throw new SyntaxError("Unclosed string literal")}n+=f()}}();throw new SyntaxError("Invalid expression")}function m(){let[,e,t=""]=o(SE),n=t.length;return{type:"num",value:parseFloat(e),precision:n}}function f(){if(n(y1))return a(y1);if(n(b1)){let[,e,t]=o(b1),n=parseInt(e||t,16);return n<=55295||57344<=n?String.fromCodePoint(n):"�"}throw new SyntaxError("Unknown escape sequence")}function y(){let n=t;switch(i(JN),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return x(e.slice(n,t))}return" "===e[t-1]&&x(e.slice(n,t))}function b(e,t){return e.replace(t,"")}function x(e){let t=e.replace(KN,"\n"),n=UN.exec(e)[1].length;return new Ix(t,n)}}},Ix=class{constructor(e,t){this.value=e,this.length=t}},QN=["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"],zo=class{constructor(e){this.value=e}},rp=class{constructor(e,t){this.bundles=e,this.onError=t}static fromSources(e,t,n){let r=[];for(let{lang:t,source:i}of e){let e=t.split("-")[0],o=new _g(t,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{useIsolating:QN.indexOf(e)>=0}));o.addResource(new tp(i),{allowOverrides:!1}),o.addResource(new tp('\nl10n-internal-date-day-month-year = {DATETIME($d, month: "short", day: "numeric", year: "numeric")}\nl10n-internal-date-day-month = {DATETIME($d, month: "short", day: "numeric")}\nl10n-internal-time = {DATETIME($d, minute: "numeric", hour: "numeric")}\n      '),{allowOverrides:!1}),r.push(o)}return new rp(r,t)}format(e,t){for(let n of this.bundles){if(!n.hasMessage(e))continue;let r=n.getMessage(e);if(null==r||!r.value)return;let i=[],o=n.formatPattern(r.value,this.coerceNumericVariables(t),i);for(let t of i)this.onError(`Error formatting ${e} for locale ${n.locales.join(",")}: ${t}`);return o}this.onError(`Couldn't find message for key ${e} for locales ${this.getLocales().join(",")}`)}formatDate(e,t){return t.showYear?this.format("l10n-internal-date-day-month-year",{d:e}):this.format("l10n-internal-date-day-month",{d:e})}formatTime(e){let t=this.format("l10n-internal-time",{d:e});return"en"===this.getLocales()[0]?null==t?void 0:t.toLowerCase():t}hasTranslation(e,t){for(let n of this.bundles)if(n.locales.indexOf(t)>=0)return n.hasMessage(e);return!1}coerceNumericVariables(e){let t={};for(let n in e){let r=e[n];t[n]=r instanceof zo?r.value:"number"==typeof r?`${r}`:r}return t}getLocales(){return this.bundles.reduce(((e,t)=>e.concat(t.locales)),[])}},Mx="",EE={},v1={},DE={},ZN=["ar","hy-AM","hi","tr","xx-XX"];function Tx(e){Mx=e||""}function kE(e){for(let t in e)delete DE[t],v1[t]=e[t]}function IE(e,t){let n=null!=t?t:Mx;return S1(n).hasTranslation(e,n)}function Aa(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&(e=e.split("__"+n+"__").join(t[n]));return e}function Fg(e,t,n){return C1(e,null!=t?t:{},null!=n?n:Mx)}function Pl(e){return function(t,n){return C1(t,null!=n?n:{},e())}}function eB(e){let t={};for(let n in e){let r=e[n];void 0!==r&&(t[n]=r)}return t}function C1(e,t,n){let r=S1(n).format(e,eB(t));return null==r?(__dcg_shared_module_exports__.Hc.warn(`Could not format string ${e}`),""):r}function S1(e){let t=DE[e];if(!t){EE[e]||(EE[e]=Ex([e]));let n=[];for(let t of EE[e]){let e=v1[t];e&&n.push({lang:t,source:e})}let r={};"xx-XX"===e&&(r.transform=e=>e.replace(/[a-z]/gi,"♦")),t=DE[e]=rp.fromSources([...n,{lang:"en",source:c1}],(e=>{__dcg_shared_module_exports__.Hc.warn(e)}),r)}return t}function ME(){return Mx}function TE(e){return yd.hasOwnProperty(e)||__dcg_shared_module_exports__.pa(ZN,e)}function ip(e,t){if(null==e)return"";if("string"==typeof e)return e;if("number"==typeof e)return""+e;let n,r=e.vars;if(r){n={};for(let e in r)r.hasOwnProperty(e)&&(n[e]=ip(r[e],t))}return Fg(e.key,n,t)}var tB=void 0!==Desmos&&Desmos.localeData?Desmos.localeData:{};function rB(){for(var e=Ex([fu("language"),navigator.userLanguage,navigator.language]),t=0;t<e.length;t++){var n=e[t];if(TE(n))return n}return"en"}function Gx(e){var t=P.Deferred();if(void 0===Desmos)return t.reject(),t.promise();if(Desmos.supportedLanguages||(Desmos.supportedLanguages=[]),Desmos.supportedLanguages.indexOf(e)>=0||"en"===e||"xx-XX"===e)return Tx(e),t.resolve(!0),t.promise();if(!TE(e)){let t=-1!==e.indexOf("-")?e.split("-")[0]:e;for(let n in yd)if(t===n.split("-")[0]&&yd[n].useAsRoot){e=n;break}}return P.get(`/api/v1/calculator/language/${e}.ftl`,wu,(function(n){Desmos.localeData||(Desmos.localeData={}),Desmos.supportedLanguages||(Desmos.supportedLanguages=[]),Desmos.localeData[e]=n[e],Desmos.supportedLanguages.push(e),kE(Desmos.localeData),Tx(e),t.resolve(!0)})).fail((function(n){404===n.status&&__dcg_shared_module_exports__.Hc.warn(e+" is not an available language."),t.reject()})),t.promise()}kE(tB),Tx(rB());var iB=30,nB=10,Ax=__dcg_shared_module_exports__.gc.RED,Vx=__dcg_shared_module_exports__.gc.BLUE,Lx=__dcg_shared_module_exports__.gc.GREEN,Px=__dcg_shared_module_exports__.gc.PURPLE,Ox=__dcg_shared_module_exports__.gc.ORANGE,_x=__dcg_shared_module_exports__.gc.BLACK;function bd(e,t){switch(t){case __dcg_shared_module_exports__.gc.RED:return e.s("graphing-calculator-text-color-red");case __dcg_shared_module_exports__.gc.BLUE:return e.s("graphing-calculator-text-color-blue");case __dcg_shared_module_exports__.gc.GREEN:return e.s("graphing-calculator-text-color-green");case __dcg_shared_module_exports__.gc.PURPLE:return e.s("graphing-calculator-text-color-purple");case __dcg_shared_module_exports__.gc.ORANGE:return e.s("graphing-calculator-text-color-orange");case __dcg_shared_module_exports__.gc.BLACK:return e.s("graphing-calculator-text-color-black");case __dcg_shared_module_exports__.gc.GRAY:return e.s("graphing-calculator-text-color-gray");default:return e.s("graphing-calculator-text-color-unknown")}}var GE=e=>{if(!Array.isArray(e))return[e];let t=Array(Math.min(e.length,nB));for(let n=0;n<t.length;n++)t[n]=e[Math.round(n*e.length/t.length)];return t},E1=e=>GE(e).every(SS),Fx=e=>GE(e).some(SS),Rx=e=>{let t=GE(e);if(0===t.length)return __dcg_shared_module_exports__.gc.BLACK;if(1===t.length)return t[0];let n=iB/t.length;return`linear-gradient(to right${t.reduce(((e,t,r)=>`${e}, ${t} ${r*n}px, ${t} ${(r+1)*n}px`),"")})`};function Ng(e,t){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e)return!0;return!1}function AE(e){return Ng(e,LE)}function VE(e){return Ng(e,PE)}function k1(e){return Ng(e,OE)}function oB(e){return Ng(e,Rg)}function aB(e){return Ng(e,_E)}var LE={OPEN:"OPEN",CROSS:"CROSS",POINT:"POINT"},PE={SOLID:"SOLID",DASHED:"DASHED",DOTTED:"DOTTED"},OE={NONE:"NONE",AUTO:"AUTO",X:"X",Y:"Y",XY:"XY"},Rg={POINTS:"POINTS",LINES:"LINES",POINTS_AND_LINES:"POINTS_AND_LINES"},_E={DEFAULT:"default",CENTER:"center",CENTER_AUTO:"center_auto",AUTO_CENTER:"auto_center",ABOVE:"above",ABOVE_LEFT:"above_left",ABOVE_RIGHT:"above_right",ABOVE_AUTO:"above_auto",BELOW:"below",BELOW_LEFT:"below_left",BELOW_RIGHT:"below_right",BELOW_AUTO:"below_auto",LEFT:"left",AUTO_LEFT:"auto_left",RIGHT:"right",AUTO_RIGHT:"auto_right"};function sB(e){return{id:e.id,type:e.type,columns:e.columns.map(lB)}}function lB(e){return{id:e.id,latex:e.latex,color:e.color,hidden:e.hidden,pointStyle:e.pointStyle,pointSize:e.pointSize,pointOpacity:e.pointOpacity,lineStyle:e.lineStyle,lineWidth:e.lineWidth,lineOpacity:e.lineOpacity,points:e.points,lines:e.lines,dragMode:e.dragMode,values:e.values.slice()}}function cB(e){var t={id:e.id,type:e.type};return["latex","color","lineStyle","lineWidth","lineOpacity","pointStyle","pointSize","pointOpacity","points","lines","fill","fillOpacity","hidden","secret","dragMode","label","showLabel","labelSize","labelOrientation","interactiveLabel","readonly"].forEach((function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),e.hasOwnProperty("parametricDomain")&&(t.parametricDomain={min:e.parametricDomain.min,max:e.parametricDomain.max}),e.hasOwnProperty("polarDomain")&&(t.polarDomain={min:e.polarDomain.min,max:e.polarDomain.max}),e.hasOwnProperty("domain")&&(t.domain={min:e.domain.min,max:e.domain.max}),e.slider&&(e.slider.hardMin&&(t.sliderBounds=t.sliderBounds||{},t.sliderBounds.min=e.slider.min),e.slider.hardMax&&(t.sliderBounds=t.sliderBounds||{},t.sliderBounds.max=e.slider.max),e.slider.step&&(t.sliderBounds=t.sliderBounds||{},t.sliderBounds.step=e.slider.step),t.playing=!!e.slider.isPlaying),t}function dB(e){return{id:e.id,type:e.type,hidden:e.hidden,secret:e.secret}}function uB(e){return{id:e.id,type:e.type,hidden:e.hidden,secret:e.secret}}function pB(e){return{id:e.id,type:e.type,secret:e.secret}}function Nx(e){switch(e.type){case"expression":return cB(e);case"table":return sB(e);case"folder":return uB(e);case"image":return dB(e);case"text":return pB(e);default:return e}}function np(e,t){return e.hasOwnProperty("id")?e.id+"":t.generateId()}function hB(e,t){var n={type:("expression","expression"),id:np(e,t)};if(n.id=np(e,t),e.hasOwnProperty("latex")&&(n.latex=e.latex+""),e.hasOwnProperty("color")&&(n.color=e.color+""),e.hasOwnProperty("points")&&(n.points=!!e.points),e.hasOwnProperty("lines")&&(n.lines=!!e.lines),e.hasOwnProperty("style")&&(__dcg_shared_module_exports__.Hc.warn("As of API v1.1 the 'style' property is deprecated and has been split into 'pointStyle' and 'lineStyle'."),AE(e.style)?n.pointStyle=e.style:VE(e.style)?n.lineStyle=e.style:__dcg_shared_module_exports__.Hc.warn("Invalid style: '"+e.style+"'.")),e.hasOwnProperty("pointStyle")&&(AE(e.pointStyle)?n.pointStyle=e.pointStyle:__dcg_shared_module_exports__.Hc.warn("Invalid pointStyle: '"+e.pointStyle+"'.")),e.hasOwnProperty("pointSize")&&(n.pointSize=""+e.pointSize),e.hasOwnProperty("pointOpacity")&&(n.pointOpacity=""+e.pointOpacity),e.hasOwnProperty("lineStyle")&&(VE(e.lineStyle)?n.lineStyle=e.lineStyle:__dcg_shared_module_exports__.Hc.warn("Invalid lineStyle: '"+e.lineStyle+"'.")),e.hasOwnProperty("lineWidth")&&(n.lineWidth=""+e.lineWidth),e.hasOwnProperty("lineOpacity")&&(n.lineOpacity=""+e.lineOpacity),e.hasOwnProperty("hidden")&&(n.hidden=!!e.hidden),e.hasOwnProperty("readonly")&&(n.readonly=!!e.readonly),e.hasOwnProperty("secret")&&(n.secret=!!e.secret),e.hasOwnProperty("sliderBounds")&&e.sliderBounds&&(n.slider={min:__dcg_shared_module_exports__.Yb(e.sliderBounds.min),max:__dcg_shared_module_exports__.Yb(e.sliderBounds.max),step:__dcg_shared_module_exports__.Yb(e.sliderBounds.step)},n.slider.min&&(n.slider.hardMin=!0),n.slider.max&&(n.slider.hardMax=!0)),e.hasOwnProperty("playing")){let{playing:t}=e;"boolean"!=typeof t?__dcg_shared_module_exports__.Hc.warn(`Invalid value for 'playing'. Expected a boolean but got '${t}'.`):(n.slider||(n.slider={}),n.slider.isPlaying=t)}return e.hasOwnProperty("parametricDomain")&&e.parametricDomain?(n.parametricDomain={min:__dcg_shared_module_exports__.Yb(e.parametricDomain.min),max:__dcg_shared_module_exports__.Yb(e.parametricDomain.max)},e.hasOwnProperty("domain")&&__dcg_shared_module_exports__.Hc.warn("Both 'parametricDomain' and the deprecated 'domain' property were specified. Using 'parametricDomain'.")):e.hasOwnProperty("domain")&&(__dcg_shared_module_exports__.Hc.warn("The 'domain' property is deprecated.Use 'parametricDomain' to specify the domain for parametric functions"),n.parametricDomain={min:__dcg_shared_module_exports__.Yb(e.domain.min),max:__dcg_shared_module_exports__.Yb(e.domain.max)}),e.hasOwnProperty("polarDomain")&&e.polarDomain&&(n.polarDomain={min:__dcg_shared_module_exports__.Yb(e.polarDomain.min),max:__dcg_shared_module_exports__.Yb(e.polarDomain.max)}),e.hasOwnProperty("dragMode")&&(k1(e.dragMode)?n.dragMode=e.dragMode:__dcg_shared_module_exports__.Hc.warn("Invalid dragMode: '"+e.dragMode+"'.")),e.hasOwnProperty("label")&&(n.label=e.label+""),e.hasOwnProperty("showLabel")&&(n.showLabel=!!e.showLabel),e.hasOwnProperty("labelSize")&&("string"==typeof e.labelSize?n.labelSize=e.labelSize:__dcg_shared_module_exports__.Hc.warn("Invalid labelSize: "+e.labelSize)),e.hasOwnProperty("labelOrientation")&&(aB(e.labelOrientation)?n.labelOrientation=e.labelOrientation:__dcg_shared_module_exports__.Hc.warn("Invalid labelOrientation: "+e.labelOrientation)),e.hasOwnProperty("fill")&&(n.fill=!!e.fill),e.hasOwnProperty("fillOpacity")&&(n.fillOpacity=""+e.fillOpacity),n}function gB(e,t){var n={id:np(e,t)};return e.hasOwnProperty("latex")&&(n.latex=e.latex+""),e.hasOwnProperty("color")&&(n.color=e.color+""),e.hasOwnProperty("hidden")&&(n.hidden=!!e.hidden),e.hasOwnProperty("points")&&(n.points=!!e.points),e.hasOwnProperty("lines")&&(n.lines=!!e.lines),e.hasOwnProperty("values")&&e.values&&(n.values=e.values.map((function(e){return e+""}))),e.hasOwnProperty("pointStyle")&&(AE(e.pointStyle)?n.pointStyle=e.pointStyle:__dcg_shared_module_exports__.Hc.warn("Invalid pointStyle: '"+e.pointStyle+"'.")),e.hasOwnProperty("pointSize")&&(n.pointSize=""+e.pointSize),e.hasOwnProperty("pointOpacity")&&(n.pointOpacity=""+e.pointOpacity),e.hasOwnProperty("lineStyle")&&(VE(e.lineStyle)?n.lineStyle=e.lineStyle:__dcg_shared_module_exports__.Hc.warn("Invalid lineStyle: '"+e.lineStyle+"'.")),e.hasOwnProperty("lineWidth")&&(n.lineWidth=""+e.lineWidth),e.hasOwnProperty("lineOpacity")&&(n.lineOpacity=""+e.lineOpacity),e.hasOwnProperty("columnMode")&&(__dcg_shared_module_exports__.Hc.warn("As of API v1.1 the 'columnMode' property is deprecated and has been split into individual 'points' and 'lines' properties."),e.columnMode===Rg.POINTS_AND_LINES?(n.points=!0,n.lines=!0):e.columnMode===Rg.LINES?(n.points=!1,n.lines=!0):(n.points=!0,n.lines=!1),n.lines&&!n.points&&e.hasOwnProperty("dragMode")&&"NONE"!==e.dragMode&&(__dcg_shared_module_exports__.Hc.warn("A 'lines' value of true and 'points' value of false is only compatible with a dragMode of 'NONE'. Proceeding by setting 'points' to true."),n.points=!0),oB(e.columnMode)&&__dcg_shared_module_exports__.Hc.warn("Invalid columnMode: '"+e.columnMode+"'.")),e.hasOwnProperty("dragMode")&&(k1(e.dragMode)?n.dragMode="AUTO"===e.dragMode?"NONE":e.dragMode:__dcg_shared_module_exports__.Hc.warn("Invalid dragMode: '"+e.dragMode+"'.")),n}function fB(e,t){var n={type:"table",id:np(e,t)};return e.hasOwnProperty("columns")&&e.columns&&(n.columns=e.columns.map((function(e){return gB(e,t)}))),n}function mB(e,t){var n={type:"folder",id:np(e,t)};return e.hasOwnProperty("hidden")&&(n.hidden=!!e.hidden),n}function yB(e,t){var n={type:"image",id:np(e,t)};return e.hasOwnProperty("hidden")&&(n.hidden=!!e.hidden),n}function Bx(e,t,n){var r=e.type;if(t&&r&&r!==t)__dcg_shared_module_exports__.Hc.warn("Cannot change type of expression from '"+t+"' to '"+r+"'.");else switch(r){case void 0:case"expression":return hB(e,n);case"image":return yB(e,n);case"table":return fB(e,n);case"folder":return mB(e,n);default:return t?void __dcg_shared_module_exports__.Hc.warn("Cannot modify expressions of type: '"+t+"' through the API."):void __dcg_shared_module_exports__.Hc.warn("Invalid expression type: '"+r+"'.")}}var Kx={};__dcg_shared_module_exports__.h(Kx,{LARGE:()=>wB,MEDIUM:()=>FE,SMALL:()=>xB,VERY_LARGE:()=>vB,VERY_SMALL:()=>bB});var bB=9,xB=12,FE=16,wB=20,vB=24,lt=function(e,t,n){var r,i,o=document.createElement("img");if(o.onerror=t,o.onload=function(){i&&!(n&&n.noRevoke)&&lt.revokeObjectURL(i),t&&t(lt.scale(o,n))},lt.isInstanceOf("Blob",e)||lt.isInstanceOf("File",e))r=i=lt.createObjectURL(e),o._type=e.type;else{if("string"!=typeof e)return!1;r=e,n&&n.crossOrigin&&(o.crossOrigin=n.crossOrigin)}return r?(o.src=r,o):lt.readFile(e,(function(e){var n=e.target;n&&n.result?o.src=n.result:t&&t(e)}))},Ux=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;lt.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},lt.transformCoordinates=function(){},lt.getTransformedOptions=function(e){return e},lt.renderImageToCanvas=function(e,t,n,r,i,o,a,s,l,c){return e.getContext("2d").drawImage(t,n,r,i,o,a,s,l,c),e},lt.hasCanvasOption=function(e){return e.canvas||e.crop},lt.scale=function(e,t){t=t||{};var n,r,i,o,a,s,l,c,d,p=document.createElement("canvas"),u=e.getContext||lt.hasCanvasOption(t)&&p.getContext,h=e.naturalWidth||e.width,g=e.naturalHeight||e.height,m=h,f=g,y=function(){var e=Math.max((i||m)/m,(o||f)/f);e>1&&(m=Math.ceil(m*e),f=Math.ceil(f*e))},b=function(){var e=Math.min((n||m)/m,(r||f)/f);e<1&&(m=Math.ceil(m*e),f=Math.ceil(f*e))};return u&&(l=(t=lt.getTransformedOptions(t)).left||0,c=t.top||0,t.sourceWidth?(a=t.sourceWidth,void 0!==t.right&&void 0===t.left&&(l=h-a-t.right)):a=h-l-(t.right||0),t.sourceHeight?(s=t.sourceHeight,void 0!==t.bottom&&void 0===t.top&&(c=g-s-t.bottom)):s=g-c-(t.bottom||0),m=a,f=s),n=t.maxWidth,r=t.maxHeight,i=t.minWidth,o=t.minHeight,u&&n&&r&&t.crop?(m=n,f=r,(d=a/s-n/r)<0?(s=r*a/n,void 0===t.top&&void 0===t.bottom&&(c=(g-s)/2)):d>0&&(a=n*s/r,void 0===t.left&&void 0===t.right&&(l=(h-a)/2))):((t.contain||t.cover)&&(i=n=n||i,o=r=r||o),t.cover?(b(),y()):(y(),b())),u?(p.width=m,p.height=f,lt.transformCoordinates(p,t),lt.renderImageToCanvas(p,e,l,c,a,s,0,0,m,f)):(e.width=m,e.height=f,e)},lt.createObjectURL=function(e){return!!Ux&&Ux.createObjectURL(e)},lt.revokeObjectURL=function(e){return!!Ux&&Ux.revokeObjectURL(e)},lt.readFile=function(e,t,n){if(window.FileReader){var r=new FileReader;if(r.onload=r.onerror=t,r[n=n||"readAsDataURL"])return r[n](e),r}return!1},(!window.navigator||!window.navigator.platform||!/iP(hone|od|ad)/.test(window.navigator.platform))&&(I1=lt.renderImageToCanvas,lt.detectSubsampling=function(e){var t,n;return e.width*e.height>1048576&&((t=document.createElement("canvas")).width=t.height=1,(n=t.getContext("2d")).drawImage(e,1-e.width,0),0===n.getImageData(0,0,1,1).data[3])},lt.detectVerticalSquash=function(e,t){var n,r,i,o,a=e.naturalHeight||e.height,s=document.createElement("canvas"),l=s.getContext("2d");for(t&&(a/=2),s.width=1,s.height=a,l.drawImage(e,0,0),n=l.getImageData(0,0,1,a).data,r=0,i=a,o=a;o>r;)0===n[4*(o-1)+3]?i=o:r=o,o=i+r>>1;return o/a||1},lt.renderImageToCanvas=function(e,t,n,r,i,o,a,s,l,c){if("image/jpeg"===t._type){var d,p,u,h,g=e.getContext("2d"),m=document.createElement("canvas"),f=1024,y=m.getContext("2d");if(m.width=f,m.height=f,g.save(),(d=lt.detectSubsampling(t))&&(n/=2,r/=2,i/=2,o/=2),p=lt.detectVerticalSquash(t,d),d||1!==p){for(r*=p,l=Math.ceil(f*l/i),c=Math.ceil(f*c/o/p),s=0,h=0;h<o;){for(a=0,u=0;u<i;)y.clearRect(0,0,f,f),y.drawImage(t,n,r,i,o,-u,-h,i,o),g.drawImage(m,0,0,f,f,a,s,l,c),u+=f,a+=l;h+=f,s+=c}return g.restore(),e}}return I1(e,t,n,r,i,o,a,s,l,c)});var I1,CB=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);lt.blobSlice=CB&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},lt.metaDataParsers={jpeg:{65505:[]}},lt.parseMetaData=function(e,t,n){var r=this,i=(n=n||{}).maxMetaDataSize||262144,o={};(!(window.DataView&&e&&e.size>=12&&"image/jpeg"===e.type&&lt.blobSlice)||!lt.readFile(lt.blobSlice.call(e,0,i),(function(e){var i,a,s,l,c=e.target.result,d=new DataView(c),p=2,u=d.byteLength-4,h=p;if(65496===d.getUint16(0)){for(;p<u&&((i=d.getUint16(p))>=65504&&i<=65519||65534===i);){if(p+(a=d.getUint16(p+2)+2)>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(s=lt.metaDataParsers.jpeg[i])for(l=0;l<s.length;l+=1)s[l].call(r,d,p,a,o,n);h=p+=a}!n.disableImageHead&&h>6&&(c.slice?o.imageHead=c.slice(0,h):o.imageHead=new Uint8Array(c).subarray(0,h))}else console.log("Invalid JPEG file: Missing JPEG marker.");t(o)}),"readAsArrayBuffer"))&&t(o)};var SB=lt.hasCanvasOption;function M1(e,t){for(var n,r=[.92,.86,.8,.7,.6,.5,.4,.3,.2,.1],i=0;i<r.length;i++)if((n=e.toDataURL("image/jpeg",r[i])).length<t)return n;return n}function EB(e,t){for(var n,r=e.toDataURL().length,i=e.width,o=e.height,a=document.createElement("canvas"),s=0;s<2;s++){var l=Math.sqrt(t/r);if(i=Math.round(l*i),o=Math.round(l*o),a.height=o,a.width=i,a.getContext("2d").drawImage(e,0,0,i,o),(r=(n=a.toDataURL()).length)<t)return n}return n}function DB(e){for(var t=e.getContext("2d").getImageData(0,0,e.width,e.height).data,n=3;n<t.length;n+=4)if(255!==t[n])return!0;return!1}function qx(e,t){lt(e,(function(n){if(n.toDataURL){var r,i=2e5;if("image/jpeg"===e.type)r=M1(n,i);else if((r=n.toDataURL()).length>i){r=r.length>.75*n.width*n.height&&!DB(n)?M1(n,i):EB(n,i)}t(null,r)}else t(!0)}),{orientation:!0,canvas:!0,maxWidth:1600,maxHeight:1600})}lt.hasCanvasOption=function(e){return SB(e)||e.orientation},lt.transformCoordinates=function(e,t){var n=e.getContext("2d"),r=e.width,i=e.height,o=t.orientation;if(o)switch(o>4&&(e.width=i,e.height=r),o){case 2:n.translate(r,0),n.scale(-1,1);break;case 3:n.translate(r,i),n.rotate(Math.PI);break;case 4:n.translate(0,i),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-i);break;case 7:n.rotate(.5*Math.PI),n.translate(r,-i),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-r,0)}},lt.getTransformedOptions=function(e){if(!e.orientation||1===e.orientation)return e;var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);switch(e.orientation){case 2:n.left=e.right,n.right=e.left;break;case 3:n.left=e.right,n.top=e.bottom,n.right=e.left,n.bottom=e.top;break;case 4:n.top=e.bottom,n.bottom=e.top;break;case 5:n.left=e.top,n.top=e.left,n.right=e.bottom,n.bottom=e.right;break;case 6:n.left=e.top,n.top=e.right,n.right=e.bottom,n.bottom=e.left;break;case 7:n.left=e.bottom,n.top=e.right,n.right=e.top,n.bottom=e.left;break;case 8:n.left=e.bottom,n.top=e.left,n.right=e.top,n.bottom=e.right}return e.orientation>4&&(n.maxWidth=e.maxHeight,n.maxHeight=e.maxWidth,n.minWidth=e.minHeight,n.minHeight=e.minWidth,n.sourceWidth=e.sourceHeight,n.sourceHeight=e.sourceWidth),n},lt.ExifMap=function(){return this},lt.ExifMap.prototype.map={Orientation:274},lt.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},lt.getExifThumbnail=function(e,t,n){var r,i,o;if(n&&!(t+n>e.byteLength)){for(r=[],i=0;i<n;i+=1)o=e.getUint8(t+i),r.push((o<16?"0":"")+o.toString(16));return"data:image/jpeg,%"+r.join("%")}console.log("Invalid Exif data: Invalid thumbnail data.")},lt.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},lt.exifTagTypes[7]=lt.exifTagTypes[1],lt.getExifValue=function(e,t,n,r,i,o){var a,s,l,c,d,p,u=lt.exifTagTypes[r];if(u){if(!((s=(a=u.size*i)>4?t+e.getUint32(n+8,o):n+8)+a>e.byteLength)){if(1===i)return u.getValue(e,s,o);for(l=[],c=0;c<i;c+=1)l[c]=u.getValue(e,s+c*u.size,o);if(u.ascii){for(d="",c=0;c<l.length&&"\0"!==(p=l[c]);c+=1)d+=p;return d}return l}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},lt.parseExifTag=function(e,t,n,r,i){var o=e.getUint16(n,r);i.exif[o]=lt.getExifValue(e,t,n,e.getUint16(n+2,r),e.getUint32(n+4,r),r)},lt.parseExifTags=function(e,t,n,r,i){var o,a,s;if(n+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=n+2+12*(o=e.getUint16(n,r)))+4>e.byteLength)){for(s=0;s<o;s+=1)this.parseExifTag(e,t,n+2+12*s,r,i);return e.getUint32(a,r)}console.log("Invalid Exif data: Invalid directory size.")}},lt.parseExifData=function(e,t,n,r,i){if(!i.disableExif){var o,a,s,l=t+10;if(1165519206===e.getUint32(t+4)){if(l+8>e.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==e.getUint16(t+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(e.getUint16(l)){case 18761:o=!0;break;case 19789:o=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==e.getUint16(l+2,o))return void console.log("Invalid Exif data: Missing TIFF marker.");a=e.getUint32(l+4,o),r.exif=new lt.ExifMap,(a=lt.parseExifTags(e,l,l+a,o,r))&&!i.disableExifThumbnail&&(s={exif:{}},a=lt.parseExifTags(e,l,l+a,o,s),s.exif[513]&&(r.exif.Thumbnail=lt.getExifThumbnail(e,l+s.exif[513],s.exif[514]))),r.exif[34665]&&!i.disableExifSub&&lt.parseExifTags(e,l,l+r.exif[34665],o,r),r.exif[34853]&&!i.disableExifGps&&lt.parseExifTags(e,l,l+r.exif[34853],o,r)}}},lt.metaDataParsers.jpeg[65505].push(lt.parseExifData),lt.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},lt.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},lt.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,r=e.map;for(t in n)n.hasOwnProperty(t)&&(r[n[t]]=t)}(lt.ExifMap.prototype),lt.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)this.hasOwnProperty(e)&&((t=this.tags[e])&&(n[t]=this.getText(t)));return n};var pa=class{constructor(){this.model=new Mn}triggerEvent(e,t){this.model.triggerEvent(e,t)}observeEvent(e,t){this.model.observeEvent(e,t)}unobserveEvent(e){this.model.unobserveEvent(e)}getProperty(e){return this[e]}setProperty(e,t){this[e]=t,this.model.setProperty(e,t)}observe(e,t){this.model.observe(e,t)}observeAndSync(e,t){this.model.observeAndSync(e,t)}unobserve(e){this.model.unobserve(e)}unobserveAll(){this.model.unobserveAll()}},RE={showGrid:!0,showXAxis:!0,showYAxis:!0,xAxisStep:0,yAxisStep:0,xAxisScale:"linear",yAxisScale:"linear",xAxisMinorSubdivisions:0,yAxisMinorSubdivisions:0,xAxisArrowMode:"NONE",yAxisArrowMode:"NONE",xAxisLabel:"",yAxisLabel:"",xAxisNumbers:!0,yAxisNumbers:!0,polarMode:!1,polarNumbers:!0,degreeMode:!1,randomSeed:"",restrictGridToFirstQuadrant:!1,userLockedViewport:!1},kB={xAxisBase:0,yAxisBase:0,squareAxes:!0,product:"graphing"},xd=__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},RE),kB),T1=Object.keys(RE);function G1(e){return e in RE}var op=e=>isFinite(e)&&(e>0||0===e),os=e=>{if(!e)return 10;let t=e;for(let n=1;t>10;n++)t=__dcg_shared_module_exports__.a(e,1/n);return t},as=class extends pa{constructor(){for(var e in super(),this.highlightPropertyMultipliers={},this.stateProperties=[],this.cloneProperties=[],this.highlightPropertyMultipliers={},this.config=new pa,xd)xd.hasOwnProperty(e)&&this.addStateProperty(e,xd[e]);this.labelHangingColor="rgba(150,150,150,1)",this.lastChangedAxis="x",this.addDynamicProperties()}addDynamicProperties(){var e=this;function t(t,n,r){function i(){e.setProperty(t,e.config.projectorMode?r:n)}e.cloneProperties.push(t),e.config.observe("projectorMode",i),i()}function n(t,n,r,i,o){function a(){var a;a=e.config.projectorMode?e.highlight?o:i:e.highlight?r:n,e.setProperty(t,a)}e.cloneProperties.push(t);var s=[n,r,i,o];e.highlightPropertyMultipliers[t]=s.map((function(e){return e/s[0]})),e.observe("highlight",a),e.config.observe("projectorMode",a),a()}t("labelSize",14,19),t("majorAxisOpacity",.4,1),t("minorAxisOpacity",.12,.25),t("axisOpacity",.9,.9),t("axisLineWidth",1.5,2),t("axisLineOffset",.25,0),t("pixelsPerLabel",80,120),n("curveOpacity",.7,1,.7,1),t("globalCurveColor",void 0,void 0),t("disableFill",!1,!1),n("graphLineWidth",2.5,3.5,5,7),n("pointLineWidth",9,11,15,17)}setController(e){this.controller=e}getHighlightPropertyMultiplier(e,t){var n=t?1:0;return this.config.projectorMode?this.highlightPropertyMultipliers[e][2+n]:this.highlightPropertyMultipliers[e][n]}getFillOpacityMultiplier(){return this.highlight&&this.controller&&this.controller.isGeometry()?2:1}addStateProperty(e,t){this[e]=t,this.stateProperties.push(e),this.cloneProperties.push(e)}static fromObject(e){var t=new as;return t.cloneProperties.forEach((function(n){e.hasOwnProperty(n)&&t.setProperty(n,e[n])})),t}registerCallbacks(e){var t=this,n=function(){e.redrawAllLayers()};this.stateProperties.forEach((function(e){t.observe(e,n)})),this.config.observe("backgroundColor",n),this.config.observe("textColor",n),this.config.observe("invertedColors",n),this.observe("backgroundColor",(function(){e.redrawAllLayers()})),this.observe("textColor",(function(){e.redrawAllLayers()})),this.config.observe("enableTabindex",(function(){e.redrawAllLayers()})),this.config.observeAndSync("projectorMode",(function(){e.redrawAllLayers()}))}_validateSetting(e,t){var n;switch(e){case"xAxisMinorSubdivisions":case"yAxisMinorSubdivisions":t!==(n=Math.round(Math.min(Math.max(0,t),5)))&&__dcg_shared_module_exports__.Hc.warn("minorSubdivisions must be an integer between 0 and 5. You provided "+t+", which we changed to "+n+".");break;case"degreeMode":case"projectorMode":case"showGrid":case"showXAxis":case"showYAxis":case"xAxisNumbers":case"yAxisNumbers":case"polarNumbers":case"enableTabindex":case"invertedColors":t!==(n="false"!==t&&!!t)&&__dcg_shared_module_exports__.Hc.warn(e+" must be a Boolean. You provided "+t+" ("+typeof t+"), which we changed to "+n+" ("+typeof n+").");break;case"xAxisStep":case"yAxisStep":n=parseFloat(t),isFinite(t)||(n=0,__dcg_shared_module_exports__.Hc.warn(e+" must be a number. You provided "+t+", which we changed to "+n+"."));break;case"xAxisScale":case"yAxisScale":n=t,this.config.logScales||"logarithmic"!==t?"linear"!==t&&"logarithmic"!==t&&(n="linear",__dcg_shared_module_exports__.Hc.warn(e+' must be "linear" or "logarithmic". You provided '+t+", which we changed to "+n+".")):(n="linear",__dcg_shared_module_exports__.Hc.warn("Must set logScales: true to set "+e+" to 'logarithmic'."));break;case"xAxisArrowMode":case"yAxisArrowMode":(n=__dcg_shared_module_exports__.sc[t])!==t&&(n="NONE",__dcg_shared_module_exports__.Hc.warn("unknown AxisArrowMode. Allowed values are: \n"+__dcg_shared_module_exports__.Ba(__dcg_shared_module_exports__.sc).join("\n")));break;case"xAxisLabel":case"yAxisLabel":n=t,"string"!=typeof t&&(n="",__dcg_shared_module_exports__.Hc.warn(e+" must be a string. you provided a "+typeof t+"."));break;case"randomSeed":n=t,"string"!=typeof t&&(n=""+t,__dcg_shared_module_exports__.Hc.warn("randomSeed must be a string. you provided a "+typeof t+"."));break;case"backgroundColor":n=t,"string"!=typeof t&&(n="",__dcg_shared_module_exports__.Hc.warn(e+" must be a string. you provided a "+typeof t+".")),n||(n="#fff"),"#"!==n[0]&&(n="#"+n);break;case"textColor":n=t,"string"!=typeof t&&(n="",__dcg_shared_module_exports__.Hc.warn(e+" must be a string. you provided a "+typeof t+".")),n||(n="#000"),"#"!==n[0]&&(n="#"+n);break;case"fontSize":n=t,"number"!=typeof t&&(n=parseInt(n,10),__dcg_shared_module_exports__.Hc.warn("fontSize must be a number. Attempted to convert "+t+" to "+n+"."));break;case"language":n=t,"string"!=typeof t&&(n="",__dcg_shared_module_exports__.Hc.warn(e+" must be a string. you provided a "+typeof t+".")),window.Desmos&&window.Desmos.supportedLanguages.indexOf(t)<0&&"en"!==t&&(n="en",__dcg_shared_module_exports__.Hc.warn(t+" is not currently an available language."));break;default:n=t}return n}_validateSettings(e){var t={},n=!1;for(var r in e)this.stateProperties.indexOf(r)>=0?t[r]=this._validateSetting(r,e[r]):(__dcg_shared_module_exports__.Hc.warn('Invalid graph setting "'+r+'".'),n=!0);return n&&__dcg_shared_module_exports__.Hc.warn("Available graph settings are: \n"+this.stateProperties.join("\n")),t}getBackgroundColor(){var e=__dcg_shared_module_exports__.cc(this.config.backgroundColor||"#fff");return this.config.invertedColors&&"#ffffff"!==e?__dcg_shared_module_exports__.fc(e):e}getTextColor(){var e=__dcg_shared_module_exports__.cc(this.config.textColor||"#000");return this.config.invertedColors&&"#000000"!==e?__dcg_shared_module_exports__.fc(e):e}setGraphSettings(e){var t=this._validateSettings(e);for(var n in t)t.hasOwnProperty(n)&&("projectorMode"===n||"invertedColors"===n||"fontSize"===n||"language"===n||"backgroundColor"===n||"textColor"===n?this.config.setProperty(n,t[n]):this.setProperty(n,t[n]))}};at();var IB={scrollVisible:function(e,t,n){var r,i=t.height(),o=e.outerHeight(),a=e.offset(),s=t.offset();if(!a||!s)return!1;var l=t[0].scrollTop,c=a.top+l-s.top,d=c-n,p=o+c+n-i;return(r=d>=p?Math.min(Math.max(l,p),d):.5*(d+p))!==l&&(t[0].scrollTop=r,t[0].scrollTop!=l)}},{scrollVisible:ss}=IB;fc();var Hx=class{constructor(e){this.settings=e}ensureTripBlock(){if(this.$tripBlock)return;let e=['<div class="trip-block">','<div class="trip-interior">','<a class="trip-close">&times;</a>','<div class="trip-content"></div>',"</div>",'<div class="trip-arrow"></div>',"</div>"].join("");var t=this.$tripBlock=P(e);t.css({top:"-100px"}),P("body").append(t),t.find(".trip-close").on("dcg-tap",(e=>{e.preventDefault(),this.stop()})),this.bindKeyEvents()}cleanup(){return this.unbindKeyEvents(),this.hideTripBlock(),!1}bindKeyEvents(){P(document).on({"keydown.Trip":e=>{this.keyEvent(e)}})}unbindKeyEvents(){P(document).off("keydown.Trip")}keyEvent(e){27===e.which&&this.stop()}stop(){this.hideTripBlock(),this.settings.onTripStop()}exitTourBecauseOfError(e,t){var n="",r=t;do{n=r.selector+n}while(r=r.prevObject);this.stop(),oo("TourError: could not find $sel.offset()",{metaData:{message:e,selector:n}})}showTripBlock(e,t){if(this.ensureTripBlock(),"do-not-update"===e.type)return;let n=("string"==typeof e.sel?P(e.sel):e.sel).filter(":visible");e.scrollContainer&&ss(n,e.scrollContainer,0);var r=this.$tripBlock;"final"===e.type?r.find(".trip-content").html(t||""):r.find(".trip-content").html(e.content),r.toggleClass("trip-hidden",!!e.hidden);let i=n.outerWidth()||0,o=n.outerHeight()||0,a=r.outerWidth()||0,s=r.outerHeight()||0,l=P(window).width()||0,c=n.offset();if(c){this.__cachedMissingSelTime=void 0,r.removeClass("trip-e trip-s trip-w trip-n");var d=0;switch(e.position){case"e":r.addClass("trip-e"),r.css({left:c.left+i+10,top:c.top-(s-o)/2});break;case"s":r.addClass("trip-s");var p=c.left+(i-a)/2;r.css({left:p,top:c.top+o+10}),p+a>l-1&&(d=l-1-p-a),p<1&&(d=1-p);break;case"w":r.addClass("trip-w"),r.css({left:c.left-(10+a),top:c.top-(s-o)/2});break;default:r.addClass("trip-n"),r.css({left:c.left+(i-a)/2,top:c.top-10-s})}r.find(".trip-interior").css("transform","translate("+d+"px, 0)"),r.css({display:"inline-block"}),r.find(".trip-math:not(.dcg-mq-math-mode)").each((function(){Ca.StaticMath(this)}))}else this.__cachedMissingSelTime?Date.now()-this.__cachedMissingSelTime>1e3&&("final"===e.type?this.stop():this.exitTourBecauseOfError(e.content,n)):this.__cachedMissingSelTime=Date.now()}fadeInTripBlock(){this.ensureTripBlock();var e=this.$tripBlock;setTimeout((function(){e.addClass("trip-is-loaded")}),0)}hideTripBlock(){this.$tripBlock&&this.$tripBlock.removeClass("trip-is-loaded")}},$x=class{constructor(){this.tripManager=new Hx({onTripStop:this.stopTour.bind(this)}),this.currentStep=void 0,this.currentTour=void 0}_tripLoop(){clearTimeout(this.__tripLoopTimeout),this.running&&(this._advanceTrip(),this.__tripLoopTimeout=setTimeout(this._tripLoop.bind(this),200))}getContent(e){return"do-not-update"===e.type?"":"final"===e.type?e.endingMsg:e.content}_advanceTrip(){var e=this.currentTour.update(),t=(new Date).getTime();if(e&&this.currentStep&&"do-not-update"!==this.currentStep.type&&"do-not-update"!==e.type&&this.getContent(e)!==this.getContent(this.currentStep)){if(this.currentStep.delayBeforeExit){if(this.throttleTimer&&t-this.throttleTimer<this.currentStep.delayBeforeExit)return;if(!this.throttleTimer)return void(this.throttleTimer=t)}e.delayBeforeEnter&&(this.currentStep=e,this.throttleTimer=t)}if(!(e&&this.currentStep&&this.getContent(this.currentStep)===this.getContent(e)&&this.throttleTimer&&this.throttleTimer<this.currentStep.delayBeforeEnter)&&(this.throttleTimer=null,e&&"do-not-update"!==e.type)){if(this.currentStep=e,"final"===e.type)return void this.finishTour(e,5);this.tripManager.showTripBlock(e)}}startTour(e){this.running||(this.currentTour=e,this.running=!0,this._tripLoop(),this.tripManager.fadeInTripBlock())}closingMsg(e,t){return"<b>"+e+"</b><br>This message will self-destruct in "+t+"..."}finishTour(e,t){clearTimeout(this.__tripLoopTimeout),this.running=!1,t<0?this.tripManager.stop():("final"===e.type?this.tripManager.showTripBlock(e,this.closingMsg(e.endingMsg,t)):this.tripManager.showTripBlock(e),setTimeout((()=>this.finishTour(e,t-1)),1e3))}stopTour(){this.running=!1,this.currentStep=void 0,this.currentTour=void 0}};function NE(e){var t=e&&e.id;if(e&&"table"===e.type){var n=ao(e);if(n){var r=e.columnModels[n.column];t=r?r.id:void 0}else t=void 0}return t}function A1(e,t,n){var r=e.getAllSelectedItems(),i={};for(var o of r){var a=NE(o);void 0!==a&&(i[a]=!0,n[a]||t.selectSketch(a))}for(let e in n)i[e]||t.deselectSketch(e);return i}at();var zn=class{constructor(e,t,n){this.pattern=n,this.replen=this.pattern[0]+this.pattern[1],t/this.replen>1e3&&(this.pattern[0]=t*this.pattern[0]/this.replen/1e3,this.pattern[1]=t*this.pattern[1]/this.replen/1e3),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null,this.ctx=e}static getDashedPattern(e,t){let n=11*e.lineWidth/(t?3.5:2.5);return[n,7*n/11]}static getDottedPattern(e,t,n){let r=.5*e.lineWidth*.1/(n?3.5:2.5),i=8*r/.1;return t&&(i*=2),[r,i]}static getTotalSegmentLength(e){if(e.length<4)return 0;let t,n,r=0,i=0,o=e[0],a=e[1];for(;isNaN(o)||isNaN(a);){if(i+=2,i>=e.length)return 0;o=e[i],a=e[i+1]}for(i+=2;i<e.length;i+=2)t=e[i],n=e[i+1],!isNaN(t)&&!isNaN(n)&&(r+=__dcg_shared_module_exports__._(t-o,n-a),o=t,a=n);return r}start(e,t){this.px=e,this.py=t}next(e,t){if(null===this.px||null===this.py)throw new Error("Must call start before calling next");let n=this.pattern[this.pstate],r=Math.sqrt(Math.pow(e-this.px,2)+Math.pow(t-this.py,2));if(r>1e-5){for(;r+this.dstaccum>=n;){let i=e-this.px,o=t-this.py,a=n-this.dstaccum;i*=a/r,o*=a/r,0===this.pstate&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(this.px+i,this.py+o)),this.dstaccum=0,this.px+=i,this.py+=o,this.pstate=0===this.pstate?1:0,n=this.pattern[this.pstate],r-=a}0===this.pstate&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(e,t))}this.px=e,this.py=t,this.dstaccum+=r}close(){this.pstate=0,this.dstaccum=0,this.px=null,this.py=null}drawSegment(e){let t,n,r=0,i=e[0],o=e[1];for(;isNaN(i)||isNaN(o);){if(r+=2,r>=e.length)return;i=e[r],o=e[r+1]}for(this.start(i,o),r+=2;r<e.length;r+=2)t=e[r],n=e[r+1],!isNaN(t)&&!isNaN(n)&&this.next(t,n);this.close()}};function KE(e,t){return e+1e-8*(t-e)>e&&t-e>1e-300&&t-e<1e300}function L1(e,t){return e>1e-300&&KE(e,t)}var Ci=class{constructor(e=-10,t=10,n=-10,r=10){this.xmin=e,this.xmax=t,this.ymin=n,this.ymax=r}static fromObject({xmin:e,xmax:t,ymin:n,ymax:r}){return new Ci(e,t,n,r)}toObject(){return{xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax}}equals(e){return!(this.xmin!==e.xmin||this.ymin!==e.ymin||this.xmax!==e.xmax||this.ymax!==e.ymax)}isXValid(e){return"linear"===e?KE(this.xmin,this.xmax):L1(this.xmin,this.xmax)}isYValid(e){return"linear"===e?KE(this.ymin,this.ymax):L1(this.ymin,this.ymax)}isValid(e){return this.isXValid(e.xAxisScale)&&this.isYValid(e.yAxisScale)}isSquare(e,t){return Math.abs(e.height-e.width*this.aspectRatio(t))<1}aspectRatio(e){return("linear"===e.yAxisScale?this.ymax-this.ymin:Math.log(this.ymax/this.ymin))/("linear"===e.xAxisScale?this.xmax-this.xmin:Math.log(this.xmax/this.xmin))}getSquaredAxisLimits({axis:e,screen:t,settings:n}){let[r,i,o,a]="y"===e?[{min:this.ymin,max:this.ymax},{min:this.xmin,max:this.xmax},t.height/t.width,n.yAxisScale]:[{min:this.xmin,max:this.xmax},{min:this.ymin,max:this.ymax},t.width/t.height,n.xAxisScale];if("logarithmic"===a){let e=r.max/r.min,t=i.max/i.min,n=__dcg_shared_module_exports__.a(t,o),a=Math.sqrt(n/e);return{min:r.min/a,max:r.max*a}}let s=r.max-r.min,l=.5*((i.max-i.min)*o-s);return{min:r.min-l,max:r.max+l}}squareXAxis(e,t){let{min:n,max:r}=this.getSquaredAxisLimits({axis:"x",screen:e,settings:t});return new Ci(n,r,this.ymin,this.ymax)}squareYAxis(e,t){let{min:n,max:r}=this.getSquaredAxisLimits({axis:"y",screen:e,settings:t});return new Ci(this.xmin,this.xmax,n,r)}squareCrop(e,t){return this.aspectRatio({xAxisScale:t.xAxisScale,yAxisScale:t.yAxisScale})>e.height/e.width?this.squareYAxis(e,t):this.squareXAxis(e,t)}polarDiameter(){let e=Math.abs(this.xmax),t=Math.abs(this.xmin),n=Math.abs(this.ymax),r=Math.abs(this.ymin);return 1.5*Math.max(e,t,n,r)}largestR(){return Math.sqrt(Math.pow(Math.max(-this.xmin,this.xmax),2)+Math.pow(Math.max(-this.ymin,this.ymax),2))}smallestR(){return this.xmin<=0&&this.xmax>=0&&this.ymin<=0&&this.ymax>=0?0:this.xmin<=0&&this.xmax>=0?Math.min(Math.abs(this.ymin),Math.abs(this.ymax)):this.ymin<=0&&this.ymax>=0?Math.min(Math.abs(this.xmin),Math.abs(this.xmax)):Math.sqrt(Math.pow(Math.max(this.xmin,-this.xmax),2)+Math.pow(Math.max(this.ymin,-this.ymax),2))}},Ol;function P1(e,t){if(Ol&&Ol.color===t&&Ol.img===e)return Ol.canvas;Ol?(Ol.color=t,Ol.img=e):Ol={color:t,img:e,canvas:document.createElement("canvas")};var n=Ol.canvas;n.width=0,n.width=e.width,n.height=e.height;var r=n.getContext("2d");return r.drawImage(e,0,0),r.fillStyle=t,r.globalCompositeOperation="source-atop",r.fillRect(0,0,e.width,e.height),n}function zx(e,t,n){let r=e.formula;if(!r||!r.dimensions.x)return;let i=r.dimensions;for(var o=0;o<i.x.length;o++){var a=i.x[o],s=i.y[o],l=i.width[o],c=i.height[o],d=i.radianAngle[o];if(isFinite(a)&&isFinite(s)&&isFinite(l)&&isFinite(c)&&isFinite(d)){ei(t,"dcg-svg-image"),t.save(),Br(t),t.globalAlpha=i.opacity[o];var p=n.mapy(c)-n.mapy(0),u=n.mapx(l)-n.mapx(0),h=0===d?1:Math.abs(u/l*(c/p)),g=n.mapx(a),m=n.mapy(s),f=c<0?-1:1,y=l<0?-1:1,b=(g-u/2)*y,x=(m+p*h/2)*f,_=Math.abs(u),v=Math.abs(p);0!==d&&(t.translate(g,m),t.scale(1,1/h),t.rotate(d),t.translate(-g,-m)),t.scale(y,f);var w=!1,A=!1,k=e.controller.getGrapher();k&&"2d"===k.type&&(w=k.clickableObjectsLayer.shouldDrawHovered(e.id,o),A=k.clickableObjectsLayer.shouldDrawPressed(e.id,o));var E=e.imageObj,I=E;A?I=e.depressedImageObj?e.depressedImageObj:P1(E,"rgba(50,50,50,0.2)"):w&&(I=e.hoveredImageObj?e.hoveredImageObj:P1(E,"rgba(200,200,200,0.2)")),t.drawImage(I,b,x,_,v*h),js(e)&&e.controller.isTraceEnabled()&&(t.beginPath(),t.rect(b,x,_,v*h),t.restore(),t.save(),t.strokeStyle="#6993C7",t.lineWidth=2,t.stroke()),t.restore()}}}function Wn(e,t){let n=e;n._dcgStartNamedGroup&&n._dcgStartNamedGroup(t)}function Kg(e,t){let n=e;n._dcgSetTitle&&n._dcgSetTitle(t)}function jn(e){let t=e;t._dcgEndNamedGroup&&t._dcgEndNamedGroup()}var Yx={};function F1(e={}){return Object.keys(e).length}function jx(e,t={}){return 0===F1(t)?e:e.filter(((e,n)=>!t[n]))}function O1(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function AB(){return!!Object.keys(Yx).length}var qE=function(e,t){let n=3;return t&&(n+=t),new Ci(-n,e.width+n,-n,e.height+n)},Si=class{constructor(e,t,n){if(this.controller=e,this.getExpressionAriaLabel=n,t.config.plaidMode){let e=["RED","BLUE","GREEN","PURPLE","ORANGE","BLACK"];for(let t of e)Yx[__dcg_shared_module_exports__.gc[t]]=document.createElement("img"),Yx[__dcg_shared_module_exports__.gc[t]].setAttribute("src","/assets/img/april-fools/"+t.toLowerCase()+".png")}}redrawToCtx(e,t,n,r,i,o,a,s){Wn(e,"expressions");let l=t.settings.highlight,c=this.controller.isGeometry();i.forEach((i=>{let l=n[i],d=r[i];void 0!==l&&(c&&t.settings.setProperty("highlight",l.showHighlight),Wn(e,"sketch"),t.settings.takingScreenshot&&Kg(e,this.getExpressionAriaLabel(i)),Si.drawSketchToCtx({sketch:n[i],ctx:e,projection:t,poiLabelsLayer:o,clickableObjectsLayer:a,geometryContext:this.controller.getGeoModel(),showMovablePoints:null==s?void 0:s.showMovablePoints}),jn(e)),d&&d.shouldGraph&&d.foreground&&zx(d,e,t)})),jn(e),t.settings.setProperty("highlight",l)}static eachSegment(e,t){for(let n of e.branches)if(15!==n.graphMode)for(let e of n.segments)t(n,e)}static drawSketchToCtx({sketch:e,ctx:t,projection:n,poiLabelsLayer:r,clickableObjectsLayer:i,geometryContext:o,showMovablePoints:a}){var s,l;if(!e.branches||!e.branches.length)return;let c=t.lineWidth,d=t.globalAlpha,p=n.settings.globalCurveColor?n.settings.globalCurveColor:e.color,u=Yx[p];if(u&&u.complete&&u.naturalWidth>0){let e=t.createPattern(u,"repeat");t.fillStyle=e}else t.fillStyle=p;t.strokeStyle=p,t.lineJoin="round",t.lineCap="round";let h=!!n.settings.takingScreenshot,g=!!a;for(let r of e.branches){if(3===r.graphMode||4===r.graphMode||15===r.graphMode||22===r.graphMode)continue;let a=1;i.shouldDrawHovered(e.id,r.listIndex)&&(a=1.2),i.shouldDrawPressed(e.id,r.listIndex)&&(a=1.4),a*=null!=(s=null==o?void 0:o.getToolFadeOpacity(e.id))?s:1,a*=n.settings.getFillOpacityMultiplier(),r.color&&!n.settings.globalCurveColor&&!AB()&&(t.fillStyle=r.color),6!==r.graphMode&&(t.desmos_batching=!0,t.beginPath());for(let e of r.segments){let i=null!=(l=r.graphMode)?l:2;if(7!==i||n.settings.disableFill){if(8!==i){let o=r.operator,a="<="==o||"<"==o;!n.settings.disableFill&&("<"==o||">"==o||"<="==o||">="==o)&&Si.fillGraphStrokeToCtx(t,n,e,a,i)}}else Si.fillPolygonToCtx(t,n,e,void 0===r.fillOpacity?NaN:r.fillOpacity*a)}t.globalAlpha=Si._clampedOpacity(void 0===r.fillOpacity?NaN:r.fillOpacity*a,.4),6!==r.graphMode&&(t.fill(),t.desmos_batching=!1),t.globalAlpha=1}Si.eachSegment(e,function(r,a){var s,l,c;if(3===r.graphMode||4===r.graphMode||15===r.graphMode||22===r.graphMode)return;let d=2;r.graphMode&&(d=r.graphMode);let p=a,u=void 0!==r.lineWidth,h=r.lineWidth,g=null!=(s=r.arrowMode)?s:"DEFAULT";if(t.strokeStyle=r.color,t.fillStyle=r.color,u&&(h<=0||!isFinite(h)))return;t.lineWidth=u?h:2.5;let m=n.settings.graphLineWidth/2.5;e.tokenSelected?m*=2:e.tokenHovered&&(m*=1.5),t.lineWidth*=m,t.globalAlpha*=n.settings.curveOpacity,t.globalAlpha=Si._clampedOpacity(1===n.settings.curveOpacity?1:r.lineOpacity,.9);let f=r.operator,y="default";"<"===f||">"===f||"!="===f?y="DASHED":"<="===f||">="===f?y="SOLID":"DASHED"===e.style||"DASHED"===r.style?y="DASHED":("DOTTED"===e.style||"DOTTED"===r.style)&&(y="DOTTED",u&&(t.lineWidth*=2)),t.globalAlpha*=null!=(l=null==o?void 0:o.getToolFadeOpacity(e.id))?l:1;let b=!r.isIntersectionExtension&&i.shouldDrawHovered(e.id,r.listIndex),x=!r.isIntersectionExtension&&i.shouldDrawPressed(e.id,r.listIndex);(x||b)&&(t.save(),t.lineWidth+=4.5,t.globalAlpha*=x?.5:.3,Si.drawGraphStrokeToCtx(t,n,p,{type:y,graphMode:d,op:f,arrowMode:g,opacityMultiplier:x?.5:.3}),t.restore()),Si.drawGraphStrokeToCtx(t,n,p,{type:y,graphMode:d,op:f,arrowMode:g,opacityMultiplier:null!=(c=null==o?void 0:o.getToolFadeOpacity(e.id))?c:1})}.bind(this)),t.lineWidth=c,t.globalAlpha=d,Si.eachSegment(e,function(a,s){var l;if(3===a.graphMode&&a.showPoint||4===a.graphMode&&h){let c,d=s,p=[];if(a.interactiveLabel&&e.labels)for(let t=0,n=e.labels.length;t<n;t++){let n=e.labels[t];if("poi"===n.type){let e=r.isOpenPOI(n.poi),i=r.getHoveredPOI()===n.poi;p.push(e||i),!e&&i&&(c=t)}}let u,m=4===a.graphMode&&h&&!g&&1===a.pointOpacity,f=1;"number"==typeof a.pointSize?f=a.pointSize/9:Array.isArray(a.pointSize)&&(f=a.pointSize.map((function(e){return e/9}))),Array.isArray(a.color)&&(u=a.color);let y=i.getHoveredObjectById(e.id),b=i.shouldDrawHovered(e.id,void 0),x=i.getPressedObject(),_=i.shouldDrawPressed(e.id,null==x?void 0:x.listIndex),v=a.droppedIndices;if(b||_){let r=d.length;v&&(r+=F1(v));let i=O1(r,0),o=Array.isArray(f)?f.slice():O1(r,f);_&&x?void 0===x.listIndex?(i=i.map((()=>.5)),o=o.map((e=>1.5*e))):(i[x.listIndex]=.5,o[x.listIndex]*=1.5):b&&y&&(i=i.map(((e,t)=>void 0===y.listIndexes||y.listIndexes[t]?.3:e)),o=o.map(((e,t)=>void 0===y.listIndexes||y.listIndexes[t]?1.5*e:e))),Si.drawPointsToCtx({ctx:t,projection:n,segment:d,style:a.style,sizeOverrideIdxs:p,opacityOverrideIdx:c,sizeFactor:o,opacityFactor:i,colorOverrides:u,baseOpacity:a.pointOpacity,droppedIndices:v,sketch:e}),t.restore()}Si.drawPointsToCtx({ctx:t,projection:n,segment:d,style:a.style,sizeOverrideIdxs:p,opacityOverrideIdx:c,sizeFactor:f,opacityFactor:null!=(l=null==o?void 0:o.getToolFadeOpacity(e.id))?l:1,colorOverrides:u,baseOpacity:m?.9:a.pointOpacity,droppedIndices:v,sketch:e})}}.bind(this))}static drawGraphStrokeToCtx(e,t,n,r){let{type:i,graphMode:o,op:a,arrowMode:s}=r;if(20===o||21===o){let r,a,[s,l,c]=n,d=t.mathToPixels.mapX(s),p=t.mathToPixels.mapY(l),u=t.mathToPixels.dangerouslyGetXScaleFactor(),h=t.mathToPixels.dangerouslyGetYScaleFactor(),g=Math.abs(c*u),m=Math.abs(c*h);if(21===o?(r=-n[3],a=-n[4]):(r=0,a=2*Math.PI),e.save(),ei(e,"dcg-svg-curve"),e.desmos_batching||e.beginPath(),"DASHED"===i){let n=zn.getDashedPattern(e,!!t.settings.highlight);e.setLineDash(n)}else if("DOTTED"===i){let n=zn.getDottedPattern(e,!!t.settings.config.projectorMode,!!t.settings.highlight);e.setLineDash(n)}return e.ellipse(d,p,g,m,0,r,a,r>a),e.desmos_batching||e.stroke(),Br(e),void e.restore()}if(23===o){let[i,o,a,s,l]=n,c=cp(s,t),d=t.mathToPixels.mapX(i),p=t.mathToPixels.mapY(o),u=t.mathToPixels.dangerouslyGetXScaleFactor(),h=t.mathToPixels.dangerouslyGetYScaleFactor(),g=u>h?u/h:1,m=u>h?1:h/u,f=Math.abs(g*c),y=Math.abs(m*c);if(e.save(),ei(e,"dcg-svg-curve"),e.globalAlpha=.4*r.opacityMultiplier,e.desmos_batching||e.beginPath(),e.moveTo(d,p),e.lineTo(d+f*Math.cos(-a),p+y*Math.sin(-a)),e.ellipse(d,p,f,y,0,-a,-a-s,s>0),e.lineTo(d,p),!e.desmos_batching&&!l&&e.fill(),e.globalAlpha=r.opacityMultiplier,e.desmos_batching||e.beginPath(),e.ellipse(d,p,f,y,0,-a,-a-s,s>0),l){let t=-a-s;$E(e,d+f*Math.cos(t),p+y*Math.sin(t),-a,-s,10,f)}e.globalAlpha=r.opacityMultiplier,e.desmos_batching||e.stroke(),e.lineWidth=1.5,e.globalAlpha=.2*r.opacityMultiplier,e.moveTo(d+1.5*f*Math.cos(-a),p+1.5*y*Math.sin(-a)),e.lineTo(d,p),e.lineTo(d+1.5*f*Math.cos(-a-s),p+1.5*y*Math.sin(-a-s)),e.stroke(),Br(e),e.restore()}else if(17===o||18===o||19===o){let r,{clipped:a,mapped:l}=Lg(n,t,o),[c,d,p,u]=a,[h,g,m,f]=l;if(e.save(),ei(e,"dcg-svg-curve"),e.desmos_batching||e.beginPath(),"DASHED"==i?(r=new zn(e,zn.getTotalSegmentLength(a),zn.getDashedPattern(e,!!t.settings.highlight)),r.drawSegment(a)):"DOTTED"==i?(r=new zn(e,zn.getTotalSegmentLength(a),zn.getDottedPattern(e,!!t.settings.config.projectorMode,!!t.settings.highlight)),r.drawSegment(a)):(e.moveTo(c,d),e.lineTo(p,u)),17===o){let t=PB(i)*e.lineWidth,{startArrow:n,endArrow:r}=LB(VB(o,s));n&&Zs(e,m,f,h,g,t),r&&Zs(e,h,g,m,f,t)}return e.desmos_batching||e.stroke(),Br(e),void e.restore()}let l,c=Pg(o,"="!==a,t.settings),d=fd(Xu(n,t.mathToPixels,c),qE(t.screen,e.lineWidth));if(0!==d.length){if(e.save(),ei(e,"dcg-svg-curve"),e.desmos_batching||e.beginPath(),"DASHED"==i)l=new zn(e,zn.getTotalSegmentLength(d),zn.getDashedPattern(e,!!t.settings.highlight)),l.drawSegment(d);else if("DOTTED"==i)l=new zn(e,zn.getTotalSegmentLength(d),zn.getDottedPattern(e,!!t.settings.config.projectorMode,!!t.settings.highlight)),l.drawSegment(d);else if("SOLID"!==i&&"default"!==i||1!==e.lineWidth){e.moveTo(d[0],d[1]);for(let t=0;t<d.length;t+=2)e.lineTo(d[t],d[t+1])}else if(d.length>4||d[0]!==d[2]&&d[1]!==d[3]){e.moveTo(d[0],d[1]);for(let t=0;t<d.length;t+=2)e.lineTo(d[t],d[t+1])}else{e.moveTo(__dcg_shared_module_exports__.ga(d[0]),__dcg_shared_module_exports__.ga(d[1]));for(let t=0;t<d.length;t+=2)e.lineTo(__dcg_shared_module_exports__.ga(d[t]),__dcg_shared_module_exports__.ga(d[t+1]))}e.desmos_batching||e.stroke(),Br(e),e.restore()}}static mapPointToScreen(e,t,n){let r=e.mapx(t);if(r<-20||r>e.screen.width+20)return null;let i=e.mapy(n);return i<-20||i>e.screen.height+20?null:{x:r,y:i}}static drawPointToCtx(e,t,n,r,i,o,a,s,l,c,d){let p=e.lineWidth,u=e.fillStyle,h=e.strokeStyle,g=Si.mapPointToScreen(t,r,i);if(!g||void 0!==l&&(l<=0||!isFinite(l)))return!1;ei(e,"dcg-svg-point"),e.globalAlpha=void 0!==o?o:.9,void 0!==c&&(e.globalAlpha*=c),e.desmos_batching||e.beginPath();let m=t.settings.pointLineWidth;if(s&&(m=t.settings.config.projectorMode?17:11,e.lineWidth=m),n.tokenSelected?l?l*=2:l=2:n.tokenHovered&&(l?l*=1.5:l=1.5),void 0!==l&&(m*=l,e.lineWidth=m),d&&(e.fillStyle=d,e.strokeStyle=d),"CROSS"===a){let t=.4*m;e.moveTo(g.x-t,g.y-t),e.lineTo(g.x+t,g.y+t),e.moveTo(g.x+t,g.y-t),e.lineTo(g.x-t,g.y+t),e.lineWidth=.3*m}else if("OPEN"===a){let t=.42*m;e.moveTo(g.x+t,g.y),e.arc(g.x,g.y,t,0,2*Math.PI,!0),e.closePath(),e.fillStyle="white",e.lineWidth=.25*m,e.fill()}else e.moveTo(g.x-.1,g.y-.1),e.lineTo(g.x-.1,g.y+.1),e.lineTo(g.x+.1,g.y+.1),e.lineTo(g.x+.1,g.y-.1);return e.desmos_batching||e.stroke(),e.globalAlpha=1,e.lineWidth=p,e.fillStyle=u,e.strokeStyle=h,Br(e),!0}static drawPointsToCtx(e){let t,{ctx:n,projection:r,segment:i,style:o,sizeOverrideIdxs:a,opacityOverrideIdx:s,sizeFactor:l,opacityFactor:c,colorOverrides:d,baseOpacity:p,droppedIndices:u}=e,h=n.lineWidth;n.lineWidth=r.settings.pointLineWidth,Array.isArray(p)?(t=p.map(function(e){return Si._clampedOpacity(e,.9)}.bind(this)),t=jx(t,u)):t=Si._clampedOpacity(p,.9),Array.isArray(l)&&(l=jx(l,u)),Array.isArray(c)&&(c=jx(c,u)),d&&(d=jx(d,u));for(let p=0;p<i.length;p++)Si.drawPointToCtx(n,r,e.sketch,i[p][0],i[p][1],s===p?.6:Array.isArray(t)?t[p]:t,o,a[p],Array.isArray(l)?l[p]:l,Array.isArray(c)?c[p]:c,d&&d[p]);n.lineWidth=h}static fillGraphStrokeToCtx(e,t,n,r,i){e.globalAlpha=6===i?.2:.4;let o,a=null,s=null;if(6===i){s=bx,a=QV(n,r?0:t.viewport.polarDiameter(),t.settings.degreeMode?180:2*Math.PI)}else 2===i?(s=zV,o=r?t.viewport.ymin:t.viewport.ymax,a=yE(n,o)):1===i&&(s=$V,o=r?t.viewport.xmin:t.viewport.xmax,a=yE(n,o));if(null===a||null===s)return;let l=qE(t.screen);for(let n of a){let r=Pg(i,!0,t.settings),o=wx(Xu(n,t.mathToPixels,r),l,s,!1);if(o.length>=6){ei(e,"dcg-svg-region"),e.desmos_batching||e.beginPath(),e.moveTo(o[0],o[1]);for(let t=2;t<o.length;t+=2)e.lineTo(o[t],o[t+1]);e.lineTo(o[0],o[1]),e.desmos_batching||e.fill(),Br(e)}}e.globalAlpha=1}static _clampedOpacity(e,t){return"number"!=typeof e?t:e<0?0:e>1?1:isFinite(e)?e:t}static fillPolygonToCtx(e,t,n,r){let i=qE(t.screen);e.globalAlpha=Si._clampedOpacity(r*t.settings.getFillOpacityMultiplier(),.4);let o=wx(Xu(n,t.mathToPixels,xx),i,bx,!1);if(o.length>=6){ei(e,"dcg-svg-region"),e.desmos_batching||e.beginPath(),e.moveTo(o[0],o[1]);for(let t=2;t<o.length;t+=2)e.lineTo(o[t],o[t+1]);e.desmos_batching||e.fill(),Br(e)}e.globalAlpha=1}};function VB(e,t){return 17===e?"DEFAULT"===t?"NONE":t:"NONE"}function LB(e){switch(e){case"NONE":return{startArrow:!1,endArrow:!1};case"POSITIVE":return{startArrow:!1,endArrow:!0};case"BOTH":return{startArrow:!0,endArrow:!0};default:throw new Error("Unexpected arrowMode: "+e)}}function PB(e){switch(e){case"default":case"SOLID":case"DASHED":return 4;case"DOTTED":return 2;default:throw new Error("Unexpected line style "+e)}}function Zs(e,t,n,r,i,o){let a=Math.atan2(i-n,r-t),s=r-o*Math.cos(a-Math.PI/9),l=i-o*Math.sin(a-Math.PI/9),c=r-o*Math.cos(a+Math.PI/9),d=i-o*Math.sin(a+Math.PI/9),p=r-(o-2)*Math.cos(a-Math.PI/18),u=i-(o-2)*Math.sin(a-Math.PI/18),h=r-(o-2)*Math.cos(a+Math.PI/18),g=i-(o-2)*Math.sin(a+Math.PI/18);e.moveTo(r,i),e.lineTo(s,l),e.lineTo(c,d),e.lineTo(r,i),e.lineTo(p,u),e.lineTo(h,g),e.lineTo(r,i)}function $E(e,t,n,r,i,o,a){let s=r+i,l=o*Math.min(1,Math.max(.5,Math.abs(i)/.8)),c=i<=0,d=Math.PI/2;d+=a<25?.25:.1,c||(d*=-1),Zs(e,t+Math.cos(s+d),n+Math.sin(s+d),t,n,l)}function cp(e,t){let n=20;return t.settings.config.projectorMode&&(n*=1.4),n}var Jx=class{constructor(e){this.savedPOI=[],this.controller=e}redrawToCtx(e,t,n,r,i,o){let a=[];for(var s=0;s<o.length;s++){var l=n[o[s]];if(l){l.showHighlight&&!this.controller.isGeometry()&&this.drawSketchHighlight({sketch:l,ctx:e,projection:t,poiLabelsLayer:r,clickableObjectsLayer:i,geometryContext:this.controller.getGeoModel()});var c=l.getPOI();(l.showPOI||c.length&&c[0].isAttachedToPlottedPoint())&&a.push.apply(a,this.drawPOIs(c,e,"#AAAAAA",t))}}this.savedPOI=a}getDrawnPOI(){return this.savedPOI}drawSketchHighlight(e){e.projection.settings.setProperty("highlight",!0),Si.drawSketchToCtx(e),e.projection.settings.setProperty("highlight",!1)}drawPOIs(e,t,n,r){t.lineWidth=r.settings.pointLineWidth,t.strokeStyle=n||"#AAAAAA",t.fillStyle=n||"#AAAAAA",t.lineJoin="round",t.lineCap="round";var i=t.globalAlpha;t.globalAlpha=.01;var o,a,s=[],l=e.length;if(l&&e[0].isAttachedToPlottedPoint())for(o=0;o<l;o++)a=e[o],Si.mapPointToScreen(r,a.x,a.y)&&s.push(a);else for(o=0;o<l;o++)a=e[o],Si.drawPointToCtx(t,r,a.sketch,a.x,a.y)&&s.push(a);return t.globalAlpha=i,s}},Xx=class{redrawToCtx(e,t,n){if(n){e.save(),e.lineWidth=2,e.fillStyle="rgba(0,0,0,.15)",e.strokeStyle="rgba(0,0,0,.4)";var r=t.mapx(n.left),i=t.mapy(n.top),o=t.mapx(n.right)-r,a=t.mapy(n.bottom)-i;e.fillRect(r,i,o,a),e.strokeRect(r,i,o,a),e.restore()}}},Fl=__dcg_shared_module_exports__.i(ne()),{If:_B}=Fl.Components,Qx=class extends Fl.Class{init(){this.controller=this.props.grapher().controller,this.poiController=this.props.grapher().poiController}template(){return Fl.createElement(_B,{predicate:this.bindFn(this.showCursor)},(()=>Fl.createElement("div",{class:Fl.const("dcg-geo-keyboard-cursor"),style:()=>({top:`${this.getPosition().y}px`,left:`${this.getPosition().x}px`})})))}getPosition(){let e=this.poiController.getGeoKeyboardPt(),t=this.props.grapher().getProjection();return{x:t.mapx(e.x),y:t.mapy(e.y)}}showCursor(){return this.controller.isGeometry()&&this.controller.isGraphPaperFocused()&&!(this.controller.getSelectedGeoExpression()||this.controller.hasMultipleItemsSelected())}},dp,dt,Wg,jE,WE;function lo(e,t){var n,r=Object.keys(t);for(n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function Zx(e){var t,n,r;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",r=0;r<12;r++)n+=t[Math.floor(51*Math.random())]}while(e[n]);return n}function FB(e,t){var n,r,i,o={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r="&"+e[n+1]+";",i=parseInt(e[n],t),o[r]="&#"+i+";";return o["\\xa0"]="&#160;",o}function RB(e){var t={left:"start",right:"end",center:"middle",start:"start",end:"end"};return t[e]||t.start}WE=FB("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),dp={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},Wg=function(e,t){this.__root=e,this.__ctx=t},Wg.prototype.addColorStop=function(e,t){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",lo("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)},jE=function(e,t){this.__root=e,this.__ctx=t},dt=function(e){var t,n={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((t=n).width=arguments[0],t.height=arguments[1]):t=e||n,!(this instanceof dt))return new dt(t);this._randomPostfix="-"+"xxxxxxxx".replace(/x/g,(function(e){return(16*Math.random()|0).toString(16)})),this._svgClassNames=[],this.width=t.width||n.width,this.height=t.height||n.height,this.enableMirroring=void 0!==t.enableMirroring?t.enableMirroring:n.enableMirroring,this.canvas=this,this.__document=t.document||document,t.ctx?this.__ctx=t.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)},dt.prototype.__createElement=function(e,t,n){void 0===t&&(t={});var r,i,o=this.__document.createElementNS("http://www.w3.org/2000/svg",e),a=Object.keys(t);for(n&&(o.setAttribute("fill","none"),o.setAttribute("stroke","none")),r=0;r<a.length;r++)i=a[r],o.setAttribute(i,t[i]);var s=this._svgClassNames&&this._svgClassNames[this._svgClassNames.length-1];return s&&o.setAttribute("class",s),o},dt.prototype.__setDefaultStyles=function(){var e,t,n=Object.keys(dp);for(e=0;e<n.length;e++)this[t=n[e]]=dp[t].canvas},dt.prototype.__applyStyleState=function(e){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n]},dt.prototype.__getStyleState=function(){var e,t,n={},r=Object.keys(dp);for(e=0;e<r.length;e++)n[t=r[e]]=this[t];return n},dt.prototype.__applyStyleToCurrentElement=function(e){var t=this.__currentElement,n=this.__currentElementsToStyle;n&&(t.setAttribute(e,""),t=n.element,n.children.forEach((function(t){t.setAttribute(e,"")})));var r,i,o,a,s,l=Object.keys(dp);for(r=0;r<l.length;r++)if(i=dp[l[r]],o=this[l[r]],i.apply)if(o instanceof jE){if(o.__ctx)for(;o.__ctx.__defs.childNodes.length;)a=o.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[a]=a,this.__defs.appendChild(o.__ctx.__defs.childNodes[0]);t.setAttribute(i.apply,lo("url(#{id})",{id:o.__root.getAttribute("id")}))}else if(o instanceof Wg)t.setAttribute(i.apply,lo("url(#{id})",{id:o.__root.getAttribute("id")}));else if(-1!==i.apply.indexOf(e)&&i.svg!==o)if("stroke"!==i.svgAttr&&"fill"!==i.svgAttr||-1===o.indexOf("rgba")){var c=i.svgAttr;if("globalAlpha"===l[r]&&(c=e+"-"+i.svgAttr,t.getAttribute(c)))continue;t.setAttribute(c,o)}else{s=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(o),t.setAttribute(i.svgAttr,lo("rgb({r},{g},{b})",{r:s[1],g:s[2],b:s[3]}));var d=s[4],p=this.globalAlpha;null!=p&&(d*=p),t.setAttribute(i.svgAttr+"-opacity",d)}},dt.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},dt.prototype.getSerializedSvg=function(e){var t,n,r,i,o,a=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(a)&&(a=a.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),e)for(t=Object.keys(WE),n=0;n<t.length;n++)r=t[n],i=WE[r],(o=new RegExp(r,"gi")).test(a)&&(a=a.replace(o,i));return a},dt.prototype.getSvg=function(){return this.__root},dt.prototype._dcgStartNamedGroup=function(e){var t=this.__createElement("g");t.setAttribute("id",e+this._randomPostfix);var n=this.__closestGroupOrSvg();this.__groupStack.push(n),n.appendChild(t),this.__currentElement=t},dt.prototype._dcgEndNamedGroup=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElement||(this.__currentElement=this.__root.childNodes[1])},dt.prototype._dcgSaveClassName=function(e){this._svgClassNames.push(e),this.__currentElement&&"path"===this.__currentElement.tagName&&!this.__currentDefaultPath&&(this.__currentElement.getAttribute("class")||this.__currentElement.setAttribute("class",e))},dt.prototype._dcgRestoreClassName=function(){this._svgClassNames.pop()},dt.prototype.save=function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},dt.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)},dt.prototype.__addTransform=function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",r+=e,this.__currentElement.setAttribute("transform",r)},dt.prototype.scale=function(e,t){void 0===t&&(t=e),this.__addTransform(lo("scale({x},{y})",{x:e,y:t}))},dt.prototype.rotate=function(e){var t=180*e/Math.PI;this.__addTransform(lo("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))},dt.prototype.translate=function(e,t){this.__addTransform(lo("translate({x},{y})",{x:e,y:t}))},dt.prototype.transform=function(e,t,n,r,i,o){this.__addTransform(lo("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:r,e:i,f:o}))},dt.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},dt.prototype.__applyCurrentDefaultPath=function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)},dt.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},dt.prototype.moveTo=function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(lo("M {x} {y}",{x:e,y:t}))},dt.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},dt.prototype.lineTo=function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(lo("L {x} {y}",{x:e,y:t})):this.__addPathCommand(lo("M {x} {y}",{x:e,y:t}))},dt.prototype.bezierCurveTo=function(e,t,n,r,i,o){this.__currentPosition={x:i,y:o},this.__addPathCommand(lo("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:r,x:i,y:o}))},dt.prototype.quadraticCurveTo=function(e,t,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(lo("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:r}))};var zE=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};dt.prototype.arcTo=function(e,t,n,r,i){var o=this.__currentPosition&&this.__currentPosition.x,a=this.__currentPosition&&this.__currentPosition.y;if(void 0!==o&&void 0!==a){if(i<0)throw new Error("IndexSizeError: The radius provided ("+i+") is negative.");if(o===e&&a===t||e===n&&t===r||0===i)return void this.lineTo(e,t);var s=zE([o-e,a-t]),l=zE([n-e,r-t]);if(s[0]*l[1]==s[1]*l[0])return void this.lineTo(e,t);var c=s[0]*l[0]+s[1]*l[1],d=Math.acos(Math.abs(c)),p=zE([s[0]+l[0],s[1]+l[1]]),u=i/Math.sin(d/2),h=e+u*p[0],g=t+u*p[1],m=[-s[1],s[0]],f=[l[1],-l[0]],y=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},b=y(m),x=y(f);this.lineTo(h+m[0]*i,g+m[1]*i),this.arc(h,g,i,b,x)}},dt.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},dt.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},dt.prototype.rect=function(e,t,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()},dt.prototype.fillRect=function(e,t,n,r){var i;i=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("fill")},dt.prototype.strokeRect=function(e,t,n,r){var i;i=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(i),this.__currentElement=i,this.__applyStyleToCurrentElement("stroke")},dt.prototype.__clearCanvas=function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],n=t.childNodes,r=n.length-1;r>=0;r--)n[r]&&t.removeChild(n[r]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)},dt.prototype.clearRect=function(e,t,n,r){if(0!==e||0!==t||n!==this.width||r!==this.height){var i,o=this.__closestGroupOrSvg();i=this.__createElement("rect",{x:e,y:t,width:n,height:r,fill:"#FFFFFF"},!0),o.appendChild(i)}else this.__clearCanvas()},dt.prototype.createLinearGradient=function(e,t,n,r){var i=this.__createElement("linearGradient",{id:Zx(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:r+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new Wg(i,this)},dt.prototype.createRadialGradient=function(e,t,n,r,i,o){var a=this.__createElement("radialGradient",{id:Zx(this.__ids),cx:r+"px",cy:i+"px",r:o+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(a),new Wg(a,this)},dt.prototype.__parseFont=function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t},dt.prototype.__wrapTextLink=function(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t},dt.prototype.__applyText=function(e,t,n,r){var i=this.__parseFont(),o=this.__closestGroupOrSvg(),a=this.__createElement("text",{"font-family":i.family,"font-size":i.size,"font-style":i.style,"font-weight":i.weight,"text-decoration":i.decoration,x:t,y:n,"text-anchor":RB(this.textAlign)},!0);a.appendChild(this.__document.createTextNode(e)),this.__currentElement=a,this.__applyStyleToCurrentElement(r),o.appendChild(this.__wrapTextLink(i,a))},dt.prototype.fillText=function(e,t,n){this.__applyText(e,t,n,"fill")},dt.prototype.strokeText=function(e,t,n){this.__applyText(e,t,n,"stroke")},dt.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},dt.prototype.arc=function(e,t,n,r,i,o){if(r!==i){(r%=2*Math.PI)===(i%=2*Math.PI)&&(i=(i+2*Math.PI-.001*(o?-1:1))%(2*Math.PI));var a=e+n*Math.cos(i),s=t+n*Math.sin(i),l=e+n*Math.cos(r),c=t+n*Math.sin(r),d=o?0:1,p=0,u=i-r;u<0&&(u+=2*Math.PI),p=o?u>Math.PI?0:1:u>Math.PI?1:0,this.lineTo(l,c),this.__addPathCommand(lo("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:p,sweepFlag:d,endX:a,endY:s})),this.__currentPosition={x:a,y:s}}},dt.prototype.clip=function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=Zx(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",lo("url(#{id})",{id:n})),e.appendChild(r),this.__currentElement=r},dt.prototype.drawImage=function(){var e,t,n,r,i,o,a,s,l,c,d,p,u,h=Array.prototype.slice.call(arguments),g=h[0],m=0,f=0;if(3===h.length)e=h[1],t=h[2],n=i=g.width,r=o=g.height;else if(5===h.length)e=h[1],t=h[2],n=h[3],r=h[4],i=g.width,o=g.height;else{if(9!==h.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);m=h[1],f=h[2],i=h[3],o=h[4],e=h[5],t=h[6],n=h[7],r=h[8]}a=this.__closestGroupOrSvg(),this.__currentElement;var y="translate("+e+", "+t+")";if(g instanceof dt){if((s=g.getSvg().cloneNode(!0)).childNodes&&s.childNodes.length>1){for(l=s.childNodes[0];l.childNodes.length;)u=l.childNodes[0].getAttribute("id"),this.__ids[u]=u,this.__defs.appendChild(l.childNodes[0]);if(c=s.childNodes[1]){var b,x=c.getAttribute("transform");b=x?x+" "+y:y,c.setAttribute("transform",b),a.appendChild(c)}}}else("CANVAS"===g.nodeName||"IMG"===g.nodeName)&&((d=this.__createElement("image")).setAttribute("width",n),d.setAttribute("height",r),d.setAttribute("opacity",this.globalAlpha),d.setAttribute("preserveAspectRatio","none"),(m||f||i!==g.width||o!==g.height)&&((p=this.__document.createElement("canvas")).width=n,p.height=r,p.getContext("2d").drawImage(g,m,f,i,o,0,0,n,r),g=p),d.setAttribute("transform",y),d.setAttribute("xlink:href","CANVAS"===g.nodeName?g.toDataURL():g.getAttribute("src")),a.appendChild(d))},dt.prototype.createPattern=function(e,t){var n,r=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),i=Zx(this.__ids);return r.setAttribute("id",i),r.setAttribute("width",e.width),r.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((n=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",e.width),n.setAttribute("height",e.height),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),r.appendChild(n),this.__defs.appendChild(r)):e instanceof dt&&(r.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(r)),new jE(r,this)},dt.prototype.setLineDash=function(e){e&&e.length>0?this.lineDash=e.join(","):this.lineDash=null},dt.prototype.ellipse=function(e,t,n,r,i,o,a,s){if(o!==a){(o%=2*Math.PI)===(a%=2*Math.PI)&&(a=(a+2*Math.PI-.001*(s?-1:1))%(2*Math.PI));var l=e+Math.cos(-i)*n*Math.cos(a)+Math.sin(-i)*r*Math.sin(a),c=t-Math.sin(-i)*n*Math.cos(a)+Math.cos(-i)*r*Math.sin(a),d=e+Math.cos(-i)*n*Math.cos(o)+Math.sin(-i)*r*Math.sin(o),p=t-Math.sin(-i)*n*Math.cos(o)+Math.cos(-i)*r*Math.sin(o),u=s?0:1,h=0,g=a-o;g<0&&(g+=2*Math.PI),h=s?g>Math.PI?0:1:g>Math.PI?1:0,this.lineTo(d,p),this.__addPathCommand(lo("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:r,xAxisRotation:i*(180/Math.PI),largeArcFlag:h,sweepFlag:u,endX:l,endY:c})),this.__currentPosition={x:l,y:c}}},dt.prototype._dcgSetTitle=function(e){var t,n=this.__currentElement,r=!1,i=n.getElementsByTagName("title");i.length>0?t=i[0]:(t=this.__document.createElementNS("http://www.w3.org/2000/svg","title"),r=!0),t.textContent=e,r&&n.appendChild(t)},dt.prototype.drawFocusRing=function(){},dt.prototype.createImageData=function(){},dt.prototype.getImageData=function(){},dt.prototype.putImageData=function(){},dt.prototype.globalCompositeOperation=function(){},dt.prototype.setTransform=function(){};var N1=dt;at();var Rl=document.createElement("canvas").getContext("2d"),Tn=class{constructor(e,t){this._label=e,this._fontSize=t,this._layout=NB(e,t)}getRect(){return this.getRectWhenCenteredAt({x:0,y:0})}getRectWhenCenteredAt(e){return{left:this._layout.left+e.x,right:this._layout.right+e.x,top:this._layout.top+e.y,bottom:this._layout.bottom+e.y}}getBoundsWhenCenteredAt(e,t){switch(t){case"x":return{lower:this._layout.left+e,upper:this._layout.right+e};case"y":return{lower:this._layout.top+e,upper:this._layout.bottom+e};default:throw new Error(`Unknown axis: ${t}`)}}getWidth(){return this._layout.right-this._layout.left}getHeight(){return this._layout.bottom-this._layout.top}getDimensionAlongAxis(e){switch(e){case"x":return this.getWidth();case"y":return this.getHeight();default:throw new Error(`Unknown axis: ${e}`)}}clampBoundsWithinRect(e,t){let n,r;return n=e.x+this._layout.left<t.left?t.left-this._layout.left:e.x+this._layout.right>t.right?t.right-this._layout.right:e.x,r=e.y+this._layout.top<t.top?t.top-this._layout.top:e.y+this._layout.bottom>t.bottom?t.bottom-this._layout.bottom:e.y,{x:n,y:r}}getValue(){return this._label.value}getMinusWidth(){return this.getValue()<0?(Tn.setCtxFontSize(Rl,this._fontSize),Rl.measureText("-1").width-Rl.measureText("1").width):0}getString(){return this._label.superscript?this._label.mantissa+"^"+this._label.superscript:this._label.string}drawCenteredAt(e,t,n){let r=t.x,i=Tn.computeBaselineFromCenter(t.y,this._fontSize);n&&ei(e,n),e.save(),n&&Br(e),Tn.setCtxFontSize(e,this._fontSize),this._label.superscript?(e.strokeText(this._label.mantissa,this._layout.mantissa_x+r,this._layout.mantissa_y+i),e.strokeText(this._label.superscript,this._layout.superscript_x+r,this._layout.superscript_y+i),e.fillText(this._label.mantissa,this._layout.mantissa_x+r,this._layout.mantissa_y+i),e.fillText(this._label.superscript,this._layout.superscript_x+r,this._layout.superscript_y+i)):(e.strokeText(this._label.string,this._layout.mantissa_x+r,this._layout.mantissa_y+i),e.fillText(this._label.string,this._layout.mantissa_x+r,this._layout.mantissa_y+i)),e.restore()}static computeBaselineFromCenter(e,t){return e+.272*t}static setCtxFontSize(e,t){e.font=t+"px Arial",e.textAlign="center"}};function NB(e,t){if(e.superscript){let n=t;Tn.setCtxFontSize(Rl,n);let r=Rl.measureText(e.mantissa).width,i=Math.round(.8*t);Tn.setCtxFontSize(Rl,i);let o=Rl.measureText(e.superscript).width,a=0,s=t/5,l=r/2+o/2,c=-t/4;return{top:c-i/2,bottom:s+n/2,left:a-r/2,right:l+o/2,mantissa_height:n,mantissa_width:r,mantissa_x:a,mantissa_y:s,superscript_height:i,superscript_width:o,superscript_x:l,superscript_y:c}}{let n=t;Tn.setCtxFontSize(Rl,t);let r=Rl.measureText(e.string).width,i=0,o=0;return{top:o-n/2,bottom:o+n/2,left:i-r/2,right:i+r/2,mantissa_height:n,mantissa_width:r,mantissa_x:i,mantissa_y:o}}}function BB(e,t,n,r){let i=Math.ceil(e/n),o=Math.floor(t/n),a=1/n;if(!(i>o||o-i>1e4))for(let e=i;e<=o;e++)r(e/a)}var YE={base:10,major:[1,2,5],minor:[5,4,5]},KB={base:10,major:[Math.PI,2*Math.PI,5*Math.PI],minor:[4,4,5]},UB={base:2,major:[Math.PI/3],minor:[3]};function qB(e){return e?{base:10,major:[e,2*e,5*e],minor:[4,4,5]}:YE}function JE(e,t){let{major:n,minor:r,base:i}=t,o=1/0,a=1/0;for(let t=0;t<n.length;t++){let s=n[t],l=Math.ceil(Math.log(e/s)/Math.log(i)),c=s*Math.pow(i,l);if(c<o){o=c,a=o/r[t]}}return{major:o,minor:a}}function HB(e,t,n){return 1+(t-e)/n}function B1(e){let t=e.screen.width,n=e.screen.height,r=e.viewport.xmax-e.viewport.xmin,i=e.viewport.ymax-e.viewport.ymin,o=e.settings.pixelsPerLabel;return{majorStepX:o/t*r,majorStepY:o/n*i}}function wd(e){let t=t=>{let[n,r,i,o,a]="x"===t?[e.viewport.xmin,e.viewport.xmax,e.settings.xAxisStep,e.settings.xAxisNumbers,e.settings.xAxisMinorSubdivisions]:[e.viewport.ymin,e.viewport.ymax,e.settings.yAxisStep,e.settings.yAxisNumbers,e.settings.yAxisMinorSubdivisions],s=r-n,l=Math.abs(null!=i?i:NaN),c=0,d=0;if(l&&l!==Math.PI){let i=HB(n,r,l);if(i>=3&&i<100){let p=0;if(o){let i=0;BB(n,r,l,(function(n){let r=new Tn(__dcg_shared_module_exports__.Na(n,s),e.settings.labelSize);i=Math.max(r.getDimensionAlongAxis(t),i)})),p=i+10}else p=1===a?8:20;let u="x"===t?"width":"height";i*p<=e.screen[u]&&(c=l,d=3===l||5===l?1:l/4)}}if(!c){let n=B1(e)["x"===t?"majorStepX":"majorStepY"],r=JE(n,__dcg_shared_module_exports__.Na(l,s).string.indexOf("π")>=0?n>=1?KB:UB:qB(l));c=r.major,d=r.minor}return{majorStep:c,minorStep:d}},n=t=>{let[n,r,i,o]="x"===t?[e.viewport.xmin,e.viewport.xmax,os(e.settings.xAxisBase||0),e.screen.width]:[e.viewport.ymin,e.viewport.ymax,os(e.settings.yAxisBase||0),e.screen.height],{pixelsPerLabel:a}=e.settings,s=Math.floor(o/a),l=(Math.log(r)-Math.log(n))/Math.log(i),c=.5,d=.5;for(;c<=.5;){d*=2;let e=__dcg_shared_module_exports__.Pa(d*l);c=(Math.floor(e)+1)/s}let p=1===d?__dcg_shared_module_exports__.a(2,Math.ceil(Math.log(c)/Math.log(2))):1/d;return{majorStep:p,minorStep:p}},{x:r,y:i}=(()=>{let{xAxisScale:r,yAxisScale:i}=e.settings,o="logarithmic"===r,a="logarithmic"===i;return o||a?{x:(o?n:t)("x"),y:(a?n:t)("y")}:(()=>{var n,r;if(Math.abs(null!=(n=e.settings.xAxisStep)?n:NaN)===Math.abs(null!=(r=e.settings.yAxisStep)?r:NaN)){let{xmin:n,xmax:r,ymin:i,ymax:o}=e.viewport,a=e.screen.width/(r-n)/(e.screen.height/(o-i));if(a>=1&&a<=2){let{majorStep:e,minorStep:n}=t("y");return{x:{majorStep:e,minorStep:n},y:{majorStep:e,minorStep:n}}}if(a<=1&&a>=.5){let{majorStep:e,minorStep:n}=t("x");return{x:{majorStep:e,minorStep:n},y:{majorStep:e,minorStep:n}}}}return{x:t("x"),y:t("y")}})()})(),{xAxisMinorSubdivisions:o=0,yAxisMinorSubdivisions:a=0}=e.settings;return{majorStepX:r.majorStep,minorStepX:o>0?r.majorStep/o:r.minorStep,majorStepY:i.majorStep,minorStepY:a>0?i.majorStep/a:i.minorStep}}function K1(e){let t=B1(e),n=JE(t.majorStepX,YE),r=JE(t.majorStepY,YE),i=n.major>r.major?n:r;return{majorStepR:i.major,minorStepR:i.minor}}at(),qC();var Vr={};__dcg_shared_module_exports__.h(Vr,{ALT:()=>YB,BACKSPACE:()=>ga,CAPSLOCK:()=>JB,CONTROL:()=>jB,DELETE:()=>vd,DOWN:()=>Yn,END:()=>hp,ENTER:()=>il,ESCAPE:()=>co,HOME:()=>gp,LEFT:()=>kc,PAGEDOWN:()=>pp,PAGEUP:()=>up,RIGHT:()=>Ic,SHIFT:()=>Jg,SPACEBAR:()=>Xg,TAB:()=>rl,UP:()=>Fn,default:()=>tl,isBacktick:()=>zB,isHelp:()=>WB,isRedo:()=>Yg,isSelectAll:()=>$B,isUndo:()=>jg,lookup:()=>Le,lookupChar:()=>Ei});var U1=new function(){for(var e={8:this.BACKSPACE="Backspace",9:this.TAB="Tab",13:this.ENTER="Enter",16:this.SHIFT="Shift",17:this.CONTROL="Control",18:this.ALT="Alt",20:this.CAPSLOCK="CapsLock",27:this.ESCAPE="Esc",32:this.SPACEBAR="Space",33:this.PAGEUP="PageUp",34:this.PAGEDOWN="PageDown",35:this.END="End",36:this.HOME="Home",37:this.LEFT="Left",38:this.UP="Up",39:this.RIGHT="Right",40:this.DOWN="Down",46:this.DELETE="Del"},t={Backspace:this.BACKSPACE,Tab:this.TAB,Enter:this.ENTER,Shift:this.SHIFT,Control:this.CONTROL,Alt:this.ALT,CapsLock:this.CAPSLOCK,Escape:this.ESCAPE," ":this.SPACEBAR,PageUp:this.PAGEUP,PageDown:this.PAGEDOWN,End:this.END,Home:this.HOME,ArrowLeft:this.LEFT,ArrowUp:this.UP,ArrowRight:this.RIGHT,ArrowDown:this.DOWN,Delete:this.DELETE},n={UIKeyInputUpArrow:this.UP,UIKeyInputDownArrow:this.DOWN,UIKeyInputLeftArrow:this.LEFT,UIKeyInputRightArrow:this.RIGHT,UIKeyInputEscape:this.ESCAPE,UIKeyInputPageUp:this.PAGEUP,UIKeyInputPageDown:this.PAGEDOWN},r=["0123456789abcdefghijklmnopqrstuvwxyz","º¡™£¢∞§¶•ªå∫ç∂ ƒ©˙ ∆˚¬µ øπœ®ß† √∑≈¥Ω","‚⁄€‹›ﬁﬂ‡°·ÅıÇÎ´Ï˝ÓˆÔÒÂ˜Ø∏Œ‰Íˇ¨◊„˛Á¸"].map((function(e){return e.split("")})),i=r[0],o=r[1],a=r[2],s={},l={},c=0;c<i.length;c++){var d=i[c];" "!==o[c]&&(s[o[c]]=d.toUpperCase())," "!==a[c]&&(l[a[c]]=d.toUpperCase())}this.isUndo=function(e){return!e.altKey&&!e.shiftKey&&(e.ctrlKey||e.metaKey)&&("z"==e.key||90==e.which)},this.isRedo=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&("y"===e.key||89==e.which||e.shiftKey&&("Z"===e.key||"z"===e.key||90===e.which))},this.isSelectAll=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&("a"===e.key||"A"===e.key||65==e.which)},this.isBacktick=function(e){return!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||"`"!==e.key&&192!=e.which)},this.isHelp=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&("/"===e.key||191==e.which)},this.lookup=function(r){return t[r.key]||e[r.which]||n[r.key]},this.lookupChar=function(e){if(!e.key)return String.fromCharCode(e.which);if(mT.IS_APPLE&&e.altKey){var t=e.shiftKey?l:s;if(t[e.key])return t[e.key]}return 1===e.key.length?e.key.toUpperCase():"Enter"===e.key?String.fromCharCode(13):"Tab"===e.key?String.fromCharCode(9):void 0}},tl=U1,{isUndo:jg,isRedo:Yg,isSelectAll:$B,isBacktick:zB,isHelp:WB,BACKSPACE:ga,TAB:rl,ENTER:il,SHIFT:Jg,CONTROL:jB,ALT:YB,CAPSLOCK:JB,ESCAPE:co,SPACEBAR:Xg,PAGEUP:up,PAGEDOWN:pp,END:hp,HOME:gp,LEFT:kc,UP:Fn,RIGHT:Ic,DOWN:Yn,DELETE:vd,lookup:Le,lookupChar:Ei}=U1,XB=function(){{let F=function(e,t){e.trim().split(/\s+/).forEach((function(e){var n=L?{passive:!1}:void 0;document.addEventListener(e,(function(e){i("document.on:"+e.type),t(P.event.fix(e))}),n)}))},N=function(e){var t=!!P(e).closest(".dcg-do-not-blur").length,n=!!P(e).closest(".dcg-do-blur").length;return!(!t||n||!_(e))};var e,t,n=-1!==document.location.href.indexOf("dcgDebugTouchTracking=dcgYES");null==window._touchtracking_id_counter&&(window._touchtracking_id_counter=0),window._touchtracking_id_counter+=1;var r="touchtracking_id_"+window._touchtracking_id_counter,i=function(e){t&&(t[0].value="("+Date.now()+") "+e+"\n"+t[0].value)};UC.evtInScope=function(e){return _(e.target)},UC.isGhostEvent=function(e){return!(window.PointerEvent||s!==o&&s!==a&&!A()||e.target===h||e.target&&P.contains(e.target,h)||h&&P.contains(h,e.target))&&(i("found ghost event"),!0)};var o=1,a=4,s=0,l={},c={},d=[],p=0,u=null,h=null,g=null,m=[],f=function(e){for(var t=[];e;)t.push(e),e=e.parentNode;return t},y=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(t.push(i),P(i).is(".dcg-tap-container, .dcg-no-touchtracking"))return P(i).is(".dcg-tap-container."+r)?t:[]}return[]},b=function(e,t){h=null,i("beginMode:"+(s=e)),d=f(s===o?t.originalEvent.touches[0].target:t.target),P(y(d)).addClass("dcg-depressed").each((function(){var e=P(this);v(e)&&e.addClass("dcg-focus-by-tap")})),P(d).each((function(){var e=P(this);e.data({originalScrollTop:e.scrollTop(),originalScrollLeft:e.scrollLeft()})})),c={}},x=function(e){return e.is('input, textarea, select, [role="textbox"]')||e.hasClass("dcg-mathquill-input-span")||e.is("[contenteditable=true]")},_=function(e){return!!P(e).closest(".dcg-tap-container, .dcg-no-touchtracking").is(".dcg-tap-container."+r)},v=function(e){return 3!==s&&!x(e)&&_(e)},w=function(e,t){h=null;var n=!1;i("endMode:"+s),P(".dcg-depressed").removeClass("dcg-depressed");var r=P(document.activeElement);if(!N(e.target)&&v(r))try{r.blur()}catch(e){}if(P(".dcg-focus-by-tap").removeClass("dcg-focus-by-tap"),P(d).each((function(){var e=P(this),t=e.data("originalScrollTop")-e.scrollTop(),n=e.data("originalScrollLeft")-e.scrollLeft();(t||n)&&(c.scroll=!0)})),1===c["dcg-tapstart"]&&1===c["dcg-tapend"]&&!c["dcg-tapcancel"]&&!c.scroll){i("potential dcg-tap");var l=t.changedTouches[0].clientX,g=t.changedTouches[0].clientY;if(e&&!e.device&&0===l&&0===g){i("event appears to be simulated"),n=!0,s=3;var m=e.target.getBoundingClientRect();l=(m.left+m.right)/2,g=(m.top+m.bottom)/2}i("potential dcg-tap coords:"+l+":"+g);for(var f=!1,y=!1,b=0;b<d.length&&!f;b++){var x,_=P(d[b]);if("function"==typeof _[0].getBoundingClientRect&&(x=_[0].getBoundingClientRect()),"true"===_.attr("tapboundary")&&(f=!0),!x||!(l<x.left||g<x.top||l>x.right||g>x.bottom)){h=_[0],y=!0,I("dcg-tap",e,{target:h,touches:t.touches,changedTouches:t.changedTouches});break}}}i("result of dcg-tap:  did_dispatch="+y+"  did_escape="+f),s===o||s===a?u=setTimeout((function(){u=null,p=(new Date).getTime()}),1e3):n&&(u=setTimeout((function(){u=null,p=(new Date).getTime()}),100)),d=[],s=0},A=function(){return u||(new Date).getTime()-p<500},k=function(e){return void 0!==e.identifier?e.identifier:e.pointerId},E=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push({identifier:k(r),x:r.pageX,y:r.pageY,screenX:r.screenX,screenY:r.screenY,pageX:r.pageX,pageY:r.pageY,clientX:r.clientX,clientY:r.clientY})}return t},I=function(e,t,n){var r=k(t),d=E(n.touches),p=E(n.changedTouches);if(i("dispatchEvent:"+e),"dcg-tapstart"===e)l[r]={type:e,pageX:p[0].pageX,pageY:p[0].pageY};else if("dcg-tapmove"===e){var u=p[0],h=l[r];if(h&&u.pageX===h.pageX&&u.pageY===h.pageY||(s===o||s===a)&&h&&"dcg-tapstart"===h.type&&Math.abs(h.pageX-u.pageX)+Math.abs(h.pageY-u.pageY)<2)return;l[r]={type:e,pageX:p[0].pageX,pageY:p[0].pageY}}void 0===c[e.toLowerCase()]?c[e.toLowerCase()]=1:c[e.toLowerCase()]++;var m=P.event.fix(t.originalEvent);m.type=e,m.device=s===o||s===a?"touch":3===s?"keyboard":"mouse",m.touches=d,m.changedTouches=p,m.target=n.target?n.target:t.target;var f="keyboard"!==m.device&&c["dcg-longhold"]>0;m.wasLongheld=function(){return f},m.preventTap=function(){c["dcg-tapcancel"]=1},clearTimeout(g),"dcg-tapstart"===m.type&&"keyboard"!==m.device&&1===m.touches.length&&(g=setTimeout((function(){I("dcg-longhold",t,n)}),500)),m.target&&m.target.nodeName&&"a"===m.target.nodeName.toLowerCase()&&"dcg-tap"===m.type&&"keyboard"===m.device&&m.target.click&&m.target.click(),i("trigger event:"+m.type),P(m.target).trigger(m)},M=function(e){var t=d,n=!!d.length,i=P(".dcg-tap-container."+r+" .dcg-hovered"),o=P.makeArray(i.filter((function(){return _(this)}))),a=[],s=[],l=[];y(f(e)).forEach((function(e){(!n||-1!==t.indexOf(e))&&(-1===o.indexOf(e)&&l.push(e),a.push(e))}));for(var c=0;c<o.length;c++)e=o[c],-1===a.indexOf(e)&&s.push(e);P(s).removeClass("dcg-hovered").trigger("tipsyhide"),P(l).addClass("dcg-hovered").trigger("tipsyshow")},S=function(e){for(var t=0;t<m.length;t++)if(m[t].pointerId===e)return!0;return!1},C=function(e){for(var t=0;t<m.length;t++)if(m[t].pointerId===e)return m.splice(t,1)[0]},T=function(e){0===s&&b(a,e),M(null),m.push(e.originalEvent),I("dcg-tapstart",e,{touches:m,changedTouches:[e.originalEvent]})},D=function(e){C(e.originalEvent.pointerId);var t={touches:m,changedTouches:[e.originalEvent]};I("dcg-tapcancel",e,t),0===m.length&&w(e,t)},O=function(e){C(e.originalEvent.pointerId);var t={touches:m,changedTouches:[e.originalEvent]};I("dcg-tapend",e,t),0===m.length&&w(e,t)},B=function(e){return"touch"===e.originalEvent.pointerType||2===e.originalEvent.pointerType};F("pointerdown MSPointerDown",(function(e){if(2!==s&&s!==o&&B(e)){if(S(e.originalEvent.pointerId))return void i("exit. pointer id already exists: "+e.originalEvent.pointerId);T(e)}})),F("pointermove MSPointerMove",(function(e){2===s||s===o||!B(e)||(S(e.originalEvent.pointerId)||(i("pointer id already exists: "+e.originalEvent.pointerId),T(e)),C(e.originalEvent.pointerId),m.push(e.originalEvent),I("dcg-tapmove",e,{touches:m,changedTouches:[e.originalEvent]}))})),P(document).on("pointercancel MSPointerCancel",(function(e){if(i("document.on:"+e.type),s===a&&B(e)&&S(e.originalEvent.pointerId)){D(e);for(var t;t=m.pop();){e=P.Event(t,{originalEvent:t});D(e)}}})),P(document).on("pointerup MSPointerUp",(function(e){if(i("document.on:"+e.type),s===a&&B(e)&&S(e.originalEvent.pointerId)){O(e);for(var t;t=m.pop();){e=P.Event(t,{originalEvent:t});O(e)}}}));var L=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",(function(){}),t),window.removeEventListener("test",(function(){}),t)}catch(e){}return e}();return F("touchstart",(function(e){2===s||s===a||(0===s&&b(o,e),M(null),I("dcg-tapstart",e,{touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches}))})),F("touchmove",(function(e){s===o&&I("dcg-tapmove",e,{touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches})})),F("touchcancel",(function(e){if(s===o){var t={touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches};I("dcg-tapcancel",e,t),0===e.originalEvent.touches.length&&w(e,t)}})),F("touchend",(function(e){if(s===o){var t={touches:e.originalEvent.touches,changedTouches:e.originalEvent.changedTouches};I("dcg-tapend",e,t),0===e.originalEvent.touches.length&&w(e,t)}})),P(document).on("mousedown",(function(e){if(i("document.on:"+e.type),1!==e.button&&2!==e.button){if(s===o||s===a||A())return!P(e.target).is("input, textarea, select")&&_(e.target)&&e.preventDefault(),void i("abort mousedown: "+s+":"+A());b(2,e),I("dcg-tapstart",e,{touches:[e],changedTouches:[e]})}})),P(document).ready((function(){P(document).on("mousedown",(function(e){if(i("document.on:"+e.type),N(e.target)){e.preventDefault();try{var t=window.getSelection();if(1===t.rangeCount){var n=t.getRangeAt(0);n.startContainer===n.endContainer&&P(n.startContainer).closest(".dcg-text-selectable").length&&t.removeAllRanges()}}catch(e){}}}))})),P(document).on("mouseleave",(function(e){if(i("document.on:"+e.type),0===s){if(A())return void i("abort mouseleave: "+s+":"+A());M(null)}})),P(document).on("mousemove",(function(e){if(i("document.on:"+e.type),1!==e.button&&2!==e.button&&s!==o&&s!==a){if(A())return void i("abort mousemove: "+s+":"+A());M(e.target),I("dcg-tapmove",e,{touches:[e],changedTouches:[e]})}})),P(document).on("mouseup",(function(e){if(i("document.on:"+e.type),1!==e.button&&2!==e.button&&2===s){var t={touches:[],changedTouches:[e]};I("dcg-tapend",e,t),w(e,t)}})),P(document).on("keydown",(function(e){if(i("document.on:"+e.type),(tl.lookup(e)===tl.ENTER||tl.lookup(e)===tl.SPACEBAR)&&_(e.target)&&3!==s){if(P(e.target).is('a:not([ontap]), button, input, textarea, select, [role="textbox"], [contenteditable="true"]'))return;e.preventDefault(),b(3,e),I("dcg-tapstart",e,{touches:[e],changedTouches:[e]})}})),P(document).on("keyup",(function(e){if(i("document.on:"+e.type),(tl.lookup(e)===tl.ENTER||tl.lookup(e)===tl.SPACEBAR)&&_(e.target)&&3===s){var t={touches:[],changedTouches:[e]};I("dcg-tapend",e,t),w(e,t)}})),{monitor:function(o){P(o).addClass("dcg-tap-container"),P(o).addClass(r),n&&(e&&e.remove(),e=P('<div style="position:absolute;bottom:10px;right:10px;"><textarea rows="30" cols="40"></textarea><div id="dcg-touchtracking-debug-copy" class="dcg-btn-blue">COPY LOGS</div></div>'),t=e.find("textarea"),P(o).append(e),P("#dcg-touchtracking-debug-copy")[0].addEventListener("mousedown",(function(){t[0].select(),document.execCommand("copy")}),!0),i("monitor touches"))},ignore:function(e){P(e).addClass("dcg-no-touchtracking")},isTapActive:function(){return 0!==s},elIsFocusable:x}}}(),{ignore:tj,isTapActive:q1,elIsFocusable:Mc,monitor:fp}=XB;function Ur(){if(document.activeElement){var e=P(document.activeElement);Mc(e)&&P(document.activeElement).trigger("blur")}}at(),at(),Ns();var mp,ew=[],H1="",$1=Sn();function Ui(){void 0!==mp&&mp.empty()}function Ct(e){ew.push(e)}function ge(e){if(void 0!==e&&Ct(e),void 0!==mp&&ew.length>0){let e=ew.join(" ").replace(/ +(?= )/g,"");mp.attr("aria-relevant",H1===e&&gi?"all":"additions text"),e&&$1.logAria&&__dcg_shared_module_exports__.Hc.log(e),mp.empty().text(e),H1=e}ew.length=0}function QB(){document.documentElement.addEventListener("focus",(e=>{let t=e.target;if(t instanceof Element){let e=t.getAttribute("aria-label");e&&__dcg_shared_module_exports__.Hc.log(e)}}),!0)}$1.logAria&&QB(),P((()=>{let e=".dcg-aria-alert";0===P(e).length&&P("body").append("<p aria-live='assertive' aria-atomic='true' class='dcg-aria-alert'></p>"),mp=P(e)}));var cs=__dcg_shared_module_exports__.i(ne()),ZB=/`[^`]*`/g,e3=/^[\+\-]?[\d]*(\.\d+)?$/,t3=e=>{if(null!=e){let t=e.match(/`/g);return(null!=t&&t.length||0)%2==0}return!0},r3=e=>{let t=[];if(null==e||0==e.length)return t;let n,r=0;for(;n=ZB.exec(e);){let i=e.slice(r,n.index);i.length>0&&t.push({from:r,to:n.index,type:"text",text:i}),r=n.index+n[0].length,t.push({from:n.index,to:r,type:"math",text:n[0].slice(1,-1)})}let i=e.slice(r);return i.length>0&&t.push({from:r,to:e.length,type:"text",text:i}),t},z1=Ca.StaticMath(document.createElement("span"));function uo(e){let t="",n=[];n=t3(e)?r3(e):[{from:0,to:e.length,type:"text",text:e}];for(let e of n)t+="text"===e.type?e.text:nn(e.text);return t}function nn(e){let t="";return e3.test(e)?(/^\+/.test(e)?(t="positive ",e=e.slice(1)):/^\-/.test(e)&&(t="negative ",e=e.slice(1)),t+=e.replace(/(\.)([0-9]+)/g,((e,t,n)=>t+n.split("").join(" ").trim()))):(z1.latex(e),t=z1.mathspeak().trim()),t}at();var{For:i3}=cs.Components;function tw(e,t){let n=e[t];return Array.isArray(n)&&e.tableInfo?n[e.tableInfo.rowIndex]:n}var Zg=class extends cs.Class{init(){this.grapher=this.props.grapher(),this.renderedPointsIdOrder=[],this.renderedPoints={}}template(){return cs.createElement(i3,{each:()=>this.renderedPointsIdOrder},cs.createElement("div",{class:cs.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:()=>this.requestRedrawNextFrame(),onFocusout:()=>this.requestRedrawNextFrame(),didMount:this.bindFn(this.didMountRoot)},(e=>cs.createElement("div",{class:this.const({"dcg-tabbable-point":!0,"dcg-movable-point":"movable"===this.renderedPoints[e].type}),style:()=>({transform:this.getTransform(e)}),role:cs.const("button"),"aria-roledescription":()=>"movable"===this.renderedPoints[e].type?this.grapher.controller.s("graphing-calculator-narration-movable-point-description"):"draggable-label"===this.renderedPoints[e].type?this.grapher.controller.s("graphing-calculator-narration-draggable-label-description"):this.grapher.controller.s("graphing-calculator-narration-point-description"),"dcg-mp-id":this.const(e),tabindex:()=>this.getTabIndex(e),"aria-label":()=>this.getAriaLabel(e),"aria-hidden":this.bindFn(this.getAriaHidden)}))))}redraw(e,t,n){var r=this.grapher.graphSketches,i=this.renderedPoints;this.renderedPoints={},this.renderedPointsIdOrder=[];var o=this.getFocusedPointId(),a=r=>{var a=this.processPOI(e,t,r,i[r.id],n,o);a&&(this.renderedPoints[r.id]=a,this.renderedPointsIdOrder.push(r.id))};this.grapher.getSketchOrder().forEach((e=>{var t=r[e];t&&(t.getMovablePoints().forEach(a),t.getStaticLabeledPoints().forEach(a))}));var s=this.renderedPoints[this.hoveredPointId],l=this.renderedPoints[this.pressedPointId],c=s&&s.poi,d=l&&l.poi;c||this.setHoveredPointId(void 0),d||this.setPressedPointId(void 0);var p,u,h=d||c;h?(p="movable-point"===h.type&&h.tableInfo&&h.tableInfo.dragX,u="movable-point"===h.type&&h.tableInfo&&h.tableInfo.dragY,p&&u||!p&&!u?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point"):p?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ew"):this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ns")):this.grapher.setLayerClass("movablePoints",void 0),this.update(),this.speakAriaAlert()}_clampedOpacity(e){return e<0?0:e>1?1:__dcg_shared_module_exports__.Ja(e)?e:1}drawForScreenshot(e,t,n,r){var i=this.grapher.graphSketches;for(let l in i){var o,a=i[l],s=a.branches[0];4===s.graphMode&&(o=s.pointOpacity),a.getMovablePoints().forEach((i=>{var a={screenX:t.mapx(i.x),screenY:t.mapy(i.y),color:i.color,pointOpacity:o,animationPercent:0};this.drawMovablePointOnCtx(e,i.sketch,a,n,r)}))}}processPOI(e,t,n,r,i,o){var a=n.id,s=n.x,l=n.y,c=t.mapx(s),d=t.mapy(l),p=o===a,u=t.coordsAreOnscreen(c,d,20);if(u||p){if(!r){var h=n.sketch?this.grapher.controller.getItemModel(n.sketch.id):void 0;r="movable-point"===n.type?{type:"movable",id:a,pointOnScreen:u,poi:n,projection:t,screenX,screenY,color:tw(n,"color"),pointOpacity:tw(n,"pointOpacity"),pointIsHovered:!1,pointIsPressed:!1,lastHoverActionTime:0,animationPercent:0}:h&&"expression"===h.type&&void 0!==h.label&&h.showLabel&&"NONE"!==h.reconciledDragMode?{type:"draggable-label",id:a,pointOnScreen:u,poi:n,projection:t,screenX,screenY}:{type:"static",id:a,pointOnScreen:u,poi:n,projection:t,screenX,screenY}}return r.pointOnScreen=u,r.poi=n,r.projection=t,r.screenX=c,r.screenY=d,"movable"===r.type&&(r.color=tw(r.poi,"color"),r.pointOpacity=tw(r.poi,"pointOpacity"),this.updateMovablePointAnimation(r),this.drawMovablePointOnCtx(e,r.poi.sketch,r,i)),r}}drawMovablePointOnCtx(e,t,n,r,i){var o,a;a=i||(this.grapher.settings.config.projectorMode?13.5:10.5),t.tokenSelected?a*=2:t.tokenHovered?a*=1.5:t.showHighlight&&(a*=1.2);var s=Array.isArray(n.color)?n.color[0]:n.color,l=n.screenX,c=n.screenY,d=n.animationPercent||0;r.push({left:l-a,right:l+a,top:c-a,bottom:c+a}),e.save();var p=e.globalAlpha,u=this._clampedOpacity(n.pointOpacity);u*=null!=(o=this.grapher.controller.getGeoModel().getToolFadeOpacity(t.id))?o:1,e.fillStyle=s,e.globalAlpha=.35*u,e.beginPath(),e.moveTo(l+a,c),e.arc(l,c,a,0,2*Math.PI,!0),e.closePath(),e.fill(),e.globalAlpha=u,a*=.3+.7*d,e.beginPath(),e.moveTo(l+a,c),e.arc(l,c,a,0,2*Math.PI,!0),e.closePath(),e.fill(),e.globalAlpha=p,e.restore()}updateMovablePointAnimation(e){var t=Date.now(),n=e.id,r=this.hoveredPointId===n,i=this.pressedPointId===n;e.pointIsPressed=i,r!==e.pointIsHovered&&(e.pointIsHovered=r,e.lastHoverActionTime=t);var o=e.animationPercent||0,a=.004*(t-e.lastHoverActionTime);i?o=1:r?(o+=a)>=1?o=1:this.requestRedrawNextFrame():(o-=a)<=0?o=0:this.requestRedrawNextFrame(),e.animationPercent=o}getTransform(e){var t=this.renderedPoints[e];if(t)return CT(t.screenX,t.screenY)}getTabIndex(e){if("selection"!==this.grapher.controller.getActiveTool())return-1;let t=this.renderedPoints[e];if(!t)return-1;let n=t.poi,r=this.grapher.controller.getItemEditableLabelMode(n.sketch.id),i=this.grapher.controller.getItemModel(n.sketch.id),o=i&&"expression"===i.type&&!Xs(i)&&("movable"===t.type||void 0===r||"NONE"===r);var a=this.grapher.settings;let s=a.config.graphpaper&&a.config.enableTabindex;return o&&s?0:-1}getAriaHidden(){return!this.grapher.settings.config.graphpaper}getAriaLabel(e){var t=this.getAriaAlert({id:e,includeUsageInstructions:!1});return t&&t.completeMessage}speakAriaAlert(){let e=this.getFocusedPointId();if(e){let t=this.renderedPoints[e];if(!t||"static"===t.type)return}var t=this.getAriaAlert({id:e,lastAriaAlert:this.lastAriaAlert,includeUsageInstructions:!0});this.lastAriaAlert=t,t&&t.completeMessage&&ge(t.completeMessage)}getAriaAlert(e){let{id:t,lastAriaAlert:n,includeUsageInstructions:r}=e;if(!t)return;var i=this.renderedPoints[t];if(!i)return;n&&n.id!==t&&(n=void 0);var o=i.poi,a=i.pointOnScreen,s=i.projection;if(!o||!s)return;var l=s.viewport;if(!l)return;var c=n&&n.label,d=o.ariaLabel,p=c!==d,u=n&&n.coordX,h=n&&n.coordY,g=o.x,m=o.y,f=g!==u||m!==h,y=Cd(this.grapher.controller,g,m,l);let{controller:b}=this.grapher;var x=d||b.s("graphing-calculator-narration-movable-point-prefix"),_="movable"!==i.type&&"draggable-label"!==i.type||!r?"":b.s("graphing-calculator-narration-movable-point-suffix-usage-instructions"),v=a?"":b.s("graphing-calculator-narration-movable-point-off-screen-prompt");return{id:t,coordX:g,coordY:m,label:d,completeMessage:n?p?x+v:f?y+v:"":x+". "+y+_+v}}setHoveredPointId(e){e!==this.hoveredPointId&&(this.hoveredPointId=e,this.requestRedrawNextFrame())}isMovingPoint(){return!!this.pressedPointId}setPressedPointId(e){e!==this.pressedPointId&&(this.pressedPointId=e,this.requestRedrawNextFrame())}getFocusedPointId(){if(document.activeElement&&P.contains(this.rootNode,document.activeElement))return P(document.activeElement).attr("dcg-mp-id")}getFocusedPoint(){var e=this.getFocusedPointId();if(e){var t=this.renderedPoints[e];if(t)return t.poi}}didMountRoot(e){this.rootNode=e}requestRedrawNextFrame(){this.grapher.redrawAllLayers()}};function Cd(e,t,n,r){return on(e,t,r)+" "+an(e,n,r)}function on(e,t,n){return e.getGraphSettings().showXAxis?e.s("graphing-calculator-narration-audio-trace-property-x",{x:nn(__dcg_shared_module_exports__.Na(t,n.xmax-n.xmin).latex)}):e.s("graphing-calculator-narration-x-percentage-coordinate",{x:Math.round((t-n.xmin)/(n.xmax-n.xmin)*1e3)/10})}function an(e,t,n){return e.getGraphSettings().showYAxis?e.s("graphing-calculator-narration-audio-trace-property-y",{y:nn(__dcg_shared_module_exports__.Na(t,n.ymax-n.ymin).latex)}):e.s("graphing-calculator-narration-y-percentage-coordinate",{y:Math.round((n.ymax-t)/(n.ymax-n.ymin)*1e3)/10})}var n3=Math.hypot&&Math.hypot(1/0,NaN)===1/0;function W1(e){return e===1/0||e===-1/0}var Sd=n3?Math.hypot:function(e,t){if(W1(e)||W1(t))return 1/0;if(isNaN(e)||isNaN(t))return NaN;if(0===e&&0===t)return 0;if(Math.abs(e)>Math.abs(t)){let n=t/e;return Math.abs(e)*Math.sqrt(n*n+1)}{let n=e/t;return Math.abs(t)*Math.sqrt(n*n+1)}};function yp(e){let t=[[e.x0,e.y0],[e.x1,e.y1],[e.x2,e.y2]],[n,r]=__dcg_shared_module_exports__.nb(t);return{x:n,y:r,radius:__dcg_shared_module_exports__.X(e.x0-n,e.y0-r)}}function rw(e){let t=[[e.x0,e.y0],[e.x1,e.y1],[e.x2,e.y2]],[n,r]=__dcg_shared_module_exports__.nb(t);return{startAngle:Math.atan2(e.y0-r,e.x0-n),deltaAngle:__dcg_shared_module_exports__.ob(t)}}var j1=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),o3=(e,t)=>e.x*t.x+e.y*t.y;function nw(e,t){return Sd(e.x-t.x,e.y-t.y)}function Y1(e,t){let n={x:e.x1,y:e.y1},r={x:e.x2,y:e.y2},i=j1(t,n),o=j1(r,n),a=nw(n,r),s=a*a;return o3(i,o)/s}function eD(e){return[{x1:e.left,y1:e.top,x2:e.left,y2:e.bottom,extendStart:!1,extendEnd:!1},{x1:e.left,y1:e.top,x2:e.right,y2:e.top,extendStart:!1,extendEnd:!1},{x1:e.right,y1:e.top,x2:e.right,y2:e.bottom,extendStart:!1,extendEnd:!1},{x1:e.left,y1:e.bottom,x2:e.right,y2:e.bottom,extendStart:!1,extendEnd:!1}]}function a3(e){let{angle:t,width:n,height:r,center:i}=e,o=i.x,a=i.y,s=Math.cos(-t),l=Math.sin(-t),c=n/2,d=r/2,p={x:o+s*-c-l*-d,y:a+l*-c+s*-d},u={x:o+s*c-l*-d,y:a+l*c+s*-d},h={x:o+s*c-l*d,y:a+l*c+s*d},g={x:o+s*-c-l*d,y:a+l*-c+s*d};return[{x1:p.x,y1:p.y,x2:u.x,y2:u.y,extendStart:!1,extendEnd:!1},{x1:u.x,y1:u.y,x2:h.x,y2:h.y,extendStart:!1,extendEnd:!1},{x1:h.x,y1:h.y,x2:g.x,y2:g.y,extendStart:!1,extendEnd:!1},{x1:g.x,y1:g.y,x2:p.x,y2:p.y,extendStart:!1,extendEnd:!1}]}function s3(e,t){let n=eD(e);return!!(ow(t,n[0])||ow(t,n[1])||ow(t,n[2])||ow(t,n[3]))}function l3(e,t){let n=eD(e);return!!(nl(t,n[0],!1)||nl(t,n[1],!1)||nl(t,n[2],!1)||nl(t,n[3],!1)||nl(t,n[0],!0)||nl(t,n[1],!0)||nl(t,n[2],!0)||nl(t,n[3],!0))}function c3(e,t){let n=eD(e);return!!(Tc(t,n[0],!1)||Tc(t,n[1],!1)||Tc(t,n[2],!1)||Tc(t,n[3],!1)||Tc(t,n[0],!0)||Tc(t,n[1],!0)||Tc(t,n[2],!0)||Tc(t,n[3],!0))}function d3(e,t){return e.left<=t.left&&e.right>=t.right&&e.top<=t.top&&e.bottom>=t.bottom}function u3(e,t){return e.left<=t.x&&t.x<=e.right&&e.top<=t.y&&t.y<=e.bottom}function aw(e,t){if(!t.extendStart){let n=e.left<=t.x1&&t.x1<=e.right,r=e.top<=t.y1&&t.y1<=e.bottom;if(n&&r)return!0}return s3(e,t)}function tL(e,t){return!(!u3(e,{x:t.x0,y:t.y0})&&!c3(e,t))}function rL(e,t){return!(!d3(e,{left:t.x-t.radius,right:t.x+t.radius,top:t.y-t.radius,bottom:t.y+t.radius})&&!l3(e,t))}function p3(e,t){let n=e.x-t.center.x,r=e.y-t.center.y,i=Math.atan2(r,n),o=Sd(n,r),a={x:o*Math.cos(i+t.angle),y:o*Math.sin(i+t.angle)};return Math.abs(a.x)<=t.width/2&&Math.abs(a.y)<=t.height/2}function iL(e,t){if(t.length<4)return!1;let n={x1:NaN,y1:NaN,x2:t[0],y2:t[1],extendStart:!1,extendEnd:!1};for(var r=2;r<t.length;r+=2)if(n.x1=n.x2,n.y1=n.y2,n.x2=t[r],n.y2=t[r+1],aw(e,n))return!0;return!1}function nL(e,t){var n=a3(t);for(let t of n)if(aw(e,t))return!0;return!!p3({x:e.left,y:e.top},t)}function h3(e,t,n){let r=t.x1-e.x,i=t.x2-e.x,o=t.y1-e.y,a=t.y2-e.y,s=e.radius,l=i-r,c=a-o,d=l*l+c*c,p=r*a-i*o,u=Math.sqrt(s*s*d-p*p);if(u<0)return;if(c>=0)var h=1;else h=-1;let g=n?-1*h:1*h;return{x:e.x+(p*c+g*h*l*u)/d,y:e.y+(-p*l+g*Math.abs(c)*u)/d}}function g3(e,t){let n=e.y2-e.y1,r=e.x1-e.x2,i=t.y2-t.y1,o=t.x1-t.x2,a=n*e.x1+r*e.y1,s=i*t.x1+o*t.y1,l=n*o-i*r;if(0!==l)return{x:(o*a-r*s)/l,y:(n*s-i*a)/l}}function ZE(e,t){let n=Y1(t,e);return!(isNaN(n)||n<0&&!t.extendStart||n>1&&!t.extendEnd)}function f3(e,t){let{x:n,y:r}=yp(t),{startAngle:i,deltaAngle:o}=rw(t),a=Math.atan2(e.y-r,e.x-n);return __dcg_shared_module_exports__.Z(a,i,o)}function nl(e,t,n){let r=h3(e,t,n);if(null!=r&&ZE(r,t))return r}function Tc(e,t,n){let r=nl(yp(e),t,!1)||X1,i=Q1(n,Z1(e,r),eL(t));if(i||(r=nl(yp(e),t,!0)||X1,i=Q1(n,Z1(e,r),eL(t))),i&&f3(r,e))return r}var X1={x:NaN,y:NaN};function ow(e,t){let n=g3(e,t);if(null!=n&&ZE(n,e)&&ZE(n,t))return n}function Q1(e,t,n){let r=t.x*n.y-t.y*n.x;return r>0&&e||r<0&&!e}function Z1(e,t){let{x:n,y:r}=yp(e),{deltaAngle:i}=rw(e);return i>0?{x:r-t.y,y:t.x-n}:{x:t.y-r,y:n-t.x}}function eL(e){return{x:e.x2-e.x1,y:e.y2-e.y1}}function tD(e,t,n){let r=e=>n?e.map((e=>{if(0===e.indexOf("\\idref_{")){let t=e.indexOf("}"),r=e.slice(8,t);return n(r)+e.slice(t+1)}return e})):e;switch(e.type){case"point-reference":return{latex:`${e.id}=${e.parents[0]}`,color:e.color};case"point":var{x:i,y:o}=e;return{latex:e.id+"=\\left("+__dcg_shared_module_exports__.Yb(i)+","+__dcg_shared_module_exports__.Yb(o)+"\\right)",color:e.color};case"glider":return{latex:e.id+"=\\operatorname{glider}\\left("+r(e.parents)[0]+","+__dcg_shared_module_exports__.Yb(e.t)+"\\right)",color:e.color};case"polygon":{let n="";return!t&&e.connectBorder&&(n=","+e.parents[0]),{latex:e.id+"=\\operatorname{"+e.type+"}\\left("+r(e.parents).join(",")+n+"\\right)",color:e.color}}case"circle":case"arc":case"compass":case"segment":case"line":case"ray":case"parallel":case"perpendicular":case"intersection":case"midpoint":case"translation":case"reflection":return{latex:e.id+"=\\operatorname{"+e.type+"}\\left("+r(e.parents).join(",")+"\\right)",color:e.color};case"dilation":case"rotation":return{latex:e.id+"=\\operatorname{"+e.type+"}\\left("+r([e.parents[0]])+","+e.parents[1]+"\\right)",color:e.color};case"angle":case"directedangle":return{showLabel:!0,latex:e.id+"=\\operatorname{"+e.type+"}\\left("+r(e.parents).join(",")+"\\right)",color:e.color};case"angles":case"directedangles":return{showLabel:t,latex:e.id+"=\\operatorname{"+e.type+"}\\left("+r(e.parents).join(",")+"\\right)"+(void 0!==e.listAccess?"\\left["+e.listAccess+"\\right]":""),color:e.color};case"polygon-segment":return{latex:e.id+"="+r(e.parents)[0]+(void 0!==e.listAccess?"\\left["+e.listAccess+"\\right]":"")+".\\operatorname{segments}\\left["+(e.edgeNumber+1)+"\\right]",color:e.color};case"transformed-object":return;default:return e}}function rD(e,t){switch(e.valueType){case __dcg_shared_module_exports__.u:e.value.forEach(((e,n)=>{t({valueType:__dcg_shared_module_exports__.q,value:e},n+1)}));break;case __dcg_shared_module_exports__.D:e.value.forEach(((e,n)=>{t({valueType:__dcg_shared_module_exports__.C,value:e},n+1)}));break;case __dcg_shared_module_exports__.B:e.value.forEach(((e,n)=>{t({valueType:__dcg_shared_module_exports__.A,value:e},n+1)}));break;case __dcg_shared_module_exports__.J:e.value.forEach(((e,n)=>{t({valueType:__dcg_shared_module_exports__.I,value:e},n+1)}));break;case __dcg_shared_module_exports__.H:e.value.forEach(((e,n)=>{t({valueType:__dcg_shared_module_exports__.G,value:e},n+1)}));break;case __dcg_shared_module_exports__.z:e.value.forEach(((e,n)=>{t({valueType:__dcg_shared_module_exports__.y,value:e},n+1)}));break;case __dcg_shared_module_exports__.F:e.value.forEach(((e,n)=>{t({valueType:__dcg_shared_module_exports__.E,value:e},n+1)}));break;case __dcg_shared_module_exports__.L:e.value.forEach(((e,n)=>{t({valueType:__dcg_shared_module_exports__.K,value:e},n+1)}));break;case __dcg_shared_module_exports__.N:e.value.forEach(((e,n)=>{t({valueType:__dcg_shared_module_exports__.M,value:e},n+1)}));break;default:t(e,void 0)}}function Ed(e,t,n={expandLists:!0}){e.getAllItemModels().concat(e.getAllToolPreviewItems()).forEach((r=>{if("expression"!==r.type||!r.latex)return;let i=r.formula.typed_constant_value;if(!i)return;var o=r.formula.geometry;if(!o)return;let a=o;var s=o.identifier;let l=s?__dcg_shared_module_exports__.Ua(s):"\\idref_{"+r.id+"}",c=!e.getItemModel(r.id);n.expandLists?rD(i,((e,n)=>{let i=l+(void 0===n?"":"\\left["+n+"\\right]"),o={calcId:r.id,data:a,hidden:Gg(r),assignment:l,listIndex:n,typedRuntimeValue:e,referenceLatex:i};t(o,c)})):t({calcId:r.id,data:a,hidden:Gg(r),assignment:l,listIndex:void 0,typedRuntimeValue:i,referenceLatex:l},c)}))}function y3(e,t){switch(e.valueType){case __dcg_shared_module_exports__.u:return{valueType:__dcg_shared_module_exports__.q,value:e.value[t]};case __dcg_shared_module_exports__.D:return{valueType:__dcg_shared_module_exports__.C,value:e.value[t]};case __dcg_shared_module_exports__.B:return{valueType:__dcg_shared_module_exports__.A,value:e.value[t]};case __dcg_shared_module_exports__.J:return{valueType:__dcg_shared_module_exports__.I,value:e.value[t]};case __dcg_shared_module_exports__.H:return{valueType:__dcg_shared_module_exports__.G,value:e.value[t]};case __dcg_shared_module_exports__.z:return{valueType:__dcg_shared_module_exports__.y,value:e.value[t]};case __dcg_shared_module_exports__.F:return{valueType:__dcg_shared_module_exports__.E,value:e.value[t]};case __dcg_shared_module_exports__.L:return{valueType:__dcg_shared_module_exports__.K,value:e.value[t]};case __dcg_shared_module_exports__.N:return{valueType:__dcg_shared_module_exports__.M,value:e.value[t]};case __dcg_shared_module_exports__.w:case __dcg_shared_module_exports__.s:case __dcg_shared_module_exports__.r:case __dcg_shared_module_exports__.P:case __dcg_shared_module_exports__.t:case __dcg_shared_module_exports__.x:case __dcg_shared_module_exports__.v:throw new Error("Programming Error: unexpected type "+__dcg_shared_module_exports__.R(e.valueType));default:throw e.valueType,new Error("Programming Error: expected a list type but found "+__dcg_shared_module_exports__.R(e.valueType))}}function iD(e,t){return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{referenceLatex:e.assignment+"\\left["+t+"\\right]",typedRuntimeValue:y3(e.typedRuntimeValue,t),listIndex:t})}function oL(e){if(e)switch(e.typedRuntimeValue.valueType){case __dcg_shared_module_exports__.q:return"Point";case __dcg_shared_module_exports__.C:return"Circle";case __dcg_shared_module_exports__.E:return"Arc";case __dcg_shared_module_exports__.y:return"Polygon";case __dcg_shared_module_exports__.G:return"Line";case __dcg_shared_module_exports__.A:return"Segment";case __dcg_shared_module_exports__.I:return"Ray";case __dcg_shared_module_exports__.K:case __dcg_shared_module_exports__.M:return"Angle"}}var Qt=__dcg_shared_module_exports__.i(ne());function ut(e){return{shouldBeFocused:()=>Dd(e),onFocusedChanged:t=>{nD(e,t)}}}function Dd(e){let t=e.predicate;if(t&&!t())return!1;let n=e.controller.getFocusLocation();return n&&__dcg_shared_module_exports__.Ea(n,e.location)}function nD(e,t){let n=e.predicate;n&&!n()||(t?e.controller.dispatch({type:"set-focus-location",location:e.location}):e.controller.dispatch({type:"blur-focus-location",location:e.location}))}var Ai=__dcg_shared_module_exports__.i(ne());function oD(e){return e.find(':input:enabled, [tabindex="0"], a[href]').filter(":visible:not([aria-hidden=true]):not([aria-disabled=true])")}function bp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}at(),at();var{IfElse:b3,Switch:x3}=Ai.Components,w3=500,Rn=5,aD=class extends Ai.Class{init(){this.latexKey=0,this.uuid=this.props.uuid()}template(){return Ai.createElement("div",{class:()=>({[this.getCustomClassName()]:!0,"dcg-tooltip-positioning-container":!0,"dcg-latex-tooltip-positioning-container":!!this.props.renderAsLatex,"dcg-tooltip-gravity-ne-se":"ne"===this.props.gravity()||"se"===this.props.gravity(),"dcg-tooltip-gravity-nw-sw":"nw"===this.props.gravity()||"sw"===this.props.gravity(),"dcg-tooltip-gravity-n-s":"n"===this.props.gravity()||"s"===this.props.gravity(),"dcg-tooltip-gravity-e-w":"e"===this.props.gravity()||"w"===this.props.gravity()}),style:()=>({top:`${this.props.hitAreaRect().top+(this.props.offset().top||0)}px`,left:`${this.props.hitAreaRect().left+(this.props.offset().left||0)}px`,width:`${this.props.hitAreaRect().width}px`,height:`${this.props.hitAreaRect().height}px`})},Ai.createElement("div",{class:Ai.const("dcg-tooltip-message-container"),style:this.bindFn(this.getMessageStyle)},b3((()=>!!this.props.renderAsLatex),{true:()=>Ai.createElement("div",{role:Ai.const("tooltip"),id:this.const(this.uuid),class:()=>({"dcg-tooltip-message":!0,"dcg-latex":!0,"dcg-sticky-not-stuck":this.props.isStickyAndNotStuck(),"dcg-tooltip-overflow":this.messageOverflows()}),style:()=>({"max-width":`${this.getMaxWidth()}px`}),didMount:e=>{this.tooltipMessage=e}},Ai.createElement(x3,{key:()=>this.latexKey},(()=>this.props.renderAsLatex().view(this.props.tooltip())))),false:()=>Ai.createElement("div",{role:Ai.const("tooltip"),id:this.const(this.uuid),class:Ai.const("dcg-tooltip-message"),style:()=>({background:this.getBackgroundColor(),cursor:this.props.isStickyAndNotStuck()?"pointer":"default"})},this.props.tooltip)})),Ai.createElement("div",{class:()=>({"dcg-tooltip-arrow":!0,[`dcg-tooltip-gravity-${this.props.gravity()[0]}`]:!0}),style:()=>this.props.renderAsLatex?this.getArrowWithBorderStyle():this.getSolidArrowStyle()}))}willUpdate(){this.latexKey++}getCustomClassName(){return this.props.class?this.props.class():""}messageOverflows(){return this.tooltipMessage&&this.tooltipMessage.getBoundingClientRect().width>=this.getMaxWidth()}getArrowWithBorderStyle(){let e=this.props.gravity(),t="10px",n={width:"8px",height:"8px",border:"1px solid #bbb",background:this.getBackgroundColor(),opacity:this.props.isStickyAndNotStuck()?".95":"1"};switch(e){case"s":return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{top:"100%",left:"50%","margin-top":"1px","border-right":"0","border-bottom":"0"});case"sw":return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{top:"100%",right:t,"margin-top":"1px","border-right":"0","border-bottom":"0"});case"se":return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{top:"100%",left:t,"margin-top":"1px","border-right":"0","border-bottom":"0"});case"n":return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{bottom:"100%",left:"50%","margin-bottom":"1px","border-left":"0","border-top":"0"});case"nw":return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{bottom:"100%",right:t,"margin-bottom":"1px","border-left":"0","border-top":"0"});case"ne":return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{bottom:"100%",left:t,"margin-bottom":"1px","border-left":"0","border-top":"0"});case"e":return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{top:"50%",left:"100%","margin-left":"1px","border-right":"0","border-top":"0"});case"w":return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{top:"50%",right:"100%","margin-right":"1px","border-left":"0","border-bottom":"0"});default:return e}}getSolidArrowStyle(){let e=this.props.gravity(),t=this.props.hitAreaRect().width/2+"px",n=this.getBackgroundColor(),r=`transparent transparent ${n} transparent`,i=`${n} transparent transparent transparent`,o=`transparent ${n} transparent transparent`,a=`transparent transparent transparent ${n}`,s=`-${Rn}px`;switch(e){case"s":return{top:"100%",left:"50%",border:`${Rn}px solid transparent`,"border-color":r,"margin-top":s,"margin-left":s};case"sw":return{top:"100%",right:t,border:`${Rn}px solid transparent`,"border-color":r,"margin-top":s,"margin-right":s};case"se":return{top:"100%",left:t,border:`${Rn}px solid transparent`,"border-color":r,"margin-top":s,"margin-left":s};case"n":return{bottom:"100%",left:"50%",border:`${Rn}px solid transparent`,"border-color":i,"margin-bottom":s,"margin-left":s};case"nw":return{bottom:"100%",right:t,border:`${Rn}px solid transparent`,"border-color":i,"margin-bottom":s,"margin-right":s};case"ne":return{bottom:"100%",left:t,border:`${Rn}px solid transparent`,"border-color":i,"margin-bottom":s,"margin-left":s};case"e":return{top:"50%",left:"100%",border:`${Rn}px solid transparent`,"border-color":o,"margin-left":`-${Rn}px`,"margin-top":s};case"w":return{top:"50%",right:"100%",border:`${Rn}px solid transparent`,"border-color":a,"margin-right":s,"margin-top":s};default:return e}}getBackgroundColor(){return this.props.renderAsLatex?"#fff":this.props.isStickyAndNotStuck()?"#666":"#000"}getMaxWidth(){let e=this.props.gravity(),t=this.props.hitAreaRect().left+(this.props.offset().left||0),n=t+this.props.hitAreaRect().width,r=.5*this.props.hitAreaRect().width+t,i=window.innerWidth-5;switch(e){case"se":case"ne":case"e":return i-t;case"sw":case"nw":case"w":return n-5;case"s":case"n":return 2*Math.min(i-r,r-5);default:return e}}getMessageStyle(){let e=this.props.hitAreaRect(),t=this.props.gravity(),n=this.props.maxWidth();switch(t){case"s":return{top:"100%",width:`${n}px`,transform:"translate(-50%, 0)",left:.5*e.width+"px","margin-top":`${Rn}px`,"text-align":"center"};case"sw":return{top:"100%",width:`${n}px`,right:"0","margin-top":`${Rn}px`,"text-align":"right"};case"se":return{top:"100%",width:`${n}px`,"margin-top":`${Rn}px`,"text-align":"left"};case"n":return{bottom:"100%",width:`${n}px`,transform:"translate(-50%, 0)",left:.5*e.width+"px","margin-bottom":`${Rn}px`,"text-align":"center"};case"nw":return{bottom:"100%",right:"0",width:`${n}px`,"margin-bottom":`${Rn}px`,"text-align":"right"};case"ne":return{bottom:"100%",width:`${n}px`,"margin-bottom":`${Rn}px`,"text-align":"left"};case"e":return{transform:"translate(0, -50%)",left:"100%",width:`${n}px`,top:.5*e.height+"px","margin-left":`${Rn}px`,"text-align":"left"};case"w":return{transform:"translate(0, -50%)",right:"100%",width:`${n}px`,top:.5*e.height+"px","margin-right":`${Rn}px`,"text-align":"right"};default:return t}}};function v3(){return document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}var Ue=class extends Ai.Class{init(){this.uuid=`dcg-tooltip-${bp()}`}template(){return Ai.createElement("div",{class:Ai.const("dcg-tooltip-hit-area-container"),handleevent:Ai.const("true"),didMount:e=>{this.isMounted=!0,this.hitAreaNode=e,this.setupEventListeners(this.hitAreaNode)},onTap:()=>{if(this.shouldStickOnTargetClick())if(this.isStuck)this.clearTimeouts(),this.hideTooltip();else{if(this.props.disabled&&this.props.disabled())return;this.showTooltip(),this.stickTooltip()}else if(this.shouldShowOnTapstart()){if(this.props.disabled&&this.props.disabled())return;this.showTooltip(),this.setUpHideOnExternalMousedown()}}},this.children)}shouldShowOnTapstart(){return this.props.showOnTapstart&&this.props.showOnTapstart()}didUpdate(){this.updateTooltip()}updateTooltip(){if(!this.wrapperRef)return;if(!this.props.tooltip())return void this.hideTooltip();let e=this.hitAreaNode.getBoundingClientRect(),t=this.wrapperRef.elt.getBoundingClientRect(),{originalTop:n,originalLeft:r}=this.wrapperRef,i=e.top-t.top,o=e.left-t.left;Math.abs(i-n)>3||Math.abs(o-r)>3?this.hideTooltip():this.wrapperRef.view.update()}handleShowEvent(e){if(this.props.disabled&&this.props.disabled())return;let t=this.props.delay?this.props.delay():w3;this.clearTimeouts(),this.showTooltipTimeout=setTimeout(e,t)}handleHideEvent(){this.clearTimeouts(),this.hideTooltipTimeout=setTimeout(this.bindFn(this.hideTooltip),150)}setupEventListeners(e){P(e).on("tipsyshow",(t=>{t.target===e&&this.handleShowEvent((()=>{this.showTooltip()}))})).on("tipsyhide",(t=>{t.target!==e||this.isStuck||this.handleHideEvent()}))}willUnmount(){this.clearTimeouts(),this.isMounted=!1,this.hideTooltip()}setUpHideOnExternalMousedown(){P(document).on(`mousedown.dcg-tooltip-${this.uuid} touchstart.dcg-tooltip-${this.uuid} pointerdown.dcg-tooltip-${this.uuid}`,(e=>{this.wrapperRef&&(P(e.target).closest(this.hitAreaNode).length||P(e.target).closest(this.wrapperRef.elt).length||this.hideTooltip())}))}stickTooltip(){this.isMounted&&this.wrapperRef&&(this.isStuck||(this.setUpHideOnExternalMousedown(),this.isStuck=!0,this.updateTooltip()))}clearTimeouts(){clearTimeout(this.showTooltipTimeout),clearTimeout(this.hideTooltipTimeout)}showTooltip(){if(!this.isMounted||this.wrapperRef||!this.props.tooltip())return;let e=this.hitAreaNode.getBoundingClientRect(),t=document.createElement("div");t.className="dcg-tooltip-mount-pt";let n=P(this.hitAreaNode).closest(".dcg-tap-container")[0],r=v3();(r&&P(this.hitAreaNode).closest(r).length>0&&P(r).closest(".dcg-tap-container").length>0?r:n).appendChild(t);let i=t.getBoundingClientRect(),o=e.left-i.left,a=e.top-i.top,s=Math.min(200,this.props.maxParentWidthOverflow?e.width+2*this.props.maxParentWidthOverflow():1/0),l={tooltip:this.props.tooltip,class:this.props.class,isStickyAndNotStuck:()=>this.shouldStickOnTargetClick()&&!this.isStuck,offset:()=>this.props.offset?this.props.offset():{},gravity:()=>this.props.gravity?this.props.gravity():"s",renderAsLatex:this.props.renderAsLatex,maxWidth:()=>s,hitAreaRect:()=>({top:a||0,left:o||0,width:e.width||0,height:e.height||0}),uuid:()=>this.uuid};this.setupEventListeners(t),P(t).on("dcg-tap",(()=>{this.shouldStickOnTargetClick()&&this.stickTooltip()}));let c=Ai.mountToNode(aD,t,l);P(document).on(`keydown.dcg-tooltip-${this.uuid}`,(e=>{Le(e)===co&&this.hideTooltip()}));let d=()=>this.updateTooltip();window.addEventListener("scroll",d,!0),this.wrapperRef={elt:t,view:c,originalLeft:o,originalTop:a,onScroll:d},this.assignAriaDescribedBy()}hideTooltip(){this.clearTimeouts(),this.wrapperRef&&(this.isStuck=!1,P(document).off(`.dcg-tooltip-${this.uuid}`),window.removeEventListener("scroll",this.wrapperRef.onScroll,!0),this.restoreAriaDescribedBy(),Ai.unmountFromNode(this.wrapperRef.elt),this.wrapperRef.elt.parentNode&&this.wrapperRef.elt.parentNode.removeChild(this.wrapperRef.elt),this.wrapperRef=void 0)}assignAriaDescribedBy(){let e=oD(P(this.hitAreaNode))[0]||this.hitAreaNode;this.originalDescribedBy=e.getAttribute("aria-describedby"),e.setAttribute("aria-describedby",this.uuid)}restoreAriaDescribedBy(){let e=oD(P(this.hitAreaNode))[0]||this.hitAreaNode;this.originalDescribedBy?e.setAttribute("aria-describedby",this.originalDescribedBy):e.removeAttribute("aria-describedby")}shouldStickOnTargetClick(){return!!this.props.sticky&&this.props.sticky()}},Nl=__dcg_shared_module_exports__.i(ne()),sw=class extends Nl.Class{template(){return Nl.createElement("div",{class:Nl.const("dcg-dot-dot-dropdown")},Nl.createElement("span",null),Nl.createElement("span",null),Nl.createElement("span",null))}},Wo=__dcg_shared_module_exports__.i(ne()),xp=class extends Wo.Class{template(){return Wo.createElement("span",{class:Wo.const("dcg-navigate-back"),onTap:this.props.onBack,"aria-label":this.props.ariaLabel,role:Wo.const("button"),tabindex:Wo.const("0"),handleEvent:Wo.const("true"),manageFocus:this.const(ut({controller:this.props.controller(),location:{type:"geo-header-back-link"}}))},Wo.createElement("i",{class:Wo.const("dcg-icon-chevron-left"),"aria-hidden":Wo.const("true")}),Wo.createElement("div",{class:Wo.const("dcg-navigate-back-message")},this.props.message))}},{Switch:C3}=Qt.Components,lw=class extends Qt.Class{init(){this.controller=this.props.controller(),this.focusOrder=[{type:"geo-header-back-link"},{type:"multi-select-delete-icon"},{type:"multi-select-show-hide-icon"},{type:"multi-select-transformations-icon"},{type:"multi-select-more-icon"}]}template(){return Qt.createElement("div",{class:Qt.const("dcg-multi-select-header dcg-animate-in-after-initial-load"),onKeydown:this.bindFn(this.handleKeydown),onTapStart:this.bindFn(this.clearSelection),role:Qt.const("toolbar"),"aria-label":this.bindFn(this.getSelectedCountString)},Qt.createElement(xp,{ariaLabel:()=>this.controller.s("graphing-calculator-narration-geometry-deselect-all"),controller:this.props.controller,message:this.bindFn(this.getSelectedCountString),onBack:this.bindFn(this.onDone)}),Qt.createElement(Ue,{tooltip:this.bindFn(this.getDeleteItemString)},Qt.createElement("span",{"aria-label":this.bindFn(this.getDeleteItemString),role:Qt.const("button"),tabindex:Qt.const("-1"),handleEvent:Qt.const("true"),class:Qt.const("dcg-multi-select-icon-button dcg-delete-btn"),onTap:this.bindFn(this.deleteSelected),manageFocus:this.const(ut({controller:this.controller,location:{type:"multi-select-delete-icon"}}))},Qt.createElement("i",{class:Qt.const("dcg-icon-trashcan"),"aria-hidden":Qt.const("true")}))),Qt.createElement(C3,{key:this.bindFn(this.getSelectedItemsKey)},(()=>Qt.createElement("div",{class:()=>({"dcg-btn-outline":!0,"dcg-show-hide-btn":!0,"dcg-any-visible-objects":this.anyVisible()}),handleEvent:Qt.const("true"),tabindex:Qt.const("-1"),role:Qt.const("button"),onTap:this.bindFn(this.toggleItemsVisible),manageFocus:this.const(ut({controller:this.controller,location:{type:"multi-select-show-hide-icon"}}))},Qt.createElement("div",{"aria-hidden":()=>!this.anyVisible()},(()=>this.controller.s("graphing-calculator-text-geometry-hide-objects",{count:new zo(this.getSelectedCount())}))),Qt.createElement("div",{"aria-hidden":this.bindFn(this.anyVisible)},(()=>this.controller.s("graphing-calculator-text-geometry-show-objects",{count:new zo(this.getSelectedCount())})))))),Qt.createElement("div",{class:()=>({"dcg-btn-outline":!0,"dcg-transformations-button":!0,"dcg-transformations-open":this.isTransformationsMenuOpen()}),handleEvent:Qt.const("true"),tabindex:Qt.const("-1"),role:Qt.const("button"),"dcg-open-menu-guid":()=>tf(),onTap:this.bindFn(this.toggleTransformationsMenu),manageFocus:this.const(ut({controller:this.controller,location:{type:"multi-select-transformations-icon"}}))},this.bindFn(this.getTransformationsString),Qt.createElement("i",{class:Qt.const("dcg-icon-caret-down"),"aria-hidden":Qt.const("true")})),Qt.createElement(Ue,{tooltip:this.bindFn(this.getMoreString)},Qt.createElement("span",{"aria-label":this.bindFn(this.getMoreString),role:Qt.const("button"),tabindex:Qt.const("-1"),handleEvent:Qt.const("true"),"aria-expanded":this.bindFn(this.isMoreMenuOpen),class:Qt.const("dcg-multi-select-icon-button dcg-more-options"),"dcg-open-menu-guid":()=>ef(),manageFocus:this.const(ut({controller:this.controller,location:{type:"multi-select-more-icon"}})),onTap:this.bindFn(this.toggleMoreMenu)},Qt.createElement(sw,null))))}handleKeydown(e){let t=Le(e);if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||"Left"!==t&&"Right"!==t&&"Home"!==t&&"End"!==t)return;let n=this.controller.getFocusLocation();if(!n)return;let r=__dcg_shared_module_exports__.ya(this.focusOrder,n);if(-1===r)return;e.preventDefault(),e.stopPropagation();let i=r;"Left"===t?i=Math.max(0,r-1):"Right"===t?i=Math.min(this.focusOrder.length-1,r+1):"Home"===t?i=0:"End"===t&&(i=this.focusOrder.length-1),i!==r&&this.controller.dispatch({type:"set-focus-location",location:this.focusOrder[i]})}getSelectedCountString(){return this.controller.s("graphing-calculator-text-geometry-selected-objects",{count:new zo(this.getSelectedCount())})}getDeleteItemString(){return this.controller.s("graphing-calculator-text-geometry-delete-selected-objects",{count:new zo(this.getSelectedCount())})}getMoreString(){return this.controller.s("graphing-calculator-text-geometry-multi-select-more-dropdown")}getTransformationsString(){return this.controller.s("graphing-calculator-text-geometry-multi-select-transform")}getSelectedItemsKey(){let e=this.controller.getAllSelectedItems();return __dcg_shared_module_exports__.qa(e,"id").join("-")}clearSelection(e){e.wasHandled()||this.onDone()}toggleItemsVisible(){this.anyVisible()?this.hideSelected():this.showSelected()}anyVisible(){let e=this.controller.getAllSelectedItems();return __dcg_shared_module_exports__.oa(e,(e=>e.shouldGraph))}isFolderMenuOpen(){return this.controller.isItemSettingsMenuOpen(S3())}isMoreMenuOpen(){return this.controller.isItemSettingsMenuOpen(ef())}isTransformationsMenuOpen(){return this.controller.isItemSettingsMenuOpen(tf())}toggleMoreMenu(e){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"multi-select-more",guid:ef(),focusFirstOption:"keyboard"===e.device}})}toggleTransformationsMenu(e){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"multi-select-transformations",guid:tf(),focusFirstOption:"keyboard"===e.device}})}getSelectedCount(){return this.controller.getAllSelectedItems().length}hideSelected(){this.controller.dispatch({type:"update-all-selected-items",update:{prop:"visible",value:!1}})}showSelected(){this.controller.dispatch({type:"update-all-selected-items",update:{prop:"visible",value:!0}})}onDone(){this.controller.dispatch({type:"set-none-selected"})}deleteSelected(){this.controller.dispatch({type:"delete-all-selected-items"})}};function S3(){return"**multi-select-folder**"}function ef(){return"**multi-select-more**"}function tf(){return"**multi-select-transformations**"}function rf(e){if(!e)return 0;if("image"===e.type&&e.listIndex)return e.listIndex;if("poi"in e)return e.poi.pointIdxOnBranch;if("branchInfo"in e&&e.branchInfo.sketch){var t=e.branchInfo.branch,n=e.branchInfo.sketch.branches[t];return"listIndex"in n&&n.listIndex||0}return 0}var k3=0,ol=class{constructor(e,t){this.geoKeyboardPt={x:NaN,y:NaN},this.grapherIsPressed=!1,this.canceledGeoToolplayWhilePressed=!1,this.manager=e,this.controller=e.controller,this.graphSettings=t,this.$=this.manager.$,this.id=k3++,this.graphSettings.config.graphpaper&&!this.graphSettings.config.disableMouseInteractions&&(this.addTouchEventHandlers(),this.addHoverEventHandler(),this.addKeydownEventHandler(),this.addManualUnhoverListener(),this.addGeoEventHandlers())}remove(){this.removeAllGlobalMouseListeners(),this.removeManualUnhoverListener(),this.removeAllGeoListeners()}addGlobalMouseListener(e,t){for(var n=e.split(" "),r=0;r<n.length;r++){var i=n[r]+".dcg-poiController-"+this.id;P(document).on(i,t)}}removeAllGeoListeners(){P(document).off(".dcg-poiController-geo-"+this.id)}removeAllGlobalMouseListeners(){P(document).off(".dcg-poiController-"+this.id)}getToleranceByDevice(e){return"touch"===e?20:10}addGeoEventHandlers(){var e="keydown.dcg-poiController-geo-"+this.id+" "+("keyup.dcg-poiController-geo-"+this.id);P(document).on(e,(e=>{this.controller.isGeoToolActive()&&this.handleGeoShiftKeyChange(e.shiftKey)})),P(document).on("mouseleave.dcg-poiController-geo-"+this.id,(()=>{if(this.controller.isGeoToolActive()&&!this.grapherIsPressed){let e=this.controller.getGeoModel();e.onMouseAction("move",{pt:{x:NaN,y:NaN},shift:!1,tolerance:0}),e.onPreviewChange()}})),P(document).on("dcg-tapmove.dcg-poiController-geo-"+this.id,(e=>{this.controller.isGeoToolActive()&&this.handleGeoTapMove(e)})),P(document).on("dcg-tapend.dcg-poiController-geo-"+this.id,(e=>{this.controller.isGeoToolActive()&&this.handleGeoTapEnd(e)}))}addHoverEventHandler(){this.$.on("dcg-tapmove",(e=>{if("touch"!==e.device){var t=document.elementFromPoint(e.clientX,e.clientY),n=!!t&&!!P(t).closest(".dcg-grapher").length,r=this.manager.poiLabelsLayer,i=this.getMouseRelativeToGrapher(e),o=this.getToleranceByDevice(e.device);if(!this.controller.isGeoToolActive()){var a,s;if(n&&(a=this.getFeatureUnderPoint(i,o)),a&&"movable-point"===a.type){let e=a.poi,t=e&&e.getMovablePoint();s=t&&t.id}var l,c=0;a&&a.isClickable&&!e.shiftKey&&!this.manager.movablePointsLayer.isMovingPoint()&&!this.manager.traceLayer.isTracing()&&(l=a.model,c=rf(a));var d,p=this.manager.clickableObjectsLayer,u={};l&&(u[l.id]={listIndexes:void 0===c?void 0:{[c]:!0}}),p.setHoveredObjects(u),a&&"poi"in a&&a.poi&&(!a.poi.isAttachedToPlottedPoint()||a.poi.hasInteractiveLabel())&&(d=a.poi),d!==r.getHoveredPOI()&&(this.controller.isTraceEnabled()?r.setHoveredPOI(d):r.setHoveredPOI(void 0),this.manager.redrawAllLayers());var h=!1;if(a&&"image"===a.type){var g=Ws(a.model),m=a.isClickable;h=g&&!m}var f=!1;a&&"draggable-label"===a.type&&(f=!0),h||f?this.manager.setLayerClass("extraMoveCursor","dcg-mouse-over-movable-point"):this.manager.setLayerClass("extraMoveCursor",""),this.manager.movablePointsLayer.setHoveredPointId(s)}}}))}addManualUnhoverListener(){var e=()=>{var e=this.manager;e.poiLabelsLayer.setHoveredPOI(void 0),e.clickableObjectsLayer.setHoveredObjects({}),e.redrawAllLayers()};P(window).on("blur.dcg-poiController-"+this.id,e),this.$.on("mouseleave",e)}removeManualUnhoverListener(){P(window).off(".dcg-poiController-"+this.id)}addTouchEventHandlers(){this.$.on("touchstart",(e=>{if(this.isViewportLocked()){var t=this.getMouseRelativeToGrapher(e),n=this.getToleranceByDevice(e.device),r=this.getFeatureUnderPoint(t,n);r&&("image"===r.type&&!js(r.model)&&!Ws(r.model)||"sketch-branch"===r.type&&this.graphSettings.config.onlyTraceSelected&&!r.sketch.selected||P(e.target).is(":not(input, textarea)")&&e.preventDefault())}else P(e.target).is(":not(input, textarea)")&&e.preventDefault()})),this.$.on("dcg-tapstart",(e=>{if(this.controller.isGeoToolActive())return e.handle(),void this.handleGeoTapStart(e);var t=this.getMouseRelativeToGrapher(e),n=this.getToleranceByDevice(e.device),r=this.getFeatureUnderPoint(t,n);if(!r)return this.isBoxSelectActive(e)||this.controller.dispatch({type:"set-none-selected"}),void(this.isBoxSelectActive(e)?this.startBoxSelect(e):this.manager.viewportController.beginPanning(e));if("sketch"in r&&r.sketch){var i=e.shiftKey?void 0:rf(r);if(this.controller.tryInsertTokenIntoMathquill(r.sketch.id,i))return e.handle(),void e.preventDefault()}if(r.isClickable&&!this.isBoxSelectActive(e)){let e="model"in r&&r.model;e?this.manager.clickableObjectsLayer.setPressedObject({id:e.id,listIndex:rf(r)}):this.manager.clickableObjectsLayer.setPressedObject(void 0)}else this.manager.clickableObjectsLayer.setPressedObject(void 0);if("editable-label"===r.type)return void e.handle();if(Ur(),"draggable-label"===r.type)return this.startMovingPoints({evt:e,points:[{type:"draggable-label",label:r.label,startScreenPt:t}]}),void e.handle();if("clickable-label"===r.type&&e.handle(),"image"===r.type&&Ws(r.model)&&!this.isBoxSelectActive(e)){var o=!1;if(r.isClickable&&(o=!0),this.startMovingPoints({evt:e,points:[{type:"image",image:r.model,startScreenPt:t,shouldDelayUntilRealMove:o}]}),!o)return void e.handle()}if("movable-point"===r.type)return this.startMovingPoints({evt:e,points:[{type:"poi",poi:r.poi,startScreenPt:t}]}),e.handle(),void e.handle("do-not-clear-poi-labels");var a=!1;let s=r.model;if(s&&"expression"===s.type&&s.formula.geometry&&((a=this.startReverseDrag(s.id,e))&&"static-point"!==r.type&&this.manager.clickableObjectsLayer.setPressedObject({id:s.id,listIndex:rf(r)})),"static-point"!==r.type||r.isClickable&&!this.isBoxSelectActive(e)){if(this._togglePOIUnderPoint(t,n))return e.handle(),void e.handle("do-not-clear-poi-labels");if(!a&&"sketch-branch"===r.type&&(!r.isClickable||this.isBoxSelectActive(e))){var l=!this.controller.isTraceEnabled();if(!this.graphSettings.config.onlyTraceSelected){var c=!this.controller.isListEnabled();if(l&&c||(this.selectItemIfNotSecret(r.sketch.id,this.isBoxSelectActive(e)),l))return;return this.startTracingBranch(r.branchInfo,t),e.handle(),void e.handle("do-not-clear-poi-labels")}if(e.handle("do-not-clear-poi-labels"),!l&&r.sketch.selected&&!this.isBoxSelectActive(e))return this.startTracingBranch(r.branchInfo,t),void e.handle()}this.addGlobalMouseListener("dcg-tapmove",(e=>{this.manager.clickableObjectsLayer.isAnObjectPressed()?t=this.getMouseRelativeToGrapher(e):(this.removeAllGlobalMouseListeners(),this.manager.viewportController.beginPanning(e))})),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",(e=>{this.removeAllGlobalMouseListeners();var r=this.manager.clickableObjectsLayer.getPressedObject(),i=r&&r.id;this.manager.clickableObjectsLayer.setPressedObject(void 0);var o=this.getFeatureUnderPoint(t,n);if(!a){if(o&&o.isClickable&&!this.isBoxSelectActive(e)){let t="model"in o&&o.model;return void(t&&t.id===i&&!e.wasHandled("dragged-clickable-object")&&this.controller.dispatch({type:"clickable-item-clicked",id:t.id,listIndex:rf(o)}))}if(o&&"sketch-branch"===o.type&&(!o.sketch.selected||this.isBoxSelectActive(e)))return void this.selectItemIfNotSecret(o.model.id,this.isBoxSelectActive(e));if(o&&("movable-point"===o.type||"static-point"===o.type))return void((!o.sketch.selected||this.isBoxSelectActive(e))&&o.model&&this.selectItemIfNotSecret(o.model.id,this.isBoxSelectActive(e)));if(o&&"image"===o.type)return void this.selectItemIfNotSecret(o.model.id,this.isBoxSelectActive(e))}}))}else{let i=r.poi;if(this.controller.isGeometry()){if(i&&i.hasInteractiveLabel())return void(this._togglePOIUnderPoint(t,n)&&e.handle("do-not-clear-poi-labels"))}else if(i)return void(this._togglePOIUnderPoint(t,n)&&e.handle("do-not-clear-poi-labels"));(!r.sketch.selected||this.isBoxSelectActive(e))&&r.model&&this.selectItemIfNotSecret(r.model.id,this.isBoxSelectActive(e))}}))}isBoxSelectActive(e){if(!this.controller.isMultiSelectEnabled())return!1;let t=this.controller.getActiveTool();return"selection"===t&&e.shiftKey||"box-selection"===t}isViewportLocked(){return this.graphSettings.config.lockViewport||this.graphSettings.userLockedViewport}addKeydownEventHandler(){this.$.on("keydown",(e=>{if(!this.manager.getAudioTrace().getAudioTraceActive()){var t=this.manager.movablePointsLayer.getFocusedPoint(),n=Le(e),r=Ei(e);if("Up"===n||"Down"===n||"Left"===n||"Right"===n)e.stopPropagation(),e.preventDefault(),t?this.movePointFromKeyboard(t,e):this.controller.isGeoUIActive()&&this.moveGeoPointFromKeyboard(e);else if(this.controller.isGeoUIActive()){let t,i,o,a,s,l,c=!1;if(e.ctrlKey&&e.shiftKey&&!e.altKey&&!e.metaKey){let t;if("O"===r?t={type:"multi-select-more",guid:ef(),focusFirstOption:!0,previousFocusLocation:{type:"graph-paper"}}:"A"===r&&(t={type:"multi-select-transformations",guid:tf(),focusFirstOption:!0,previousFocusLocation:{type:"graph-paper"}}),t){e.preventDefault(),e.stopPropagation();let n=this.controller.getGeoModel().getLastFocusedId();"box-selection"!==this.controller.getActiveTool()&&""!==n&&this.controller.getItemModel(n)&&this.controller.dispatch({type:"set-selected-id",id:n}),this.controller.dispatch({type:"toggle-item-settings-menu",menu:t})}}else if(!e.altKey&&!e.ctrlKey&&!e.metaKey)if("Enter"===n||"Space"===n)e.preventDefault(),e.stopPropagation(),"box-selection"===this.controller.getActiveTool()?(this.selectItemIfNotSecret(this.controller.getGeoModel().getLastFocusedId(),!0),this.describeFocusedConstruction(!1)):this.tapGeoPointFromKeyboard(e);else if("?"===r)e.preventDefault(),e.stopPropagation(),this.controller.getGeoModel().speakCurrentGeoToolHint();else if("D"===r)e.preventDefault(),e.stopPropagation(),this.describeFocusedConstruction();else if("Tab"===n&&"selection"!==this.controller.getActiveTool()){e.preventDefault(),e.stopPropagation();let t=e.shiftKey?"prev":"next";this.focusGeoObjFromKeyboard(t,e)}else if("Backspace"===n||"Del"===n){e.preventDefault(),e.stopPropagation();let t=this.controller.getGeoModel().getLastFocusedId();"box-selection"!==this.controller.getActiveTool()&&""!==t&&this.controller.getItemModel(t)&&this.controller.dispatch({type:"set-selected-id",id:t}),this.controller.dispatch({type:"delete-all-selected-items"}),c=!0}else if("-"===r)e.preventDefault(),e.stopPropagation(),t=this.controller.getGeoTools(),o=__dcg_shared_module_exports__.ya(t,{key:this.controller.getActiveTool()}),-1===o?o=0:0===o?o=t.length-1:o-=1,i=t[o],i&&(this.controller.dispatch({type:"select-geo-tool",tool:i.key,clearSelection:!0}),c=!0);else if("="===r)e.preventDefault(),e.stopPropagation(),t=this.controller.getGeoTools(),o=__dcg_shared_module_exports__.ya(t,{key:this.controller.getActiveTool()}),-1===o?o=t.length-1:o===t.length-1?o=0:o+=1,i=t[o],i&&(this.controller.dispatch({type:"select-geo-tool",tool:i.key,clearSelection:!0}),c=!0);else if("["===r){if(e.preventDefault(),e.stopPropagation(),t=this.controller.getGeoTools(),o=__dcg_shared_module_exports__.ya(t,{key:this.controller.getActiveTool()}),-1===o||(i=t[o],!i)||(a=i.dropdown||[],0===a.length))return;s=a.indexOf(i.key),-1===s?s=0:0===s?s=a.length-1:s-=1,l=a[s],l&&(this.controller.dispatch({type:"select-geo-tool",tool:l,clearSelection:!0}),c=!0)}else if("]"===r){if(e.preventDefault(),e.stopPropagation(),t=this.controller.getGeoTools(),o=__dcg_shared_module_exports__.ya(t,{key:this.controller.getActiveTool()}),-1===o||(i=t[o],!i)||(a=i.dropdown||[],0===a.length))return;s=a.indexOf(i.key),-1===s?s=a.length-1:s===a.length-1?s=0:s+=1,l=a[s],l&&(this.controller.dispatch({type:"select-geo-tool",tool:l,clearSelection:!0}),c=!0)}else!e.shiftKey&&void 0!==r&&r>="0"&&r<="9"&&(t=this.controller.getGeoTools(),i=t[e.which-49],i&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"select-geo-tool",tool:i.key,clearSelection:!0}),c=!0));c&&this.handleGeoKeyboardPtMove()}else t&&("X"===r||"Y"===r||"L"===r||"C"===r)&&this.speakPoint(t,r)}}))}getMouseRelativeToGrapher(e){var t=this.$[0].getBoundingClientRect(),n=e.touches?e.touches[0]:e;return{x:n.clientX-t.left,y:n.clientY-t.top}}_getStyledPointRadiusAdjustments(){return{radiusMultiplier:this.graphSettings.getHighlightPropertyMultiplier("pointLineWidth",!1),selectedRadiusMultiplier:this.graphSettings.getHighlightPropertyMultiplier("pointLineWidth",!0),movablePoint:this.graphSettings.config.projectorMode?15:11}}_getStyledPointRadiusForPOI(e,t){if(e.isMovable())return t.movablePoint;return e.getPointSize()/2*(e.isSelected()?t.selectedRadiusMultiplier:t.radiusMultiplier)}_getDistanceFromStyledPOI(e,t){var n=this._getStyledPointRadiusForPOI(e,t.adjustments),r=Math.max(0,t.tolerance-n),i=t.projection.map_pt(e),o=__dcg_shared_module_exports__._(i.x-t.screenPt.x,i.y-t.screenPt.y),a=Math.max(0,o-n);if(a<=r)return a}_getClosestPoint(e,t,n){for(var r,i=1/0,o={projection:this.manager.getProjection(),adjustments:this._getStyledPointRadiusAdjustments(),screenPt:t,tolerance:n},a=0;a<e.length;a++){var s=e[a],l=this._getDistanceFromStyledPOI(s,o);void 0!==l&&l<i&&(i=l,r=s)}return r}findIdsThatIntersectBox(e){for(var t={},n=this.manager.getSketchOrder(),r=n.length-1;r>=0;r--){var i=n[r],o=this.controller.getItemModel(i);if(o)if("expression"===o.type){var a=this.manager.getGraphSketch(i);if(!a)continue;var s=a.branches;if(!s||!s.length)continue;for(let n=0;n<s.length;n++)if(this.doesBoxIntersectBranch(s[n],e)){t[o.id]=!0;break}}else if("image"===o.type){var l=this.manager.getGraphImage(i);if(!l)continue;ol.doesBoxIntersectAnyImage(l,e)&&(t[o.id]=!0)}}return this.manager.poiDotsLayer.getDrawnPOI().forEach((function(n){n.isBareLabel()||(n.isMovable()||n.isAttachedToPlottedPoint())&&ol.doesBoxIntersectPOI(n,e)&&(t[n.sketch.id]=!0)})),t}_getStyledLineAdjustments(){return{thicknessMultiplier:this.graphSettings.getHighlightPropertyMultiplier("graphLineWidth",!1),selectedThicknessMultiplier:this.graphSettings.getHighlightPropertyMultiplier("graphLineWidth",!0)}}_getStyledLineThicknessForBranch(e,t,n){var r=Math.max(0,"lineWidth"in e&&e.lineWidth||0)/2;return t?r*n.selectedThicknessMultiplier:r*n.thicknessMultiplier}_getDistanceFromStyledBranch(e,t,n,r){var i=this._getStyledLineThicknessForBranch(e,t,r.adjustments),o=this.calculateDistanceFromBranch(e,r.screenPt,r.projection,n);let a=Math.max(0,o-i);if(a<=Math.max(0,r.tolerance-i))return a}getFeatureUnderPoint(e,t){var n=this.manager.poiLabelsLayer,r=this.manager.getProjection();if(this.manager.scaleAxis)return;var i=n.getInteractiveLabelUnderPoint(e);if(i)switch(i.type){case"editable":return{type:"editable-label",model:i.model,isClickable:void 0};case"draggable":return{type:"draggable-label",label:i.label,isClickable:void 0};case"clickable":return{type:"clickable-label",model:i.model,poi:i.poi,isClickable:!0}}var o,a=this.manager.getSketchOrder(),s={},l=1;let c={adjustments:this._getStyledLineAdjustments(),projection:r,screenPt:e,tolerance:t};for(var d=a.length-1;d>=0;d--){var p=a[d],u=this.controller.getItemModel(p),h=l;if(s[p]=h,u)if("expression"===u.type){var g=this.manager.getGraphSketch(p);if(!g)continue;var m=g.branches;if(!m||!m.length)continue;if(g.showHighlight&&!this.controller.isGeometry()&&(h=-1/0,s[p]=h),!o||o.stackingContext>=h)for(var f=Xs(u),y=0;y<m.length;y++){var b=m[y],x=this._getDistanceFromStyledBranch(b,g.showHighlight,f,c);if(void 0!==x){var _=!1;o?(h<o.stackingContext||h===o.stackingContext&&x<o.distance-3.5)&&(_=!0):_=!0,_&&(o={type:"sketch-branch",model:u,sketch:g,distance:x,stackingContext:h,branchInfo:{id:g.id,branch:y,sketch:g}})}}}else if("image"===u.type){var v=this.manager.getGraphImage(p);if(!v)continue;var w=this.getImageInfoUnderMouse(v,r.pixelsToMath.mapPoint(e),t);if(!w)continue;v.foreground?(h=l+=1,s[p]=h,l+=1):(h=1/0,s[p]=h),(!o||o.stackingContext>h)&&(o={type:"image",model:v,distance:0,stackingContext:h,listIndex:w.listIndex})}}var A=[],k=[],E=[],I=[],M=o?o.stackingContext:1/0;this.manager.poiDotsLayer.getDrawnPOI().forEach((e=>{var t;if(!e.isBareLabel())if(e.isMovable()){let n=e.sketch.id,r=this.controller.getItemModel(n),i=r&&"expression"===r.type&&(null==(t=r.formula.geometry)?void 0:t.call);i&&"glider"===i.symbol?A.push(e):k.push(e)}else e.isAttachedToPlottedPoint()?s[e.sketch.id]<=M&&E.push(e):I.push(e)}));var S=this._getClosestPoint(A,e,t);if(S||(S=this._getClosestPoint(k,e,t)),S)return{type:"movable-point",poi:S,isClickable:void 0,sketch:S.sketch,model:this.controller.getItemModel(S.sketch.id)};var C=this._getClosestPoint(I,e,t);if(C)return{type:"poi",poi:C,isClickable:!1,model:void 0};var T=this._getClosestPoint(E,e,t);if(T){var D=this.controller.getItemModel(T.sketch.id);if(D&&"expression"===D.type)if(Xs(D))return{type:"static-point",poi:T,sketch:T.sketch,isClickable:!0,model:D};return{type:"static-point",poi:T,isClickable:!1,sketch:T.sketch,model:D}}if(o){if("sketch-branch"===o.type)return{type:"sketch-branch",branchInfo:o.branchInfo,sketch:o.sketch,model:o.model,isClickable:Xs(o.model),isSelected:this.controller.isItemSelected(o.sketch.id),selectionId:this.controller.isItemSelectable(o.model.id)?o.model.id:void 0};if("image"===o.type)return{type:"image",model:o.model,isClickable:Lb(o.model),listIndex:o.listIndex,isSelected:this.controller.isItemSelected(o.model.id),selectionId:this.controller.isItemSelectable(o.model.id)?o.model.id:void 0}}}_togglePOIUnderPoint(e,t){if(this.controller.isTraceEnabled()){var n=this.getFeatureUnderPoint(e,t);if(!n||n.isClickable)return!1;var r="poi"in n&&n.poi;return!(!r||r.isBareLabel())&&(this.manager.poiLabelsLayer.isOpenPOI(r)?(this.manager.poiLabelsLayer.closePOI(r),this.manager.poiLabelsLayer.setHoveredPOI(void 0)):(this.manager.poiLabelsLayer.openPOI(r),this.speakPoint(r)),this.manager.redrawAllLayers(),!0)}}getImageInfoUnderMouse(e,t,n){if(e){var r=e.formula;if(r){var i=r.dimensions;if(i.x&&i.y&&i.width&&i.height&&i.radianAngle&&e.shouldGraph)for(var o=i.x.length-1;o>=0;o--){var a=i.x[o],s=i.y[o],l=i.radianAngle[o],c=a+Math.cos(l)*(t.x-a)-Math.sin(l)*(t.y-s),d=s+Math.sin(l)*(t.x-a)+Math.cos(l)*(t.y-s),p=.5*Math.abs(i.width[o]),u=.5*Math.abs(i.height[o]);if(c>a-p&&c<a+p&&d>s-u&&d<s+u)return{listIndex:o}}}}}doesBoxIntersectBranch(e,t){let n=!1,r=!1;switch(e.graphMode){case 5:case 8:case 2:break;case 6:n=!0;break;case 1:r=!0;break;case 18:case 17:case 19:return aw(t,{x1:e.segments[0][0],y1:e.segments[0][1],x2:e.segments[0][2],y2:e.segments[0][3],extendStart:18===e.graphMode,extendEnd:17!==e.graphMode});case 20:return rL(t,{x:e.segments[0][0],y:e.segments[0][1],radius:e.segments[0][2]});case 21:case 23:{let[n,r]=e.segments[0],[i,o,a]=21===e.graphMode?this.getBoxIntersectArgsForArc(e):this.getBoxIntersectArgsForAngleMarker(e),s=(a-o)/2+o;return tL(t,{x0:n+i*Math.cos(o),y0:r+i*Math.sin(o),x1:n+i*Math.cos(s),y1:r+i*Math.sin(s),x2:n+i*Math.cos(a),y2:r+i*Math.sin(a)})}default:return!1}for(var i=e.segments,o=0;o<i.length;o++){var a=i[o];if(n){let e=a;a=[];for(let t=0;t<e.length;t+=2){var s=e[t],l=e[t+1];a.push(l*Math.cos(s),l*Math.sin(s))}}else if(r){let e=a;a=[];for(let t=0;t<e.length;t+=2)a.push(e[t+1],e[t])}if(iL(t,a))return!0}return!1}getBoxIntersectArgsForArc(e){return[e.segments[0][2],e.segments[0][3],e.segments[0][4]]}getBoxIntersectArgsForAngleMarker(e){let t=e.segments[0][3],n=this.manager.getProjection(),r=cp(t,n),i=n.pixelsToMath.dangerouslyGetXScaleFactor(),o=n.pixelsToMath.dangerouslyGetYScaleFactor();return[Math.abs(Math.min(i,o))*r,e.segments[0][2],e.segments[0][2]+t]}static doesBoxIntersectAnyImage(e,t){var n=e.formula;if(n){var r=n.dimensions;if(r.x&&r.y&&r.width&&r.height&&r.radianAngle&&e.shouldGraph){for(var i=r.x.length-1;i>=0;i--)if(nL(t,{width:r.width[i],height:r.height[i],angle:r.radianAngle[i],center:{x:r.x[i],y:r.y[i]}}))return!0;return!1}}}static doesBoxIntersectPOI(e,t){return t.left<=e.x&&e.x<=t.right&&t.top<=e.y&&e.y<=t.bottom}calculateDistanceFromBranch(e,t,n,r){if(e&&7===e.graphMode&&(r||this.controller.isGeometry())){var i=e.segments;let r=n.pixelsToMath.mapCoordinatePair([t.x,t.y]);for(var o=0;o<i.length;o++)if(__dcg_shared_module_exports__.ib(i[o],r))return 0;return 1/0}var a=ol.getBranchesDistanceInfo(e,t,n,r,this.controller.isGeometry());return a?a.minDistance:1/0}static getBranchesDistanceInfo(e,t,n,r,i){let o=t.x,a=t.y,{mathToPixels:s,pixelsToMath:l}=n;switch(e.graphMode){case 5:if(!i&&!r)return;break;case 8:case 6:if(!r)return;break;case 2:case 1:break;case 23:{let[t,r,i,c]=e.segments[0],d=s.dangerouslyGetXScaleFactor(),p=s.dangerouslyGetYScaleFactor(),[u,h]=l.mapCoordinatePair([o,a]),g=cp(c,n),m=g/d,f=1/0,y=h-r,b=u-t,x=Math.atan2(y,b);if(__dcg_shared_module_exports__.Z(x,i,c)){__dcg_shared_module_exports__._(y*p,b*d)<=g+7&&(f=0)}else{let e=__dcg_shared_module_exports__.ba(u,h,t+m*Math.cos(i),r+m*Math.sin(i),t,r),n=__dcg_shared_module_exports__.ba(u,h,t+m*Math.cos(i+c),r+m*Math.sin(i+c),t,r),o=__dcg_shared_module_exports__._(d*(e[0]-u),p*(e[1]-h)),a=__dcg_shared_module_exports__._(d*(n[0]-u),p*(n[1]-h));f=Math.min(o,a)}return{closestPoint:{x:o,y:a},minDistance:f,secondDistance:f}}case 18:case 17:case 19:var c=s.mapX(e.segments[0][0]),d=s.mapY(e.segments[0][1]),p=s.mapX(e.segments[0][2]),u=s.mapY(e.segments[0][3]),h=18===e.graphMode,g=17!==e.graphMode,m=__dcg_shared_module_exports__.ca(o,a,c,d,p,u,h,g);if(!m)return null;var f=__dcg_shared_module_exports__._(m[0]-o,m[1]-a);return{closestPoint:{x:m[0],y:m[1]},minDistance:f,secondDistance:f};case 21:case 20:{var y=e.segments[0][0],b=e.segments[0][1],x=e.segments[0][2];let t=21===e.graphMode?e.segments[0][3]:0,n=21===e.graphMode?e.segments[0][4]:2*Math.PI;var _=__dcg_shared_module_exports__.ea(l.mapX(o),l.mapY(a),y,b,x,t,n);if(!_)return null;let r=s.mapCoordinatePair(_);var v=__dcg_shared_module_exports__._(r[0]-o,r[1]-a);return{closestPoint:{x:r[0],y:r[1]},minDistance:v,secondDistance:v}}default:return}for(var w,A,k=1/0,E=1/0,I=0;I<e.segments.length;I++)for(var M=e.segments[I],S=0;S<M.length-3;S+=2){var C=M[S],T=M[S+1],D=M[S+2],P=M[S+3];if(6===e.graphMode){var O=T,B=C;C=O*Math.cos(B),T=O*Math.sin(B);var L=P,F=D;D=L*Math.cos(F),P=L*Math.sin(F)}1===e.graphMode&&([C,T]=[T,C],[D,P]=[P,D]);let[t,n]=s.mapCoordinatePair([C,T]),[r,i]=s.mapCoordinatePair([D,P]);var N=__dcg_shared_module_exports__.ba(0,0,t-o,n-a,r-o,i-a),R=__dcg_shared_module_exports__._(N[0],N[1]);N[1===e.graphMode?1:0]<0?R<k&&(k=R,w=N):R<E&&(E=R,A=N)}var q=k<E?w:A;if(q)return{closestPoint:{x:q[0]+o,y:q[1]+a},minDistance:Math.min(k,E),secondDistance:Math.max(k,E)}}static getBranchesTracePoint(e,t,n,r){var i,o=n.pixelsToMath.mapPoint(t);switch(e.graphMode){case 20:case 21:{let t=21===e.graphMode?e.segments[0][3]:0,n=21===e.graphMode?e.segments[0][4]:2*Math.PI;i=__dcg_shared_module_exports__.ea(o.x,o.y,e.segments[0][0],e.segments[0][1],e.segments[0][2],t,n);break}case 18:case 19:case 17:i=__dcg_shared_module_exports__.ca(o.x,o.y,e.segments[0][0],e.segments[0][1],e.segments[0][2],e.segments[0][3],18===e.graphMode,17!==e.graphMode)}if(i)return{x:i[0],y:i[1]};if(!e)return;let a="compiled"in e&&e.compiled,s=a&&a.fn;if(!s)return;var l=this.getBranchesDistanceInfo(e,t,n,!1,r);if(!l)return;let c,d,{mathToPixels:p,pixelsToMath:u}=n;2===e.graphMode?(d="x",c="y"):(d="y",c="x",p=new __dcg_shared_module_exports__.kc(p.yScale,p.xScale),u=p.inverse());var h=l.minDistance/l.secondDistance;h*=h;var g=l.closestPoint[d]*(1-h)+t[d]*h,m=.5,f=p.mapY(s(u.mapX(g-m))),y=p.mapY(s(u.mapX(g))),b=p.mapY(s(u.mapX(g+m))),x=m*Math.min(1,.5/Math.abs(f-y)),_=m*Math.min(1,.5/Math.abs(b-y));isFinite(x)||(x=m),isFinite(_)||(_=m);let v=mi(u.mapX(g-x),u.mapX(g+_)),w=s(v);if(!isFinite(p.mapY(w))){let e=p.mapX(v)-m,n=p.mapX(v)+m,r=u.mapX(e),i=u.mapX(n),o=s(r),a=s(i),l=p.mapY(o),d=p.mapY(a);w=Math.abs(l-t[c])<Math.abs(d-t[c])?o:a}return{x:2===e.graphMode?v:w,y:2===e.graphMode?w:v}}getPointInfo(e){switch(e.type){case"poi":return e.poi.getMovablePoint();case"image":return{sketch:{id:e.image.formula.center_reference_id}};case"draggable-label":return{sketch:{id:e.label.model.id}};default:return e}}startReverseDrag(e,t){let n=this.getMouseRelativeToGrapher(t),r=[e].concat(this.controller.getAllSelectedItems().map((e=>e.id)));var i=this.controller.getGeoModel().getComputedBoard().computeReversibilityLineages(r),o=[],a=!1;for(let e in i){var s=this.manager.poiDotsLayer.getDrawnPOI().filter((t=>!!t.isMovable()&&e===t.sketch.id));if(!s||1!==s.length){a=!0;break}o.push({type:"poi",poi:s[0],startScreenPt:n,shouldDelayUntilRealMove:!0,transformations:i[e]})}return!a&&(o.length>0&&(this.startMovingPoints({evt:t,points:o}),!0))}startMovingPoints(e){var t=e.evt,n=e.points,r=this.isBoxSelectActive(t),i=!1,o=!1,a=n.map(this.getPointInfo),s=this.controller;function l(){r||(o=!0,s.dispatch({type:"start-moving-points",points:a}))}var c=!1;for(var d of n)if(d.shouldDelayUntilRealMove){c=!0;break}c||l();let p=n.filter((e=>"poi"===e.type&&e.poi.isMovable()));var u=n.map((e=>{var t;switch(e.type){case"poi":if(t=e.poi,e.transformations){let n=__dcg_shared_module_exports__.Ib(e.transformations.forward,[t.x,t.y]);t={x:n[0],y:n[1]}}break;case"image":t={x:e.image.formula.dimensions.x[0],y:e.image.formula.dimensions.y[0]};break;case"draggable-label":t={x:e.label.x,y:e.label.y}}if("poi"===e.type){let t=e.poi;this.manager.movablePointsLayer.setPressedPointId(t.isMovable()&&1===p.length?t.getMovablePoint().id:void 0)}var n=this.manager.getProjection().map_pt(t);return{x:e.startScreenPt.x-n.x,y:e.startScreenPt.y-n.y}})),h=void 0,g=()=>{if(h&&(i=!0,!r)){o||l();var e=this.manager.getProjection(),t=this.getMouseRelativeToGrapher(h);h=void 0,this.controller.dispatch({type:"on-move-points",points:n.map(this.getPointInfo),screenPts:u.map((function(e){return{x:t.x-e.x,y:t.y-e.y}})),transform:n.map((e=>"poi"===e.type?e.transformations:void 0)),previousScreenPts:n.map((e=>e.startScreenPt)),projection:e})}};this.manager.registerMovablePointListener(g),this.addGlobalMouseListener("dcg-tapmove",(e=>{h=e})),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",(e=>{if(g(),this.manager.deregisterMovablePointListener(),this.removeAllGlobalMouseListeners(),this.manager.movablePointsLayer.setPressedPointId(void 0),o&&(e.handle("dragged-clickable-object"),this.controller.dispatch({type:"stop-moving-points",points:n.map(this.getPointInfo)})),!i){var r=this.getMouseRelativeToGrapher(t),a=this.getToleranceByDevice(t.device),s=this.getFeatureUnderPoint(r,a);if(s&&"movable-point"===s.type){if(!this.controller.isGeometry())return;(!s.sketch.selected||this.isBoxSelectActive(e))&&s.model&&this.selectItemIfNotSecret(s.model.id,this.isBoxSelectActive(e))}else if(s&&"sketch-branch"===s.type){var l=s.model;l&&l.formula.geometry&&(!s.sketch.selected||this.isBoxSelectActive(e))&&this.selectItemIfNotSecret(s.model.id,this.isBoxSelectActive(e))}}}))}startTracingBranch(e,t){this.manager.markLabelsDirty(),this.lastScreenPt=t;var n=this.manager.getProjection(),r=e.sketch.branches[e.branch],i=ol.getBranchesTracePoint(r,t,n,this.controller.isGeometry());i&&this.speakPoint(i),this.manager.traceLayer.setTraceInfo({pt:i,branchInfo:e}),this.manager.redrawAllLayers(),this.addGlobalMouseListener("dcg-tapmove",this.handleTraceUpdate.bind(this)),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",this.stopTracingBranch.bind(this))}stopTracingBranch(e){this.manager.markLabelsDirty();var t=this.manager.poiLabelsLayer.getHoveredPOI();t&&!this.manager.poiLabelsLayer.isOpenPOI(t)&&(this.manager.poiLabelsLayer.openPOI(t),this.speakPoint(t),this.manager.redrawAllLayers()),this.lastScreenPt=void 0,this.manager.traceLayer.setTraceInfo(void 0),this.manager.redrawAllLayers(),this.removeAllGlobalMouseListeners()}handleTraceUpdate(e){if(this.manager.traceLayer.traceInfo){var t,n=this.manager.getProjection();if(e)t=this.getMouseRelativeToGrapher(e),this.lastScreenPt=t,this.manager.markLabelsDirty();else{if(!this.lastScreenPt)return;t=this.lastScreenPt}var r=1/0,i=-1,o=this.manager.traceLayer.traceInfo,a=this.manager.graphSketches[o.branchInfo.sketch.id];if(a){o.branchInfo.sketch=a;for(var s=o.branchInfo.sketch.branches,l=0;l<s.length;l++){var c=this.calculateDistanceFromBranch(s[l],t,n,!1);c<r&&(i=l,r=c)}var d=s[i],p=d?ol.getBranchesTracePoint(d,t,n,this.controller.isGeometry()):void 0;p&&this.speakPoint(p),this.manager.traceLayer.traceInfo.branchInfo.branch=i,this.manager.traceLayer.traceInfo.pt=p,this.manager.redrawAllLayers()}}}hasNonlinearMoveStrategy(e){if(!e||!e.sketch)return!1;var t=this.controller.getItemModel(e.sketch.id);if(!t||"expression"!==t.type||!t.formula)return!1;var n=t.formula.move_strategy;return!(!n||!n[0])&&"updateSliderNonlinear"===n[0].type}movePointFromKeyboard(e,t){if(t&&e&&e.sketch){var n=this.controller.getItemModel(e.sketch.id);if(n&&"expression"===n.type)if("movable-point"===e.type||void 0!==n.label&&n.showLabel&&"NONE"!==n.reconciledDragMode){var r,i,o=this.manager.getProjection(),a=o.map_pt({x:e.x,y:e.y}),s=0,l=0,c=Le(t),d=(o.pixelCoordinates.right-o.pixelCoordinates.left)/40,p=(o.pixelCoordinates.bottom-o.pixelCoordinates.top)/40,u="Up"===c||"Down"===c?p:d;if(u=t.shiftKey?5*u:u,"Up"===c?(i="y",l-=u,r=t.shiftKey?"bigup":"up"):"Down"===c?(i="y",l+=u,r=t.shiftKey?"bigdown":"down"):"Left"===c?(i="x",s-=u,r=t.shiftKey?"bigdown":"down"):"Right"===c&&(i="x",s+=u,r=t.shiftKey?"bigup":"up"),r){var h,g={x:a.x+s,y:a.y+l};"x"===i||this.hasNonlinearMoveStrategy(e)?h={x:r}:"y"===i&&(h={y:r}),this.controller.dispatch({type:"on-move-points",points:[e],screenPts:[g],previousScreenPts:[a],projection:o,keyboardDirection:h})}}}}getGeoKeyboardPt(){return this.initGeoKeyboardPt(),this.geoKeyboardPt}setGeoKeyboardPt(e){this.geoKeyboardPt=e,this.manager.redrawAllLayers()}initGeoKeyboardPt(){if(!isNaN(this.geoKeyboardPt.x)&&!isNaN(this.geoKeyboardPt.y))return;let e=this.manager.getProjection();if(!e)return;let t=e.viewport,n=wd(e),r=n.minorStepX,i=n.minorStepY,o=Math.round((t.xmin+t.xmax)/2/r)*r,a=Math.round((t.ymin+t.ymax)/2/i)*i;this.setGeoKeyboardPt({x:o,y:a})}moveGeoPointFromKeyboard(e){if(!e)return;this.initGeoKeyboardPt();let t=this.manager.getProjection();if(!t)return;let n=t.viewport,r=wd(t),i=r.minorStepX/4,o=r.minorStepY/4;var a=this.geoKeyboardPt.x,s=this.geoKeyboardPt.y,l=Le(e);if("Down"===l?s=e.ctrlKey?n.ymin:Math.max(Math.round((s-o)/o)*o,n.ymin):"Up"===l?s=e.ctrlKey?n.ymax:Math.min(Math.round((s+o)/o)*o,n.ymax):"Left"===l?a=e.ctrlKey?n.xmin:Math.max(Math.round((a-i)/i)*i,n.xmin):"Right"===l&&(a=e.ctrlKey?n.xmax:Math.min(Math.round((a+i)/i)*i,n.xmax)),a!==this.geoKeyboardPt.x||s!==this.geoKeyboardPt.y){this.setGeoKeyboardPt({x:a,y:s}),this.handleGeoKeyboardPtMove(e),Ct(Cd(this.controller,this.geoKeyboardPt.x,this.geoKeyboardPt.y,n));let t=this.manager.clickableObjectsLayer.getHoveredObjects(),r="";for(let e in t){let t=this.controller.getItemModel(e);void 0!==t&&(""===r&&this.controller.getGeoModel().setLastFocusedId(t.id),Ct(this.controller.s("graphing-calculator-narration-geometry-near-item",{item:this.controller.getGeoDescription(t,{includeDetails:!1})})))}ge()}}handleGeoKeyboardPtMove(e){this.initGeoKeyboardPt();let t=this.controller.getGeoModel(),n=!(!e||!e.shiftKey);t.onMouseAction("move",{pt:this.geoKeyboardPt,shift:n,tolerance:this.getToleranceByDevice("keyboard")}),t.onPreviewChange()}tapGeoPointFromKeyboard(e){var t;this.initGeoKeyboardPt();let n=this.controller.getGeoModel(),r=this.controller.getActiveTool(),i=n.getCurrentTool(),o=null==(t=i.getSpec)?void 0:t.call(i),a=!!e.shiftKey;var s=n.onMouseAction("release",{pt:this.geoKeyboardPt,shift:a,tolerance:this.getToleranceByDevice("keyboard")}),l=s&&s.committed;l&&this.controller.dispatch({type:"commit-geo-objects",objects:l}),n.onMouseAction("move",{pt:this.geoKeyboardPt,shift:a,tolerance:this.getToleranceByDevice("keyboard")}),n.onPreviewChange(),this.speakReleaseAndUpdate(r,o,l,e)}speakReleaseAndUpdate(e,t,n,r){this.controller.getEvaluator().notifyWhenSynced((()=>{this.speakGeoReleaseAction(e,t,n);let i,o=n&&Object.keys(n)[0];o&&(i=this.controller.getItemModel(o)),i||(i=this.controller.getSelectedItem()),this.updateFocusedGeoId((null==i?void 0:i.id)||"",r,!1)}))}speakGeoReleaseAction(e,t,n){var r;if(void 0!==n){let i=Object.keys(n);if(!t)return;let o="";if("point"===e){for(let e in n){let t=n[e];if(t){if("point-reference"===t.type){o=this.controller.s("graphing-calculator-text-geometry-tool-point-display-name");break}if("intersection"===t.type){o=this.controller.s("graphing-calculator-text-geometry-intersection");break}if("glider"===t.type){o=this.controller.s("graphing-calculator-text-geometry-glider");break}}}""===o&&(o=this.controller.s("graphing-calculator-text-geometry-tool-point-display-name"))}else switch(null==(r=t.outputs[0])?void 0:r.type){case"arc":o=this.controller.s("graphing-calculator-text-geometry-tool-arc-display-name");break;case"circle":o=this.controller.s("graphing-calculator-text-geometry-tool-circle-display-name");break;case"line":o=this.controller.s("graphing-calculator-text-geometry-tool-line-display-name");break;case"segment":o=this.controller.s("graphing-calculator-text-geometry-tool-segment-display-name");break;case"ray":o=this.controller.s("graphing-calculator-text-geometry-tool-ray-display-name");break;case"parallel":o=this.controller.s("graphing-calculator-text-geometry-tool-parallel-display-name");break;case"perpendicular":o=this.controller.s("graphing-calculator-text-geometry-tool-perpendicular-display-name");break;case"midpoint":o=this.controller.s("graphing-calculator-text-geometry-tool-midpoint-display-name");break;case"polygon":o=this.controller.s("graphing-calculator-text-geometry-tool-polygon-display-name");break;case"angle":o=this.controller.s("graphing-calculator-text-geometry-tool-angle-display-name");break;case"reflection":o=this.controller.s("graphing-calculator-text-geometry-tool-reflection-display-name");break;case"translation":o=this.controller.s("graphing-calculator-text-geometry-tool-translation-display-name");break;case"dilation":o=this.controller.s("graphing-calculator-text-geometry-tool-dilation-display-name");break;case"rotation":o=this.controller.s("graphing-calculator-text-geometry-tool-rotation-display-name");break;default:o=this.controller.s("graphing-calculator-narration-geometry-item-unknown")}1===i.length?ge(this.controller.s("graphing-calculator-narration-geometry-added-object-type",{type:o})):"graphing-calculator-text-geometry-point"!==o?2===i.length?ge(this.controller.s("graphing-calculator-narration-geometry-added-object-type-and-point",{type:o})):ge(this.controller.s("graphing-calculator-narration-geometry-added-object-type-and-points",{type:o,points:i.length-1})):ge(this.controller.s("graphing-calculator-narration-geometry-added-points",{points:i.length}))}else this.controller.getGeoModel().speakCurrentGeoToolHint()}focusGeoObjFromKeyboard(e,t){let n=this.controller.getGeoModel(),r={};Ed(this.controller,((e,t)=>{t||!this.controller.shouldShowAuthorFeatures()&&this.controller.isItemSecret(e.calcId)&&!this.controller.isItemInGeoFolder(e.calcId)||e.typedRuntimeValue.valueType===__dcg_shared_module_exports__.O||(r[e.calcId]=e)}));let i=this.manager.getSketchOrder().filter((e=>void 0!==r[e]));if(0===i.length)return;let o=this.controller.getActiveTool(),a="point"!==o&&"box-selection"!==o,s=n.getLastFocusedId();if(""===s){if(a)for(let e=0;e<i.length;e++)if(!n.isObjectALockedToolInput(r[i[e]].assignment)&&n.isValidNextInputType(r[i[e]].typedRuntimeValue.valueType))return void this.updateFocusedGeoId(i[e],t);return void("next"===e?this.updateFocusedGeoId(i[0],t):this.updateFocusedGeoId(i[i.length-1],t))}let l=Math.max(i.indexOf(s),0),c=0,d=0,p=0,u=0;"prev"===e?(d=Math.max(0,l),u=-1,p=0):(d=Math.min(i.length-1,l),u=1,p=i.length-1);let h=!1,g=()=>{for(c=d;c!==p+u;c+=u){let e=r[i[c]];if(e&&e.calcId!==s&&!n.isObjectALockedToolInput(e.assignment)&&(!a||!n.isTemporaryToolOutput(e.assignment)&&n.isValidNextInputType(e.typedRuntimeValue.valueType)))return void(h=!0)}};if(g(),h||(d="prev"===e?i.length-1:0,p=l,g()),!h&&!a)return!1;h&&this.updateFocusedGeoId(i[c],t)}updateFocusedGeoId(e,t,n=!0){let r=this.controller.getGeoModel();r.getLastFocusedId()!==e&&(r.setLastFocusedId(e),this.moveGeoKeyboardPtToFocusedItem(n),this.handleGeoKeyboardPtMove(t),n&&this.describeFocusedConstruction())}describeFocusedConstruction(e=!0){let t=this.controller.getGeoModel().getLastFocusedId(),n=this.controller.getItemModel(t);ge(this.controller.getGeoDescription(n,{includeDetails:e}))}moveGeoKeyboardPtToFocusedItem(e=!0){let t=this.controller.getGeoModel().getLastFocusedId(),n=this.controller.getItemModel(t);if(!n)return void(e&&ge(this.controller.s("graphing-calculator-narration-geometry-nothing-selected")));if("expression"!==n.type||!n.latex)return void(e&&ge(this.controller.s("graphing-calculator-narration-geometry-not-a-construction")));let r=n.formula.typed_constant_value;if(!r)return void(e&&ge(this.controller.s("graphing-calculator-narration-geometry-not-a-construction")));let i=this.manager.getProjection();if(!i)return;let o=i.viewport,a=r.valueType,s=r.value,l=NaN,c=NaN;a===__dcg_shared_module_exports__.q?(l=s[0],c=s[1]):a===__dcg_shared_module_exports__.G||a===__dcg_shared_module_exports__.I||a===__dcg_shared_module_exports__.A?(l=(s[0][0]+s[1][0])/2,c=(s[0][1]+s[1][1])/2):(l=s[0][0],c=s[0][1]),this.controller.getGeoModel().setObjectHovered({calcId:t,listIndex:void 0}),isNaN(l)||isNaN(c)?e&&ge(this.controller.s("graphing-calculator-narration-geometry-unable-to-move")):(this.setGeoKeyboardPt({x:l,y:c}),e&&ge(this.controller.s("graphing-calculator-narration-geometry-moved-to-coordinates",{x:on(this.controller,l,o),y:an(this.controller,c,o)})))}speakPoint(e,t){if(e&&this.manager.getAudioTrace()){var n=this.manager.getProjection();if(n){var r=n.viewport;switch(t){case"X":ge(on(this.controller,e.x,r));break;case"Y":ge(an(this.controller,e.y,r));break;case"L":"ariaLabel"in e&&e.ariaLabel?ge(e.ariaLabel):ge(this.controller.s("graphing-calculator-narration-poi-graph-point"));break;case"C":"sketch"in e&&ge(bd(this.controller,e.sketch.color))}}}}selectItemIfNotSecret(e,t){!this.controller.shouldShowAuthorFeatures()&&this.controller.isItemSecret(e)&&!this.controller.isItemInGeoFolder(e)||(this.controller.isMultiSelectEnabled()&&t?this.controller.dispatch({type:"toggle-selected-with-multi-select",id:e}):this.controller.dispatch({type:"set-selected-id",id:e}))}convertTouchEventToMathPoint(e){let{clientX:t,clientY:n}=e.changedTouches[0],r=this.manager.$[0].getBoundingClientRect();return this.controller.getGeoModel().convertCanvasPixelsToPoint({x:t-r.left,y:n-r.top})}handleGeoTapStart(e){let t=this.controller.getGeoModel();this.grapherIsPressed=!0;let n=!!e.shiftKey,r=this.convertTouchEventToMathPoint(e);this.geoMouse=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},r),{shift:n}),t.onMouseAction("press",{pt:r,shift:n,tolerance:this.getToleranceByDevice(e.device)}),aL(e)?this.handleGeoTapMove(e):(t.onPreviewChange(),this.updateGeoHoveredObjects())}handleGeoShiftKeyChange(e){let t=this.geoMouse;if(!t||t.shift===e)return;t.shift=e;let n=this.controller.getGeoModel();n.onMouseAction("move",{pt:{x:t.x,y:t.y},shift:t.shift,tolerance:this.getToleranceByDevice("mouse")}),n.onPreviewChange()}handleGeoTapMove(e){let t=this.controller.getGeoModel();if(this.isEventWithinInstance(e)||this.grapherIsPressed){let n=this.convertTouchEventToMathPoint(e),r=!!e.shiftKey;this.geoMouse=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{shift:r}),t.onMouseAction("move",{pt:n,shift:r,tolerance:this.getToleranceByDevice(e.device)})}else this.geoMouse=void 0,t.onMouseAction("move",{pt:{x:NaN,y:NaN},shift:!1,tolerance:0});t.onPreviewChange()}handleGeoTapEnd(e){var t;if(!this.grapherIsPressed)return;let n=this.controller.getGeoModel();this.grapherIsPressed=!1,this.geoMouse=void 0;let{committed:r}=this.canceledGeoToolplayWhilePressed?{committed:void 0}:n.onMouseAction("release",{pt:this.convertTouchEventToMathPoint(e),shift:!!e.shiftKey,tolerance:this.getToleranceByDevice(e.device)});this.canceledGeoToolplayWhilePressed=!1,r&&this.controller.dispatch({type:"commit-geo-objects",objects:r}),this.isEventWithinInstance(e)&&aL(e)?this.handleGeoTapMove(e):n.onPreviewChange();let i=this.controller.getActiveTool(),o=n.getCurrentTool(),a=null==(t=o.getSpec)?void 0:t.call(o);this.speakGeoReleaseAction(i,a,r)}isEventWithinInstance(e){return e.target?P(e.target).closest(this.manager.$).length:0}updateGeoHoveredObjects(){let e=this.controller.getGeoModel(),t={};e.getHoveredItems().forEach((e=>{let n;if("tokenId"in e){let t=this.controller.getGeoTokenInfoFromAssignment(__dcg_shared_module_exports__.Wa(e.tokenId));n=t&&t.calcId}else n=e.calcId;if(void 0!==n){let r=t[n];r?void 0===e.listIndex?r.listIndexes=void 0:void 0!==r.listIndexes&&(r.listIndexes[e.listIndex-1]=!0):t[n]={listIndexes:void 0===e.listIndex?void 0:{[e.listIndex-1]:!0}}}})),this.manager.clickableObjectsLayer.setHoveredObjects(t)}cancelGeoToolplay(){this.canceledGeoToolplayWhilePressed=this.grapherIsPressed,this.updateGeoHoveredObjects()}startBoxSelect(e){let t={};this.controller.getAllSelectedItems().forEach((e=>t[e.id]=!0));let n,r=this.manager.getProjection().reverse_map_pt(this.getMouseRelativeToGrapher(e));this.addGlobalMouseListener("dcg-tapmove",(e=>{n=this.manager.getProjection().reverse_map_pt(this.getMouseRelativeToGrapher(e));let i={left:Math.min(r.x,n.x),top:Math.min(r.y,n.y),right:Math.max(r.x,n.x),bottom:Math.max(r.y,n.y)};this.manager.setBoxSelectRectangle(i);let o=this.findIdsThatIntersectBox(i);this.controller.dispatch({type:"set-all-selected-ids",ids:__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},t),o)})})),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",(e=>{this.removeAllGlobalMouseListeners(),this.manager.setBoxSelectRectangle(void 0),n||this.controller.dispatch({type:"set-none-selected"})}))}};function aL(e){return"mouse"===e.device}at();var ds=class{constructor(e=0,t=0,n=1,r=n){this.tx=e,this.ty=t,this.sx=n,this.sy=r}toJSON(){return{tx:this.tx,ty:this.ty,sx:this.sx,sy:this.sy}}compose(e){return new ds(this.sx*e.tx+this.tx,this.sy*e.ty+this.ty,this.sx*e.sx,this.sy*e.sy)}translate(e,t){let n=void 0===t?e.x:t.x-e.x,r=void 0===t?e.y:t.y-e.y;return new ds(this.tx+n,this.ty+r,this.sx,this.sy)}scale(e,t){return ds.scale(e,t).compose(this)}scaleAtPoint(e,t,n=t){return ds.scaleAtPoint(e,t,n).compose(this)}mapX(e){return this.sx*e+this.tx}mapY(e){return this.sy*e+this.ty}mapPoint(e){return{x:this.mapX(e.x),y:this.mapY(e.y)}}mapRect(e){return{left:this.mapX(e.left),right:this.mapX(e.right),bottom:this.mapY(e.bottom),top:this.mapY(e.top)}}},po=ds;po.scale=function(e,t=e){return new ds(0,0,e,t)},po.translate=function(e,t){return(new ds).translate(e,t)},po.scaleAtPoint=function(e,t,n=t){return void 0===n&&(n=t),new ds(e.x*(1-t),e.y*(1-n),t,n)},po.fromRects=function(e,t){let n=(t.right-t.left)/(e.right-e.left),r=(t.top-t.bottom)/(e.top-e.bottom);return new ds(t.left-n*e.left,t.bottom-r*e.bottom,n,r)},po.fromJSON=function(e){return new ds(e.tx,e.ty,e.sx,e.sy)};var us=class{constructor(e,t,n){this.screen=e,this.viewport=t,this.settings=n,this.mathCoordinates=__dcg_shared_module_exports__.jc(t),this.pixelCoordinates=__dcg_shared_module_exports__.ic(e),this.updateScalePairs()}updateScalePairs(){let{xAxisScale:e,yAxisScale:t}=this.settings;this.mathToPixels=__dcg_shared_module_exports__.kc.fromRects(this.mathCoordinates,this.pixelCoordinates,{xAxisScale:e,yAxisScale:t}),this.pixelsToMath=this.mathToPixels.inverse()}mapx(e){return this.mathToPixels.mapX(e)}mapy(e){return this.mathToPixels.mapY(e)}reverse_mapx(e){return this.pixelsToMath.mapX(e)}reverse_mapy(e){return this.pixelsToMath.mapY(e)}mapAlongAxis(e,t){switch(t){case"x":return this.mapx(e);case"y":return this.mapy(e);default:throw new Error(`Unknown axis: ${t}`)}}reverseMapAlongAxis(e,t){switch(t){case"x":return this.reverse_mapx(e);case"y":return this.reverse_mapy(e);default:throw new Error(`Unknown axis: ${t}`)}}map_pt(e){return this.mathToPixels.mapPoint(e)}map_xy_pairs(e){for(var t=[],n=0;n<e.length;n+=2)t.push(this.mapx(e[n])),t.push(this.mapy(e[n+1]));return t}reverse_map_pt(e){return this.pixelsToMath.mapPoint(e)}coordsAreOnscreen(e,t,n=0){return e>-n&&t>-n&&e<this.screen.width+n&&t<this.screen.height+n}closestPointOnScreen(e){let t=this.pixelCoordinates;return{x:Math.min(Math.max(e.x,t.left),t.right),y:Math.min(Math.max(e.y,t.top),t.bottom)}}};at();var fY=function(){var e="_*_";P.Event.prototype.wasHandled=function(t){t=t||e;var n=this.originalEvent,r=n&&n.handledBy;if(r&&r[t])return!0;if(t!==e)return!1;var i=P(this.target).closest("[handleEvent]");return!(!i.length||i[0]===this.currentTarget)&&"false"!==i.attr("handleEvent")},P.Event.prototype.handle=function(t){t=t||e;var n=this.originalEvent;if(n){var r=n.handledBy;r||(r=n.handledBy={}),r[t]=!0}}}();at();var sL=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],cw="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],I3=Array.prototype.slice,lD,Bl;if(P.event.fixHooks)for(cD=sL.length;cD;)P.event.fixHooks[sL[--cD]]=P.event.mouseHooks;var cD,uD=P.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=cw.length;e;)this.addEventListener(cw[--e],dD,!1);else this.onmousewheel=dD;P.data(this,"mousewheel-line-height",uD.getLineHeight(this)),P.data(this,"mousewheel-page-height",uD.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=cw.length;e;)this.removeEventListener(cw[--e],dD,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt(P(e)["offsetParent"in P.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return P(e).height()},settings:{adjustOldDeltas:!0}};function dD(e){var t=e||window.event,n=I3.call(arguments,1),r=0,i=0,o=0,a=0;if((e=P.event.fix(t)).type="mousewheel","detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(i=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(i=-1*o,o=0),r=0===o?i:o,"deltaY"in t&&(r=o=-1*t.deltaY),"deltaX"in t&&(i=t.deltaX,0===o&&(r=-1*i)),0!==o||0!==i){if(1===t.deltaMode){var s=P.data(this,"mousewheel-line-height");r*=s,o*=s,i*=s}else if(2===t.deltaMode){var l=P.data(this,"mousewheel-page-height");r*=l,o*=l,i*=l}return a=Math.max(Math.abs(o),Math.abs(i)),(!Bl||a<Bl)&&(Bl=a,lL(t,a)&&(Bl/=40)),lL(t,a)&&(r/=40,i/=40,o/=40),r=Math[r>=1?"floor":"ceil"](r/Bl),i=Math[i>=1?"floor":"ceil"](i/Bl),o=Math[o>=1?"floor":"ceil"](o/Bl),e.deltaX=i,e.deltaY=o,e.deltaFactor=Bl,e.deltaMode=0,n.unshift(e,r,i,o),lD&&clearTimeout(lD),lD=setTimeout(M3,200),(P.event.dispatch||P.event.handle).apply(this,n)}}function M3(){Bl=null}function lL(e,t){return uD.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}function pD(e,t){var n=t.x-e.x,r=t.y-e.y,i=.5*(e.x+t.x),o=.5*(e.y+t.y),a=.5*__dcg_shared_module_exports__._(n,r);return{center:ps(i,o),radius:a}}function dL(e,t){return pD(t,{x:2*e.x-t.x,y:2*e.y-t.y})}function uL(e,t){for(var n=[],r=0;r<e.length;r++)n.push(ps(e[r].pageX-t.left,e[r].pageY-t.top));return n}function ps(e,t){return{x:e,y:t}}function pL(e){return ps(.5*(e.left+e.right),.5*(e.bottom+e.top))}P.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}});var G3=0,dw=class{constructor(e,t){this.s=Pl((()=>this.grapher.settings.config.language)),this.grapher=e,this.$=e.$,this.id=G3++,this.controller=t,this.isScalingEnabled=!1,this.mousePt=ps(0,0),this.lastScrollZoom=Date.now(),this.preventScrollZoom=!1,this.addMouseWheelEventHandler(),this.addTouchEventHandler()}remove(){P(window).off(".viewportcontroller-"+this.id)}getViewport(){return this.grapher.getProjection().viewport}getProjection(){return this.grapher.getProjection()}isViewportLocked(){var e=this.getProjection().settings;return e.config.lockViewport||e.userLockedViewport}updateMouse(e){var t=this.$[0].getBoundingClientRect();this.mousePt=ps(e.clientX-t.left,e.clientY-t.top)}updateScaleAxis(){this.isMouseInViewport()&&(this.isMouseNearYAxis()?this.grapher.scaleAxis="y":this.isMouseNearXAxis()?this.grapher.scaleAxis="x":this.grapher.scaleAxis="both"),this.updateCursor(),this.grapher.redrawAllLayers()}updateCursor(){this.$.toggleClass("dcg-scale-horizontal","x"===this.grapher.scaleAxis),this.$.toggleClass("dcg-scale-vertical","y"===this.grapher.scaleAxis),this.$.toggleClass("dcg-scale-both","both"===this.grapher.scaleAxis)}isMouseNearOrigin(){var e=this.getProjection().mathToPixels.mapPoint(ps(0,0));return Math.abs(this.mousePt.x-e.x)<50&&Math.abs(this.mousePt.y-e.y)<50}isMouseNearXAxis(){var e=this.getProjection(),t=e.pixelCoordinates,n=e.mathToPixels.mapY(0);return n=Math.min(Math.max(t.top,n),t.bottom),Math.abs(this.mousePt.y-n)<40&&e.settings.showXAxis}isMouseNearYAxis(){var e=this.getProjection(),t=e.pixelCoordinates,n=e.mathToPixels.mapX(0);return n=Math.min(Math.max(t.left,n),t.right),Math.abs(this.mousePt.x-n)<40&&e.settings.showYAxis}isMouseInViewport(){var e=this.getProjection(),t=e.mathCoordinates,n=e.pixelsToMath.mapPoint(this.mousePt);return n.x>=t.left&&n.x<=t.right&&n.y>=t.bottom&&n.y<=t.top}getDefaultViewport(){return this.controller.getDefaultStateViewport()||this.grapher.getDefaultViewport()}_setViewportWithoutCancellingAnimation(e){if(e.isValid(this.controller.getAxisScaleSettings())&&!e.equals(this.getViewport())){var t=this.getProjection();this.grapher._setProjection(new us(t.screen,e,t.settings))}}setViewport(e){this.cancelAnimation(),this._setViewportWithoutCancellingAnimation(e)}setScreen(e){var t=this.getProjection();let n=t.settings.squareAxes?t.viewport.squareYAxis(e,t.settings):t.viewport;var r=new us(e,n,t.settings);this.grapher._setProjection(r)}getTransformedViewport(e){let{pixelCoordinates:t,mathCoordinates:n,settings:r}=this.getProjection(),{xAxisScale:i,yAxisScale:o}=r,a=e.mapRect(t);var s=__dcg_shared_module_exports__.kc.fromRects(n,a,{xAxisScale:i,yAxisScale:o}).inverse().mapRect(t);return new Ci(s.left,s.right,s.bottom,s.top)}transformViewport(e){this.setViewport(this.getTransformedViewport(e)),("x"===this.grapher.scaleAxis||"y"===this.grapher.scaleAxis)&&this.controller.markSquareAxesAfterUserEditedViewport()}animateToViewport(e){this.cancelAnimation();let t=this.getProjection(),n=t.viewport,r=t.mathToPixels;var i,o=0,a=t=>{if(i||(i=t),(o+=(t-i)/500)<1){this.__animationTimeout=requestAnimationFrame(a);let t=r.interpolateX(n.xmin,e.xmin,o),i=r.interpolateX(n.xmax,e.xmax,o),s=r.interpolateY(n.ymin,e.ymin,o),l=r.interpolateY(n.ymax,e.ymax,o);this._setViewportWithoutCancellingAnimation(new Ci(t,i,s,l)),this.grapher.debounceUserRequestedViewportChange()}else this.setViewport(Ci.fromObject(e)),this.grapher.debounceUserRequestedViewportChange(),this.controller.markSquareAxesAfterUserEditedViewport()};this.__animationTimeout=requestAnimationFrame(a)}cancelAnimation(){cancelAnimationFrame(this.__animationTimeout)}addMouseWheelEventHandler(){var e,t,n=!1;P(window).on("scroll.viewportcontroller-"+this.id,(function(e){n=!0})),P(window).on("mousewheel.viewportcontroller-"+this.id,(function(n){e=n.clientX,t=n.clientY})),P(window).on("mousemove.viewportcontroller-"+this.id,(function(r){if(n){var i=r.clientX-e,o=r.clientY-t;i*i+o*o<100||(n=!1)}}));var r=0;this.$.mousewheel(((e,t)=>{var i=Date.now();if(this.preventScrollZoom&&i-this.lastScrollZoom>50&&(this.preventScrollZoom=!1),this.lastScrollZoom=i,!this.preventScrollZoom){var o=this.getProjection();if(!this.isViewportLocked()){var a=o.mathToPixels;if(!n){e.preventDefault(),this.updateMouse(e);var s=a.mapPoint(ps(0,0)),l=this.isMouseNearOrigin()&&t>0?s:this.mousePt;if(!(r>0)){r+=1,requestAnimationFrame((function(){r--}));var c=(t=t>0?1:-1)>0?1.0625:1/1.0625,d=this.grapher.scaleAxis,p="x"!==d&&"both"!==d&&d?1:c,u="y"!==d&&"both"!==d&&d?1:c;this.transformViewport(po.scaleAtPoint(l,p,u)),this.grapher.debounceUserRequestedViewportChange()}}}}}))}applyPanTouchChanges(e,t){if(!this.isViewportLocked()&&!this.isScalingEnabled){var n=ps(t[0].x-e[0].x,t[0].y-e[0].y);this.transformViewport(po.translate(n)),this.grapher.debounceUserRequestedViewportChange()}}chooseDragScaleCenter(){var e=this.getProjection(),t=e.pixelCoordinates,n=e.mathToPixels.mapX(0),r=e.mathToPixels.mapY(0);return ps(n=Math.min(Math.max(t.left,n),t.right),r=Math.min(Math.max(t.top,r),t.bottom))}applyScaleTouchChanges(e,t){if(!this.isViewportLocked()){var n,r,i=this.grapher.scaleAxis;if(2===e.length&&2===t.length)n=pD(e[0],e[1]),r=pD(t[0],t[1]);else{if(1!==t.length)return;var o=this.chooseDragScaleCenter();n=dL(o,e[0]),r=dL(o,t[0])}var a=r.radius/n.radius,s="y"===i?1:a,l="x"===i?1:a,c=po.scaleAtPoint(n.center,s,l).translate(n.center,r.center);this.transformViewport(c),this.grapher.debounceUserRequestedViewportChange()}}addTouchEventHandler(){var e=[],t=!1,n=!0,r=!0;P(window).on("mousemove.viewportcontroller-"+this.id,(e=>{t||this.isViewportLocked()||(this.updateMouse(e),this.isScalingEnabled&&this.updateScaleAxis())})),this.beginPanning=e=>{var i=this.getProjection();if(!this.isViewportLocked()&&!t&&e.touches.length===e.changedTouches.length){t=!0,this.grapher.isDragging=!0,this.updateMouse(e);var o=i.mathToPixels.mapPoint(ps(0,0)),a=this.grapher.scaleAxis;("x"===a||"both"===a)&&(n=this.mousePt.x>o.x),("y"===a||"both"===a)&&(r=this.mousePt.y>o.y),this.controller.dispatch({type:"grapher/drag-start"}),P(document).on("dcg-tapmove.graphdrag",l),P(document).on("dcg-tapstart.graphdrag dcg-tapend.graphdrag dcg-tapcancel.graphdrag",c)}};var i=e=>{if(!(e.length<2)){var t=this.grapher.getProjection(),n=t.pixelCoordinates,r=t.mathToPixels.mapX(0),i=t.mathToPixels.mapY(0);r=Math.min(Math.max(n.left,r),n.right),i=Math.min(Math.max(n.top,i),n.bottom);var o=e[1].x-e[0].x,a=e[1].y-e[0].y;return Math.abs(e[0].x-r)<40&&Math.abs(e[1].x-r)<40&&Math.abs(a)>3*Math.abs(o)&&t.settings.showYAxis?"y":Math.abs(e[0].y-i)<40&&Math.abs(e[1].y-i)<40&&Math.abs(o)>3*Math.abs(a)&&t.settings.showXAxis?"x":"both"}},o=e=>(this.grapher.scaleAxis||(this.grapher.scaleAxis=i(e)),this.grapher.scaleAxis),a=()=>{this.grapher.scaleAxis&&(this.grapher.scaleAxis=void 0,this.grapher.redrawAllLayers(),this.updateCursor())},s=()=>{this.isScalingEnabled=!1,this.preventScrollZoom=!0,a()},l=i=>{if(t&&!this.isViewportLocked()){var s=uL(i.touches,this.$.offset());if(2===e.length&&2===s.length)o(s),this.applyScaleTouchChanges(e,s);else if(1===e.length&&this.isScalingEnabled){this.updateMouse(i);var l,c,d=this.grapher.scaleAxis,p=this.getProjection().mathToPixels.mapPoint(ps(0,0)),u=n?1:-1,h=r?1:-1;if(("x"===d||"both"===d)&&(l=this.mousePt.x>p.x+5*u),("y"===d||"both"===d)&&(c=this.mousePt.y>p.y+5*h),"x"===d&&n!==l||"y"===d&&r!==c||"both"===d&&n!==l&&r!==c)return;this.applyScaleTouchChanges(e,s)}else a();1===e.length&&this.applyPanTouchChanges(e,s),this.controller.dispatch({type:"grapher/drag-move"}),e=s}},c=n=>{t&&(this.cancelAnimation(),e=uL(n.touches,this.$.offset()),0===n.touches.length&&(t=!1,this.grapher.isDragging=!1,P(document).off(".graphdrag"),this.grapher.debounceUserRequestedViewportChange(),this.controller.dispatch({type:"grapher/drag-end"})),(0===n.touches.length||1===n.touches.length&&!this.isScalingEnabled)&&a())};P(window).on("keydown.viewportcontroller-"+this.id,(e=>{this.controller.isGeoToolActive()||this.isViewportLocked()||(Le(e)===Jg&&!(e=>e.altKey||e.ctrlKey||e.metaKey)(e)&&this.shouldAllowShiftScaling()?(this.isScalingEnabled=!0,this.grapher.scaleAxis||this.updateScaleAxis()):s())})),P(window).on("keyup.viewportcontroller-"+this.id+" blur.viewportcontroller-"+this.id,s)}shouldAllowShiftScaling(){return!this.controller.isGeometry()}zoom(e){var t=this.getProjection().pixelCoordinates;if("in"===e)this.animateToViewport(this.getTransformedViewport(po.scaleAtPoint(pL(t),2))),ge(this.s("graphing-calculator-narration-viewport-zoom-in"));else if("out"===e)this.animateToViewport(this.getTransformedViewport(po.scaleAtPoint(pL(t),.5))),ge(this.s("graphing-calculator-narration-viewport-zoom-out"));else if("square"===e){var n=this.getSquareViewport();this.getProjection().settings.setProperty("squareAxes",!0),this.animateToViewport(n),ge(this.s("graphing-calculator-narration-viewport-zoom-square"))}}zoomCustom(e){this.animateToViewport(e),ge(this.s("graphing-calculator-narration-viewport-updated"))}setDefaultViewport(){let e=this.controller.getDefaultAxisScaleSettings();this.controller.getGraphSettings().setProperty("xAxisScale",e.xAxisScale),this.controller.getGraphSettings().setProperty("yAxisScale",e.yAxisScale),this.grapher.getProjection().updateScalePairs();let t=this.getDefaultViewport();this.animateToViewport(t),ge(this.s("graphing-calculator-narration-viewport-default"))}isDefaultViewportRestored(){let e=this.getProjection(),{xAxisScale:t,yAxisScale:n}=e.settings,r="linear"===t,i="linear"===n;if(!(this.controller.hasDefaultState()||r&&i&&e.settings.squareAxes))return!1;let o=e.viewport,a=this.getDefaultViewport(),s=r?o.xmax-o.xmin:Math.log(o.xmax/o.xmin),l=i?o.ymax-o.ymin:Math.log(o.ymax/o.ymin),c=r?o.xmin-a.xmin:Math.log(o.xmin/a.xmin),d=r?o.xmax-a.xmax:Math.log(o.xmax/a.xmax),p=i?o.ymin-a.ymin:Math.log(o.ymin/a.ymin),u=i?o.ymax-a.ymax:Math.log(o.ymax/a.ymax),h=.025;return Math.abs(c/s)<h&&Math.abs(d/s)<h&&Math.abs(p/l)<h&&Math.abs(u/l)<h}getSquareViewport(){let e=this.getProjection();return"y"===e.settings.lastChangedAxis?e.viewport.squareXAxis(e.screen,e.settings):e.viewport.squareYAxis(e.screen,e.settings)}},_c=__dcg_shared_module_exports__.i(ne());at();var Gc=class{constructor(e,t){this.width=e,this.height=t}},A3=1,Kl=class{constructor(e,t,n,r,i,o,a){this.x=e,this.y=t,this.type=n,this.sketch=r,this.branch=i,this.pointIdxOnBranch=o,this.bareLabel=void 0!==a&&a,this.id=A3++}getLabel(){let e=this.sketch&&this.sketch.branches[this.branch];return e&&"labels"in e&&e.labels&&e.labels[this.pointIdxOnBranch]||""}getGraphMode(){return this.sketch.branches[this.branch].graphMode}getCompiledFunction(){let e=this.sketch.branches[this.branch];if("compiled"in e&&e.compiled)return e.compiled.fn}isAttachedToPlottedPoint(){return 1006===this.type||1008===this.type}isMovable(){return 4===this.getGraphMode()}isPersistent(){return 1008===this.type}getLabelSize(){let e=this.sketch&&this.sketch.branches[this.branch];return 1008===this.type&&e&&"labelSize"in e?void 0===e.labelSize?1:e.labelSize:1}getLabelRotation(){let e=this.sketch&&this.sketch.branches[this.branch];return 1008===this.type&&e&&"labelAngle"in e?void 0===e.labelAngle?0:e.labelAngle:0}getPointOpacity(){let e=this.sketch&&this.sketch.branches[this.branch];if(e&&"pointOpacity"in e){let t=e.pointOpacity;if(void 0!==t){let e;return e=Array.isArray(t)?t[this.pointIdxOnBranch]:t,isFinite(e)?Math.max(0,Math.min(1,e)):.9}}return this.isMovable()?1:.9}getPointSize(){let e=this.sketch&&this.sketch.branches[this.branch];if(this.isMovable())return 22;if(e&&"pointSize"in e){let t=e.pointSize;if(void 0!==t){let e;return e=Array.isArray(t)?t[this.pointIdxOnBranch]:t,isFinite(e)?Math.max(0,e):9}}return 9}getTextOutline(){if(this.hasEditableLabel())return!1;let e=this.sketch&&this.sketch.branches[this.branch];return 1008!==this.type||!e||!("suppressTextOutline"in e)||!e.suppressTextOutline}hasInteractiveLabel(){let e=this.sketch&&this.sketch.branches[this.branch];return!(!e||!("interactiveLabel"in e))&&!!e.interactiveLabel}hasEditableLabel(){let e=this.sketch&&this.sketch.branches[this.branch];return!(!e||!("editableLabel"in e))&&!!e.editableLabel}isBareLabel(){return this.bareLabel}getMovablePoint(){return this.sketch.getMovablePointByIndex(this.pointIdxOnBranch)}isSelected(){return this.sketch.showHighlight}},uw=class{constructor(e,t){this.color="#000000",this.style="normal",this.showPOI=!1,this.showHighlight=!1,this.selected=!1,this.tokenHovered=!1,this.tokenSelected=!1,this.labels=[],this.id=e,this.branches=void 0!==t?t:[],this.getPOI().forEach((e=>{1008===e.type&&this.labels.push({type:"poi",poi:e})})),t.forEach(((t,n)=>{if(22===t.graphMode)if(17===t.objectType){let r=new Kl(0,0,1008,this,n,0,!1);this.labels.push({id:"label-"+e+"-"+(t.listIndex||0),type:"segment",poi:r,segments:t.segments[0],text:t.labels&&t.labels[0]||""})}else if(16===t.objectType){let r=new Kl(0,0,1008,this,n,0,!1);this.labels.push({id:"label-"+e+"-"+(t.listIndex||0),type:"polygon",poi:r,segments:t.segments[0],text:t.labels&&t.labels[0]||""})}else if(23===t.objectType){let r=new Kl(0,0,1008,this,n,0,!1);this.labels.push({id:"label-"+e+"-"+(t.listIndex||0),type:"angle",poi:r,segments:t.segments[0],text:t.labels&&t.labels[0]||""})}}))}getPOI(){if(this.__cachedPOI)return this.__cachedPOI;this.__cachedPOI=[],this.__cachedPOIIds={};for(let e=0;e<this.branches.length;e++){let t=this.branches[e];if(1===t.graphMode||2===t.graphMode){let n=t.poi;n.zeros&&this._pushPOI(n.zeros,e,1002),n.intercept&&this._pushPOI(n.intercept,e,1003),n.extrema&&this._pushPOI(n.extrema,e,1004),n.intersections&&this._pushPOI(n.intersections,e,1001)}else if(3===t.graphMode||4===t.graphMode){let n=t.poi,r=3===t.graphMode&&!0===t.interactiveLabel;if(!0===t.showLabel||r){let r=t.nakedLabel;n.defined&&this._pushPOI(n.defined,e,1008,r)}else n.defined&&this._pushPOI(n.defined,e,1006)}}return this.__cachedPOI}getBranchPOI(e){return this.getPOI().filter((t=>t.branch===e))}getMovablePoints(){if(this.__cachedMovablePoints)return this.__cachedMovablePoints;this.__cachedMovablePoints=[];let e=this.branches[0];if(e&&1===e.segments.length&&4===e.graphMode){let t=e.segments[0];for(let n=0;n<t.length;n++){let r;e.tableId&&(r={tableId:e.tableId,columnId:this.id,rowIndex:e.movablePointInfo[n].index,dragX:e.movablePointInfo[n].dragX,dragY:e.movablePointInfo[n].dragY});let i=e.scaleFactors?e.scaleFactors[0][n]:void 0,o=r?r.rowIndex:n,a=1===e.segments.length&&e.labels&&e.labels[n]?e.labels[n]:void 0,s=e.hasOwnProperty("pointOpacity")?e.pointOpacity:1;this.__cachedMovablePoints.push({type:"movable-point",id:"movable:["+this.id+","+o+"]",sketch:this,color:this.color,pointOpacity:s,tableInfo:r,scaleFactor:i,x:t[n][0],y:t[n][1],label:a,ariaLabel:a&&uo(a)})}}return this.__cachedMovablePoints}getMovablePointByIndex(e){return this.getMovablePoints()[e]}getStaticLabeledPoints(){if(this.__cachedStaticLabeledPoints)return this.__cachedStaticLabeledPoints;let e=this.branches[0];return this.__cachedStaticLabeledPoints=[],this.getPOI().forEach((t=>{if(1006!==t.type&&1008!==t.type||3!==e.graphMode)return;var n=e.showLabel;let r=t.getLabel();!n&&""===r||this.__cachedStaticLabeledPoints.push({type:"static-labeled-point",id:"static["+this.id+","+t.id+"]",x:t.x,y:t.y,sketch:t.sketch,label:r,ariaLabel:""!==r?uo(r):void 0})})),this.__cachedStaticLabeledPoints}_pushPOI(e,t,n,r=!1){for(let i=0,o=e.x.length;i<o;i++){let o=new Kl(e.x[i],e.y[i],n,this,t,i,r);e.intersects&&(o.intersects=e.intersects[i]),this.__cachedPOI.push(o),this.__cachedPOIIds[o.id]=o}}updateIntersections(e){for(let t=0,n=this.branches.length;t<n;t++){let n=this.branches[t];15!==n.graphMode&&22!==n.graphMode&&(n.poi.intersections=e[t])}let t=this.__cachedPOI;this.__cachedPOI=[],t.forEach((e=>{1001!==e.type?this.__cachedPOI.push(e):delete this.__cachedPOIIds[e.id]}));for(let e=0;e<this.branches.length;e++){let t=this.branches[e];if(1===t.graphMode||2===t.graphMode){let n=t.poi;n.intersections&&this._pushPOI(n.intersections,e,1001)}}}getPOIById(e){return this.__cachedPOIIds[e]}updateFrom(e){if(!e)return;this.showPOI=e.showPOI,this.showHighlight=e.showHighlight,this.selected=e.selected,this.tokenSelected=e.tokenSelected,this.tokenHovered=e.tokenHovered;let t=this.branches[0].graphMode;if(3===t||4===t){let t=!0;for(let n=0;n<this.__cachedPOI.length;n++){let r=e.__cachedPOI[n],i=this.__cachedPOI[n];if(!r||r.type!==i.type){t=!1;break}}if(t)for(let t=0;t<this.__cachedPOI.length;t++){let n=e.__cachedPOI[t],r=this.__cachedPOI[t];delete this.__cachedPOIIds[r.id],this.__cachedPOIIds[n.id]=r,r.id=n.id}}}},L3={};__dcg_shared_module_exports__.h(L3,{default:()=>hD});var hD=__dcg_shared_module_exports__.j("//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAIAAAHVwAgICAgICAgICAgICBAQEBAQEBAQEBAQEBgYGBgYGBgYGBgYGBggICAgICAgICAgICAoKCgoKCgoKCgoKCgoMDAwMDAwMDAwMDAwODg4ODg4ODg4ODg4OD///////////////8AAAA5TEFNRTMuOThyAaUAAAAALmcAABRAJAiwQgAAQAAAB1cctrbdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAjsKyK0YYABp52xtx8wAgAgBd34IAhAgnsECEe7QIAAgsPxACDgcBAEHQfD/g+D4PggCAIf///ghLny4Pg+D5+sHz/wf+XPwfB8H3iMHwfwffUCYPvz/Y7Hg/H4/H4/H4HAwADcoDwAP7XfuAFtXrhzjsjOXP8iCYM4IBVoH2DGAhQR2hm5vikA2IVEPX9nQaITi6IiLCKX/fxcg/DdGmS5BP7fIGQ0hw7DQi5Q//8midImXygdJ0tlz/1NAgXIANV6MA2Vy2y27jv/+1LEBIALOHOTvGGAMXWhbnTxGZ+LOa2FNMsDtj9/jUmPqqqARrNvlVjDDoGZqq0T11A0DVqeEnlQk8q4sVEp0FcqdxLoEJ0RPYWvIlQkbGA0Anw6VJJgqRKw1NJaAXkR4ag0/FwCCABbbdbJA0fzVgdvgvu5Px6Rwiv3VllZVDREqmWntLyBDka3sz951iTve+ddHP0/M3P/+ydU4zbqOZOeop5jfu1kwk8VezPeGc1hRMbWrJNv6SO/fH0Mc15KYvKqAAAAdrdsrbBDuBpp4v/7UsQGgguVE2ekjNP5aSBo6YSNgKAQUoCZEBJK8q73G/nhJFFmLY5dNc4b7gjBRyEs5yjJokY9TBoU/pXQBglyNjeiA87V8vkzaw019YTu2fxY0t6gteLMI37f9fYw7UVnWoE4NJOSpQBu3GfVAIVACgw+IikZZAnB7UKlLGnha4PDbIhsBhk4RYmlE2hYZ8NrQ5HnyEUvZxDyVG1hM33ZZH0OlrJV5///3/51qTGtJgxhREVLEfoO1w6686eRAAAAUicksbA1qegZCe2AuEgJ//tSxAkCDF0XSaw8ailyn+l1h4w1BvVY04S56fYY5nGkBZHMGLBjHDUMlORG4wcCT9R6RB+3vM8jVMU1hmlOoXIOMKqotE2HxWYNJq/7EZ2l63NJ+Z2aTA4Yq+7t0PhOxCz9WP1mA3DJZZGDkRfq+qFAGwhwHUAVqBfDiMUlypaMWApR1VoWLChfUpJzkBDMCTf85UZr6jyHa1psZnTS5iKatTVKcX/Ker9zMvM1T0okGyiQcreJbU1tc+Yj/ms3395FBIADkjlkjbAZNdiwgRD/+1LEBwAL8Tdbp6Rh+XmT6XWHjCx5U4sTCtlUidNtS9I7oUx7oxdIZlOghkIQYzB0vxtMs6QgCg4WMVakQMM5HRfrsdIEftM0yfOHnNGkiPRMoWCKSsxsChat8/vYw4c4t+CMMB5AAAAXZrftWiEVdbSgnURZoWvK2KhK9GfCkIGnQKxIqbYJ0JCNFJ3St1wuUNRLW4Kw5VhLVGrmgYKhhRe1qzzC7SqFFyjJlIqXcPD6gw//epZ9bwQFw+s+rdVAFtzl0AAAA3I3JK0QJxtCHv/7UsQGAApAM0WssGFpSCKqNYMMvgZph6CwIhKEt0yEiMwFKpnDBBajVc5jbTM7KayRt3I43h8Ag05kd9AtqO0bItmf/+Aevzf7dx28sK0hvP//3/izNwf1pfEAgANutuOJACSqWvuW+SKNLQSpOQKsrX3XxnZxy2Rus0Q1irPy9Mkg4kZGJFRQUax4R+jsACwavqYd2bmRX/6VnKrLk2Z2VGYwQNCIEasJh7/oBScAAMtBNgBWssKw0uCAgKkVpJirpZyBklUCwqaSIkW6BgIY//tSxBIDSYw3Km0kSoEzi9KAliSw9QNAydBqoFQVEQNBwiJYiBWdDqxiwVBUGqg6JgaBoGj3//////huVcFQsIRoPjBXLBGA8AkCwOhcD4KAmFAtEYcR6E8gD2OAXJ2N//uSJVZVJNRdh0gkLCwuKioqz4sLC3//////4sLC31ioqKpAoqKirOgFqkxBTUUzLjk4LjKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEIwPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==");fc();var hL=.075,gD=.0015,O3=125,_3=330,F3=2e3,mD=class{suspend(){return new Promise(((e,t)=>{this.audioContext?this.audioContext.suspend().then((()=>{e()})).catch((e=>{oo(e),t(e)})):e()}))}getResumedAudioContext(){return new Promise(((e,t)=>{if(!this.audioContext){let e=window.AudioContext||window.webkitAudioContext;if(!e)return void t();try{this.audioContext=new e({latencyHint:"interactive",sampleRate:44100})}catch(e){oo(e),t(e)}}this.audioContext&&("running"===this.audioContext.state?this.loadPOI().then((()=>{e({audioContext:this.audioContext,poiBuffer:this.poiBuffer})})):this.audioContext.resume().then((()=>this.loadPOI())).then((()=>{e({audioContext:this.audioContext,poiBuffer:this.poiBuffer})})).catch((e=>{oo(e),t(e)})))}))}loadPOI(){return new Promise(((e,t)=>{this.audioContext?this.poiBuffer?e():this.audioContext.decodeAudioData(hD.buffer.slice(0)).then((t=>{this.poiBuffer=t,e()})).catch((e=>{oo(e),t()})):t()}))}},of=class{constructor({controller:e,audioPointMove:t,animationFinished:n,audioEnabled:r}){this.controller=e,this.audioSpeed=50,this.audioVolume=.5,this.audioPointMove=t,this.animationFinished=n,this.audioEnabled=r,this.audioContextManager=new mD}releaseAudio(){this.playbackSupported&&(this.stop(),this.audioContextManager.suspend())}prepareAudio(){this.audioContextManager.getResumedAudioContext().then((()=>{this.playbackSupported=!0})).catch((()=>{this.playbackSupported=!1}))}stop(){this.playTimeout&&(cancelAnimationFrame(this.playTimeout),this.playTimeout=void 0),this.bufferSource&&(this.bufferSource.stop(),this.bufferSource.disconnect(),this.bufferSource=void 0),this.animationFinished()}isAnimating(){return void 0!==this.playTimeout}getAudioSpeed(){return this.audioSpeed}setAudioSpeed(e){this.audioSpeed=e}getAudioVolume(){return this.audioVolume}setAudioVolume(e){this.audioVolume=e,void 0!==this.gainMaster&&(this.gainMaster.gain.value=this.audioVolume)}getPlaybackSupported(){return this.playbackSupported}playBranchByIndex(e,t,n){!this.audioEnabled()||t<0||t>=e.branches.length||this.isAnimating()||hs(e.branches[t])&&this.playBranch(e.branches[t],t,n).then((()=>{this.stop()}))}playSketch(e,t){if(!this.audioEnabled())return;let n=e.branches;if(0===n.length)return;let r=-1,i=()=>{for(r+=1;r<n.length&&!hs(n[r]);)r+=1;r<n.length?this.playBranch(n[r],r,t).then((()=>{i()})):this.stop()};i()}playPoint(e,t){!this.audioEnabled()||!N3(e)||this.audioContextManager.getResumedAudioContext().then((n=>{let{audioContext:r,poiBuffer:i}=n,o=r.sampleRate,a=o*hL,s=r.createBuffer(2,a,o);q3(s,e,t,i),this.connectBuffer(s,r)}))}connectBuffer(e,t){if(!this.audioEnabled()||!t)return;this.gainMaster=t.createGain(),this.gainMaster.connect(t.destination),this.gainMaster.gain.value=this.audioVolume;let n=t.createBufferSource();this.bufferSource=n,n.buffer=e,n.connect(this.gainMaster),n.start()}playBranch(e,t,n){return new Promise(((r,i)=>{this.audioEnabled()?this.audioContextManager.getResumedAudioContext().then((o=>{let{audioContext:a,poiBuffer:s}=o,l=this.audioSpeed/10,c=(n.xmax-n.xmin)*(hL/l),d=$3(e,n,c);if(!d.segments.length)return void i();let p=bD(n,d.graphMode),{independentMin:u,independentMax:h}=wL(d),g=a.sampleRate,m=l*(h-u)/(p.independentMax-p.independentMin),f=Math.floor(g*m),y=a.createBuffer(2,f,g);U3(y,d,n,s),this.connectBuffer(y,a);let b=a.currentTime,x=()=>{if(void 0!==this.playTimeout&&cancelAnimationFrame(this.playTimeout),"running"!==a.state)return void i();let e=a.currentTime-b,n=(m-e)/m*u+e/m*h;this.audioPointMove(t,n),e<m?this.playTimeout=requestAnimationFrame(x):r()};x(),this.controller.dispatch({type:"render"})})).catch((()=>{i()})):i()}))}};function mL(){return{amplitude:0,phase:0,noiseVal:0,lowerOctaveGain:0,upperOctaveGain:0}}function yD(e,t,n){if(1===e)return{left:1,right:1};let{independentMin:r,independentMax:i}=n,o=Math.abs((t-r)/(i-r));return isFinite(o)||(o=.5),o=Math.max(Math.min(o,1),0),{left:Math.cos(Math.PI/2*o),right:Math.sin(Math.PI/2*o)}}function yL(e,{independent:t,dependent:n},r,i,o){let{phase:a,noiseVal:s,lowerOctaveGain:l,upperOctaveGain:c}=e,{dependentMin:d,dependentMax:p}=r,u=0,h=0,g=0;if(!isNaN(n)&&d<=n&&n<=p){a+=R3((n-d)/(p-d))/i,o<4*gD?(h=0,g=0):(h=.5,g=t>=0?.15:0),n<0&&(s=fL(s),u+=.1*s)}else s=fL(s),u+=.04*s;return l+=(h-l)/(i*gD),c+=(g-c)/(i*gD),u+=l*gL(a)+c*gL(2*a),{amplitude:u,phase:a,noiseVal:s,lowerOctaveGain:l,upperOctaveGain:c}}function R3(e){return Math.min(Math.max(_3*Math.pow(2,e),O3),F3)}function gL(e){return.8782*(fD(e)+.25*fD(2*e)+.25*fD(3*e))}function fD(e){return Math.sin(2*Math.PI*e)}function fL(e){return(e+.2*(2*Math.random()-1))/1.02}function bL(e,t,n,r){let i=e.getChannelData(0),o=t.getChannelData(0),a=t.getChannelData(1);for(let e=0;e<i.length&&e+n<o.length;e++)o[e+n]+=i[e]*r.left,a[e+n]+=i[e]*r.right}function Va(e,t){if(e.isGeoUIActive()&&e.getAllToolPreviewItems().filter((e=>e.id===t.id)).length>0)return!1;for(let e of t.branches)if(hs(e))return!0;return!1}function hs(e){switch(e.graphMode){case 1:case 2:case 3:case 4:return e.segments.length>0;default:return!1}}function xL(e){for(let t=0;t<e.branches.length;t++)if(hs(e.branches[t]))return t;return 0}function af(e,t){let n=0;for(let r=0;r<=t;r++)hs(e.branches[r])&&(n+=1);return n}function N3(e){switch(e.graphMode){case 1:case 2:case 3:case 4:return!0;default:return!1}}function bD(e,t){switch(t){case 2:case 3:case 4:return{independentMin:e.xmin,independentMax:e.xmax,dependentMin:e.ymin,dependentMax:e.ymax};case 1:return{independentMin:e.ymin,independentMax:e.ymax,dependentMin:e.xmin,dependentMax:e.xmax};default:throw xD(t)}}function wL(e){let t=e.segments[0],n=e.segments[e.segments.length-1];return{independentMin:t[0],independentMax:n[n.length-2]}}function B3(e){switch(e.graphMode){case 2:case 3:case 4:return{independent:e.x,dependent:e.y};case 1:return{independent:e.y,dependent:e.x};default:throw xD(e.graphMode)}}function K3(e,t){if(1===e)return t.y;if(2===e)return t.x;throw xD(e)}function xD(e){return`Unexpected graph mode. Received ${e}`}function U3(e,t,n,r){let i=e.sampleRate,o=e.getChannelData(0),a=e.getChannelData(1),s=t.graphMode,l=bD(n,s),{independentMin:c,independentMax:d}=wL(t),p=d-c,u=0,h=0,g=o.length-1,m=g/i,f=mL();for(let e=0;e<o.length;e++){let n=(g-e)/g*c+e/g*d,r=yD(s,n,l);for(;u<t.segments.length&&t.segments[u][h]<n;)h+=2,h>=t.segments[u].length&&(u+=1,h=0);let y=t.segments[u],b=NaN,x=NaN;if(y&&y.length>2&&h-2>=0&&h+1<y.length){x=(y[y.length-2]-n)*(m/p);let e=y[h-2],t=y[h-1],r=y[h],i=r-e;b=(r-n)/i*t+(n-e)/i*y[h+1]}f=yL(f,{independent:n,dependent:b},l,i,x),o[e]+=f.amplitude*r.left,a[e]+=f.amplitude*r.right}if(r&&t.poi&&t.poi.intersections){let n=K3(s,t.poi.intersections);for(let t of n){bL(r,e,Math.round((t-c)/(d-c)*g),yD(s,t,l))}}}function q3(e,t,n,r){let i=e.sampleRate,o=e.getChannelData(0),a=e.getChannelData(1),s=t.graphMode,l=bD(n,s),c=o.length-1,d=mL(),{independent:p,dependent:u}=B3(t),h=yD(s,p,l);for(let e=0;e<o.length;e++){d=yL(d,{independent:p,dependent:u},l,i,(c-e)/i),o[e]+=d.amplitude*h.left,a[e]+=d.amplitude*h.right}r&&void 0!==t.intersects&&bL(r,e,0,h)}function H3(e,t){return e[0]-t[0]}function $3(e,t,n){switch(e.graphMode){case 2:{let n=[];for(let r of e.segments){let e=fd(r,t);e.length>2&&n.push(e)}return{graphMode:e.graphMode,segments:n,poi:e.poi}}case 1:{let n=[],r={xmin:t.ymin,xmax:t.ymax,ymin:t.xmin,ymax:t.ymax};for(let t of e.segments){let e=fd(t,r);e.length>2&&n.push(e)}return{graphMode:e.graphMode,segments:n,poi:e.poi}}case 3:case 4:{let r=e.segments[0].slice();r.sort(H3);let i=[];for(let e=0;e<r.length;e++){let o=r[e],a=e>0?r[e-1][0]:-1/0,s=e<r.length-1?r[r.length-1][0]:1/0,l=Math.max(o[0]-.5*n,.5*(o[0]+a)),c=Math.min(o[0]+.5*n,.5*(o[0]+s)),d=fd([l,o[1],c,o[1]],t);d.length>2&&i.push(d)}return{graphMode:2,segments:i}}default:throw new Error(`Unimplemented graph mode: ${e.graphMode}`)}}function z3(e,t,n){return{x:e.x,y:e.y,branch:e.branch,reportedBranch:n,type:e.type,graphMode:t,intersects:e.intersects}}var sf=class{constructor(e,t,n){this.grapher=n,this.controller=e,this.audiograph=t,this.reset()}reset(){this.currentPoint=void 0,this.resetToFirstBranch(),this.sampledPoints=[],this.pois=[],this.independent=0,this.xstep=0,this.ystep=0}resetToFirstBranch(){let e=this.getCurrentSketch();this.branch=e?xL(e):0}getBranchPoints(e){let t=[];if(e>=0)for(let n of this.getSampledPoints())n.branch===e&&t.push(n);return t}resetTracePoint(){this.drawTrace(this.getCurrentPoint())}drawTrace(e){let t=this.getCurrentSketch();if(!e||!t)return;let n=t.branches[this.branch];if(!n||3===n.graphMode)return;let r={x:e.x,y:e.y},i={branchInfo:{branch:e.branch,id:t.id,sketch:t},pt:r};__dcg_shared_module_exports__.Ea(i,this.grapher.traceLayer.getTraceInfo())||(this.grapher.traceLayer.setTraceInfo(i),this.grapher.redrawAllLayers())}moveToOrigin(){let e=this.getCurrentSketch();if(!e||!Va(this.controller,e))return;let t=e.branches[this.branch];if(!hs(t))return;let n=t.graphMode;if(2===n)this.setIndependent("x",0);else if(1===n)this.setIndependent("y",0);else if(3===n){let e=this.getSortedPOI()[0];this.setIndependent("x",e?e.x:0)}}getCurrentSketch(){let e,t=this.getSelectedItem();if(t){let n=this.audiograph.getFocusedCell();if("table"===t.type){if(n&&(e=this.getGraphSketchForTableCell(t,n)),!e)for(let n of t.columnModels)if(e=this.grapher.getGraphSketch(n.id),void 0!==e)break}else e=this.grapher.getGraphSketch(t.id)}return e}getFirstTraceableSketch(e){let t,n=this.controller.getItemCount(),r=this.controller.shouldAudioTraceReverseExpressions();for(let i=0;i<n;i++){let o=r?n-1-i:i,a=this.controller.getItemModelByIndex(o);if(a&&this.canTrace(a)){let n=r?this.prevTableColumn(a):this.nextTableColumn(a);if(n?(this.audiograph.setFocusedCell(n),t=this.getGraphSketchForTableCell(a,n)):t=this.grapher.getGraphSketch(a.id),t){e&&e.selectAssociatedExpression&&this.controller.dispatch({type:"set-selected-index",index:o});break}}}return t}canTrace(e){if("image"===e.type)return!1;if("shouldGraph"in e){let t=this.grapher.getGraphSketch(e.id);return!!t&&Va(this.controller,t)}return!1}getTraceableExpressionCount(){let e=0,t=this.controller.getItemCount();for(let n=0;n<t;n++){let t=this.controller.getItemModelByIndex(n);t&&this.canTrace(t)&&e++}return e}computeStepSizes(){let e=this.grapher.getProjection().viewport;if(!e)return;this.viewport=e;let t=e.xmin,n=e.xmax;this.xstep=Math.abs(n-t)/100,this.xscale=n-t;let r=e.ymin,i=e.ymax;this.ystep=Math.abs(i-r)/100,this.yscale=i-r;let o=this.getCurrentSketch();if(!o||!Va(this.controller,o))return;let a=o.branches[this.branch];if(!hs(a))return;let s=a.graphMode;if(2===s)this.independent<t?this.independent=t:this.independent>n&&(this.independent=n);else if(1===s)this.independent<r?this.independent=r:this.independent>i&&(this.independent=i);else if(3===s){let e,r;this.independent<t?(r=this.getSortedPOI()[0],this.independent=r&&void 0!==r.x?r.x:0):this.independent>n&&(e=this.getSortedPOI(),r=e[e.length-1],this.independent=r&&void 0!==r.x?r.x:0)}}getPoint(e,t){let n,r=this.getCurrentSketch();if(!r||!Va(this.controller,r))return n;let i,o,a,s=0,l=r.branches[e];if(!l)return;let c=af(r,e);return"compiled"in l&&l.compiled&&(a=l.compiled.fn),o=l.graphMode,2===o?(i=this.getInterveningPOIs(t,t+this.xstep,e,o)[0],(!i||i.x!==t||i.branch!==e)&&(i=void 0,s=a?a(t):0),i?n={x:i.x,y:i.y,type:i.type,typeChain:i.typeChain,branch:i.branch,reportedBranch:c,graphMode:o,intersects:i.intersects}:a&&(n={x:t,y:s,branch:e,reportedBranch:c,graphMode:o})):1===o?(i=this.getInterveningPOIs(t,t+this.ystep,e,o)[0],(!i||i.y!==t||i.branch!==e)&&(i=void 0,s=a?a(t):0),i?n={x:i.x,y:i.y,type:i.type,typeChain:i.typeChain,branch:i.branch,reportedBranch:c,graphMode:o,intersects:i.intersects}:a&&(n={y:t,x:s,branch:e,reportedBranch:c,graphMode:o})):3===o&&(i=this.getInterveningPOIs(t,t+this.xstep,e,o)[0],n=i&&i.x===t&&i.branch===e?{x:i.x,y:i.y,type:i.type,typeChain:i.typeChain,branch:i.branch,reportedBranch:c,graphMode:o,intersects:i.intersects}:{x:t,y:NaN,branch:e,reportedBranch:c,graphMode:o}),n}getSampledPoints(){return 0===this.sampledPoints.length&&this.updateSampledPoints(),this.sampledPoints}updateSampledPoints(){let e=this.getCurrentSketch();if(!e||!Va(this.controller,e))return;let t=[];for(let n=0;n<e.branches.length;n++){let r=e.branches[n];if(!hs(r))continue;let i=r.graphMode,o=0,a=0,s=0,l=[];if(2===i||3===i?(o=this.viewport.xmin,a=this.viewport.xmax,s=this.xstep):1===i&&(o=this.viewport.ymin,a=this.viewport.ymax,s=this.ystep),0!==o||0!==a||0!==s){for(let e=0;__dcg_shared_module_exports__.Na(o+e*s).value<=a;e++){let t=__dcg_shared_module_exports__.Na(o+e*s).value,r=this.getInterveningPOIs(t,t+s,n,i);if(r.length>0)l.push.apply(l,r);else{let e=this.getPoint(n,t);e&&l.push(e)}}t.push.apply(t,this.removeDuplicates(l,i))}}this.sampledPoints=t}getCurrentPoint(){return this.currentPoint||this.updateCurrentPoint(),this.currentPoint}updateCurrentPoint(e){if(e){this.currentPoint=e;let t=e.graphMode;2===t||3===t?this.independent=void 0!==e.x?e.x:0:1===t&&(this.independent=void 0!==e.y?e.y:0),this.branch=e.branch}else this.currentPoint=this.getPoint(this.branch,this.independent)}prevPoint(){this.moveToPoint(-1)}nextPoint(){this.moveToPoint(1)}firstPoint(){let e=this.getSampledPoints();e.length>0&&this.updateCurrentPoint(e[0])}lastPoint(){let e=this.getSampledPoints();e.length>0&&this.updateCurrentPoint(e[e.length-1])}moveToPoint(e){let t=this.getCurrentPoint();if(!t)return;if(3===t.graphMode)return void this.moveToPOI(e);let n=this.getSampledPoints(),r=this.getPointIndex(n,t);if(-1!==r){let t=r+e;t<=0?(t=0,Ct(this.controller.s("graphing-calculator-narration-audio-trace-first-point"))):t>=n.length-1&&(t=n.length-1,Ct(this.controller.s("graphing-calculator-narration-audio-trace-last-point")));let i=n[t];this.updateCurrentPoint(i)}}canMoveToPrevPoint(){let e=this.getCurrentPoint();if(!e)return!1;if(3===e.graphMode)return this.canMoveToPrevPOI();let t=this.getSampledPoints();return this.getPointIndex(t,e)>0}canMoveToNextPoint(){let e=this.getCurrentPoint();if(!e)return!1;if(3===e.graphMode)return this.canMoveToNextPOI();let t=this.getSampledPoints();return this.getPointIndex(t,e)<t.length-1}prevPOI(){this.moveToPOI(-1)}nextPOI(){this.moveToPOI(1)}getSortedPOI(){return(!this.pois||0===this.pois.length)&&this.updatePOI(),this.pois}updatePOI(){let e,t=[],n=[],r=this.getCurrentSketch();if(r&&Va(this.controller,r)){for(let i=0;i<r.branches.length;i++){let o=r.branches[i];if(!o)continue;let a=af(r,i),s=o.graphMode;if(n=[],e=r.getBranchPOI(i),e.length>0){2===s||3===s?n=__dcg_shared_module_exports__.ua(e,"x"):1===s&&(n=__dcg_shared_module_exports__.ua(e,"y"));let r=[];for(let e of n)r.push(z3(e,s,a));t.push.apply(t,this.removeDuplicates(r,s))}}this.pois=t}}removeDuplicates(e,t){let n=[];for(let r of e){if(r=__dcg_shared_module_exports__.b({},r),r.graphMode=t,0===n.length){n.push(r);continue}let e=n[n.length-1];__dcg_shared_module_exports__.Na(e.x).value===__dcg_shared_module_exports__.Na(r.x).value&&__dcg_shared_module_exports__.Na(e.y).value===__dcg_shared_module_exports__.Na(r.y).value&&e.branch===r.branch?(e.typeChain||(e.typeChain=void 0!==e.type?[e.type]:[]),void 0!==r.type&&-1===e.typeChain.indexOf(r.type)&&e.typeChain.push(r.type),1001===r.type&&r.intersects&&void 0===e.intersects&&(e.intersects=r.intersects)):n.push(r)}return n}getInterveningPOIs(e,t,n,r){let i=[],o=this.getSortedPOI(),a=NaN;for(let s of o)s&&(2!==r&&3!==r||isNaN(s.x)?1===r&&!isNaN(s.y)&&(a=s.y):a=s.x,s.branch===n&&!isNaN(a)&&(e<=a&&a<t||t<=a&&a<e)&&i.push(s));return e>t?i.reverse():i}setIndependent(e,t){let n=this.getSampledPoints();for(let r of n)if(r&&r.hasOwnProperty(e)&&r[e]===t){if("x"===e)return this.independent=void 0!==r.x?r.x:0,void this.updateCurrentPoint();if("y"===e)return this.independent=void 0!==r.y?r.y:0,void this.updateCurrentPoint()}let r=!0;if(n.length>0){let t=n[Math.floor((n.length-1)/2)];t&&("x"===e?(this.independent=void 0!==t.x?t.x:0,r=!1):"y"===e&&(this.independent=void 0!==t.y?t.y:0,r=!1))}r&&(this.independent=0),this.resetToFirstBranch(),this.updateCurrentPoint()}moveToPOI(e){if(!this.getCurrentPoint())return;let t=this.getSampledPoints(),n=this.getPOIIndexByDirection(e);-1===n?Ct(this.controller.s("graphing-calculator-narration-audio-trace-no-more-pois")):this.updateCurrentPoint(t[n])}getPOIIndexByDirection(e){let t=this.getCurrentPoint();if(!t)return-1;let n=this.getSampledPoints(),r=this.getPointIndex(n,t),i=-1;if(-1!==r){let o=t.graphMode,a=1===e?n.length-1:0;for(let s=r;s!==a+e;s+=e){let e=n[s];if(((2===o||3===o)&&t.x!==e.x||1===o&&t.y!==e.y)&&void 0!==e.type){i=s;break}}}return i}canMoveToPrevPOI(){return-1!==this.getPOIIndexByDirection(-1)}canMoveToNextPOI(){return-1!==this.getPOIIndexByDirection(1)}getPointIndex(e,t){let n=-1;if(e.length>0&&t){let r=t.graphMode;for(let i=0;i<e.length;i++){let o=e[i];if(((2===r||3===r)&&o.x===t.x||1===r&&o.y===t.y)&&o.branch===t.branch){n=i;break}}}return n}prevCurve(){this.controller.shouldAudioTraceReverseExpressions()?this.curveDown():this.curveUp()}nextCurve(){this.controller.shouldAudioTraceReverseExpressions()?this.curveUp():this.curveDown()}curveUp(){let e=this.getSelectedItem();if(!e)return;let t=this.prevTableColumn(e);if(t)this.audiograph.setFocusedCell(t);else{let t=e.index,n=this.findPrevTraceableIndex({index:t,focusTableCell:!0});if(-1!==n){let e=this.controller.getItemModelByIndex(n);e&&this.controller.dispatch({type:"set-selected-id",id:e.id})}}(t||this.getSelectedItem()!==e)&&this.audiograph.enterAudioTrace()}curveDown(){let e=this.getSelectedItem();if(!e)return;let t=this.nextTableColumn(e);if(t)this.audiograph.setFocusedCell(t);else{let t=e.index,n=this.findNextTraceableIndex({index:t,focusTableCell:!0});if(-1!==n){let e=this.controller.getItemModelByIndex(n);e&&this.controller.dispatch({type:"set-selected-id",id:e.id})}}(t||this.getSelectedItem()!==e)&&this.audiograph.enterAudioTrace()}canMoveToPrevCurve(){let e=this.getSelectedItem();return!!e&&(this.controller.shouldAudioTraceReverseExpressions()?-1!==this.findNextTraceableIndex({index:e.index,focusTableCell:!1}):-1!==this.findPrevTraceableIndex({index:e.index,focusTableCell:!1}))}canMoveToNextCurve(){let e=this.getSelectedItem();return!!e&&(this.controller.shouldAudioTraceReverseExpressions()?-1!==this.findPrevTraceableIndex({index:e.index,focusTableCell:!1}):-1!==this.findNextTraceableIndex({index:e.index,focusTableCell:!1}))}findPrevTraceableIndex(e){let t,n=e.index;do{n--,t=this.controller.getItemModelByIndex(n);let r=t&&this.prevTableColumn(t);if(r)return e.focusTableCell&&this.audiograph.setFocusedCell(r),n}while(t&&!this.canTrace(t));return t?n:-1}findNextTraceableIndex(e){let t,n=e.index;do{n++,t=this.controller.getItemModelByIndex(n);let r=t&&this.nextTableColumn(t);if(r)return e.focusTableCell&&this.audiograph.setFocusedCell(r),n}while(t&&!this.canTrace(t));return t?n:-1}prevTableColumn(e){return this.tableColumn(e,-1)}nextTableColumn(e){return this.tableColumn(e,1)}tableColumn(e,t){let n;if(e&&"table"===e.type){let r,i,o,a=this.audiograph.getFocusedCell();-1===t?(r=a?Math.max(a.location.column-1,0):NaN,i=a&&a.tableId===e.id&&!isNaN(r)?r:e.columnModels.length-1,o=0):(r=a?Math.min(a.location.column+1,e.columnModels.length-1):NaN,i=a&&a.tableId===e.id&&!isNaN(r)?r:0,o=e.columnModels.length-1);let s=(o-i)/t;if(isFinite(s)&&s>=0)for(let r=i;r!==o;r+=t){let t=e.columnModels[r];if(t&&this.grapher.getGraphSketch(t.id)){n={tableId:e.id,location:{column:r,row:0}};break}}}return n}getGraphSketchForTableCell(e,t){if(!e||"table"!==e.type||!t)return;let n=e.columnModels[t.location.column];return n?this.grapher.getGraphSketch(n.id):void 0}getXScale(){return this.xscale}getYScale(){return this.yscale}getSelectedItem(){let e=this.controller.getSelectedItem();if(e&&"folder"===e.type){var t=NE(e);return void 0===t?void 0:this.controller.getItemModel(t)}return e}},lf=[{speed:200,displayedSpeed:"1/4 x"},{speed:100,displayedSpeed:"1/2 x"},{speed:50,displayedSpeed:"1 x"},{speed:25,displayedSpeed:"2 x"},{speed:12.5,displayedSpeed:"4 x"}],cf=class{constructor(e,t){this.grapher=t,this.controller=e,this.audioTraceActive=!1,this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.sliderTraceActive=!1,this.sliderIndex=0,this.sliderArray=[],this.lastSpokenBranch=1,this.agNavigator=new sf(e,this,this.grapher),this.tonegen=new of({controller:e,audioPointMove:(e,t)=>{this.agNavigator.drawTrace(this.agNavigator.getPoint(e,t))},animationFinished:()=>{this.recomputePoints(),this.controller.runAfterDispatch((()=>{this.controller.dispatch({type:"render"})}))},audioEnabled:()=>this.controller.getAudio()}),this.audioSpeedIndex=2,this.tonegen.releaseAudio()}remove(){}handleKeydown(e){let t=e.altKey||e.metaKey,n=e.altKey&&!e.metaKey&&!e.ctrlKey&&!e.shiftKey,r=e.ctrlKey&&!e.metaKey&&!e.altKey,i=gi?r:t,o=i&&(61===e.which||187===e.which),a=i&&!e.shiftKey&&(173===e.which||189===e.which),s=i&&!e.shiftKey&&"0"===Ei(e);n&&"S"===Ei(e)?this.agNavigator.getSelectedItem()&&(this.audioTraceActive||this.isFocusInExpressionsView())&&(e.preventDefault(),e.stopPropagation(),this.describeCurve()):n&&"G"===Ei(e)?(this.audioTraceActive||this.isFocusInExpressionsView())&&(e.preventDefault(),e.stopPropagation(),this.describeAxes()):n&&"T"===Ei(e)?(e.preventDefault(),e.stopPropagation(),this.toggleAudioTrace()):o?(e.preventDefault(),e.stopPropagation(),this.zoom("in")):a?(e.preventDefault(),e.stopPropagation(),this.zoom("out")):s?(e.preventDefault(),e.stopPropagation(),this.setDefaultViewport()):this.audioTraceActive&&(this.sliderTraceActive?this.sliderTraceKeydown(e):this.audioTraceKeydown(e))}sliderTraceKeydown(e){let t=e.altKey||e.metaKey,n=!t&&!e.ctrlKey&&!e.shiftKey;n&&Le(e)===kc||"J"===Ei(e)?(e.preventDefault(),e.stopPropagation(),this.decrementSliderValue()):n&&Le(e)===Ic||"L"===Ei(e)?(e.preventDefault(),e.stopPropagation(),this.incrementSliderValue()):n&&Le(e)===pp?(e.preventDefault(),e.stopPropagation(),this.decrementBigSliderValue()):n&&Le(e)===up?(e.preventDefault(),e.stopPropagation(),this.incrementBigSliderValue()):t||Le(e)!==Yn&&(e.shiftKey||Le(e)!==rl)&&"K"!==Ei(e)?!t&&(Le(e)===Fn||e.shiftKey&&Le(e)===rl||"I"===Ei(e))?(e.preventDefault(),e.stopPropagation(),this.prevSlider()):n&&Le(e)===gp||"U"===Ei(e)?(e.preventDefault(),e.stopPropagation(),this.sliderMin()):n&&Le(e)===hp||"N"===Ei(e)?(e.preventDefault(),e.stopPropagation(),this.sliderMax()):(this.stopAnimations(),this.audioTraceKeydown(e)):(e.preventDefault(),e.stopPropagation(),this.nextSlider())}audioTraceKeydown(e){let t=e.altKey||e.metaKey,n=t&&!e.ctrlKey&&!e.shiftKey,r=!t&&!e.ctrlKey&&!e.shiftKey,i=Ei(e);if(Le(e)===Fn&&n)e.preventDefault(),e.stopPropagation(),Ui(),this.agNavigator.prevCurve();else if(Le(e)===Yn&&n)e.preventDefault(),e.stopPropagation(),Ui(),this.agNavigator.nextCurve();else if(r&&Le(e)===kc||Le(e)===Fn||"J"===i)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"keypad/audio-trace",command:"previous-point"});else if(r&&Le(e)===Ic||Le(e)===Yn||"L"===i)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"keypad/audio-trace",command:"next-point"});else if(t||Le(e)!==pp&&(e.shiftKey||Le(e)!==rl)&&"I"!==i)if(!t&&(Le(e)===up||e.shiftKey&&Le(e)===rl||"K"===i))e.preventDefault(),e.stopPropagation(),this.reportAndMoveToPrevPOI();else if(r&&Le(e)===gp||"U"===i)e.preventDefault(),e.stopPropagation(),this.reportAndMoveToFirstPoint();else if(r&&Le(e)===hp||"N"===i)e.preventDefault(),e.stopPropagation(),this.reportAndMoveToLastPoint();else if(r&&"X"===i)e.preventDefault(),e.stopPropagation(),this.reportX();else if(r&&"P"===i)e.preventDefault(),e.stopPropagation(),this.reportPOICount();else if(r&&"Y"===i)e.preventDefault(),e.stopPropagation(),this.reportY();else if(r&&"T"===i)e.preventDefault(),e.stopPropagation(),this.reportType();else if(r&&"B"===i)e.preventDefault(),e.stopPropagation(),this.reportBranch();else if(r&&"O"===i)e.preventDefault(),e.stopPropagation(),this.reportAndMoveToOrigin();else if(r&&"H"===i)e.preventDefault(),e.stopPropagation(),this.hearGraph();else if(r&&"string"==typeof i&&i>="0"&&i<="9"){if(e.preventDefault(),e.stopPropagation(),Ui(),!this.controller.getAudio())return void ge(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"));this.tonegen.stop();let t=this.agNavigator.getCurrentSketch();if(t){let n;n=48===e.which?9:e.which-49;let r=n,i=-1;for(let e=0;e<t.branches.length;e++)if(hs(t.branches[e])&&(r-=1),r<0){i=e;break}i>=0?this.tonegen.getPlaybackSupported()?this.tonegen.playBranchByIndex(t,i,this.grapher.getCurrentViewport()):ge(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-play")):ge(this.controller.s("graphing-calculator-narration-audio-trace-branch-not-found",{branch:n+1}))}else ge(this.controller.s("graphing-calculator-narration-audio-trace-description-no-curve-selected"))}else t&&"string"==typeof i&&i>="1"&&i<="5"?(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-audio-trace-speed",speed:parseInt(i,10)-1})):e.altKey||e.ctrlKey||e.metaKey||"V"!==i?r&&"A"===i?(e.preventDefault(),e.stopPropagation(),Ui(),this.queueAnimatingPoints(!0),ge()):r&&"S"===i&&this.controller.isListEnabled()?(e.preventDefault(),e.stopPropagation(),this.toggleSliderTrace()):r&&"C"===i?(e.preventDefault(),e.stopPropagation(),this.reportColor()):r&&this.exitAudioTrace():(e.preventDefault(),e.stopPropagation(),this.controller.getAudio()?e.shiftKey?this.controller.dispatch({type:"keypad/audio-trace",command:"volume-down"}):this.controller.dispatch({type:"keypad/audio-trace",command:"volume-up"}):ge(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-play")));else e.preventDefault(),e.stopPropagation(),this.reportAndMoveToNextPOI();this.controller.dispatch({type:"render"})}describeCurve(){Ui();let e=this.agNavigator.getCurrentSketch();if(!e)return void ge(this.controller.s("graphing-calculator-narration-audio-trace-description-no-curve-selected"));Ct(this.controller.s("graphing-calculator-narration-audio-trace-description-color",{color:bd(this.controller,e.color)}));let t=af(e,e.branches.length-1);t>1&&Ct(this.controller.s("graphing-calculator-narration-audio-trace-description-branch-count",{branches:t}));let n=!1,r=!1;for(let i of e.branches)if(1===t&&i.segments.length>0&&i.hasOwnProperty("operator")){if(2===i.graphMode){if(">"===i.operator||">="===i.operator){Ct(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-above"));break}if("<"===i.operator||"<="===i.operator){Ct(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-below"));break}}else if(1===i.graphMode){if(">"===i.operator||">="===i.operator){Ct(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-right"));break}if("<"===i.operator||"<="===i.operator){Ct(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-left"));break}}}else t>1&&(2===i.graphMode||1===i.graphMode?("<"===i.operator||"<="===i.operator||">"===i.operator||">="===i.operator)&&(n=!0):7===i.graphMode&&(r=!0));n&&r&&Ct(this.controller.s("graphing-calculator-narration-audio-trace-description-shading-in-regions"));let i=e.getPOI();if(i.length>0){let e=[];for(let t of i)void 0===e[t.type]?e[t.type]=1:e[t.type]+=1;e.forEach(((e,t)=>{1001===t?Ct(1===e?this.controller.s("graphing-calculator-narration-audio-trace-description-one-intersection"):this.controller.s("graphing-calculator-narration-audio-trace-description-multiple-intersections",{count:e})):1002===t?Ct(1===e?this.controller.s("graphing-calculator-narration-audio-trace-description-one-root"):this.controller.s("graphing-calculator-narration-audio-trace-description-multiple-roots",{count:e})):1003===t?Ct(1===e?this.controller.s("graphing-calculator-narration-audio-trace-description-one-intercept"):this.controller.s("graphing-calculator-narration-audio-trace-description-multiple-intercepts",{count:e})):1004===t?Ct(1===e?this.controller.s("graphing-calculator-narration-audio-trace-description-one-extremum"):this.controller.s("graphing-calculator-narration-audio-trace-description-multiple-extrema",{count:e})):1008===t&&Ct(1===e?this.controller.s("graphing-calculator-narration-audio-trace-description-one-label"):this.controller.s("graphing-calculator-narration-audio-trace-description-multiple-labels",{count:e}))}))}ge()}describeAxes(){Ui(),ge(this.getAxesDescription())}getAxesDescription(){let{showGrid:e,showXAxis:t,xAxisNumbers:n,showYAxis:r,yAxisNumbers:i,xAxisLabel:o,yAxisLabel:a}=this.grapher.settings,s=this.grapher.getCurrentViewport(),l=[];t&&(n&&""!==o?l.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-x-axis-range-and-label",{xmin:nn(__dcg_shared_module_exports__.Na(s.xmin,this.agNavigator.getXScale()).latex),xmax:nn(__dcg_shared_module_exports__.Na(s.xmax,this.agNavigator.getXScale()).latex),label:o})):n&&""===o?l.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-x-axis-range",{xmin:nn(__dcg_shared_module_exports__.Na(s.xmin,this.agNavigator.getXScale()).latex),xmax:nn(__dcg_shared_module_exports__.Na(s.xmax,this.agNavigator.getXScale()).latex)})):n||""===o?!n&&""===o&&l.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-x-axis")):l.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-x-axis-and-label",{label:o}))),r&&(i&&""!==a?l.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-y-axis-range-and-label",{ymin:nn(__dcg_shared_module_exports__.Na(s.ymin,this.agNavigator.getYScale()).latex),ymax:nn(__dcg_shared_module_exports__.Na(s.ymax,this.agNavigator.getYScale()).latex),label:a})):i&&""===a?l.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-y-axis-range",{ymin:nn(__dcg_shared_module_exports__.Na(s.ymin,this.agNavigator.getYScale()).latex),ymax:nn(__dcg_shared_module_exports__.Na(s.ymax,this.agNavigator.getYScale()).latex)})):i||""===a?!i&&""===a&&l.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-y-axis")):l.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-y-axis-and-label",{label:a}))),!t&&!r&&l.push(this.controller.s("graphing-calculator-narration-audio-trace-description-no-visible-axes")),e&&l.push(this.controller.s("graphing-calculator-narration-audio-trace-description-visible-grid"));let c=this.grapher.graphSketches,d=0;for(let e in c)Va(this.controller,c[e])&&(d+=1);return l.push(this.controller.s("graphing-calculator-narration-audio-trace-traceable-curves",{sketchCount:new zo(d)})),l.join(" ")}queueCoordinates(e,t,n=!1){let r=this.grapher.getProjection().viewport;if(!r||!e)return;let i=this.agNavigator.getCurrentSketch();(e.hasOwnProperty("branch")&&i&&i.branches.length>1&&this.lastSpokenBranch!==e.reportedBranch||"branch"===t)&&"number"==typeof e.reportedBranch&&Ct(this.controller.s("graphing-calculator-narration-audio-trace-property-branch-number",{branch:e.reportedBranch})),this.lastSpokenBranch=e.reportedBranch?e.reportedBranch:e.branch+1,e.hasOwnProperty("type")&&!t?Ct(this.controller.s("graphing-calculator-narration-audio-trace-property-type-before-coordinates",{type:this.describePOI(e)})):"type"===t&&Ct(this.describePOI(e)),(!t||"x"===t)&&Ct(on(this.controller,e.x,r)),(!t||"y"===t)&&Ct(an(this.controller,e.y,r)),n&&ge()}describePOI(e){if(e.typeChain){let t=[];for(let n=0;n<e.typeChain.length;n++)t.push(this.poiTypeToText(e,n));return t.join(", ")}return this.poiTypeToText(e)}poiTypeToText(e,t){switch(t&&e.typeChain?e.typeChain[t]:e.type){case 1001:let t=this.getIntersectingCurves(e);return""!==t?this.controller.s("graphing-calculator-narration-audio-trace-point-type-intersection-with-curves",{curves:t}):this.controller.s("graphing-calculator-narration-audio-trace-point-type-intersection");case 1002:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-root");case 1003:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-intercept");case 1004:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-extremum");case 1006:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-definition");case 1007:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-trace");case 1008:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-label");default:return this.controller.s("graphing-calculator-narration-audio-trace-point-type-not-a-poi")}}getIntersectingCurves(e){return e&&e.intersects?this.getExpressionAriaLabel(e.intersects):""}getExpressionAriaLabel(e){let t=this.controller.getItemModel(e);return t?"expression"===t.type&&t.label?uo(t.label):this.controller.isItemSecret(t.id)?this.controller.s("graphing-calculator-narration-audio-trace-secret-expression",{index:t.secretIndex}):"table"===t.type&&this.focusedCell?this.controller.s("graphing-calculator-narration-audio-trace-expression-with-column",{index:t.displayIndex,column:this.focusedCell.location.column+1}):this.controller.s("shared-calculator-narration-expression-index",{index:t.displayIndex}):""}exitAudioTrace(e){if(this.audioTraceActive){if(this.audioTraceActive=!1,this.controller.isKeypadEnabled()&&this.controller.dispatch({type:"keypad/123"}),e||(e=this.controller.s("graphing-calculator-text-audio-trace-off")),this.controller.dispatch({type:"toast/close"}),this.wasFocusInExpressionsView){let e=this.agNavigator.getSelectedItem();(!e||!this.controller.isItemSelectable(e.id))&&(e=this.controller.getFirstFullyVisibleItem()),e&&this.controller.isItemSelectable(e.id)&&this.controller.dispatch({type:"move-focus-to-item",id:e.id,where:"table"===e.type&&void 0!==this.focusedCell?__dcg_shared_module_exports__.b({location:"cell"},this.focusedCell.location):"end"})}this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.stopAnimations(),this.sliderTraceActive=!1,this.sliderIndex=0,this.tonegen.stop(),this.tonegen.releaseAudio(),this.agNavigator.reset(),this.lastSpokenBranch=1,this.grapher.traceLayer.setTraceInfo(void 0),this.grapher.redrawAllLayers(),ge(e),this.resumeAnimations()}}isFocusInExpressionsView(){return!!this.controller.getFocusedItem()}canAudioTraceCurrentExp(){let e=this.agNavigator.getSelectedItem();return!!e&&("table"===e.type?!!this.agNavigator.getCurrentSketch():this.agNavigator.canTrace(e))}enterAudioTrace(e){let t,n=this.agNavigator.getSelectedItem(),r=n&&"table"!==n.type&&!this.agNavigator.canTrace(n)?this.getExpressionAriaLabel(n.id):void 0,i=!1;if(this.audioTraceActive||(this.wasFocusInExpressionsView=this.isFocusInExpressionsView(),n&&r&&Ct(this.controller.s("graphing-calculator-narration-audio-trace-unsupported-expression",{expression:r})),i=!!r||!this.wasFocusInExpressionsView),i)t=this.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!0});else if(!r){if(n&&"expression"===n.type&&n.formula&&n.formula.error)return this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-narration-audio-trace-description-no-curve-selected")}});if(n&&"table"===n.type){let e=ao(n);(!this.focusedCell||this.focusedCell.tableId!==n.id||e&&(e.column!==this.focusedCell.location.column||e.row!==this.focusedCell.location.row))&&(this.focusedCell=void 0!==e?{tableId:n.id,location:e}:void 0)}else this.focusedCell=void 0;t=this.agNavigator.getCurrentSketch()}if(!t)return this.agNavigator.reset(),this.lastSpokenBranch=1,this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-narration-audio-trace-description-no-curve-selected")}});let o=t.branches[0].graphMode;return 8===o?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-no-implicit-support")}})):5===o?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-no-parametric-support")}})):6===o?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-no-polar-support")}})):(this.agNavigator.reset(),this.agNavigator.computeStepSizes(),this.lastSpokenBranch=1,this.grapher.traceLayer.clearOpenedPOI(),this.grapher.redrawAllLayers(),this.audioTraceActive||(this.controller.isKeypadEnabled()||this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-audio-trace-on"),noAria:!0,onHide:()=>this.exitAudioTrace(),hideAfter:0}}),r&&t&&Ct(this.controller.s("graphing-calculator-narration-audio-trace-tracing-different-expression",{expression:this.getExpressionAriaLabel(t.id)})),Ct(this.controller.s("graphing-calculator-text-audio-trace-on")),this.controller.getAudio()||Ct(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled")),this.pauseAnimations(),this.queueAnimatingPoints(!1),this.tonegen.prepareAudio(),(!e||!e.fromKeypad)&&(Ct(this.controller.s("graphing-calculator-narration-audio-trace-instructions-use-arrow-keys")),this.controller.getAudio()&&Ct(this.controller.s("graphing-calculator-narration-audio-trace-instructions-hear-graph")),this.agNavigator.getTraceableExpressionCount()>1&&Ct(gi?this.controller.s("graphing-calculator-narration-audio-trace-instructions-expression-navigation-mac"):this.controller.s("graphing-calculator-narration-audio-trace-instructions-expression-navigation-windows")),Ct(gi?this.controller.s("graphing-calculator-narration-audio-trace-instructions-disable-mac"):this.controller.s("graphing-calculator-narration-audio-trace-instructions-disable-windows"))),this.wasFocusInExpressionsView&&(this.controller.find$(".dcg-graph-outer").one("focusin",(()=>{setTimeout((()=>{ge()}),0)})),this.controller.dispatch({type:"set-focus-location",location:{type:"graph-paper"}}))),this.agNavigator.moveToOrigin(),Ct(this.getExpressionAriaLabel(t.id)),this.reportAudioTrace({playSound:!1}),this.wasFocusInExpressionsView||ge(),this.audioTraceActive=!0,void(this.controller.isKeypadEnabled()&&this.controller.dispatch({type:"keypad/audio"})))}checkIfSelectedItemChanged(e){this.lastSelectedId!==e&&(this.lastSelectedId=e,this.audioTraceActive&&(e?(Ct(this.getExpressionAriaLabel(e)),this.exitSliderTrace(),this.agNavigator.updatePOI(),this.agNavigator.moveToOrigin(),this.reportAudioTrace(),ge()):this.exitAudioTrace()))}pauseAnimations(){this.sliderArray.length=0,this.controller.getAllModelsWithSliders().forEach((e=>{e.slider.isPlaying&&(this.controller.dispatch({type:"set-slider-isplaying",id:e.id,isPlaying:!1}),this.sliderArray.push(e))}))}resumeAnimations(){if(0!==this.sliderArray.length){for(let e=0;e<this.sliderArray.length;e++){let t=this.sliderArray[e];!0!==t.slider.isPlaying&&this.controller.dispatch({type:"set-slider-isplaying",id:t.id,isPlaying:!0})}this.sliderArray.length=0}}stopAnimations(){this.controller.getAllModelsWithSliders().forEach((e=>{e.slider.isPlaying&&this.controller.dispatch({type:"set-slider-isplaying",id:e.id,isPlaying:!1})}))}getAnimatingVars(){let e=[];for(let t=0;t<this.sliderArray.length;t++)e.push('"'+kn(this.sliderArray[t])+'"');return e}hasActiveSliders(){let e=this.controller.getAllModelsWithSliders();for(let t=0;t<e.length;t++)if(e[t].slider.isPlaying)return!0;return!1}queueAnimatingPoints(e){1===this.sliderArray.length?Ct(this.controller.s("graphing-calculator-narration-audio-trace-one-slider-paused")):this.sliderArray.length>1?Ct(this.controller.s("graphing-calculator-narration-audio-trace-multiple-sliders-paused",{sliders:this.sliderArray.length})):e&&Ct(this.controller.s("graphing-calculator-narration-audio-trace-no-sliders-paused"))}queueSliderLatex(){this.hasActiveSliders()||this.tonegen.stop();let e=this.getSelectedSlider();Ct(e?e.latex:this.controller.s("graphing-calculator-narration-audio-trace-slider-value-unknown"))}getSelectedSlider(){let e=this.controller.getAllModelsWithSliders();return this.sliderIndex<=e.length-1?e[this.sliderIndex]:null}incrementSliderValue(){this.adjustSlider("up")}decrementSliderValue(){this.adjustSlider("down")}incrementBigSliderValue(){this.adjustSlider("bigup")}decrementBigSliderValue(){this.adjustSlider("bigdown")}nextSlider(){this.adjustSlider("next")}prevSlider(){this.adjustSlider("prev")}sliderMin(){this.adjustSlider("min")}sliderMax(){this.adjustSlider("max")}adjustSlider(e){let t=this.getSelectedSlider();if(!t)return void Ct(this.controller.s("graphing-calculator-narration-audio-trace-cannot-change-slider-value"));let n=t.latex,r=this.controller.getAllModelsWithSliders().length;switch(e){case"up":case"down":case"bigup":case"bigdown":case"min":case"max":this.controller.dispatch({type:"adjust-slider-by-keyboard",id:t.id,adjustment:e}),this.queueSliderLatex(),ge();break;case"next":return this.sliderIndex++,this.sliderIndex>=r&&(Ct(this.controller.s("graphing-calculator-narration-audio-trace-last-slider")),this.sliderIndex=r-1),this.queueSliderLatex(),void ge();case"prev":return this.sliderIndex--,this.sliderIndex<0&&(Ct(this.controller.s("graphing-calculator-narration-audio-trace-first-slider")),this.sliderIndex=0),this.queueSliderLatex(),void ge()}!t.slider.isPlaying&&n!==t.latex&&(this.queueSliderLatex(),ge())}toggleAudioTrace(){this.audioTraceActive?this.exitAudioTrace():this.enterAudioTrace()}toggleSliderTrace(){this.sliderTraceActive?this.exitSliderTrace():this.enterSliderTrace()}enterSliderTrace(){this.sliderTraceActive||(this.sliderIndex=0,0!==this.controller.getAllModelsWithSliders().length?(Ct(this.controller.s("graphing-calculator-narration-slider-trace-on")),this.queueSliderLatex(),this.sliderTraceActive=!0):(Ct(this.controller.s("graphing-calculator-narration-slider-trace-no-sliders")),this.sliderTraceActive=!1),ge())}exitSliderTrace(){this.sliderTraceActive&&(Ct(this.controller.s("graphing-calculator-narration-slider-trace-off")),this.sliderTraceActive=!1,this.sliderIndex=0,ge())}recomputePoints(){this.audioTraceActive&&(this.tonegen.isAnimating()||(this.agNavigator.updatePOI(),this.agNavigator.updateSampledPoints(),this.agNavigator.updateCurrentPoint(),this.agNavigator.resetTracePoint(),this.agNavigator.computeStepSizes()))}reportAndMoveToPrevPoint(){Ui(),this.agNavigator.prevPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})}reportAndMoveToNextPoint(){Ui(),this.agNavigator.nextPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})}reportAndMoveToOrigin(){Ui(),this.agNavigator.moveToOrigin(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})}reportAndMoveToPrevPOI(){Ui(),this.agNavigator.prevPOI(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})}reportAndMoveToNextPOI(){Ui(),this.agNavigator.nextPOI(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})}reportAndMoveToFirstPoint(){Ui(),this.agNavigator.firstPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})}reportAndMoveToLastPoint(){Ui(),this.agNavigator.lastPoint(),this.reportAudioTrace(),this.controller.dispatch({type:"render"})}reportX(){Ui(),this.reportAudioTrace({propToSpeak:"x",playSound:!1})}reportY(){Ui(),this.reportAudioTrace({propToSpeak:"y",playSound:!1})}reportColor(){Ui();let e=this.agNavigator.getCurrentSketch();Ct(e?bd(this.controller,e.color):this.controller.s("graphing-calculator-narration-color-unknown")),ge()}reportPOICount(){Ui();let e=this.agNavigator.getCurrentSketch(),t=e?e.getPOI().length:0;ge(this.controller.s("graphing-calculator-narration-audio-trace-poi-count",{x:t}))}reportType(){Ui(),this.reportAudioTrace({propToSpeak:"type",playSound:!1})}reportBranch(){Ui(),this.reportAudioTrace({propToSpeak:"branch",playSound:!1})}describePoint(){Ui(),this.reportAudioTrace({playSound:!1}),ge()}playCurrentPoint(){let e=this.agNavigator.getCurrentPoint();e&&this.tonegen.playPoint(e,this.grapher.getCurrentViewport())}reportAudioTrace(e){let t=this.agNavigator.getCurrentPoint();if(!t)return;let n=e&&e.propToSpeak,r=this.controller.getAudio()&&this.tonegen.getPlaybackSupported()&&(!e||void 0===e.playSound||e.playSound),i=!e||void 0===e.speakCoordinates||e.speakCoordinates;this.tonegen.stop(),r&&this.playCurrentPoint(),i&&(this.queueCoordinates(t,n),setTimeout((function(){ge()}),n?0:100))}adjustPlaybackSpeed(e){if(!this.controller.getAudio())return void ge(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"));if(e<0||e>=lf.length)return;this.audioSpeedIndex=e;let t=lf[e];return this.tonegen.setAudioSpeed(t.speed),ge(this.controller.s("graphing-calculator-narration-audio-trace-playback-speed",{speed:t.displayedSpeed}))}speedUp(){this.adjustPlaybackSpeed(this.audioSpeedIndex+1)}speedDown(){this.adjustPlaybackSpeed(this.audioSpeedIndex-1)}adjustVolume(e){if(Ui(),!this.controller.getAudio())return void ge(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"));let t=this.tonegen.getAudioVolume(),n="up"===e?Math.min(100,Math.round(100*(t+.1))):Math.max(0,Math.round(100*(t-.1)));this.tonegen.setAudioVolume(n/100),this.playCurrentPoint(),ge(this.controller.s("graphing-calculator-narration-audio-trace-volume",{volume:n}))}zoom(e){this.grapher.viewportController.zoom(e)}setDefaultViewport(){this.grapher.viewportController.setDefaultViewport()}getFocusedCell(){return this.focusedCell}setFocusedCell(e){this.focusedCell=e}getAudioTraceActive(){return this.audioTraceActive}hearGraph(){if(Ui(),this.controller.getAudio())if(this.tonegen.getPlaybackSupported()){this.tonegen.stop();let e=this.agNavigator.getCurrentSketch();e&&Va(this.controller,e)?this.tonegen.playSketch(e,this.grapher.getCurrentViewport()):ge(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-trace-this-expression"))}else ge(this.controller.s("graphing-calculator-narration-audio-trace-unable-to-play"));else ge(this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"))}stopGraph(){this.tonegen.getPlaybackSupported()&&this.tonegen.stop()}getAudioSpeedIndex(){return this.audioSpeedIndex}},vw=__dcg_shared_module_exports__.i(Vc()),W3=10240;function j3(e,t,n,r,i){let{dotSpacing:o}=e,a=1+o;var s=i.charCodeAt(0)-W3;1&s&&t.fillRect(n,r,1,1),2&s&&t.fillRect(n,r+a,1,1),4&s&&t.fillRect(n,r+2*a,1,1),8&s&&t.fillRect(n+a,r,1,1),16&s&&t.fillRect(n+a,r+a,1,1),32&s&&t.fillRect(n+a,r+2*a,1,1)}function bw(e,t){let{x:n,y:r,width:i,height:o}=t,a=e.getImageData(n,r,i,o).data;for(let e=3;e<a.length;e+=4)if(0!==a[e])return!1;return!0}function Y3(e,t){let{x:n,y:r,width:i,height:o}=t,a=e.getImageData(n,r,i,o).data;for(let e=3;e<a.length;e+=4)if(0===a[e])return!1;return!0}function vD(e,t,n,r,i){return bw(t,ww(e,n,r,i))}function J3(e,t,n,r,i){let{dotSpacing:o}=e,a=3+2*o;for(var s=0;s<i.length;s++)j3(e,t,n+a*s,r,i[s])}function ql(e,t){let{dotSpacing:n}=e;return(2+n)*t.length+(1+n)*(t.length-1)}function xw(e,t){let{dotSpacing:n}=e;return 3+2*n}function ww(e,t,n,r){let{cellPadding:i}=e;return{x:t-i,y:n-i,width:ql(e,r)+2*i,height:xw(e,r)+2*i}}function mw(e,t){if(!e)return t;let n=Math.min(e.x,t.x),r=Math.min(e.y,t.y);return{x:n,y:r,width:Math.max(e.x+e.width,t.x+t.width)-n,height:Math.max(e.y+e.height,t.y+t.height)-r}}function vL(e,t,n){return Math.min(Math.max(e,t),n)}function uf(e,t,n,r,i){return{x:vL(n,0,t.canvas.width-ql(e,i)),y:vL(r,0,t.canvas.height-xw(e,i))}}function pf(e,t,n,r,i){let o=t.fillStyle;t.fillStyle="white";let a=ww(e,n,r,i);t.fillRect(a.x,a.y,a.width,a.height),t.fillStyle="black",J3(e,t,n,r,i),t.fillStyle=o}function CD(e,t,n,r){let{cellPadding:i}=e;return{x:Math.round(t-(ql(e,r)+i)),y:n}}function X3(e){return e.replace(/\u283C(?!$)/g,"")}function Ul(e,t){let n="nemeth"===t?vw.latexToNemeth(e):vw.latexToUeb(e);return n.isError?"":X3(n.value)}function vp(e,t){return t>=0?e*Math.pow(10,t):e/Math.pow(10,-t)}function SL(e,t,n,r){let[i,o]=n,a=Math.ceil(Math.log(o-i)/Math.LN10)-1,s=a,l=5;e:for(let n=a;a-n<4;n--)for(let a of[5,2,1]){let d=vp(a,n),p=Math.floor(i/d)+1,u=Math.ceil(o/d)-1;var c=Math.abs(r(d)-r(0));let h=Ul(String(vp(p*a,n)),t),g=Ul(String(vp(u*a,n)),t);if(c<ql(e,h)+ql(e," ")||c<ql(e,g)+ql(e," ")||u-p>=15)break e;s=n,l=a}return{int:l,exp:s}}function EL(e,t,n){return SL(e,t,[n.viewport.xmin,n.viewport.xmax],(e=>n.mapx(e)))}function Q3(e,t,n){return n.viewport.isSquare(n.screen,{xAxisScale:n.settings.xAxisScale,yAxisScale:n.settings.yAxisScale})?EL(e,t,n):SL(e,t,[n.viewport.ymin,n.viewport.ymax],(e=>n.mapy(e)))}function CL(e,t){let{int:n,exp:r}=e,[i,o]=t,a=Math.ceil(i/vp(n,r)),s=Math.floor(o/vp(n,r)),l=[];for(var c=a;c<=s;c++)l.push(vp(c*n,r));return l}function Z3(e,t,n){return{x:CL(EL(e,t,n),[n.viewport.xmin,n.viewport.xmax]),y:CL(Q3(e,t,n),[n.viewport.ymin,n.viewport.ymax])}}function DL(e,t,n,r,i){if(void 0===n.margins||void 0===t)return;let o=eK(r),a=n.margins,s=__dcg_shared_module_exports__.b({},t.settings),l=s.showGrid&&tK(r),c=!!s.showXAxis,d=!!s.showYAxis,p=!!s.xAxisNumbers,u=s.xAxisArrowMode,h=!!s.yAxisNumbers,g=s.yAxisArrowMode,m={showGrid:!1,xAxisNumbers:!1,xAxisArrowMode:"NONE",yAxisNumbers:!1,yAxisArrowMode:"NONE",showXAxis:!1,showYAxis:!1,graphLineWidth:o.graphLineWidth,pointLineWidth:2.5,curveOpacity:1,globalCurveColor:"#000",disableFill:!0};for(let e in m)t.settings[e]=m[e];let f=e.width-a.right-a.left,y=e.height-a.top-a.bottom,b=new Gc(f,y),x=t.getProjection().viewport;t.settings.squareAxes&&(x=x.squareCrop(b,t.settings));let _=new us(b,x,t.settings),v=e.getContext("2d"),w=document.createElement("canvas");w.width=f,w.height=y;let A=w.getContext("2d"),k=document.createElement("canvas");k.width=f,k.height=y;let E=k.getContext("2d"),I=document.createElement("canvas");I.width=f,I.height=y;let M=I.getContext("2d"),S=document.createElement("canvas");S.width=f,S.height=y;let C=S.getContext("2d"),T=document.createElement("canvas");T.width=f,T.height=y;let D=T.getContext("2d");if(null!==v&&null!==C&&null!==A&&null!==M&&null!==D&&null!==E){t.settings.disableFill=!0,t.screenshotToCanvas(S,{width:f,height:y,targetPixelRatio:1,transparentBackground:!0}),t.settings.disableFill=!1,t.screenshotToCanvas(w,{width:f,height:y,targetPixelRatio:1,transparentBackground:!0}),v.fillStyle="white",v.fillRect(0,0,e.width,e.height);let n=Math.round(_.mapx(0)),m=Math.round(_.mapy(0)),b=""!==s.xAxisLabel?s.xAxisLabel.replace(/ /g,"\\ "):"x",x=""!==s.yAxisLabel?s.yAxisLabel.replace(/ /g,"\\ "):"y",P=1;if(c&&_.coordsAreOnscreen(f-6,m-8,0)){let e=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},o),{cellPadding:o.cellPadding+P}),t=f-2,n=m-(2+2*xw(e,b)),r=Ul(b,i);({x:t,y:n}=CD(e,t,n,r)),({x:t,y:n}=uf(e,A,t,n,r)),pf(e,D,t,n,r)}if(d&&_.coordsAreOnscreen(n+4,1,0)){let e=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},o),{cellPadding:o.cellPadding+P}),t=n+4,r=1,a=Ul(x,i);({x:t,y:r}=uf(e,A,t,r,a)),pf(e,D,t,r,a)}let{x:O,y:B}=Z3(o,i,_);if(c){let e;for(let t of O){if(0===t&&d)continue;let n=Math.round(_.mapx(t));if(!(n<2||n>_.screen.width-2)&&p){let r=ql(o,Ul("-1",i))-ql(o,Ul("1",i)),a=n-(t<0?r+1:1),s=m+4,l=Ul(""+t,i);({x:a,y:s}=uf(o,D,a,s,l)),vD(o,C,a,s,l)&&(pf(o,D,a,s,l),e=mw(e,ww(o,a,s,l)))}}o.embossPatternInequalities&&e&&(e=mw(e,{x:0,y:m,width:f,height:0}),M.fillStyle="white",M.fillRect(e.x,e.y,e.width,e.height))}if(d){let e;for(let t of B){if(0===t&&c)continue;let r=Math.round(_.mapy(t));if(r<2||r>_.screen.height-2)continue;let a=-Math.ceil(xw(o," ")/2);if(h){let s=n-4,l=r+a,c=Ul(""+t,i);({x:s,y:l}=CD(o,s,l,c)),({x:s,y:l}=uf(o,D,s,l,c)),vD(o,C,s,l,c)&&(pf(o,D,s,l,c),e=mw(e,ww(o,s,l,c)))}}o.embossPatternInequalities&&e&&(e=mw(e,{x:n,y:0,width:0,height:y}),M.fillStyle="white",M.fillRect(e.x,e.y,e.width,e.height))}if(c&&d){let e=n-2,t=m+2,r=Ul(p||h?"0":"o",i);({x:e,y:t}=CD(o,e,t,r)),_.coordsAreOnscreen(e,t,0)&&(({x:e,y:t}=uf(o,D,e,t,r)),vD(o,C,e,t,r)&&pf(o,D,e,t,r))}for(let e of O){let t=Math.round(_.mapx(e));t<2||t>_.screen.width-2||d&&0===e||l&&hf(M,"white",t-1,0,y,3)}for(let e of B){let t=Math.round(_.mapy(e));t<2||t>_.screen.height-2||c&&0===e||l&&gf(M,"white",t-1,0,f,3)}c&&gf(M,"white",m-3,0,f,7),d&&hf(M,"white",n-3,0,y,7);for(let e of O){let t=Math.round(_.mapx(e));t<2||t>_.screen.width-2||d&&0===e||(l?hf(M,yw(r),t,0,y):c&&hf(M,yw(r),t,m-3,m+2))}for(let e of B){let t=Math.round(_.mapy(e));t<2||t>_.screen.height-2||c&&0===e||(l?gf(M,yw(r),t,0,f):d&&gf(M,yw(r),t,n-3,n+2))}if(c&&gf(M,wp(r),m,0,f),d&&hf(M,wp(r),n,0,y),"NONE"!==g&&(oK(M,wp(r),n,0),"BOTH"===g&&nK(M,wp(r),n,y-1)),"NONE"!==u&&(rK(M,wp(r),f-1,m),"BOTH"===u&&iK(M,wp(r),0,m)),o.embossPatternInequalities)for(let e=0;e<f;e+=6)for(let t=0;t<y;t+=6){let n={x:e,y:t,width:3,height:3};Y3(A,n)&&bw(M,n)&&bw(C,n)&&bw(D,n)&&aK(E,"black",e,t)}o.embossPatternInequalities||v.drawImage(w,a.left,a.top),v.drawImage(I,a.left,a.top),v.drawImage(S,a.left,a.top),v.drawImage(T,a.left,a.top),o.embossPatternInequalities&&v.drawImage(k,a.left,a.top)}for(let e in m)t.settings[e]=s[e]}function eK(e){if("etc8"===e||"etc11"===e)return{dotSpacing:0,cellPadding:1,graphLineWidth:1.75,embossPatternInequalities:!0};if("vpmax8"===e||"vpmax11"===e)return{dotSpacing:1,cellPadding:2,graphLineWidth:1,embossPatternInequalities:!1};throw new Error(`Unexpected embosser model ${e}`)}function tK(e){if("etc8"===e||"etc11"===e)return!1;if("vpmax8"===e||"vpmax11"===e)return!0;throw new Error(`Unexpected embosser model ${e}`)}function wp(e){switch(e){case"vpmax8":case"vpmax11":return"rgb(145, 145, 145)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:throw new Error("Unexpected embosser model: "+e)}}function yw(e){switch(e){case"vpmax8":case"vpmax11":return"rgb(219, 219, 219)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:throw new Error("Unexpected embosser model: "+e)}}function hf(e,t,n,r,i,o=1){let a=e.fillStyle;e.fillStyle=t,e.fillRect(n-1,r,o,i-r),e.fillStyle=a}function gf(e,t,n,r,i,o=1){let a=e.fillStyle;e.fillStyle=t,e.fillRect(r,n-1,i-r,o),e.fillStyle=a}function rK(e,t,n,r){let i=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(n-Math.abs(o),r-1+o,1,1);e.fillStyle=i}function iK(e,t,n,r){let i=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(n+Math.abs(o),r-1+o,1,1);e.fillStyle=i}function nK(e,t,n,r){let i=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(n-1+o,r-Math.abs(o),1,1);e.fillStyle=i}function oK(e,t,n,r){let i=e.fillStyle;e.fillStyle=t;for(var o=-2;o<=2;o++)e.fillRect(n-1+o,r+Math.abs(o),1,1);e.fillStyle=i}function aK(e,t,n,r){let i=e.fillStyle;e.fillStyle=t,e.fillRect(n+1,r,1,1),e.fillRect(n,r+1,1,1),e.fillRect(n+1,r+1,1,1),e.fillRect(n+2,r+1,1,1),e.fillRect(n+1,r+2,1,1),e.fillStyle=i}var Cp={vpmax8:{width:170,height:220,margins:{left:5,top:15,right:5,bottom:50},name:e=>e.s("graphing-calculator-label-braille-size-vpmax8")},vpmax11:{width:230,height:220,margins:{left:15,top:15,right:5,bottom:5},name:e=>e.s("graphing-calculator-label-braille-size-vpmax11")},etc8:{width:96,height:96,margins:{left:5,top:15,right:0,bottom:0},name:e=>e.s("graphing-calculator-label-braille-size-etc8")},etc11:{width:132,height:134,margins:{left:10,top:15,right:5,bottom:5},name:e=>e.s("graphing-calculator-label-braille-size-etc11")}},go=__dcg_shared_module_exports__.i(ne()),{If:lK}=go.Components,Cw=class extends go.Class{init(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.width=0,this.height=0,this.devicePixelRatio=window.devicePixelRatio||1}template(){return go.createElement("div",{class:go.const("dcg-graph-outer"),role:go.const("img"),"aria-roledescription":()=>this.controller.s("graphing-calculator-narration-graphpaper-label"),didMount:e=>this.rootNode=e,manageFocus:this.const(ut({controller:this.controller,location:{type:"graph-paper"}}))},go.createElement(lK,{predicate:()=>this.isIOSAndIframe()},(()=>go.createElement("div",{style:go.const("width:1px; height:.5px; pointer-events:none; opacity: 0;"),"aria-hidden":go.const("true")},go.const("text")))),go.createElement("canvas",{class:go.const("dcg-graph-inner"),didMount:e=>{this.canvasNode=e,this.ctx=this.canvasNode.getContext("2d"),this.resize(0,0)},style:()=>({position:"relative",display:"block",outline:"none","-webkit-transform":this.isIOSAndIframe()?"translate3d(0,-.25px,0)":void 0})}))}isIOSAndIframe(){return gu&&El}resize(e,t,n){var r;n=n||this.devicePixelRatio,(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this.canvasNode.style.width=e+"px",this.canvasNode.style.height=t+"px",this.canvasNode.setAttribute("width",""+e*n),this.canvasNode.setAttribute("height",""+t*n),this.ctx=this.canvasNode.getContext("2d"),null==(r=this.ctx)||r.scale(n,n),this.update())}getAriaLabel(e){if("3d"===this.grapher.type)return"";let t=this.grapher.getAudioTrace();if(!t)return"";let n=this.controller.s("graphing-calculator-narration-graphpaper-label")+". "+t.getAxesDescription();return 0===e||t.getAudioTraceActive()||void 0!==t.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!1})&&(n+=gi?" "+this.controller.s("graphing-calculator-narration-audio-instructions-enter-audio-trace-mac"):" "+this.controller.s("graphing-calculator-narration-audio-instructions-enter-audio-trace-windows")),n}updateAria(e,t){this.rootNode.setAttribute("aria-hidden",e&&this.grapher.settings.config.graphpaper?"false":"true"),this.rootNode.setAttribute("tabindex",e&&this.grapher.settings.config.graphpaper&&this.grapher.settings.config.enableTabindex&&(t>0||this.controller.isGeoUIActive())?"0":"-1"),this.rootNode.setAttribute("aria-label",this.getAriaLabel(t)),this.update()}},Lr=__dcg_shared_module_exports__.i(ne());function Sw(e,t,n){return Math.max(t,Math.min(n,e))}at();var Sp=class{constructor(e){let t=e.data,n=e.width,r=e.height;this.imageData=e;for(let e=1;e<n;e++)t[e]+=t[e-1];for(let e=1;e<r;e++)t[e*n]+=t[e*n-n];let i=n*r-n-r+1,o=n-1;for(var a=0;a<i;a++){let e=1+a%o,r=(1+Math.floor(a/o))*n,i=e-1+r,s=e+r-n,l=e-1+r-n;t[r+e]+=t[i]+t[s]-t[l]}}getSumForValidRect(e){let t=e.left-1,n=e.right-1,r=e.top-1,i=e.bottom-1,o=this.imageData.width,a=this.imageData.data,s=a[t+r*o],l=a[n+r*o],c=a[t+i*o],d=a[n+i*o];return t>=0&&r>=0?d-l-c+s:t>=0?d-c:r>=0?d-l:d}getSum(e){let t={left:Sw(Math.floor(e.left),0,this.imageData.width),right:Sw(Math.ceil(e.right),0,this.imageData.width),top:Sw(Math.floor(e.top),0,this.imageData.height),bottom:Sw(Math.ceil(e.bottom),0,this.imageData.height)};return t.left>=t.right||t.top>=t.bottom?0:this.getSumForValidRect(t)}},Pc=.5,Lc=document.createElement("canvas"),SD=[];function cK(e,t){if(!(t.width*t.height>0))return new Sp({width:0,height:0,data:[]});Lc.width=0,Lc.width=Math.round(t.width*Pc),Lc.height=Math.round(t.height*Pc);let n=Lc.getContext("2d");n.save(),n.scale(Lc.width/e.canvas.width,Lc.height/e.canvas.height),n.drawImage(e.canvas,0,0),n.restore();var r=n.getImageData(0,0,Lc.width,Lc.height),i=r.data;i.length,SD.length;for(var o=SD=new Array(i.length/4),a=0;a<o.length;a++)o[a]=i[4*a+3];return new Sp({width:r.width,height:r.height,data:o})}function kL(e){for(var t=0;t<e.length;t++){var n=dK(t,e);e[t]=[n]}return e.map((function(e){return e[0]}))}function dK(e,t){var n=1/0,r=-1,i=t[e];if(1===i.length)return i[0];for(var o=0;o<i.length;o++){var a=t[e][o].staticScore+uK(e,o,t);(-1===r||a<n)&&(n=a,r=o)}return i[r]}function uK(e,t,n){for(var r=0,i=n[e][t],o=0;o<n.length;o++)if(o!==e){for(var a=0,s=n[o],l=s.length-1;l>=0;l--){var c=s[l];a+=Math.max(0,Math.min(i.right,c.right)-Math.max(i.left,c.left))*Math.max(0,Math.min(i.bottom,c.bottom)-Math.max(i.top,c.top))}r+=a/s.length}return r}function pK(e,t){var n=t.getSum({left:e.left*Pc,right:e.right*Pc,top:e.top*Pc,bottom:e.bottom*Pc});return n/=200,n/=Pc*Pc}function hK(e,t){var n=0;return t.forEach((function(t){n+=IL(e,t)})),n}function gK(e,t){var n=IL(e,t);return 10*(e.width*e.height-n)}function IL(e,t){return Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top))}function ML(e,t,n){let r;return()=>(r||(r={domObstructions:n,viewport:{left:0,right:t.width,top:0,bottom:t.height},integralImage:cK(e,t)}),r)}function Ew(e,t){if(!(t.length<=1)){var n=e();for(var r of t)r.staticScore+=gK(r,n.viewport),r.staticScore+=hK(r,n.domObstructions),r.staticScore+=pK(r,n.integralImage)}}function TL(e,t){var n=t.nakedLabel?0:t.pt_radius,r=Math.round(n/Math.sqrt(2)),i=[],o=t.pt_x,a=t.pt_y,s=t.width,l=t.height,c=400;i.push({cx_s:0,cy_s:0,cx_a:0,cy_a:0,staticScore:c,orientation:"center",matches:{default:1,center:1,center_auto:1,auto_center:1}}),i.push({cx_s:.5,cx_a:n+3,cy_s:0,cy_a:0,staticScore:c,orientation:"right",matches:{default:1,right:1,center_auto:1,auto_right:1}}),i.push({cx_s:-.5,cx_a:-n-3,cy_s:0,cy_a:0,staticScore:c,orientation:"left",matches:{default:1,left:1,center_auto:1,auto_left:1}}),i.push({cx_s:0,cx_a:0,cy_s:-.5,cy_a:-n,staticScore:c,orientation:"above",matches:{default:1,above:1,auto_center:1,above_auto:1}}),i.push({cx_s:-.5,cx_a:-r,cy_s:-.5,cy_a:-r,staticScore:c,orientation:"tl",matches:{default:1,above_left:1,above_auto:1,auto_left:1}}),i.push({cx_s:.5,cx_a:r,cy_s:-.5,cy_a:-r,staticScore:c,orientation:"tr",matches:{default:1,above_right:1,above_auto:1,auto_right:1}}),i.push({cx_s:0,cx_a:0,cy_s:.5,cy_a:n,staticScore:c,orientation:"below",matches:{default:1,below:1,auto_center:1,below_auto:1}}),i.push({cx_s:-.5,cx_a:-r,cy_s:.5,cy_a:r,staticScore:c,orientation:"bl",matches:{default:1,below_left:1,below_auto:1,auto_left:1}}),i.push({cx_s:.5,cx_a:r,cy_s:.5,cy_a:r,staticScore:c,orientation:"br",matches:{default:1,below_right:1,below_auto:1,auto_right:1}});var d=Math.cos(t.rotation),p=Math.sin(t.rotation),u=i.map((function(e){var n=e.cx_s*s+e.cx_a,r=e.cy_s*l+e.cy_a;let i=n*d-r*p,c=r*d+n*p,u=`calc(${100*e.cx_s-50}% + ${e.cx_a}px)`,h=`calc(${100*e.cy_s-50}% + ${e.cy_a}px)`,g=-s/2,m=s/2,f=-l/2,y=l/2;if(t.rotation){let e=fK([{x:g*d-f*p,y:f*d+g*p},{x:g*d-y*p,y:y*d+g*p},{x:m*d-f*p,y:f*d+m*p},{x:m*d-y*p,y:y*d+m*p}]);g=e.left,m=e.right,f=e.top,y=e.bottom}return g=Math.round(o+i+g),m=Math.round(o+i+m),f=Math.round(a+c+f),y=Math.round(a+c+y),{pt_x:Math.round(o),pt_y:Math.round(a),left:g,right:m,top:f,bottom:y,width:m-g,height:y-f,transform:`translate(${u},${h})`,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}}));return Ew(e,u=t.enforceOrientation&&"default"!==t.enforceOrientation?__dcg_shared_module_exports__.ma(u,(function(e){return!!e.matches[t.enforceOrientation]})):t.nakedLabel?__dcg_shared_module_exports__.ma(u,(function(e){return"center"===e.orientation})):t.keepOrientation&&t.priorOrientation?__dcg_shared_module_exports__.ma(u,(function(e){return e.orientation===t.priorOrientation})):__dcg_shared_module_exports__.ma(u,(function(e){return"center"!==e.orientation}))),u}function GL(e,t){var n=[],r=t.width,i=t.height,o=r/2,a=i/2,s=t.pt_x1,l=t.pt_y1,c=t.pt_x2,d=t.pt_y2,p=(d-l)/(c-s),u=Math.atan2(d-l,c-s)+Math.PI/2,h=5*Math.cos(u),g=5*Math.sin(u),m=Math.min(l,d)-Math.abs(g)-i,f=Math.max(l,d)+Math.abs(g),y=[0,20,20,40,40],b=[];for(let e of[.5,.4,.6,.2,.8])b.push({x:s*(1-e)+c*e,y:l*(1-e)+d*e});for(let e=0;e<b.length;e++){let t=b[e];var x,_,v,w;if(p>=2||p<=-2){v=w=t.y-a;let e=Math.abs((c-s)/(d-l)*a)+Math.abs(h);x=t.x+e,_=t.x-e-r}else if(p<=.05&&p>=-.05){x=_=t.x-o;let e=Math.abs(p*o)+Math.abs(g);v=t.y-e-i,w=t.y+e}else h>0?(x=t.x+h,_=t.x-h-r):(x=t.x+h-r,_=t.x-h),g>0?(v=t.y+g,w=t.y-g-i):(v=t.y+g-i,w=t.y-g);v<m?v=m:v>f&&(v=f),w<m?w=m:w>f&&(w=f);let u=(c-s)*(v-l)-(d-l)*(x-s)>0,A=e.toString()+(u?"-a":"-b");n.push({pt_x:t.x,pt_y:t.y,left:x,top:v,staticScore:y[e],orientation:A,matches:{[A]:1}});let k=e.toString()+(u?"-b":"-a");n.push({pt_x:t.x,pt_y:t.y,left:_,top:w,staticScore:y[e],orientation:k,matches:{[k]:1}})}var A=n.map((function(e){let n=Math.round(e.left),o=Math.round(e.left+r),a=Math.round(e.top),s=Math.round(e.top+i);return{pt_x:Math.round(e.pt_x),pt_y:Math.round(e.pt_y),transform:`translate(${e.left-e.pt_x}px,${e.top-e.pt_y}px)`,left:n,right:o,top:a,bottom:s,width:o-n,height:s-a,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}}));return t.keepOrientation&&t.priorOrientation&&(A=__dcg_shared_module_exports__.ma(A,(function(e){return e.orientation===t.priorOrientation}))),Ew(e,A),A}function AL(e,t){var n=[],r=t.pt_x,i=t.pt_y,o=t.width,a=t.height;let s=-(t.startAngle+t.deltaAngle/2),l=t.isRightAngle?t.radius*Math.sqrt(2):t.radius+4,c=l+Math.sqrt(t.width*t.width/4+t.height*t.height/4),d=[],p=c*Math.sin(s);p>l+.5*a&&(p=l+.5*a),p<-l-.5*a&&(p=-l-.5*a),d.push({x:r+c*Math.cos(s)-o/2,y:i+p-a/2});for(let e=0;e<d.length;e++){let t=d[e],r=e.toString()+"-a";n.push({pt_x:t.x,pt_y:t.y,left:t.x,top:t.y,staticScore:0,orientation:r,matches:{[r]:1}})}var u=n.map((function(e){let n=Math.round(e.left),r=Math.round(e.left+o),i=Math.round(e.top),s=Math.round(e.top+a);return{pt_x:Math.round(e.pt_x),pt_y:Math.round(e.pt_y),transform:`translate(${e.left-e.pt_x}px,${e.top-e.pt_y}px)`,left:n,right:r,top:i,bottom:s,width:r-n,height:s-i,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}}));return t.keepOrientation&&t.priorOrientation&&(u=__dcg_shared_module_exports__.ma(u,(function(e){return e.orientation===t.priorOrientation}))),Ew(e,u),u}function VL(e,t){for(var n=[],r=t.width,i=t.height,o=Math.round(10/Math.sqrt(2)),a=50,s=0,l=0,c=0,d=0;d<t.path.length-2;d+=2)c+=1,s+=t.path[d],l+=t.path[d+1];var p=s/c,u=l/c;n.push({left:p-r/2,top:u-i/2,staticScore:0,orientation:"center",matches:{center:1}}),n.push({left:p+10+3,top:u-i/2,staticScore:a,orientation:"right",matches:{right:1}}),n.push({left:p-(10+r)-3,top:u-i/2,staticScore:a,orientation:"left",matches:{left:1}}),n.push({left:p-r/2,top:u-(i+10),staticScore:a,orientation:"top",matches:{top:1}}),n.push({left:p-(r+o),top:u-(i+o),staticScore:a,orientation:"tl",matches:{tl:1}}),n.push({left:p+o,top:u-(i+o),staticScore:a,orientation:"tr",matches:{tr:1}}),n.push({left:p-r/2,top:u+10,staticScore:a,orientation:"bottom",matches:{bottom:1}}),n.push({left:p-(r+o),top:u+o,staticScore:a,orientation:"bl",matches:{bl:1}}),n.push({left:p+o,top:u+o,staticScore:a,orientation:"br",matches:{br:1}});var h=n.map((function(e){let n=Math.round(e.left),o=Math.round(e.left+r),a=Math.round(e.top),s=Math.round(e.top+i);return{pt_x:Math.round(p),pt_y:Math.round(u),transform:`translate(${e.left-p}px,${e.top-u}px)`,left:n,right:o,top:a,bottom:s,width:o-n,height:s-a,staticScore:t.priorOrientation===e.orientation?e.staticScore-20:e.staticScore,orientation:e.orientation,matches:e.matches}}));return t.keepOrientation&&t.priorOrientation&&(h=__dcg_shared_module_exports__.ma(h,(function(e){return e.orientation===t.priorOrientation}))),Ew(e,h),h}function fK(e){let t=e[0].x,n=e[0].x,r=e[0].y,i=e[0].y;for(var o=e.length-1;o>=1;o--){let{x:a,y:s}=e[o];a<t&&(t=a),a>n&&(n=a),s<r&&(r=s),s>i&&(i=s)}return{left:t,right:n,top:r,bottom:i}}var Dw=__dcg_shared_module_exports__.i(ne());at();var ze=class extends Dw.Class{template(){return 1===this.children.length?this.children[0]:Dw.createElement("div",{didMount:e=>this.didMountMathquill(e)})}didMount(){1===this.children.length&&this.didMountMathquill(this.findRootNode())}didMountMathquill(e){this.staticMath=Ca.StaticMath(e,__dcg_shared_module_exports__.b({},this.props.config())),P(e).addClass("dcg-static-mathquill-view"),this.updateMathquill()}didUpdate(){this.updateMathquill()}updateMathquill(){this.updateMathquillAria(),this.updateMathquillLatex()}updateMathquillLatex(){if(!this.staticMath)return;let e=this.props.latex();this.lastLatex!==e&&(this.staticMath.latex(e),this.lastLatex=e,this.props.onReflow&&this.props.onReflow())}updateMathquillAria(){if(!this.staticMath||!this.props.getAriaLabel)return;let e=this.props.getAriaLabel();e!==this.staticMath.getAriaLabel()&&this.staticMath.setAriaLabel(e)}},Do=__dcg_shared_module_exports__.i(ne());function Ep(e){let t=__dcg_shared_module_exports__.Mb(e),n=0;for(;!__dcg_shared_module_exports__.Ob(t);)n+=1,t=__dcg_shared_module_exports__.Nb(t);return n}at();var La=__dcg_shared_module_exports__.i(ne()),{If:yK}=La.Components,Oc=class extends La.Class{init(){this.controller=this.props.controller()}template(){return La.createElement("span",{class:()=>{let e=this.parentOrChildHovered();return{"dcg-geo-token-view":!0,"dcg-selected-token":this.isTokenSelected(),"dcg-hidden-token":this.isHidden(),"dcg-token-has-label":this.hasLabel(),"dcg-child-of-hovered-token":"child"===e,"dcg-parent-of-hovered-token":"parent"===e}},style:()=>({"font-family":"dcg-icons",color:this.getColor()}),role:()=>this.props.insideGroup()?"option":"button","aria-roledescription":()=>this.props.insideGroup()?void 0:this.controller.s("graphing-calculator-narration-geometry-construction-role-description"),"aria-label":this.bindFn(this.getAriaLabel),"aria-selected":this.bindFn(this.isTokenSelected),tabindex:()=>this.props.putInTabOrder()?0:-1,manageFocus:()=>this.props.focusLocation?ut({controller:this.controller,location:this.props.focusLocation()}):void 0,onTapStart:this.bindFn(this.onTapStart),onTap:this.bindFn(this.onTap),onPointerOver:this.bindFn(this.onPointerOver),onPointerOut:this.bindFn(this.onPointerOut)},La.createElement("span",{class:La.const("dcg-token-background")}),La.createElement("span",{class:()=>({"dcg-token-icon":!0,[`dcg-token-${this.getIconType()}`]:!0,"dcg-token-is-list":this.getIsList()})},(()=>this.getIcon())),La.createElement(yK,{predicate:()=>this.hasLabel()},(()=>La.createElement("span",{class:()=>({"dcg-token-label":!0})},(()=>this.getTokenInfo().label)))))}getIdFromParentRef(e){if(e)return this.controller.getExpressionIdForToken(e[0].substring(1))}parentOrChildHovered(){var e,t,n,r,i,o;if(!this.props.showParentChildrenHover||!this.props.showParentChildrenHover())return!1;let a=this.controller.getHoveredToken();if(!a)return!1;let s=this.controller.getExpressionIdForToken(a),l=this.props.tokenId(),c=this.props.controller().getExpressionIdForToken(l)||"";if(!s)return!1;let d=this.controller.getItemModel(s),p=this.controller.getItemModel(c);if(!d||"expression"!==d.type||!p||"expression"!==p.type)return!1;let u=(null==(n=null==(t=null==(e=d.formula)?void 0:e.geometry)?void 0:t.call)?void 0:n.parents)||[],h=(null==(o=null==(i=null==(r=p.formula)?void 0:r.geometry)?void 0:i.call)?void 0:o.parents)||[];for(let e=0;e<u.length;e++)if(this.getIdFromParentRef(u[e])===c)return"parent";for(let e=0;e<h.length;e++)if(this.getIdFromParentRef(h[e])===s)return"child";return!1}willUnmount(){this.implicitMouseOut()}didUpdate(){let e=this.props.tokenId();this.currentlyActiveTokenId&&e!==this.currentlyActiveTokenId&&this.implicitMouseOut()}implicitMouseOut(){this.currentlyActiveTokenId&&this.controller.runAfterDispatch((()=>{let e=this.currentlyActiveTokenId;e&&(this.currentlyActiveTokenId=void 0,this.controller.dispatch({type:"unset-active-token",id:e,style:"hovered"}))}))}hasLabel(){return!!this.getTokenInfo().label}isHidden(){var e=this.getTokenInfo();return void 0!==e.overrideHidden?e.overrideHidden:e.isHidden}getIcon(){let e=this.getTokenInfo();if(!e||e.hasError)return"";switch(e.iconType){case"point":case"glider":case"intersection":case"strictintersection":case"midpoint":return"";case"ray":case"line":case"segment":case"perpendicular":case"parallel":case"circle":case"arc":case"angle":case"angles":case"directedangle":case"directedangles":case"translation":case"dilation":case"rotation":case"reflection":case"transformation":return;case"polygon":return"";default:return"?"}}getLabel(){return this.getTokenInfo().label}getAriaLabel(){let{description:e}=this.getTokenInfo();return this.isHidden()?this.controller.s("graphing-calculator-narration-geometry-hidden-construction-description",{description:e}):e}getColor(){let e=this.getTokenInfo();return this.isHidden()&&!e.hasError?"#aaa":e.color}getIconType(){return this.getTokenInfo().iconType}getIsList(){return this.getTokenInfo().isList}getTokenInfo(){let e=this.props.tokenId();return this.controller.getTokenRenderInfoById(e)}onPointerOver(e){"mouse"===e.pointerType&&(this.currentlyActiveTokenId=this.props.tokenId(),this.controller.dispatch({type:"set-active-token",id:this.currentlyActiveTokenId,style:"hovered"}))}onPointerOut(e){"mouse"===e.pointerType&&this.currentlyActiveTokenId&&(this.controller.dispatch({type:"unset-active-token",id:this.currentlyActiveTokenId,style:"hovered"}),this.currentlyActiveTokenId=void 0)}onTapStart(e){e.handle()}onTap(e){e.handle(),this.controller.dispatch({type:"select-expression-that-defines-token",id:this.props.tokenId(),toggle:this.isTokenSelected(),multiSelectMode:this.controller.isMultiSelectEnabled()&&!!e.shiftKey})}isTokenSelected(){let e=this.controller.getTokenRenderInfoById(this.props.tokenId());return!(!e||!e.isSelected)}},{If:bK}=Do.Components,Dp=500,qe=class extends Do.Class{constructor(){super(...arguments),this.lastLatexProp="",this.wasFocusedLastUpdate=!1}init(){this.props.tokenController&&(this.tokenController=this.props.tokenController())}template(){return Do.createElement("div",{class:Do.const("dcg-mq-container")},Do.createElement(bK,{predicate:()=>this.getPlaceholder().trim().length>0},(()=>Do.createElement("span",{class:Do.const("dcg-mq-placeholder")},Do.createElement(ze,{config:()=>this.props.config(),latex:()=>this.getPlaceholder()})))),Do.createElement("div",{class:()=>({"dcg-math-field":!0,"dcg-no-fadeout":this.props.noFadeout&&this.props.noFadeout(),"dcg-invalid":this.props.hasError(),"dcg-focus":this.props.isFocused()}),didMount:e=>this.didMountMathquill(e),"data-dcg-label":()=>this.props.dataLabelAttributeValue?this.props.dataLabelAttributeValue():void 0}))}didMount(){1===this.children.length&&this.didMountMathquill(this.findRootNode())}willUnmount(){this.$mathField.off(".view"),this.mathField=void 0}getPlaceholder(){return!this.props.placeholder||this.props.isFocused()||this.props.latex()?"":this.props.placeholder()}didMountMathquill(e){let t=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props.config()),{handlers:{reflow:e=>{this.props.onReflow&&this.mathField&&this.props.onReflow(e)}},onCut:()=>{this.mathField&&this.props.onUserChangedLatex(this.mathField.latex())},onPaste:()=>{this.mathField&&this.props.onUserChangedLatex(this.mathField.latex())},overrideTypedText:e=>{this.mathField&&this.viewCanAcceptText(e)&&(this.props.onUserTypedText?this.props.onUserTypedText(e):(this.mathField.typedText(e),this.props.onUserChangedLatex(this.mathField.latex())))},overrideKeystroke:(e,t)=>{if("Backspace"===e&&t.preventDefault(),!this.mathField)return;if("Spacebar"===e&&this.props.disableSpace&&this.props.disableSpace())return t.preventDefault();let n=Le(t);if("Up"===n||"Down"===n||"Left"===n||"Right"===n||"Esc"===n){let r=[];t.ctrlKey&&r.push("Ctrl"),t.metaKey&&r.push("Meta"),t.altKey&&r.push("Alt"),t.shiftKey&&r.push("Shift"),r.length?(r.push(n),e=r.join("-")):e=n}this.props.onUserPressedKey?this.props.onUserPressedKey(e,t):(this.mathField.keystroke(e,t),this.props.onUserChangedLatex(this.mathField.latex()))}});this.props.needsSystemKeypad&&this.props.needsSystemKeypad()&&(t.substituteTextarea=()=>P('<textarea autocorrect="off" autocapitalize="none" spellcheck="false" autocomplete="off">')[0]),this.$mathField=P(e),this.mathField=Ca.MathField(e,t),e._mqMathFieldInstance=this.mathField,e._mqViewInstance=this,this.$mathField.on("focusin.view focusout.view",(e=>this.onFocusEvent(e))).on("paste.view",(e=>this.onPasteEvent(e))),!Qy&&(gu||Jy)&&this.$mathField.on("keypress.view",(e=>this.onKeypressEvent(e))),this.hookupMQTapTouch(),this.updateMathquill()}didUpdate(){this.updateMathquill()}updateMathquill(){this.updateMathquillAria(),this.updateMathquillLatex(),this.updateMathquillFocused(),this.updateMathquillPostLabel(),this.renderTokens()}onFocusEvent(e){let t=this.isFocused();t!==this.shouldBeFocused()&&this.props.onFocusedChanged(t,e)}onPasteEvent(e){let t="",n=window.clipboardData,r=e.originalEvent;n&&n.getData?t=n.getData("Text"):r&&r.clipboardData&&r.clipboardData.getData&&(t=r.clipboardData.getData("text/plain"));var i=this.viewCanAcceptText(t);return!i&&this.props.onExpressionSizeExceeded&&this.props.onExpressionSizeExceeded(),i}viewCanAcceptText(e){return qe.canAcceptText(this.mathField,this.props.capExpressionSize(),e)}renderTokens(){if(!this.$mathField)return;var e=this.tokenController;if(!e)return;var t=this.props.latex();if(!this.lastTokenInfo||this.lastTokenInfo.latex!==t)if(e.doesLatexContainToken(t)){let e=[];this.$mathField.find(".dcg-mq-token").each((function(t,n){e.push(n)})),this.lastTokenInfo={latex:t,tokens:e}}else this.lastTokenInfo={latex:t,tokens:[]};let n=this.lastTokenInfo.tokens;for(let t of n){var r=t.dcgTokenView;if(r)r.update();else{let n=t.getAttribute("data-dcg-mq-token")||"",r=Do.mountToNode(Oc,t,{controller:this.const(e),tokenId:this.const(n),insideMQ:this.const(!0),insideGroup:this.const(!1),putInTabOrder:this.const(!1)});t.dcgTokenView=r}}}static canAcceptText(e,t,n){if(!e)return!1;if(!t)return!0;return Ep(e.latex())+Ep(n)<=Dp}onKeypressEvent(e){if(e.stopPropagation(),e.preventDefault(),this.mathField){var t=e.key&&1===e.key.length?e.key:void 0;t&&this.viewCanAcceptText(t)&&(this.props.onUserTypedText?this.props.onUserTypedText(t):(this.mathField.typedText(t),this.props.onUserChangedLatex(this.mathField.latex())))}}hookupMQTapTouch(){this.$mathField.on("dcg-tap.view",(e=>{if("touch"!==e.device||e.wasHandled()||!this.mathField)return;let t,n=e.changedTouches[0];this.mathField.clickAt(n.clientX,n.clientY,n.target),this.isFocused()||this.mathField.focus(),setTimeout((function(){t=Date.now()}),0),this.mathField.ignoreNextMousedown((function(){return void 0===t||Date.now()-t<500}))}))}updateMathquillAria(){if(!this.mathField)return;let e=this.props.getAriaLabel();e!==this.mathField.getAriaLabel()&&this.mathField.setAriaLabel(e)}updateMathquillPostLabel(){this.mathField&&this.mathField.setAriaPostLabel(this.props.getAriaPostLabel(),this.props.hasError()?5e3:1e3)}updateMathquillLatex(){let e=this.props.latex();this.mathField&&this.lastLatexProp!==e&&(this.props.capExpressionSize()&&Ep(e)>Dp||(this.lastLatexProp=e,this.mathField.latex()!==e&&this.mathField.latex(e)))}updateMathquillFocused(){if(!this.mathField)return;let e=this.isFocused(),t=this.shouldBeFocused();t&&t!==this.wasFocusedLastUpdate&&this.props.selectOnFocus&&this.props.selectOnFocus()&&this.mathField.select(),this.wasFocusedLastUpdate=t,e!==t&&(t?this.mathField.focus():this.mathField.blur())}isFocused(){return!(!document.activeElement||!P(document.activeElement).closest(this.$mathField).length)}shouldBeFocused(){return this.props.isFocused()}static getFocusedMathquill(){if(!document.activeElement)return;let e=P(document.activeElement).closest(".dcg-mq-editable-field")[0];return e?e._mqMathFieldInstance:void 0}static getMQViewInstance(e){let t=e.el();if(t)return t._mqViewInstance}static applyArrowKeyAndReturnIfWasAtBounds(e,t,n){var r=e.selection();let i=0===r.startIndex&&r.endIndex===r.latex.length;if(("Up"===t||"Down"===t)&&i)return e.keystroke(t,n),!0;e.keystroke(t,n);var o=e.selection();return!(o.latex!==r.latex||o.startIndex!==r.startIndex||o.endIndex!==r.endIndex)}static simulateKeypress(e,t){var n=qe.getMQViewInstance(e);n&&(n.props.onUserPressedKey?n.props.onUserPressedKey(t):(e.keystroke(t),n.props.onUserChangedLatex(e.latex())))}static simulateUserChangedLatex(e){var t=qe.getMQViewInstance(e);t&&t.mathField&&t.props.onUserChangedLatex(t.mathField.latex())}static handleKeystrokeAndDecideIfSpecialEvent(e,t,n){return"Enter"===t||"Delete"===t&&""===e.latex()||"Backspace"===t&&""===e.latex()||("Up"===t||"Down"===t||"Left"===t||"Right"===t?qe.applyArrowKeyAndReturnIfWasAtBounds(e,t,n):(e.keystroke(t,n),!1))}},{Input:xK}=Lr.Components,{For:LL,Switch:wK,IfElse:vK}=Lr.Components;function CK(e,t){return t?t.getPOIById(e):null}function SK(e,t){return{xscale:1e3*(t.pixelsToMath.mapX(t.mathToPixels.mapX(e.x)+.5)-t.pixelsToMath.mapX(t.mathToPixels.mapX(e.x)-.5)),yscale:1e3*(t.pixelsToMath.mapY(t.mathToPixels.mapY(e.y)+.5)-t.pixelsToMath.mapY(t.mathToPixels.mapY(e.y)-.5))}}function EK(e,t){var n,r=!1;let i="",o="";if("poi"===e.type){let d=e.poi,{xscale:p,yscale:u}=SK(d,t);n=d.getLabel();let h,g=d.getGraphMode();var a=1007===d.type&&d.getCompiledFunction();if(a){var s=1===g,l=s?d.y:d.x;if(h=__dcg_shared_module_exports__.Oa(l,p,u,a),s){var c=h[0];h[0]=h[1],h[1]=c}}else h=[__dcg_shared_module_exports__.Na(d.x,p),__dcg_shared_module_exports__.Na(d.y,u)];r=!isFinite(h[1].value),i=h[0].superscript?h[0].mantissa+"^{"+h[0].superscript+"}":h[0].string,o=h[1].superscript?h[1].mantissa+"^{"+h[1].superscript+"}":h[1].string,"undefined"===i&&(i="\\mathrm{undefined}"),"undefined"===o&&(o="\\mathrm{undefined}")}else n=e.text;var d=n&&__dcg_shared_module_exports__.Ic(n);return n?"latex"===d?{is_hole:r,type:"latex",text:n.substr(1,n.length-2)}:"text"===d?{is_hole:r,type:"text",text:n}:{is_hole:r,type:"mixed",text:n}:"poi"===e.type?e.poi.hasEditableLabel()?{is_hole:r,type:"text",text:""}:{is_hole:r,type:"latex",text:"\\left("+i+",\\space "+o+"\\right)"}:{is_hole:r,type:"text",text:"?"}}function PL(e,t,n){let r=e.s("graphing-calculator-label-poi-unknown"),i=t.getProjection();if(!i)return r;let o=i.viewport;return o&&n&&(r=Cd(e,n.x,n.y,o)),r}var kp=class extends Lr.Class{constructor(){super(...arguments),this.labelsDirty=!1}init(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.cachedLabelDict={},this.cachedLabelOrder=[],this.hoveredPOI=void 0,this.openedPOI2Sketch={},this.takingScreenshot=!1}template(){return Lr.createElement(LL,{each:()=>this.cachedLabelOrder},Lr.createElement("div",{class:Lr.const("dcg-graph-outer"),style:this.const({"z-index":0}),didMount:this.bindFn(this.didMountRoot)},(e=>Lr.createElement("div",{class:()=>this.getLabelClasses(e),style:()=>this.getLabelStyles(e),didMount:t=>this.linkLabelContainerNode(e,t)},Lr.createElement("div",{class:Lr.const("dcg-pt"),style:()=>this.getDotStyles(e)}),Lr.createElement("div",{class:Lr.const("dcg-label"),didMount:t=>this.linkLabelDOMNode(e,t)},this.renderLabelContent(e))))))}renderLabelContent(e){return Lr.createElement(wK,{key:()=>this.getLabelContent(e).type},(t=>"text"===t?Lr.createElement("span",{class:Lr.const("dcg-label-raw-text")},(()=>this.getLabelContent(e).text)):"latex"===t?Lr.createElement(ze,{latex:()=>this.getLabelContent(e).text,config:this.bindFn(this.getMQConfig)}):"mixed"===t?Lr.createElement(LL,{each:()=>__dcg_shared_module_exports__.Jc(this.getLabelContent(e).text),key:(e,t)=>`${e}${t}`},Lr.createElement("span",null,(e=>vK((()=>"latex"===__dcg_shared_module_exports__.Ic(e)),{true:()=>Lr.createElement(ze,{latex:()=>e.substr(1,e.length-2),config:this.bindFn(this.getMQConfig)}),false:()=>Lr.createElement("span",{class:Lr.const("dcg-label-raw-text")},(()=>e))})))):"MATH"===t?Lr.createElement("div",{class:()=>({"dcg-editable-label-border":!0,"dcg-do-not-blur":!0,"dcg-focus":this.shouldEditableLabelBeFocused(e),"dcg-empty-label":0===this.getEditableLabelText(e).trim().length}),style:()=>({"border-color":__dcg_shared_module_exports__.ec(this.getEditableLabelTextColor(e),.3)})},Lr.createElement(qe,{latex:()=>this.getEditableLabelText(e),placeholder:()=>"",isFocused:()=>this.shouldEditableLabelBeFocused(e),capExpressionSize:()=>!!this.controller.getGraphSettings().config.capExpressionSize,selectOnFocus:Lr.const(!1),config:this.bindFn(this.getMQConfig),getAriaLabel:()=>this.controller.s("graphing-calculator-narration-editable-point-label-at-coordinates",{coordinates:PL(this.controller,this.grapher,this.cachedLabelDict[e])}),getAriaPostLabel:this.const(""),onUserChangedLatex:t=>this.onLabelInput(t,e),onExpressionSizeExceeded:()=>this.controller.dispatch({type:"expression-size-exceeded"}),onFocusedChanged:t=>this.onEditableLabelFocusChange(t,e),hasError:this.const(!1),noFadeout:this.const(!0),needsSystemKeypad:()=>!this.controller.isKeypadEnabled()})):Lr.createElement("div",{class:()=>({"dcg-resizing-text-input-container":!0,"dcg-editable-label-border":!0,"dcg-focus":this.shouldEditableLabelBeFocused(e),"dcg-empty-label":0===this.getEditableLabelText(e).trim().length}),style:()=>({"border-color":__dcg_shared_module_exports__.ec(this.getEditableLabelTextColor(e),.3)}),onScroll:e=>{e.target&&(e.target.scrollLeft=0)}},Lr.createElement(xK,{"aria-label":()=>this.controller.s("graphing-calculator-narration-editable-point-label-at-coordinates",{coordinates:PL(this.controller,this.grapher,this.cachedLabelDict[e])}),onInput:t=>this.onLabelInput(t,e),value:()=>this.getEditableLabelText(e),onFocus:()=>this.onEditableLabelFocusChange(!0,e),onBlur:()=>this.onEditableLabelFocusChange(!1,e)}),Lr.createElement("span",{class:Lr.const("dcg-text-input-content")},(()=>this.getEditableLabelText(e)||" ")))))}getSketchIdFromLabelId(e){var t=this.cachedLabelDict[e];if(t)return t.sketchId}getEditableLabelTextColor(e){let t=this.getSketchIdFromLabelId(e);if(!t)return"#000";let n=this.controller.getItemModel(t);return n&&"expression"===n.type?rs(n):"#000"}onEditableLabelFocusChange(e,t){let n=this.getSketchIdFromLabelId(t);n&&(e?this.controller.dispatch({type:"set-focus-location",location:{type:"editable-label",id:n}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"editable-label",id:n}}),this.update())}shouldEditableLabelBeFocused(e){let t=this.getSketchIdFromLabelId(e),n=this.controller.getFocusLocation();return!(!n||"editable-label"!==n.type||!t||n.id!==t)}onLabelInput(e,t){let n=this.getSketchIdFromLabelId(t);if(!n)return;let r=this.controller.getItemModel(n);if(!r||"expression"!==r.type)return;let i=e;"MATH"===this.controller.getItemEditableLabelMode(n)&&i.length>0&&(i="`"+i+"`"),this.controller.dispatch({type:"set-item-label",id:n,label:i})}getEditableLabelText(e){let t=this.getSketchIdFromLabelId(e);if(!t)return"";let n=this.controller.getItemModel(t);return n&&"expression"===n.type?"MATH"===this.controller.getItemEditableLabelMode(t)?n.label.substr(1,n.label.length-2):n.label:""}linkLabelDOMNode(e,t){var n=this.cachedLabelDict[e];n&&(n.labelDOM=t)}linkLabelContainerNode(e,t){var n=this.cachedLabelDict[e];n&&(n.containerDOM=t)}getLabelClasses(e){var t=this.cachedLabelDict[e];return t?t.classes:{}}getLabelStyles(e){var t=this.cachedLabelDict[e];return t?t.styles:{}}getDotStyles(e){var t=this.cachedLabelDict[e];return t?t.dotStyles:{}}getLabelContent(e){var t=this.cachedLabelDict[e];if(t){let n=this.getSketchIdFromLabelId(e);if(!n)return{is_hole:!1,type:"text",text:""};let r=this.controller.getItemEditableLabelMode(n);return t.classes["dcg-editable-label"]&&void 0!==r&&"NONE"!==r?{is_hole:!1,type:r,text:""}:t.content}return{is_hole:!1,type:"text",text:""}}didMountRoot(e){this.node=e}computeHoveredLabel(e,t){var n;this.hoveredPOI?this.isOpenPOI(this.hoveredPOI)?this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-opened-poi"):(n=this.computeLabel({poi:this.hoveredPOI,type:"poi"},e,t,"hovered"),this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-closed-poi")):this.grapher.setLayerClass("hoveredPOI",void 0);var r=this.getHoveredInteractiveLabel();r&&!r.bareLabel?this.grapher.setLayerClass("interactiveLabel","dcg-mouse-over-opened-poi"):this.grapher.setLayerClass("interactiveLabel",void 0),n&&this.saveLabelToCache(n)}computeTraceLabel(e,t){if(this.traceInfo){var n=this.traceInfo.pt;if(n){var r=new Kl(n.x,n.y,1007,this.traceInfo.branchInfo.sketch,this.traceInfo.branchInfo.branch,0),i=this.computeLabel({poi:r,type:"poi"},e,t,"trace");i&&this.saveLabelToCache(i)}}}computeLabel(e,t,n,r){var i="poi"===e.type?e.poi.id+"":e.id;"trace"===r&&(i="*trace*");var o=e.poi,a=t.mapx(o.x),s=t.mapy(o.y),l=a,c=s;if("poi"!==e.type&&(a=0,s=0),t.coordsAreOnscreen(a,s,20)){if(this.isHiddenInteractiveLabel(o))return;var d=!1,p=void 0,u=o.sketch,h=u&&u.branches[0];h&&(d=!(!("nakedLabel"in h)||!h.nakedLabel),p="labelOrientation"in h?h.labelOrientation:void 0);var g=u.id,m=this.controller.getItemModel(g);if(o.hasEditableLabel()&&m&&"expression"===m.type&&!So(m))return;var f=EK(e,t),y=o.pointIdxOnBranch,b=o.getLabelSize();Array.isArray(b)&&(b=b[y]);var x=o.getLabelRotation();Array.isArray(x)&&(x=x[y]);var _=o.getPointOpacity()*this.controller.getGeoModel().getToolFadeOpacity(g),v=!!o.getTextOutline(),w=o.isPersistent(),A=o.isAttachedToPlottedPoint(),k=o.hasInteractiveLabel(),E=o.hasEditableLabel()&&!this.takingScreenshot,I=!(!m||"expression"!==m.type||!Xs(m)),M=u.color;if(I)if(this.grapher.clickableObjectsLayer.shouldDrawPressed(g,o.pointIdxOnBranch))(S=__dcg_shared_module_exports__.db(M)).l>.2?S.l-=.2:S.l+=.1,M=S.toString();else if(this.grapher.clickableObjectsLayer.shouldDrawHovered(g,o.pointIdxOnBranch)){var S;(S=__dcg_shared_module_exports__.db(M)).l>.2?S.l-=.1:S.l+=.2,M=S.toString()}var C=!w,T=!!A;k&&(T=!0,C=!0),"trace"===r&&(T=!1,C=!0);var D=n[i],P=D&&D.labelDOM,O=D&&D.containerDOM,B=D&&D.width,L=D&&D.height,F=D&&D.orientation,N={"dcg-poi-label":!0,"dcg-tracept":"trace"===r,"dcg-opened":"opened"===r,"dcg-hole":f.is_hole,"dcg-show-border":C,"dcg-hide-dot":T,"dcg-editable-label":E,"dcg-has-outline":v,"dcg-underlined-label":!!(I&&m&&"expression"===m.type&&m.hidden)};isFinite(b)||(b=1);var R={left:a+"px",top:s+"px","font-size":Math.round(1100*b)/10+"%"};x&&!this.takingScreenshot&&(R.transform=`rotate(${x}rad)`),w&&M&&(R.color=M),R.opacity=`${Math.min(.99,_)}`;var q={};return"trace"===r&&(q["background-color"]=M,q["border-color"]=M),{id:i,sketchId:g,poi:o,x:o.x,y:o.y,screenX:a,screenY:s,top:c,left:l,width:B,height:L,labelDOM:P,containerDOM:O,forcedOrientation:p,isNakedLabel:d,isClickable:I,orientation:F,rotation:x,classes:N,styles:R,dotStyles:q,content:f,hasBorder:o.hasEditableLabel(),opacity:_,hasOutline:v||o.hasEditableLabel(),objectSpec:"poi"!==e.type?"angle"===e.type?{type:e.type,segments:[t.mapx(e.segments[0]),t.mapy(e.segments[1]),e.segments[2],e.segments[3]]}:{type:e.type,segments:t.map_xy_pairs(e.segments)}:void 0}}}computeAllLabels(e,t){var n,r,i=this.grapher.graphSketches;this.grapher.getSketchOrder().forEach((n=>{var r=i[n];if(r){var o=r.labels;if(o.length)for(var a=0;a<o.length;a++){let n=o[a],i=this.computeLabel(n,e,t,"opened");i&&(Array.isArray(r.color)&&(i.styles.color=r.color[a]),this.saveLabelToCache(i))}}}));var o={};for(n in this.openedPOI2Sketch){var a=CK(n,i[this.openedPOI2Sketch[n]]);a&&(o[n]=a.sketch.id,(r=this.computeLabel({poi:a,type:"poi"},e,t,"opened"))&&this.saveLabelToCache(r))}return this.openedPOI2Sketch=o,{}}saveLabelToCache(e){var t=e.id;this.cachedLabelDict[t]||this.cachedLabelOrder.push(t),this.cachedLabelDict[t]=e}markLabelsDirty(){this.labelsDirty=!0}getInteractiveLabelUnderPoint(e){let t;for(var n=this.cachedLabelOrder.length-1;n>=0;n--){let r=this.cachedLabelOrder[n],i=this.cachedLabelDict[r];if(!i||!i.width||!i.height)continue;let o=i.screenX,a=i.screenY,{left:s,top:l,width:c,height:d}=i;if(c>0&&d>0&&e.x>o+s&&e.x<o+s+c&&e.y>a+l&&e.y<a+l+d){let e=this.getSketchIdFromLabelId(r);if(void 0===e)continue;let n=this.controller.getItemModel(e);if(!n||"expression"!==n.type)continue;if(Wu(n))return{type:"editable",model:n};!t&&EV(n)?t={type:"draggable",label:{model:n,x:i.x,y:i.y}}:!t&&i.isClickable&&(t={type:"clickable",model:n,poi:i.poi})}}return t}positionLabels(e,t,n,r,i){var o=!this.labelsDirty;this.labelsDirty=!1;var a=[];t.forEach((e=>{var t=n[e];if(!t||!t.labelDOM)return;let r,i=this.getSketchIdFromLabelId(e);if(void 0!==i){let e=this.grapher.getGraphSketch(i);e&&e.branches&&(r=e.branches[0].pointSize)}(void 0===r||"number"!=typeof r||r<0)&&(r=9);let s=(this.grapher.settings.config.projectorMode?14:10)*r/9;var l=t.screenX,c=t.screenY,d=t.labelDOM.clientWidth,p=t.labelDOM.clientHeight;if(!(d>0&&p>0))return;let u=0;this.takingScreenshot&&t.hasBorder&&(u=5),a.push({renderedLabel:t,pt_x:l,pt_y:c,pt_radius:s+u,rotation:t.rotation,nakedLabel:t.isNakedLabel,width:d,height:p,keepOrientation:o,priorOrientation:t.orientation,enforceOrientation:t.forcedOrientation})}));var s=ML(e,r,i);kL(a.map((function(e){if(!e.renderedLabel.objectSpec)return TL(s,e);if("segment"===e.renderedLabel.objectSpec.type)return GL(s,{pt_x1:e.renderedLabel.objectSpec.segments[0],pt_y1:e.renderedLabel.objectSpec.segments[1],pt_x2:e.renderedLabel.objectSpec.segments[2],pt_y2:e.renderedLabel.objectSpec.segments[3],pt_radius:10,width:e.width,height:e.height,keepOrientation:e.keepOrientation,priorOrientation:e.priorOrientation||""});if("polygon"===e.renderedLabel.objectSpec.type)return VL(s,{path:e.renderedLabel.objectSpec.segments,pt_radius:10,width:e.width,height:e.height,keepOrientation:e.keepOrientation,priorOrientation:e.priorOrientation||""});if("angle"===e.renderedLabel.objectSpec.type){let t=e.renderedLabel.objectSpec.segments;return AL(s,{pt_x:t[0],pt_y:t[1],startAngle:t[2],deltaAngle:t[3],isRightAngle:!1,radius:20,pt_radius:10,width:e.width,height:e.height,keepOrientation:e.keepOrientation,priorOrientation:e.priorOrientation||""})}return[]}))).forEach((function(e,t){var n=a[t].renderedLabel;n.orientation=e.orientation;let r=e.left-e.pt_x,i=e.top-e.pt_y;n.left=r,n.top=i,n.width=e.width,n.height=e.height;var o=n.labelDOM;if(o){o.style.transform=e.transform,P(o).data("orientation",e.orientation);var s=n.containerDOM;s&&(s.style.left=e.pt_x+"px",s.style.top=e.pt_y+"px"),setTimeout((()=>o.classList.add("dcg-enable-transition")),1)}}))}copyToCtx(e){Wn(e,"labels");var t=this.node.getBoundingClientRect();this.cachedLabelOrder.forEach((n=>{var r=this.cachedLabelDict[n];if(!r)return;var i=r.labelDOM;if(!i)return;let o={pointCenterX:r.screenX-t.left,pointCenterY:r.screenY-t.top,hasOutline:!!r.hasOutline,hasBorder:!!r.hasBorder};var a=this.computeRotatedCenter(o.pointCenterX,o.pointCenterY,r.rotation);let s=vx(i,o);e.save(),e.globalAlpha=r.opacity,e.rotate(r.rotation),e.translate(a.x,a.y),Cx(s,e),e.restore()})),jn(e)}computeRotatedCenter(e,t,n){var r=Math.cos(-n),i=Math.sin(-n);return{x:e*r-t*i,y:t*r+e*i}}drawForScreenshot(e,t,n,r,i){this.takingScreenshot=!0,this.redraw(e,t,r,i),this.takingScreenshot=!1,this.copyToCtx(n)}redraw(e,t,n,r){var i=this.cachedLabelDict;this.cachedLabelDict={},this.cachedLabelOrder=[],this.computeAllLabels(e,i),this.computeHoveredLabel(e,i),this.computeTraceLabel(e,i),this.update(),this.positionLabels(t,this.cachedLabelOrder,this.cachedLabelDict,n,r)}clearOpenedPOI(){this.openedPOI2Sketch={}}closePOI(e){delete this.openedPOI2Sketch[e.id]}openPOI(e){this.openedPOI2Sketch[e.id]=e.sketch.id}isOpenPOI(e){return this.openedPOI2Sketch.hasOwnProperty(e.id)}isOpenInteractiveLabel(e){return!!this.isOpenPOI(e)&&e.hasInteractiveLabel()}isHiddenInteractiveLabel(e){return!(!e||!e.hasInteractiveLabel())&&(!this.isOpenPOI(e)&&this.getHoveredPOI()!==e)}setHoveredPOI(e){this.hoveredPOI=e}getHoveredPOI(){return this.hoveredPOI}getHoveredInteractiveLabel(){var e=this.getHoveredPOI();if(e&&e.hasInteractiveLabel())return e}setTraceInfo(e){this.traceInfo=e}isTracing(){return!!this.traceInfo}getTraceInfo(){return this.traceInfo}getMQConfig(){return this.controller.getMathquillConfig({})}};at();var Pa=__dcg_shared_module_exports__.i(ne()),{For:DK}=Pa.Components,ff=class extends Pa.Class{init(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.renderedTabTargetOrder=[],this.renderedTabTargets={}}template(){return Pa.createElement(DK,{each:()=>this.renderedTabTargetOrder},Pa.createElement("div",{class:Pa.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:this.bindFn(this.handleFocusChange),onFocusout:this.bindFn(this.handleFocusChange),onKeydown:this.bindFn(this.handleKeydown),didMount:e=>this.rootNode=e},(e=>Pa.createElement("div",{class:Pa.const("dcg-tabbable-draggableimage"),style:()=>this.getStyle(e),role:Pa.const("button"),"aria-roledescription":()=>this.controller.s("graphing-calculator-narration-draggable-image-description"),"dcg-draggableimage-id":this.const(e),tabindex:()=>this.getTabIndex(),"aria-hidden":this.bindFn(this.getAriaHidden),"aria-label":()=>this.getAriaLabel(e)}))))}redrawToCtx(e,t,n,r){this.renderedTabTargets={},this.renderedTabTargetOrder=[],Wn(e,"background-images"),(void 0===r||r.length<__dcg_shared_module_exports__.wa(n))&&(r=__dcg_shared_module_exports__.Ba(n));for(let o of r){let r=n[o];r&&r.shouldGraph&&!r.foreground&&zx(r,e,t);var i=this.controller.getItemModel(o);if(i&&"image"===i.type&&i.shouldGraph&&Ws(i)){let e=i.formula.dimensions;if(!(e&&e.x&&e.y&&e.width&&e.height&&e.radianAngle))continue;for(let n=0;n<e.x.length;n++)if(isFinite(e.x[n])&&isFinite(e.y[n])&&isFinite(e.width[n])&&isFinite(e.height[n])&&isFinite(e.radianAngle[n])){this.renderedTabTargetOrder.push(o),this.renderedTabTargets[o]={id:o,description:this.getComputedDescription(i,n),x:e.x[n],y:e.y[n],radianAngle:e.radianAngle[n],width:e.width[n],height:e.height[n],widthScale:Math.abs(t.mapx(1)-t.mapx(0)),heightScale:Math.abs(t.mapy(1)-t.mapy(0)),screenX:t.mapx(e.x[n]),screenY:t.mapy(e.y[n]),centerId:i.formula.center_reference_id};break}}}jn(e),this.update(),this.speakAriaAlert()}getStyle(e){var t=this.renderedTabTargets[e];if(!t)return;let{screenX:n,screenY:r,radianAngle:i,width:o,height:a,widthScale:s,heightScale:l}=t,c=l/s,d=o*s,p=a*l/c;return{position:"absolute",top:0,left:0,transform:`translate(${n-d/2}px, ${r-p/2}px)`+(1===c?"":` scale(1,${c})`)+(i?` rotate(${i}rad)`:""),width:d+"px",height:p+"px"}}getTabIndex(){if("selection"!==this.controller.getActiveTool())return-1;var e=this.grapher.settings;return e.config.graphpaper&&e.config.enableTabindex?0:-1}getAriaHidden(){return!this.grapher.settings.config.graphpaper}getComputedDescription(e,t){let n=e.formula&&e.formula.computed_description&&e.formula.computed_description[t];return n&&""!==n?uo(n):this.grapher.getAudioTrace().getExpressionAriaLabel(e.id)}getAriaLabel(e){var t=this.getAriaAlert({id:e,includeUsageInstructions:!1});return t&&t.completeMessage}speakAriaAlert(){let e=this.focusedId;if(!e||this.renderedTabTargets[e]){var t=this.getAriaAlert({id:e,lastAriaAlert:this.lastAriaAlert,includeUsageInstructions:!0});this.lastAriaAlert=t,t&&t.completeMessage&&ge(t.completeMessage)}}getAriaAlert(e){let{id:t,lastAriaAlert:n,includeUsageInstructions:r}=e;if(t){var i=this.controller.getItemModel(t);if(i&&"image"===i.type){var o=this.renderedTabTargets[t];if(o){n&&n.id!==t&&(n=void 0);var a=n&&n.label,s=o.description,l=a!==s,c=n&&n.coordX,d=n&&n.coordY,p=o.x,u=o.y,h=p!==c||u!==d,g=this.grapher.getProjection(),m=Cd(this.controller,p,u,g.viewport),f=s,y=r?this.controller.s("graphing-calculator-narration-movable-point-suffix-usage-instructions"):"",b=this.isImageFullyVisible(i,g)?"":this.controller.s("graphing-calculator-narration-draggable-image-off-screen-prompt");return{id:t,coordX:p,coordY:u,label:s,completeMessage:n?l?f+b:h?m+b:"":f+". "+m+y+b}}}}}handleFocusChange(){let e;document.activeElement&&P.contains(this.rootNode,document.activeElement)&&(e=P(document.activeElement).attr("dcg-draggableimage-id"));this.focusedId!==e&&(this.focusedId=e,this.lastAriaAlert=void 0,this.requestRedrawNextFrame())}requestRedrawNextFrame(){this.grapher.redrawAllLayers()}handleKeydown(e){if(!this.focusedId)return;let t=this.renderedTabTargets[this.focusedId];if(!t)return;let n=Le(e),r=Ei(e);"Up"===n||"Down"===n||"Left"===n||"Right"===n?(e.stopPropagation(),e.preventDefault(),this.moveImageFromKeyboard(t,e)):("X"===r||"Y"===r||"L"===r)&&this.speakImageAttribute(t,r)}moveImageFromKeyboard(e,t){if(void 0!==e&&void 0!==e.centerId){var n,r,i=this.grapher.getProjection(),o=i.map_pt({x:e.x,y:e.y}),a=0,s=0,l=Le(t),c=(i.pixelCoordinates.right-i.pixelCoordinates.left)/40,d=(i.pixelCoordinates.bottom-i.pixelCoordinates.top)/40,p="Up"===l||"Down"===l?d:c;if(p=t.shiftKey?5*p:p,"Up"===l?(r="y",s-=p,n=t.shiftKey?"bigup":"up"):"Down"===l?(r="y",s+=p,n=t.shiftKey?"bigdown":"down"):"Left"===l?(r="x",a-=p,n=t.shiftKey?"bigdown":"down"):"Right"===l&&(r="x",a+=p,n=t.shiftKey?"bigup":"up"),n){var u,h={x:o.x+a,y:o.y+s};"x"===r||this.hasNonlinearMoveStrategy(e.centerId)?u={x:n}:"y"===r&&(u={y:n}),this.controller.dispatch({type:"on-move-points",points:[{sketch:{id:e.centerId}}],screenPts:[h],previousScreenPts:[o],projection:i,keyboardDirection:u})}}}speakImageAttribute(e,t){if(e&&this.grapher.getAudioTrace()){var n=this.grapher.getProjection();if(n){var r=n.viewport;switch(t){case"X":ge(on(this.controller,e.x,r));break;case"Y":ge(an(this.controller,e.y,r));break;case"L":ge(e.description)}}}}hasNonlinearMoveStrategy(e){if(!e)return!1;var t=this.controller.getItemModel(e);if(!t||"expression"!==t.type||!t.formula)return!1;var n=t.formula.move_strategy;return!(!n||!n[0])&&"updateSliderNonlinear"===n[0].type}isImageFullyVisible(e,t){let n=e.formula.dimensions;if(!n||!n.x||!n.y)return!1;for(var r=0;r<n.x.length;r++)if(!t.coordsAreOnscreen(t.mapx(n.x[r]),t.mapy(n.y[r])))return!1;return!0}},Oa=__dcg_shared_module_exports__.i(ne());at();var{For:kK}=Oa.Components;function IK(e,t){return void 0===t&&(t=0),`${e}i${t}`}var mf=class extends Oa.Class{constructor(){super(...arguments),this.hoveredObjects={}}init(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.renderedTabTargetOrder=[],this.renderedTabTargets={}}template(){return Oa.createElement(kK,{each:()=>this.renderedTabTargetOrder},Oa.createElement("div",{class:Oa.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:this.bindFn(this.handleFocusChange),onFocusout:this.bindFn(this.handleFocusChange),didMount:e=>this.rootNode=e},(e=>Oa.createElement("div",{class:Oa.const("dcg-tabbable-clickableobject"),role:Oa.const("button"),"aria-roledescription":()=>this.controller.s("graphing-calculator-narration-clickable-object-description"),"dcg-clickableobject-id":()=>this.getModelId(e),tabindex:()=>this.getTabIndex(e),"aria-hidden":this.bindFn(this.getAriaHidden),"aria-label":()=>this.getCachedDescription(e),onTap:()=>{this.controller.dispatch({type:"clickable-item-clicked",id:this.getModelId(e),listIndex:this.getListIndex(e)})}}))))}redraw(){this.renderedTabTargets={},this.renderedTabTargetOrder=[];let e=this.grapher.getSketchOrder();for(let t of e){let e=this.controller.getItemModel(t);if(!e)continue;let n=this.grapher.getGraphSketch(t),r=this.grapher.getGraphImage(t);if(n&&"expression"===e.type&&Xs(e))for(let t=0;t<n.branches.length;t++){let r=n.branches[t];if(!r.segments||0===r.segments.length)continue;let i=0;3===r.graphMode||4===r.graphMode?n.getBranchPOI(t).forEach((t=>{i=t.pointIdxOnBranch||0,isFinite(t.x)&&isFinite(t.y)&&this.addClickableObjectToDom(e,i)})):(i="listIndex"in r&&void 0!==r.listIndex?r.listIndex:0,r.segments.length>0&&this.addClickableObjectToDom(e,i))}else if(r&&r.shouldGraph&&"image"===e.type&&Lb(e)){let t=e.formula&&e.formula.dimensions;if(!(t&&t.x&&t.y&&t.width&&t.height&&t.radianAngle))continue;for(let n=0;n<t.x.length;n++)isFinite(t.x[n])&&isFinite(t.y[n])&&isFinite(t.width[n])&&isFinite(t.height[n])&&isFinite(t.radianAngle[n])&&this.addClickableObjectToDom(e,n)}}Object.keys(this.hoveredObjects).length||this.pressedObject?this.grapher.setLayerClass("clickableObjects","dcg-mouse-over-clickable-object"):this.grapher.setLayerClass("clickableObjects",void 0),this.update()}addClickableObjectToDom(e,t){let n=IK(e.id,t);-1!==this.renderedTabTargetOrder.indexOf(n)||void 0!==this.renderedTabTargets[n]||(this.renderedTabTargetOrder.push(n),this.renderedTabTargets[n]={type:e.type,id:e.id,listIndex:t,description:this.getComputedDescription(e,t)})}getTabIndex(e){if("selection"!==this.controller.getActiveTool()||!this.renderedTabTargets[e])return-1;let t=this.grapher.settings;return t.config.graphpaper&&t.config.enableTabindex?0:-1}getAriaHidden(){return!this.grapher.settings.config.graphpaper}getCachedDescription(e){return this.renderedTabTargets[e].description}getComputedDescription(e,t){let n=e.formula&&e.formula.computed_description&&e.formula.computed_description[t];return n&&""!==n?uo(n):this.grapher.getAudioTrace().getExpressionAriaLabel(e.id)}getModelId(e){var t=this.renderedTabTargets[e];return t?t.id:""}getListIndex(e){var t=this.renderedTabTargets[e];return t?t.listIndex:0}shouldDrawHovered(e,t){if(!e)return!1;if(e===this.focusedId)return!0;if(this.isAnObjectPressed()&&!this.isObjectPressed(e))return!1;var n=this.getHoveredObjectById(e);return!!n&&(void 0===n.listIndexes||void 0===t||!!n.listIndexes[t])}setHoveredObjects(e){__dcg_shared_module_exports__.Ea(e,this.hoveredObjects)||(this.hoveredObjects=e,this.requestRedrawNextFrame())}getHoveredObjects(){return this.hoveredObjects}getHoveredObjectById(e){return this.hoveredObjects[e]}shouldDrawPressed(e,t){if(!e)return!1;let n=this.pressedObject;return!(!n||n.id!==e)&&(void 0===t||n.listIndex===t)}isObjectPressed(e){return void 0!==e&&!(!this.pressedObject||this.pressedObject.id!==e)}setPressedObject(e){!e&&!this.pressedObject||e&&this.pressedObject&&e.id===this.pressedObject.id&&e.listIndex===this.pressedObject.listIndex||(this.pressedObject=e,this.requestRedrawNextFrame())}getPressedObject(){return this.pressedObject}isAnObjectPressed(){return!!this.pressedObject}handleFocusChange(){var e=void 0;document.activeElement&&P.contains(this.rootNode,document.activeElement)&&(e=P(document.activeElement).attr("dcg-clickableobject-id"));this.focusedId!==e&&(this.focusedId=e,this.requestRedrawNextFrame())}requestRedrawNextFrame(){this.grapher.redrawAllLayers()}};Ns();var MK=Sn().reflectionArc;function kw(e){return e.valueType===__dcg_shared_module_exports__.q?e.value:e.valueType===__dcg_shared_module_exports__.u?e.value[0]:void 0}function TK(e){return e.valueType===__dcg_shared_module_exports__.G||e.valueType===__dcg_shared_module_exports__.I||e.valueType===__dcg_shared_module_exports__.A?{segment:e.valueType===__dcg_shared_module_exports__.A,value:e.value}:e.valueType===__dcg_shared_module_exports__.H||e.valueType===__dcg_shared_module_exports__.J||e.valueType===__dcg_shared_module_exports__.B?{segment:e.valueType===__dcg_shared_module_exports__.B,value:e.value[0]}:void 0}function OL(e){return e.valueType===__dcg_shared_module_exports__.p?e.value:e.valueType===__dcg_shared_module_exports__.s?e.value[0]:void 0}var Iw=class{constructor(e){this.controller=e}getTransformationPreviewInfoFromItem(e){var t;if("expression"===e.type)return null==(t=e.formula.geometry)?void 0:t.transformation_preview_info}getInprogressTransformation(){let e=this.controller.getAllToolPreviewItems();for(let t of e){let e=this.getTransformationPreviewInfoFromItem(t);if(e)return e}}getHoveredOrSelectedTransformations(){let e=[];this.controller.getAllSelectedItems().forEach((t=>{if("expression"!==t.type)return;let n=this.getTransformationPreviewInfoFromItem(t);n&&e.push(n)}));var t=this.controller.getHoveredToken();if(!t)return e;let n=this.controller.getGeoItemsByTokenLatex("\\token{"+t+"}");if(1!==n.length)return e;let r=n[0];if("expression"!==r.type)return e;let i=this.getTransformationPreviewInfoFromItem(r);return i&&e.push(i),e}drawTranslationPreview(e,t,n,r){let i=t.mapx(n[0]),o=t.mapy(n[1]),a=t.mapx(r[0]),s=t.mapy(r[1]);e.save(),e.beginPath(),e.strokeStyle="rgba(0,0,0,.2)",e.lineWidth=5,e.moveTo(i,o),e.lineTo(a,s),Zs(e,i,o,a,s,20),e.stroke(),e.restore()}drawReflectionPreview(e,t,n){let r=n.value,i=n.segment,[o,a,s,l]=Lg([r[0][0],r[0][1],r[1][0],r[1][1]],t,18).clipped,c=(o+s)/2,d=(a+l)/2;if(i){let[e,n,i,o]=Lg([r[0][0],r[0][1],r[1][0],r[1][1]],t,17).clipped;c=(e+i)/2,d=(n+o)/2}let p=40/__dcg_shared_module_exports__._(o-s,a-l),u=c+(l-a)*p,h=d-(s-o)*p,g=c-(l-a)*p,m=d+(s-o)*p;if(e.save(),e.beginPath(),e.strokeStyle="rgba(0,0,0,.2)",e.lineWidth=4,e.moveTo(o,a),e.lineTo(s,l),MK){let t=Math.atan2(h-d,u-c),n=40,r=28;e.moveTo(u,h),e.ellipse(c,d,n,r,t,0,Math.PI,!1);let i=.35,o=t+Math.PI/2+i,a=t+Math.PI/2-i;Zs(e,u+Math.cos(o),h+Math.sin(o),u,h,10),Zs(e,g+Math.cos(a),m+Math.sin(a),g,m,10)}else e.moveTo(u,h),e.lineTo(g,m),Zs(e,c,d,u,h,10),Zs(e,c,d,g,m,10);e.stroke(),e.restore()}drawDilationPreview(e,t,n,r){e.save(),e.beginPath(),e.strokeStyle="rgba(0,0,0,.2)",e.lineWidth=3;let i=r<.6||r>1.4&&r<2?6:10,o=t.pixelsToMath.mapX(25)-t.pixelsToMath.mapX(0);[[o,0],[0,o],[-o,0],[0,-o]].forEach((o=>{let a=[n[0]+o[0],n[1]+o[1]],s=__dcg_shared_module_exports__.Ib(__dcg_shared_module_exports__.Fb(n,r),a),[l,c]=t.map_xy_pairs(a),[d,p]=t.map_xy_pairs(s);e.moveTo(l,c),e.lineTo(d,p),Zs(e,l,c,d,p,i)})),e.stroke(),e.restore()}drawRotationPreview(e,t,n,r){e.save(),e.beginPath(),e.strokeStyle="rgba(0,0,0,.2)",e.lineWidth=2.5,r*=-1;let[i,o]=t.map_xy_pairs(n),a=i+40,s=o,l=i+40*Math.cos(r),c=o+40*Math.sin(r),d=r<=0;e.moveTo(a,s),e.arc(i,o,40,0,r,d),$E(e,l,c,0,r,10,40),e.stroke(),e.restore()}redrawToCtx(e,t){if(!this.controller.isGeometry())return;let n=this.getInprogressTransformation(),r=this.getHoveredOrSelectedTransformations();n&&r.push(n);for(let n=0;n<r.length;n++){let i=r[n],o=i.args;switch(i.type){case"translation":{let n=kw(o[0]),r=kw(o[1]);n&&r&&this.drawTranslationPreview(e,t,n,r)}break;case"reflection":{let n=TK(o[0]);n&&this.drawReflectionPreview(e,t,n)}break;case"dilation":{let n=kw(o[0]),r=OL(o[1]);n&&void 0!==r&&isFinite(r)&&1!==r&&this.drawDilationPreview(e,t,n,r)}break;case"rotation":{let n=kw(o[0]),r=OL(o[1]);n&&void 0!==r&&isFinite(r)&&0!==r&&(this.controller.isDegreeMode()&&(r*=Math.PI/180),this.drawRotationPreview(e,t,n,r))}}}}},Gw=class{redrawToCtx(e,t,n){Wn(e,"graphpaper");let r=t.settings.showGrid;if(t.settings.polarMode&&r){let r=K1(t);Wn(e,"grid"),this.drawPolarGrid(e,t,r),jn(e),Wn(e,"axis"),this.drawAxes(e,t,n);let i=this.drawPolarStepNumbers(e,t,r);this.drawLabels(e,t,i),jn(e)}else{let i=wd(t);r&&(Wn(e,"grid"),this.drawCartesianGrid(e,t,i),jn(e));let o=!r;Wn(e,"axis"),this.drawAxes(e,t,n);let a=this.drawCartesianStepNumbers(e,t,i,o);this.drawLabels(e,t,a),jn(e)}jn(e)}addTextShadow(e,t){e.strokeStyle=t.settings.getBackgroundColor(),e.lineWidth=3,e.miterLimit=2}drawPolarGrid(e,t,n){e.save();let r=t.settings.minorAxisOpacity,i=1-(1-t.settings.majorAxisOpacity)/(1-r),o=__dcg_shared_module_exports__.ga(t.mapx(0)),a=__dcg_shared_module_exports__.ga(t.mapy(0)),s=t.screen.height/(t.viewport.ymax-t.viewport.ymin),l=t.screen.width/(t.viewport.xmax-t.viewport.xmin),c=s/l,d=l/s,p=a/c,u=t.viewport.smallestR(),h=t.viewport.largestR(),g=n.minorStepR*Math.max(1,Math.floor(u/n.minorStepR)),m=n.majorStepR*Math.max(1,Math.floor(u/n.majorStepR));e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+r+")",Mp(g,h,n.minorStepR,(function(n){ei(e,"dcg-svg-minor-gridline"),e.beginPath(),Br(e),e.scale(1,c);let r=t.mapx(n)-o;e.moveTo(o+r,p),e.arc(o,p,r,0,2*Math.PI),e.scale(1,d),e.stroke()})),Mp(0,359,u>0?5:15,(function(n){if((0===n||180===n)&&t.settings.showXAxis||(90===n||270===n)&&t.settings.showYAxis)return;ei(e,"dcg-svg-minor-gridline"),e.beginPath(),Br(e),e.moveTo(o,a);let r=t.mapx(h*Math.cos(n*Math.PI/180)),i=t.mapy(h*Math.sin(n*Math.PI/180));e.lineTo(__dcg_shared_module_exports__.ga(r),__dcg_shared_module_exports__.ga(i)),e.stroke()})),e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+i+")",Mp(m,h,n.majorStepR,(function(n){ei(e,"dcg-svg-major-gridline"),e.beginPath(),Br(e),e.scale(1,c);let r=t.mapx(n)-o;e.moveTo(o+r,p),e.arc(o,p,r,0,2*Math.PI),e.scale(1,d),e.stroke()})),e.restore()}drawCartesianGrid(e,t,n){e.save();let{xmin:r,xmax:i,ymin:o,ymax:a}=t.viewport,s=t.screen.width,l=t.screen.height,c=l,d=0;t.settings.restrictGridToFirstQuadrant&&(r=0,o=0,c=t.mapy(0),d=t.mapx(0));let p=t.settings.minorAxisOpacity,u=t.settings.majorAxisOpacity;e.lineWidth=1,e.strokeStyle="rgba(0, 0 , 0, "+p+")";let h=n=>{if(0===n&&t.settings.showYAxis)return;let r=__dcg_shared_module_exports__.ga(t.mapx(n));r===__dcg_shared_module_exports__.ga(0)||r===__dcg_shared_module_exports__.ga(s)||(e.beginPath(),e.moveTo(r,0),e.lineTo(r,c),e.stroke())},g=n=>{if(0===n&&t.settings.showXAxis)return;let r=__dcg_shared_module_exports__.ga(t.mapy(n));r===__dcg_shared_module_exports__.ga(0)||r===__dcg_shared_module_exports__.ga(l)||(e.beginPath(),e.moveTo(d,r),e.lineTo(s,r),e.stroke())};ei(e,"dcg-svg-minor-gridline"),Ip({axis:"x",lineType:"minor",axisRangeMin:r,axisRangeMax:i,cartesianStepSizes:n,projection:t,callbackfn:h}),Ip({axis:"y",lineType:"minor",axisRangeMin:o,axisRangeMax:a,cartesianStepSizes:n,projection:t,callbackfn:g}),Br(e);let m=1-(1-u)/(1-p);e.strokeStyle="rgba(0, 0 , 0, "+m+")",ei(e,"dcg-svg-major-gridline"),Ip({axis:"x",lineType:"major",axisRangeMin:r,axisRangeMax:i,cartesianStepSizes:n,projection:t,callbackfn:h}),Ip({axis:"y",lineType:"major",axisRangeMin:o,axisRangeMax:a,cartesianStepSizes:n,projection:t,callbackfn:g}),Br(e),e.restore()}drawAxes(e,t,n){let r=t.settings.axisLineOffset,i=t.settings.axisOpacity.toString(),o="rgba(127,205,230,"+i+")",a="rgba(0,0,0,"+i+")",s=t.settings.xAxisArrowMode,l=t.settings.yAxisArrowMode,c=t.settings.showXAxis,d=t.settings.showYAxis,p=Math.round(t.mapx(0))-r,u=Math.round(t.mapy(0))-r,h=t.screen.height,g=t.screen.width;function m(t,n,r){e.save();let i=Math.PI/12,o=8*Math.max(e.lineWidth,1.5);e.lineJoin="round",e.fillStyle=a,e.strokeStyle=a,e.beginPath(),e.moveTo(t,n),e.lineTo(t+Math.cos(r-i)*o,n+Math.sin(r-i)*o),e.lineTo(t+Math.cos(r+i)*o,n+Math.sin(r+i)*o),e.lineTo(t,n),e.lineTo(t+Math.cos(r-i)*o,n+Math.sin(r-i)*o),e.stroke(),e.fill(),e.restore()}let f=h,y=0;t.settings.restrictGridToFirstQuadrant&&(f=u,y=p,"BOTH"===s&&(s="POSITIVE"),"BOTH"===l&&(l="POSITIVE")),d&&(Wn(e,"yaxis"),t.settings.takingScreenshot&&Kg(e,t.settings.yAxisLabel||"Y axis"),e.save(),ei(e,"dcg-svg-axis-line"),e.lineWidth=1*t.settings.axisLineWidth,e.strokeStyle="y"===n?o:a,"BOTH"===l?(e.beginPath(),e.moveTo(p,2*t.settings.axisLineWidth),e.lineTo(p,h-2*t.settings.axisLineWidth),e.stroke(),m(p,h-t.settings.axisLineWidth,3*Math.PI/2),m(p,t.settings.axisLineWidth,Math.PI/2)):"POSITIVE"===l?(e.beginPath(),e.moveTo(p,2*t.settings.axisLineWidth),e.lineTo(p,f),e.stroke(),m(p,t.settings.axisLineWidth,Math.PI/2)):(e.beginPath(),e.moveTo(p,0),e.lineTo(p,f),e.stroke()),Br(e),e.restore(),jn(e)),c&&(Wn(e,"xaxis"),t.settings.takingScreenshot&&Kg(e,t.settings.xAxisLabel||"X axis"),e.save(),ei(e,"dcg-svg-axis-line"),e.lineWidth=1*t.settings.axisLineWidth,e.strokeStyle="x"===n?o:a,"BOTH"===s?(e.beginPath(),e.moveTo(2*t.settings.axisLineWidth,u),e.lineTo(g-2*t.settings.axisLineWidth,u),e.stroke(),m(t.settings.axisLineWidth,u,0),m(g-t.settings.axisLineWidth,u,Math.PI)):"POSITIVE"===s?(e.beginPath(),e.lineTo(y,u),e.lineTo(g-2*t.settings.axisLineWidth,u),e.stroke(),m(g-t.settings.axisLineWidth,u,Math.PI)):(e.beginPath(),e.lineTo(y,u),e.lineTo(g,u),e.stroke()),Br(e),e.restore(),jn(e))}drawPolarStepNumbers(e,t,n){e.save();let r=t.settings.showGrid,i=t.settings.xAxisNumbers&&t.settings.showXAxis,o=t.settings.yAxisNumbers&&t.settings.showYAxis,a=r&&t.settings.polarNumbers,s=t.viewport.largestR(),l=t.viewport.smallestR(),c=t.viewport.xmin,d=t.viewport.xmax,p=t.viewport.ymin,u=t.viewport.ymax,h=t.screen.width,g=t.screen.height,m={left:3,right:h-3,top:3,bottom:g-3},f=t.settings.labelHangingColor,y=t.settings.getTextColor(),b=t.settings.labelSize,x=b;function _(e,n,r){let i=Math.sqrt(e*e-n*n);p<=i&&i<=u&&r.push({x:t.mapx(n),y:t.mapy(i)}),p<=-i&&-i<=u&&r.push({x:t.mapx(n),y:t.mapy(-i)})}function v(e,n,r){let i=Math.sqrt(e*e-n*n);c<=i&&i<=d&&r.push({x:t.mapx(i),y:t.mapy(n)}),c<=-i&&-i<=d&&r.push({x:t.mapx(-i),y:t.mapy(n)})}this.addTextShadow(e,t),e.fillStyle=y;let w=t.mapx(0),A=t.mapy(0),k=p<=0&&0<=u&&i,E=c<=0&&0<=d&&o,I="";if(!k&&!E&&r){let e,t,n,r,a=Math.abs(w),s=Math.abs(w-h),l=Math.abs(A),c=Math.abs(A-g);a<=s?(e="left",n=a):(e="right",n=s),l<=c?(t="top",r=l):(t="bottom",r=c),i&&o?I=n<=r?e:t:o?I=e:i&&(I=t)}let M={left:0,right:h,top:A-1,bottom:A+1},S={left:w-1,right:w+1,top:0,bottom:g};if(Mp(0,s,n.majorStepR,(function(n){let r=[],a=[],l=[],h=new Tn(__dcg_shared_module_exports__.Na(n,s),b),g=h.getRect();switch(n>0?(E&&p<=n&&n<=u&&a.push({x:w-g.right-5,y:t.mapy(n)}),E&&p<=-n&&-n<=u&&a.push({x:w-g.right-5,y:t.mapy(-n)}),k&&c<=n&&n<=d&&r.push({x:t.mapx(n),y:A-g.top+3}),k&&c<=-n&&-n<=d&&r.push({x:t.mapx(-n),y:A-g.top+3})):E&&!i&&p<=n&&n<=u?a.push({x:w-g.right-5,y:t.mapy(n)}):k&&!o&&c<=n&&n<=d&&r.push({x:t.mapx(n),y:A-g.top+3}),I){case"top":v(n,u,l);break;case"bottom":v(n,p,l);break;case"left":_(n,c,l);break;case"right":_(n,d,l)}r.forEach((function(t){t=h.clampBoundsWithinRect(t,m),h.drawCenteredAt(e,t,"dcg-svg-axis-value"),Mw(M,h.getRectWhenCenteredAt(t))})),a.forEach((function(t){t=h.clampBoundsWithinRect(t,m),h.drawCenteredAt(e,t,"dcg-svg-axis-value"),Mw(S,h.getRectWhenCenteredAt(t))})),l.forEach((function(t){t=h.clampBoundsWithinRect(t,m),h.drawCenteredAt(e,t,"dcg-svg-axis-value")}))})),a){let r=Math.ceil(l/n.majorStepR),i=Math.floor(s/n.majorStepR),o=Math.ceil((r+i)/2)*n.majorStepR;Mp(0,359,l>0?15:30,(function(n){let r;r=t.settings.degreeMode?n.toString()+"°":__dcg_shared_module_exports__.Na(n*Math.PI/180,2*Math.PI).string;let i=e.measureText(r).width/2,a=o/1.05,s=a*Math.cos(n*Math.PI/180),l=a*Math.sin(n*Math.PI/180);if(s<c||s>d||l<p||l>u)return;let m=t.mapx(s),y=t.mapy(l);0===n||180===n?y-=x:(90===n||270===n)&&(m+=i+3);let _=_L(m,3+i,h-3-i),v=_L(y,3+x,g-3-x);v=Tn.computeBaselineFromCenter(v,b),ei(e,"dcg-svg-polar-axis-value"),e.save(),Br(e),e.fillStyle=f,Tn.setCtxFontSize(e,b),e.strokeText(r,_,v),e.fillText(r,_,v),e.restore()}))}return e.restore(),{x:M,y:S}}drawLabels(e,t,n){let r=t.viewport.xmin,i=t.viewport.xmax,o=t.viewport.ymin,a=t.viewport.ymax,s=t.screen.width,l=t.screen.height,c=(i-r)/s,d=(a-o)/l,p=t.settings.getTextColor(),u=t.mapx(0),h=t.mapy(0),g=t.settings.labelSize,m=t.settings.showXAxis&&t.settings.xAxisLabel,f=t.settings.showYAxis&&t.settings.yAxisLabel,y=n.x,b=n.y;if(m&&y){let n;if(ei(e,"dcg-svg-axis-label"),e.save(),Br(e),e.fillStyle=p,e.__xLabelOffset&&t.settings.isViewportTransient&&Tw(e.__xLabelOffset.xscale,c)&&Tw(e.__xLabelOffset.yscale,d)&&(n={x:e.__xLabelOffset.x+u,y:e.__xLabelOffset.y+h}),this._setAxisLabelFont(e,m,g,t),!n){let t=s-e.measureText(m).width-15,r=g;n=y.bottom+r<l?{x:t,y:y.bottom+r}:{x:t,y:y.top-r/2},e.__xLabelOffset={x:n.x-u,y:n.y-h,xscale:c,yscale:d}}e.strokeText(m,n.x,n.y),e.fillText(m,n.x,n.y),e.restore()}else e.__xLabelPosition=null;if(f&&b){let n;if(ei(e,"dcg-svg-axis-label"),e.save(),Br(e),e.fillStyle=p,e.__yLabelOffset&&t.settings.isViewportTransient&&Tw(e.__yLabelOffset.xscale,c)&&Tw(e.__yLabelOffset.yscale,d)&&(n={x:e.__yLabelOffset.x+u,y:e.__yLabelOffset.y+h}),this._setAxisLabelFont(e,f,g,t),!n){let t=e.measureText(f).width,r=g,i=t+5;if(!this._isShortMathyLabel(f)){let e=t;t=r,r=e,i=.5*t}let o=15+r;n=b.left-t>0?{x:b.left-i,y:o}:{x:b.right+t,y:o},e.__yLabelOffset={x:n.x-u,y:n.y-h,xscale:c,yscale:d}}e.translate(n.x,n.y),this._isShortMathyLabel(f)||e.rotate(-Math.PI/2),e.strokeText(f,0,0),e.fillText(f,0,0),e.restore()}else e.__yLabelPosition=null}_isShortMathyLabel(e){return e.trim().match(/^([a-zA-Z]?)\(?([a-zA-Z]?)\)?$/)}_setAxisLabelFont(e,t,n,r){this.addTextShadow(e,r),this._isShortMathyLabel(t)?e.font="italic "+Math.round(1.4*n)+"px Times":e.font=Math.round(1.2*n)+"px Arial"}drawCartesianStepNumbers(e,t,n,r){e.save();let i=t.settings.showXAxis,o=t.settings.showYAxis,a=i&&t.settings.xAxisNumbers,s=o&&t.settings.yAxisNumbers,{xmin:l,xmax:c,ymin:d,ymax:p}=t.viewport,u=t.screen.width,h=t.screen.height,g={left:3,top:3,right:u-3,bottom:h-3};t.settings.restrictGridToFirstQuadrant&&(l=0,d=0);let m=t.settings.labelHangingColor,f=t.settings.getTextColor(),y=t.mapx(0),b=t.mapy(0),x=t.settings.labelSize;this.addTextShadow(e,t);let _={left:0,right:u,top:b-1,bottom:b+1},v={left:y-1,right:y+1,top:0,bottom:h},w=!1;if(i&&o&&(a||s)){w=!0,e.fillStyle=f;let t=new Tn(__dcg_shared_module_exports__.Na(0,1),x);t.drawCenteredAt(e,{x:y-t.getRect().right-5,y:b-t.getRect().top+5},"dcg-svg-axis-value")}let A=[],k=[];if(a&&Ip({axis:"x",lineType:"major",axisRangeMin:l,axisRangeMax:c,cartesianStepSizes:n,projection:t,callbackfn:e=>{let{xAxisScale:n}=t.settings,r="logarithmic"===n?void 0:c-l,i=new Tn(__dcg_shared_module_exports__.Na(e,r),x);"0"===i.getString()&&w||A.push(i)}}),s&&Ip({axis:"y",lineType:"major",axisRangeMin:d,axisRangeMax:p,cartesianStepSizes:n,projection:t,callbackfn:e=>{let{yAxisScale:n}=t.settings,r="logarithmic"===n?void 0:p-d,i=new Tn(__dcg_shared_module_exports__.Na(e,r),x);"0"===i.getString()&&w||k.push(i)}}),r){e.save(),ei(e,"dcg-svg-tickmark");let n=t.settings.axisLineOffset,r="rgba(0,0,0,"+t.settings.axisOpacity.toString()+")";e.lineWidth=t.settings.axisLineWidth,e.strokeStyle=r;let i=Math.round(t.mapy(0))-n,o=Math.round(t.mapx(0))-n,a=Math.round(2*e.lineWidth)-n;e.beginPath(),A.forEach((function(r){let o=Math.round(t.mapx(r.getValue()))-n;e.moveTo(o,i-a),e.lineTo(o,i+a)})),k.forEach((function(r){let i=Math.round(t.mapy(r.getValue()))-n;e.moveTo(o-a,i),e.lineTo(o+a,i)})),e.stroke(),Br(e),e.restore()}return A.forEach((function(n){let r={x:t.mapx(n.getValue())-.5*n.getMinusWidth(),y:b-n.getRect().top+5},i=n.clampBoundsWithinRect(r,g);e.fillStyle=r.y===i.y?f:m;let o="dcg-svg-axis-value";r.x!==i.x&&(o+=" dcg-svg-offcenter-axis-value"),n.drawCenteredAt(e,i,o),Mw(_,n.getRectWhenCenteredAt(i)),Br(e)})),k.forEach((function(n){let r={x:y-5-n.getRect().right,y:t.mapy(n.getValue())},i=n.clampBoundsWithinRect(r,g);e.fillStyle=r.x===i.x?f:m;let o="dcg-svg-axis-value";r.y!==i.y&&(o+=" dcg-svg-offcenter-axis-value"),n.drawCenteredAt(e,i,o),Mw(v,n.getRectWhenCenteredAt(i)),Br(e)})),e.restore(),{x:_,y:v}}};function Mp(e,t,n,r){let i=Math.ceil(e/n),o=Math.floor(t/n);if(ED({nmin:i,nmax:o}))for(var a=i;a<=o;a++)r(a*n)}var GK=({stepTicks:e,projection:t,axis:n,min:r,max:i,major:o})=>{if(e.length<2)return[...e];let a=new Array(2*e.length-1);a[a.length-1]=e[e.length-1];for(let r=0;r<e.length-1;r++){let i=t.mapAlongAxis(e[r],n),o=t.mapAlongAxis(e[r+1],n);a[2*r]=e[r],a[2*r+1]=t.reverseMapAlongAxis((i+o)/2,n)}let s=a.map(((e,t,n)=>{if(t%2==0)return n[t];let r,i,o,a=1;do{r=Math.round(n[t]*a)/a,i=Math.round(n[t-1]*a)/a,o=Math.round(n[t+1]*a)/a,a*=10}while(i>=r||o<=r);return r})),l=s.map((e=>{let r=o*e;return new Tn(__dcg_shared_module_exports__.Na(r),t.settings.labelSize).getBoundsWhenCenteredAt(t.mapAlongAxis(r,n),n)})),c=s.filter(((e,t)=>{if(t%2==0)return!0;let r="x"===n?t-1:t+1;if(l[t].lower<l[r].upper+25)return!1;let i="x"===n?t+1:t-1;return!(l[t].upper>l[i].lower-25)})),d=c.length,p=d,u=!1,h=!1,g=0;for(;!h&&g<c.length-1;){let e=o*c[++g];!u&&e>=r&&(d=g-1,u=!0),!h&&e>i&&(p=g+1,h=!0)}return c.slice(d,p)},AK=(e,t,n,r,i,o,a)=>{let s=Math.max(1,n),l=Math.ceil(__dcg_shared_module_exports__.Pa(Math.log(e)/Math.log(r)/s)),c=Math.floor(__dcg_shared_module_exports__.Pa(Math.log(t)/Math.log(r)/s));if(ED({nmin:l,nmax:c})){for(let e=l;e<=c;e++)a(__dcg_shared_module_exports__.a(r,e*s));if(!(n>=1))for(let d=l-1;d<=c;d++){let l=__dcg_shared_module_exports__.a(r,d*s),c=Math.log(1/n)/Math.log(2),p=[1,r];for(let n=0;n<c;n++)p=GK({stepTicks:p,projection:i,axis:o,min:e,max:t,major:l});p=p.slice(1,p.length-1);for(let e of p)a(l*e)}}},VK=(e,t,n,r,i,o,a)=>{if(n<1)return;let s=Math.floor(__dcg_shared_module_exports__.Pa(Math.log(e)/Math.log(r)/n)),l=Math.ceil(__dcg_shared_module_exports__.Pa(Math.log(t)/Math.log(r)/n));if(!ED({nmin:s,nmax:l}))return;let c=n>1?Math.min(n,8):r-1,d=n>1?e=>__dcg_shared_module_exports__.a(r,e*(n/c)):e=>e+1;for(let e=s;e<l;e++){let t=__dcg_shared_module_exports__.a(r,e*n);for(let e=1;e<c;e++)a(t*d(e))}},ED=({nmin:e,nmax:t})=>isFinite(t-e)&&t-e<=1e4,Ip=({axis:e,lineType:t,axisRangeMin:n,axisRangeMax:r,cartesianStepSizes:i,projection:o,callbackfn:a})=>{let[s,l,c,d]="x"===e?[o.settings.xAxisScale,os(o.settings.xAxisBase),i.majorStepX,i.minorStepX]:[o.settings.yAxisScale,os(o.settings.yAxisBase),i.majorStepY,i.minorStepY],p="major"===t,u=p?c:d;"logarithmic"===s?(p?AK:VK)(n,r,u,l,o,e,a):Mp(n,r,u,a)};function _L(e,t,n){return e<t?t:e>n?n:e}function Mw(e,t){t.left<e.left&&(e.left=t.left),t.right>e.right&&(e.right=t.right),t.top<e.top&&(e.top=t.top),t.bottom>e.bottom&&(e.bottom=t.bottom)}function Tw(e,t){let n=Math.abs(e),r=Math.abs(t);return Math.abs(n-r)<=1e-4*(n<r?r:n)}function LK(){return new Gc(1024,768)}function FL(e){let{xAxisScale:t,yAxisScale:n,xAxisBase:r,yAxisBase:i}=e,o=os(r),a=os(i);return new Ci(..."linear"===t?[-10,10]:[__dcg_shared_module_exports__.a(o,-5),__dcg_shared_module_exports__.a(o,5)],..."linear"===n?[-10,10]:[__dcg_shared_module_exports__.a(a,-5),__dcg_shared_module_exports__.a(a,5)])}var Hl=class{constructor(e,t,n,r){this.type="2d",this.lastActiveToken={selected:void 0,hovered:void 0},this._layerClasses={},this.$=e,this.evaluator=r,this.controller=n,this.settings=t;let i=LK(),o=FL(t).squareYAxis(i,t);this.setUserRequestedViewport(o),this.__projection=new us(i,o,t),this.markLabelsDirty=__dcg_shared_module_exports__.Aa((()=>{this.evaluator.notifyWhenSynced((()=>{this.poiLabelsLayer.markLabelsDirty(),this.redrawAllLayers()}))}),300),this.poiController=new ol(this,t),this.viewportController=new dw(this,this.controller),this.showPOIDots=!0,this.$.css("overflow","hidden"),this.graphSketches={},this.graphImages={},this.audioGraph=new cf(n,this);var a=this;this.canvasLayer=_c.mountToNode(Cw,this.$[0],{grapher:function(){return a}}),this.boxSelectLayer=new Xx,this.$.append(this.canvasLayer.rootNode);var s=P("<div></div>");this.$.append(s),this.imageLayer=_c.mountToNode(ff,s[0],{grapher:function(){return a}}),this.gridLayer=new Gw,this.poiDotsLayer=new Jx(this.controller),this.graphsLayer=new Si(this.controller,this.settings,(e=>this.audioGraph.getExpressionAriaLabel(e))),this.transformationPreviewLayer=new Iw(this.controller);var l=P("<div></div>");this.$.append(l),this.clickableObjectsLayer=_c.mountToNode(mf,l[0],{grapher:function(){return a}});var c=P("<div></div>");this.$.append(c),this.movablePointsLayer=_c.mountToNode(Zg,c[0],{grapher:function(){return a}});var d=P("<div></div>");this.$.append(d),this.poiLabelsLayer=_c.mountToNode(kp,d[0],{grapher:function(){return a}});var p=P("<div></div>");this.$.append(p),this.geoKeyboardCursorLayer=_c.mountToNode(Qx,p[0],{grapher:()=>this}),this.traceLayer=this.poiLabelsLayer,this.scaleAxis=void 0,this.__sketchOrder=[],this.__redrawRequested=!1,this.__isRedrawingSlowly=!1,this.events=new Mn}privateGetGridLayer(){return this.gridLayer}static copyGraphProperties(e,t){e=__dcg_shared_module_exports__.nc(xd,e);let n=__dcg_shared_module_exports__.b({},e);return delete n.viewport,t.setGraphSettings(n),e}remove(){this.$.remove(),this.poiController.remove(),this.viewportController.remove(),this.audioGraph.remove()}tick(e){this.__redrawRequested&&this._redrawAllLayers(),this.__movablePointListener&&this.__movablePointListener()}registerMovablePointListener(e){this.__movablePointListener=e}deregisterMovablePointListener(){this.__movablePointListener=void 0}setSketchOrder(e){__dcg_shared_module_exports__.Ea(this.__sketchOrder,e)||(this.__sketchOrder=e,this.redrawAllLayers())}clear(){this.graphSketches={},this.graphImages={}}getSketchOrder(){return this.__sketchOrder}getGraphSketch(e){return this.graphSketches[e]}getGraphImage(e){return this.graphImages[e]}addGraphSketch(e){this.graphSketches[e.id]=e}removeGraphSketch(e){delete this.graphSketches[e]}addGraphImage(e){e.imageObj.width&&e.imageObj.height?(this.graphImages[e.id]=e,this.redrawAllLayers()):P(e.imageObj).on("load.calc_load",(()=>this.addGraphImage(e)))}removeGraphImage(e){let t=this.graphImages[e];t&&P(t.imageObj).off("load.calc_load"),delete this.graphImages[e],this.redrawAllLayers()}setBoxSelectRectangle(e){this.boxSelectRectangle=e,this.redrawAllLayers()}getProjection(){return this.__projection}_setProjection(e){this.__projection=e,this.redrawAllLayers()}getAudioTrace(){return this.audioGraph}getDefaultViewport(){let e=this.getProjection(),t=FL(this.settings),{xAxisScale:n,yAxisScale:r}=this.settings;return n===r?t.squareYAxis(e.screen,this.settings):t}_updateScreenSize(e,t){if(e<=0||t<=0)return;let n=this.getProjection().screen;if(n.width===e&&n.height===t)return;this.$.width(e);let r=new Gc(e,t);this.viewportController.setScreen(r)}_setIsVisible(e){e!==this.isVisible&&(this.isVisible=e,e?this.redrawAllLayers():this.canvasLayer.resize(0,0))}getIsVisible(){return this.isVisible}update(){let e=this.controller.computeMajorLayout().grapher;e.width>0&&e.height>0?(this._setIsVisible(!0),this._updateScreenSize(e.width,e.height),this.$.css({position:"absolute",left:e.left+"px",top:e.top+"px",width:e.width+"px",height:e.height+"px"})):this._setIsVisible(!1)}setActiveToken(e,t){var n=this.lastActiveToken[t];this.lastActiveToken[t]=e;var r=e&&this.getGraphSketch(e),i=n&&this.getGraphSketch(n);i!==r&&(i&&("selected"===t?i.tokenSelected=!1:"hovered"===t&&(i.tokenHovered=!1)),r&&("selected"===t?r.tokenSelected=!0:"hovered"===t&&(r.tokenHovered=!0))),this.redrawAllLayers()}deselectSketch(e){let t=this.getGraphSketch(e);t&&(t.selected=!1,t.showPOI=!1,t.showHighlight=!1)}selectSketch(e){let t=this.getGraphSketch(e);t&&(t.selected=!0,t.showPOI=this.controller.isTraceEnabled(),t.showHighlight=!0)}updateSketch(e,t){let n=this.getGraphSketch(e);if(!t.length)return void this.removeGraphSketch(e);let r=new uw(e,t);15!==t[0].graphMode&&(r.color=t[0].color,t[0].style&&(r.style=t[0].style)),n&&r.updateFrom(n);let i=!!this.controller.getPropagatedSelectedIds()[e];r.selected=i,r.tokenHovered=e===String(this.lastActiveToken.hovered),r.tokenSelected=e===String(this.lastActiveToken.selected),r.showPOI=i&&this.controller.isTraceEnabled(),r.showHighlight=i,this.addGraphSketch(r)}updateIntersections(e,t){let n=this.getGraphSketch(e);n&&n.updateIntersections(t)}redrawAllLayers(){this.__redrawRequested=!0}_clear(){var e;let t=this.getProjection(),n=t.screen;this.canvasLayer.resize(t.screen.width,t.screen.height),null==(e=this.canvasLayer.ctx)||e.clearRect(0,0,n.width,n.height)}_redrawAllLayers(){this.update(),this.isVisible&&(this.__redrawRequested=!1,this._clear(),this.audioGraph.recomputePoints(),this._recomputeClickableObjects(),this._redrawImageLayer(),this._redrawGridLayer(),this._redrawGraphsLayer(),this._redrawPointsAndLabels(),this._redrawTransformationPreviewLayer(),this._redrawBoxSelectLayer(),this._redrawGeoKeyboardCursorLayer(),this._updateCanvasLayerAria(),this.events.triggerEvent("redraw",void 0))}_redrawGridLayer(){this.canvasLayer.ctx&&this.gridLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.scaleAxis)}_recomputeClickableObjects(){this.clickableObjectsLayer.redraw()}_redrawGraphsLayer(){this.canvasLayer.ctx&&this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphSketches,this.graphImages,this.__sketchOrder,this.poiLabelsLayer,this.clickableObjectsLayer)}_redrawTransformationPreviewLayer(){this.canvasLayer.ctx&&this.transformationPreviewLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection())}_redrawBoxSelectLayer(){this.canvasLayer.ctx&&this.boxSelectLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.boxSelectRectangle)}_redrawGeoKeyboardCursorLayer(){this.geoKeyboardCursorLayer.update()}_updateCanvasLayerAria(){let e=0;for(let t in this.graphSketches)Va(this.controller,this.graphSketches[t])&&(e+=1);this.canvasLayer.updateAria(this.isVisible,e)}_redrawPointsAndLabels(){if(!this.canvasLayer.ctx)return;var e=this.getProjection();let t=[];this.movablePointsLayer.redraw(this.canvasLayer.ctx,e,t),this.showPOIDots&&this.poiDotsLayer.redrawToCtx(this.canvasLayer.ctx,e,this.graphSketches,this.poiLabelsLayer,this.clickableObjectsLayer,this.__sketchOrder);let n=this.$[0].getBoundingClientRect();__dcg_shared_module_exports__.ka([this.controller.find$(".dcg-overgraph-pillbox-elements")[0],this.controller.find$(".dcg-graphpaper-branding")[0]],(e=>{if(!e)return;let r=e.getBoundingClientRect();t.push({left:r.left-n.left,top:r.top-n.top,right:r.right-n.left,bottom:r.bottom-n.top})}));var r=this.canvasLayer.ctx.canvas.getBoundingClientRect();this.poiLabelsLayer.redraw(e,this.canvasLayer.ctx,{width:r.width,height:r.height},t)}_redrawImageLayer(){this.canvasLayer.ctx&&this.imageLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphImages,this.__sketchOrder)}_parseScreenshotOpts(e){let t,n,r,i,o,a,s=this.getProjection();return e?(t=e.width||e.height||s.screen.width,n=e.height||e.width||s.screen.height,r=e.targetPixelRatio||1,r<1&&(r=1),i=(t<256||n<256)&&!e.preserveAxisNumbers,o=as.fromObject(e.settings||this.settings),a=!!e.transparentBackground):(t=s.screen.width,n=s.screen.height,r=1,i=!1,o=as.fromObject(this.settings),a=!1),i&&(o.setProperty("xAxisNumbers",!1),o.setProperty("yAxisNumbers",!1),o.setProperty("polarNumbers",!1)),{width:t,height:n,targetPixelRatio:r,settings:o,transparentBackground:a}}_syncScreenshotReturnCanvas(e){var t=document.createElement("canvas");if(e&&e.braille){let{embosserModel:n,brailleMode:r}=e.braille,i=Cp[n];t.width=i.width,t.height=i.height,DL(t,this,i,n,r)}else{let n=this._parseScreenshotOpts(e);t.width=n.width*n.targetPixelRatio,t.height=n.height*n.targetPixelRatio,this.screenshotToCanvas(t,e)}return t}screenshot(e){return this._syncScreenshotReturnCanvas(e).toDataURL("image/png")}asyncScreenshot(e,t){let n=!1;!e.transparentBackground&&e.showLabels&&((e=__dcg_shared_module_exports__.k(e)).transparentBackground=!0,n=!0);let r=this._syncScreenshotReturnCanvas(e),i=r.getContext("2d"),o=r,a=i;e&&"svg"===e.format&&(n=!1,e.transparentBackground&&((e=__dcg_shared_module_exports__.k(e)).transparentBackground=!1),a=new N1(r.width,r.height),o={getContext:()=>a,width:r.width,height:r.height},this.screenshotToCanvas(o,e));let s=this.makeScreenshotProjection(e),l=[];if(e.showMovablePoints&&this.movablePointsLayer.drawForScreenshot(a,s,l),e.showLabels){var c=s.screen.width,d=s.screen.height,p=s.settings.labelSize||15,u=1;(c<200||d<200)&&(u=.9);let e=P(`<div class="dcg-calculator-api-container">\n          <div class="dcg-container">\n            <div class="dcg-grapher" style="font-size:${p*u+"px"}"></div>\n          </div>\n        </div>`).css({width:s.screen.width,height:s.screen.height,position:"fixed",left:"0px",top:"0px"}).appendTo("body"),t=e.find(".dcg-grapher"),n=_c.mountToNode(kp,t[0],{grapher:()=>this}),r={width:s.screen.width,height:s.screen.height};n.drawForScreenshot(s,i,a,r,l),e.remove()}n&&(a.globalCompositeOperation="destination-over",a.fillStyle="#FFF",a.fillRect(0,0,o.width,o.height)),e&&"svg"===e.format?t(a.getSerializedSvg()):t(o.toDataURL("image/png"))}makeScreenshotProjection(e){let{width:t,height:n,settings:r}=this._parseScreenshotOpts(e),i=new Gc(t,n),o=this.getProjection().viewport;return this.getSetting("squareAxes")&&(o=o.squareCrop(i,this.settings)),new us(i,o,r)}screenshotToCanvas(e,t){let n=this._parseScreenshotOpts(t),{targetPixelRatio:r,transparentBackground:i}=n,o=e.getContext("2d");o.scale(r,r);let a=this.makeScreenshotProjection(t);a.settings.takingScreenshot=!0,Wn(o,"background"),ei(o,"dcg-svg-background"),i?o.clearRect(0,0,a.screen.width,a.screen.height):(o.fillStyle="white",o.fillRect(0,0,a.screen.width,a.screen.height)),Br(o),jn(o),this.imageLayer.redrawToCtx(o,a,this.graphImages,this.__sketchOrder),this.gridLayer.redrawToCtx(o,a),this.graphsLayer.redrawToCtx(o,a,this.graphSketches,this.graphImages,this.__sketchOrder,this.poiLabelsLayer,this.clickableObjectsLayer,t)}getImageData(e,t,n,r){var i;return null==(i=this.canvasLayer.ctx)?void 0:i.getImageData(e,t,n,r)}getSetting(e,t){let n=this.settings.getProperty(e);return void 0!==n?n:t}getState(e){let t={viewport:this.getCurrentViewport()};return this.settings.stateProperties.forEach((e=>{"randomSeed"!==e&&(t[e]=this.getSetting(e))})),e.stripDefaults&&(t=__dcg_shared_module_exports__.lc(xd,t)),t}getUndoRedoState(){let e={};return this.settings.stateProperties.forEach((t=>{e[t]=this.getSetting(t)})),e.viewport=this.getUserRequestedViewport(),e}notifyAfterRedraw(e){if(this.__isRedrawingSlowly)requestAnimationFrame(this.notifyAfterRedraw.bind(this,e));else if(this.__redrawRequested){this.notifyAfterRedraw_i?this.notifyAfterRedraw_i++:this.notifyAfterRedraw_i=1;let t="redraw.notifyAfterRedraw"+this.notifyAfterRedraw_i;this.events.observeEvent(t,(()=>{this.events.unobserveEvent(t),e()}))}else e()}getCurrentViewport(){return this.viewportController.getViewport().toObject()}getUserRequestedViewport(){return this._lastUserRequestedViewport}setUserRequestedViewport(e){this._lastUserRequestedViewportUpdateToken||(this._lastUserRequestedViewportUpdateToken=0),this._lastUserRequestedViewportUpdateToken+=1,this._lastUserRequestedViewport=__dcg_shared_module_exports__.k(e)}debounceUserRequestedViewportChange(){this.__debouncedViewportCommit||(this.__debouncedViewportCommit=__dcg_shared_module_exports__.Aa(((e,t)=>{if(!this.isDragging&&this._lastUserRequestedViewportUpdateToken===t){if(this._lastUserRequestedViewport){var n=Ci.fromObject(this._lastUserRequestedViewport);if(this.computeConcreteViewport(n).equals(e))return}this.controller.dispatch({type:"commit-user-requested-viewport",viewport:e})}}),1e3));let e=this.getCurrentViewport();this.__debouncedViewportCommit(e,this._lastUserRequestedViewportUpdateToken)}setGrapherState(e,t){if((!t||!t.doNotClear)&&this.clear(),"viewport"in(e=Hl.copyGraphProperties(e,this.settings))){let t=Ci.fromObject(e.viewport);this.setUserRequestedViewport(t);let n=this.computeConcreteViewport(t);this.viewportController.setViewport(n)}this.redrawAllLayers()}computeConcreteViewport(e){let t=this.getProjection().screen;return this.getSetting("squareAxes")&&!e.isSquare(t,this.controller.getAxisScaleSettings())?e.squareYAxis(t,this.settings):e}setLayerClass(e,t){var n=this._layerClasses[e];this._layerClasses[e]=t,n!==t&&(n&&this.$.removeClass(n),t&&this.$.addClass(t))}},yf=class{constructor(e){this.model=e,this.displayName="graphing-calculator-text-geometry-tool-selection-display-name",this.toolType="selection",this.icon=[{type:"filled-polygon",color:"#000",path:[40,30,58,46,51,47,56,60,53,62,47,49,41,54,40,30]}]}getNumberInputLatex(){return""}clearTentativeOutputs(){}canNextInputBePoint(){return!1}getNecessaryComplexObject(){}getNonPointInputType(){}getHint(){return""}getComplexInputs(){return{point:0,straight:0,segment:0,circle:0,arc:0,polygon:0,image:0,angle:0,number:0}}onButton(){this.model.setToolMode("selection")}onNumberInput(e){}onPress(e){}onRelease(e){return this.tryCommitResults()}onMove(e){}tryCommitResults(){return{committed:void 0}}},ti=class{constructor(e){this.model=e,this.isDragCreatable=!1,this.s=e.s}createOutput(){return this.model.createCustomToolOutput(this.getSpec())}clearTentativeOutputs(){let e=this.getSpec();var t={},n=this.model.getNonObjectsState().ui.currentTool.idMap;for(let e in n){let r=n[e];!this.model.isObjectALockedToolInput(r)&&this.model.isObjectUncommitted(r)&&(t[e]=r)}this.model.deleteObjectsAndRememberReusableId(t),this.model.tentativelyMatchToolInput(e,""),this.createOutput()}shouldReferenceSpecificItemInList(e,t){return!t}getExpandedReferenceForDef(e,t){return this.shouldReferenceSpecificItemInList(e,t)?e.referenceLatex:e.assignment}getListIndexForHover(e,t){if(this.shouldReferenceSpecificItemInList(e,t))return e.listIndex}_getOrCreatePoint(e,t,n){var r,i;let o=this.model.getOrCreatePointNearMouse(e,n);if("def"===o.type)return{createdNew:!1,def:o.def,reference:this.getExpandedReferenceForDef(o.def,t)};let a=this.createPointDefinition(o.spec,t),s="point-reference"===o.spec.type?o.spec.targetSpec.parentDefs:o.spec.parentDefs,l=0;for(let e=0;e<s.length;e++){let n=s[e];if(n.polygonEdgeInfo){let t=this.model.createToolInputDependency({type:"polygon-segment",parents:[null==(r=n.polygonEdgeInfo)?void 0:r.polygonDef.referenceLatex],edgeNumber:(null==(i=n.polygonEdgeInfo)?void 0:i.edgeNumber)||0},this.getSpec(),l);a.parents[e]=t,l+=1,this.model.setObjectHovered({tokenId:t,listIndex:void 0})}else this.model.setObjectHovered({calcId:n.calcId,listIndex:this.getListIndexForHover(n,t)})}return{createdNew:!0,def:void 0,reference:this.model._createInputObject(a)}}_isReadyToCommit(){return this.model.getNonObjectsState().ui.currentTool.inputIndex>=this.getSpec().inputs.length}_getFirstMissingInput(){let{inputIndex:e}=this.model.getNonObjectsState().ui.currentTool;return this.getSpec().inputs[e]}canNextInputBePoint(){let e=this._getFirstMissingInput();return!(!e||"point"!==e.type)}getNonPointInputType(){let e=this._getFirstMissingInput();if(e&&"point"!==e.type)return e.type}getNecessaryComplexObject(){if(!this.canNextInputBePoint())return this.getNonPointInputType()}getHint(){let e=this._getFirstMissingInput();return e?void 0!==e.hint?this.s(e.hint):this.s("graphing-calculator-text-geometry-select-hint",{type:e.type}):""}getComplexInputs(){let e=this.getSpec(),t={point:0,straight:0,segment:0,circle:0,arc:0,polygon:0,angle:0,number:0};for(let n of e.inputs)t[n.type]+=1,"segment"===n.type&&(t.straight+=1);return t}onPress(e){this.onMove(e),this.isDragCreatable&&0===this.model.getNonObjectsState().ui.currentTool.inputIndex&&this.model.attemptLockToolInputIn(this.getSpec())}onRelease(e){return this.onMove(e),this.tryCommitResults()}tryCommitResults(){let e;return this.model.attemptLockToolInputIn(this.getSpec()),this._isReadyToCommit()&&(e=this.model.getUncommittedObjects(),this.model.commitObjects(),this.model.deselectAllObjects(),this.model.cancelToolplay()),{committed:e}}onMove(e){var t,n;this.clearTentativeOutputs();let r=this.canNextInputBePoint(),i=this.getNonPointInputType();if(r||i){let o=!1;if(i){let r=this.model.getObjectDefUnderMouse(e.pt,e.tolerance);if(r&&this.model.objectIsInstanceOf(r,i))if(r.polygonEdgeInfo){let e=this.model.createToolInputDependency({type:"polygon-segment",parents:[null==(t=r.polygonEdgeInfo)?void 0:t.polygonDef.assignment],edgeNumber:(null==(n=r.polygonEdgeInfo)?void 0:n.edgeNumber)||0},this.getSpec(),0);this.model.setObjectHovered({tokenId:e,listIndex:void 0});let i=e;this.model.tentativelyMatchToolInput(this.getSpec(),i),o=!0}else{let t=this.getExpandedReferenceForDef(r,e.shift);this.model.setObjectHovered({calcId:r.calcId,listIndex:this.getListIndexForHover(r,e.shift)}),this.model.tentativelyMatchToolInput(this.getSpec(),t),o=!0}}if(!o&&r){let t=this._getOrCreatePoint(e.pt,e.shift,e.tolerance);t.def&&!t.createdNew&&this.model.setObjectHovered({calcId:t.def.calcId,listIndex:this.getListIndexForHover(t.def,e.shift)}),"custom"!==this.toolType&&this.model.getNonObjectsState().ui.currentTool.lockedIds[t.reference]||this.model.tentativelyMatchToolInput(this.getSpec(),t.reference)}}this.createOutput()}getNumberInputLatex(){let e=this.getSpec(),{idMap:t,inputIndex:n}=this.model.getNonObjectsState().ui.currentTool,r=e.inputs[n];return r&&"number"===r.type&&t[r.id]||""}onNumberInput(e){this.clearTentativeOutputs(),this.model.tentativelyMatchToolInput(this.getSpec(),e),this.createOutput()}createPointDefinition(e,t){let n,r=e.parentDefs;if("point-reference"===e.type)n={type:"point-reference",parents:[this.getExpandedReferenceForDef(r[0],t)]};else{let i=r.map((e=>this.getExpandedReferenceForDef(e,t)));n=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{parents:i})}return n}};function Aw(e,t){switch(t){case"point":return e===__dcg_shared_module_exports__.q;case"straight":return e===__dcg_shared_module_exports__.G||e===__dcg_shared_module_exports__.I||e===__dcg_shared_module_exports__.A;case"angle":return e===__dcg_shared_module_exports__.K||e===__dcg_shared_module_exports__.M;case"arc":return e===__dcg_shared_module_exports__.E;case"circle":return e===__dcg_shared_module_exports__.C;case"polygon":return e===__dcg_shared_module_exports__.y;case"segment":return e===__dcg_shared_module_exports__.A;case"number":return e===__dcg_shared_module_exports__.p;default:return t}}var PK="graphing-calculator-text-geometry-tool-point-hint",bf=class extends ti{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-point-display-name",this.toolName="point",this.toolType="simple",this.icon=[{type:"point",x:50,y:50,size:"large"}]}getSpec(){return{inputs:[{type:"point",id:"1",hint:PK}],outputs:[]}}},OK="graphing-calculator-text-geometry-tool-line-hint-start",_K="graphing-calculator-text-geometry-tool-line-hint-end",xf=class extends ti{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-line-display-name",this.toolType="simple",this.toolName="line",this.isDragCreatable=!0,this.icon=[{type:"stroked-path",path:[78,22,22,78],lineWidth:"large"},{type:"point",x:68,y:32},{type:"point",x:32,y:68}]}getSpec(){return{inputs:[{type:"point",id:"1",hint:OK},{type:"point",id:"2",hint:_K}],outputs:[{id:"3",type:"line",hidden:!1,parents:[{type:"reference-input",id:"1"},{type:"reference-input",id:"2"}]}]}}},FK="graphing-calculator-text-geometry-tool-segment-hint-start",RK="graphing-calculator-text-geometry-tool-segment-hint-end",wf=class extends ti{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-segment-display-name",this.toolName="segment",this.isDragCreatable=!0,this.toolType="simple",this.icon=[{type:"stroked-path",path:[68,32,32,68],lineWidth:"large"},{type:"point",x:68,y:32},{type:"point",x:32,y:68}]}getSpec(){return{inputs:[{type:"point",id:"1",hint:FK},{type:"point",id:"2",hint:RK}],outputs:[{id:"3",type:"segment",hidden:!1,parents:[{type:"reference-input",id:"1"},{type:"reference-input",id:"2"}]}]}}},NK="graphing-calculator-text-geometry-tool-ray-hint-start",BK="graphing-calculator-text-geometry-tool-ray-hint-end",vf=class extends ti{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-ray-display-name",this.toolName="ray",this.isDragCreatable=!0,this.toolType="simple",this.icon=[{type:"stroked-path",path:[78,22,32,68],lineWidth:"large"},{type:"point",x:68,y:32},{type:"point",x:32,y:68}]}getSpec(){return{inputs:[{type:"point",id:"1",hint:NK},{type:"point",id:"2",hint:BK}],outputs:[{id:"3",type:"ray",hidden:!1,parents:[{type:"reference-input",id:"1"},{type:"reference-input",id:"2"}]}]}}},KK="graphing-calculator-text-geometry-tool-circle-hint-center",UK="graphing-calculator-text-geometry-tool-circle-hint-radius",Cf=class extends ti{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-circle-display-name",this.toolName="circle",this.isDragCreatable=!0,this.toolType="simple",this.icon=[{type:"circle",x:50,y:50,radius:26},{type:"point",x:50,y:50},{type:"point",x:68,y:32}]}getSpec(){return{inputs:[{type:"point",id:"1",hint:KK},{type:"point",id:"2",hint:UK}],outputs:[{id:"3",type:"circle",hidden:!1,parents:[{type:"reference-input",id:"1"},{type:"reference-input",id:"2"}]}]}}},qK="graphing-calculator-text-geometry-tool-arc-hint-1",HK="graphing-calculator-text-geometry-tool-arc-hint-2",$K="graphing-calculator-text-geometry-tool-arc-hint-3",Sf=class extends ti{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-arc-display-name",this.toolName="arc",this.toolType="complex";let t=50,n=-1.7;this.icon=[{type:"arc",x:80,y:80,radius:t,startAngle:-3,endAngle:n},{type:"point",x:80+t*Math.cos(-3),y:80+t*Math.sin(-3)},{type:"point",x:80+t*Math.cos(-2.6),y:80+t*Math.sin(-2.6)},{type:"point",x:80+t*Math.cos(n),y:80+t*Math.sin(n)}]}getSpec(){return{inputs:[{type:"point",id:"1",hint:qK},{type:"point",id:"2",hint:HK},{type:"point",id:"3",hint:$K}],outputs:[{id:"4",type:"arc",hidden:!1,parents:[{type:"reference-input",id:"1"},{type:"reference-input",id:"2"},{type:"reference-input",id:"3"}]}]}}},zK="graphing-calculator-text-geometry-tool-parallel-hint-straight-line",WK="graphing-calculator-text-geometry-tool-parallel-hint-point",Ef=class extends ti{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-parallel-display-name",this.toolName="parallel",this.toolType="complex",this.icon=[{type:"stroked-path",color:"light",path:[25,50,75,30],lineWidth:"large"},{type:"stroked-path",path:[25,70,75,50],lineWidth:"large"},{type:"point",x:50,y:60,size:"medium"}]}getSpec(){return{inputs:[{type:"straight",id:"1",hint:zK},{type:"point",id:"2",hint:WK}],outputs:[{id:"3",type:"parallel",hidden:!1,parents:[{type:"reference-input",id:"1"},{type:"reference-input",id:"2"}]}]}}},jK="graphing-calculator-text-geometry-tool-perpendicular-hint-straight-line",YK="graphing-calculator-text-geometry-tool-perpendicular-hint-point",Df=class extends ti{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-perpendicular-display-name",this.toolName="perpendicular",this.toolType="complex",this.icon=[{type:"stroked-path",color:"light",path:[40,25,60,75],lineWidth:"large"},{type:"stroked-path",path:[25,60,75,40],lineWidth:"large"},{type:"point",x:50,y:50,size:"medium"}]}getSpec(){return{inputs:[{type:"straight",id:"1",hint:jK},{type:"point",id:"2",hint:YK}],outputs:[{id:"3",type:"perpendicular",hidden:!1,parents:[{type:"reference-input",id:"1"},{type:"reference-input",id:"2"}]}]}}},JK="graphing-calculator-text-geometry-tool-midpoint-hint",kf=class extends ti{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-midpoint-display-name",this.toolName="midpoint",this.toolType="simple",this.icon=[{type:"stroked-path",path:[32,32,68,68]},{type:"point",x:50,y:50,size:"large"}]}getSpec(){return{inputs:[{type:"segment",id:"1",hint:JK}],outputs:[{id:"2",type:"midpoint",hidden:!1,parents:[{type:"reference-input",id:"1"}]}]}}},XK="graphing-calculator-text-geometry-tool-polygon-hint-first-point",QK="graphing-calculator-text-geometry-tool-polygon-hint-next-point",ZK="graphing-calculator-text-geometry-tool-polygon-hint-finish-point",If=class extends ti{constructor(e){super(e),this.model=e,this.addExtraPoint=!1,this.displayName="graphing-calculator-text-geometry-tool-polygon-display-name",this.toolName="polygon",this.toolType="complex",this.icon=[{type:"filled-polygon",path:[40,30,70,70,30,60,40,30]},{type:"stroked-path",path:[40,30,70,70,30,60,40,30]},{type:"point",x:40,y:30},{type:"point",x:70,y:70},{type:"point",x:30,y:60}]}clearTentativeOutputs(){let e=this.addExtraPoint;this.addExtraPoint=!0,super.clearTentativeOutputs(),this.addExtraPoint=e}getHint(){let e=this.model.getNonObjectsState().ui.currentTool.inputIndex;return 0===e?this.s(XK):e<3?this.s(QK):this.s(ZK)}canNextInputBePoint(){return!0}getSpec(){let{inputIndex:e}=this.model.getNonObjectsState().ui.currentTool,t=e;this.addExtraPoint&&(t+=1),t<2&&(t=2);for(var n={inputs:[],outputs:[]},r=[],i=0;i<t;i++){let e=i.toString();r.push({type:"reference-input",id:e}),n.inputs.push({type:"point",id:e})}return n.outputs.push({id:"polygon",type:"polygon",hidden:!1,parents:r,connectBorder:!this.addExtraPoint}),n}onRelease(e){var t=this.onMove(e);this.addExtraPoint=!t;let n,r=this.getSpec();return this.addExtraPoint=!1,this.model.attemptLockToolInputIn(r),t?(this._isReadyToCommit()&&(n=this.model.getUncommittedObjects(),this.model.commitObjects(),this.model.deselectAllObjects(),this.model.cancelToolplay()),{committed:n}):{committed:void 0}}onMove(e){this.clearTentativeOutputs();let t=!1,n=this.model.getObjectDefUnderMouse(e.pt,e.tolerance),{idMap:r}=this.model.getNonObjectsState().ui.currentTool;if(n){let i=this.getExpandedReferenceForDef(n,e.shift);if(this.model.objectIsInstanceOf(n,"point")&&this.model.isObjectALockedToolInput(i)&&r[0]===i)return t=!0,n&&this.model.setObjectHovered({calcId:n.calcId,listIndex:this.getListIndexForHover(n,e.shift)}),this.createOutput(),t}this.addExtraPoint=!0;let i=this._getOrCreatePoint(e.pt,e.shift,e.tolerance);return this.model.tentativelyMatchToolInput(this.getSpec(),i.reference),i.def&&!i.createdNew&&this.model.setObjectHovered({calcId:i.def.calcId,listIndex:this.getListIndexForHover(i.def,e.shift)}),this.createOutput(),this.addExtraPoint=!1,t}},e5="graphing-calculator-text-geometry-tool-compass-hint-segment",t5="graphing-calculator-text-geometry-tool-compass-hint-center",Mf=class extends ti{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-compass-display-name",this.toolName="compass",this.toolType="complex",this.icon=[{type:"stroked-path",path:[50,50,75,50]},{type:"circle",x:50,y:50,radius:25}]}getSpec(){return{inputs:[{type:"segment",id:"1",hint:e5},{type:"point",id:"2",hint:t5}],outputs:[{id:"3",type:"circle",hidden:!1,parents:[{type:"reference-input",id:"2"},{type:"reference-input",id:"1"}]}]}}},r5="graphing-calculator-text-geometry-tool-angle-hint-1",i5="graphing-calculator-text-geometry-tool-angle-hint-2",n5="graphing-calculator-text-geometry-tool-angle-hint-3",RL="graphing-calculator-text-geometry-tool-angles-hint-1",Id=class extends ti{constructor(e){super(e),this.model=e,this.toolType="complex",this.displayName="graphing-calculator-text-geometry-tool-angle-display-name",this.toolName="angle",this.angleType="angle",this.anglesType="angles",this.icon=[{type:"stroked-path",path:[40,30,30,70,70,70],color:"#CCC"},{type:"angle",x:30,y:70,radius:20,startAngle:-1.325817,deltaAngle:1.325817,isDirected:!1},{type:"point",x:30,y:70},{type:"point",x:40,y:30},{type:"point",x:70,y:70}]}canNextInputBePoint(){return!0}shouldReferenceSpecificItemInList(e,t){return!!__dcg_shared_module_exports__.V(e.typedRuntimeValue.valueType,__dcg_shared_module_exports__.y)||super.shouldReferenceSpecificItemInList(e,t)}getNonPointInputType(){let{inputIndex:e}=this.model.getNonObjectsState().ui.currentTool;if(0===e)return"polygon"}getSpec(){let{inputIndex:e,idMap:t}=this.model.getNonObjectsState().ui.currentTool,n=t[1];if(!e&&!n)return{inputs:[{type:"polygon",id:"1",hint:RL}],outputs:[{id:"2",type:this.anglesType,listAccess:void 0,hidden:!1,showLabel:!0,label:"",parents:[{type:"reference-input",id:"1"}]}]};let r=[];if(n&&this.model.findDefsForInputId(n).forEach((e=>{let t=e.typedRuntimeValue;if(t.valueType===__dcg_shared_module_exports__.y){let n=t.value.length;n>0&&r.push({referenceLatex:e.referenceLatex,sides:n})}})),r.length){let e=[],t=2;return r.forEach((n=>{for(var r=0;r<n.sides;r++)e.push({id:t+"",type:this.anglesType,listAccess:r+1,hidden:!1,showLabel:!0,label:"",parents:[{type:"hardcoded",id:n.referenceLatex}]}),t+=1})),{inputs:[{type:"polygon",id:"1",hint:RL}],outputs:e}}return{inputs:[{type:"point",id:"1",hint:r5},{type:"point",id:"2",hint:i5},{type:"point",id:"3",hint:n5}],outputs:[{id:"4",type:this.angleType,hidden:!1,showLabel:!0,label:"",parents:[{type:"reference-input",id:"1"},{type:"reference-input",id:"2"},{type:"reference-input",id:"3"}]}]}}},Tf=class extends Id{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-directedangle-display-name",this.toolName="directedangle",this.angleType="directedangle",this.anglesType="directedangles",this.icon=[{type:"stroked-path",path:[40,30,30,70,70,70],color:"#CCC"},{type:"angle",x:30,y:70,radius:20,isDirected:!0,startAngle:-1.325817,deltaAngle:1.325817},{type:"stroked-path",path:[35,50,41,50,37,55,35,50],color:"#000",lineWidth:"medium"},{type:"point",x:30,y:70},{type:"point",x:40,y:30},{type:"point",x:70,y:70}]}},gs=class extends ti{generateDefaultName(){return"does not matter"}},Gf=class extends gs{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-reflection-display-name",this.toolName="reflection",this.toolType="transformation",this.icon=[{type:"stroked-path",color:"light",path:[40,15,40,65]},{type:"stroked-path",color:"#000",lineWidth:"small",arrow:!0,path:[24,38,26,35,27,33,29,31,31,30,33,28,35,27,37,25,39,24,41,23,43,22,44,21,47,20,47.1,19.95]},{type:"point",x:20,y:40},{type:"point",x:60,y:40}]}getSpec(){return{inputs:[{type:"straight",id:"1",hint:"graphing-calculator-text-geometry-tool-reflection-hint-choose-line"}],outputs:[{id:"2",type:"reflection",hidden:!1,name:this.generateDefaultName(),parents:[{type:"reference-input",id:"1"}]}]}}},Af=class extends gs{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-translation-display-name",this.toolName="translation",this.toolType="transformation",this.icon=[{type:"stroked-path",color:"#000",lineWidth:"small",arrow:!0,path:[22,58,52,32]},{type:"point",x:22,y:58},{type:"point",x:60,y:24}]}getSpec(){return{inputs:[{type:"point",id:"1",hint:"graphing-calculator-text-geometry-tool-translation-hint-from"},{type:"point",id:"2",hint:"graphing-calculator-text-geometry-tool-translation-hint-to"}],outputs:[{id:"3",type:"translation",hidden:!1,name:this.generateDefaultName(),parents:[{type:"reference-input",id:"1"},{type:"reference-input",id:"2"}]}]}}},Vf=class extends gs{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-rotation-display-name",this.toolName="rotation",this.toolType="transformation",this.icon=[{type:"stroked-path",color:"#000",lineWidth:"small",arrow:!0,path:[60,58,60,50,59,47,58,44,57,42,56,40,55,38,53,36,52,34,50,32,49,31]},{type:"point",x:22,y:58,hollow:!0},{type:"point",x:42,y:22},{type:"point",x:60,y:58}]}getSpec(){return{inputs:[{type:"point",id:"1",hint:"graphing-calculator-text-geometry-tool-rotation-hint-center"},{type:"number",id:"2",hint:"graphing-calculator-text-geometry-tool-rotation-hint-angle"}],outputs:[{id:"3",type:"rotation",hidden:!1,name:this.generateDefaultName(),parents:[{type:"reference-input",id:"1"},{type:"reference-input",id:"2"}]}]}}},Lf=class extends gs{constructor(e){super(e),this.model=e,this.displayName="graphing-calculator-text-geometry-tool-dilation-display-name",this.toolName="dilation",this.toolType="transformation",this.icon=[{type:"stroked-path",color:"#000",lineWidth:"small",arrow:!0,path:[37,46,51,32.5]},{type:"point",x:22,y:58,hollow:!0},{type:"point",x:60,y:24,size:"large"},{type:"point",x:37,y:46}]}getSpec(){return{inputs:[{type:"point",id:"1",hint:"graphing-calculator-text-geometry-tool-dilation-hint-center"},{type:"number",id:"2",hint:"graphing-calculator-text-geometry-tool-dilation-hint-scale-factor"}],outputs:[{id:"3",type:"dilation",hidden:!1,name:this.generateDefaultName(),parents:[{type:"reference-input",id:"1"},{type:"reference-input",id:"2"}]}]}}},Pf=class{constructor(e){this.model=e,this.displayName="graphing-calculator-text-geometry-tool-box-selection-display-name",this.toolType="selection",this.icon=[{type:"stroked-path",color:"#aaa",path:[35,35,51,35,51,51,35,51,35,35]},{type:"filled-polygon",color:"#000",path:[50,50,63.5,62,58.25,62.75,62,72.5,59.75,74,55.25,64.25,50.75,68,50,50]}]}getNumberInputLatex(){return""}clearTentativeOutputs(){}canNextInputBePoint(){return!1}getNecessaryComplexObject(){}getNonPointInputType(){}getHint(){return""}getComplexInputs(){return{point:0,straight:0,segment:0,circle:0,arc:0,polygon:0,image:0,angle:0,number:0}}onButton(){this.model.setToolMode("box-selection")}onNumberInput(e){}onPress(e){}onRelease(e){return this.tryCommitResults()}onMove(e){}tryCommitResults(){return{committed:void 0}}},DD={selection:yf,point:bf,line:xf,segment:wf,ray:vf,circle:Cf,arc:Sf,parallel:Ef,perpendicular:Df,midpoint:kf,polygon:If,compass:Mf,angle:Id,directedangle:Tf,reflection:Gf,translation:Af,rotation:Vf,dilation:Lf,"box-selection":Pf};function o5(e,t){var n;if(t.typedRuntimeValue.valueType===__dcg_shared_module_exports__.O)return[];let r=t.data.call;if(!r||!r.parents)return[];let i,o=r.symbol,a=r.parents.map(Tp);switch(o){case"circle":{let[t,r]=a,o=r&&(null==(n=e[r])?void 0:n.typedRuntimeValue.valueType);i=o&&__dcg_shared_module_exports__.V(o,__dcg_shared_module_exports__.A)?[t]:[t,r];break}case"apply":case"parallel":case"perpendicular":i=[a[1]];break;case"polygon":i=a.every((e=>void 0!==e))?a:[];break;default:i=a}return i.filter(BL)}var a5=[[1,0],[0,0],!1],Vw=class{constructor(e,t){let n=(null==e?void 0:e.list)||[];t&&(n=n.concat(t)),this.list=n;let r=(null==e?void 0:e.forward)||a5;t&&(r=__dcg_shared_module_exports__.Gb(r,t.value)),this.forward=r,this.inverse=__dcg_shared_module_exports__.Hb(r)}add(e){return new Vw(this,e)}equals(e){if(this.list.length!==e.list.length)return!1;for(let t=this.list.length-1;t>=0;t--){let n=this.list[t],r=e.list[t];if(!__dcg_shared_module_exports__.Ea(n,r))return!1}return!0}isCompletelyRigid(){return 0===this.list.length}},Of=Vw;function s5(e){var t,n;let r={},i={};for(let o in e){let a=e[o];if(!a)continue;for(let e of(null==(t=a.data.call)?void 0:t.parents)||[]){let t=Tp(e);t&&(r[t]||(r[t]=[]),null==(n=r[t])||n.push(a.assignment))}let s=o5(e,a);i[a.assignment]=s}return{parentToChildren:r,childToReversibilityParents:i}}function NL(e){let t=[],n={};function r(i){var o;2!==n[i]&&(n[i]=1,null==(o=e[i])||o.forEach(r),n[i]=2,t.unshift(i))}for(let t in e)undefined===n[t]&&r(t);return t}function kD(e,t){var n,r,i,o,a,s,l,c,d,p;let u={},h={},g={},m={},f={};for(let e of t)f[e]=!0,g[e]=Of.COMPLETELY_RIGID;let{parentToChildren:y,childToReversibilityParents:b}=s5(e);for(let t of NL(b)){let a=e[t];if(!a)return{};let s=null==(n=a.data.call)?void 0:n.symbol,l=((null==(r=a.data.call)?void 0:r.parents)||[]).map(Tp).filter(BL);if(g[a.assignment])if(a.typedRuntimeValue.valueType!==__dcg_shared_module_exports__.q||s)if("glider"===s&&l.length&&!f[l[0]])h[a.assignment]=g[a.assignment];else{let t=g[a.assignment];if("apply"===s){let n=null==(i=e[l[0]])?void 0:i.typedRuntimeValue;if((null==n?void 0:n.valueType)!==__dcg_shared_module_exports__.O)return{};t=t.add(n)}let n=null!=(o=b[a.assignment])?o:[];for(let e of n)g[e]?t.equals(g[e])||(g[e]=Of.COMPLETELY_RIGID,m[e]=!0):g[e]=t}else u[a.assignment]=g[a.assignment]}let x={};for(let e in g)x[e]=!0;for(let e of NL(y))if(x[e]){for(let t of y[e]||[])x[t]=!0;if(g[e]){let t=b[e]||[];for(let n of t)m[n]&&(m[e]=!0)}}for(let t in h){let n=((null==(s=null==(a=e[t])?void 0:a.data.call)?void 0:s.parents)||[]).map(Tp)[0];n&&x[n]&&(m[n]=!0)}for(let t in e){if(!x[t])continue;let n=e[t],r=null==(l=null==n?void 0:n.data.call)?void 0:l.symbol,i=((null==(c=null==n?void 0:n.data.call)?void 0:c.parents)||[]).map(Tp);if("apply"===r&&g[t]){let n=i[1],r=i[0];if(!n||!r)return{};let o=((null==(p=null==(d=e[r])?void 0:d.data.call)?void 0:p.parents)||[]).map(Tp),a=o.some((e=>e&&x[e]));if(g[t].isCompletelyRigid()&&g[n].isCompletelyRigid()||a){m[n]=!0;for(let e of o)e&&(m[e]=!0)}}}let _=[];for(let e in m)f[e]||_.push(e);return _.length?kD(e,t.concat(_)):__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},u),h)}function Tp(e){return e?__dcg_shared_module_exports__.Ua(e[0]):void 0}function BL(e){return void 0!==e}Of.COMPLETELY_RIGID=new Vw(void 0);var _f=class{constructor(){this._nextId=0,this._defs={}}clear(){this._nextId=0,this._defs={}}add(e,t){let n;t?(n=e.assignment,void 0!==e.listIndex&&(n+="\\left["+e.listIndex+"\\right]")):n="**geo-internal-id-"+this._nextId++,this._defs[n]=e}computeReversibilityLineages(e){var t;let n=this.buildAssignmentMap(),r={};for(let e in n){let t=n[e];t&&(r[t.calcId]=t)}let i=[];for(let t of e){let e=r[t];if(!e)return{};i.push(e.assignment)}let o=kD(this.buildAssignmentMap(),i),a={};for(let e in o){let r=null==(t=n[e])?void 0:t.calcId;r&&(a[r]=o[e])}return a}buildAssignmentMap(){let e={};for(let t in this._defs){let n=this._defs[t];n&&(e[n.assignment]=n)}return e}getDepthValues(){var e,t,n={},r={};let i=this.buildAssignmentMap();for(let o in i){let a=i[o];if(!a)continue;let s=[],l=[];null!=(e=a.data.call)&&e.parents?l=null==(t=a.data.call)?void 0:t.parents:a.data.assignmentRhsReference&&(l=[a.data.assignmentRhsReference]),l.forEach((e=>{let t=e&&e[0];if(t){let e=__dcg_shared_module_exports__.Ua(t);s.push(e),r[e]||(r[e]=[]),r[e].push(a.assignment)}})),n[a.assignment]=s}let o=e=>{if(void 0!==a[e])return a[e];var t=-1,r=n[e]||[];for(let e=0;e<r.length;e++){let n=o(r[e]);n>t&&(t=n)}let i=t+1;return a[e]=i,i};var a={};for(var s in n)a[s]=o(s);var l={},c={};for(var s in r){let e=a[s],t=1/0;r[s].forEach((n=>{let r=a[n];r>e&&(e=r),r<t&&(t=r)})),l[s]=e,c[s]=t}return{createdDepth:a,lastReferencedDepth:l,firstReferencedDepth:c}}};function KL(e,t,n){let r=.5/(2*n*t);return mi(e-r,e+r)}function Ff(e,t,n,r,i=0){let o=__dcg_shared_module_exports__.aa(e.x,e.y,0,n[0],n[1],0,r[0],r[1],0);i&&(o+=i);let a=.5/(__dcg_shared_module_exports__.mb(n,r)*t);return mi(o-a,o+a)}function fs(e,t){for(let n of t)n&&(void 0!==n.min&&e<n.min?e=n.min:void 0!==n.max&&e>n.max&&(e=n.max));return e}function Lw(e,t,n,r){if(!n)return 0;var i=e.mapx(1)-e.mapx(0);switch(n.valueType){case __dcg_shared_module_exports__.C:{let e=t.x-n.value[0][0],o=t.y-n.value[0][1],a=Math.atan2(o,e)/(2*Math.PI);a<0&&(a+=1),a=KL(a,i,n.value[1]);let s=fs(0,[r]),l=fs(1,[r]);if(a>=s&&a<=l)return a;{let e=__dcg_shared_module_exports__.sb(n.value,s),r=__dcg_shared_module_exports__.sb(n.value,l);return __dcg_shared_module_exports__.mb(e,[t.x,t.y])<=__dcg_shared_module_exports__.mb(r,[t.x,t.y])?s:l}}case __dcg_shared_module_exports__.E:{let e=__dcg_shared_module_exports__.vb(n.value);if(!e)return 0;if("segment"===e.type){return fs(Ff(t,i,e.start,e.end),[{min:0,max:1},r])}if("rays"===e.type){let n=__dcg_shared_module_exports__.mb(e.start1,[t.x,t.y]),o=__dcg_shared_module_exports__.mb(e.start2,[t.x,t.y]),a=r&&void 0!==r.min?r.min:-1/0,s=r&&void 0!==r.max?r.max:1/0;return n<o?a>0?s>=1?1:a:fs(-Ff(t,i,e.start1,e.end1),[{min:void 0,max:0},r]):s<1?a<=0?0:s:fs(Ff(t,i,e.start2,e.end2,1),[{min:1,max:void 0},r])}if("arc"==e.type){let[o,a]=e.center,{radius:s,startAngle:l}=e,c=__dcg_shared_module_exports__.ob(n.value),d=t.x-o,p=t.y-a,u=__dcg_shared_module_exports__.Y(Math.atan2(p,d),l,c);if(u>=0&&u<=1)u=KL(u,i,s);else{u=nw(t,{x:o+s*Math.cos(l),y:a+s*Math.sin(l)})<=nw(t,{x:o+s*Math.cos(l+c),y:a+s*Math.sin(l+c)})?0:1}let h=fs(0,[r]),g=fs(1,[r]);if(u>=h&&u<=g)return u;{let e=__dcg_shared_module_exports__.tb(n.value,h),r=__dcg_shared_module_exports__.tb(n.value,g);return __dcg_shared_module_exports__.mb(e,[t.x,t.y])<=__dcg_shared_module_exports__.mb(r,[t.x,t.y])?h:g}}return fs(0,[r])}case __dcg_shared_module_exports__.I:case __dcg_shared_module_exports__.A:case __dcg_shared_module_exports__.G:return fs(Ff(t,i,n.value[0],n.value[1]),[{min:n.valueType===__dcg_shared_module_exports__.G?void 0:0,max:n.valueType!==__dcg_shared_module_exports__.A?void 0:1},r]);case __dcg_shared_module_exports__.y:{let e=n.value,o=1/0,a=fs(0,[r]),s=r&&void 0!==r.min?r.min:-1/0,l=r&&void 0!==r.max?r.max:1/0,c=Math.floor(Math.max(s,0)),d=Math.ceil(Math.min(l,e.length));for(let s=c;s<d;s++){let l=fs(Ff(t,i,e[s],e[(s+1)%e.length],s),[{min:s,max:s+1},r]),c=__dcg_shared_module_exports__.ub(n.value,l),d=__dcg_shared_module_exports__.mb(c,[t.x,t.y]);d<o&&(o=d,a=l)}return a}case __dcg_shared_module_exports__.q:case __dcg_shared_module_exports__.K:case __dcg_shared_module_exports__.M:case __dcg_shared_module_exports__.O:return 0;default:return n}}function UL(e,t){switch(e.valueType){case __dcg_shared_module_exports__.C:return __dcg_shared_module_exports__.sb(e.value,t);case __dcg_shared_module_exports__.E:return __dcg_shared_module_exports__.tb(e.value,t);case __dcg_shared_module_exports__.I:return __dcg_shared_module_exports__.rb(e.value,t);case __dcg_shared_module_exports__.A:return __dcg_shared_module_exports__.qb(e.value,t);case __dcg_shared_module_exports__.G:return __dcg_shared_module_exports__.pb(e.value,t);case __dcg_shared_module_exports__.y:return __dcg_shared_module_exports__.ub(e.value,t);case __dcg_shared_module_exports__.q:case __dcg_shared_module_exports__.K:case __dcg_shared_module_exports__.M:case __dcg_shared_module_exports__.O:return[NaN,NaN];default:return e}}function l5(e,t){if(!t)return!1;let{left:n,right:r,top:i,bottom:o}=e.pixelCoordinates,{x:a,y:s}=t.mathPoint;if(t.transform){let e=t.model.formula.typed_constant_value;if((null==e?void 0:e.valueType)!==__dcg_shared_module_exports__.q)throw new Error(`Expected movable point to be a Point but found ${e?__dcg_shared_module_exports__.Q(e.valueType):void 0} instead`);a=null!=a?a:e.value[0],s=null!=s?s:e.value[1],[a,s]=__dcg_shared_module_exports__.Ib(t.transform.forward,[a,s])}if(void 0!==a){let t=e.mathToPixels.mapX(a);if(t<n-.5||t>r+.5)return!1}if(void 0!==s){let t=e.mathToPixels.mapY(s);if(t<i-.5||t>o+.5)return!1}return!0}function qL(e,t){if(1===t.length&&!l5(e,t[0]))return!1;let n=!1;for(let e of t){if(e.newPointLatex){let t=e.model.latex;sa(e.model,e.newPointLatex),n=n||t!==e.model.latex}for(let t in e.sliderUpdates){let{value:r,model:i}=e.sliderUpdates[t];e.commitSliderSoftLimits&&zu(i);let o=i.latex;tx(i,r),n=n||o!==i.latex}}return n}function HL({projection:e,transform:t,controller:n,strategy:r,mode:i,clampToViewport:o}){var a;let s=n.getItemModel(r.id);if(!s||"expression"!==s.type)throw new Error(`Programming error: updateSliderNonlinear move strategy should point to an expression item, but found ${null==s?void 0:s.type}`);let l="up"===i||"bigup"===i,c=""!==(null==(a=s.slider)?void 0:a.step)&&(l&&!s.slider.hardMax||!l&&!s.slider.hardMin);r.compiled.fn||__dcg_shared_module_exports__.Lb(r.compiled);let d=r.compiled.fn;t&&(d=e=>__dcg_shared_module_exports__.Ib(t.forward,r.compiled.fn(e)));let p=t=>{let[n,r]=d(t);return({x:n,y:r}=e.mathToPixels.mapPoint({x:n,y:r})),[n,r]},u=ca(s),[h,g]=p(u),m=XS(s,i,{ignoreSoftLimits:c}),f=m,[y,b]=p(f),x=__dcg_shared_module_exports__._(y-h,b-g);if(x<1){let e=__dcg_shared_module_exports__.hb(p,[h+(y-h)/x,g+(b-g)/x],f,f>u?f:r.min,f<u?f:r.max,1);if(e){let t=mi(e[0],e[1]);("bigup"===i||"bigdown"===i)&&(t=u+5*(t-u));let n=Ta(s,__dcg_shared_module_exports__.gb(t,r.min,r.max),{ignoreSoftLimits:c}),[o,a]=p(n);__dcg_shared_module_exports__._(o-h,a-g)>x&&(m=n)}}o&&(m=zL(e,ca(s),m,d));let _=d(m);return{mathPoint:{x:_[0],y:_[1]},sliderUpdates:{[r.id]:{model:s,value:m}}}}function $L({controller:e,projection:t,transform:n,strategy:r,targetScreenPoint:i,clampToViewport:o}){let a={mathPoint:{},sliderUpdates:{}},s=e.getItemModel(r.id);if(!s||"expression"!==s.type)throw new Error(`Programming error: updateSliderNonlinear move strategy should point to an expression item, but found ${null==s?void 0:s.type}`);r.compiled.fn||__dcg_shared_module_exports__.Lb(r.compiled);let l=r.compiled.fn;n&&(l=e=>__dcg_shared_module_exports__.Ib(n.forward,r.compiled.fn(e)));let c=r.initialValue,d=r.min,p=r.max,u=[i.x,i.y],h=__dcg_shared_module_exports__.hb((e=>{let[n,r]=l(e);return({x:n,y:r}=t.mathToPixels.mapPoint({x:n,y:r})),[n,r]}),u,c,d,p,1);if(!h)return a;let g=mi(h[0],h[1]);void 0!==d&&g<d&&(g=d),void 0!==p&&g>p&&(g=p);let m=Ta(s,g,{ignoreSoftLimits:!0});o&&(m=zL(t,ca(s),m,l));let[f,y]=l(m);return a.mathPoint.x=f,a.mathPoint.y=y,a.sliderUpdates[s.id]={value:m,model:s},a}function MD({controller:e,projection:t,transform:n,strategy:r,targetScreenPoint:i}){let o=t.reverse_map_pt(i);if(n){let e=__dcg_shared_module_exports__.Ib(n.inverse,[o.x,o.y]);o={x:e[0],y:e[1]}}let a="updateSliderForGlider"===r.type?{min:r.min,max:r.max}:void 0,s=Lw(t,o,r.movesOn,a);if(!isFinite(s))return;let l=UL(r.movesOn,s),c={mathPoint:{x:l[0],y:l[1]},newPointLatex:void 0,sliderUpdates:{}};if("updateGliderParameter"===r.type){let e=r.span;c.newPointLatex=e.input.slice(0,e.start)+__dcg_shared_module_exports__.Yb(s)+e.input.slice(e.end)}else if("updateSliderForGlider"===r.type){let t=e.getItemModel(r.id);t&&"expression"===t.type&&(c.sliderUpdates[t.id]={value:s,model:t})}return c}function zL(e,t,n,r){let i=t=>{let[n,i]=r(t);return e.mathToPixels.mapPoint({x:n,y:i})},o=({x:t,y:n})=>{let{left:r,right:i,top:o,bottom:a}=e.pixelCoordinates;return t>=r&&t<=i&&n>=o&&n<=a},a=t,s=i(t),l=n,c=i(n);if(o(c)||!o(s))return n;for(;;){let e=s.x-c.x,t=s.y-c.y;if(e*e+t*t<.5)break;let n=__dcg_shared_module_exports__.fb(a,l);if(n===a||n===l){[a,l]=o(s)?[a,a]:[l,l];break}let r=i(n);o(r)!==o(s)?[l,c]=[n,r]:[a,s]=[n,r]}return mi(a,l)}function TD({controller:e,projection:t,transform:n,formula:r,moveStrategy:i,dragMode:o,targetScreenPoint:a,clampToViewport:s}){if(n){let{x:e,y:r}=t.pixelsToMath.mapPoint(a),[i,o]=__dcg_shared_module_exports__.Ib(n.inverse,[e,r]);a=t.mathToPixels.mapPoint({x:i,y:o})}var l=t.pixelsToMath.mapRect({left:a.x-.5,right:a.x+.5,top:a.y+.5,bottom:a.y-.5}),c=[{min:l.left,max:l.right},{min:l.top,max:l.bottom}];let d={mathPoint:{},sliderUpdates:{}},[p,u]=i;if("updateCoordinate"===p.type||"updateCoordinate"===u.type){let e=c5(r,c,o);if(e){let{latex:t,x:n,y:r}=e;(void 0!==n||void 0!==r)&&(d.newPointLatex=t,d.mathPoint.x=null!=n?n:d.mathPoint.x,d.mathPoint.y=null!=r?r:d.mathPoint.y)}}for(let r of[0,1]){let a=i[r];if(ID(r,o)&&"updateSlider"===a.type){let i=e.getItemModel(a.id);if(!i||"expression"!==i.type)continue;let[o,l]=a.coefficients,p=Ta(i,mi(l*c[r].min+o,l*c[r].max+o),{ignoreSoftLimits:!0}),u=(p-o)/l;if(!s||n){d.mathPoint[0===r?"x":"y"]=u,d.sliderUpdates[i.id]={value:p,model:i};continue}let[h,g]=0===r?[t.mathCoordinates.left,t.mathCoordinates.right]:[t.mathCoordinates.bottom,t.mathCoordinates.top],m=u<h?h:u>g?g:void 0;void 0!==m&&void 0===Ga(i)?(d.mathPoint[0===r?"x":"y"]=m,d.sliderUpdates[i.id]={value:l*m+o,model:i}):(d.mathPoint[0===r?"x":"y"]=u,d.sliderUpdates[i.id]={value:p,model:i})}}return d}function c5(e,t,n){if(!e.move_strategy)throw new Error("Programming error: expected move_strategy to be defined.");var r=mi(t[0].min,t[0].max),i=mi(t[1].min,t[1].max);let o,[a,s]=e.move_strategy,l=!1,c=!1,d="",p=0;if("updateCoordinate"===a.type&&ID(0,n)&&(o=a.inputSpan.input,l=!0,d+=o.slice(p,a.inputSpan.start),d+=__dcg_shared_module_exports__.Yb(r),p=a.inputSpan.end),"updateCoordinate"===s.type&&ID(1,n)&&(o=s.inputSpan.input,c=!0,d+=o.slice(p,s.inputSpan.start),d+=__dcg_shared_module_exports__.Yb(i),p=s.inputSpan.end),void 0!==o)return d+=o.slice(p),{latex:d,x:l?r:void 0,y:c?i:void 0}}function ID(e,t){switch(t){case"X":return 0===e;case"Y":return 1===e;case"XY":return!0;default:return!1}}function WL(e,t,n){n.forEach((n=>{d5(e,t,n)}))}function jL(e,t,n,r,i,o,a){var s=!1,l=1===t.length;let c=[];for(let p=0;p<t.length;p++){let u=t[p];if(u.tableInfo)p5(e,u,r[p],i),s=!0;else{var d=e.getItemModel(u.sketch.id);if(d)if("image"===d.type)s=s||f5(e,d,u,r[p],i);else if("expression"===d.type){let t=m5({controller:e,movedExpr:d,currentScreenPoint:n[p],targetScreenPoint:r[p],projection:i,transform:o&&o[p],isOnlyPoint:l,keyboardDirection:a});t&&c.push(t)}}}return s=s||qL(i,c)}function YL(e,t){t.forEach((t=>{u5(e,t)}))}function d5(e,t,n){if(n.tableInfo){Dr(t,void 0);let r=e.getItemModel(n.tableInfo.tableId);if(!r||"table"!==r.type)return;kS(r,!0)}else{let t=e.getItemModel(n.sketch.id);if(!t||"expression"!==t.type&&"image"!==t.type||!t.formula||!t.formula.move_strategy)return;for(var r=t.formula.move_strategy,i=0;i<r.length;i++){let n=r[i];if("updateCoordinate"===r[i].type||"updateGliderParameter"===r[i].type)"image"===t.type?LS(t,!0):"expression"===t.type&&ZS(t,!0);else if("updateSlider"===n.type||"updateSliderNonlinear"===n.type||"updateSliderForGlider"===n.type){var o,a=e.getItemModel(n.id);if(!a||"expression"!==a.type)continue;if("NONE"===(o="expression"===t.type?t.reconciledDragMode:void 0)||0===i&&"Y"===o||1===i&&"X"===o)continue;Mg(a,!0)}}}}function u5(e,t){for(let t of e.getAllItemModels())"table"===t.type?t.draggingOnGraphpaper&&kS(t,!1):"expression"===t.type?(t.sliderDragging&&Mg(t,!1),t.draggingOnGraphpaper&&ZS(t,!1)):"image"===t.type&&t.draggingOnGraphpaper&&LS(t,!1)}function p5(e,t,n,r){var i=t.tableInfo.tableId,o=t.tableInfo.rowIndex,a=t.tableInfo.columnId,s=t.tableInfo.dragX,l=t.tableInfo.dragY,c=e.getItemModel(i);if(c&&"table"===c.type){var d=Dn(c,a);if(d){var p=r.closestPointOnScreen(n),u=r.pixelsToMath.mapRect(JL(p,.5)),h={x:__dcg_shared_module_exports__.Yb(mi(u.left,u.right)),y:__dcg_shared_module_exports__.Yb(mi(u.top,u.bottom))};if(s&&Dl(c,{row:o+1,column:0},h.x),l){Dl(c,{row:o+1,column:d.index},h.y)}}}}function JL(e,t){return{left:e.x-t,right:e.x+t,top:e.y+t,bottom:e.y-t}}function h5(e,t,n){if(0===n[0]&&0===n[1])return{x:t.x,y:t.y,width:e.width,height:e.height};let r=Math.cos(e.radianAngle),i=Math.sin(e.radianAngle),o=t.x-e.x,a=t.y-e.y;if(0===n[0])return{x:e.x,y:e.y,width:e.width,height:2*n[1]*(r*a+i*o)};if(0===n[1])return{x:e.x,y:e.y,width:2*n[0]*(r*o-i*a),height:e.height};var s=2*(e.width*n[0]*(r*o-i*a)+e.height*n[1]*(i*o+r*a))/(e.width*e.width+e.height*e.height);return{x:e.x,y:e.y,width:s*e.width,height:s*e.height}}function g5(e,t,n){let r=[{x:t.left,y:t.bottom},{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.right,y:t.bottom}],i=["x","y","width","height"],o={x:1/0,y:1/0,width:1/0,height:1/0},a={x:-1/0,y:-1/0,width:-1/0,height:-1/0};for(let t of r){let r=h5(e,t,n);for(let e of i)o[e]=Math.min(o[e],r[e]),a[e]=Math.max(a[e],r[e])}return{min:o,max:a}}function Rf(e){return void 0===e?NaN:e[0]}function f5(e,t,n,r,i){var o,a=t.formula;if(!a||4!==(null==(o=a.move_strategy)?void 0:o.length))return!1;var s=a.dimensions,l={x:Rf(s.x),y:Rf(s.y),width:Rf(s.width),height:Rf(s.height),radianAngle:Rf(s.radianAngle)},c=n.scaleFactor||[0,0],d=0!==c[0]&&0!==c[1],p=i.closestPointOnScreen(r),u=g5(l,i.pixelsToMath.mapRect(JL(p,d?.05:.5)),c),h=i.mathToPixels.mapRect({left:l.x-.5*l.width,right:l.x+.5*l.width,top:l.y-.5*l.height,bottom:l.y+.5*l.height}),g=Math.abs(h.right-h.left),m=Math.abs(h.bottom-h.top),f=i.mathToPixels.mapRect({left:u.min.x-.5*u.min.width,right:u.min.x+.5*u.min.width,top:u.min.y-.5*u.min.height,bottom:u.min.y+.5*u.min.height}),y=Math.abs(f.right-f.left),b=Math.abs(f.bottom-f.top);if(y<g&&y<1||b<m&&b<1)return!1;var x=["width","height","x","y"];let _=!1;for(var v=0;v<x.length;v++){var w=x[v],A=a.move_strategy[v];switch(A.type){case"updateCoordinate":var k=mi(u.min[w],u.max[w]),E=A.inputSpan.input,I=__dcg_shared_module_exports__.Yb(k);switch(w){case"width":case"height":qo(t,w,I);break;case"x":if("updateCoordinate"===a.move_strategy[3].type){let e=a.move_strategy[3],n=mi(u.min.y,u.max.y),r=__dcg_shared_module_exports__.Yb(n);qo(t,"center",E.slice(0,A.inputSpan.start)+I+E.slice(A.inputSpan.end,e.inputSpan.start)+r+E.slice(e.inputSpan.end))}else{qo(t,"center",E.slice(0,A.inputSpan.start)+I+E.slice(A.inputSpan.end))}break;case"y":if("updateCoordinate"!==a.move_strategy[2].type){qo(t,"center",E.slice(0,A.inputSpan.start)+I+E.slice(A.inputSpan.end))}break;default:return w}_=!0;break;case"updateSlider":var M=e.getItemModel(A.id);if(!M||"expression"!==M.type)continue;var S=A.coefficients[0],C=A.coefficients[1],T=mi(C*u.min[w]+S,C*u.max[w]+S),D=M.latex;tx(M,T),M.latex!==D&&(_=!0)}}return _}function m5({controller:e,movedExpr:t,currentScreenPoint:n,targetScreenPoint:r,projection:i,transform:o,isOnlyPoint:a,keyboardDirection:s}){var l,c;let d=t.formula;if(!d||2!==(null==(l=d.move_strategy)?void 0:l.length))return;let p=t.reconciledDragMode||"NONE",[u,h]=d.move_strategy;if(a&&"updateCoordinate"===u.type&&"updateCoordinate"===h.type){let e=i.reverse_map_pt(r),t=GD(i,e);t&&(r=i.map_pt(t))}let g,m=a?i.closestPointOnScreen(r):r;if(!s){let n;switch(u.type){case"updateSliderNonlinear":n=$L({controller:e,projection:i,transform:o,strategy:u,targetScreenPoint:m,clampToViewport:a});break;case"updateGliderParameter":case"updateSliderForGlider":n=MD({controller:e,projection:i,transform:o,strategy:u,targetScreenPoint:m});break;default:n=TD({controller:e,projection:i,transform:o,formula:d,moveStrategy:d.move_strategy,dragMode:p,targetScreenPoint:m,clampToViewport:a})}return n&&__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},n),{commitSliderSoftLimits:!1,transform:o,model:t})}if("updateSliderNonlinear"===u.type){if(null==s||!s.x)return;g=HL({projection:i,transform:o,controller:e,strategy:u,mode:s.x,clampToViewport:a})}else if("updateGliderParameter"===u.type||"updateSliderForGlider"===u.type)g=MD({controller:e,projection:i,transform:o,strategy:u,targetScreenPoint:m});else{let t=s.x?0:1,r=s.x?m.x-n.x:m.y-n.y,l=d.move_strategy[t];if("updateSlider"===l.type){let n=e.getItemModel(l.id);if("expression"!==(null==n?void 0:n.type))throw new Error(`Programming error: updateSlider move strategy should point to an expression item, but found ${null==n?void 0:n.type}`);let o=Ga(n);if(o){let e=i.mathToPixels.mapPoint({x:0,y:0}),n=l.coefficients[1],a=Math.abs(0===t?i.mathToPixels.mapX(o/n)-e.x:i.mathToPixels.mapY(o/n)-e.y);r=a*Math.ceil(1/a)*(r>0?1:-1);let d=null!=(c=s.x)?c:s.y;("bigup"===d||"bigdown"===d)&&(r*=5)}}g=TD({controller:e,projection:i,transform:o,formula:d,moveStrategy:d.move_strategy,dragMode:p,targetScreenPoint:{x:n.x+(0===t?r:0),y:n.y+(1===t?r:0)},clampToViewport:a})}return g&&__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},g),{commitSliderSoftLimits:!0,transform:o,model:t})}function GD(e,t){if(!e.settings.showGrid)return;let n=wd(e),r=n.minorStepX,i=n.minorStepY,o=e.map_pt(t),a={x:Math.round(t.x/r)*r,y:Math.round(t.y/i)*i},s=e.map_pt(a);return __dcg_shared_module_exports__._(s.x-o.x,s.y-o.y)<=5?a:void 0}function ZL(e,t){let n={i:0,x:NaN,y:NaN},r={i:1,x:NaN,y:NaN};if(!e||!t)return[n,r];let i=XL(e.typedRuntimeValue),o=XL(t.typedRuntimeValue);if(!i||!o)return[n,r];let a=QL(i,o);return n.x=a[0],n.y=a[1],a=QL(o,i),r.x=a[0],r.y=a[1],[n,r]}function XL(e){switch(e.valueType){case __dcg_shared_module_exports__.A:case __dcg_shared_module_exports__.G:case __dcg_shared_module_exports__.I:return{type:"straight",def:e.value};case __dcg_shared_module_exports__.C:return{type:"circle",def:e.value};case __dcg_shared_module_exports__.E:return{type:"arc",def:e.value}}}function QL(e,t){switch(e.type){case"straight":switch(t.type){case"straight":return __dcg_shared_module_exports__.zb(e.def,t.def);case"circle":return __dcg_shared_module_exports__.xb(e.def,t.def);case"arc":return __dcg_shared_module_exports__.Bb(e.def,t.def)}case"circle":switch(t.type){case"straight":return __dcg_shared_module_exports__.yb(e.def,t.def);case"circle":return __dcg_shared_module_exports__.wb(e.def,t.def);case"arc":return __dcg_shared_module_exports__.Ab(e.def,t.def)}case"arc":switch(t.type){case"straight":return __dcg_shared_module_exports__.Db(e.def,t.def);case"circle":return __dcg_shared_module_exports__.Cb(e.def,t.def);case"arc":return __dcg_shared_module_exports__.Eb(e.def,t.def)}}return[NaN,NaN]}var eP=[{key:"compass",objects:"Segment + Point"},{key:"midpoint",objects:"Segment"},{key:"parallel",objects:"Line + Point"},{key:"perpendicular",objects:"Line + Point"},{key:"image",objects:"2 Points"}];function ms(e){return __dcg_shared_module_exports__.Da(e)}function ys(e){this.setState(e)}function Nf(e){return!!e&&!(!y5(e)&&"Circle"!==e&&"Arc"!==e&&"Polygon"!==e)}function y5(e){if(!e)return!1;switch(e){case"Line":case"Ray":case"Vector":case"Segment":return!0}return!1}ys.prototype.setState=function(e){this.state=e},ys.prototype.getState=function(){return this.state},ys.prototype.set=function(e,t){if(1!==arguments.length){if("string"==typeof e)return this.state=ms(this.state),void(this.state[e]=t);var n,r=e.length-2,i=e[r+1];this.state=n=ms(this.state);for(var o=0;o<=r;o++){var a=e[o];n=n[a]=ms(n[a])}n[i]=t}else this.state=e},ys.prototype.deepMutate=function(e,t){if(1===arguments.length)return t=e,this.state=__dcg_shared_module_exports__.k(this.state),void t(this.state);if("string"==typeof e)return this.state=ms(this.state),this.state[e]=__dcg_shared_module_exports__.k(this.state[e]),void t(this.state[e]);for(var n=e.length-2,r=e[n+1],i=this.state=ms(this.state),o=0;o<=n;o++){var a=e[o];i=i[a]=ms(i[a])}t(i=i[r]=__dcg_shared_module_exports__.k(i[r]))},ys.prototype.shallowMutate=function(e,t){if(1===arguments.length)return t=e,this.state=ms(this.state),void t(this.state);if("string"==typeof e)return this.state=ms(this.state),this.state[e]=ms(this.state[e]),void t(this.state[e]);for(var n=e.length-1,r=this.state=ms(this.state),i=0;i<=n;i++){var o=e[i];r=r[o]=ms(r[o])}t(r)},ys.areShallowEqual=function(e,t){},ys.areDeepEqual=function(e,t){};var b5=!0,x5=!1;function w5(){return{point:__dcg_shared_module_exports__.gc.PURPLE,line:__dcg_shared_module_exports__.gc.BLUE,circle:__dcg_shared_module_exports__.gc.GREEN,polygon:__dcg_shared_module_exports__.gc.BLUE,angle:__dcg_shared_module_exports__.gc.BLACK}}function v5(e,t){let n=[],r=e.parents;for(let e=0;e<r.length;e++){let i=r[e];"hardcoded"===i.type?n[e]=i.id:n[e]=t[i.id]}return n}var Bf=class{constructor(e){this._nextObjectId=0,this.clear(),this.controller=e,this.s=this.controller.s,this._tools={};for(let e in DD)this._tools[e]=new DD[e](this)}onPreviewChange(){var e,t,n=this.controller.getToolPreviewJSONState(),r=this.getUncommittedObjects();for(var i in r){var o=r[i];"polygon"===o.type&&this.isObjectHovered(o.parents[0])&&o.parents.push(o.parents[0])}__dcg_shared_module_exports__.Ea(n,r)?this.controller.dispatch({type:"render"}):this.controller.dispatch({type:"set-tool-preview-state",state:r}),null==(t=null==(e=this.controller.getGrapher())?void 0:e.poiController)||t.updateGeoHoveredObjects()}peekNextObjectId(){return"\\token{"+this._nextObjectId.toString()+"}"}generateObjectId(){let e=this.peekNextObjectId();return this._nextObjectId+=1,e}updateNextObjectId(e){e>this._nextObjectId&&(this._nextObjectId=e)}clear(){let e={objects:{},ui:{currentTool:{name:"selection",idMap:{},reusableInputIdMap:{},lockedIds:{},inputIndex:0,outputHistory:{}},colors:w5()},hoveredObjects:[],uncommittedIds:{},selectedIds:{},lastFocusedId:"",nextSelectionNumber:1,fadeAnimations:{},maxAnimationEndTime:0};this.store?this.store.set(e):this.store=new ys(e)}onMouseAction(e,t){let n=this.getCurrentTool();if(n.getNumberInputLatex())return{committed:void 0};switch(this.updateNextObjectId(this.controller.findLastTokenNumber()+1),this.clearHoveredObjects(),e){case"press":return n.onPress(t),{committed:void 0};case"move":return n.onMove(t),{committed:void 0};case"release":return n.onRelease(t)}}getNonObjectsState(){return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.store.getState()),{objects:void 0})}getCurrentTool(){return this.getTool(this.getToolMode())}getTool(e){return this._tools[e]}defaultColorForObject(e,t){switch(t.type){case"point":case"point-reference":case"midpoint":case"glider":case"intersection":return e.colors.point;case"line":case"segment":case"polygon-segment":case"ray":case"perpendicular":case"parallel":return e.colors.line;case"circle":case"compass":case"arc":return e.colors.circle;case"polygon":return e.colors.polygon;case"angle":case"angles":case"directedangle":case"directedangles":return e.colors.angle;case"dilation":case"translation":case"reflection":case"rotation":return __dcg_shared_module_exports__.gc.GRAY;case"transformed-object":return __dcg_shared_module_exports__.gc.BLACK;default:return t}}_deselectAll(){this.store.shallowMutate((e=>{e.nextSelectionNumber=1,e.selectedIds={}}))}_modifySelection(e){let t=this.getNonObjectsState().nextSelectionNumber;this.store.shallowMutate("selectedIds",(n=>{for(let r in e)e[r]?n[r]||(n[r]=t,t+=1):delete n[r]})),this.store.set("nextSelectionNumber",t)}_addObjects(e){this.store.shallowMutate("objects",(t=>{for(let n of e)t[n.id]=n}))}_deleteObjects(e){if(!e.length)return;let t={};this.store.shallowMutate("objects",(n=>{for(let r of e)t[r]=x5,delete n[r]})),this._modifySelection(t),this.store.shallowMutate("uncommittedIds",(t=>{for(let n of e)delete t[n]}))}createCustomToolOutput(e){this.generateIdsForNewToolOutputs(e);let{idMap:t}=this.getNonObjectsState().ui.currentTool,n=[],r=this.getNonObjectsState().ui;for(let i of e.outputs){let e=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},i),{id:t[i.id],color:this.defaultColorForObject(r,i),parents:v5(i,t)});n.push(e)}this._shouldNewObjectsBeMarkedUncommitted()&&this.store.shallowMutate("uncommittedIds",(e=>{for(let t of n)e[t.id]=!0})),this._addObjects(n)}_getReusableIdForCurrentInput(e){let t=this.getCurrentTool();if(!t.getSpec)return;let{inputIndex:n,reusableInputIdMap:r}=this.getNonObjectsState().ui.currentTool,i=t.getSpec().inputs[n];if(!i)return;let o=i.id;return void 0!==e&&(o+="-"+e),r[o]}_createInputObject(e,t){let n,r=this._shouldNewObjectsBeMarkedUncommitted();n=r&&this._getReusableIdForCurrentInput(t)||this.generateObjectId(),r&&this.store.set(["uncommittedIds",n],!0);let i=this.defaultColorForObject(this.getNonObjectsState().ui,e),o=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({hidden:!1},e),{id:n,color:i});return this._addObjects([o]),n}attemptLockToolInputIn(e){let{currentTool:t}=this.getNonObjectsState().ui,n=t.inputIndex,r=e.inputs[n];if(!r)return;let i=r.id,o=t.idMap[i];if(o){this.store.set(["ui","currentTool","inputIndex"],n+1),this.store.set(["ui","currentTool","lockedIds",o],!0);for(var a=0;a<2;a++){let e=i+"-"+a,n=t.idMap[e];n&&this.store.set(["ui","currentTool","lockedIds",n],!0)}this.updateFadeAnimations()}else this.getCurrentTool().canNextInputBePoint()||this.controller.dispatch({type:"select-geo-tool",tool:"selection"})}generateIdsForNewToolOutputs(e){let{idMap:t}=this.getNonObjectsState().ui.currentTool,n=!1,r={};for(let i of e.outputs)t[i.id]||(n=!0,r[i.id]=this.generateObjectId());n&&this.store.set(["ui","currentTool","idMap"],__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},t),r))}tentativelyMatchToolInput(e,t){let{currentTool:n}=this.getNonObjectsState().ui,r=n.inputIndex,i=e.inputs[r];if(!i)return;let o=i.id;this.store.set(["ui","currentTool","idMap",o],t)}createToolInputDependency(e,t,n){let r=this._createInputObject(e,n),{currentTool:i}=this.getNonObjectsState().ui,o=i.inputIndex,a=t.inputs[o];if(!a)throw new Error("programming error: could not find input "+o+" in spec");let s=a.id;return this.store.set(["ui","currentTool","idMap",s+"-"+n],r),r}isObjectALockedToolInput(e){return!!this.getNonObjectsState().ui.currentTool.lockedIds[e]}getEnabledAdditionalTools(){return eP.filter((e=>!0))}getAdditionalTools(){return this.getEnabledAdditionalTools()}isAnyAdditionalToolEnabled(){return this.getAdditionalTools().length>0}setObjectSelected(e){let t={};t[e]=b5,this._modifySelection(t)}setObjectsSelected(e){__dcg_shared_module_exports__.ka(e,(e=>{this.setObjectSelected(e)}))}deleteSelectedObjects(){let e=this.getSelectedObjectIdsUnsorted();this._deleteObjects(e)}isObjectHovered(e){let t=this.getNonObjectsState().hoveredObjects;for(let n of t)if("calcId"in n&&n.calcId===e)return!0;return!1}isObjectUncommitted(e){return!!this.getNonObjectsState().uncommittedIds[e]}getUncommittedObjectIds(){return Object.keys(this.getNonObjectsState().uncommittedIds)}getUncommittedObjects(){let e={},t=this.store.getState().objects,n=this.getUncommittedObjectIds();for(let r of n)e[r]=t[r];return e}isTemporaryToolOutput(e){let{idMap:t,lockedIds:n,reusableInputIdMap:r}=this.store.getState().ui.currentTool;for(var i in r)if(r[i]===e&&!n[e])return!0;for(var i in t)if(t[i]===e&&!n[e])return!0;return!1}isValidNextInputType(e){let t=this.getCurrentTool(),n=t.getNonPointInputType();return e&&__dcg_shared_module_exports__.S(e)&&(e=__dcg_shared_module_exports__.T(e)),!!(n&&e&&Aw(e,n)||t.canNextInputBePoint()&&e&&Aw(e,"point"))}recordCommittedOutput(e){this.store.shallowMutate(["ui","currentTool","outputHistory"],(t=>{t[e]=!0}))}updateFadeAnimations(){let e=this.controller.getAllItemModels(),t=Date.now(),n=-1/0;this.store.shallowMutate(["fadeAnimations"],(r=>{var i,o;if("selection"===this.getCurrentTool().toolType){for(let e in r)r[e]={type:"fade-in",start:t-150};n=t-150}else for(let a of e){if("expression"!==a.type||!a.latex)continue;let e,s=a.id,l=null==(i=a.formula)?void 0:i.geometry;e="selection"===this.getCurrentTool().toolType?"fade-in":null!=l&&l.unconstructable?"fade-out":this.getCurrentTool().canNextInputBePoint()&&null!=l&&l.valueType&&!__dcg_shared_module_exports__.V(l.valueType,__dcg_shared_module_exports__.K)&&!__dcg_shared_module_exports__.V(l.valueType,__dcg_shared_module_exports__.M)||null!=l&&l.valueType&&__dcg_shared_module_exports__.V(l.valueType,__dcg_shared_module_exports__.y)&&this.isValidNextInputType(__dcg_shared_module_exports__.A)||this.isValidNextInputType(null==l?void 0:l.valueType)||this.store.getState().ui.currentTool.outputHistory[s]?"fade-in":"fade-out";let c=this.store.getState().fadeAnimations[s];if(c&&c.type!==e){let i=__dcg_shared_module_exports__.kb(t-c.start,0,150),o=t+i-150;r[s]={type:e,start:o},n=Math.max(n,o)}else if("fade-out"===e){let e=null!=(o=null==c?void 0:c.start)?o:t;r[s]={type:"fade-out",start:e},n=Math.max(n,e)}}})),isFinite(n)&&this.store.set("maxAnimationEndTime",n+150)}getToolFadeOpacity(e){let t=this.controller.getItemModel(e);if("expression"!==(null==t?void 0:t.type))return 1;let n=this.store.getState().fadeAnimations[t.id];if(!n)return 1;let r=Date.now(),i=__dcg_shared_module_exports__.kb((r-n.start)/150,0,1);return("fade-in"===n.type?.2:1)*(1-i)+("fade-in"===n.type?1:.2)*i}isFading(){return Date.now()<=this.store.getState().maxAnimationEndTime}isObjectSelected(e){return!!this.getNonObjectsState().selectedIds[e]}getSelectedObjectIdsUnsorted(){return Object.keys(this.getNonObjectsState().selectedIds)}getSelectedObjectIdsSorted(){let e=this.getNonObjectsState().selectedIds,t=this.getSelectedObjectIdsUnsorted();return __dcg_shared_module_exports__.ua(t,(t=>e[t]))}deselectAllObjects(){this._deselectAll()}getToolMode(){return this.getNonObjectsState().ui.currentTool.name}setToolMode(e){let t=this.getToolMode();this.store.set(["ui","currentTool"],{name:e,idMap:{},reusableInputIdMap:{},lockedIds:{},inputIndex:0,outputHistory:e!==t?{}:this.store.getState().ui.currentTool.outputHistory}),this.updateFadeAnimations(),e!==t&&this.controller.isGraphPaperFocused()&&(Ct(this.getCurrentToolDisplayName()+"."),this.speakCurrentGeoToolHint())}resetToolMode(){this.setToolMode(this.getToolMode())}areAnyObjectsHovered(){return!!this.getNonObjectsState().hoveredObjects.length}setObjectHovered(e){this.store.deepMutate((t=>{t.hoveredObjects.push(e)}))}getNecessaryComplexObject(){return this.getCurrentTool().getNecessaryComplexObject()}objectIsInstanceOf(e,t){let n=null==e?void 0:e.typedRuntimeValue.valueType;if(n)return Aw(n,t)}getSelectionBox(){return this.getTool("selection").getSelectionBox()}commitObjects(){this.store.set("uncommittedIds",{}),this.store.set("objects",{})}applyTransformation(e){}getProjection(){return this.controller.getGrapher().getProjection()}_getPixelScaler(){return this.getProjection().mapx(1)-this.getProjection().mapx(0)}_getPixelsFromPoint(e){return this._getPixelScaler()*e-6}_getPixelsFromPath(e){return this._getPixelScaler()*e-1}_getPixelsAwayFromDef(e,t,n){let r=n.typedRuntimeValue;switch(r.valueType){case __dcg_shared_module_exports__.q:{let n=t.mapx(r.value[0]),i=t.mapy(r.value[1]);return __dcg_shared_module_exports__._(e.x-n,e.y-i)-6}case __dcg_shared_module_exports__.G:case __dcg_shared_module_exports__.A:case __dcg_shared_module_exports__.I:{let n=t.mapx(r.value[0][0]),s=t.mapy(r.value[0][1]),l=t.mapx(r.value[1][0]),c=t.mapy(r.value[1][1]);var i=r.valueType===__dcg_shared_module_exports__.G,o=r.valueType!==__dcg_shared_module_exports__.A,a=__dcg_shared_module_exports__.ca(e.x,e.y,n,s,l,c,i,o);return a?__dcg_shared_module_exports__._(a[0]-e.x,a[1]-e.y):1/0}case __dcg_shared_module_exports__.C:{let n=r.value[0][0],i=r.value[0][1],o=r.value[1],a=0,l=2*Math.PI,c=t.reverse_mapx(e.x),d=t.reverse_mapy(e.y);return(s=__dcg_shared_module_exports__.ea(c,d,n,i,o,a,l))?t.screen.width/(t.viewport.xmax-t.viewport.xmin)*__dcg_shared_module_exports__._(s[0]-c,s[1]-d):1/0}case __dcg_shared_module_exports__.E:{let n=__dcg_shared_module_exports__.vb(r.value);if(!n)return 1/0;let i=(n,r,i,o)=>{let a=t.mapx(n[0]),s=t.mapy(n[1]),l=t.mapx(r[0]),c=t.mapy(r[1]);var d=__dcg_shared_module_exports__.ca(e.x,e.y,a,s,l,c,i,o);return d?__dcg_shared_module_exports__._(d[0]-e.x,d[1]-e.y):1/0};if("arc"===n.type){let r=t.reverse_mapx(e.x),i=t.reverse_mapy(e.y);var s;return(s=__dcg_shared_module_exports__.ea(r,i,n.center[0],n.center[1],n.radius,n.startAngle,n.endAngle))?t.screen.width/(t.viewport.xmax-t.viewport.xmin)*__dcg_shared_module_exports__._(s[0]-r,s[1]-i):1/0}return"segment"===n.type?i(n.start,n.end,!1,!1):Math.min(i(n.start1,n.end1,!1,!0),i(n.start2,n.end2,!1,!0))}case __dcg_shared_module_exports__.y:{let n=[];return r.value.forEach((e=>{n.push(t.mapx(e[0]),t.mapy(e[1]))})),__dcg_shared_module_exports__.ib(n,[e.x,e.y])?0:1/0}case __dcg_shared_module_exports__.K:case __dcg_shared_module_exports__.M:{let n=t.screen.width/(t.viewport.xmax-t.viewport.xmin),i=t.screen.height/(t.viewport.ymax-t.viewport.ymin),[[o,a],s,l]=r.value,c=cp(l,t),d=c/n,p=t.reverse_mapx(e.x),u=t.reverse_mapy(e.y),h=1/0,g=u-a,m=p-o,f=Math.atan2(g,m);if(__dcg_shared_module_exports__.Z(f,s,l)){__dcg_shared_module_exports__._(g*i,m*n)<=c+7&&(h=0)}else{let e=__dcg_shared_module_exports__.ba(p,u,o+d*Math.cos(s),a+d*Math.sin(s),o,a),t=__dcg_shared_module_exports__.ba(p,u,o+d*Math.cos(s+l),a+d*Math.sin(s+l),o,a),r=__dcg_shared_module_exports__._(n*(e[0]-p),i*(e[1]-u)),c=__dcg_shared_module_exports__._(n*(t[0]-p),i*(t[1]-u));h=Math.min(r,c)}return h}case __dcg_shared_module_exports__.O:default:return 1/0}}_addAnyNearbyPolygonEdges(e,t,n,r){if(e.typedRuntimeValue.valueType!==__dcg_shared_module_exports__.y)return;let i=e.typedRuntimeValue.value;for(var o=0;o<i.length;o++){let s=i[o],l=i[(o+1)%i.length],c=__dcg_shared_module_exports__.da(t.x,t.y,s[0],s[1],l[0],l[1]);var a=this._getPixelsFromPath(c);if(a<n){let t=e.referenceLatex+".\\operatorname{segments}\\left["+(o+1)+"\\right]",n={calcId:e.calcId,listIndex:e.listIndex,hidden:e.hidden,assignment:t,referenceLatex:t,data:e.data,typedRuntimeValue:{valueType:__dcg_shared_module_exports__.A,value:[s,l]},polygonEdgeInfo:{edgeNumber:o,polygonDef:e}};r.push({def:n,layerNumber:-1,pixelsAway:a,polygonEdge:o})}}}_getObjectsUnderMouse(e,t){let n=[],r=this.getCurrentTool().getNecessaryComplexObject(),i=void 0===r||"segment"===r||"straight"===r,o=this.convertCanvasPixelsToPoint(e),a=this.getProjection();return Ed(this.controller,(s=>{if(this.isTemporaryToolOutput(s.assignment)||s.hidden||s.data.unconstructable||(i&&s.typedRuntimeValue.valueType===__dcg_shared_module_exports__.y&&this._addAnyNearbyPolygonEdges(s,o,t,n),r&&!this.objectIsInstanceOf(s,r)))return;let l=this._getPixelsAwayFromDef(e,a,s);if(l<=t){let e={def:s,layerNumber:0,pixelsAway:l};n.push(e)}})),n.sort(((e,t)=>{let n=t.layerNumber-e.layerNumber;return 0!==n?n:e.pixelsAway-t.pixelsAway})),n}convertCanvasPixelsToPoint(e){return this.getProjection().reverse_map_pt(e)}convertPointToCanvasPixels(e){return this.getProjection().map_pt(e)}deleteObjectsAndRememberReusableId(e){for(let t in e)this._deleteObjects([e[t]]);this.store.shallowMutate(["ui","currentTool"],(t=>t.reusableInputIdMap=e))}getObjectDefUnderMouse(e,t){let n=this.convertPointToCanvasPixels(e),r=this._getObjectsUnderMouse(n,t)[0];return r&&r.def}getOrCreatePointNearMouse(e,t){let n=this.convertPointToCanvasPixels(e),r=this._getObjectsUnderMouse(n,t),i=[];for(let e of r){let t=e.def,n=oL(t);"Point"===n?i.push({def:t,type:n}):"Polygon"===n||Nf(n)&&i.push({def:t,type:n})}let{def:o,type:a}=i[0]||{},{def:s,type:l}=i[1]||{};if("Point"===a)return{type:"def",def:o};if(Nf(a)&&Nf(l)){let r=ZL(o,s).map((t=>({x:t.x,y:t.y,i:t.i,pixelsFromPoint:this._getPixelsFromPoint(Sd(t.x-e.x,t.y-e.y))})));if(r.sort(((e,t)=>e.pixelsFromPoint-t.pixelsFromPoint)),r=r.filter((e=>e.pixelsFromPoint<5)),r[0]){let e=0===r[0].i?[o,s]:[s,o],i=this.findIncidentPointDef(o,s);if(null!=i&&i.hidden){let r,o=!1;if(rD(i.typedRuntimeValue,((e,i)=>{let[a,s]=e.value,l=this.getProjection().mathToPixels.mapPoint({x:a,y:s});Sd(l.x-n.x,l.y-n.y)<t&&(o=!0,r=i)})),o)return void 0!==r&&(i=iD(i,r)),{type:"spec",spec:{type:"point-reference",targetSpec:{type:"intersection",parentDefs:e},parentDefs:[i]}}}return{type:"spec",spec:{type:"intersection",parentDefs:e}}}return this.makeGliderSpec(e,o)}if(Nf(a))return this.makeGliderSpec(e,o);let c=this.computeRoundedPt(e);return{type:"spec",spec:{type:"point",x:c.x,y:c.y,parentDefs:[]}}}findIncidentPointDef(e,t){let n=e.typedRuntimeValue.valueType,r=t.typedRuntimeValue.valueType,i={};Ed(this.controller,(e=>{if(e.data.identifier&&__dcg_shared_module_exports__.V(e.typedRuntimeValue.valueType,__dcg_shared_module_exports__.q)){let t=e.data.identifier;i[t]=e}}),{expandLists:!1});let o=__dcg_shared_module_exports__.Wb({getGeometryTree:e=>e.data.call,getValueType:e=>e.typedRuntimeValue.valueType,lookup:e=>i[e],resolvesTo:(e,t)=>e===t.data.identifier},e,n,t,r);if(o){let[e,t]=o,n=i[e];return void 0===t?n:iD(n,t)}}makeGliderSpec(e,t){return{type:"spec",spec:{type:"glider",t:Lw(this.getProjection(),e,t.typedRuntimeValue),parentDefs:[t]}}}computeRoundedPt(e){var t=GD(this.getProjection(),e);t&&(e=t);var n=.5/this._getPixelScaler();return{x:mi(e.x-n,e.x+n),y:mi(e.y-n,e.y+n)}}_shouldNewObjectsBeMarkedUncommitted(){return"selection"!==this.getToolMode()}clearHoveredObjects(){this.store.set("hoveredObjects",[])}getHoveredItems(){return this.store.getState().hoveredObjects}cancelToolplay(){this._deleteObjects(this.getUncommittedObjectIds()),this.clearHoveredObjects(),this.resetToolMode()}isToolplayActive(){return this.getNonObjectsState().ui.currentTool.inputIndex>0}getComputedBoard(){let e=new _f;return Ed(this.controller,((t,n)=>{e.add(t,n)})),e}findDefsForInputId(e){let t=[];return Ed(this.controller,(n=>{(n.assignment===e||n.referenceLatex===e)&&t.push(n)})),t}isCreatingNewTransform(){return"transformation"===this.getCurrentTool().toolType}getCurrentToolDisplayName(){return this.controller.s(this.getCurrentTool().displayName)}isCurrentToolComplex(){return"complex"===this.getCurrentTool().toolType}isCurrentToolSingleUse(){return"transformation"===this.getCurrentTool().toolType}getIconInstructionsForTool(e){let t=this.getTool(e);return t?t.icon:[]}getDisplayNameForTool(e){let t=this.getTool(e);return t?this.controller.s(t.displayName):""}getViewportBounds(){return this.controller.getGrapher().getCurrentViewport()}getLastFocusedId(){return this.getNonObjectsState().lastFocusedId}setLastFocusedId(e){this.store.shallowMutate((t=>{t.lastFocusedId=e}))}speakCurrentGeoToolHint(){ge(this.getCurrentTool().getHint())}};function C5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var S5="ID_",Fc=function(){function e(){C5(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t=S5+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||Kf(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||Kf(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||Kf(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(this._callbacks[n]||Kf(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&Kf(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();function Kf(e,t,n,r,i,o,a,s){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}var $l=class{constructor(e=100){this.clear(),this._sizeLimit=e}clear(){this._stack=[],this._stackPointer=-1}getState(){return this._stack[this._stackPointer]}serializeForBugsnag(){function e(e){try{return JSON.stringify(e,null,2)}catch(e){return"[[could not jsonify]]"}}return{currentState:e(this._stack[this._stackPointer]),undoState:e(this._stack[this._stackPointer-1]),redoState:e(this._stack[this._stackPointer+1])}}addState(e){this.canRedo()&&this._stack.splice(this._stackPointer+1),this._stack.push(e),this._stack.length>this._sizeLimit&&this._stack.shift(),this._stackPointer=this._stack.length-1}replaceState(e){this.canRedo()&&this._stack.splice(this._stackPointer+1),this.replaceInteriorState(e)}replaceInteriorState(e){0===this._stack.length?(this._stack.push(e),this._stackPointer=0):this._stack[this._stackPointer]=e}canUndo(){return this._stackPointer>0}canRedo(){return this._stackPointer<this._stack.length-1}undo(){this.canUndo()&&(this._stackPointer-=1)}redo(){this.canRedo()&&(this._stackPointer+=1)}};function E5(e){"number"==typeof e.min&&(e.min=""+e.min),"number"==typeof e.max&&(e.max=""+e.max),"number"==typeof e.step&&(e.step=""+e.step)}function D5(e){e.slider&&E5(e.slider),"string"!=typeof e.id&&(e.id=""+e.id)}function k5(e){let t,n,r=I5(e)+1,i={};for(let o of e)if(D5(o),"folder"===o.type)t=o.id,i[o.id]&&(o.id=""+r,r+=1),n=o.id,i[o.id]=!0,o.hasOwnProperty("folderId")&&delete o.folderId;else{if(void 0!==t&&o.folderId===t?o.folderId=n:(o.folderId&&(o.folderId=""),t=void 0,n=void 0),"table"===o.type&&Array.isArray(o.columns))for(let e of o.columns)i[e.id]&&(e.id=""+r,r+=1),i[e.id]=!0;i[o.id]&&(o.id=""+r,r+=1),i[o.id]=!0}}function rP(e,t){let n=parseFloat(t);return n!==Math.floor(n)?e:Math.max(e,n)}function I5(e){let t=0;for(let n of e)if(t=rP(t,n.id),"table"===n.type&&Array.isArray(n.column))for(let e of n.columns)rP(t,e.id);return t}function Pw(e){let t=__dcg_shared_module_exports__.k(e);return Array.isArray(t.expressions.list)&&k5(t.expressions.list),t}var AD={NONE:"NONE",POSITIVE:"POSITIVE",BOTH:"BOTH"},M5={expression:!0,table:!0,image:!0,folder:!0,text:!0};function T5(e){if(e.type){if(M5.hasOwnProperty(e.type))return e.type;throw new Error("Invalid item type: '"+e.type+"'.")}return void 0!==e.text?"text":void 0!==e.columns||void 0!==e.headings?"table":"expression"}function Ow(e){return e.replace(/\\(total|length|mean|median|quantile|stdev|stddev|stdDev|stdevp|stddevp|stdDevP|var|variance|cov|corr|ceil|floor|round|abs|mod|lcm|mcm|mcd|nCr|nPr|signum|sign|arcsinh|arccosh|arctanh|arccsch|arcsech|arccoth|arccsc|arcsec|arccot)/g,"\\operatorname{$1}")}function G5(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]="latex"===n?Ow(e[n]):"values"===n?e[n].map(Ow):e[n]);return t}function A5(e){var t,n=T5(e),r={};switch(n){case"expression":for(t in e)e.hasOwnProperty(t)&&(r[t]="latex"===t?Ow(e[t]):e[t]);return r.type=n,r;case"table":for(t in e)e.hasOwnProperty(t)&&(r[t]="columns"===t?e[t].map(G5):e[t]);return r.type=n,r;case"image":for(t in e)e.hasOwnProperty(t)&&(r[t]="width"===t||"height"===t||"x"===t||"y"===t?Ow(e[t]):e[t]);return r.type=n,r;case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r.type=n,r}}var iP={none:AD.NONE,both:AD.BOTH,positive:AD.POSITIVE};function V5(e){var t={};for(var n in e)e.hasOwnProperty(n)&&("xAxisArrows"===n||"yAxisArrows"===n||(t[n]=e[n]));return t.xAxisArrowMode=iP[e.xAxisArrows||"none"],t.yAxisArrowMode=iP[e.yAxisArrows||"none"],t}function nP(e){if(e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=V5(e.graph),t.expressions={list:e.expressions.list.map(A5)},t.version=0,t}var L5=1;function _w(e){return e.replace(/\\(sech|csch)/g,"\\operatorname{$1}")}function P5(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]="latex"===n?_w(e[n]):"values"===n?e[n].map(_w):e[n]);return t}function O5(e){var t,n=e.type,r={};switch(n){case"expression":for(t in e)e.hasOwnProperty(t)&&(r[t]="latex"===t?_w(e[t]):e[t]);return r;case"table":for(t in e)e.hasOwnProperty(t)&&(r[t]="columns"===t?e[t].map(P5):e[t]);return r;case"image":for(t in e)e.hasOwnProperty(t)&&(r[t]="width"===t||"height"===t||"x"===t||"y"===t?_w(e[t]):e[t]);return r;case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r;default:throw new Error("Unexpected expression type: "+n)}}function oP(e){if(e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(O5)},t.version=L5,t}var _5=2,F5="#C0504D",R5="#4F81BD",N5="#9BBB59",B5="#8064A2",K5="#F79646",U5="#000000";function aP(e){switch(e){case F5:return __dcg_shared_module_exports__.gc.RED;case R5:return __dcg_shared_module_exports__.gc.BLUE;case N5:return __dcg_shared_module_exports__.gc.GREEN;case B5:return __dcg_shared_module_exports__.gc.PURPLE;case K5:return __dcg_shared_module_exports__.gc.ORANGE;case U5:return __dcg_shared_module_exports__.gc.BLACK;default:return e}}function q5(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]="color"===n?aP(e[n]):e[n]);return t}function H5(e){var t,n=e.type,r={};switch(n){case"expression":for(t in e)e.hasOwnProperty(t)&&(r[t]="color"===t?aP(e[t]):e[t]);return r;case"table":for(t in e)e.hasOwnProperty(t)&&(r[t]="columns"===t?e[t].map(q5):e[t]);return r;case"image":case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r;default:throw new Error("Unexpected expression type: "+n)}}function sP(e){if(e.version>1)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(H5)},t.version=_5,t}var $5=3;function VD(e){if("string"==typeof e)return e;if(void 0===e)return"";var t=e+"";return t=(t=t.replace(/1e\+?([-\d]+)/,"10^{$1}")).replace(/([-\d\.]+)e\+?([-\d]+)/,"$1\\cdot 10^{$2}")}function z5(e){var t,n=e.type,r={};switch(n){case"expression":for(t in e)e.hasOwnProperty(t)&&(r[t]="sliderMax"===t||"sliderMin"===t||"sliderInterval"===t?VD(e[t]):"domain"===t?{max:VD(e[t].max),min:VD(e[t].min)}:e[t]);return r.hasOwnProperty("sliderMin")&&void 0===r.sliderInterval&&(r.sliderInterval=""),r;case"image":case"table":case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r;default:throw new Error("Unexpected expression type: "+n)}}function lP(e){if(e.version>2)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(z5)},t.version=$5,t}var W5=4;function cP(e){switch(e){case"point":return"POINT";case"cross":return"CROSS";case"open":return"OPEN";case"normal":return"SOLID";case"dashed":return"DASHED";case"dotted":return"DOTTED";default:return e}}function j5(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]="style"===n?cP(e[n]):e[n]);return t}function Y5(e){var t,n=e.type,r={};switch(n){case"expression":for(t in e)e.hasOwnProperty(t)&&(r[t]="style"===t?cP(e[t]):e[t]);return r;case"table":for(t in e)e.hasOwnProperty(t)&&(r[t]="columns"===t?e[t].map(j5):e[t]);return r;case"image":case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r;default:throw new Error("Unexpected expression type: "+n)}}function dP(e){if(3!==e.version)throw new Error("Unexpected version: "+e.version);var t={};return t.graph=e.graph,t.expressions={list:e.expressions.list.map(Y5)},t.version=W5,t}function J5(e){var t,n={};for(var r in e)if(e.hasOwnProperty(r))switch(t=e[r],r){case"showAxes":n.showXAxis=t,n.showYAxis=t;break;case"showLabels":n.xAxisNumbers=t,n.yAxisNumbers=t,n.polarNumbers=t;break;case"labelXMode":n.xAxisStep="pi"===t?Math.PI:0;break;case"labelYMode":n.yAxisStep="pi"===t?Math.PI:0;break;default:n[r]=t}return n}function X5(e){var t={};for(var n in e)e.hasOwnProperty(n)&&("showPoints"===n||"showLine"===n||(t[n]=e[n]));return(void 0!==e.showPoints||void 0!==e.showLine)&&(e.showPoints&&e.showLine?t.columnMode="POINTS_AND_LINES":e.showPoints?t.columnMode="POINTS":e.showLine?t.columnMode="LINES":(t.hidden=!0,t.columnMode="POINTS")),t}function Q5(e){var t,n=e.type,r={};switch(n){case"expression":for(t in void 0===e.hidden?e.hasOwnProperty("graphed")?r.hidden=!e.graphed:e.hasOwnProperty("userRequestedGraphing")?r.hidden="never"===e.userRequestedGraphing:r.hidden=!1:r.hidden=e.hidden,e)if(e.hasOwnProperty(t)&&"graphed"!==t&&"userRequestedGraphing"!==t&&"hidden"!==t&&"slider"!==t){if("color"===t){"object"==typeof e.color?r.color=e.color.value:r.color=e.color;continue}if("style"===t){r.style="normal"===e.style?"SOLID":e.style;continue}if("sliderInterval"===t){r.sliderInterval="undefined"===e.sliderInterval?"":e.sliderInterval;continue}r[t]=e[t]}return r;case"table":if(e.headings||e.columns){var i=e.headings?e.headings:e.columns;if(r.columns=i.map(X5),e.rows)for(var o=0;o<r.columns.length;o++){var a=r.columns[o];a.values=[];for(var s=0;s<e.rows.length;s++)a.values.push(e.rows[s][o])}}for(t in e)e.hasOwnProperty(t)&&("rows"===t||"headings"===t||"columns"===t||(r[t]=e[t]));return r;case"image":case"text":case"folder":for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r;default:throw new Error("Unexpected expression type: "+n)}}function uP(e){if(4!==e.version)throw new Error("Unexpected version: "+e.version);return{version:5,graph:J5(e.graph),expressions:{list:e.expressions.list.map(Q5)}}}var Z5=6;function e4(e){return!(e.length<2)&&("`"===e[0]&&"`"===e[e.length-1])}function t4(e){if(e4(e))return{raw:e,parts:[e]};for(var t,n="({"+["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\{[a-zA-Z0-9]+\\}"].join("})|({")+"})",r=new RegExp(n,"g"),i=[],o=0,a=0;t=r.exec(e);){(a=t.index)>o&&i.push(e.substr(o,a-o));var s=t[0],l=s.replace(/[{}\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");i.push({symbol:l,str:s}),o=t.index+s.length}return o<e.length&&i.push(e.substr(o)),{raw:e,parts:i}}function r4(e){var t={};for(var n in e)if(e.hasOwnProperty(n)&&"style"!==n)if("values"===n&&(t[n]=e[n].map((function(e){return e?""+e:""}))),"columnMode"!==n||e.hasOwnProperty("points")||e.hasOwnProperty("lines"))t[n]=e[n];else switch(e[n]){case"LINES":t.points=!1,t.lines=!0;break;case"POINTS_AND_LINES":t.points=!0,t.lines=!0;break;default:t.points=!0,t.lines=!1}return t.hasOwnProperty("pointStyle")||(t.pointStyle="POINT"),t.hasOwnProperty("lineStyle")||(t.lineStyle="SOLID"),t.id=""+t.id,t}var pP={sliderMin:"min",sliderMax:"max",sliderInterval:"step",sliderHardMin:"hardMin",sliderHardMax:"hardMax",sliderAnimationPeriod:"animationPeriod",sliderLoopMode:"loopMode",sliderPlayDirection:"playDirection",sliderIsPlaying:"isPlaying"};function i4(e){var t=t4(e),n="";return __dcg_shared_module_exports__.ka(t.parts,(function(e){n+="object"==typeof e&&e.str?"$"+e.str:e})),n}function n4(e,t){var n=e.latex.split("=");if(2===n.length){var r=ai(n[1],t);if(isFinite(r)){var i=e.slider.hardMin?ai(e.slider.min||"-10",t):void 0,o=e.slider.hardMax?ai(e.slider.max||"10",t):void 0,a=e.slider.step?ai(e.slider.step,t):void 0,s=__dcg_shared_module_exports__.$a({target:r,step:a,hardMin:i,hardMax:o});s.min||(delete e.slider.hardMin,delete e.slider.min),s.max||(delete e.slider.hardMax,delete e.slider.max),s.step||delete e.slider.step}}}function o4(e,t,n,r){var i,o=e.type,a={};switch(o){case"folder":for(i in e)e.hasOwnProperty(i)&&("memberIds"===i||(a[i]=e[i]));break;case"expression":for(i in e)if(e.hasOwnProperty(i)){if("style"===i&&!e.hasOwnProperty("pointStyle")&&!e.hasOwnProperty("lineStyle")){var s=e[i];__dcg_shared_module_exports__.pa(["POINT","OPEN","CROSS"],s)?(a.pointStyle=s,a.lineStyle="SOLID"):__dcg_shared_module_exports__.pa(["SOLID","DASHED","DOTTED"],s)?(a.pointStyle="POINT",a.lineStyle=s):(a.pointStyle="POINT",a.lineStyle="SOLID");continue}pP.hasOwnProperty(i)?(a.slider=a.slider||{},a.slider[pP[i]]=e[i]):a[i]=e[i],e.label&&(a.label=i4(e.label))}a.latex&&a.slider&&!a.slider.isPlaying&&n4(a,r),a.hasOwnProperty("fillOpacity")||(a.fillOpacity=.4),!1===a.label&&(a.label=""),a.labelSize||(a.labelSize="medium"),a.labelOrientation||(a.labelOrientation="default"),a.verticalLabel||(a.verticalLabel=!1),a.interactiveLabel||(a.interactiveLabel=!1);break;case"image":for(i in e)!e.hasOwnProperty(i)||"x"===i||"y"===i||(a[i]=e[i]);a.center="\\left("+(e.x||"0")+","+(e.y||"0")+"\\right)",a.angle=e.angle||"0",a.foreground=!!a.foreground;break;case"text":for(i in e)e.hasOwnProperty(i)&&(a[i]=e[i]);break;case"table":for(i in e)e.hasOwnProperty(i)&&(a[i]="columns"===i?e[i].map(r4):e[i]);break;default:throw new Error("Unexpected expression type: "+o)}if(a.id=""+a.id,"folder"===e.type)t.folderId=a.id,t.memberIds=e.memberIds,a.folderId="";else{var l=n[a.id];t.memberIds&&t.memberIds[l]?a.folderId=t.folderId:(a.folderId="",t.folderId=void 0,t.memberIds=void 0)}return a}function a4(e){for(var t=0,n=/^[0-9]+$/,r=e.length-1;r>=0;r--){var i,o=e[r],a=o.id;if(n.test(a)&&((i=parseInt(a,10))>t&&(t=i)),"table"===o.type&&o.columns)for(var s=o.columns.length-1;s>=0;s--)a=o.columns[s].id,n.test(a)&&((i=parseInt(a,10))>t&&(t=i))}return t+1}function hP(e){if(5!==e.version)throw new Error("Unexpected version: "+e.version);var t=!(!e.graph||!e.graph.degreeMode),n=e.expressions.list,r=-1,i={},o={},a={};return{version:Z5,graph:e.graph,expressions:{list:n.map((function(e){return i[e.id]?(-1===r&&(r=a4(n)),o[r]=e.id,(e=__dcg_shared_module_exports__.k(e)).id=r+"",r+=1):o[e.id]=e.id,i[e.id]=!0,o4(e,a,o,t)}))}}}function LD(e){if(6!==e.version)throw new Error(`Unexpected version: ${e.version}`);let t=e.expressions.list.map((e=>{if("expression"===e.type&&e.domain){let t=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{parametricDomain:{min:e.domain.min,max:e.domain.max}});return delete t.domain,t}return e}));return{version:7,randomSeed:e.randomSeed,graph:e.graph,expressions:{list:t}}}function s4(e){return 1===e.length?`0${e}`:e}function al(){let e=new Uint8Array(16);if("undefined"!=typeof crypto)crypto.getRandomValues(e);else{if("undefined"==typeof msCrypto)return __dcg_shared_module_exports__.cb(Date.now().toString()+Math.random().toString());msCrypto.getRandomValues(e)}return Array.prototype.slice.call(e).map((e=>s4(e.toString(16)))).join("")}function PD(e){let t=e.split("_");return 2===t.length&&t[1]&&1===t[1].length?t[0]+"_{"+t[1]+"}":e}function gP(e){return!(e=__dcg_shared_module_exports__.k(e)).rules&&(e.assignment||e.expression)&&(e.rules=[{id:"1",assignment:e.assignment||"",expression:e.expression||""}]),delete e.assignment,delete e.expression,e}function Uf(e){return e.replace(/\\operatorname(?:\{stdev\}p|\{stddev\}p|\{stdDev\}P|\{var\}iance)/g,(e=>{switch(e){case"\\operatorname{stdev}p":return"\\operatorname{stdevp}";case"\\operatorname{stddev}p":return"\\operatorname{stddevp}";case"\\operatorname{stdDev}P":return"\\operatorname{stdDevP}";case"\\operatorname{var}iance":return"\\operatorname{variance}";default:return""}}))}function l4(e){return e.columns?__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{columns:e.columns.map(c4)}):e}function c4(e){let{latex:t,values:n}=e,r=__dcg_shared_module_exports__.b({},e);return t&&(r.latex=Uf(t),r.latex=PD(r.latex)),n&&(r.values=n.map((function(e){return e?Uf(e):""}))),r}function OD(e){if(7!==e.version)throw new Error(`Unexpected version: ${e.version}`);let t=e.expressions.list.map((e=>{if("image"===e.type){let t=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{opacity:""});e.hasOwnProperty("stringOpacity")?t.opacity=e.stringOpacity:e.hasOwnProperty("opacity")?t.opacity=e.opacity+"":delete t.opacity,e.clickableInfo&&(t.clickableInfo=gP(e.clickableInfo)),delete t.stringOpacity;for(let n in e)if("x"===n||"y"===n||"width"===n||"height"===n){let r=e[n];r&&(t[n]=Uf(r))}return t}if("expression"===e.type){let t=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{fillOpacity:"",lineStyle:"SOLID"});if("SINGLE_PIXEL"===e.lineStyle?t.lineWidth="1":e.hasOwnProperty("lineStyle")?t.lineStyle=e.lineStyle:delete t.lineStyle,t.hasOwnProperty("lineWidth")||(t.lineWidth=""),t.hasOwnProperty("lineOpacity")||(t.lineOpacity=""),t.hasOwnProperty("pointOpacity")||(t.pointOpacity=""),t.hasOwnProperty("pointSize")||(t.pointSize=""),t.hasOwnProperty("colorLatex")||(t.colorLatex=""),"string"==typeof e.latex&&(t.latex=Uf(e.latex)),e.latex&&(t.latex=Uf(e.latex)),e.hasOwnProperty("stringFillOpacity")?t.fillOpacity=e.stringFillOpacity:e.hasOwnProperty("fillOpacity")?t.fillOpacity=e.fillOpacity+"":delete t.fillOpacity,t.slider&&e.slider&&e.slider.newLoopMode&&(t.slider=__dcg_shared_module_exports__.k(t.slider),t.slider.loopMode=e.slider.newLoopMode,delete t.slider.newLoopMode),t.residualVariable&&(t.residualVariable=PD(t.residualVariable)),t.regressionParameters){t.regressionParameters={};for(let n in e.regressionParameters){let r=PD(n),i=e.regressionParameters[n];t.regressionParameters[r]=i}}return e.clickableInfo&&(t.clickableInfo=gP(e.clickableInfo)),t}return"table"===e.type?l4(e):e}));return{version:8,randomSeed:e.randomSeed||al(),graph:e.graph,expressions:{list:t}}}function d4(e,t,n){if(e.verticalLabel)switch(delete t.verticalLabel,t.labelAngle=n?"90":"\\frac{\\pi}{2}",e.labelOrientation){case"above":t.labelOrientation="right";break;case"below":t.labelOrientation="left";break;case"left":t.labelOrientation="above";break;case"right":t.labelOrientation="below"}e.extendedLabelOrientation&&(t.labelOrientation=e.extendedLabelOrientation,delete t.extendedLabelOrientation)}function u4(e,t){if(e.vizProps)switch(e.vizProps.dotplotSize){case"small":t.pointSize="9";break;case"large":t.pointSize="20"}if(e.vizProps){let n=__dcg_shared_module_exports__.b({},e.vizProps);delete n.dotplotSize,Object.keys(n).length?t.vizProps=n:delete t.vizProps}}function _D(e){return e.filter((({assignment:e,expression:t})=>!!e&&!!t))}function FD(e){return e.map((({assignment:e,expression:t})=>`${e}\\to ${t}`)).join(",")||""}function RD(e){let t,n=JSON.stringify(e),r=/_(\d)|_\{(\d+)\}/g,i={};for(;null!==(t=r.exec(n));){i[void 0!==t[1]?t[1]:t[2]]=!0}return i}function ND(e,t){for(let n=t+1;;n++)if(!e[n])return n}function fP(e){let t,n=JSON.stringify(e),r=/"(\d+)"/g,i={};for(;null!==(t=r.exec(n));){i[void 0!==t[1]?t[1]:t[2]]=!0}return i}function mP(e,t){for(let n=t+1;;n++)if(!e[n])return n}function p4(e){if(/^\d+$/.test(e)){let t=parseInt(e,10);return 0===t?"\\infty":""+Math.round(1e3/t)}return`\\frac{1000}{${e}}`}function h4(e,t){let n={handlerLatex:e,playing:!0,open:!0};return void 0!==t&&(n.minStepLatex=p4(t)),n}function BD(e){if(8!==e.version)throw new Error(`Unexpected version: ${e.version}`);var t=!1;e.graph&&e.graph.degreeMode&&(t=!0);let n,r,i=e.expressions.ticker||Iu,o=0,a=0,s=[];for(let l of e.expressions.list)switch(l.type){case"expression":{let i,c=__dcg_shared_module_exports__.b({},l);if(d4(l,c,t),u4(l,c),l.clickableInfo&&l.clickableInfo.rules){let t=l.clickableInfo,{rules:s}=t,d=__dcg_shared_module_exports__.e(t,["rules"]),p=_D(s),u=FD(p);if(p.length>1){n||(n=RD(e)),o=ND(n,o),r||(r=fP(e)),a=mP(r,a);let t=`A_{${o}}`;d.latex=t,i={type:"expression",id:""+a,latex:`${t}=${u}`},void 0!==l.folderId&&(i.folderId=l.folderId)}else d.latex=u;c.clickableInfo=d}c.clickableInfo&&c.clickableInfo.enabled&&c.hidden&&(c.clickableInfo.enabled=!1),s.push(c),i&&s.push(i);break}case"image":if(l.clickableInfo&&l.clickableInfo.rules){let t,i=__dcg_shared_module_exports__.b({},l),c=l.clickableInfo,{rules:d}=c,p=__dcg_shared_module_exports__.e(c,["rules"]),u=_D(d),h=FD(u);if(u.length>1){n||(n=RD(e)),o=ND(n,o),r||(r=fP(e)),a=mP(r,a);let i=`A_{${o}}`;p.latex=i,t={type:"expression",id:""+a,latex:`${i}=${h}`},void 0!==l.folderId&&(t.folderId=l.folderId)}else p.latex=h;i.clickableInfo=p,s.push(i),t&&s.push(t)}else s.push(l);break;case"simulation":{let t;if(l.clickableInfo&&l.clickableInfo.rules){t=FD(_D(l.clickableInfo.rules))}else t="";if(l.isPlaying&&""!==t){n||(n=RD(e)),o=ND(n,o);let r=`A_{${o}}`;t=`${r}=${t}`,i=h4(r,l.fps)}let r={type:"expression",id:l.id,latex:t};void 0!==l.folderId&&(r.folderId=l.folderId),s.push(r);break}default:s.push(l)}return{version:9,randomSeed:e.randomSeed||al(),graph:e.graph,expressions:{list:s,ticker:i}}}function yP(e){e.clickableInfo&&(void 0===e.description&&void 0!==e.clickableInfo.description&&(e.description=e.clickableInfo.description),delete e.clickableInfo.description,0===Object.keys(e.clickableInfo).length&&delete e.clickableInfo)}function g4(e){switch(e.labelSize){case"small":e.labelSize="0.85";break;case"medium":e.labelSize="1";break;case"large":e.labelSize="1.35"}}function f4(e){let t=0,n=/^[0-9]+$/;for(var r=e.length-1;r>=0;r--){var i=e[r];let o=i.id;if(n.test(o)){let e=parseInt(o,10);e>t&&(t=e)}if("table"===i.type&&i.columns)for(let e=i.columns.length-1;e>=0;e--)if(o=i.columns[e].id,o&&n.test(o)){let e=parseInt(o,10);e>t&&(t=e)}}return t}function KD(e){if(9!==e.version)throw new Error(`Unexpected version: ${e.version}`);let t=[],n={},r=f4(e.expressions.list);for(let i of e.expressions.list)switch(i.type){case"expression":{let e=__dcg_shared_module_exports__.b({},i);yP(e),g4(e),t.push(e);break}case"image":{let e=__dcg_shared_module_exports__.b({},i);yP(e);let r=e.description;(void 0===r||""===r)&&e.draggable&&void 0!==e.center&&""!==e.center&&(void 0===n[e.center]?n[e.center]=[e]:n[e.center].push(e)),t.push(e);break}case"table":let e=__dcg_shared_module_exports__.b({},i);if(!e.columns||!Ys(e.columns[0].latex)){t.push(e);break}let o=e.columns[0].latex;for(let n=1;n<e.columns.length;n++){let i=e.columns[n];if(!i.lines||!kl(i.latex,o))continue;delete i.lines,r++;let a={type:"expression",latex:"y="+Fb(i.latex,o,"x"),id:`${r}`};i.color&&(a.color=i.color),i.lineStyle&&(a.lineStyle=i.lineStyle),i.lineWidth&&(a.lineWidth=i.lineWidth),i.lineOpacity&&(a.lineOpacity=i.lineOpacity),t.push(a)}t.push(e);break;default:t.push(i)}for(let e of t){if("expression"!==e.type||void 0===e.latex||""===e.latex||-1===e.latex.indexOf("=")||void 0===e.dragMode||"NONE"===e.dragMode||void 0===e.label||""===e.label)continue;let t=n[e.latex.slice(0,e.latex.indexOf("="))];if(void 0!==t)for(let n of t)n.description=e.label}return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{version:10,expressions:__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e.expressions),{list:t})})}function UD(e){if(10!==e.version)throw new Error(`Unexpected version: ${e.version}`);let t=__dcg_shared_module_exports__.b({},e.graph);return delete t.projectorMode,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{version:11,graph:t})}function bP(e){return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{version:10})}var qD=[nP,oP,sP,lP,dP,uP,hP,LD,OD,BD,KD,UD],sl=11;function bs(e){if(e.version>sl)return"undefined"!=typeof console&&console.warn&&console.warn("Loading saved state with version "+e.version+" but last known version is "+sl+". States saved in a newer version of the calculator may not load correctly in an older version of the calculator."),Pw(e);if(e.hasOwnProperty("version")&&!qD[e.version])return"undefined"!=typeof console&&console.warn&&console.warn("State has invalid version "+e.version+". If a version is present, it should be a non-negative integer less than or equal to "+sl+"."),Pw(e);for(e.hasOwnProperty("version")||(e=qD[0](e));e.version<sl;)e=qD[e.version+1](e);return Pw(e)}function m4(e){return bP(e)}function xP(e){return m4(bs(e))}var wP=e=>({value:"0",min:"0",max:e.degreeMode?"360":"2\\pi"}),b4={latex:void 0,polarDomainMin:void 0,polarDomainMax:void 0,parametricDomainMin:void 0,clickableInfoLatex:void 0,parametricDomainMax:void 0,colorLatex:void 0,tableColumnColorLatex:void 0,cdfMin:()=>({value:"0",min:"-10",max:"10"}),cdfMax:()=>({value:"0",min:"-10",max:"10"}),pointSize:()=>({value:"9",min:"0",max:"10"}),tableColumnPointSize:()=>({value:"9",min:"0",max:"10"}),labelAngle:wP,labelSize:()=>({value:"1",min:"0",max:"5"}),lineWidth:()=>({value:"2.5",min:"0",max:"10"}),tableColumnLineWidth:()=>({value:"2.5",min:"0",max:"10"}),fillOpacity:()=>({value:"0.4",min:"0",max:"1"}),lineOpacity:()=>({value:"0.9",min:"0",max:"1"}),tableColumnLineOpacity:()=>({value:"0.9",min:"0",max:"1"}),pointOpacity:()=>({value:"0.9",min:"0",max:"1"}),tableColumnPointOpacity:()=>({value:"0.9",min:"0",max:"1"}),sliderMin:void 0,sliderMax:void 0,sliderStep:void 0,residualVariable:void 0,tableHeader:void 0,tableCellValue:void 0,imageOpacity:()=>({value:"1",min:"0",max:"1"}),imageCenter:void 0,imageHeight:()=>({value:"10",min:"-10",max:"10"}),imageWidth:()=>({value:"10",min:"-10",max:"10"}),imageAngle:wP,tickerMinStep:()=>({value:"0",min:"0"}),tickerHandler:void 0},vP={rgb:{paramBounds:e=>({value:"0",min:"0",max:"255",step:"1"})},hsv:{paramBounds:e=>0===e?{value:"0",min:"0",max:"360",step:"1"}:{value:"0.5",min:"0",max:"1"}}};function SP(e,t,n){var r=e.map((function(e){return{location:e.location,parsed:__dcg_shared_module_exports__.Vb(e.latex)}})),i={};for(let e of t)for(let t of r){var o=x4(e,t,n);o&&o.length&&(i[e]=o[0])}return i}function x4(e,{parsed:t,location:n},r){if("Identifier"===t.type&&t._symbol===e){let e=b4[n];return e?[e(r)]:void 0}"Assignment"===t.type&&(t=t._expression);let i=[];switch(t.type){case"FunctionCall":{let n=t._symbol;if(vP.hasOwnProperty(n)){let r=vP[n];t.args.forEach((function(t,n){if("Identifier"===t.type&&t._symbol===e){var o=r.paramBounds(n);o&&i.push(o)}}))}break}default:return}return i}function Yi(e,t,n){ri(e,v4(e,t,n))}function ri(e,t){if(e.focusLocation=t,!t||("ticker"===t.type&&(e.getListModel().ticker.playing=!1,Dr(e.getListModel(),void 0)),"settings"===t.type||"generic-menu"===t.type||"editable-label"===t.type||"add-item-btn"===t.type||"add-expression-btn"===t.type||"add-note-btn"===t.type||"add-table-btn"===t.type||"add-folder-btn"===t.type||"add-ticker-btn"===t.type||"add-image-btn"===t.type||"edit-list-toggle"===t.type||"hide-expression-list-btn"===t.type||"show-expression-list-btn"===t.type||"zoom-restore-btn"===t.type||"search-expressions"===t.type||"replace-expressions"===t.type||"ticker"===t.type||"geo-token"===t.type||"geo-show-constructions-icon"===t.type||"geo-basic-tool"===t.type||"geo-basic-tool-dropdown"===t.type||"geo-basic-tool-menu-item"===t.type||"multi-select-more-icon"===t.type||"multi-select-transformations-icon"===t.type||"geo-header-back-link"===t.type||"multi-select-delete-icon"===t.type||"multi-select-show-hide-icon"===t.type||"new-transformation-number"===t.type||"label-points-icon"===t.type||"regression-output"===t.type||"graph-paper"===t.type))return;let n=e.getItemModel(t.id);"expression-menu"!==t.type?(Dr(e.getListModel(),n),n&&"expression"===n.type&&$o(n,!1)):Dr(e.getListModel(),void 0)}function v4(e,t,n){let r=e.getItemModel(t);if(!r)return;let i=e.isInEditListMode()||e.isItemReadonly(r.id);switch(r.type){case"expression":return{type:i?"readonly-expression":r.type,id:t};case"folder":case"text":return{type:r.type,id:t};case"table":{let e={row:1,column:0},i=!1;return n&&("cell"===n.location?e={row:n.row,column:n.column}:"end"===n?e={row:Da(r),column:0}:"start"===n?e={row:0,column:0}:"container"===n&&(i=!0)),i?{type:"table-container",id:t}:{type:r.type,id:t,location:e}}case"image":return{type:r.type,id:t,location:"name"};default:return r}}function EP(e){var t=e.getSelectedItem();if(t&&"expression"===t.type&&!t.readonly)return void Yi(e,t.id);if(t&&"table"===t.type&&e.focusLocation&&!t.readonly)return;var n=e.getFirstFullyVisibleItem();let r=e.getListModel();for(;n&&("expression"!==n.type||n.readonly);)n=ld(r,n.index);if(n)return void Yi(e,n.id);let i=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()});ts(e.getListModel(),i),Yi(e,i.id)}function DP(e){let t=e.focusLocation;if(t&&"settings"!==t.type&&"generic-menu"!==t.type&&"editable-label"!==t.type&&"add-item-btn"!==t.type&&"add-expression-btn"!==t.type&&"add-note-btn"!==t.type&&"add-table-btn"!==t.type&&"add-ticker-btn"!==t.type&&"add-folder-btn"!==t.type&&"add-image-btn"!==t.type&&"edit-list-toggle"!==t.type&&"hide-expression-list-btn"!==t.type&&"show-expression-list-btn"!==t.type&&"zoom-restore-btn"!==t.type&&"search-expressions"!==t.type&&"replace-expressions"!==t.type&&"ticker"!==t.type&&"geo-token"!==t.type&&"geo-show-constructions-icon"!==t.type&&"geo-basic-tool"!==t.type&&"geo-basic-tool-dropdown"!==t.type&&"geo-basic-tool-menu-item"!==t.type&&"multi-select-more-icon"!==t.type&&"multi-select-transformations-icon"!==t.type&&"geo-header-back-link"!==t.type&&"multi-select-delete-icon"!==t.type&&"multi-select-show-hide-icon"!==t.type&&"new-transformation-number"!==t.type&&"label-points-icon"!==t.type&&"regression-output"!==t.type&&"graph-paper"!==t.type)return e.getItemModel(t.id)}function Ap(e,t,n){ri(e,{type:"table",id:t,location:n})}function IP(e,t,n){var r=e.getItemModel(t);if(!r||"table"!==r.type)return;let i=r;var o=ao(i),a=o?o.row:-1,s=o?o.column:-1,l=i.columnModels,c=Da(i),d=l.length,p=(n,r)=>{-1===n?HD(e):n>c?$D(e):(-1===r?(r=d-1,n--):r===d&&(n++,r=0),Ap(e,t,{row:n,column:r}))},u=n=>{c>2&&Z0(i,a-1),Ap(e,t,{row:n,column:s})},h=n=>{0===s||d<=2||(eG(i,s),Ap(e,t,{row:a,column:n}))};let g=!!i.columnModels[0].disabled;switch(n){case"Left":p(a,s-1);break;case"Right":p(a,s+1);break;case"Up":p(a-1,s);break;case"Down":p(a+1,s);break;case"Enter":if(a>=c)return jD(e);if(s>0||g)return p(a+1,s);if(a===c-1){let n=tG(i,a);DS(i,a);for(var m=0;m<n.length;m++)Dl(i,{row:a+1,column:m},n[m]);return void Ap(e,t,{row:a+1,column:s})}DS(i,a),Ap(e,t,{row:a+1,column:s});break;case"Backspace":0===a?0===s?zD(e):s===d-1||1===s&&3===d?p(0,s-1):h(s-1):0!==s?p(a,s-1):a===c||g?p(a-1,s):u(a-1);break;case"Delete":0===a?0===s?WD(e):s<d-1&&h(s):a>=c||g||u(a)}}function HD(e){var t=e.getSelectedItem();!t||e.inAudioTraceMode()||(!qb(e.getListModel())&&e.getTickerOpen()&&ri(e,{type:"ticker",location:"handler"}),!(t=e.getSelectedItem()))||Yi(e,t.id,"end")}function $D(e){var t;if(!e.inAudioTraceMode()){if("ticker"===(null==(t=e.getFocusLocation())?void 0:t.type)){let t=Vu(e.getListModel());if(t)return Yi(e,t.id,"start")}if(!Hb(e.getListModel())&&!e.isInEditListMode()){let t=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()});ts(e.getListModel(),t),Dr(e.getListModel(),t)}var n=e.getSelectedItem();n&&Yi(e,n.id,"start")}}function zD(e){if(e.isInEditListMode())return;var t=e.getSelectedItem();if(!t||1===e.getItemCount()&&"expression"===t.type)return;var n="text"===t.type;let r=Uo(t);if(r){let n=e.getNumberOfItemsInFolder(r.id);if(t.index===r.index+n)return void Eo(t,"")}YD(e,{moveSelection:!0}),n&&Ja&&El?Dr(e.getListModel(),void 0):(t=e.getSelectedItem())&&Yi(e,t.id,"end")}function WD(e){if(!e.isInEditListMode()){var t=e.getSelectedItem();t&&(1===e.getItemCount()&&"expression"===t.type||(JD(e,{moveSelection:!0}),(t=e.getSelectedItem())&&Yi(e,t.id,"start")))}}function jD(e){if(!e.isInEditListMode()){var t=e.getSelectedItem();if(t){if("text"===t.type&&Ja&&El)return Ur(),void Dr(e.getListModel(),void 0);if(cg(t).length&&e.areSlidersEnabled())return e.createSlidersForItem(t.id,cg(t).concat(""));var n=e.createItemModel({type:"expression",id:e.generateId(),color:e.getNextColor()}),r=t.index+1;"folder"===t.type&&t.collapsed&&(r+=e.getNumberOfItemsInFolder(t.id)),ka(e.getListModel(),n,r),Dr(e.getListModel(),n),"folder"!==t.type||t.collapsed?"folder"!==t.type&&t.folderId&&Eo(n,t.folderId):Eo(n,t.id),(t=e.getSelectedItem())&&Yi(e,t.id)}}}function YD(e,{moveSelection:t}){let n=e.getSelectedItem(),r=e.getListModel();if(!n||n.readonly)return;let i=sd(r,n.index);if(e._removeExpressionSynchronously(n),t){if(!i){let e=Vu(r);e&&(i=e)}Dr(r,i)}else Dr(r,void 0)}function JD(e,{moveSelection:t}){let n=e.getSelectedItem(),r=e.getListModel();if(!n||n.readonly)return;let i=ld(r,n.index);if(e._removeExpressionSynchronously(n),t){if(!i){let e=Nb(r);e&&(i=e)}Dr(r,i)}else Dr(r,void 0)}function S4(e){switch(e){case"histogram":case"dotplot":return 12;case"boxplot":return 40}return 1/0}function E4(e){return"boxplot"===e||"dotplot"===e||"histogram"==e}function D4(e){return"boxplot"===e?3:.5}function k4(e,t){if("dotplot"===e.type||"histogram"===e.type){let n=80*Math.max(1,e.xmax-e.xmin)/(e.binWidth?e.binWidth:1),r=.5*(t.screen.width-n)/n;return Math.max(.2,r)}return.5}function I4(e,t,n){e=__dcg_shared_module_exports__.k(e);let r=1.2;return t&&e.xmax<0&&e.xmin<0&&e.xmax/(e.xmin-e.xmax)<r&&(e.xmax=0),t&&e.xmax>0&&e.xmin>0&&e.xmin/(e.xmax-e.xmin)<r&&(e.xmin=0),n&&e.ymax<0&&e.ymin<0&&e.ymax/(e.ymin-e.ymax)<r&&(e.ymax=0),n&&e.ymax>0&&e.ymin>0&&e.ymin/(e.ymax-e.ymin)<r&&(e.ymin=0),e}function M4(e,t,n,r){let i,o,a,s,l=e.type,c=k4(e,t),d=D4(l);if(e.xmin===e.xmax&&(n?(e.xmin-=.5,e.xmax+=.5):(e.xmin*=.5,e.xmax/=.5)),e.ymin===e.ymax&&(r?(e.ymin-=.5,e.ymax+=.5):(e.ymin*=.5,e.ymax/=.5)),n){let t=(e.xmax-e.xmin)*c;i=e.xmin-t,o=e.xmax+t}else{let t=__dcg_shared_module_exports__.a(e.xmax/e.xmin,c);i=e.xmin/t,o=e.xmax*t}if(r){let t=(e.ymax-e.ymin)*d;a=e.ymin-t,s=e.ymax+t}else{let t=__dcg_shared_module_exports__.a(e.ymax/e.ymin,d);a=e.ymin/t,s=e.ymax*t}if(E4(l)){let n=(o-i)*(t.screen.height/t.screen.width);if(n>e.ymax-e.ymin&&n<S4(l)*(e.ymax-e.ymin)){let t=.5*(e.ymax+e.ymin);s=t+.5*n,a=t-.5*n}}return{xmin:i,xmax:o,ymin:a,ymax:s}}function MP(e,t){var n=Rw(e,t);if(!n)return!1;let{xAxisScale:r,yAxisScale:i}=t.settings;if(!Ci.fromObject(n).isValid({xAxisScale:r,yAxisScale:i}))return!1;var o=t.mapx(n.xmin),a=t.mapx(n.xmax),s=t.mapy(n.ymin),l=t.mapy(n.ymax);return!(Math.abs(o)<=10&&Math.abs(l)<=10&&Math.abs(a-t.screen.width)<=10&&Math.abs(s-t.screen.height)<=10)}function Rw(e,t){let n=1/0,r=-1/0,i=1/0,o=-1/0,a=0,s=e.length,l="linear"===t.settings.xAxisScale,c="linear"===t.settings.yAxisScale;for(let d=0;d<s;d++){let s=I4(e[d],l,c);if(!isFinite(s.xmax-s.xmin)||!isFinite(s.ymax-s.ymin)){a+=1;continue}if(!((l||s.xmax>0&&s.xmin>0)&&(c||s.ymax>0&&s.ymin>0))){a+=1;continue}let p=M4(s,t,l,c);p.xmin<n&&(n=p.xmin),p.xmax>r&&(r=p.xmax),p.ymin<i&&(i=p.ymin),p.ymax>o&&(o=p.ymax)}if(a!==s)return{xmin:n,xmax:r,ymin:i,ymax:o}}function TP(e){switch(e){case"letters":return"capitalLetters";case"noQwertyLetters":return"noQwertyCapitalLetters";case"noQwertyCapitalLetters":return"noQwertyLetters";default:return"letters"}}function XD(e){return{keypadMinimized:!yT,keypadLayout:"mainNumbers",keypadFunctionsOpen:!1,graphSettingsOpen:!1,addExpressionOpen:!1,expressionsVisible:!!e.expressions,inEditListMode:!1,isFileDraggedOver:!1,expressionsHiddenTime:void 0}}var AP={xmin:"",xmax:"",xstep:"",ymin:"",ymax:"",ystep:""};function VP(e){return e in AP}function T4(e){let t=e.split("×");return(t.length>1&&"1"===t[0]?t.slice(1):t).join("\\cdot")}function $f(e,t){let n=__dcg_shared_module_exports__.Na(e,t),r="";if(n.mantissa)r=T4(n.mantissa)+"^{"+n.superscript+"}";else{let e=n.string.split("/");r=2===e.length?"-"===e[0][0]?"-\\frac{"+e[0].slice(1)+"}{"+e[1]+"}":"\\frac{"+e[0]+"}{"+e[1]+"}":n.string}return r=r.replace(/π/,"\\pi"),r}function G4(e,t){let n="linear"===t.xAxisScale?e.xmax-e.xmin:void 0,r="linear"===t.yAxisScale?e.ymax-e.ymin:void 0;return{xmin:$f(e.xmin,n),xmax:$f(e.xmax,n),ymin:$f(e.ymin,r),ymax:$f(e.ymax,r)}}function GP(e,t){return 0===e?"":$f(e,t)}function LP(e,t){return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},G4(e,t.scales)),{xstep:GP(t.steps.xAxisStep,e.xmax-e.xmin),ystep:GP(t.steps.yAxisStep,e.ymax-e.ymin)})}function QD(){return{limitLatex:__dcg_shared_module_exports__.b({},AP)}}at(),fc();var V4={version:sl,randomSeed:"",graph:{viewport:{xmin:-10,ymin:-13.25,xmax:10,ymax:13.25}},expressions:{list:[{id:"1",type:"expression"}]}},Vp=V4;function PP(e){let t=[],n=e.getAllItemModels();for(let r of n){let n=e.getItemRootNodeById(r.id);n&&t.push(n)}return t}function L4(e){let t=e.getAllItemModels();for(let e=t.length-1;e>=0;e--){let n=t[e];if(n.dcgView)return n.id}}function OP(e,t){let n=PP(e),r=0,i=n.length-1;for(;r<=i;){let e=r+Math.floor((i-r)/2),o=n[e],a=o.getBoundingClientRect();if(a.top>t)i=e-1;else{if(!(a.bottom<t))return o;r=e+1}}}function P4(e,t){let n,r=PP(e),i=0,o=r.length-1;for(;i<=o;){let e=i+Math.floor((o-i)/2),a=r[e];a.getBoundingClientRect().top>t?(o=e-1,n=a):i=e+1}return n}function _P(e,t){let n=jf(e);if(!n)return;if(t){let r=e.getItemRootNodeById(t);if(r){let e=r.getBoundingClientRect();if(e.height>0&&e.top<=n.top&&e.bottom>=n.top)return t}}let r=OP(e,n.top);return r?P(r).attr("expr-id"):ZD(e)}function FP(e,t){let n=jf(e);if(!n)return;let r=L4(e);if(!r)return;if(t){let i=e.getItemRootNodeById(t);if(i){let e=i.getBoundingClientRect();if(e.height>0&&e.top<=n.bottom&&e.bottom>=n.bottom||t===r&&e.bottom<=n.bottom)return t}}let i=OP(e,n.bottom);return i&&P(i).attr("expr-id")||r}function ZD(e){let t=jf(e);if(!t)return;let n=P4(e,t.top-2);return n?P(n).attr("expr-id"):void 0}function zf(e){return e.find$(".dcg-exppanel")[0]}function Wf(e){let t=zf(e);if(t)return P(t)}function jf(e){let t=zf(e);if(t)return t.getBoundingClientRect()}function RP(e){let t=zf(e);if(!t)return;let n=t.getBoundingClientRect(),r=t.scrollTop;return n.top-r}function NP(e){let t=e.find$(".dcg-expressionlist");if(1===t.length)return t.height()}function BP(e){let t=Wf(e);return t&&t.find(".dcg-drag-container").height()||0}at(),at();var Yf=class{constructor(e){this.active=!1,this.controller=e;let t=Wf(e);t&&(this.$exppanel=t)}startDragging(e){this.active=!0,this.mouseY=e,this.setupEventListeners()}applyDrag(){let e=this.controller.getListModel().dragState;if(!e)return;this.scheduleUpdateScroll();let t=this.measureDOM(e);if(!t)return;let{floatingPreviewRect:n}=t,r=this.controller.getItemModel(e.firstItemId);if(!r)return;let i,o,a=r.index;for(let{id:e,rect:i}of t.visibleRects){if(e===r.id)continue;let t=this.controller.getItemModel(e);if(!t)return;if(t.index<r.index){if(n.top<i.top+i.height/2){a=t.index;break}}else n.bottom>i.top+i.height/2&&(a=t.index,"folder"===t.type&&t.collapsed&&(a+=this.controller.getNumberOfItemsInFolder(t.id)))}a>r.index?(i=a,o=a+1):a<r.index?(i=a-1,o=a):(i=a-1,o=a+1);let s=this.controller.getItemModelByIndex(i),l=this.controller.getItemModelByIndex(o),c="",d="";s&&(c="folder"===s.type?s.id:s.folderId),l&&(d="folder"===l.type?l.id:l.folderId);let p="";return c&&(d===c?"folder"===r.type?a=r.index:p=c:"folder"!==r.type&&this.isPreviewTopContainedInFolder(t,c)&&(p=c)),{dragState:__dcg_shared_module_exports__.b({},t.dragState),newIndex:a,folderId:p}}measureDOM(e){let t=RP(this.controller),n=NP(this.controller);if(void 0===t||void 0===n)return;let r=BP(this.controller),i=e.mouseY-e.grabOffset+2,o=i-t;o=Math.max(o,-r/2),o=Math.min(o,n-r);let a={top:i,bottom:i+r,height:r},s=this.controller.findFirstVisibleItem(),l=this.controller.findLastVisibleItem();if(!s||!l)return;let c=[];for(var d=s.index;d<=l.index;d++){let t=this.controller.getItemModelByIndex(d);if(!t)continue;let n=this.controller.getItemRootNodeById(t.id);if(n&&t.id!==e.firstItemId){let e=n.getBoundingClientRect();c.push({id:t.id,rect:e})}}return 0!==c.length?{dragState:__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{itemTop:o}),floatingPreviewRect:a,visibleRects:c}:void 0}isPreviewTopContainedInFolder(e,t){let{visibleRects:n,floatingPreviewRect:r}=e;for(let{id:e,rect:i}of n)if(i.top<=r.top&&i.bottom>=r.top){let n=this.controller.getItemModel(e);if(!n)return!1;if("folder"===n.type&&n.id===t||"folder"!==n.type&&n.folderId===t)return!0}return!1}scheduleUpdateScroll(){this.updateScrollScheduled||(this.updateScrollScheduled=!0,requestAnimationFrame((()=>{this.updateScroll(),this.updateScrollScheduled=!1})))}stop(){this.active=!1,this.tearDownEventListeners(),this.controller.dispatch({type:"stop-dragdrop"})}setupEventListeners(){P(document).on("dcg-tapmove.dragdrop",(e=>{this.mouseY=e.changedTouches[0].clientY,this.controller.dispatch({type:"update-dragdrop",mouseY:this.mouseY})})),P(document).on("dcg-tapend.dragdrop",(e=>{this.stop(),e.handle("dragdrop")}))}tearDownEventListeners(){P(document).off(".dragdrop")}updateScroll(){if(this.active){var e=this.$exppanel[0].getBoundingClientRect(),t=0;t=Math.min(t,this.mouseY-e.top),(t=(t=Math.max(t,this.mouseY-e.bottom+30))*e.height/900)&&this.$exppanel.scrollTop(this.$exppanel.scrollTop()+t)}}},O4={loga:e=>{e.write("\\log_{}"),e.typedText("("),e.keystroke("Left"),e.keystroke("Down")},nthroot:e=>{e.write("\\sqrt[]{}"),e.keystroke("Left"),e.keystroke("Left")},ddx:e=>{e.write("\\frac{d}{dx}")},arcsin:e=>{e.write("sin^{-1}"),e.typedText("(")},arccos:e=>{e.write("cos^{-1}"),e.typedText("(")},arctan:e=>{e.write("tan^{-1}"),e.typedText("(")},arcsec:e=>{e.write("sec^{-1}"),e.typedText("(")},arccsc:e=>{e.write("csc^{-1}"),e.typedText("(")},arccot:e=>{e.write("cot^{-1}"),e.typedText("(")},"A^T":e=>{e.typedText("^T"),e.keystroke("Right")},"A^-1":e=>{e.typedText("^-1"),e.keystroke("Right")},"A^2":e=>{e.typedText("^2"),e.keystroke("Right")},"a^2":e=>{e.typedText("^2"),e.keystroke("Right")},"a^3":e=>{e.typedText("^3"),e.keystroke("Right")},"a/b":e=>{e.write("\\frac{}{}"),e.keystroke("Left")},integral:e=>{e.cmd("integral")}};function Lp(e,t){O4[t](e)}at();var xs=__dcg_shared_module_exports__.i(Vc()),Nn=__dcg_shared_module_exports__.i(ne()),Pp=__dcg_shared_module_exports__.i(ne());at();var{Input:_4}=Pp.Components,Md=class extends Pp.Class{init(){let e;for(this.ASCIICharacters=" A1B'K2L@CIF/MSP\"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=",this.ASCIITable=[],this.HomeRowCharacters="FDSJKL",this.charCodes=[],this.sixKeyModel={keysDown:0,stickyKeysDown:0},e=0;e<this.ASCIICharacters.length;e++)this.ASCIITable.push(this.ASCIICharacters.charCodeAt(e));for(e=0;e<this.HomeRowCharacters.length;e++)this.charCodes.push(this.HomeRowCharacters.charCodeAt(e))}template(){return Pp.createElement(_4,{class:this.const("dcg-braille-input dcg-do-blur"),tabindex:()=>this.props.tabindex?this.props.tabindex():0,readonly:()=>this.props.isStatic()?"true":void 0,autocomplete:this.const("off"),autocorrect:this.const("off"),autocapitalize:this.const("off"),spellcheck:this.const("false"),onKeydown:this.bindFn(this.onKeydown),onKeyup:this.bindFn(this.onKeyup),onInput:this.bindFn(this.props.onInput),value:()=>this.props.value(),"aria-label":()=>this.props.ariaLabel()||Aa(""),didMount:this.bindFn(this.didMount),didUnmount:this.bindFn(this.props.didUnmount),placeholder:()=>this.props.placeholder?this.props.placeholder():"",size:()=>this.props.size&&this.props.size()})}didMount(e){this.rootNode=e,P(this.rootNode).on("focus",(e=>{this.props.shouldFocus()||this.props.onFocusedChanged(!0,e.originalEvent||e)})).on("blur",(e=>{this.props.shouldFocus()&&this.props.onFocusedChanged(!1,e.originalEvent||e)})),this.props.didMount(e),this.updateFocus()}didUpdate(){this.updateFocus()}updateFocus(){this.rootNode&&(this.props.shouldFocus()&&document.activeElement!==this.rootNode&&this.rootNode.focus(),!this.props.shouldFocus()&&document.activeElement===this.rootNode&&this.rootNode.blur())}onKeydown(e){let t=this.charCodes.indexOf(e.which);this.props.isStatic()||!this.isSixKeyInput()||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||-1===t?this.props.onKeydown&&this.props.onKeydown(e):(this.sixKeyModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.sixKeyModel),{keysDown:this.addKey(this.sixKeyModel.keysDown,t),stickyKeysDown:this.addKey(this.sixKeyModel.stickyKeysDown,t)}),e.preventDefault())}onKeyup(e){let t=this.charCodes.indexOf(e.which),n=!1;return this.props.isStatic()||!this.isSixKeyInput()||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||-1===t?n=!0:(this.sixKeyModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.sixKeyModel),{keysDown:this.removeKey(this.sixKeyModel.keysDown,t)}),0===this.sixKeyModel.keysDown&&(this.addCharacter(this.bitsToASCII(this.sixKeyModel.stickyKeysDown)),this.sixKeyModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.sixKeyModel),{stickyKeysDown:0}))),n||e.preventDefault(),n}addKey(e,t){return e|1<<t}removeKey(e,t){return e&~(1<<t)}bitsToASCII(e){return String.fromCharCode(this.ASCIITable[e])}addCharacter(e){this.rootNode&&!this.props.isStatic()&&(this.rootNode.setRangeText(e,this.rootNode.selectionStart,this.rootNode.selectionEnd,"end"),this.props.onInput(this.rootNode.value))}isSixKeyInput(){return"function"==typeof this.props.sixKeyInput&&this.props.sixKeyInput()}},{If:rk}=Nn.Components,Vi=class extends Nn.Class{init(){this.currentBrailleValue=this.getBrailleFromLatex(this.props.latex()),this.currentBrailleMode=this.props.mode(),this.hasTranslationError=!1,this.currentLatex=this.props.latex()}isFocused(){return void 0!==this.brailleInput&&document.activeElement==this.brailleInput}getBrailleShouldFocus(){return"none"!==this.props.mode()&&this.props.brailleShouldFocus&&this.props.brailleShouldFocus()}isStatic(){return!!this.props.isStatic&&this.props.isStatic()}isInline(){return!!this.props.isInline&&this.props.isInline()}hasError(){return!!this.props.hasError&&this.props.hasError()}willUpdate(){let e=this.currentLatex!==this.props.latex(),t=this.props.mode(),n=t!==this.currentBrailleMode&&"none"!==t;this.isFocused()&&!e&&!n||(this.currentLatex=this.props.latex(),(n||!this.hasTranslationError||e||this.isStatic())&&(this.currentBrailleValue=this.getBrailleFromLatex(this.props.latex()),this.hasTranslationError=!1),this.currentBrailleMode=t)}onBrailleInput(e){if(!this.props.onBrailleInput)return;let t=this.getLatexFromBraille(e);this.hasTranslationError=t.isError;let n=this.props.capExpressionSize&&this.props.capExpressionSize();!t.isError&&n&&n.exceedsLimit(t.value)?n.onExpressionSizeExceeded():(this.currentBrailleValue=e,t.isError||(this.currentLatex=t.value,this.props.onBrailleInput(t.value)))}getBrailleFromLatex(e,t=!1){let n=F4(e,this.props.mode());return n.isError?"":t?n.value:xs.UnicodeBraille.toExpandedBrailleAscii(n.value)}getLatexFromBraille(e){return R4(xs.UnicodeBraille.coerceToSixDotCells(e),this.props.mode())}getBrailleLabel(e){return this.getBrailleFromLatex(e.replace(/\s/,"\\ "))}shouldShowBraille(){let e=this.props.mode();return"nemeth"===e||"ueb"===e}isOverflowingLeft(){return!!this.brailleInput&&this.brailleInput.scrollLeft>0}isOverflowingRight(){if(!this.brailleInput)return!1;let e=this.brailleInput.getBoundingClientRect().width;return this.brailleInput.scrollWidth>e+this.brailleInput.scrollLeft+2}didMountBrailleInput(e){this.brailleInput=e}didUnmountBrailleInput(){this.brailleInput=void 0}getTooltipGravity(){let e=this.props.tooltipOptions&&this.props.tooltipOptions();return e&&e.gravity?e.gravity:"se"}getTooltipDelay(){let e=this.props.tooltipOptions&&this.props.tooltipOptions();return e&&e.delay?e.delay:0}handleBrailleFocusChanged(e,t){this.props.onBrailleFocusedChanged&&this.props.onBrailleFocusedChanged(e,t),this.brailleInput&&(e&&this.props.selectOnFocus&&this.props.selectOnFocus()&&this.brailleInput.select(),this.isStatic()&&this.brailleInput.scrollTo(0,0))}getTooltipText(){let e=this.props.placeholder&&!this.isFocused()?this.props.placeholder():"";return Aa(this.props.latex()||e)}template(){return Nn.createElement("div",{class:Nn.const("dcg-mathquill-wrapper")},Nn.createElement(rk,{predicate:()=>this.shouldShowBraille()},(()=>Nn.createElement("div",{class:()=>({"dcg-mathquill-braille":!0,"dcg-focus":this.getBrailleShouldFocus(),"dcg-invalid":this.hasError(),"dcg-mathquill-static-braille":this.isStatic(),"dcg-mathquill-braille-overflow-left":this.isOverflowingLeft(),"dcg-mathquill-braille-overflow-right":this.isOverflowingRight()}),"data-dcg-label":()=>this.props.dataLabelAttributeValue?this.props.dataLabelAttributeValue():void 0},Nn.createElement(Ue,{class:this.const("dcg-mathquill-braille-tooltip"),renderAsLatex:()=>({view:this.props.tooltipOptions().latexView}),tooltip:()=>this.getTooltipText(),gravity:this.bindFn(this.getTooltipGravity),delay:this.bindFn(this.getTooltipDelay),showOnTapstart:this.const(!0)},Nn.createElement(rk,{predicate:()=>this.isInline()},(()=>Nn.createElement("span",{class:Nn.const("dcg-inline-braille")},(()=>Aa(this.getBrailleFromLatex(this.props.latex(),!0)))))),Nn.createElement(rk,{predicate:()=>!this.isInline()},(()=>Nn.createElement(Md,{ariaLabel:()=>Aa(this.props.ariaLabel?this.getBrailleLabel(this.props.ariaLabel()):""),didMount:this.bindFn(this.didMountBrailleInput),didUnmount:this.bindFn(this.didUnmountBrailleInput),onFocusedChanged:this.bindFn(this.handleBrailleFocusChanged),shouldFocus:this.bindFn(this.getBrailleShouldFocus),onKeydown:this.props.onBrailleKeydown,onInput:this.bindFn(this.onBrailleInput),sixKeyInput:this.props.sixKeyInput,value:()=>this.currentBrailleValue,placeholder:()=>Aa(this.props.placeholder?this.getBrailleFromLatex(this.props.placeholder()):""),tabindex:()=>this.props.tabindex?this.props.tabindex():0,isStatic:this.bindFn(this.isStatic),size:()=>this.currentBrailleValue&&this.currentBrailleValue.length||1}))))))),Nn.createElement("div",{class:Nn.const("dcg-typeset-math"),style:()=>({display:this.shouldShowBraille()&&!this.isInline()?"none":void 0}),"aria-hidden":()=>this.shouldShowBraille()},this.children))}};function ko(){if(document.activeElement&&P(document.activeElement).hasClass("dcg-braille-input"))return document.activeElement}function Op(e){return!e||""===P(e).val()}function F4(e,t){return"nemeth"===t?xs.latexToNemeth(e):"ueb"===t?xs.latexToUeb(e):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}function R4(e,t){return"nemeth"===t?xs.nemethToLatex(e):"ueb"===t?xs.uebToLatex(e):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}function _p(e){switch(e){case"reflection":case"translation":case"rotation":case"dilation":case"scaled-rotation":return!0}return!1}function N4(e){for(let t in e)return!1;return!0}function B4(e){var t;if("expression"!==e.type)return;return e.formula.assignment||(null==(t=e.formula.geometry)?void 0:t.identifier)}function K4(e){var t,n;let r={lookupIdentifier:{},lookupCalcId:{}};for(let t of e){let e={calcId:t.id,identifier:B4(t),referencesTheseIdentifiers:{},referencedByTheseCalcIds:{}};r.lookupCalcId[e.calcId]=e,e.identifier&&(r.lookupIdentifier[e.identifier]=e)}for(let i of e){let e=r.lookupCalcId[i.id];if(e){if("expression"===i.type){i.folderId===__dcg_shared_module_exports__.vc&&(e.isGarbageCollectable=!i.readonly,(-1!==i.latex.indexOf("\\operatorname{segments}")||Ma(i))&&(e.deleteIfNotReferenced=!0));let o=null==(n=null==(t=i.formula.geometry)?void 0:t.call)?void 0:n.parents;o&&o.forEach((t=>{if(!t)return;let n=t[0];KP(r,e,n)}))}Tu(i,(t=>{var n=t.match(/(\\token{[0-9]+})/g);if(n)for(let t of n){let n=__dcg_shared_module_exports__.Wa(t);n!==e.identifier&&KP(r,e,n)}}))}}return r}function KP(e,t,n){t.referencesTheseIdentifiers[n]=!0;let r=e.lookupIdentifier[n];r&&(r.referencedByTheseCalcIds[t.calcId]=!0)}function U4(e,t){var n;let r=[];for(let n of t){let t=e.lookupCalcId[n];if(t){r.push(t);var i=t.referencesTheseIdentifiers;for(let n in i){let r=e.lookupIdentifier[n];r&&delete r.referencedByTheseCalcIds[t.calcId]}}}var o={},a={};for(let t of r){let r=t.referencesTheseIdentifiers;for(let e in r)o[e]=!0;let i=t.identifier;if(i){var s=null==(n=e.lookupIdentifier[i])?void 0:n.referencedByTheseCalcIds;if(s)for(let t in s){let n=e.lookupCalcId[t];n&&n.isGarbageCollectable&&(a[t]=!0)}}}for(let t in o){let n=e.lookupIdentifier[t];if(n&&n.deleteIfNotReferenced){var l=n.referencedByTheseCalcIds;n.calcId&&n.isGarbageCollectable&&N4(l)&&(a[n.calcId]=!0)}}for(let t of r)delete e.lookupCalcId[t.calcId],t.identifier&&delete e.lookupIdentifier[t.identifier];return Object.keys(a)}function UP(e,t){let n=e.getAllItemModels(),r=t.map((e=>e.id)),i=K4(n.concat(t));for(var o={};r.length;){r=U4(i,r);for(let e of r)o[e]=!0}return Object.keys(o)}var Fp={version:sl,randomSeed:"",graph:{viewport:{xmin:-10,ymin:-13.25,xmax:10,ymax:13.25},product:"geometry-calculator",showXAxis:!1,showYAxis:!1,degreeMode:!0},expressions:{list:[{type:"folder",id:__dcg_shared_module_exports__.vc,title:"geometry",secret:!0},{id:"1",type:"expression"}]}};function Jf(e){return/^\s*https?:\/\/([-a-zA-Z0-9]*\.)?desmos\.com(:[0-9]+)?\/calculator\/./.test(e)}function qP(e){return/^\s*https?:\/\/([-a-zA-Z0-9]*\.)?desmos\.com(:[0-9]+)?\/geometry-beta\/./.test(e)}function Nw(e){return/^\s*https?:\/\/([-a-zA-Z0-9]*\.)?desmos\.com(:[0-9]+)?\/geometry\/./.test(e)}function HP(e){var t;switch(e.type){case"tick":case"tick-ticker":return!1;case"on-evaluator-changes":return!(null==(t=e.eventUpdates)||!t.userAction);default:return!0}}Ns();var Td=class{constructor(e){var t,n;this.__nextItemId=0,this.__pendingImageUploads={},this.__lastSelectedIdsForPropagation={},this.nextSubscription=0,this.subscriptions={},this._queuedCallbacks=[],this._hasUnsavedChanges=!1,this.shouldScrollSelectedItemIntoViewAfterDispatch=!1,this.lastParsableObjects={},this.isExpressionSearchStrValidForReplace=!1,this.isExpressionReplaceStrValidForReplace=!1,this.expressionSearchCount=0,this.expressionSearchOpen=!1,this.geoUIActive=!1,this.showConstructionsOpen=!1,this.activeTool="selection",this.activeTokens={selected:void 0,hovered:void 0},this.geoTools=[{key:"selection",objects:"",dropdown:["selection","box-selection"],resetOnChange:["box-selection"]},{key:"point",objects:"",dropdown:["point","midpoint"],resetOnChange:["midpoint"]},{key:"segment",objects:"",dropdown:["segment","line","ray","parallel","perpendicular"],resetOnChange:["parallel","perpendicular"]},{key:"circle",objects:"",dropdown:["circle","compass","arc"],resetOnChange:["compass","arc"]},{key:"angle",dropdown:["angle","directedangle"],objects:""},{key:"polygon",objects:""}],this.apiMethodCallStack=[],this.canShowKeyboardShortcuts=!1,this.toastData={},this.s=Pl((()=>this.graphSettings.config.language)),this.raw=(e,t)=>Aa(e,t),this.hasTranslation=e=>IE(e,this.graphSettings.config.language),this.unpack=e=>ip(e,this.graphSettings.config.language),this.dispatch=e=>{if("blur-focus-location"===e.type&&this.dispatcher.isDispatching())return void this.runAfterDispatch((()=>{this.dispatch(e)}));if("set-focus-location"===e.type&&this.dispatcher.isDispatching())return void this.runAfterDispatch((()=>{this.dispatch(e)}));if("tick"===e.type&&this.dispatcher.isDispatching())return void this.runAfterDispatch((()=>{this.dispatch(e)}));let t;for("tick"===e.type||Qh("dispatch::"+this.bugsnagContext,{type:e.type}),this.dispatcher.isDispatching()&&Qh("dispatch-in-dispatch::"+this.bugsnagContext,{type:e.type}),this.dispatcher.dispatch(e),this.onEventsEmitted&&this.onEventsEmitted(this.enqueuedEvents);t=this._queuedCallbacks.shift();)t()},this._requiresTickNextFrame=!1,this.cachedGeoTokenDepths={},this.cachedGeoTokenGroups={},this.cachedGeoTokenInfo={},this.toolPreviewJSONState={},this.updateViews=()=>{for(var e in this.subscriptions)this.subscriptions[e]()},this.bugsnagContext="",this.inPrintMode=!1,this.lastInfiniteScrollFirstDOM=void 0,this.lastInfiniteScrollLastDOM=void 0,this.hasDispatchSinceLastInfiniteScrollUpdate=!1,this.stateStack=new $l,this.isCurrentlyDoingSetState=!1,this.isCurrentlyDoingRestoreState=!1,this.graphSettings=e,null==(n=(t=this.graphSettings).setController)||n.call(t,this),this.listModel=pA(this),this.layoutModel=XD(this.graphSettings.config),this.layoutMeasurements={width:0,height:0},this.settingsViewModel=QD(),this.imageRetryState={lastAttemptTime:0,attempts:0},this.makeGeoAPI(),this.setupDispatcher()}hasUnsavedChanges(){return this._hasUnsavedChanges}getExpressionSearchOpen(){return this.expressionSearchOpen}getShowConstructionsOpen(){return this.showConstructionsOpen}isGeoUIActive(){return this.geoUIActive}isGeoToolActive(){return"selection"!==this.activeTool&&"box-selection"!==this.activeTool}getActiveTool(){return this.activeTool}getGeoModel(){return this.geoModel}getGeoTools(){return this.geoTools}getTickerOpen(){return!!this.areActionsEnabled()&&this.listModel.ticker.open}getTickerPlaying(){return!!this.areActionsEnabled()&&this.listModel.ticker.playing}hasVisibleAndUndoableToast(){return"function"==typeof this.toastData.undoCallback}getToastData(){return this.toastData}toastUndo(){"function"==typeof this.toastData.undoCallback&&(this.toastData.undoCallback(),this.dispatch({type:"toast/close"}))}runAfterDispatch(e){this.dispatcher.isDispatching()?this._queuedCallbacks.push(e):e()}enqueueEvent(e,t){var n;let r=t&&0===this.apiMethodCallStack.length&&HP(t)||!(null==(n=this.enqueuedEvents[e])||!n.isUserInitiated)||"userMovedPoint"===e;this.enqueuedEvents[e]={isUserInitiated:r}}pushAPIMethodCall(){this.apiMethodCallStack.push(!0)}popAPIMethodCall(){this.apiMethodCallStack.pop()}getGrapherDimensions(){if(!this.grapher)return{width:0,height:0};let{screen:e}=this.grapher.getProjection();return{width:e.width,height:e.height}}setRandomSeed(e){this.graphSettings.setProperty("randomSeed",e)}getRandomSeed(){return this.graphSettings.randomSeed}shouldDispatchTickNextFrame(){return!!this._requiresTickNextFrame}markTickRequiredNextFrame(){this._requiresTickNextFrame=!0}handleTick(e){var t;this.areActionsEnabled()&&iA(this.listModel.ticker,{currentFrameTime:e,previousFrameTime:this.lastFrameTime})?this.dispatch({type:"tick-ticker",time:e}):this.shouldDispatchTickNextFrame()&&this.dispatch({type:"tick",time:e}),this.getGeoModel().isFading()&&(null==(t=this.grapher)||t.redrawAllLayers()),this.lastFrameTime=e}setupDispatcher(){this.dispatcher=new Fc,this.dispatcher.register((e=>{let t,n=this.getSelectedItem(),r=this.getFocusLocation();this.shouldScrollSelectedItemIntoViewAfterDispatch=!1,this.enqueuedEvents={change:void 0,graphReset:void 0,clearUnsavedChanges:void 0,openDrawer:void 0,showHotkeysModal:void 0,userMovedPoint:void 0,userClickedObject:void 0,userEditedLabel:void 0},"tick"===e.type&&(this._requiresTickNextFrame=!1),this.isCurrentlyDoingSetState=!1,this.isCurrentlyDoingRestoreState=!1,this.handleDispatchedAction(e),this.constrainMultiSelect(),this.updateTheComputedWorld();var i=this.getImageToRetry();(this.getPlayingSliders().length>0||this.isDragDropActive()||i)&&this.markTickRequiredNextFrame(),i&&this.retryLoadingFailedImage(i),"undo"!==e.type&&"redo"!==e.type&&!this.isDragDropActive()&&this.commitUndoRedoSynchronously(e),this.requestParseForAllItems(),this.isCurrentlyDoingSetState=!1,this.isCurrentlyDoingRestoreState=!1,this.enqueuedEvents.change&&this.grapher&&this.grapher.markLabelsDirty(),this.enqueuedEvents.clearUnsavedChanges?this._hasUnsavedChanges=!1:this.enqueuedEvents.change&&(this._hasUnsavedChanges=!0);let o=this.getSelectedItem();o?(!n||n.guid!==o.guid)&&(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0):this.shouldScrollSelectedItemIntoViewAfterDispatch=!1;let a=this.getFocusLocation();a&&!__dcg_shared_module_exports__.Ea(a,r)&&this.getFocusedItem()==o&&(this.shouldScrollSelectedItemIntoViewAfterDispatch=!0),r&&n&&"table"===n.type&&"table"===r.type&&(!a||"table"!==a.type||r.id!==a.id)&&n.isExpanded&&(Su(n,!1),a||(t=n)),a&&o&&"table"===o.type&&U0(o),("adjust-slider-by-dragging-thumb"===e.type||"adjust-slider-by-keyboard"===e.type)&&(t=this.getItemModel(e.id)),this.updateRenderShellsBeforePaint(),this.updateViews(),t?this.scrollItemIntoView(t):this.shouldScrollSelectedItemIntoViewAfterDispatch&&this.scrollSelectedItemIntoView(),this.updateDragDrop(),this.updateRenderShellsAfterDispatch()}))}handleDispatchedAction(e){var t,n,r,i;switch(e.type){case"render":case"grapher/drag-start":case"grapher/drag-move":case"grapher/drag-end":break;case"undo":this.undo();break;case"redo":this.redo();break;case"clear-undoredo-history":this.clearUndoRedoHistory();break;case"on-special-key-pressed":"Enter"===e.key?jD(this):"Up"===e.key?HD(this):"Down"===e.key?$D(this):"Backspace"===e.key?zD(this):"Delete"===e.key&&WD(this);break;case"select-previous-expression":qb(this.listModel);break;case"select-next-expression":Hb(this.listModel);break;case"toggle-label-for-all-selected-points":this.toggleLabelForAllSelectedObjects();break;case"update-all-selected-items":{let t=e.update;if("folderId"===e.update.prop){let t;if(e.update.createFolder){t=this.generateId();let n=this.createItemModel({type:"folder",id:t,title:e.update.value}),r=this.getItemCount()-1,i=Au(this.listModel,r);i&&"expression"===i.type&&""===i.latex?this._toplevelReplaceItemAt(this.getItemCount()-1,n,!1):ts(this.listModel,n)}else t=e.update.value;let n=this.getItemModel(t);if(!n||"folder"!==n.type)return;let r={},i={};this.getAllSelectedItems().forEach((e=>{var n;if("folder"!==e.type&&e.folderId!==t&&(r[e.id]=e,"expression"===e.type)){let t=null==(n=e.formula.geometry)?void 0:n.call;if(t&&"apply"===t.symbol){let e=t.parents[0]&&t.parents[0][0];e&&(i[e]=!0)}}}));for(let e in i){let n=Fu(this.listModel,e);1===n.length&&n[0].folderId!==t&&(r[n[0].id]=n[0])}let o={},a=[];for(let e in r){let t=r[e];a.push(t)}a.forEach((e=>{if("expression"===e.type){let t=eE(e.latex);t&&(o[e.id]=t)}})),a.sort(((e,t)=>e.index-t.index));let s=this.findLastSubscriptForLetters();a.forEach((e=>{if("expression"===e.type){var t=o[e.id];if(t){var n=Ig(e)[0].toUpperCase(),r=(s[n]||0)+1;s[n]=r,_u(this.listModel,t,n+"_{"+r+"}")}}})),a.forEach((e=>{Ku(this.listModel,e.id)}));let l=n.index+this.getNumberOfItemsInFolder(t)+1;a.forEach((e=>{ka(this.listModel,e,l),l+=1})),a.forEach((e=>{Eo(e,t)}))}else if("visible"===t.prop)this.getAllSelectedItems().forEach((e=>{this._setItemHidden(e.id,!t.value),!1===t.value&&"expression"===e.type&&ud(e,!1)}));else if("color"===e.update.prop){let t=e.update.value;this.getAllSelectedItems().forEach((e=>{"expression"===e.type&&ax(e,t)}))}else if("colorLatex"===e.update.prop){let t=e.update.value;this.getAllSelectedItems().forEach((e=>{"expression"===e.type&&wg(e,t)}))}else if("showLabel"===e.update.prop){let t=e.update.value;this.getAllSelectedItems().forEach((e=>{"expression"===e.type&&ud(e,t)}))}else if("label"===e.update.prop){let t=e.update.value;this.getAllSelectedItems().forEach((e=>{"expression"===e.type&&Ml(e,t)}))}else if("dragMode"===e.update.prop){let t=e.update.value;this.getAllSelectedItems().forEach((e=>{"expression"===e.type&&pd(e,t)}))}else if("lineWidth"===e.update.prop){let t=e.update.value;this.getAllSelectedItems().forEach((e=>{"expression"===e.type&&qu(e,t)}))}else if("lineOpacity"===e.update.prop){let t=e.update.value;this.getAllSelectedItems().forEach((e=>{"expression"===e.type&&Uu(e,t)}))}else if("lineStyle"===e.update.prop){let t=e.update.value;this.getAllSelectedItems().forEach((e=>{"expression"===e.type&&sx(e,t)}))}else if("strictIntersection"===e.update.prop){let t=e.update.value;this.getAllSelectedItems().forEach((e=>{"expression"===e.type&&SV(e,t)}))}}break;case"delete-all-selected-items":let g=US(this.listModel,Object.keys(this.getSelectedExpressionIds()));this.garbageCollectGeo(g),ge(this.s("graphing-calculator-narration-items-deleted",{count:new zo(g.length)}));break;case"upward-delete-selected-expression":YD(this,{moveSelection:!1});break;case"downward-delete-selected-expression":JD(this,{moveSelection:!1});break;case"table-show-more-rows":{let t=this.getItemModel(e.id);if(!t||"table"!==t.type)return;let n=ad(t);if(!n)return;Dr(this.listModel,t),Su(t,!0),ri(this,{type:"table",id:t.id,location:{row:n.min,column:0}})}break;case"navigate-table-by-key":IP(this,e.id,e.key);break;case"delete-item-and-animate-out":this._deleteItemAndAnimateOut(e.id,e.setFocusAfterDelete);break;case"finish-deleting-item-after-animation":this._finishDeletingItemAfterAnimation(e.id,e.setFocusAfterDelete);break;case"expression-zoom-fit":this._expressionZoomFit(e.id,e.focusAfterTap);break;case"set-expression-properties-from-api":this._setExpressionPropertiesFromAPI(e.id,e.properties);break;case"add-item-to-end-from-api":this._addItemToEndFromAPI(this.createItemModel(e.state));break;case"duplicate-expression":{let t=this.getItemModel(e.id);if(!t||"folder"===t.type)return;this.copyExpressionToIndex(t,t.index+1)}break;case"duplicate-folder":{let{id:t}=e,n=this.getItemModel(t);if(!n||"folder"!==n.type)return;let r=this.createItemModel(__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},ub(n,{stripDefaults:!1})),{id:this.generateId()})),i=this.getNumberOfItemsInFolder(t),o=i+1;this._toplevelInsertItemAt(n.index+o,r,!1,void 0);let a=n.index+1,s=a+i;for(let e=a;e<=s;e++){let t=Au(this.listModel,e);if(!t||"folder"===t.type)return;this.copyExpressionToIndex(t,e+o,r.id)}}break;case"insert-item-at-index":{let t=this.createItemModel(e.state);this._toplevelInsertItemAt(e.index,t,e.focus,e.folderId)}break;case"new-expression-at-end":{this.setGeoTool("selection");let e=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});this.setEditListMode(!1),ts(this.listModel,e),Yi(this,e.id)}break;case"new-expression":{let e=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});this.setEditListMode(!1),this._toplevelNewItemAtSelection(e,{shouldFocus:!0}),this._closeAddExpression()}break;case"new-text":{let e=this.createItemModel({id:this.generateId(),type:"text"});this._toplevelNewItemAtSelection(e,{shouldFocus:!0}),this._closeAddExpression()}break;case"new-folder":{let e=this.createItemModel({type:"folder",id:this.generateId()});this._toplevelNewItemAtSelection(e,{shouldFocus:!0}),this._closeAddExpression()}break;case"new-images":this._uploadImagesAndWaitForThemToLoad({files:e.files}),this._closeAddExpression();break;case"change-image":this._uploadImagesAndWaitForThemToLoad({files:e.files,id:e.id});break;case"new-table":{let e=this._createTableItem();this._toplevelNewItemAtSelection(e,{shouldFocus:!0}),this._closeAddExpression()}break;case"paste-table":this._pasteTable(e.data);break;case"insert-several-expressions":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this._insertSeveralExpressions(e.expressions);break;case"append-number-list":this._appendNumberList(e.latex);break;case"remove-item-by-id":Ku(this.listModel,e.id);break;case"replace-item-at-index":{let t=this.createItemModel(e.state);this._toplevelReplaceItemAt(e.index,t,e.focus)}break;case"create-sliders-for-item":this.createSlidersForItem(e.id,e.variables);break;case"create-sliders-for-ticker":this.createSlidersForTicker(e.variables);break;case"convert-image-to-draggable":this.convertImageToDraggable(e.id);break;case"start-dragdrop":{let t=this.getItemModel(e.id);if(!t)return;let n=this.getItemRootNodeById(t.id);if(!n)return;let r=n.getBoundingClientRect();Dr(this.listModel,void 0);let i=e.grabY-r.top,o=!1,a=1;"folder"===t.type&&(a+=this.getNumberOfItemsInFolder(t.id),t.collapsed||(o=!0,vu(t,!0))),lg(this.listModel,{firstItemId:t.id,numberOfItems:a,expandFolder:o,grabOffset:i,mouseY:e.mouseY,itemTop:0}),this.dragdrop_expressions.startDragging(e.mouseY)}break;case"update-dragdrop":{let t=this.listModel.dragState;if(!t)return;lg(this.listModel,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t),{mouseY:e.mouseY}))}break;case"stop-dragdrop":{let e=this.listModel.dragState;if(!e)return;let t=this.getItemModel(e.firstItemId);if(!t)return;Dr(this.listModel,t),"folder"===t.type&&e.expandFolder&&vu(t,!1),lg(this.listModel,void 0)}break;case"set-selected-id":{let t=this.getItemModel(e.id);Dr(this.listModel,t)}break;case"set-all-selected-ids":$S(this.listModel,e.ids);break;case"toggle-selected-with-multi-select":HS(this.listModel,e.id);break;case"set-selected-index":{let t=this.getItemModelByIndex(e.index);Dr(this.listModel,t)}break;case"set-none-selected":Dr(this.listModel,void 0);break;case"set-focus-location":{let t=e.location?e.location.type:"";if("expression"===t&&this.setGeoTool("selection"),"table"===t&&(this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{inEditListMode:!1})),"graph-paper"===t){this.setGraphPaperFocus({isFocused:!0});break}ri(this,e.location)}break;case"focus-first-expression":{if(!this.getGraphSettings().config.expressions)return;let e=Vu(this.listModel);if(console.log(this.listModel),!e)break;Yi(this,e.id,"end");break}case"focus-last-expression":{if(!this.getGraphSettings().config.expressions)return;let e;for(let t=0;t<this.listModel.__itemModelArray.length;t++)this.listModel.__itemModelArray[t].folderId||"folder"==this.listModel.__itemModelArray[t].type||(e=this.listModel.__itemModelArray[t]);if(!e)break;Yi(this,e.id,"end");break}case"move-focus-to-item":Yi(this,e.id,e.where);break;case"blur-focus-location":this.isFocusLocationFocused(e.location)&&ri(this,void 0),"graph-paper"===(null==(t=e.location)?void 0:t.type)&&this.setGraphPaperFocus({isFocused:!1});break;case"set-folder-collapsed":{let t=this.getItemModel(e.id);if(!t||"folder"!==t.type)return;vu(t,e.isCollapsed)}break;case"set-all-folders-collapsed":BA(this.listModel,e.isCollapsed);break;case"set-item-secret":{let t=this.getItemModel(e.id);if(!t)return;zS(t,e.isSecret)}break;case"set-item-readonly":{let{id:t,readonly:n}=e,r=this.getItemModel(t);if(!r)return;if(Qb(r,n),"folder"===r.type)for(let e of yA(this.listModel,t))Qb(e,n)}break;case"set-tablecolumn-color":{let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;uG(t,e.columnId,e.color)}break;case"set-tablecolumn-colorlatex":{let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;Cb(t,e.columnId,e.colorLatex)}break;case"set-show-cdf":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;FV(t,e.showCDF)}break;case"set-cdf-min":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;Jb(t,e.latex)}break;case"set-cdf-max":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;Xb(t,e.latex)}break;case"toggle-item-hidden":this._toggleItemHidden(e.id);break;case"toggle-tablecolumn-hidden":this._toggleTableColumnHidden(e.tableId,e.columnId);break;case"toggle-item-settings-menu":this.isItemSettingsMenuOpen(e.menu.guid)?this.closeItemSettingsMenu():(this.listModel.openItemMenu=e.menu,e.menu.focusFirstOption&&("geo-tool-dropdown"===e.menu.type?ri(this,{type:"geo-basic-tool-menu-item",tool:e.menu.tools[0]}):"multi-select-more"===e.menu.type||"multi-select-transformations"===e.menu.type?ri(this,{type:"generic-menu",where:"start"}):ri(this,{type:"expression-menu",id:e.menu.model.id,location:"start"})));break;case"close-item-settings-menu":this.closeItemSettingsMenu();break;case"toggle-fraction-evaluation":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;mV(t,!xc(t))}break;case"set-item-label":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;Ml(t,e.label),this.enqueueEvent("userEditedLabel",e)}break;case"set-item-showlabel":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;ud(t,e.showLabel),e.showLabel||(Tg(t,!1),cx(t,"NONE"))}break;case"set-item-color":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;ax(t,e.color)}break;case"set-item-description":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type&&"image"!==t.type)return;"expression"===t.type?yV(t,e.description):"image"===t.type&&OG(t,e.description)}break;case"set-item-fill":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;iE(t,e.fill),this._setItemHidden(t.id,ju(t))}break;case"set-image-opacity":{let t=this.getItemModel(e.id);if(!t||"image"!==t.type)return;RG(t,e.opacity),this._setItemHidden(t.id,!1)}break;case"set-image-in-foreground":{let t=this.getItemModel(e.id);if(!t||"image"!==t.type)return;VS(t,e.foreground)}break;case"image-upload-error":this.__pendingImageUploads[e.token]&&(delete this.__pendingImageUploads[e.token],this._showToast({message:this.s("graphing-calculator-text-toast-image-upload-failed")}));break;case"image-upload-success":if(this.__pendingImageUploads[e.token])if(delete this.__pendingImageUploads[e.token],e.id){let t=this.getItemModel(e.id);t&&"image"===t.type&&NG(t,e.url)}else{let t=this.createItemModel({type:"image",id:this.generateId(),width:e.width,height:e.height,image_url:e.url,name:e.name});this._toplevelNewItemAtSelection(t,{shouldFocus:!1})}this.isUploadingImages()||(this.toastData={});break;case"image-load-success":{let t=this.getItemModel(e.id);if(!t||"image"!==t.type)return;Ab(t,"loaded"),this.imageRetryState={lastAttemptTime:0,attempts:0}}break;case"image-load-error":{let t=this.getItemModel(e.id);if(!t||"image"!==t.type)return;Ab(t,"failed")}break;case"image-retry-loading":{let t=this.getItemModel(e.id);if(!t||"image"!==t.type)return;PS(t)}break;case"set-item-dragmode":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;pd(t,e.dragMode)}break;case"set-tablecolumn-dragmode":{let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;dG(t,e.columnId,e.dragMode),"NONE"!==e.dragMode&&this._setTableColumnHidden(e.tableId,e.columnId,!1)}break;case"set-tablecolumn-points":{let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;MS(t,e.columnId,e.bool),this._setTableColumnHidden(e.tableId,e.columnId,Sb(t,e.columnId))}break;case"set-tablecolumn-lines":{let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;lG(t,e.columnId,e.bool),this._setTableColumnHidden(e.tableId,e.columnId,Sb(t,e.columnId))}break;case"set-tablecolumn-linestyle":{let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;cG(t,e.columnId,e.lineStyle),this._setTableColumnHidden(e.tableId,e.columnId,!1)}break;case"set-tablecolumn-linewidth":{let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;bb(t,e.columnId,e.lineWidth),this._setTableColumnHidden(e.tableId,e.columnId,!1)}break;case"set-tablecolumn-lineopacity":{let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;xb(t,e.columnId,e.lineOpacity),this._setTableColumnHidden(e.tableId,e.columnId,!1)}break;case"set-tablecolumn-pointsize":{let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;wb(t,e.columnId,e.pointSize),this._setTableColumnHidden(e.tableId,e.columnId,!1)}break;case"set-tablecolumn-pointopacity":{let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;vb(t,e.columnId,e.pointOpacity),this._setTableColumnHidden(e.tableId,e.columnId,!1)}break;case"set-tablecolumn-pointstyle":{let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;sG(t,e.columnId,e.pointStyle),this._setTableColumnHidden(e.tableId,e.columnId,!1)}break;case"set-item-points":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;nE(t,e.points),this._setItemHidden(e.id,ju(t)),!e.points&&"NONE"!==t.dragMode&&pd(t,"NONE")}break;case"set-item-pointstyle":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;oE(t,e.pointStyle),this._setItemHidden(e.id,!1)}break;case"set-item-lines":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;aE(t,e.lines),this._setItemHidden(e.id,ju(t))}break;case"set-item-linestyle":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;sx(t,e.lineStyle),this._setItemHidden(e.id,!1)}break;case"set-item-arrow-mode":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;xV(t,e.value),this._setItemHidden(e.id,!1);break}case"set-item-label-dropdown-open":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;bV(t,e.open)}break;case"set-item-fillopacity":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;yg(t,e.fillOpacity),this._setItemHidden(e.id,!1)}break;case"set-item-lineopacity":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;Uu(t,e.lineOpacity),this._setItemHidden(e.id,!1)}break;case"set-item-pointopacity":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;bg(t,e.pointOpacity),t.showLabel||this._setItemHidden(e.id,!1)}break;case"set-item-pointsize":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;xg(t,e.pointSize),this._setItemHidden(e.id,!1)}break;case"set-item-linewidth":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;qu(t,e.lineWidth),this._setItemHidden(e.id,!1)}break;case"set-item-colorlatex":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;wg(t,e.colorLatex)}break;case"set-item-labelSize":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;vg(t,e.labelSize)}break;case"set-item-labelangle":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;Yb(t,e.labelAngle)}break;case"set-item-label-orientation":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;sE(t,e.labelOrientation)}break;case"set-suppress-text-outline":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;vV(t,e.suppressTextOutline)}break;case"set-item-interactive-label":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;Tg(t,e.interactiveLabel),e.interactiveLabel&&cx(t,"NONE")}break;case"set-item-editable-label-mode":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;"NONE"!==t.editableLabelMode&&"NONE"!==e.editableLabelMode&&t.editableLabelMode!==e.editableLabelMode&&Ml(t,""),cx(t,e.editableLabelMode),"NONE"!==e.editableLabelMode&&Tg(t,!1)}break;case"plot-residuals":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;var o=t.formula.regression;if(!o)return;var a=o.residualSuggestionId;if(!a)return;var s=this.getItemModel(a);if(!s)return;mb(s,{latex:__dcg_shared_module_exports__.Ua(o.residualVariable),columnIndex:s.columnModels.length-1})}break;case"toggle-logmode":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;rE(t,!t.isLogModeRegression)}break;case"set-item-latex":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;let n=e.latex;if('"'===n&&this.areNotesEnabled()){let e=this.createItemModel({id:this.generateId(),type:"text"});this._toplevelReplaceItemAt(t.index,e,!0)}else if(""===n)qV(t);else if("ticker"===n&&this.canAddTicker())this.listModel.ticker.open=!0,this.focusLocation={type:"ticker",location:"handler"},this._removeExpressionSynchronously(t);else if("folder"===n&&this.areFoldersEnabled()){let e=this.createItemModel({id:this.generateId(),type:"folder"});Uo(t)?(this._toplevelNewItemAtSelection(e,{shouldFocus:!0}),sa(t,"")):this._toplevelReplaceItemAt(t.index,e,!0)}else if("table"===n){let e=this._createTableItem();this._toplevelReplaceItemAt(t.index,e,!0)}else this.isGeometry()||"betchacant"!==n&&"pride"!==n?(sa(t,n),this.lastUserUpdatedExpressionItem=t):this.runAfterDispatch((()=>{this.triggerEasterEgg&&this.triggerEasterEgg(n)}))}break;case"set-visualization-prop":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;rV(t,e.prop,e.value)}break;case"set-clickableinfo-prop":{let t=this.getItemModel(e.id);if(!t)return;"expression"===t.type?iV(t,e.prop,e.value):"image"===t.type&&Vb(t,e.prop,e.value)}break;case"set-clickableinfo-rule-latex":{let t=this.getItemModel(e.id);if(!t)return;"expression"===t.type?zb(t,e.latex):"image"===t.type&&zG(t,e.latex)}break;case"set-folder-title":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"folder"!==t.type)return;O0(t,e.title)}break;case"set-image-mq-attribute":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"image"!==t.type)return;qo(t,e.attribute,e.latex)}break;case"set-image-name":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"image"!==t.type)return;_G(t,e.name)}break;case"set-image-draggable":{let t=this.getItemModel(e.id);if(!t||"image"!==t.type)return;let n=Du(t);if(!n)return;AS(t,e.draggable),e.draggable&&("NONE"===n.reconciledDragMode||"AUTO"===n.dragMode)&&pd(n,"XY")}break;case"set-graph-settings":for(let t in e)"type"!==t&&this.graphSettings.setProperty(t,e[t]);break;case"set-polar-mode":this.graphSettings.setProperty("polarMode",e.polarMode),e.polarMode&&(this.graphSettings.setProperty("xAxisScale","linear"),this.graphSettings.setProperty("yAxisScale","linear"),null==(n=this.grapher)||n.getProjection().updateScalePairs());break;case"set-polar-domain-minlatex":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;hg(t,e.latex)}break;case"set-polar-domain-maxlatex":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;fg(t,e.latex)}break;case"set-parametric-domain-minlatex":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;gg(t,e.latex)}break;case"set-parametric-domain-maxlatex":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;mg(t,e.latex)}break;case"set-note-text":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"text"!==t.type)return;CG(t,e.text)}break;case"set-edit-list-mode":{let t=Ru(this.listModel);if(this.setEditListMode(e.isEditListMode),e.focusExpressionList){if(void 0===t&&(t=this.getItemModelByIndex(0)),!t)return;Yi(this,t.id,"table"===t.type&&e.isEditListMode?"container":"start")}else Dr(this.listModel,void 0),ri(this,void 0)}break;case"set-projector-mode":this.getGraphSettings().config.setProperty("projectorMode",e.value);break;case"set-inverted-colors":this.getGraphSettings().config.setProperty("invertedColors",e.value);break;case"set-tablecell-latex":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.tableId);if(!t||"table"!==t.type)return;Dl(t,e.cell,e.latex)}break;case"set-state":this.externalSetState(e.state,e.opts);break;case"set-blank":this.externalSetState(this.getBlankState(),e.opts);break;case"clear-unsaved-changes":this.enqueueEvent("clearUnsavedChanges",e);break;case"reset-graph":{let t=this.getState();this.externalSetState(this.graphSettings.defaultState,{allowUndo:!0});let n=this.getItemModelByIndex(0);n&&Yi(this,n.id,"end"),this._showToast({message:this.s("graphing-calculator-text-toast-graph-reset"),undoCallback:()=>this.dispatch({type:"set-state",state:t,opts:{allowUndo:!0}})}),this.enqueueEvent("graphReset",e)}break;case"clear-graph":{if(this.triggerClearGraph)return void this.runAfterDispatch((()=>this.triggerClearGraph()));let t=this.getState();this.externalSetState(this.getBlankState(),{allowUndo:!0});let n=this.getItemModelByIndex(0);n&&Yi(this,n.id,"end"),this._showToast({message:this.s("graphing-calculator-text-toast-graph-cleared"),undoCallback:()=>this.dispatch({type:"set-state",state:t,opts:{allowUndo:!0}})}),this.enqueueEvent("graphReset",e)}break;case"on-evaluator-changes":if(this.onEvaluatorChangesSpy&&this.onEvaluatorChangesSpy(e.changes,e.timingData,e.graphData,e.eventUpdates),FA(this.listModel,e.changes),!e.graphData)break;var l;for(l in e.graphData.addedGraphs){var c=e.graphData.addedGraphs[l];this.grapher&&this.grapher.updateSketch(l,c),__dcg_shared_module_exports__.Jb(c)&&_A(this.listModel,l,c)}for(l in e.graphData.removedGraphs)this.grapher&&this.grapher.removeGraphSketch(l);for(l in e.graphData.intersections){let t=e.graphData.intersections[l];this.grapher&&"2d"===this.grapher.type&&__dcg_shared_module_exports__.Jb(t)&&this.grapher.updateIntersections(l,t)}if(this.grapher&&this.grapher.poiController&&this.grapher.poiController.handleTraceUpdate(),e.eventUpdates){let t=!1;for(let n in e.eventUpdates.updates)if(this.doesIdentifierBlockActionUpdate(n)){t=!0;break}if(!t){for(let t in e.eventUpdates.updates)this.updateLatexForIdentifier(t,e.eventUpdates.updates[t]);e.eventUpdates.objectClicked&&this.enqueueEvent("userClickedObject",e),this.onActionUpdatesAppliedSpy&&this.onActionUpdatesAppliedSpy(e.eventUpdates)}}break;case"add-helper-expression":kA(this.listModel,e.state);break;case"tick":this._tickSliders(e.time);break;case"tick-ticker":this.tickTicker(e.time);break;case"adjust-slider-by-keyboard":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;YA(t,e.adjustment)}break;case"adjust-slider-by-dragging-thumb":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;JA(t,e.target)}break;case"set-slider-minlatex":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;dg(t,e.latex)}break;case"set-slider-maxlatex":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;ug(t,e.latex)}break;case"set-slider-steplatex":{this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;pg(t,e.latex)}break;case"set-slider-dragging":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;Mg(t,e.dragging)}break;case"play-slider-from-min":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;let n=la(t);if(isNaN(n))return;let r=bc(t.latex,n);$o(t,!1),sa(t,r),$o(t,!0)}break;case"set-slider-isplaying":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;$o(t,e.isPlaying)}break;case"set-slider-loopmode":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;gV(t,e.loopMode)}break;case"set-slider-animationperiod":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type)return;fV(t,e.animationPeriod)}break;case"show-expressions-list":this._showExpressions(e.focusHideIcon);break;case"hide-expressions-list":this._hideExpressions(e.focusShowIcon);break;case"open-drawer":this.enqueueEvent("openDrawer",e);break;case"re-randomize":this.setRandomSeed(al());break;case"resize-exp-list":this._setExpListWidth(e.expListWidth);break;case"toast/show":this._showToast(e.toast);break;case"toast/close":this.closeToast();break;case"toast/undo":let m=this.toastData.undoCallback;m&&this.runAfterDispatch(m),this.toastData={};break;case"toast/learn-more":let f=this.toastData.learnMoreCallback;f&&this.runAfterDispatch(f),this.toastData={};break;case"start-moving-points":WL(this,this.listModel,e.points);break;case"stop-moving-points":YL(this,e.points);break;case"on-move-points":jL(this,e.points,e.previousScreenPts,e.screenPts,e.projection,e.transform,e.keyboardDirection)&&this.enqueueEvent("userMovedPoint",e);break;case"commit-user-requested-viewport":this._commitUserRequestedViewport(e.viewport);break;case"set-axis-scale":switch(e.settings.axis){case"x":{let{scale:t,limitLatex:n}=e.settings;this.graphSettings.setProperty("xAxisScale",t),null==(r=this.grapher)||r.getProjection().updateScalePairs(),this._setAxisLimitLatex("xmin",n.min),this._setAxisLimitLatex("xmax",n.max),this.grapher&&(this.lastDirectlyEditedViewport=this.grapher.getCurrentViewport());break}case"y":{let{scale:t,limitLatex:n}=e.settings;this.graphSettings.setProperty("yAxisScale",t),null==(i=this.grapher)||i.getProjection().updateScalePairs(),this._setAxisLimitLatex("ymin",n.min),this._setAxisLimitLatex("ymax",n.max),this.grapher&&(this.lastDirectlyEditedViewport=this.grapher.getCurrentViewport());break}default:{let t=e.settings.axis;throw new Error(`Exhaustive check failed for set-axis-scale axis: ${t}`)}}break;case"toggle-lock-viewport":this.graphSettings.setProperty("userLockedViewport",!this.graphSettings.userLockedViewport);break;case"set-axis-limit-latex":this._setAxisLimitLatex(e.limit,e.latex),this.grapher&&(this.lastDirectlyEditedViewport=this.grapher.getCurrentViewport());break;case"toggle-graph-settings":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{graphSettingsOpen:!this.layoutModel.graphSettingsOpen}),Dr(this.listModel,void 0),e.focusOnOpen&&(this.layoutModel.graphSettingsOpen?this.isGeometry()?ri(this,{type:"settings",location:"reverse-contrast"}):this.getGraphSettings().config.projectorMode?ri(this,{type:"settings",location:"large-size"}):ri(this,{type:"settings",location:"default-size"}):ri(this,{type:"settings",location:"icon"}));break;case"close-graph-settings":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{graphSettingsOpen:!1}),e.focusIconAfterClose&&ri(this,{type:"settings",location:"icon"});break;case"toggle-add-expression":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{addExpressionOpen:!this.layoutModel.addExpressionOpen}),e.focusOnOpen&&this.layoutModel.addExpressionOpen&&ri(this,{type:"add-expression-btn"});break;case"close-add-expression":this._closeAddExpression(),e.focusIconAfterClose&&ri(this,{type:"add-item-btn"});break;case"ui/container-resized":this.layoutMeasurements={width:e.size.width,height:e.size.height},this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;break;case"enter-printmode":this.inPrintMode=!0;break;case"exit-printmode":this.inPrintMode=!1;break;case"expression-size-exceeded":this._showToast({message:this.s("graphing-calculator-text-toast-expression-size-limit")});break;case"keypad/set-layout":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadLayout:e.layout,keypadFunctionsOpen:!1});break;case"keypad/set-minimized":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadMinimized:e.minimized,keypadLayout:"mainNumbers"}),this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this.needsFakeKeypad()||EP(this),ge(e.minimized?this.s("graphing-calculator-narration-keypad-hidden"):this.s("graphing-calculator-narration-keypad-visible"));break;case"keypad/type-text":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch((()=>{let t=qe.getFocusedMathquill();t&&qe.canAcceptText(t,this.getCapExpressionSize(),e.text)&&(t.typedText(e.text),qe.simulateUserChangedLatex(t))}));break;case"keypad/press-key":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch((()=>{let t=qe.getFocusedMathquill();t&&qe.simulateKeypress(t,e.key)}));break;case"keypad/audio-trace":this.handleAudioTraceCommand(e.command);break;case"set-audio-trace-speed":this.setAudioTraceSpeed(e.speed);break;case"keypad/custom-command":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch((()=>{let t=qe.getFocusedMathquill();t&&(Lp(t,e.command),qe.simulateUserChangedLatex(t))}));break;case"keypad/shift":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadLayout:TP(this.getKeypadLayout()),keypadFunctionsOpen:!1});break;case"keypad/123":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadLayout:"mainNumbers",keypadFunctionsOpen:!1});break;case"keypad/abc":this.isQwertyKeyboardEnabled()?this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadLayout:"letters",keypadFunctionsOpen:!1}):this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadLayout:"noQwertyLetters",keypadFunctionsOpen:!1});break;case"keypad/audio":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadMinimized:!1,keypadLayout:"audio",keypadFunctionsOpen:!1});break;case"keypad/functions":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadFunctionsOpen:!this.isKeypadFunctionsPopoverOpen()});break;case"open-on-web":this._openOnWeb();break;case"file-is-dragged-over":this.listModel.openItemMenu=void 0,this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{isFileDraggedOver:!0});break;case"file-is-not-dragged-over":this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{isFileDraggedOver:!1});break;case"zoom":this.grapher&&this.grapher.viewportController.zoom(e.direction);break;case"set-default-viewport":this.grapher&&this.grapher.viewportController.setDefaultViewport();break;case"set-hovered-image":{let t=this.getItemModel(e.id);if(!t||"image"!==t.type)return;Vb(t,"hoveredImage",e.url)}break;case"set-depressed-image":{let t=this.getItemModel(e.id);if(!t||"image"!==t.type)return;Vb(t,"depressedImage",e.url)}break;case"clickable-item-clicked":this.handleClickableItemClicked(e.id,e.listIndex);break;case"action-single-step":{let t=this.getItemModel(e.id);if(!t||"expression"!==t.type||!t.formula.action_value)return;this.evaluator.addActionStepEvent(t.id)}break;case"update-expression-search-str":this.updateExpressionSearchStr(e.str);break;case"update-expression-replace-str":this.updateExpressionReplaceStr(e.str);break;case"rename-identifier-global":this.suggestedIdentifierRename=void 0,_u(this.listModel,e.search,e.replace);break;case"rename-identifier-in-item":this.suggestedIdentifierRename=void 0;let y=this.getItemModel(e.id);y&&"folder"===y.type?_u(this.listModel,e.search,e.replace,{limitToFolder:e.id}):_u(this.listModel,e.search,e.replace,{limitToItem:e.id});break;case"update-ticker-handlerlatex":this.updateTickerHandlerLatex(e.latex);break;case"update-ticker-minsteplatex":this.updateTickerMinStepLatex(e.latex);break;case"set-braille-mode":this.setBrailleMode(e.mode);break;case"set-six-key-input":this.setSixKeyInput(e.useSixKeyInput);break;case"set-show-constructions-open":this.showConstructionsOpen=e.open,e.focusIcon&&ri(this,{type:"geo-show-constructions-icon"});break;case"select-geo-tool":this.listModel.openItemMenu=void 0,this.setGeoTool(e.tool),e.clearSelection&&Dr(this.listModel,void 0),e.focusGraphPaper&&this.setGraphPaperFocus({isFocused:!0});break;case"cancel-geo-toolplay":this.cancelGeoToolplay();break;case"commit-geo-objects":{let t=[];var d=this.findLastSubscriptForLetters(),p={};let n=[];for(let r in e.objects){var u=e.objects[r];_p(u.type)&&n.push(r);var h=tD(u,!0,(e=>{let t=p[e];if(t)return t.assignmentLatex;let n=this.getItemModel(e);if(!n||"expression"!==n.type)return e;var r=this._autoNameExpression(n,d);return t=p[e]={model:n,assignmentLatex:r},t.assignmentLatex}));h&&t.push(__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},h),{tokenId:r}))}if(t.length){let e=this.listModel.__toolPreviewIdToModel,n=this.getGeometryFolder(),r=n?n.index+this.getNumberOfItemsInFolder(n.id)+1:0;t.forEach((t=>{let i;for(let n in e){let r=e[n];if(0===r.latex.indexOf(t.tokenId+"=")){i=r;break}}i?(i.latex=t.latex,i.color=t.color,i.showLabel=!!t.showLabel,n&&(i.folderId=n.id)):i=this.createItemModel({id:this.generateId(),type:"expression",showLabel:t.showLabel,latex:t.latex,folderId:n&&n.id,color:t.color}),n?(ka(this.listModel,i,r),r+=1):ts(this.listModel,i),this.getGeoModel().recordCommittedOutput(i.id)}))}1===n.length&&this.transformAllSelectedItemsByAssignmentLatex(n[0]),this.geoModel.isCurrentToolSingleUse()&&this.setGeoTool("selection"),this.isGeometry()&&this.getGeoModel().updateFadeAnimations()}break;case"rename-identifier":{let t=e.from,n=e.to,r=this.getGeometryFolder();r&&this.getGeoItemsByTokenLatex(t).forEach((t=>{e.geoFolder&&t.folderId!==r.id?(Eo(t,r.id),Nu(this.listModel,t.index,r.index+1,1)):!e.geoFolder&&t.folderId===r.id&&(Nu(this.listModel,t.index,r.index+this.getNumberOfItemsInFolder(r.id),1),Eo(t,""))})),_u(this.listModel,t,n)}break;case"set-active-token":this.activeTokens[e.style]=e.id;break;case"unset-active-token":this.activeTokens[e.style]===e.id&&(this.activeTokens[e.style]=void 0);break;case"select-expression-that-defines-token":{let t=this.getExpressionIdForToken(e.id);if(!t)return;this.setGeoTool("selection"),e.multiSelectMode||e.toggle?HS(this.listModel,t):this.tryInsertTokenIntoMathquill(t,void 0)||Dr(this.listModel,this.getItemModel(t))}break;case"close-expression-search":this.expressionSearchOpen=!1,this.updateExpressionSearchStr("");let b=this.getItemModelByIndex(0);b&&Yi(this,b.id,"end");break;case"open-expression-search":this.expressionSearchOpen=!0,this.focusLocation={type:"search-expressions"};let x=e.latex;e.rename&&!Ys(x)&&(x="");let _=e.rename?x?`\\operatorname{rename}\\ ${x}\\to`:"\\operatorname{rename}\\ ":x;this.updateExpressionSearchStr(_);break;case"open-ticker":this.listModel.ticker.open=!0,this.focusLocation={type:"ticker",location:"handler"},this._closeAddExpression();break;case"close-ticker":this.listModel.ticker.open=!1,this.listModel.ticker.playing=!1,this.listModel.ticker.minStepLatex="",this.listModel.ticker.handlerLatex="";break;case"toggle-ticker":this.listModel.ticker.playing=!this.listModel.ticker.playing,this.listModel.ticker.lastTickTime=void 0,this.pauseAllSliders();break;case"set-tool-preview-state":this.setToolPreviewState(e.state);break;case"apply-transformation-to-selected":this.transformAllSelectedItemsByAssignmentLatex(e.assignmentLatex),this.closeItemSettingsMenu();break;case"style-for-geo-depth":{let t=this.geoModel.getComputedBoard().getDepthValues().lastReferencedDepth,n=parseInt(e.depth),r=!1;e.depthOrder.forEach((i=>{var o=this.cachedGeoTokenDepths[i];if(!o)return;let a=parseInt(i),s=i===e.depth,l=a<n;o.forEach((e=>{var i=e.calcId,o=this.getItemModel(i);if(o&&"expression"===o.type){var a=!!r||o.hidden;o.hidden&&(s||l&&n<1+t["\\token{"+e.token+"}"])&&(a=!1),a===o.hidden?lE(o,void 0):lE(o,a)}})),s&&(r=!0)}))}break;default:return e}}transformAllSelectedItemsByAssignmentLatex(e){var t;let n=Ub(this.listModel),r=this.findLastTokenNumber()+1,i=this.findLastSubscriptForLetters(),o=this.getGeometryFolder(),a=o?o.index+this.getNumberOfItemsInFolder(o.id)+1:0,s={};for(let p of n){if("expression"!==p.type)continue;var l=p.formula.geometry;if(!l)continue;var c=null==(t=p.formula.typed_constant_value)?void 0:t.valueType;if(!c||__dcg_shared_module_exports__.V(c,__dcg_shared_module_exports__.O))continue;var d=l.identifier;let n;n=d?__dcg_shared_module_exports__.Ua(d):this._autoNameExpression(p,i);let u=`\\token{${r}}`;r+=1;let h=`${u}=${e}\\left(${n}\\right)`,g=this.createItemModel({id:this.generateId(),type:"expression",showLabel:p.showLabel&&!p.label,latex:h,folderId:o&&o.id,color:p.color});s[g.id]=!0,o?(ka(this.listModel,g,a),a+=1):ts(this.listModel,g)}Object.keys(s).length&&$S(this.listModel,s)}_autoNameExpression(e,t){var n=Ig(e)[0].toUpperCase(),r=(t[n]||0)+1;t[n]=r;var i=n+"_{"+r+"}";return sa(e,i+"="+e.latex),i}setGeoTool(e){this.geoUIActive&&this.activeTool!==e&&(this.geoTools.forEach((t=>{t.dropdown&&-1!==t.dropdown.indexOf(e)?t.key=e:t.dropdown&&t.resetOnChange&&-1!==t.resetOnChange.indexOf(t.key)&&(t.key=t.dropdown[0])})),this.activeTool=e,this.getGeoModel().setToolMode(e),this.cancelGeoToolplay())}cancelGeoToolplay(){var e,t;let n=this.getGeoModel();n.cancelToolplay(),n.deselectAllObjects(),this.setToolPreviewState({}),null==(t=null==(e=this.grapher)?void 0:e.poiController)||t.cancelGeoToolplay()}setToolPreviewState(e){this.toolPreviewJSONState=e;var t=this.listModel.__toolPreviewIdToModel;this.listModel.__toolPreviewIdToModel={};for(let n in e){let r,i=tD(e[n],!1);if(i){for(let e in t){let i=t[e];if(0===i.latex.indexOf(n+"=")){r=i;break}}r?(r.latex=i.latex,r.color=i.color,r.showLabel=!!i.showLabel):r=Wb({id:this.generateId(),type:"expression",color:i.color,latex:i.latex,showLabel:!!i.showLabel},this),this.listModel.__toolPreviewIdToModel[r.id]=r}}}isGeoItem(e){let t=this.getItemModel(e);return t&&"expression"===t.type&&t.formula&&t.formula.geometry&&!t.formula.error}getSelectedGeoExpression(){var e=this.getSelectedItem();if(e&&this.isGeoItem(e.id)&&"expression"===e.type)return e}getGeometryFolder(){let e=this.getItemModel(__dcg_shared_module_exports__.vc);return e&&"folder"===e.type?e:void 0}isItemInGeoFolder(e){var t=this.getItemModel(e);return!(!t||"folder"===t.type)&&t.folderId===__dcg_shared_module_exports__.vc}isGeoFolder(e){return e.id===__dcg_shared_module_exports__.vc}pauseAllSliders(){this.getPlayingSliders().forEach((e=>{$o(e,!1)}))}countGlobalIdentifierOccurences(e){return CA(this.listModel,e)}handleClickableItemClicked(e,t){var n;let r=this.getItemModel(e);r&&("expression"!==r.type&&"image"!==r.type||"maybe-valid"===(null==(n=r.formula.click_handler)?void 0:n.status)&&this.evaluator.addClickEvent(r.id,t))}canAddTicker(){return!this.getTickerOpen()}countIdentifierAssignments(e){return Fu(this.listModel,e).length}doesIdentifierBlockActionUpdate(e){var t=this.getFocusLocation(),n=Fu(this.listModel,e);for(let e of n)if("expression"===(null==t?void 0:t.type)&&t.id===e.id||hV(e))return!0;return!1}getItemsByIdentifier(e){return Fu(this.listModel,e)}getGeoItemsByTokenLatex(e){let t=e+"=";return Bb(this.listModel).filter((e=>{if("expression"===e.type)return 0===e.latex.trim().indexOf(t)}))}isAtLeastOnePointSelected(){let e=this.getAllSelectedItems();for(var t=0;t<e.length;t++){let n=e[t];if("expression"===n.type&&Ma(n))return!0}return!1}toggleLabelForAllSelectedObjects(){let e=[],t=[];this.getAllSelectedItems().forEach((n=>{"expression"===n.type&&Ma(n)&&(n.showLabel?t.push(n):e.push(n))}));let n=/^([A-Z])([0-9]*)$/;if(e.length){let t=0;this.getAllItemModels().forEach((e=>{if("expression"!==e.type||!e.showLabel||!e.label)return;let r=e.label.match(n);if(!r)return;let i=r[1].charCodeAt(0)-65;r[2]&&(i+=26*parseInt(r[2])),i>=t&&(t=i+1)})),e.forEach((e=>{if(!e.label){let n=t;t++;let r=String.fromCharCode(n%26+65),i=Math.floor(n/26);Ml(e,r+(i>0?i+"":""))}ud(e,!0)}))}else t.length&&t.forEach((e=>{n.test(e.label)&&Ml(e,""),ud(e,!1)}))}updateLatexForIdentifier(e,t){var n=Fu(this.listModel,e);if(1===n.length){var r=n[0];r.slider.isPlaying?($o(r,!1),sa(r,t),$o(r,!0)):sa(r,t)}}updateExpressionSearchStr(e){this.rawExpressionSearchStr=e;let t="\\operatorname{rename}";if(0===e.indexOf(t)){let t=e.slice(21).replace(/\\ /g,"").split(/\\to(?![a-zA-Z])/);2===t.length?(this.expressionSearchStr=t[0],this.isExpressionSearchStrValidForReplace=Ys(this.expressionSearchStr),this.updateExpressionReplaceStr(t[1])):(this.expressionSearchStr=t[0],this.isExpressionSearchStrValidForReplace=!1,this.updateExpressionReplaceStr(""));let n=wA(this.listModel,this.getExpressionSearchStr());this.expressionSearchCount=this.expressionSearchOpen?n:0}else this.expressionSearchStr=e.length>1&&0==="rename".indexOf(e)?"":e,this.isExpressionSearchStrValidForReplace=!1,this.updateExpressionReplaceStr(""),this.filterItemsBySearch()}filterItemsBySearch(){if(!this.getExpressionReplaceStr()){let e=vA(this.listModel,this.getExpressionSearchStr());this.expressionSearchCount=this.expressionSearchOpen?e:0}}updateExpressionReplaceStr(e){this.expressionReplaceStr=e,this.isExpressionReplaceStrValidForReplace=Ys(e)}getIsExpressionSearchStrValidForReplace(){return this.isExpressionSearchStrValidForReplace}getIsExpressionReplaceStrValidForReplace(){return this.isExpressionReplaceStrValidForReplace}isSearchReplaceValid(){return this.getIsExpressionSearchStrValidForReplace()&&this.getIsExpressionReplaceStrValidForReplace()}shouldShowReplaceIcon(){return this.isSearchReplaceValid()}updateTickerHandlerLatex(e){this.listModel.ticker.handlerLatex=e}updateTickerMinStepLatex(e){this.listModel.ticker.minStepLatex=e}getRawExpressionSearchStr(){return this.rawExpressionSearchStr||""}getExpressionSearchStr(){return this.expressionSearchStr||""}getExpressionReplaceStr(){return this.expressionReplaceStr||""}getExpressionSearchCount(){return this.expressionSearchCount||0}getTicker(){return this.listModel.ticker}getTickerHandlerLatex(){return this.listModel.ticker.handlerLatex||""}getTickerMinStepLatex(){return this.listModel.ticker.minStepLatex||""}getTickerAvgDelta(){return this.listModel.ticker.avgDelta}getBrailleMode(){return this.graphSettings.config.brailleMode}setBrailleMode(e){this.graphSettings.config.setProperty("brailleMode",e)}getSixKeyInput(){return this.graphSettings.config.sixKeyInput}setSixKeyInput(e){this.graphSettings.config.setProperty("sixKeyInput",e)}getBrailleControls(){return this.graphSettings.config.brailleControls}setBrailleControls(e){this.graphSettings.config.setProperty("brailleControls",e)}getAudio(){return this.graphSettings.config.audio}setAudio(e){this.graphSettings.config.setProperty("audio",e)}setEditListMode(e){this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{inEditListMode:e})}generateTableXSubscript(){return ag(this.listModel)}findLastTokenNumber(){return SA(this.listModel)}findLastSubscriptForLetters(){return EA(this.listModel)}_createTableItem(){let e=IS(this.generateTableXSubscript(),[[],[]],this);return this.createItemModel(e)}_populateSettingsViewLimitLatex(){if(!this.grapher)return;let e=this.grapher.getCurrentViewport();this.isGraphSettingsOpen()&&__dcg_shared_module_exports__.Ea(e,this.lastDirectlyEditedViewport)||(this.settingsViewModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.settingsViewModel),{limitLatex:LP(e,{steps:this.getAxisStepSettings(),scales:this.getAxisScaleSettings()})}))}getAxisStepSettings(){return{xAxisStep:this.graphSettings.xAxisStep,yAxisStep:this.graphSettings.yAxisStep}}getAxisScaleSettings(){return{xAxisScale:this.graphSettings.xAxisScale,yAxisScale:this.graphSettings.yAxisScale}}getDefaultAxisScaleSettings(){var e,t;let{defaultState:n}=this.graphSettings;return{xAxisScale:(null==(e=null==n?void 0:n.graph)?void 0:e.xAxisScale)||"linear",yAxisScale:(null==(t=null==n?void 0:n.graph)?void 0:t.yAxisScale)||"linear"}}getSettingsViewModel(){return this.settingsViewModel}getListModel(){return this.listModel}hasBackgroundColor(){return"#ffffff"!==this.getBackgroundColor()}getBackgroundColor(){return this.getGraphSettings().getBackgroundColor()}getTextColor(){return this.getGraphSettings().getTextColor()}getPillboxBackgroundColor(){return __dcg_shared_module_exports__.ec(this.getBackgroundColor(),-.07)}subToChanges(e){let t=this.nextSubscription;return this.nextSubscription+=1,this.subscriptions[t]=e,()=>{delete this.subscriptions[t]}}updateTheComputedWorld(){cd(this.listModel),DA(this.listModel),this.grapher&&this.grapher.setSketchOrder(this.listModel.drawOrder);var e={};let t=t=>{let n=eE(t.latex),r=n&&$u(n);r&&(e[r]?e[r].multiple=!0:e[r]={model:t,multiple:!1})};for(let e of this.getAllToolPreviewItems())tE(e),t(e);for(let e of this.getAllItemModels())switch(e.type){case"expression":tE(e),t(e);break;case"image":BG(e);break;case"table":X0(e);break;case"folder":L0(e);break;case"text":EG(e);break;default:return e}this.geoUIActive=this.isGeometry()&&!this.getGraphSettings().config.hideGeoUI;var n=this.cachedGeoTokenGroups={};for(var r in this.cachedGeoTokenInfo={},e){var{multiple:i,model:o}=e[r],a="blue";let t="unknown",c="unknown",d=!1,p=!1,u=!1,h=!1;var s=void 0;if(!i&&o?(a=rs(o),o.hidden&&(h=!0),s=o.geoOverrideHidden,d=cV(o),c=pV(o),t=Ig(o),o.error&&(p=!0,a="#")):(a="#fa824c",t="error",p=!0),t&&o){var l=n[t];l||(l=n[t]=[]),l.push({color:a,id:o.id,token:r,groupType:t}),this.isItemSelected(o.id)&&(u=!0)}else p=!0;let g=this.getGeoDescription(o,{includeDetails:!1}),m=(null==o?void 0:o.label)||"";this.cachedGeoTokenInfo[r]={groupType:t,iconType:c,isList:d,hasError:p,color:a,isSelected:u,isHidden:h,description:g,label:m,overrideHidden:s,calcId:o&&o.id||""}}this.cachedGeoTokenDepths={};let{createdDepth:c,firstReferencedDepth:d}=this.geoModel.getComputedBoard().getDepthValues();for(let e in this.cachedGeoTokenInfo){let{calcId:t}=this.cachedGeoTokenInfo[e];if(!this.getItemModel(t))continue;let n=c["\\token{"+e+"}"]||0,r=d["\\token{"+e+"}"];r=isFinite(r)?r:0;let i=Math.max(n,r-1)+"",o=this.cachedGeoTokenDepths[i];o||(o=[],this.cachedGeoTokenDepths[i]=o);let a=this.cachedGeoTokenInfo[e];o.push({color:a.color,groupType:a.groupType,token:e,calcId:t})}if(rA(this.listModel.ticker),this.isCurrentFocusLocationValid()||ri(this,void 0),this.listModel.openItemMenu){let e=this.getOpenMenuIcon();document.body&&e&&document.body.contains(e[0])||(this.listModel.openItemMenu=void 0)}let p=this.getSelectedItem();p&&!this.getItemModel(p.id)&&Dr(this.listModel,void 0),this._populateSettingsViewLimitLatex(),this.propagateSelection(),this.propagateActiveTokens(),this.isKeypadOpen()||(this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{keypadFunctionsOpen:!1})),this.updateSuggestedIdentifierRenameInfo(),this.runAfterDispatch((()=>{this.grapher&&"2d"===this.grapher.type&&this.grapher.audioGraph.checkIfSelectedItemChanged(p?p.id:void 0),this.grapher&&"2d"===this.grapher.type&&this.focusLocation&&"graph-paper"!==this.focusLocation.type&&this.grapher.audioGraph.exitAudioTrace()}))}getOpenMenuIcon(){let e=this.getOpenItemMenu();if(!e)return;let t=e.guid,n=this.find$(`[dcg-open-menu-guid="${t}"]`);return 0!==n.length?n:void 0}propagateSelection(){this.grapher?this.__lastSelectedIdsForPropagation=A1(this,this.grapher,this.__lastSelectedIdsForPropagation):this.__lastSelectedIdsForPropagation={}}propagateActiveTokens(){!this.grapher||!(this.grapher instanceof Hl)||(this.grapher.setActiveToken(this.getExpressionIdForToken(this.activeTokens.selected),"selected"),this.grapher.setActiveToken(this.getExpressionIdForToken(this.activeTokens.hovered),"hovered"))}getHoveredToken(){return this.activeTokens.hovered}doesLatexContainToken(e){return dV(e)}getToolPreviewJSONState(){return this.toolPreviewJSONState}garbageCollectGeo(e){if(!this.isGeometry())return;let t=UP(this,e);t.length&&US(this.listModel,t)}getExpressionIdForToken(e){if(!e)return;let t=uV(e);var n=this.getGeoItemsByTokenLatex(t);return 1===n.length?n[0].id:void 0}tryInsertTokenIntoMathquill(e,t){if(!this.isGeometry()||!e)return!1;var n=this.getItemModel(e);if(!n||"expression"!==n.type)return!1;let r=n.formula.typed_constant_value;0===t&&(!r||!__dcg_shared_module_exports__.S(r.valueType))&&(t=void 0);var i,o=!1,a=kn(n);if(a)i=__dcg_shared_module_exports__.Ua(a);else if(n.formula.geometry){let e=ag(this.listModel);i=__dcg_shared_module_exports__.Ua("P_"+e),o=!0}if(!i)return!1;void 0!==t&&(i+="\\left["+(t+1)+"\\right]");var s=this.getFocusLocation();return!(!s||!this.seemsLikeInsertingTokenWillImproveThings())&&(!!("expression"===s.type)&&(o&&("NONE"===n.reconciledDragMode&&"AUTO"===n.dragMode&&pd(n,"NONE"),sa(n,i+"="+n.latex)),this.writeIdentifierIntoCurrentMathquill(i),!0))}seemsLikeInsertingTokenWillImproveThings(){var e=this.getSelectedItem();if(!e||"expression"!==e.type)return!1;var t=Ia(e),n=e.error&&!t,r=-1!==e.latex.indexOf("polygon");if(!n&&!r)return!1;let i=qe.getFocusedMathquill();if(!i)return!1;let o=i.selection(),a=o.startIndex===o.latex.length,s=")"===o.latex[o.startIndex-1];return!(a&&s)}writeIdentifierIntoCurrentMathquill(e){this.runAfterDispatch((()=>{let t=qe.getFocusedMathquill();if(!t)return;var n=t.selection();let r=!1,i=!1;if(n.startIndex===n.endIndex){var o=n.latex.slice(0,n.startIndex);r=/\\token\{\d+\}$/.test(o),i=/[a-zA-Z0-9]$/.test(o)}let a=(r||i?",":"")+e;qe.canAcceptText(t,this.getCapExpressionSize(),a)&&(t.write(a),qe.simulateUserChangedLatex(t))}))}getSelectedExpressionIds(){return GA(this.listModel)}getPropagatedSelectedIds(){return this.__lastSelectedIdsForPropagation}areParsableObjectsEqual(e,t){return e===t||__dcg_shared_module_exports__.Ea(__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{regressionParameters:void 0}),__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t),{regressionParameters:void 0}))}requestParseForAllItems(){(this.isCurrentlyDoingSetState||this.isCurrentlyDoingRestoreState)&&(this.lastParsableObjects={},this.evaluator.clearStatementsAndStartCompleteState(),this.isCurrentlyDoingRestoreState&&this.evaluator.markUndoRedoState());var e={},t=this.lastParsableObjects;for(let t of this.getAllItemModels())switch(t.type){case"expression":case"image":case"table":e[t.guid]=t.cachedParsableState;break;case"folder":case"text":break;default:return t}for(let t of bA(this.listModel))e[t.guid]=t.cachedParsableState;for(let t of Pu(this.listModel))e[t.guid]=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t.cachedParsableState),{isToolPreview:!0});this.listModel.ticker.cachedParsableState&&(e[this.listModel.ticker.guid]=this.listModel.ticker.cachedParsableState);for(let n in t){let r=t[n],i=e[n];if("image"===r.type&&(!i||i.type!==r.type||i.guid!==r.guid)&&this.grapher&&this.grapher.removeGraphImage(r.id),!i&&(this.evaluator.removeStatement(r.id),"table"===r.type))for(let e of r.columns)this.evaluator.removeStatement(e.id)}for(let n in e){let r=e[n],i=t[n];if("image"===r.type&&(!i||r.type!==i.type||r.guid!==i.guid)&&this.grapher){let e=this.getItemModel(r.id);e&&"image"===e.type&&this.grapher.addGraphImage(e)}this.areParsableObjectsEqual(r,i)||(this.grapher&&"statement"===r.type&&""===r.latex&&this.grapher.removeGraphSketch(r.id),this.evaluator.addStatement(r))}this.lastParsableObjects=e}getViewState(){if(this.grapher){let e=this.grapher.getProjection();return{viewport:e.viewport.toObject(),screen:e.screen,xAxisScale:e.settings.xAxisScale,yAxisScale:e.settings.yAxisScale,degreeMode:e.settings.degreeMode}}}getTokenRenderInfoById(e){let t=this.cachedGeoTokenInfo[e];return t||(t={iconType:"unknown",isList:!1,hasError:!0,color:"#fa824c",isSelected:!1,groupType:"unknown",isHidden:!1,overrideHidden:void 0,description:"",label:"",calcId:""}),t}setEvaluator(e){this.evaluator=e}getEvaluator(){return this.evaluator}setGrapher(e){this.grapher=e}getGrapher(){return this.grapher}shouldExpressionZoomFit(e){if(!this.grapher||!this.isZoomFitEnabled())return!1;if("expression"===e.type||"table"===e.type){if("expression"===e.type&&(e.error||!e.shouldGraph||!e.formula.is_graphable)||!e.boundingBoxes||!e.boundingBoxes.length)return!1;var t=this.grapher.viewportController;return"getProjection"in t&&MP(e.boundingBoxes,t.getProjection())}return!1}setBugsnagContext(e){this.bugsnagContext=e}getItemRootNodeById(e){let t=this.getItemModel(e);if(t&&t.dcgView)return t.dcgView.findRootNode()}getItemSelectorById(e){let t=this.getItemRootNodeById(e);return t?P(t):void 0}generateId(){var e=this.__nextItemId;return this.__nextItemId+=1,e+""}getNextColor(){return gA(this.listModel)}getNextDisplayIndex(){return this.listModel.nextDisplayIndex}_clearPendingImageUploads(){this.__pendingImageUploads={}}isUploadingImages(){return Object.keys(this.__pendingImageUploads).length>0}getExpressionAnalysis(){return this.listModel.expressionAnalysis}createItemModel(e){return Gu(this.listModel,e)}getItemModel(e,t){return es(this.listModel,e,t)}getColorById(e){let t=this.getItemModel(e);return t&&"expression"===t.type?JS(t):""}getAllColorAssignments(){let e=[];for(let t of this.getAllItemModels()){if("expression"!==t.type)continue;let n=kn(t);if(!n)continue;let r=this.getEvaluationValueForItem(t.id);("string"==typeof r||Array.isArray(r)&&"string"==typeof r[0])&&e.push({id:t.id,assignmentLatex:__dcg_shared_module_exports__.Ua(n)})}return e}getItemModelByIndex(e){return Au(this.listModel,e)}getItemCount(){return sg(this.listModel)}getItemEditableLabelMode(e){let t=this.getItemModel(e);if(t&&"expression"===t.type)return CV(t)}isItemSecret(e){let t=this.getItemModel(e);return!!t&&og(t)}isItemReadonly(e){let t=this.getItemModel(e);return!!t&&NS(t)}isItemSelected(e){let t=this.getItemModel(e);return!!t&&js(t)}hasAnyItemsSelected(){return this.getAllSelectedItems().length>0}hasMultipleItemsSelected(){return this.getAllSelectedItems().length>1}isItemSelectable(e){let t=this.getItemModel(e);return!!t&&Lu(t)}anyItemDependsOnRandomSeed(){return RA(this.listModel)}areActionsEnabled(){return"auto"===this.graphSettings.config.actions?NA(this.listModel):!!this.graphSettings.config.actions}getAllItemModels(){return Bb(this.listModel)}getAllToolPreviewItems(){return Pu(this.listModel)}getAllModelsWithSliders(){return TA(this.listModel)}getGraphSettings(){return this.graphSettings}getAudioGraph(){return void 0!==this.grapher&&"2d"===this.grapher.type?this.grapher.audioGraph:void 0}inAudioTraceMode(){let e=this.getAudioGraph();return!(!e||!e.audioTraceActive)}canAudioTrace(){let e=this.getAudioGraph();return!!e&&e.canAudioTraceCurrentExp()}isAudioTracing(){let e=this.getAudioGraph();return!!e&&e.tonegen.isAnimating()}expressionsAreFullWidth(){return this.isNarrow()||!1===this.graphSettings.config.graphpaper}getExpListWidthString(){return this.expressionsAreFullWidth()?"100%":this.rootElt?this._getExpListWidth()+"px":"0"}getExpListWidth(){return this.rootElt?this._getExpListWidth():0}findFirstVisibleItem(){let e=_P(this,this._previousFirstVisibleId);if(this._previousFirstVisibleId=e,e)return this.getItemModel(e)}findLastVisibleItem(){let e=FP(this,this._previousLastVisibleId);if(this._previousLastVisibleId=e,e)return this.getItemModel(e)}updateRenderShellsAfterDispatch(){if(!this.rootElt||!this.isListVisible())return;let e=this.findFirstVisibleItem(),t=this.findLastVisibleItem();var n=e&&this.getItemRootNodeById(e.id),r=t&&this.getItemRootNodeById(t.id);if(n===this.lastInfiniteScrollFirstDOM&&r===this.lastInfiniteScrollLastDOM&&!this.hasDispatchSinceLastInfiniteScrollUpdate)return;this.lastInfiniteScrollFirstDOM=n,this.lastInfiniteScrollLastDOM=r,this.hasDispatchSinceLastInfiniteScrollUpdate=!1;let i,o=!1,a=e?e.index:1/0,s=t?t.index:1/0,l=this.listModel.dragState&&this.listModel.dragState.firstItemId,c=this.getOpenItemMenu();c&&"multi-select-more"!==c.type&&"multi-select-transformations"!==c.type&&"geo-tool-dropdown"!==c.type&&(i=c.model.id);for(let e of this.getAllItemModels()){var d=(e.index<a||e.index>s||e.isHiddenFromUI)&&!("expression"===e.type&&e.sliderDragging);if(l==e.id&&(d=!1),i===e.id&&(d=!1),e.renderShell!==d&&(e.renderShell=d,o=!0,d)){let t=this.getItemRootNodeById(e.id);if(t){let n=t.getBoundingClientRect().height;n>0&&(e.cachedRenderHeight=n)}}}o&&this.markTickRequiredNextFrame()}updateRenderShellsBeforePaint(){if(this.hasDispatchSinceLastInfiniteScrollUpdate=!0,this.inPrintMode){for(let e of this.getAllItemModels())e.renderShell=!1;return}for(let e of this.getAllItemModels())e.isHiddenFromUI&&(e.renderShell=!0),"expression"===e.type&&e.sliderDragging&&(e.renderShell=!1);let e=this.getSelectedItem();e&&!this.isGeoItem(e.id)&&(e.renderShell=!1)}updateDragDrop(){let e=this.listModel.dragState;if(!e)return;let t=this.getItemModel(e.firstItemId);if(!t)return;let n=this.dragdrop_expressions.applyDrag();n&&(lg(this.listModel,n.dragState),Eo(t,n.folderId),t.index!==n.newIndex&&Nu(this.listModel,t.index,n.newIndex,e.numberOfItems))}_tickSliders(e){this.getPlayingSliders().forEach((function(t){XA(t,e)}))}tickTicker(e){let t=void 0===this.listModel.ticker.lastTickTime;this.evaluator.addClockTickEvent(this.listModel.ticker.id,t),nA(this.listModel.ticker,e)}stopAllSliders(){for(let e of this.getAllItemModels())"expression"===e.type&&e.slider.isPlaying&&$o(e,!1)}getPlayingSliders(){var e=this.getAllItemModels(),t=[];for(let n of e)"expression"===n.type&&n.sliderExists&&n.slider.isPlaying&&t.push(n);return t}areAnyImagesLoading(){return hA(this.listModel)}_commitUserRequestedViewport(e){this.grapher&&this.grapher.setUserRequestedViewport(e)}_setAxisLimitLatex(e,t){this.settingsViewModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.settingsViewModel),{limitLatex:__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.settingsViewModel.limitLatex),{[e]:t})});let n=""!==t||"xstep"!==e&&"ystep"!==e?ai(t,this.graphSettings.degreeMode):0;switch(e){case"xstep":if(!op(n))return;this.graphSettings.setProperty("xAxisStep",n);break;case"ystep":if(!op(n))return;this.graphSettings.setProperty("yAxisStep",n);break;case"xmin":case"xmax":case"ymin":case"ymax":{if(!this.grapher)return;let t=this.grapher.viewportController.getViewport(),r="xmin";"xmin"===e&&(r="xmax"),"ymax"===e&&(r="ymin"),"ymin"===e&&(r="ymax");let i=ai(this.settingsViewModel.limitLatex[r],this.graphSettings.degreeMode),o=Ci.fromObject(__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t.toObject()),{[e]:n,[r]:i}));if(!o.isValid(this.getAxisScaleSettings()))return;this.grapher.viewportController.setViewport(o);let a="xmin"===e||"xmax"===e?"x":"y";this.graphSettings.setProperty("lastChangedAxis",a),this.markSquareAxesAfterUserEditedViewport()}}if(this.grapher){let e=this.grapher.viewportController.getViewport().toObject();this._commitUserRequestedViewport(e)}}markSquareAxesAfterUserEditedViewport(){if(!this.grapher)return;let e=this.grapher.viewportController.getViewport().isSquare(this.grapher.getProjection().screen,this.getAxisScaleSettings());this.graphSettings.setProperty("squareAxes",e)}getLockViewportConfigSetting(){return this.graphSettings.config.lockViewport}getLockViewportUserSetting(){return this.graphSettings.userLockedViewport}canUserAddExpressions(){return!!this.graphSettings.config.expressions}areNotesEnabled(){return!!this.graphSettings.config.notes}areSlidersEnabled(){return!!this.graphSettings.config.sliders}areLinksEnabled(){return!!this.graphSettings.config.links}areImagesEnabled(){let e=window.FileReader,t=Ja&&jh&&8===jh[0]&&0===jh[1]&&0===jh[2];return!(!this.graphSettings.config.images||!e||t)}areFoldersEnabled(){return!!this.graphSettings.config.folders}isDecimalToFractionEnabled(){return!!this.graphSettings.config.decimalToFraction}isTraceEnabled(){return!!this.graphSettings.config.trace}areFunctionsRestricted(){return!!this.graphSettings.config.restrictedFunctions}areGeometryFunctionsForceEnabled(){return!!this.graphSettings.config.forceEnableGeometryFunctions}isQwertyKeyboardEnabled(){return!!this.graphSettings.config.qwertyKeyboard}isZoomFitEnabled(){return!!this.graphSettings.config.zoomFit}canEditOnWeb(){return!!this.graphSettings.config.editOnWeb}hasTransparentBackground(){return!!this.graphSettings.config.transparentBackground}shouldAudioTraceReverseExpressions(){return!!this.graphSettings.config.audioTraceReverseExpressions}hasDefaultState(){return!!this.graphSettings.defaultState}getDefaultStateViewport(){var e=this.graphSettings.defaultState;if(e&&e.graph)return e.graph.viewport}getColors(){return this.graphSettings.config.colors}getImageOpacities(){return["0.2","0.4","0.6","0.8","1"]}getUIDragModes(){return["X","Y","XY"]}getNumberOfItemsInFolder(e){return fA(this.listModel,e)}getEnabledDragModesForItem(e){let t=this.getItemModel(e);if(!t||"expression"!==t.type)return[];let n=t.formula,r=[];if(!n.move_strategy)return r;let i="none"!==n.move_strategy[0].type,o="none"!==n.move_strategy[1].type,a=i&&o;return i&&r.push("X"),o&&r.push("Y"),a&&r.push("XY"),r}shouldShowEvaluationForItem(e){let t=this.getItemModel(e);return!(!t||"expression"!==t.type)&&YS(t)}getEvaluationValueForItem(e){let t=this.getItemModel(e);return t?"expression"!==t.type?NaN:JS(t):NaN}canDisplayEvaluationForItemAsFraction(e){if(!this.isDecimalToFractionEnabled())return!1;let t=this.getItemModel(e);if(!t||"expression"!==t.type||ex(t))return!1;let n=this.getEvaluationValueForItem(e);return"number"==typeof n&&__dcg_shared_module_exports__.Qa(n)}shouldEvaluationForItemDisplayAsFraction(e){if(!this.isDecimalToFractionEnabled())return!1;let t=this.getItemModel(e);return!(!t||"expression"!==t.type)&&xc(t)}getEvaluationLabelOptionsForItem(e){return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},WA),{displayAsFraction:this.shouldEvaluationForItemDisplayAsFraction(e)})}getPointStyles(){return["POINT","OPEN","CROSS"]}getLineStyles(){return["SOLID","DASHED","DOTTED"]}getOpacities(){return[.2,.4,.8]}isInEditListMode(){return this.layoutModel.inEditListMode}shouldShowAuthorFeatures(){return!!this.graphSettings.config.authorFeatures}getInvertedColors(){return!!this.graphSettings.config.invertedColors}canUseAdvancedStyling(){return this.graphSettings.config.advancedStyling}isDegreeMode(){return this.graphSettings.degreeMode}areLogModeRegressionsForced(){return this.graphSettings.config.forceLogModeRegressions}setAllRegressionsToLogMode(){for(let e of this.getAllItemModels())"expression"===e.type&&e.formula&&e.formula.is_regression&&rE(e,!0)}isGraphSettingsOpen(){return this.layoutModel.graphSettingsOpen}isAddExpressionOpen(){return this.layoutModel.addExpressionOpen}shouldRenderList(){if(this.layoutModel.expressionsVisible)return!0;var e=this.layoutModel.expressionsHiddenTime;return void 0!==e&&Date.now()-e<=500}isListVisible(){return this.layoutModel.expressionsVisible}isGrapherEnabled(){return!1!==this.graphSettings.config.graphpaper}isListEnabled(){return!1!==this.graphSettings.config.expressions}areDistributionsEnabled(){return!0===this.graphSettings.config.distributions}isExpressionListFocused(){let e=this.getFocusLocation();if(!e)return!1;switch(e.type){case"settings":case"generic-menu":case"expression-menu":case"editable-label":case"geo-token":case"multi-select-more-icon":case"multi-select-transformations-icon":case"geo-header-back-link":case"multi-select-delete-icon":case"multi-select-show-hide-icon":case"new-transformation-number":case"label-points-icon":case"geo-show-constructions-icon":case"geo-basic-tool":case"geo-basic-tool-dropdown":case"geo-basic-tool-menu-item":case"regression-output":case"graph-paper":case"zoom-restore-btn":return!1;case"distribution-param":case"cdf-limit":case"slider-limit":case"domain-limit":case"expression":case"visualization-prop":case"search-expressions":case"replace-expressions":case"ticker":case"table":case"image":case"readonly-expression":case"braille-output":case"table-container":case"text":case"folder":case"add-item-btn":case"add-expression-btn":case"add-note-btn":case"add-table-btn":case"add-folder-btn":case"add-ticker-btn":case"add-image-btn":case"change-image-btn":case"edit-list-toggle":case"expression-icon":case"image-icon":case"slider-icon":case"slider-animation-properties-icon":case"slider-thumb":case"table-icon":case"action-icon":case"hide-expression-list-btn":case"show-expression-list-btn":case"top-level-icon":return!0;default:return e}}needsFakeKeypad(){if(this.inAudioTraceMode()&&this.isKeypadEnabled())return!0;let e=this.getFocusLocation();if(!e||"none"!==this.getBrailleMode()&&ko())return!1;switch(e.type){case"settings":return VP(e.location);case"new-transformation-number":case"distribution-param":case"cdf-limit":case"slider-limit":case"domain-limit":case"expression":case"visualization-prop":case"search-expressions":case"replace-expressions":case"ticker":return!0;case"expression-menu":return"opacity"===e.location||"linewidth"===e.location||"lineopacity"===e.location||"pointopacity"===e.location||"pointsize"===e.location||"labelsize"===e.location||"labelangle"===e.location||"updaterule"===e.location;case"table":{if(this.isInEditListMode())return!1;let n=e.location;if(0===n.row)return!0;var t=this.getItemModel(e.id);if(!t||"table"!==t.type)return!1;let r=t.columnModels[n.column];return!!r&&!r.disabled}case"image":return"name"!==e.location;case"readonly-expression":case"braille-output":case"regression-output":case"graph-paper":case"table-container":case"text":case"folder":case"add-item-btn":case"add-expression-btn":case"add-note-btn":case"add-table-btn":case"add-folder-btn":case"add-ticker-btn":case"add-image-btn":case"change-image-btn":case"edit-list-toggle":case"hide-expression-list-btn":case"show-expression-list-btn":case"geo-token":case"multi-select-more-icon":case"multi-select-transformations-icon":case"geo-header-back-link":case"multi-select-delete-icon":case"multi-select-show-hide-icon":case"label-points-icon":case"geo-show-constructions-icon":case"geo-basic-tool":case"geo-basic-tool-dropdown":case"geo-basic-tool-menu-item":case"generic-menu":case"zoom-restore-btn":case"expression-icon":case"image-icon":case"slider-icon":case"action-icon":case"slider-animation-properties-icon":case"slider-thumb":case"table-icon":case"top-level-icon":return!1;case"editable-label":return"MATH"===this.getItemEditableLabelMode(e.id);default:return e}}isIdentifierRenameValid(e){return!!Ys(e)&&!xA(this.listModel,e)}getBrandingMode(){return this.getEditLink()?"static-edit-link":this.getGraphSettings().config.editOnWeb?"edit-link":"powered-by"}getEditLink(){return window.iframeEmbedBrandingLink}_expressionZoomFit(e,t){let n=this.getItemModel(e);if(!this.grapher||!this.isZoomFitEnabled()||!n||"expression"!==n.type&&"table"!==n.type||!n.boundingBoxes||!n.boundingBoxes.length)return;var r=this.grapher.viewportController;if(!("zoomCustom"in r))return;let i=Rw(n.boundingBoxes,r.getProjection());i&&r.zoomCustom(i),t&&ri(this,{type:"zoom-restore-btn"})}_deleteItemAndAnimateOut(e,t){let n=this.getItemSelectorById(e);n&&(n.css({transition:"0.2s",opacity:"0",transform:"scale(.1, .1)"}),setTimeout((()=>{this.dispatch({type:"finish-deleting-item-after-animation",id:e,setFocusAfterDelete:t})}),200))}_finishDeletingItemAfterAnimation(e,t){let n=this.getItemModel(e);if(!n)return;let r=this.getItemSelectorById(e);var i=r&&document.activeElement&&P(document.activeElement).closest(r).length>0,o=sd(this.listModel,n.index);if(this._removeExpressionSynchronously(n),t&&i){if(!o){let e=Vu(this.listModel);e&&(o=e)}o&&Yi(this,o.id,"end")}}_removeExpressionSynchronously(e){let t=Bu(this.listModel,e.index);if(this.garbageCollectGeo(t),MA(this.listModel)){let e=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});ts(this.listModel,e)}}setRootElt(e){this.rootElt=e,this.dragdrop_expressions=new Yf(this)}getRootElt(){return this.rootElt}_hideExpressions(e){this.graphSettings.config.expressions&&(Dr(this.listModel,void 0),this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{expressionsVisible:!1,expressionsHiddenTime:Date.now()}),e?ri(this,{type:"show-expression-list-btn"}):Ur())}_showExpressions(e){this.graphSettings.config.expressions&&(this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{expressionsVisible:!0}),e?ri(this,{type:"hide-expression-list-btn"}):Ur())}_showToast(e){if(this.toastData=e,this.toastData.hasOwnProperty("undoCallback")&&!Xy){let e=gi?this.s("graphing-calculator-text-toast-undo-cmd-z"):this.s("graphing-calculator-text-toast-undo-ctrl-z");this.toastData.message+=" "+e}clearTimeout(this._hideToastTimeout);let t="number"==typeof e.hideAfter?e.hideAfter:6e3;t>0&&(this._hideToastTimeout=setTimeout((()=>{this.dispatch({type:"toast/close",onHide:this.toastData.onHide})}),t))}_setExpressionPropertiesFromAPI(e,t){let n=this.getItemModel(e);if(n)if("table"===n.type&&t.columns){let e=aG(n,t=__dcg_shared_module_exports__.k(t));var r=Gu(this.listModel,e);this._toplevelReplaceItemAt(n.index,r,!1)}else{let n=this.getItemModel(e);if(!n)return;for(var i in t)if(t.hasOwnProperty(i))switch(i){case"slider":{if("expression"!==n.type)continue;let e=t[i];e.hasOwnProperty("min")&&dg(n,e.min),e.hasOwnProperty("max")&&ug(n,e.max),e.hasOwnProperty("step")&&pg(n,e.step),e.hasOwnProperty("isPlaying")&&$o(n,e.isPlaying)}break;case"polarDomain":if("expression"!==n.type)continue;hg(n,__dcg_shared_module_exports__.Yb(t.polarDomain.min)),fg(n,__dcg_shared_module_exports__.Yb(t.polarDomain.max));break;case"parametricDomain":if("expression"!==n.type)continue;gg(n,__dcg_shared_module_exports__.Yb(t.parametricDomain.min)),mg(n,__dcg_shared_module_exports__.Yb(t.parametricDomain.max));break;case"hidden":this._setItemHidden(e,t.hidden);break;case"secret":zS(n,t.secret);break;case"readonly":Qb(n,t.readonly);break;case"color":if("expression"!==n.type)continue;ax(n,t.color);break;case"dragMode":if("expression"!==n.type)continue;pd(n,t.dragMode);break;case"label":if("expression"!==n.type)continue;Ml(n,t.label);break;case"showLabel":if("expression"!==n.type)continue;ud(n,t.showLabel);break;case"labelSize":if("expression"!==n.type)continue;vg(n,t.labelSize);break;case"labelOrientation":if("expression"!==n.type)continue;sE(n,t.labelOrientation);break;case"latex":if("expression"!==n.type)continue;sa(n,t.latex);break;case"points":if("expression"!==n.type)continue;nE(n,!!t.points);break;case"lines":if("expression"!==n.type)continue;aE(n,!!t.lines);break;case"pointStyle":if("expression"!==n.type)continue;oE(n,t.pointStyle);break;case"pointSize":if("expression"!==n.type)continue;xg(n,t.pointSize);break;case"pointOpacity":if("expression"!==n.type)continue;bg(n,t.pointOpacity);break;case"lineStyle":if("expression"!==n.type)continue;sx(n,t.lineStyle);break;case"lineWidth":if("expression"!==n.type)continue;qu(n,t.lineWidth);break;case"lineOpacity":if("expression"!==n.type)continue;Uu(n,t.lineOpacity);break;case"fill":if("expression"!==n.type)continue;iE(n,t.fill);break;case"fillOpacity":if("expression"!==n.type)continue;yg(n,t.fillOpacity);break;case"id":case"type":case"domain":break;default:throw new Error("trying to call setProperty for: "+i)}}}_isParentFolderHidden(e){let t=this.getItemModel(e);if(!t)return!1;let n=Uo(t);return!!n&&n.hidden}_toggleItemHidden(e){if(this._isParentFolderHidden(e))this._setItemHidden(e,!1);else{let t=this.getItemModel(e);if(!t)return;switch(t.type){case"expression":case"image":case"folder":this._setItemHidden(e,!t.hidden);break;case"table":case"text":break;default:return t}}}_toggleTableColumnHidden(e,t){if(this._isParentFolderHidden(e))this._setTableColumnHidden(e,t,!1);else{let n=this.getItemModel(e);if(!n||"table"!==n.type)return;let r=Dn(n,t);if(!r)return;this._setTableColumnHidden(e,t,!r.hidden)}}_setTableColumnHidden(e,t,n){let r=this.getItemModel(e);if(!r||"table"!==r.type)return;let i=Sb(r,t);!n&&this._isParentFolderHidden(e)&&this._setItemHidden(r.folderId,!1),pG(r,t,n),!n&&i&&MS(r,t,!0)}_setItemHidden(e,t){let n=this.getItemModel(e);if(n)switch(!t&&"folder"!==n.type&&this._isParentFolderHidden(n.id)&&this._setItemHidden(n.folderId,!1),n.type){case"expression":DV(n,t);break;case"folder":_0(n,t);break;case"image":LG(n,t);break;case"table":case"text":break;default:return n}}_addItemToEndFromAPI(e){let t=Nb(this.listModel);!e.secret&&t&&"expression"===t.type&&""===t.latex&&Bu(this.listModel,t.index),ts(this.listModel,e)}copyExpressionToIndex(e,t,n){let r,i={stripDefaults:!1};switch(e.type){case"expression":r=dd(e,i);break;case"table":r=Eu(e,i),r.columns&&r.columns.forEach((e=>{e.id=this.generateId()}));break;case"image":r=Gb(e,i);break;case"text":r=Db(e,i);break;default:return}let o=this.createItemModel(__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},r),{id:this.generateId()}));this._toplevelInsertItemAt(t,o,!1,n||e.folderId)}_toplevelInsertItemAt(e,t,n,r){let i=t;ka(this.listModel,i,e),r&&Eo(i,r),n&&Yi(this,i.id)}_toplevelNewItemAtSelection(e,t){this.setGeoTool("selection");let n=this.getSelectedItem();if(n){let r="expression"===n.type&&!n.latex;if(r&&!n.folderId&&("expression"!==e.type||e.latex))return this._toplevelReplaceItemAt(n.index,e,t.shouldFocus);if(r&&n.folderId&&"expression"!==e.type&&"folder"!==e.type)return this._toplevelReplaceItemAt(n.index,e,t.shouldFocus);if("folder"!==n.type&&!n.folderId){let r;return this._toplevelInsertItemAt(n.index+1,e,t.shouldFocus,r)}if("folder"!==n.type&&n.folderId&&"folder"!==e.type)return this._toplevelInsertItemAt(n.index+1,e,t.shouldFocus,n.folderId);if("folder"===n.type&&!n.collapsed&&"folder"!==e.type)return this._toplevelInsertItemAt(n.index+1,e,t.shouldFocus,n.id)}let r=this.getFirstFullyVisibleItem();for(r&&"folder"===r.type&&(r=this.getItemModelByIndex(r.index+1));r&&"folder"!==r.type&&r.folderId;)r=this.getItemModelByIndex(r.index+1);let i=r?r.index:this.getItemCount();return this._toplevelInsertItemAt(i,e,t.shouldFocus,undefined)}getFirstFullyVisibleItem(){let e=ZD(this);if(e)return es(this.listModel,e)}find$(e){return P(this.rootElt).find(e)}getExppanelSelector(){let e=zf(this);if(e)return P(e)}scrollItemIntoView(e){if(!this.rootElt||!this.isListVisible())return;let t=this.getItemSelectorById(e.id),n=Wf(this);if(t&&n){if("table"===e.type){let e=t.find(".dcg-row .dcg-selected");if(1===e.length)return void ss(e,n,60)}ss(t,n,90)}}scrollSelectedItemIntoView(){let e=this.getSelectedItem();if(e){if(e&&"folder"!==e.type&&e.folderId){let t=this.getItemModel(e.folderId);t&&"folder"===t.type&&t.collapsedChildIsSelected&&(e=t)}this.scrollItemIntoView(e)}}_pasteTable(e){if(!this.grapher)return;let t=IS(ag(this.listModel),e,this),n=this.createItemModel(t);this._toplevelNewItemAtSelection(n,{shouldFocus:!0}),this._closeAddExpression();let r=this.grapher.getProjection(),i=r.viewport,o=__dcg_shared_module_exports__.la(e[0],(function(e){return parseFloat(e)})),a=__dcg_shared_module_exports__.la(e[1],(function(e){return parseFloat(e)})),s={xmin:__dcg_shared_module_exports__.sa(o),xmax:__dcg_shared_module_exports__.ra(o),ymin:__dcg_shared_module_exports__.sa(a),ymax:__dcg_shared_module_exports__.ra(a),type:"table"};if(isFinite(s.xmin)&&isFinite(s.xmax)&&isFinite(s.ymin)&&isFinite(s.ymax)&&(s.xmax>i.xmax||s.xmin<i.xmin||s.ymax>i.ymax||s.ymin<i.ymin)){let e=Rw([s],r);if(e){let t=new Ci(e.xmin,e.xmax,e.ymin,e.ymax);this.grapher.viewportController.setViewport(t),this._showToast({message:this.s("graphing-calculator-text-toast-zoom-to-fit"),undoCallback:()=>{this.dispatch({type:"undo"})}})}}}_insertSeveralExpressions(e){for(var t=0;t<e.length;t++){let n;n=this.createItemModel(e[t]),this._toplevelNewItemAtSelection(n,{shouldFocus:!0})}}_appendNumberList(e){let t=this.getSelectedItem();if(t&&"expression"===t.type){let n=t.latex,r=this.createItemModel({type:"expression",id:this.generateId(),latex:n+e});return this._toplevelReplaceItemAt(t.index,r,!0)}}_openOnWeb(){this.runAfterDispatch((()=>{if(!this.grapher)return;let e=JSON.stringify(this.getState()),t=this.grapher.screenshot({width:100,height:100}),n=(this.getGraphSettings().config.crossOriginSaveTest?"/":"https://www.desmos.com/")+"api/v1/calculator/cross_origin_save",r=P('<input type="text" name="calc_state" />').val(e),i=P('<input type="text" name="thumb_data" />').val(t),o=P('<form target="_blank" method="POST" style="display:none;"></form>').attr("action",n).append(P('<input type="text" name="is_open_on_web" value="true" />')).append(P('<input type="text" name="my_graphs" value="false" />')).append(P('<input type="text" name="is_update" value="false" />')).append(r).append(i);P(this.rootElt).append(o),o.trigger("submit").remove()}))}notifyBugsnagAboutMissingSelectedItem(e,t){let n=Ru(this.listModel);var r="";try{r=n?JSON.stringify(n.cachedUndoRedoFullState,null,2):"undefined"}catch(e){r="[[could not stringify]]"}var i="";try{if(n){let e={id:n.id,index:n.index,displayIndex:n.index,secretIndex:n.secretIndex,guid:n.guid,renderShell:n.renderShell,isHiddenFromUI:n.isHiddenFromUI,hasDCGView:!!n.dcgView,cachedRenderHeight:n.cachedRenderHeight};i=JSON.stringify(e,null,2)}else i="undefined"}catch(e){i="[[could not stringify]]"}var o="";try{o=JSON.stringify(qS(this.listModel),null,2)}catch(e){o="[[could not stringify]]"}oo("ReplaceItemAtError: no item at index",{metaData:{index:e,shouldFocus:t,selectedModelJSON:i,selectedItemJSON:r,listStateJSON:o}})}_toplevelReplaceItemAt(e,t,n){let r=t,i=this.getItemModelByIndex(e);i||this.notifyBugsnagAboutMissingSelectedItem(e,n);let o="folder"!==i.type&&i.folderId;Bu(this.listModel,e),ka(this.listModel,r,e),o&&Eo(r,o),n&&Yi(this,r.id)}convertImageToDraggable(e){let t=this.getItemModel(e);if(!t||"image"!==t.type)return;let n=t.folderId,r=t.index+1,i=t.center,o=ag(this.listModel),a=__dcg_shared_module_exports__.Ua("C_"+o),s=this.createItemModel({id:this.generateId(),type:"expression",latex:a+"="+i,dragMode:"XY",hidden:!0});ka(this.listModel,s,r),n&&Eo(s,n),qo(t,"center",a),AS(t,!0),VS(t,!0),this.listModel.openItemMenu=void 0}createSlidersForItem(e,t){let n=this.getItemModel(e);if(!n)return;let r="folder"!==n.type&&n.folderId;return this.createSliders({model:n,folderId:r,index:n.index+1},t)}createSlidersForTicker(e){return this.createSliders({model:this.listModel.ticker,folderId:!1,index:0,doNotChangeFocus:!0},e)}createSliders({model:e,folderId:t,index:n,doNotChangeFocus:r},i){var o=[];"ticker"===e.type?Pb(e,((e,t)=>{o.push({latex:e,location:t})})):Tu(e,((e,t)=>{o.push({latex:e,location:t})}));var a=SP(o,i,{degreeMode:this.graphSettings.degreeMode});let s=e.formula?e.formula.action_value:void 0;for(var l=i.map((e=>{var t,n=a[e],r="1";n&&void 0!==n.value&&(r=n.value),t=""===e?"":s&&s.hasOwnProperty(e)?s[e]:__dcg_shared_module_exports__.Ua(e)+"="+r;var i={type:"expression",id:this.generateId(),latex:t,color:this.getNextColor(),hidden:!!t};return n&&(void 0!==n.min&&(i.slider||(i.slider={}),i.slider.hardMin=!0,i.slider.min=n.min),void 0!==n.max&&(i.slider||(i.slider={}),i.slider.hardMax=!0,i.slider.max=n.max),void 0!==n.step&&(i.slider||(i.slider={}),i.slider.step=n.step)),i})),c=l.length-1;c>=0;c--){let e=this.createItemModel(l[c]);ka(this.listModel,e,n),t&&Eo(e,t)}if(r)return;let d=l[l.length-1];""===d.latex?Yi(this,d.id):ri(this,void 0)}_uploadImagesAndWaitForThemToLoad(e){let{files:t,id:n}=e;if(!t||0===t.length)return void this._showToast({message:this.s("graphing-calculator-text-toast-no-file-selected")});if(n&&t.length>1)return void this._showToast({message:this.s("graphing-calculator-text-toast-choose-one-file")});let r=$G({controller:this,files:t,id:n}),i=r.errors[0];i&&this._showToast({message:i});for(let e of r.tokens)this.__pendingImageUploads[e]=!0;this.isUploadingImages()&&this._showToast({message:this.s("graphing-calculator-text-toast-uploading-images"),onHide:()=>{this._clearPendingImageUploads()}})}getImageToRetry(){let e;for(let t of this.getAllItemModels())"image"===t.type&&"failed"===t.loadStatus&&(!e||e.failures>t.failures)&&(e=t);return e}retryLoadingFailedImage(e){let t=Date.now(),n=t-this.imageRetryState.lastAttemptTime,r=1e3*Math.pow(2,this.imageRetryState.attempts);this.imageRetryState.attempts>0&&n<r||(PS(e),this.imageRetryState={lastAttemptTime:t,attempts:this.imageRetryState.attempts+1})}getSelectedItem(){return Ru(this.listModel)}getAllSelectedItems(){return Ub(this.listModel)}getOpenItemMenu(){return this.listModel.openItemMenu}isItemSettingsMenuOpen(e){var t=this.listModel.openItemMenu;return!!t&&t.guid===e}closeItemSettingsMenu(){let e=this.getOpenItemMenu();void 0!==e&&(e.focusFirstOption&&(void 0!==e.previousFocusLocation?ri(this,e.previousFocusLocation):this.focusOpenMenuIcon()),this.listModel.openItemMenu=void 0)}focusOpenMenuIcon(){let e=this.getOpenItemMenu();e&&("slider"===e.type?this.dispatch({type:"set-focus-location",location:{type:"slider-animation-properties-icon",id:e.model.id}}):"image"===e.type?this.dispatch({type:"set-focus-location",location:{type:"image-icon",id:e.model.id}}):"table-column"===e.type?this.dispatch({type:"set-focus-location",location:{type:"table-icon",id:e.model.table.id,columnId:e.model.id}}):"geo-tool-dropdown"===e.type?this.dispatch({type:"set-focus-location",location:{type:"geo-basic-tool-dropdown",tool:e.tools[0]}}):"multi-select-more"===e.type?this.dispatch({type:"set-focus-location",location:{type:"multi-select-more-icon"}}):"multi-select-transformations"===e.type?this.dispatch({type:"set-focus-location",location:{type:"multi-select-transformations-icon"}}):this.dispatch({type:"set-focus-location",location:{type:"expression-icon",id:e.model.id}}))}getFocusedItem(){return DP(this)}getFocusLocation(){return this.focusLocation}isFocusLocationFocused(e){let t=this.focusLocation,n=e;return!(!t||!n)&&__dcg_shared_module_exports__.Ea(t,n)}isCurrentFocusLocationValid(){let e=this.focusLocation;if(!e)return!0;if("settings"===e.type)return"icon"===e.location||this.isGraphSettingsOpen();if("add-item-btn"===e.type||"edit-list-toggle"===e.type||"hide-expression-list-btn"===e.type||"show-expression-list-btn"===e.type)return this.isListEnabled();if("add-expression-btn"===e.type||"add-table-btn"===e.type)return this.layoutModel.addExpressionOpen;if("add-note-btn"===e.type)return this.layoutModel.addExpressionOpen&&this.areNotesEnabled();if("add-folder-btn"===e.type)return this.layoutModel.addExpressionOpen&&this.areFoldersEnabled();if("add-ticker-btn"===e.type)return this.layoutModel.addExpressionOpen&&this.areActionsEnabled();if("add-image-btn"===e.type)return this.layoutModel.addExpressionOpen&&this.areImagesEnabled();if("zoom-restore-btn"===e.type)return!0;if("search-expressions"===e.type||"replace-expressions"===e.type)return this.expressionSearchOpen;if("ticker"===e.type)return this.listModel.ticker.open;if("generic-menu"===e.type)return!!this.getOpenItemMenu();if("graph-paper"===e.type){let e=this.getGrapher();return!!(e&&e.getIsVisible()&&e.settings.config.graphpaper)}if("geo-show-constructions-icon"===e.type||"geo-token"===e.type||"multi-select-more-icon"===e.type||"multi-select-transformations-icon"===e.type||"label-points-icon"===e.type)return this.isGeoUIActive();if("new-transformation-number"===e.type){let e=this.getGeoModel(),t=e.getCurrentTool(),n=e.getNonObjectsState().ui.currentTool.inputIndex,r=t.getSpec&&t.getSpec();return!!r&&!!r.inputs[n]&&"number"===r.inputs[n].type}if("geo-header-back-link"===e.type)return this.isGeoUIActive()&&this.hasAnyItemsSelected();if("multi-select-delete-icon"===e.type||"multi-select-show-hide-icon"===e.type)return this.isGeoUIActive()&&"box-selection"===this.getActiveTool()&&this.hasAnyItemsSelected();if("geo-basic-tool"===e.type||"geo-basic-tool-dropdown"===e.type)return this.isGeoUIActive()&&""!==e.tool;if("regression-output"===e.type)return""!==e.parameter;let t,n=this.getOpenItemMenu();if("geo-basic-tool-menu-item"===e.type)return this.isGeoUIActive()&&""!==e.tool&&void 0!==n&&"geo-tool-dropdown"===n.type;if(t=n&&"table-column"===n.type?n.model.table:this.getItemModel(e.id),!t)return!1;if("change-image-btn"===e.type)return this.listModel&&"image"===t.type&&this.areImagesEnabled();if("expression-menu"===e.type){if("start"===e.location||"end"===e.location||"updaterule"===e.location||"anywhere"===e.location||"table"===t.type)return!0;if("expression"!==t.type)return!1;let{points:n,lines:r,fill:i}=t;Qs(t)&&(i=!0);let o=__dcg_shared_module_exports__.ac(t.formula.expression_type,{points:n,lines:r,fill:i});return!!(o.fill||o.points||o.lines||t.showLabel)}if(!this.isItemSelected(e.id)&&"editable-label"!==e.type)return!1;switch(e.type){case"domain-limit":return!("expression"!==t.type||!dx(t));case"expression-icon":case"top-level-icon":return!0;case"image-icon":return"image"===t.type&&"loading"!==t.loadStatus&&"failed"!==t.loadStatus&&!t.error;case"action-icon":return!("expression"!==t.type||!Yu(t));case"slider-icon":case"slider-animation-properties-icon":case"slider-thumb":case"slider-limit":return!("expression"!==t.type||!GV(t));case"table-icon":return"table"===t.type&&this.getGraphSettings().config.graphpaper;case"visualization-prop":return!("expression"!==t.type||!px(t));case"distribution-param":if("expression"!==t.type)return!1;let n=da(t);return!!n&&e.location in n.values;case"cdf-limit":return"expression"===t.type&&Al(t);case"image":return"image"===t.type;case"folder":return"folder"===t.type;case"text":return"text"===t.type;case"expression":return"expression"===t.type&&!this.isInEditListMode();case"readonly-expression":return this.isItemReadonly(t.id)||"expression"===t.type&&this.isInEditListMode();case"braille-output":return"expression"===t.type&&"none"!==this.getBrailleMode();case"table":return"table"===t.type&&mG(t,e.location);case"table-container":return"table"===t.type&&this.isInEditListMode();case"editable-label":return"expression"===t.type&&Wu(t);default:return e}}isDragDropActive(){return!!this.listModel.dragState}isItemBeingDragged(e){let t=this.listModel.dragState;return!(!t||t.firstItemId!==e)}getDraggedItemId(){let e=this.listModel.dragState;return e&&e.firstItemId}getRawDragState(){return this.listModel.dragState}initStateStack(){this.stateStack=new $l,this.stateStack.addState({diffState:this.getUndoRedoDiffState(),fullState:this.getUndoRedoFullState()})}getUndoRedoDiffState(){return{randomSeed:this.getRandomSeed(),layoutModel:this.layoutModel,settingsViewModel:this.settingsViewModel,graph:this.grapher?this.grapher.getUndoRedoState():void 0,expressions:AA(this.listModel),wasCompleteSetState:this.isCurrentlyDoingSetState}}getUndoRedoFullState(){return{randomSeed:this.getRandomSeed(),layoutModel:this.layoutModel,settingsViewModel:this.settingsViewModel,graph:this.grapher?this.grapher.getUndoRedoState():void 0,expressions:qS(this.listModel),wasCompleteSetState:this.isCurrentlyDoingSetState}}getState(e){let t={stripDefaults:!0};e&&e.hasOwnProperty("stripDefaults")&&(t.stripDefaults=!!e.stripDefaults);let n=this.grapher?this.grapher.getState(t):__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.getBlankState().graph),{degreeMode:this.graphSettings.degreeMode});var r={version:sl,randomSeed:this.getRandomSeed(),graph:n,expressions:VA(this.listModel,t)};return e&&e.avoidBackMigration?__dcg_shared_module_exports__.k(r):xP(__dcg_shared_module_exports__.k(r))}isGeometry(){return"geometry-calculator"===this.graphSettings.config.product}isMultiSelectEnabled(){return this.isGeometry()}canLoadPastedLink(e){return!!this.graphSettings.config.pasteGraphLink&&(this.isGeometry()?Jf(e)||qP(e)||Nw(e):Jf(e))}getBlankState(){return this.isGeometry()?Fp:this.graphSettings.config.clearIntoDegreeMode?__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},Vp),{graph:__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},Vp.graph),{degreeMode:!0})}):Vp}externalSetState(e,t){this._clearPendingImageUploads(),this.rootElt&&P(document.activeElement).closest(this.rootElt).length&&P(document.activeElement).trigger("blur"),t||(t={}),e||(e=this.getBlankState()),"string"==typeof e&&(e=JSON.parse(e)),e&&(e=bs(e));let n,r=this.graphSettings.config.product;if(n=e.graph&&void 0!==e.graph.product?e.graph.product:"graphing",n!==r)throw new Error(`Data Error: state appears to have been saved in the '${n}' product and cannot be opened in the '${r}' product.`);let i=this.layoutModel;this.setState(e,t),IA(this.listModel),Kb(this.listModel),this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},XD(this.graphSettings.config)),{keypadMinimized:i.keypadMinimized,keypadLayout:i.keypadLayout,keypadFunctionsOpen:i.keypadFunctionsOpen,expressionsVisible:!!this.graphSettings.config.expressions&&(this.isListVisible()||!!t.forceExpressionsOpen)}),this.settingsViewModel=QD(),ri(this,void 0),t.forceUnsavedChanges?this.enqueueEvent("change"):this.enqueueEvent("clearUnsavedChanges")}setState(e,t){if(this.isCurrentlyDoingSetState=!0,this.suggestedIdentifierRename=void 0,this.lastUserUpdatedExpressionItem=void 0,"graph"in e&&(this.grapher?this.grapher.setGrapherState(e.graph):Hl.copyGraphProperties(e.graph,this.graphSettings)),"expressions"in e){Dr(this.listModel,void 0);let n=LA(e.expressions);n>=this.__nextItemId&&(this.__nextItemId=n+1),PA(this.listModel,e.expressions,t||{})}e.layoutModel&&(this.layoutModel=e.layoutModel),e.settingsViewModel&&(this.settingsViewModel=e.settingsViewModel),(!t||!t.allowUndo)&&this.clearUndoRedoHistory(),this.setRandomSeed(e.randomSeed||al())}updateToState(e){this.isCurrentlyDoingRestoreState=!0,this.suggestedIdentifierRename=void 0,this.lastUserUpdatedExpressionItem=void 0,"graph"in e&&this.grapher&&this.grapher.setGrapherState(e.graph,{doNotClear:!0}),"expressions"in e&&OA(this.listModel,e.expressions),e.layoutModel&&(this.layoutModel=e.layoutModel),e.settingsViewModel&&(this.settingsViewModel=e.settingsViewModel)}commitUndoRedoSynchronously(e){let t=this.stateStack.getState(),n=t&&t.diffState,r=this.getUndoRedoDiffState();if(H4(n,r))return;let i={diffState:r,fullState:this.getUndoRedoFullState()};HP(e)?(this.stateStack.addState(i),this.enqueueEvent("change",e)):this.stateStack.replaceInteriorState(i)}undo(){if(!this.canUndo())return;this.closeToast(),this.stateStack.undo();let e=this.stateStack.getState().fullState;e.wasCompleteSetState?this.setState(e,{allowUndo:!0}):this.updateToState(e),this.enqueueEvent("change",{type:"undo"})}redo(){if(!this.canRedo())return;this.stateStack.redo();let e=this.stateStack.getState().fullState;e.wasCompleteSetState?this.setState(e,{allowUndo:!0}):this.updateToState(e),this.enqueueEvent("change",{type:"undo"})}clearUndoRedoHistory(){this.stateStack.clear()}canUndo(){return this.stateStack.canUndo()}canRedo(){return this.stateStack.canRedo()}closeToast(){let e=this.toastData.onHide;e&&this.runAfterDispatch(e),this.toastData={}}_closeAddExpression(){this.layoutModel=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.layoutModel),{addExpressionOpen:!1})}doesDOMHaveSize(){return this.layoutMeasurements.width>0&&this.layoutMeasurements.height>0}_getExpListWidth(){var e;if(void 0!==this.userSpecifiedExpListWidth){let t=this.isGeometry()?320:200;e=Math.max(280,Math.min(this.layoutMeasurements.width-t,this.userSpecifiedExpListWidth))}else{if(!(e=this.layoutMeasurements.width))return 356;var t=.2*e+160;e=Math.min(500,Math.max(280,t))}var n=this.layoutMeasurements.width-this.getGrapherHeight();return Math.abs(n-e)<=10?n:e}_setExpListWidth(e){this.userSpecifiedExpListWidth!==e&&(this.userSpecifiedExpListWidth=e)}getKeypadHeight(){return this.computeMajorLayout().keypad.height}isKeypadEnabled(){return!!this.graphSettings.config.keypad}isKeypadOpen(){if(!this.isKeypadEnabled())return!1;let e=this.layoutModel.keypadMinimized&&!this.isNarrow();return this.needsFakeKeypad()&&!e}isHideKeypadButtonVisible(){return"none"===this.getBrailleMode()&&this.isKeypadOpen()&&(!this.isNarrow()||this.inAudioTraceMode())}isKeypadFunctionsPopoverOpen(){return!!this.layoutModel.keypadFunctionsOpen}getKeypadLayout(){return this.layoutModel.keypadLayout}isLetterKeypadOpen(){let e=this.getKeypadLayout();return this.isKeypadOpen()&&("letters"===e||"noQwertyLetters"===e||"capitalLetters"===e||"noQwertyCapitalLetters"===e)}isFileDraggedOver(){return this.layoutModel.isFileDraggedOver}getGeoToolbarHeight(){return this.isGeoUIActive()?48:0}isNarrowGeometryHeader(){return this.computeMajorLayout().grapher.width<450}getGrapherHeight(){return this.layoutMeasurements.height-this.getGeoToolbarHeight()}computeMajorLayout(){var e=this.layoutMeasurements.width,t=this.layoutMeasurements.height,n=this.isNarrow(),r=this.isListVisible(),i=this.isKeypadOpen(),o=!this.isGrapherEnabled(),a=!this.isListEnabled(),s={left:0,top:0,width:0,height:0},l={left:0,top:0,width:0,height:0},c={left:0,top:t,width:e,height:!!this.getGraphSettings().config.projectorMode?n?185:193:169};a?(l.width=e,l.height=t):o?(s.width=e,s.height=t):r?n?(s.width=e,s.height=Math.round(.58*t),s.top=t-s.height,l.width=e,l.height=t-s.height):(s.width=this.getExpListWidth(),s.height=t,l.left=s.width,l.width=e-l.left,l.height=t):r||(n?(s.width=e,s.height=Math.round(.58*t),s.top=t,l.width=e,l.height=t):(s.width=this.getExpListWidth(),s.height=t,s.left=-s.width,l.width=e,l.height=t)),i&&(c.top-=c.height,a||(s.height-=c.height));let d=this.getGeoToolbarHeight();return d&&(l.top+=d,l.height-=d),{list:s,grapher:l,keypad:c}}isNarrow(){return this.isGeometry()?this.layoutMeasurements.width<600:this.layoutMeasurements.width<450}getLayoutMeasurements(){return this.layoutMeasurements}getCapExpressionSize(){return!!this.getGraphSettings().config.capExpressionSize}handleAudioTraceCommand(e){let t=this.getAudioGraph();if(void 0===t)return;let n=t.agNavigator;switch(e){case"on":this.runAfterDispatch((()=>{t.enterAudioTrace({fromKeypad:!0})}));break;case"off":this.runAfterDispatch((()=>{t.exitAudioTrace()}));break;case"hear-graph":t.hearGraph();break;case"stop-graph":t.stopGraph();break;case"volume-down":t.adjustVolume("down");break;case"volume-up":t.adjustVolume("up");break;case"speed-down":t.speedDown();break;case"speed-up":t.speedUp();break;case"previous-point":this.runAfterDispatch((()=>{t.reportAndMoveToPrevPoint()}));break;case"next-point":this.runAfterDispatch((()=>{t.reportAndMoveToNextPoint()}));break;case"previous-poi":this.runAfterDispatch((()=>{t.reportAndMoveToPrevPOI()}));break;case"next-poi":this.runAfterDispatch((()=>{t.reportAndMoveToNextPOI()}));break;case"previous-curve":this.runAfterDispatch((()=>{n.prevCurve()}));break;case"next-curve":this.runAfterDispatch((()=>{n.nextCurve()}));break;case"describe-point":t.describePoint();break;case"describe-curve":t.describeCurve();break;case"describe-axes":t.describeAxes();break;case"keyboard-shortcuts":this.enqueueEvent("showHotkeysModal",{type:"keypad/audio-trace",command:e});break;default:return e}}setAudioTraceSpeed(e){let t=this.getAudioGraph();t&&t.adjustPlaybackSpeed(e)}setGraphPaperFocus(e){ri(this,e.isFocused?{type:"graph-paper"}:void 0);var t=this.getGrapher();null==t||t.redrawAllLayers(),this.isGeoToolActive()&&this.runAfterDispatch((()=>{var n;e.isFocused&&this.getGeoModel().speakCurrentGeoToolHint(),null==(n=null==t?void 0:t.poiController)||n.handleGeoKeyboardPtMove()}))}isGraphPaperFocused(){let e=this.getFocusLocation();return!!e&&"graph-paper"===e.type}setCanShowKeyboardShortcuts(e){this.canShowKeyboardShortcuts=e}getCanShowKeyboardShortcuts(){return this.canShowKeyboardShortcuts}getGeometryConstructionCount(){return this.getNumberOfItemsInFolder(__dcg_shared_module_exports__.vc)}getAllGeometryConstructionIds(){return mA(this.listModel,__dcg_shared_module_exports__.vc)}makeGeoAPI(){this.geoModel=new Bf(this)}getGeoTokenInfoFromAssignment(e){if(!e)return;let t=e.match(/^\$(\d+)/);return t?this.cachedGeoTokenInfo[t[1]]:void 0}getGeoDescription(e,t={includeDetails:!0}){if(!e)return this.s("graphing-calculator-narration-geometry-nothing-selected");if("expression"!==e.type||!e.latex)return this.s("graphing-calculator-narration-geometry-not-a-construction");let n=e.formula.typed_constant_value;if(!n)return this.s("graphing-calculator-narration-geometry-not-a-construction");let r,i,o,a,s,l,c,d,p,u,h,g=this.grapher&&this.grapher.getProjection(),m=g&&g.viewport,f=e.formula.assignment||"",y=e.formula.geometry&&e.formula.geometry.call,b=y&&y.symbol,x=y&&y.parents?y.parents.map((e=>void 0===e?"":e[0])):[],_=n.valueType,v=n.value,w=[],A="";if("apply"===b&&"string"==typeof x[0]){let e="",t=this.getItemsByIdentifier(x[0]);for(let n of t){if("expression"!==n.type)continue;let t=n.formula.geometry;if(t&&t.call){e=t.call.symbol;break}}"dilation"===e?w.push(this.raw("dilated")):"rotation"===e?w.push(this.raw("rotated")):"translation"===e?w.push(this.raw("translated")):"reflection"===e?w.push(this.raw("reflected")):w.push(this.raw("transformed"))}switch(_){case __dcg_shared_module_exports__.q:if("intersection"===b){A=void 0!==e.label&&""!==e.label?this.s("graphing-calculator-narration-geometry-intersection-with-assignment",{assignment:uo(e.label)}):/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-intersection",{index:e.id}):this.s("graphing-calculator-narration-geometry-intersection-with-assignment",{assignment:f}),r=v[0],i=v[1],p=void 0!==x[0]?this.getGeoTokenInfoFromAssignment(x[0]):void 0,u=void 0!==x[1]?this.getGeoTokenInfoFromAssignment(x[1]):void 0,t.includeDetails&&m&&"number"==typeof r&&"number"==typeof i&&void 0!==p&&void 0!==u?w.push(this.s("graphing-calculator-narration-geometry-item-at-coordinates-and-intersection",{itemDescription:A,parent1:p.description,parent2:u.description,x:on(this,r,m),y:an(this,i,m)})):w.push(A);break}if("glider"===b){A=void 0!==e.label&&""!==e.label?this.s("graphing-calculator-narration-geometry-glider-with-assignment",{assignment:uo(e.label)}):/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-glider",{index:e.id}):this.s("graphing-calculator-narration-geometry-glider-with-assignment",{assignment:f}),r=v[0],i=v[1],t.includeDetails&&m&&"number"==typeof r&&"number"==typeof i?w.push(this.s("graphing-calculator-narration-geometry-item-at-coordinates",{itemDescription:A,x:on(this,r,m),y:an(this,i,m)})):w.push(A);break}A=void 0!==e.label&&""!==e.label?this.s("graphing-calculator-narration-geometry-point-with-assignment",{assignment:uo(e.label)}):/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-point",{index:e.id}):this.s("graphing-calculator-narration-geometry-point-with-assignment",{assignment:f}),r=v[0],i=v[1],t.includeDetails&&m&&"number"==typeof r&&"number"==typeof i?w.push(this.s("graphing-calculator-narration-geometry-item-at-coordinates",{itemDescription:A,x:on(this,r,m),y:an(this,i,m)})):w.push(A);break;case __dcg_shared_module_exports__.C:A=/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-circle",{index:e.id}):this.s("graphing-calculator-narration-geometry-circle-with-assignment",{assignment:f}),r=v[0][0],i=v[0][1],c=v[1],t.includeDetails&&m&&"number"==typeof r&&"number"==typeof i&&"number"==typeof c?w.push(this.s("graphing-calculator-narration-geometry-item-at-coordinates-with-radius",{itemDescription:A,x:on(this,r,m),y:an(this,i,m),radius:nn(__dcg_shared_module_exports__.Na(c,m.xmax-m.xmin).latex)})):w.push(A);break;case __dcg_shared_module_exports__.E:A=/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-arc",{index:e.id}):this.s("graphing-calculator-narration-geometry-arc-with-assignment",{assignment:f}),r=v[0][0],i=v[0][1],o=v[1][0],a=v[1][1],s=v[2][0],l=v[2][1],t.includeDetails&&m&&"number"==typeof r&&"number"==typeof i&&"number"==typeof o&&"number"==typeof a&&"number"==typeof s&&"number"==typeof l?w.push(this.s("graphing-calculator-narration-geometry-item-at-coordinates-with-middle-and-end",{itemDescription:A,x1:on(this,r,m),y1:an(this,i,m),x2:on(this,o,m),y2:an(this,a,m),x3:on(this,s,m),y3:an(this,l,m)})):w.push(A);break;case __dcg_shared_module_exports__.y:d=v.length,A=3===d?/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-triangle",{index:e.id}):this.s("graphing-calculator-narration-geometry-triangle-with-assignment",{assignment:f}):4===d?/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-quadrilateral",{index:e.id}):this.s("graphing-calculator-narration-geometry-quadrilateral-with-assignment",{assignment:f}):/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-polygon",{index:e.id,sideCount:d}):this.s("graphing-calculator-narration-geometry-polygon-with-assignment",{assignment:f,sideCount:d}),r=v[0][0],i=v[0][1],t.includeDetails&&m&&"number"==typeof r&&"number"==typeof i?w.push(this.s("graphing-calculator-narration-geometry-item-at-coordinates",{itemDescription:A,x:on(this,r,m),y:an(this,i,m)})):w.push(A);break;case __dcg_shared_module_exports__.G:case __dcg_shared_module_exports__.I:case __dcg_shared_module_exports__.A:_===__dcg_shared_module_exports__.G?A=/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-line",{index:e.id}):this.s("graphing-calculator-narration-geometry-line-with-assignment",{assignment:f}):_===__dcg_shared_module_exports__.I?A=/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-ray",{index:e.id}):this.s("graphing-calculator-narration-geometry-ray-with-assignment",{assignment:f}):_===__dcg_shared_module_exports__.A&&(A=/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-segment",{index:e.id}):this.s("graphing-calculator-narration-geometry-segment-with-assignment",{assignment:f})),r=v[0][0],i=v[0][1],o=v[1][0],a=v[1][1],t.includeDetails&&m&&"number"==typeof r&&"number"==typeof i&&"number"==typeof o&&"number"==typeof a?w.push(this.s("graphing-calculator-narration-geometry-item-at-coordinates-to-coordinates",{itemDescription:A,x1:on(this,r,m),y1:an(this,i,m),x2:on(this,o,m),y2:an(this,a,m)})):w.push(A);break;case __dcg_shared_module_exports__.K:case __dcg_shared_module_exports__.M:A=/^\$/.test(f)?this.s("graphing-calculator-narration-geometry-unlabeled-angle",{index:e.id}):this.s("graphing-calculator-narration-geometry-angle-with-assignment",{assignment:f}),r=v[0][0],i=v[0][1],x.length&&(p=void 0!==x[0]?this.getGeoTokenInfoFromAssignment(x[0]):void 0,u=void 0!==x[1]?this.getGeoTokenInfoFromAssignment(x[1]):void 0,h=void 0!==x[2]?this.getGeoTokenInfoFromAssignment(x[2]):void 0),t.includeDetails&&m&&"number"==typeof r&&"number"==typeof i?void 0!==p&&void 0!==u&&void 0!==h?w.push(this.s("graphing-calculator-narration-geometry-item-at-coordinates-with-vertex-from-to",{itemDescription:A,x1:on(this,r,m),y1:an(this,i,m),parent1:p.description,parent2:u.description,parent3:h.description})):w.push(this.s("graphing-calculator-narration-geometry-item-at-coordinates",{itemDescription:A,x:on(this,r,m),y:an(this,i,m)})):w.push(A);break;default:w.push(this.s("graphing-calculator-narration-geometry-item-unknown"))}let k=w.join(" ");return"box-selection"===this.activeTool?this.isItemSelected(e.id)?this.s("shared-calculator-narration-item-selected",{item:k}):this.s("shared-calculator-narration-item-unselected",{item:k}):k}isDispatching(){return this.dispatcher.isDispatching()}getSuggestedIdentifierRenameInfo(e){if(this.suggestedIdentifierRename&&this.suggestedIdentifierRename.id===e)return this.suggestedIdentifierRename}updateSuggestedIdentifierRenameInfo(){if(!this.shouldShowAuthorFeatures())return;let e=this.lastUserUpdatedExpressionItem;if(e){this.suggestedIdentifierRename&&this.suggestedIdentifierRename.id!==e.id&&(this.suggestedIdentifierRename=void 0);var t=e.formula.assignment||"",n=t?__dcg_shared_module_exports__.Ua(t):"";if(this.suggestedIdentifierRename){if(n!==this.suggestedIdentifierRename.to){if(this.suggestedIdentifierRename.to=n,this.suggestedIdentifierRename.from===this.suggestedIdentifierRename.to||!this.suggestedIdentifierRename.from||!this.suggestedIdentifierRename.to)return void(this.suggestedIdentifierRename.countOfChanges=0);if(this.countIdentifierAssignments(t)>1)return void(this.suggestedIdentifierRename.countOfChanges=0);var r=this.countGlobalIdentifierOccurences(this.suggestedIdentifierRename.from);this.suggestedIdentifierRename.countOfChanges=r}}else n&&(this.suggestedIdentifierRename={id:e.id,from:n,to:n,countOfChanges:0})}else this.suggestedIdentifierRename=void 0}getMathquillConfig(e){return{autoOperatorNames:Ko({additionalOperators:e.additionalOperators||[],includeGeometryFunctions:this.isGeometry()}),autoCommands:Bs({additionalCommands:this.isGeometry()?[]:["int"],disallowAns:this.isGeometry()}),logAriaAlerts:!!Sn().logAria}}constrainMultiSelect(){if(this.isMultiSelectEnabled())return;let e=Ub(this.listModel);e.length>1&&Dr(this.listModel,e[0])}};function $P(e){return e&&__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{wasCompleteSetState:void 0,layoutModel:void 0,settingsViewModel:void 0})}function H4(e,t){return __dcg_shared_module_exports__.Ea($P(e),$P(t))}var ph=__dcg_shared_module_exports__.i(ne());at();var Xf=class{constructor(e){this.controller=e}handleKeydown(e){let t=Ei(e);if(jg(e))e.stopPropagation(),e.preventDefault(),this.controller.hasVisibleAndUndoableToast()?this.controller.toastUndo():this.controller.dispatch({type:"undo"});else if(Yg(e))e.stopPropagation(),e.preventDefault(),this.controller.dispatch({type:"redo"});else if(e.altKey&&!e.ctrlKey&&!e.metaKey&&e.shiftKey&&"Z"===t){let t=this.controller.getSelectedItem();t&&t.id&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"expression-zoom-fit",id:t.id,focusAfterTap:!1}))}else if(e.altKey!==gi&&e.metaKey===gi&&!e.ctrlKey&&e.shiftKey&&"A"===t&&this.controller.isDecimalToFractionEnabled()){let t=this.controller.getSelectedItem();t&&"expression"===t.type&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-fraction-evaluation",id:t.id}),this.controller.runAfterDispatch((()=>{xc(t)?ge(this.controller.s("shared-calculator-narration-show-as-fraction")):ge(this.controller.s("shared-calculator-narration-show-as-decimal"))})))}else if(e.altKey||e.ctrlKey===gi||e.metaKey!==gi||"F"!==t){if(!e.altKey&&!e.metaKey||e.ctrlKey||e.shiftKey||void 0!==t){if(e.shiftKey&&(e.altKey||e.metaKey)&&!e.ctrlKey){if(Le(e)===Fn)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-all-folders-collapsed",isCollapsed:!0}),ge(this.controller.s("graphing-calculator-narration-all-folders-collapsed"));else if(Le(e)===Yn)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-all-folders-collapsed",isCollapsed:!1}),ge(this.controller.s("graphing-calculator-narration-all-folders-expanded"));else if("E"===t){if(!this.controller.isListEnabled())return;this.controller.isListVisible()?(this.controller.dispatch({type:"hide-expressions-list",focusShowIcon:!1}),ge(this.controller.s("graphing-calculator-narration-hide-expression-list"))):(this.controller.dispatch({type:"show-expressions-list",focusHideIcon:!1}),this.focusExpressionList()),e.preventDefault(),e.stopPropagation()}}else if(e.ctrlKey&&(e.altKey||e.metaKey)&&!e.shiftKey){if("E"===t){if(!this.controller.isListEnabled())return;e.preventDefault(),e.stopPropagation(),this.focusExpressionList()}else if("X"===t){if(!this.controller.isListEnabled())return;e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()?(ge(this.controller.s("graphing-calculator-narration-add-expression")),this.controller.dispatch({type:"new-expression"})):ge(this.controller.s("graphing-calculator-narration-unable-to-add-expression"))}else if("O"===t){if(!this.controller.isListEnabled())return;e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()&&this.controller.areNotesEnabled()?(ge(this.controller.s("graphing-calculator-narration-add-note")),this.controller.dispatch({type:"new-text"})):ge(this.controller.s("graphing-calculator-narration-unable-to-add-note"))}else if("F"===t&&this.controller.canUserAddExpressions()&&this.controller.areFoldersEnabled())e.preventDefault(),e.stopPropagation(),ge(this.controller.s("graphing-calculator-narration-add-folder")),this.controller.dispatch({type:"new-folder"});else if("I"===t&&this.controller.canUserAddExpressions()&&this.controller.areImagesEnabled())e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:!1}),this.controller.runAfterDispatch((()=>{this.controller.find$(".dcg-add-expression-container input[type=file]").trigger("click"),ge(this.controller.s("graphing-calculator-narration-add-image"))}));else if("T"===t)e.preventDefault(),e.stopPropagation(),this.controller.canUserAddExpressions()?(ge(this.controller.s("graphing-calculator-narration-add-table")),this.controller.dispatch({type:"new-table"})):ge(this.controller.s("graphing-calculator-narration-unable-to-add-table"));else if("M"===t&&this.controller.isGeoUIActive())e.preventDefault(),e.stopPropagation(),"box-selection"===this.controller.getActiveTool()&&this.controller.hasAnyItemsSelected()?this.controller.dispatch({type:"set-focus-location",location:{type:"geo-header-back-link"}}):this.controller.dispatch({type:"set-focus-location",location:{type:"geo-basic-tool",tool:this.controller.getActiveTool()}});else if("G"===t)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:!0});else if("P"===t){let t;if(e.preventDefault(),e.stopPropagation(),this.controller.isGeoUIActive())return void this.controller.dispatch({type:"set-focus-location",location:{type:"graph-paper"}});t=this.controller.find$(".dcg-tabbable-point, .dcg-tabbable-clickableobject, .dcg-tabbable-draggableimage").filter("[tabindex=0]"),0===t.length&&(t=this.controller.find$(".dcg-editable-label-border").find('input, textarea, [role="textbox"]')),this.focusElement(t.first(),this.controller.s("graphing-calculator-narration-no-interactive-points"))}else if("Z"===t){let e=this.controller.getSelectedItem();e&&e.id&&this.controller.dispatch({type:"expression-zoom-fit",id:e.id,focusAfterTap:!1})}else if("D"===t&&this.controller.canUserAddExpressions()){e.preventDefault(),e.stopPropagation();let t=!this.controller.isInEditListMode();this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:t,focusExpressionList:!0})}}else if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey){if(!e.metaKey&&!e.shiftKey&&e.ctrlKey===gi&&e.altKey===!gi)if("N"===t){if(!this.controller.getBrailleControls())return;e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"nemeth"}),ge(this.controller.s("shared-calculator-narration-hotkey-braille-mode-nemeth"))}else if("U"===t){if(!this.controller.getBrailleControls())return;e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"ueb"}),ge(this.controller.s("shared-calculator-narration-hotkey-braille-mode-ueb"))}else if("Q"===t||"X"===t){if(!this.controller.getBrailleControls())return;e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"none"}),ge(this.controller.s("shared-calculator-narration-hotkey-braille-mode-off"))}else if("6"===t){if(!this.controller.getBrailleControls())return;e.preventDefault(),e.stopPropagation();let t=!this.controller.getSixKeyInput();this.controller.dispatch({type:"set-six-key-input",useSixKeyInput:t}),ge(t?this.controller.s("shared-calculator-narration-six-key-mode-on"):this.controller.s("shared-calculator-narration-six-key-mode-off"))}else if("D"===t)e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-graph-settings",degreeMode:!this.controller.getGraphSettings().degreeMode}),ge(this.controller.getGraphSettings().degreeMode?this.controller.s("graphing-calculator-button-settings-degrees"):this.controller.s("graphing-calculator-button-settings-radians"));else if("K"===t){if(!this.controller.isKeypadEnabled()||this.controller.inAudioTraceMode())return;e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"keypad/set-minimized",minimized:this.controller.isHideKeypadButtonVisible()})}}else if(Le(e)===ga)(!document.activeElement||!Mc(P(document.activeElement)))&&e.preventDefault();else if(Le(e)===co&&!this.controller.getOpenItemMenu()&&!this.controller.isGraphSettingsOpen()){if(this.controller.isGeoUIActive()){let t=!1,n=this.controller.getGeoModel();if(this.controller.hasAnyItemsSelected()&&(this.controller.dispatch({type:"set-none-selected"}),t=!0),n.isToolplayActive()&&(this.controller.dispatch({type:"cancel-geo-toolplay"}),ge(this.controller.s("graphing-calculator-narration-geometry-tool-cancelled")),t=!0),this.controller.isGraphPaperFocused()&&(this.controller.dispatch({type:"set-focus-location",location:{type:"geo-basic-tool",tool:this.controller.getActiveTool()}}),t=!0),"selection"!==this.controller.getActiveTool()&&!t){this.controller.dispatch({type:"select-geo-tool",tool:"selection"});let e=this.controller.getFocusLocation();e&&"geo-basic-tool"===e.type&&this.controller.dispatch({type:"set-focus-location",location:{type:"geo-basic-tool",tool:this.controller.getActiveTool()}}),t=!0}if(t)return e.preventDefault(),void e.stopPropagation()}this.controller.isInEditListMode()&&0===this.controller.find$(".dcg-options-menu").length&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!0}))}}else if(Le(e)===Fn){let t=this.controller.getSelectedItem();t&&"folder"===t.type&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-folder-collapsed",id:t.id,isCollapsed:!0}),ge(this.controller.s("graphing-calculator-narration-folder-collapsed")))}else if(Le(e)===Yn){let t=this.controller.getSelectedItem();t&&"folder"===t.type&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-folder-collapsed",id:t.id,isCollapsed:!1}),ge(this.controller.s("graphing-calculator-narration-folder-expanded")))}}else if(this.controller.isExpressionListFocused()){let t=qe.getFocusedMathquill(),n="";try{n=t.__controller.cursor.selection.join("latex")||""}catch(e){}this.controller.dispatch({type:"open-expression-search",rename:!!e.shiftKey,latex:n}),e.preventDefault(),e.stopPropagation()}}focusExpressionList(){let e=this.controller.getSelectedItem();e?this.controller.dispatch({type:"move-focus-to-item",id:e.id}):this.controller.dispatch({type:"focus-first-expression"})}focusElement(e,t){e.length?e.trigger("focus"):t&&ge(t)}};function nk(){if(!document.activeElement)return;let e=P(document.activeElement);Mc(e)&&P("<input />").prependTo("body").trigger("focus").attr({readonly:"readonly",disabled:"true"}).trigger("blur").remove()}at(),at();var $4=(i=!1,o=function(e){i||P(e).bind("touchstart",(function(e){var t=P(e.target),n=0,r=null;if(!t.closest("[disablescroll]").length)for(;0===n&&t.length&&void 0!==t[0].tagName;){var i=t.css("overflow"),o=t.css("overflow-y");if("hidden"!==i&&"visible"!==i&&"hidden"!==o&&"hidden"!==o){var a=t.scrollTop();0!==a&&(n=2),t.scrollTop(a+1),t.scrollTop()!==a&&(n|=1,t.scrollTop(a))}t=t.parent()}if(0!==n){r=[];for(var s=e.originalEvent.touches,l=0;l<s.length;l++){var c={};for(var d in s[l])s[l].hasOwnProperty(d)&&(c[d]=s[l][d]);r.push(c)}}P(document).on("touchmove.scrollfix",(function(e){if(r){var t=r[0],i=e.originalEvent.touches[0].screenY-t.screenY;(i>0&&!(2&n)||i<0&&!(1&n))&&(n=0),i&&(r=null)}0===n&&e.preventDefault()})),P(document).on("touchend.scrollfix",(function(){P(document).off(".scrollfix")}))}))},{limitScrollOnElement:o,limitScrollOnDocument:function(){o(document),i=!0}}),i,o,{limitScrollOnElement:Bw,limitScrollOnDocument:xre}=$4,Kt=__dcg_shared_module_exports__.i(ne());at();var mt=__dcg_shared_module_exports__.i(ne());at(),at(),at();var WP=__dcg_shared_module_exports__.i(ne());function z4(e){let t=P(e.target);return t.hasClass("dcg-exp-action-button")||t.hasClass("dcg-icon-duplicate")||t.hasClass("dcg-icon-remove")||t.hasClass("dcg-icon-lock")||t.hasClass("dcg-icon-pencil")}var Io=class extends WP.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,this._isFirstRender=!0,this._isDragCopy=this.props.isDragCopy()}onItemViewMounted(){this._isDragCopy||(this.model.dcgView=this),this._isFirstRender=!1}onItemViewUnmounted(){this._isDragCopy||(this.model.dcgView=void 0)}isFirstRender(){return this._isFirstRender}onMouseSelect(e){!this.controller.isInEditListMode()||z4(e)?this.controller.isItemReadonly(this.id)||"dcg-tap"===e.type&&"mouse"===e.device||"dcg-tapstart"===e.type&&"touch"===e.device||e.wasHandled()||(e.handle(),this.controller.dispatch({type:"set-selected-id",id:this.id})):this.exitEditListMode()}onDragPending(e){this.controller.isItemReadonly(this.model.id)||this.props.onDragPending(e)}exitEditListMode(){this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!0})}},Qn=__dcg_shared_module_exports__.i(ne()),zl=__dcg_shared_module_exports__.i(ne()),Jn=class extends zl.Class{template(){return zl.createElement(Ue,{tooltip:this.props.error,sticky:this.const(!0),gravity:this.props.gravity},zl.createElement("div",{class:()=>({"dcg-tooltipped-error":!0,"dcg-white":this.props.isWhite&&this.props.isWhite(),"dcg-small":this.props.size&&"small"===this.props.size()})},zl.createElement("i",{class:zl.const("dcg-icon-error"),"aria-hidden":zl.const("true")})))}},Gn=__dcg_shared_module_exports__.i(ne()),Xn=__dcg_shared_module_exports__.i(ne()),{If:Kw}=Xn.Components,Li=class extends Xn.Class{template(){return Xn.createElement("span",{class:()=>({"dcg-do-not-blur":!0,"dcg-circular-icon":!0,"dcg-thick-outline":this.isThickOutline(),"dcg-white-icon":!!this.props.whiteIcon&&this.props.whiteIcon(),"dcg-hidden":this.isHidden(),"dcg-semi-transparent":this.props.semiTransparent&&this.props.semiTransparent(),"dcg-colored-icon":this.isColoredIcon(),"dcg-has-background-image":this.hasBackgroundImage(),[this.iconModifier()]:this.iconModifier().length>0}),style:this.bindFn(this.getIconStyle)},Xn.createElement(Kw,{predicate:this.bindFn(this.hasBackgroundImage)},(()=>Xn.createElement("span",{class:Xn.const("dcg-background-image"),style:()=>({"background-image":this.props.backgroundImage&&this.props.backgroundImage(),opacity:this.props.backgroundOpacity&&this.props.backgroundOpacity()})}))),Xn.createElement(Kw,{predicate:()=>!!this.backgroundIcon()},(()=>Xn.createElement("i",{class:()=>({[this.backgroundIcon()]:!0,"dcg-layered-icon":!0}),style:()=>({opacity:this.backgroundOpacity()})}))),Xn.createElement(Kw,{predicate:()=>!!this.primaryIcon()},(()=>Xn.createElement("i",{class:()=>({[this.primaryIcon()]:!0,"dcg-layered-icon":!0}),style:()=>({color:this.props.foregroundColor&&this.props.foregroundColor()})}))),Xn.createElement(Kw,{predicate:()=>"loading"===this.props.iconType()},(()=>Xn.createElement("span",{class:Xn.const("dcg-spinner")}))))}isColoredIcon(){return!this.isThickOutline()&&!this.isHidden()&&!this.hasBackgroundImage()&&"loading"!==this.props.iconType()}iconModifier(){if(!this.props.iconModifier)return"";switch(this.props.iconModifier()){case"medium":return"dcg-modifier-size-medium";case"large":return"dcg-modifier-size-large";case"small":return"dcg-modifier-size-small";case"rotated":return"dcg-modifier-rotated";case"none":return""}}getIconStyle(){let e=!this.isHidden()&&this.props.backgroundColor?Rx(this.props.backgroundColor()):void 0;return e?{background:e}:{}}isHidden(){return"hidden"===this.props.iconType()}isThickOutline(){let e=this.props.iconType();return"folder"===e||"pause"===e||"play"===e||"fraction"===e||"action"===e||"metronome"===e}hasBackgroundImage(){return!!this.props.backgroundImage&&!this.isHidden()&&!!this.props.backgroundImage()}primaryIcon(){let e=this.props.iconType();switch(e){case"folder":return"dcg-icon-folder";case"pause":return"dcg-icon-pause";case"play":return"dcg-icon-play";case"polygon-dashed":case"polygon-dashed-filled":return"dcg-icon-polygon-dashed";case"polygon-dotted":case"polygon-dotted-filled":return"dcg-icon-polygon-dotted";case"polygon-default":case"polygon-default-filled":return"dcg-icon-polygon-solid";case"graph-dashed":case"parametric-dashed-filled":return"dcg-icon-parametric-dashed";case"graph-dotted":case"parametric-dotted-filled":return"dcg-icon-parametric-dotted";case"graph-default":case"parametric-default-filled":return"dcg-icon-parametric-solid";case"movable-vertical":return"dcg-icon-move-vertical";case"movable-both":return"dcg-icon-move";case"movable-horizontal":return"dcg-icon-move-horizontal";case"point-open":return"dcg-icon-open";case"point-cross":return"dcg-icon-cross";case"point-default":return"dcg-icon-point";case"table-points":case"table-points-and-lines":return"dcg-icon-points";case"table-lines":return"dcg-icon-lines-solid";case"shaded-inequality":case"inequality":return"dcg-icon-shaded-inequality-dash";case"check":return"dcg-icon-check";case"none":case"background":case"hidden":case"polygon-none-filled":case"parametric-none-filled":case"loading":return"";case"fraction":return"dcg-icon-fraction";case"boxplot":return"dcg-icon-boxplot";case"dotplot-cross":return"dcg-icon-dotplot-cross";case"dotplot-default":return"dcg-icon-dotplot-default";case"dotplot-open":return"dcg-icon-dotplot-open";case"histogram":return"dcg-icon-histogram";case"unfilled-distribution":case"filled-distribution":return"dcg-icon-distribution";case"action":return"dcg-icon-chevron-right";case"metronome":return"dcg-icon-metronome-2";case"arrow-right":return"dcg-icon-arrow-right";default:return e}}backgroundOpacity(){let e=this.backgroundIcon();return"dcg-icon-polygon-filled"===e||"dcg-icon-parametric-filled"===e||"dcg-icon-shaded-inequality-shade2"===e||"dcg-icon-distribution-fill"===e||"dcg-icon-histogram-fill"===e?.5:1}backgroundIcon(){let e=this.props.iconType();return"filled-distribution"===e?"dcg-icon-distribution-fill":"histogram"===e?"dcg-icon-histogram-fill":"polygon-dashed-filled"===e||"polygon-dotted-filled"===e||"polygon-default-filled"===e||"polygon-none-filled"===e?"dcg-icon-polygon-filled":"parametric-dashed-filled"===e||"parametric-dotted-filled"===e||"parametric-default-filled"===e||"parametric-none-filled"===e?"dcg-icon-parametric-filled":"table-points-and-lines"===e?"dcg-icon-lines-solid":"shaded-inequality"===e?"dcg-icon-shaded-inequality-shade2":"action"===e?"dcg-icon-minus":""}},Uw=class extends Gn.Class{init(){this.controller=this.props.controller(),this.model=this.props.model()}template(){return Gn.createElement("div",{class:Gn.const("dcg-play-pause-icon-view")},Gn.createElement(Ue,{gravity:this.const("se"),tooltip:()=>this.controller.s("graphing-calculator-label-slider-disabled-while-ticker-playing"),disabled:()=>!this.controller.getTickerPlaying(),sticky:this.const(!0)},Gn.createElement("div",{class:()=>({"dcg-circular-icon-container":!0,"dcg-disabled":this.controller.getTickerPlaying()}),"aria-label":this.bindFn(this.getAriaLabel),role:Gn.const("button"),tabindex:Gn.const("0"),onTap:e=>{e.wasHandled("dragdrop")||this.toggleSliderIsPlaying()},manageFocus:this.const(ut({controller:this.controller,location:{type:"slider-icon",id:this.model.id}}))},Gn.createElement(Li,{iconType:()=>this.getIconType(),whiteIcon:()=>!this.controller.isInEditListMode()&&this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)}))),Gn.createElement("div",{class:Gn.const("dcg-slider-menu-container")},Gn.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-animation-properties-tooltip"),gravity:this.const("e")},Gn.createElement("div",{class:()=>({"dcg-slider-menu-opener":!0,"dcg-menu-open":this.myOptionsOpen()}),tabindex:Gn.const(0),"dcg-open-menu-guid":()=>this.getMenuGUID(),role:Gn.const("button"),"aria-label":()=>this.myOptionsOpen()?this.controller.s("graphing-calculator-narration-hide-animation-properties"):this.controller.s("graphing-calculator-narration-show-animation-properties"),onTap:e=>{e.wasHandled("dragdrop")||e.wasLongheld()||this.toggleOptions(e)},manageFocus:this.const(ut({controller:this.controller,location:{type:"slider-animation-properties-icon",id:this.model.id}}))},Gn.createElement("i",{class:this.bindFn(this.getIcon),"aria-hidden":Gn.const("true")})))))}getIcon(){return __dcg_shared_module_exports__.n(this.model.slider.loopMode)}getIconType(){return!this.model.slider.isPlaying||QS(this.model)?"play":"pause"}getMenuGUID(){return"slider-"+this.model.guid}myOptionsOpen(){return this.controller.isItemSettingsMenuOpen(this.getMenuGUID())}toggleOptions(e){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"slider",model:this.model,guid:this.getMenuGUID(),focusFirstOption:"keyboard"===e.device}})}getAriaLabel(){if(!this.model.sliderExists)return"";var e=kn(this.model);return e?this.model.slider.isPlaying?this.controller.s("graphing-calculator-narration-pause-variable-animation",{variable:e}):this.controller.s("graphing-calculator-narration-play-variable-animation",{variable:e}):""}toggleSliderIsPlaying(){if(this.model.sliderExists){var e="",t=kn(this.model);QS(this.model)?("string"==typeof t&&(e=this.controller.s("graphing-calculator-narration-slider-variable-restarted",{variable:t})),this.controller.dispatch({type:"play-slider-from-min",id:this.model.id})):this.model.slider.isPlaying?("string"==typeof t&&(e=this.controller.s("graphing-calculator-narration-slider-variable-paused",{variable:t})),this.controller.dispatch({type:"set-slider-isplaying",id:this.model.id,isPlaying:!1})):("string"==typeof t&&(e=this.controller.s("graphing-calculator-narration-slider-variable-playing",{variable:t})),this.controller.dispatch({type:"set-slider-isplaying",id:this.model.id,isPlaying:!0})),""!==e&&ge(e)}}},ll=__dcg_shared_module_exports__.i(ne()),qw=class extends ll.Class{constructor(){super(...arguments),this.isAnimating=!1,this.unmounted=!1}init(){this.controller=this.props.controller(),this.model=this.props.model()}template(){return ll.createElement("div",{class:()=>({"dcg-action-icon-view":!0,"dcg-action-icon-view-animating":this.isAnimating})},ll.createElement("div",{class:ll.const("dcg-circular-icon-container"),"aria-label":()=>this.controller.s("graphing-calculator-narration-run-action-icon"),role:ll.const("button"),tabindex:ll.const("0"),onTap:e=>{e.wasHandled("dragdrop")||this.runActionOnce()},manageFocus:this.const(ut({controller:this.props.controller(),location:{type:"action-icon",id:this.model.id}}))},ll.createElement(Li,{iconType:this.const("action"),whiteIcon:()=>!this.controller.isInEditListMode()&&this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)})))}willUnmount(){this.unmounted=!0}runActionOnce(){this.isAnimating=!0,this.controller.dispatch({type:"action-single-step",id:this.model.id}),setTimeout((()=>{this.isAnimating=!1,this.unmounted||this.update()}),150)}};function yi(e,t){if(e){if("expression"===e.type)switch(t){case"delete":return e.controller.s("graphing-calculator-narration-delete-expression",{index:e.displayIndex});case"duplicate":return e.controller.s("graphing-calculator-narration-duplicate-expression",{index:e.displayIndex});case"show":return e.controller.s("graphing-calculator-narration-show-expression",{index:e.displayIndex});case"hide":return e.controller.s("graphing-calculator-narration-hide-expression",{index:e.displayIndex});case"show-options":return e.controller.s("graphing-calculator-narration-show-options-expression",{index:e.displayIndex});case"hide-options":return e.controller.s("graphing-calculator-narration-hide-options-expression",{index:e.displayIndex});case"create_table":return e.controller.s("graphing-calculator-narration-create-table-expression",{index:e.displayIndex});case"rename":return e.controller.s("graphing-calculator-narration-rename-expression",{index:e.displayIndex})}if("image"===e.type)switch(t){case"delete":return e.controller.s("graphing-calculator-narration-delete-image",{index:e.displayIndex});case"duplicate":return e.controller.s("graphing-calculator-narration-duplicate-image",{index:e.displayIndex});case"show":return e.controller.s("graphing-calculator-narration-show-image",{index:e.displayIndex});case"hide":return e.controller.s("graphing-calculator-narration-hide-image",{index:e.displayIndex});case"show-options":return e.controller.s("graphing-calculator-narration-show-options-image",{index:e.displayIndex});case"hide-options":return e.controller.s("graphing-calculator-narration-hide-options-image",{index:e.displayIndex});case"edit_title":return e.controller.s("graphing-calculator-narration-edit-image-title",{index:e.displayIndex})}if("text"===e.type)switch(t){case"delete":return e.controller.s("graphing-calculator-narration-delete-text",{index:e.displayIndex});case"duplicate":return e.controller.s("graphing-calculator-narration-duplicate-text",{index:e.displayIndex});case"show":return e.controller.s("graphing-calculator-narration-show-text",{index:e.displayIndex});case"hide":return e.controller.s("graphing-calculator-narration-hide-text",{index:e.displayIndex});case"edit_title":return e.controller.s("graphing-calculator-narration-edit-text-title",{index:e.displayIndex})}if("table"===e.type)switch(t){case"delete":return e.controller.s("graphing-calculator-narration-delete-table",{index:e.displayIndex});case"duplicate":return e.controller.s("graphing-calculator-narration-duplicate-table",{index:e.displayIndex});case"show":return e.controller.s("graphing-calculator-narration-show-table",{index:e.displayIndex});case"hide":return e.controller.s("graphing-calculator-narration-hide-table",{index:e.displayIndex});case"rename":return e.controller.s("graphing-calculator-narration-rename-table",{index:e.displayIndex})}if("folder"===e.type){let n=!!e.title;switch(t){case"collapse":return n?e.controller.s("graphing-calculator-narration-collapse-folder-title",{folder:e.title}):e.controller.s("graphing-calculator-narration-collapse-folder-index",{index:e.displayIndex});case"expand":return n?e.controller.s("graphing-calculator-narration-expand-folder-title",{folder:e.title}):e.controller.s("graphing-calculator-narration-expand-folder-index",{index:e.displayIndex});case"show":return n?e.controller.s("graphing-calculator-narration-show-folder-title",{folder:e.title}):e.controller.s("graphing-calculator-narration-show-folder-index",{index:e.displayIndex});case"hide":return n?e.controller.s("graphing-calculator-narration-hide-folder-title",{folder:e.title}):e.controller.s("graphing-calculator-narration-hide-folder-index",{index:e.displayIndex});case"duplicate":return n?e.controller.s("graphing-calculator-narration-duplicate-folder-title",{folder:e.title}):e.controller.s("graphing-calculator-narration-duplicate-folder-index",{index:e.displayIndex});case"delete":return n?e.controller.s("graphing-calculator-narration-delete-folder-title",{folder:e.title}):e.controller.s("graphing-calculator-narration-delete-folder-index",{index:e.displayIndex});case"edit_title":return e.controller.s("graphing-calculator-narration-edit-folder-title",{index:e.displayIndex})}}switch(t){case"delete":return e.controller.s("graphing-calculator-narration-delete");case"duplicate":return e.controller.s("graphing-calculator-narration-duplicate");case"expand":return e.controller.s("graphing-calculator-narration-expand");case"collapse":return e.controller.s("graphing-calculator-narration-collapse");case"show":return e.controller.s("graphing-calculator-narration-show");case"hide":return e.controller.s("graphing-calculator-narration-hide");case"show-options":return e.controller.s("graphing-calculator-narration-show-options");case"hide-options":return e.controller.s("graphing-calculator-narration-hide-options");case"create_table":return e.controller.s("graphing-calculator-narration-create-table");case"rename":return e.controller.s("graphing-calculator-narration-rename");case"edit_title":return e.controller.s("graphing-calculator-narration-edit-title");default:return t}}}var{SwitchUnion:W4}=Qn.Components,j4="#6A93D2",jP="#000",YP="#fff",Qf=class extends Qn.Class{init(){this.model=this.props.model(),this.controller=this.props.controller()}template(){return Qn.createElement("div",{class:Qn.const("dcg-expression-icon-container")},W4(this.bindFn(this.getIconMode),{error:()=>Qn.createElement(Jn,{error:this.bindFn(this.getErrorMsg),isWhite:this.bindFn(this.isSelected),gravity:this.const("se")}),none:()=>Qn.createElement("span",null),slider:()=>Qn.createElement(Uw,{controller:this.props.controller,model:this.props.model}),action:()=>Qn.createElement(qw,{controller:this.props.controller,model:this.props.model}),icon:()=>Qn.createElement("div",{class:Qn.const("dcg-circular-icon-container"),role:Qn.const("button"),tabindex:Qn.const("0"),"dcg-open-menu-guid":()=>this.getMenuGUID(),"aria-label":this.bindFn(this.getIconAriaLabel),onTap:e=>{if(!e.wasHandled("dragdrop")&&!e.wasLongheld()){if(this.myOptionsOpen())return this.toggleOptions(e);if((this.controller.isInEditListMode()||e.shiftKey)&&!this.isFraction())return this.toggleOptions(e);if(this.isFraction())return this.onToggleFractionDisplay();this.toggleGraphShown()}},onLongHold:e=>{e.handle("dcg-longhold"),e.handle("dcg-tap"),!this.isFraction()&&this.toggleOptions(e)},manageFocus:this.const(ut({controller:this.controller,location:{type:"expression-icon",id:this.model.id}}))},Qn.createElement(Li,{iconType:this.bindFn(this.getIconType),backgroundColor:this.bindFn(this.getBackgroundColor),whiteIcon:this.bindFn(this.isSelected),foregroundColor:this.bindFn(this.getForegroundColor),iconModifier:this.bindFn(this.getIconModifier)}))}))}getErrorMsg(){return this.colorError()?this.controller.s("shared-calculator-error-color-not-assigned"):this.controller.unpack(this.model.error)}getMenuGUID(){return this.model.guid}myOptionsOpen(){return this.controller.isItemSettingsMenuOpen(this.getMenuGUID())}toggleOptions(e){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"expression",model:this.model,guid:this.getMenuGUID(),focusFirstOption:"keyboard"===e.device}})}isSelected(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)}isFraction(){return this.controller.canDisplayEvaluationForItemAsFraction(this.model.id)}getIconMode(){return this.hasError()?"error":this.controller.getGraphSettings().config.graphpaper?ex(this.model)?"icon":this.hasSlider()?"slider":this.isFraction()?"icon":this.isNonemptyAction()?"action":"none":"none"}toggleGraphShown(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id})}colorError(){return!!this.model.formula.rgb_value&&!this.model.formula.assignment}hasError(){return!!this.colorError()||!!this.model.error&&!Ia(this.model)&&"none"===this.controller.getBrailleMode()}hasSlider(){return!!this.model.sliderExists}isNonemptyAction(){return Yu(this.model)}getDisplayProps(){let{points:e,lines:t,fill:n}=this.model;return __dcg_shared_module_exports__.ac(this.model.formula.expression_type,{points:e,lines:t,fill:n})}getBackgroundColor(){if(!this.isFraction())return Cg(this.model);let e=this.isSelected();return this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?e?YP:jP:""}getForegroundColor(){if(!this.isFraction())return"";let e=this.isSelected();return e!==this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?YP:e?j4:jP}onToggleFractionDisplay(){this.controller.dispatch({type:"toggle-fraction-evaluation",id:this.model.id})}getIconModifier(){return Cc(this.model)&&"y"===Tl(this.model,"alignedAxis")?"rotated":"none"}getIconType(){if(this.isFraction())return"fraction";if(!this.model.shouldGraph)return"hidden";if(this.controller.isInEditListMode())return"none";let e=this.model.pointStyle,t=this.model.lineStyle,n=this.getDisplayProps(),r=this.model.formula;if(Cc(this.model))return"boxplot";if(Gl(this.model)){if("POINT"===this.model.pointStyle)return"dotplot-default";if("CROSS"===this.model.pointStyle)return"dotplot-cross";if("OPEN"===this.model.pointStyle)return"dotplot-open"}if(hd(this.model))return"histogram";if(Sc(this.model))return Al(this.model)?"filled-distribution":"unfilled-distribution";if("X"===this.model.reconciledDragMode)return"movable-horizontal";if("Y"===this.model.reconciledDragMode)return"movable-vertical";if("XY"===this.model.reconciledDragMode)return"movable-both";if(Ma(this.model))return So(this.model)?"OPEN"===e?"point-open":"CROSS"===e?"point-cross":"point-default":n.lines&&n.points?"table-points-and-lines":n.lines?"table-lines":"table-points";let i=this.getDisplayProps().fill;if(Js(this.model))return i?n.lines?"DASHED"===t?"polygon-dashed-filled":"DOTTED"===t?"polygon-dotted-filled":"polygon-default-filled":"polygon-none-filled":n.lines?"DASHED"===t?"polygon-dashed":"DOTTED"===t?"polygon-dotted":"polygon-default":"none";if(wc(this.model))return i?n.lines?"DASHED"===t?"parametric-dashed-filled":"DOTTED"===t?"parametric-dotted-filled":"parametric-default-filled":"parametric-none-filled":n.lines?"DASHED"===t?"graph-dashed":"DOTTED"===t?"graph-dotted":"graph-default":"none";var o=r.operator,a=0!==__dcg_shared_module_exports__.Za[o].direction,s=!1===__dcg_shared_module_exports__.Za[o].inclusive;return r.is_shade_between||!s&&a?"shaded-inequality":s&&!a?"inequality":s&&a?"shaded-inequality":"DASHED"===t?"graph-dashed":"DOTTED"===t?"graph-dotted":"graph-default"}getIconAriaLabel(){return this.isFraction()?xc(this.model)?this.controller.s("shared-calculator-narration-display-as-decimal"):this.controller.s("shared-calculator-narration-display-as-fraction"):this.myOptionsOpen()?yi(this.model,"hide-options"):this.controller.isInEditListMode()?yi(this.model,"show-options"):this.model.hidden?yi(this.model,"show"):yi(this.model,"hide")}},jr=__dcg_shared_module_exports__.i(ne()),Hw=__dcg_shared_module_exports__.i(ne()),Rp=class extends Hw.Class{template(){return Hw.createElement("span",{class:()=>{var e,t;return{"dcg-color-swatch":!0,"dcg-color-evaluation":null==(t=(e=this.props).isEvaluation)?void 0:t.call(e),"dcg-light-color":Fx(this.props.color())}},style:()=>({background:Rx(this.props.color())})})}},{If:Y4,SwitchUnion:J4}=jr.Components;function X4(e,t){return __dcg_shared_module_exports__.Ra(e,t)}var Gd=class extends jr.Class{init(){this.controller=this.props.controller()}template(){return jr.createElement("div",{class:jr.const("dcg-evaluation-container")},jr.createElement("div",{didMount:e=>this.containerNode=e,class:()=>({"dcg-evaluation":!0,"dcg-do-blur":!0,"dcg-hidden":this.props.controller().isInEditListMode()}),handleEvent:jr.const("true"),tabindex:()=>this.props.focusable()&&"none"===this.controller.getBrailleMode()?"0":"-1",onFocus:()=>{"none"===this.controller.getBrailleMode()&&this.evaluationNode&&this.onSelectEvaluation()},onBlur:()=>{"none"===this.controller.getBrailleMode()&&this.evaluationNode&&this.onUnselectEvaluation()},onTap:()=>{var e;return null==(e=this.containerNode)?void 0:e.focus()}},jr.createElement(Vi,__dcg_shared_module_exports__.b({latex:this.bindFn(this.getBrailleEvaluation),ariaLabel:this.const(""),brailleShouldFocus:()=>{let e=this.controller.getFocusLocation();return!(!e||"braille-output"!==e.type)&&e.id===this.props.id()},onBrailleInput:()=>{},isStatic:this.const(!0),onBrailleFocusedChanged:e=>{e?this.controller.dispatch({type:"set-focus-location",location:{type:"braille-output",id:this.props.id()}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"braille-output",id:this.props.id()}})}},gn(this.controller,{gravity:"sw"})),jr.createElement("div",{class:jr.const("dcg-evaluation-label-container")},jr.createElement(Y4,{predicate:()=>!!this.props.dependent()},(()=>jr.createElement(ze,{latex:()=>__dcg_shared_module_exports__.Ua(this.props.dependent()),config:this.const({})}))),jr.createElement("span",{class:jr.const("dcg-equals")},jr.createElement(ze,{latex:this.const("="),config:this.const({})}))),jr.createElement("span",{class:()=>({"dcg-text-selectable":"rgbcolor"!==this.getEvaluationType(),"dcg-evaluation-html":!0,"dcg-color-evaluation":"rgbcolor"===this.getEvaluationType()}),didMount:this.bindFn(this.didMountEvaluation)},J4((()=>this.getEvaluationType()),{list:()=>jr.createElement("span",{class:jr.const("dcg-evaluation-list")},(()=>this.controller.s("graphing-calculator-label-evaluation-list",{count:this.props.val().length}))),fraction:()=>jr.createElement(ze,{latex:()=>__dcg_shared_module_exports__.Ta(this.props.val(),this.getLabelOptions()),config:this.const({})}),undefined:()=>jr.createElement("span",null,jr.const("undefined")),scientific:()=>jr.createElement(ze,{latex:()=>`${this.getNumberLabel().mantissa}\\times10^{${this.getNumberLabel().exponent}}`,config:this.const({})}),decimal:()=>jr.createElement(ze,{latex:()=>this.getNumberLabel().value,config:this.const({})}),rgbcolor:()=>jr.createElement(Rp,{color:()=>this.controller.getColorById(this.props.id()),isEvaluation:this.const(!0)})})))),jr.createElement("div",{class:jr.const("dcg-clear")}))}getNumberLabel(){return X4(this.props.val(),this.getLabelOptions())}getEvaluationType(){let e=this.props.val();return"string"==typeof e?"rgbcolor":Array.isArray(e)?"string"==typeof e[0]?"rgbcolor":"list":this.getNumberLabel().type}getLabelOptions(){return this.props.controller().getEvaluationLabelOptionsForItem(this.props.id())}didMountEvaluation(e){this.evaluationNode=e}onSelectEvaluation(){let e=document.createRange();e.selectNodeContents(this.evaluationNode);let t=window.getSelection();t&&(t.removeAllRanges(),t=window.getSelection(),t&&t.addRange(e))}onUnselectEvaluation(){let e=window.getSelection();e&&e.removeAllRanges()}getBrailleEvaluation(){let e="";this.props.dependent()&&(e=__dcg_shared_module_exports__.Ua(this.props.dependent())),e+="=";let t=this.getEvaluationType();switch(t){case"list":e+=this.controller.s("graphing-calculator-label-evaluation-list",{count:this.props.val().length});break;case"fraction":e+=__dcg_shared_module_exports__.Ta(this.props.val(),this.getLabelOptions());break;case"undefined":e="undefined";break;case"scientific":e+=`${this.getNumberLabel().mantissa}\\times10^{${this.getNumberLabel().exponent}}`;break;case"decimal":e+=this.getNumberLabel().value;break;case"rgbcolor":e+=this.props.val();break;default:return t}return e}},fa=__dcg_shared_module_exports__.i(ne()),Zf=class extends fa.Class{template(){return this.controller=this.props.controller(),fa.createElement("div",{class:fa.const("dcg-unresolved")},fa.createElement("i",{class:fa.const("dcg-icon-error"),"aria-hidden":fa.const("true")}),fa.const(" "),(()=>this.controller.s("graphing-calculator-error-equation-contains-unresolved-details")),fa.createElement("a",{href:fa.const("https://help.desmos.com/hc/en-us/articles/202529079-Unresolved-Detail-In-Plotted-Functions"),target:fa.const("_blank")},(()=>this.controller.s("graphing-calculator-link-learn-more"))))}},Mo=__dcg_shared_module_exports__.i(ne());at(),fc();var jo=__dcg_shared_module_exports__.i(ne()),{SwitchUnion:Q4}=jo.Components,Ir=class extends jo.Class{init(){this.controller=this.props.controller()}template(){return jo.createElement("div",{class:this.bindFn(this.getContainerClass)},Q4((()=>String(this.props.readonly())),{true:()=>jo.createElement(Vi,__dcg_shared_module_exports__.b({latex:this.bindFn(this.getStaticLatex),brailleShouldFocus:this.props.isFocused,isStatic:this.const(!0),onBrailleFocusedChanged:this.props.handleFocusChanged,ariaLabel:this.bindFn(this.getBrailleLabel),dataLabelAttributeValue:this.props.dataLabelAttributeValue},gn(this.props.controller())),jo.createElement(ze,{latex:this.bindFn(this.getStaticLatex),config:this.bindFn(this.getMQConfig),getAriaLabel:this.props.ariaLabel},jo.createElement("span",{class:jo.const("dcg-math-field"),"data-dcg-label":()=>this.props.dataLabelAttributeValue?this.props.dataLabelAttributeValue():void 0,manageFocus:this.const({shouldBeFocused:()=>this.props.isFocused(),onFocusedChanged:(e,t)=>this.props.handleFocusChanged(e,t)}),tabindex:jo.const("0")}))),false:()=>jo.createElement(Vi,__dcg_shared_module_exports__.b({latex:this.props.latex,brailleShouldFocus:this.props.isFocused,selectOnFocus:this.const(!0),onBrailleInput:this.props.handleLatexChanged,onBrailleFocusedChanged:this.props.handleFocusChanged,onBrailleKeydown:this.bindFn(this.onBrailleKeydown),hasError:this.props.hasError,placeholder:this.props.placeholder,ariaLabel:this.bindFn(this.getBrailleLabel),dataLabelAttributeValue:this.props.dataLabelAttributeValue},gn(this.props.controller())),jo.createElement(qe,{latex:this.props.latex,getAriaPostLabel:()=>{var e,t;let n=(null==(t=(e=this.props).ariaPostLabel)?void 0:t.call(e))||"";return this.props.hasError()&&""===n&&(n=this.controller.s("shared-calculator-narration-math-input-error-message")),n},isFocused:this.props.isFocused,placeholder:this.props.placeholder,capExpressionSize:()=>this.controller.getCapExpressionSize(),selectOnFocus:this.const(!0),config:this.bindFn(this.getMQConfig),getAriaLabel:this.props.ariaLabel,hasError:this.props.hasError,dataLabelAttributeValue:this.props.dataLabelAttributeValue,onUserPressedKey:this.props.handlePressedKey,onUserChangedLatex:this.props.handleLatexChanged,onExpressionSizeExceeded:()=>this.controller.dispatch({type:"expression-size-exceeded"}),onFocusedChanged:this.props.handleFocusChanged,needsSystemKeypad:()=>!this.controller.isKeypadEnabled()}))}))}getStaticLatex(){return this.props.latex()?this.props.latex():this.props.placeholder?this.props.placeholder():""}getContainerClass(){let e=this.props.containerClass?this.props.containerClass():{};return e["dcg-inline-math-input-view"]=!0,this.props.fullWidth&&this.props.fullWidth()&&(e["dcg-full-width-inline-math-input"]=!0),this.props.fontSize&&"large"===this.props.fontSize()&&(e["dcg-large-font-inline-math-input"]=!0),this.props.noBorder&&this.props.noBorder()&&(e["dcg-no-border-inline-math-input"]=!0),e}onBrailleKeydown(e){if(!this.props.handlePressedKey)return;let t=Le(e);t&&this.props.handlePressedKey(t,e)}getMQConfig(){return this.controller.getMathquillConfig({})}getBrailleLabel(){return this.props.brailleLabel?this.props.brailleLabel():this.props.ariaLabel()}},em=class extends Mo.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return Mo.createElement("div",{class:Mo.const("dcg-domain dcg-do-blur"),handleEvent:Mo.const("true")},Mo.createElement("div",{class:Mo.const("dcg-display-domain dcg-do-blur"),handleEvent:Mo.const("true")},Mo.createElement(Ir,{readonly:()=>this.controller.isItemReadonly(this.id),latex:()=>this.getMinLatex(),isFocused:()=>"min"===this.getFocusedInput(),placeholder:()=>__dcg_shared_module_exports__.Na(oV(this.model)).latex,ariaLabel:()=>this.controller.s("graphing-calculator-narration-domain-minimum"),brailleLabel:()=>this.controller.raw("dmin"),handleFocusChanged:e=>this.handleFocusedChanged("min",e),hasError:()=>!sV(this.model),controller:this.props.controller,handlePressedKey:(e,t)=>this.handlePressedKey("min",e,t),handleLatexChanged:e=>this.dispatchMinLatexIfChanged(e),dataLabelAttributeValue:this.const("domain-min")}),Mo.createElement("span",{class:Mo.const("dcg-interval-interior")},Mo.createElement(ze,{latex:()=>this.getDomainVariableLatex(),config:this.const({})})),Mo.createElement(Ir,{readonly:()=>this.controller.isItemReadonly(this.id),latex:()=>this.getMaxLatex(),isFocused:()=>"max"===this.getFocusedInput(),placeholder:()=>__dcg_shared_module_exports__.Na(aV(this.model)).latex,ariaLabel:()=>this.controller.s("graphing-calculator-narration-domain-maximum"),brailleLabel:()=>this.controller.raw("dmax"),handleFocusChanged:e=>this.handleFocusedChanged("max",e),hasError:()=>!lV(this.model),controller:this.props.controller,handlePressedKey:(e,t)=>this.handlePressedKey("max",e,t),handleLatexChanged:e=>this.dispatchMaxLatexIfChanged(e),dataLabelAttributeValue:this.const("domain-max")})))}handlePressedKey(e,t,n){if(!this.controller.isInEditListMode()){if("Esc"===t)return void this.controller.dispatch({type:"set-focus-location",location:void 0});if("Enter"===t)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"})}let r=qe.getFocusedMathquill(),i=ko();"Left"!==t&&"Right"!==t&&"Down"!==t&&"Up"!==t?r&&(r.keystroke(t,n),"min"===e?this.dispatchMinLatexIfChanged(r.latex()):"max"===e&&this.dispatchMaxLatexIfChanged(r.latex())):(r?qe.applyArrowKeyAndReturnIfWasAtBounds(r,t,n):!(!i||!(0===i.selectionStart&&"Left"===t||i.selectionStart===P(i).val().length&&"Right"===t||"Up"===t||"Down"===t)))&&(n&&n.preventDefault(),"Left"===t?"max"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"min"}}):"Right"===t?"min"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"max"}}):"Down"===t?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):"Up"===t&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.model.id}}))}handleFocusedChanged(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"domain-limit",id:this.id,location:e}})}dispatchMinLatexIfChanged(e){if(this.getMinLatex()!==e){let t=this.getDomainType();if("unknown"===t)return void oo("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:dd(this.model,{stripDefaults:!0})}});this.controller.dispatch("polar"===t?{type:"set-polar-domain-minlatex",id:this.id,latex:e}:{type:"set-parametric-domain-minlatex",id:this.id,latex:e})}}dispatchMaxLatexIfChanged(e){if(this.getMaxLatex()!==e){let t=this.getDomainType();if("unknown"===t)return void oo("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:dd(this.model,{stripDefaults:!0})}});this.controller.dispatch("polar"===t?{type:"set-polar-domain-maxlatex",id:this.id,latex:e}:{type:"set-parametric-domain-maxlatex",id:this.id,latex:e})}}getFocusedInput(){let e=this.controller.getFocusLocation();if(e&&"domain-limit"===e.type&&e.id===this.id)return e.location}getMinLatex(){switch(this.getDomainType()){case"parametric":return MV(this.model);case"polar":return kV(this.model);default:return""}}getMaxLatex(){switch(this.getDomainType()){case"parametric":return TV(this.model);case"polar":return IV(this.model);default:return""}}getDomainVariableLatex(){switch(this.getDomainType()){case"parametric":return"\\le t \\le";case"polar":return"\\le \\theta \\le";default:return""}}getDomainType(){return vc(this.model)?"polar":wc(this.model)?"parametric":"unknown"}getMQConfig(){return{autoOperatorNames:Ko({})}}},fe=__dcg_shared_module_exports__.i(ne()),ma=__dcg_shared_module_exports__.i(ne());at();var kt=class extends ma.Class{template(){return ma.createElement("div",{role:ma.const("checkbox"),tabindex:()=>this.props.disabled&&this.props.disabled()?-1:0,"aria-label":()=>{var e,t;return null==(t=(e=this.props).ariaLabel)?void 0:t.call(e)},"aria-labelledby":()=>{var e,t;return null==(t=(e=this.props).labelledBy)?void 0:t.call(e)},"aria-describedby":()=>{var e,t;return null==(t=(e=this.props).describedBy)?void 0:t.call(e)},"aria-disabled":()=>this.props.disabled&&this.props.disabled(),"aria-checked":this.props.checked,manageFocus:()=>{var e,t;return null==(t=(e=this.props).manageFocus)?void 0:t.call(e)},class:()=>({"dcg-component-checkbox":!0,"dcg-checked":this.props.checked(),"dcg-disabled":this.props.disabled&&this.props.disabled(),"dcg-small":this.props.small&&this.props.small(),[void 0===this.props.class?"":this.props.class()]:void 0!==this.props.class}),style:()=>this.props.style?this.props.style():{},onTap:this.bindFn(this.onChange)},ma.createElement("span",{class:ma.const("dcg-checkbox")},ma.createElement("i",{class:ma.const("dcg-icon-check"),"aria-hidden":ma.const("true")})),ma.createElement("span",{class:ma.const("dcg-checkbox-children")},this.children))}onChange(e){e.target&&P(e.target).attr("href")||this.props.disabled&&this.props.disabled()||this.props.onChange(!this.props.checked())}},{If:_a,For:Z4,IfElse:eU}=fe.Components,tm=class extends fe.Class{template(){return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,fe.createElement(_a,{predicate:this.bindFn(this.hasRegression)},(()=>fe.createElement("div",{class:fe.const("dcg-regression-container")},fe.createElement("div",{class:fe.const("dcg-handle-event"),handleEvent:fe.const("true")},fe.createElement(_a,{predicate:this.bindFn(this.getShouldSuggestLogMode)},(()=>fe.createElement("div",{class:fe.const("dcg-log-mode-toggle")},eU((()=>this.areLogModeRegressionsForced()),{true:()=>fe.createElement("div",{class:fe.const("dcg-action-log-mode-toggle dcg-no-hover-styling")},(()=>this.controller.s("graphing-calculator-button-regression-log-mode"))),false:()=>fe.createElement("div",null,fe.createElement(kt,{class:this.const("dcg-action-log-mode-toggle dcg-log-mode-checkbox"),onChange:this.bindFn(this.onTapLogMode),checked:()=>this.getIsLogModeRegression()},(()=>this.controller.s("graphing-calculator-button-regression-log-mode"))),fe.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-regression-log-mode-help-tooltip"),gravity:this.const("e")},fe.createElement("a",{"aria-label":()=>this.controller.s("graphing-calculator-label-regression-log-mode-help-tooltip"),class:fe.const("dcg-log-mode-toggle-help"),target:fe.const("_blank"),href:fe.const("https://help.desmos.com/hc/en-us/articles/204349605")},fe.createElement("i",{class:fe.const("dcg-icon-question-sign"),"aria-hidden":fe.const("true")}))))})))),fe.createElement("div",{class:fe.const("dcg-statistics"),role:fe.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-heading-regression-statistics")},fe.createElement("div",{class:fe.const("dcg-expression-footer-title")},(()=>this.controller.s("graphing-calculator-heading-regression-statistics")),fe.createElement(_a,{predicate:()=>this.getRegression().statistics.hasOwnProperty("RMSE")},(()=>fe.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-regression-what-is-rmse-tooltip"),gravity:this.const("s")},fe.createElement("a",{class:fe.const("dcg-expression-footer-title-help"),target:fe.const("_blank"),href:fe.const("https://help.desmos.com/hc/en-us/articles/202529129-What-is-RMSE-"),"aria-label":()=>this.controller.s("graphing-calculator-label-regression-what-is-rmse-tooltip")},fe.createElement("i",{class:fe.const("dcg-icon-question-sign"),"aria-hidden":fe.const("true")}))))),fe.createElement(_a,{predicate:()=>this.getRegression().statistics.Rsquared<0},(()=>fe.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-regression-why-is-negative-tooltip"),gravity:this.const("s")},fe.createElement("a",{"aria-label":()=>this.controller.s("graphing-calculator-label-regression-why-is-negative-tooltip"),class:fe.const("dcg-expression-footer-title-help"),target:fe.const("_blank"),href:fe.const("https://help.desmos.com/hc/en-us/articles/202529139-Why-am-I-seeing-a-negative-R-2-value-")},fe.createElement("i",{class:fe.const("dcg-icon-question-sign"),"aria-hidden":fe.const("true")})))))),fe.createElement("div",{class:fe.const("dcg-statistics-values")},fe.createElement(_a,{predicate:()=>this.getRegression().statistics.hasOwnProperty("Rsquared")},(()=>fe.createElement("div",null,fe.createElement(Vi,__dcg_shared_module_exports__.b({latex:()=>"R^2="+Wl(this.getRegression(),"Rsquared"),brailleShouldFocus:()=>{let e=this.controller.getFocusLocation();return!(!e||"regression-output"!==e.type)&&"Rsquared"===e.parameter},onBrailleFocusedChanged:e=>{e?this.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:"Rsquared"}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:"Rsquared"}})},ariaLabel:this.const(""),isStatic:this.const(!0)},gn(this.controller)),fe.createElement(ze,{latex:()=>"R^2="+Wl(this.getRegression(),"Rsquared"),config:this.const({})},fe.createElement("span",{tabindex:fe.const("0"),manageFocus:this.const(ut({predicate:()=>"none"===this.controller.getBrailleMode(),controller:this.controller,location:{type:"regression-output",parameter:"Rsquared"}}))})))))),fe.createElement(_a,{predicate:()=>this.getRegression().statistics.hasOwnProperty("rsquared")},(()=>fe.createElement("div",null,fe.createElement(Vi,__dcg_shared_module_exports__.b({latex:()=>"r^2="+Wl(this.getRegression(),"rsquared"),brailleShouldFocus:()=>{let e=this.controller.getFocusLocation();return!(!e||"regression-output"!==e.type)&&"rsquared"===e.parameter},onBrailleFocusedChanged:e=>{e?this.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:"rsquared"}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:"rsquared"}})},ariaLabel:this.const(""),isStatic:this.const(!0)},gn(this.controller)),fe.createElement(ze,{latex:()=>"r^2="+Wl(this.getRegression(),"rsquared"),config:this.const({})},fe.createElement("span",{tabindex:fe.const("0"),manageFocus:this.const(ut({predicate:()=>"none"===this.controller.getBrailleMode(),controller:this.controller,location:{type:"regression-output",parameter:"rsquared"}}))})))))),fe.createElement(_a,{predicate:()=>this.getRegression().statistics.hasOwnProperty("r")},(()=>fe.createElement("div",null,fe.createElement(Vi,__dcg_shared_module_exports__.b({latex:()=>"r="+Wl(this.getRegression(),"r"),brailleShouldFocus:()=>{let e=this.controller.getFocusLocation();return!(!e||"regression-output"!==e.type)&&"r"===e.parameter},onBrailleFocusedChanged:e=>{e?this.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:"r"}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:"r"}})},ariaLabel:this.const(""),isStatic:this.const(!0)},gn(this.controller)),fe.createElement(ze,{latex:()=>"r="+Wl(this.getRegression(),"r"),config:this.const({})},fe.createElement("span",{class:fe.const("dcg-r-value"),tabindex:fe.const("0"),manageFocus:this.const(ut({predicate:()=>"none"===this.controller.getBrailleMode(),controller:this.controller,location:{type:"regression-output",parameter:"r"}}))})))))),fe.createElement(_a,{predicate:()=>this.getRegression().statistics.hasOwnProperty("RMSE")},(()=>fe.createElement("div",null,fe.createElement(Vi,__dcg_shared_module_exports__.b({latex:()=>"\\operatorname{RMSE}="+Wl(this.getRegression(),"RMSE"),brailleShouldFocus:()=>{let e=this.controller.getFocusLocation();return!(!e||"regression-output"!==e.type)&&"RMSE"===e.parameter},onBrailleFocusedChanged:e=>{e?this.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:"RMSE"}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:"RMSE"}})},ariaLabel:this.const(""),isStatic:this.const(!0)},gn(this.controller)),fe.createElement(ze,{latex:()=>"\\operatorname{RMSE}="+Wl(this.getRegression(),"RMSE"),config:this.const({})},fe.createElement("span",{tabindex:fe.const("0"),manageFocus:this.const(ut({predicate:()=>"none"===this.controller.getBrailleMode(),controller:this.controller,location:{type:"regression-output",parameter:"RMSE"}}))})))))))),fe.createElement("div",{role:fe.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-heading-regression-residuals"),class:fe.const("dcg-residuals")},fe.createElement("div",{class:fe.const("dcg-expression-footer-title")},(()=>this.controller.s("graphing-calculator-heading-regression-residuals"))),fe.createElement(Vi,__dcg_shared_module_exports__.b({latex:this.bindFn(this.getResidualVariable),brailleShouldFocus:()=>{let e=this.controller.getFocusLocation();return!(!e||"regression-output"!==e.type)&&e.parameter===this.getResidualVariable()},onBrailleFocusedChanged:e=>{e?this.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:this.getResidualVariable()}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:this.getResidualVariable()}})},ariaLabel:this.const(""),isStatic:this.const(!0)},gn(this.controller)),fe.createElement(ze,{latex:this.bindFn(this.getResidualVariable),config:this.const({})},fe.createElement("span",{class:fe.const("dcg-residuals-variable"),tabindex:fe.const("0"),manageFocus:this.const(ut({predicate:()=>"none"===this.controller.getBrailleMode(),controller:this.controller,location:{type:"regression-output",parameter:this.getResidualVariable()}}))}))),fe.createElement(_a,{predicate:this.bindFn(this.getResidualSuggestionVisible)},(()=>fe.createElement("div",{class:fe.const("dcg-residual-suggestion dcg-action-plot-residual dcg-btn dcg-btn-light-gray"),role:fe.const("button"),onTap:this.bindFn(this.onTapResidualsSuggestion)},(()=>this.controller.s("graphing-calculator-button-regression-plot-residuals")))))),fe.createElement(_a,{predicate:()=>Object.keys(this.getRegression().parameters).length>0},(()=>fe.createElement("div",{class:fe.const("dcg-parameters-container")},fe.createElement("div",{class:fe.const("dcg-expression-footer-title")},(()=>this.controller.s("graphing-calculator-heading-regression-parameters")),fe.createElement(_a,{predicate:()=>this.isNonLinearRegression()},(()=>fe.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-regression-parameters-not-exact"),gravity:this.const("s")},fe.createElement("a",{class:fe.const("dcg-expression-footer-title-help"),target:fe.const("_blank"),href:fe.const("https://help.desmos.com/hc/en-us/articles/360042428612"),"aria-label":()=>this.controller.s("graphing-calculator-label-regression-parameters-not-exact")},fe.createElement("i",{class:fe.const("dcg-icon-question-sign"),"aria-hidden":fe.const("true")})))))),fe.createElement(Z4,{each:()=>Object.keys(this.getRegression().parameters)},fe.createElement("div",{role:fe.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-heading-regression-parameters"),class:fe.const("dcg-parameters")},(e=>fe.createElement(Vi,__dcg_shared_module_exports__.b({latex:()=>e+"="+ok(this.getRegression(),e),brailleShouldFocus:()=>{let t=this.controller.getFocusLocation();return!(!t||"regression-output"!==t.type)&&t.parameter===e},onBrailleFocusedChanged:t=>{t?this.controller.dispatch({type:"set-focus-location",location:{type:"regression-output",parameter:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"regression-output",parameter:e}})},ariaLabel:this.const(""),isStatic:this.const(!0)},gn(this.controller)),fe.createElement(ze,{latex:()=>e+"="+ok(this.getRegression(),e),config:this.const({})},fe.createElement("span",{class:fe.const("dcg-parameter"),tabindex:fe.const("0"),manageFocus:this.const(ut({controller:this.controller,location:{type:"regression-output",parameter:e}}))}))))))))),fe.createElement("div",{class:fe.const("dcg-clear")}),fe.createElement(_a,{predicate:()=>this.hasParameterWarning()},(()=>fe.createElement("div",{class:fe.const("dcg-parameter-warning")},fe.createElement("i",{class:fe.const("dcg-icon-error"),"aria-hidden":fe.const("true")}),fe.const(" "),(()=>this.controller.s("graphing-calculator-text-regression-potentially-inaccurate-parameters")),fe.const(" "),fe.createElement("a",{href:fe.const("https://help.desmos.com/hc/en-us/articles/360042942771"),target:fe.const("_blank")},(()=>this.controller.s("graphing-calculator-link-learn-more"))))))))))}onTapResidualsSuggestion(){this.controller.dispatch({type:"plot-residuals",id:this.id})}onTapLogMode(){this.controller.dispatch({type:"toggle-logmode",id:this.id})}getRegression(){return this.model.formula.regression}hasRegression(){return!!this.model.formula.regression}isNonLinearRegression(){return!this.getRegression().isLinear}getResidualVariable(){return this.getRegression().residualVariable||""}getResidualSuggestionVisible(){return void 0!==this.getRegression().residualSuggestionId}areLogModeRegressionsForced(){return this.controller.areLogModeRegressionsForced()}getShouldSuggestLogMode(){return!!this.getRegression().shouldSuggestLogMode}hasParameterWarning(){return!!this.getRegression().parameterWarning}getIsLogModeRegression(){return!!this.model.isLogModeRegression}};function ok(e,t){return __dcg_shared_module_exports__.Ta(e.parameters[t],{digits:6,smallCutoff:1e-6,bigCutoff:1e9})}function Wl(e,t){return __dcg_shared_module_exports__.Ta(e.statistics[t],{zeroCutoff:1e-15,digits:4,smallCutoff:1e-6,bigCutoff:1e9})}at();var bi=__dcg_shared_module_exports__.i(ne()),Di=__dcg_shared_module_exports__.i(ne());at(),at();var $w=class extends pa{constructor(){super(),this.dragging=!1,this.guid=__dcg_shared_module_exports__.Ka("dragdrop-class")}_evt2pt(e){return{x:e.changedTouches[0].pageX-this._offsetPt.x,y:e.changedTouches[0].pageY-this._offsetPt.y}}_dispatch(e,t){if(this._destroyed)return;let n=this._evt2pt(t);this.triggerEvent(e,{x:n.x,y:n.y,dx:n.x-this._startPt.x,dy:n.y-this._startPt.y,evt:t})}destroy(){P(document).off(`.${this.guid}`),this._destroyed=!0}startDrag(e,t={}){if(!this.dragging)return P(document).on(`dcg-tapmove.${this.guid}`,(e=>{(e.originalEvent||e).preventDefault(),cancelAnimationFrame(this.frameThrottle),this.frameThrottle=requestAnimationFrame((()=>this.doDrag(e)))})),P(document).on(`dcg-tapend.${this.guid} dcg-tapcancel.${this.guid}`,(e=>this.endDrag(e))),this._offsetPt={x:0,y:0},t.origin&&(this._offsetPt={x:this._evt2pt(e).x-t.origin.x,y:this._evt2pt(e).y-t.origin.y}),this._startPt=this._evt2pt(e),this.setProperty("dragging",!0),this._dispatch("onGrab",e)}doDrag(e){this.dragging&&this._dispatch("onDrag",e)}endDrag(e){this.dragging&&(P(document).off(`.${this.guid}`),this.doDrag(e),this.setProperty("dragging",!1),this._dispatch("onDrop",e))}},{If:tU}=Di.Components;function JP(e,t,n){return Math.min(Math.max(e,t),n)}var rm=class extends Di.Class{template(){return Di.createElement("div",{class:()=>({"dcg-slider-interior":!0,"dcg-disable-slider":this.shouldDisableSlider()}),didMount:this.bindFn(this.didMountRoot),onTapStart:this.bindFn(this.onStartDrag),style:Di.const({"touch-action":"none"})},Di.createElement("div",{class:Di.const("dcg-track")},Di.createElement("div",{class:Di.const("dcg-ticks"),onMount:this.bindFn(this.didMountTickMarks)}),Di.createElement("div",{class:Di.const("dcg-graphic")})),Di.createElement(tU,{predicate:this.bindFn(this.shouldShowZeroMarker)},(()=>Di.createElement("div",{class:Di.const("dcg-zeroMarker"),style:()=>({left:this.getZeroMarkerPercent()+"%"})}))),Di.createElement("div",{class:()=>({"dcg-thumb":!0,"dcg-down":this.isDragging}),role:Di.const("slider"),tabindex:Di.const("0"),disablescroll:Di.const("true"),style:()=>({left:this.getThumbPercent()+"%"}),onKeyDown:this.bindFn(this.onKeyDown),"aria-label":this.props.ariaLabel,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":this.props.value,manageFocus:this.buildFocusManager()},Di.createElement("div",{class:Di.const("dcg-graphic")}),Di.createElement("div",{class:Di.const("dcg-center")})))}willUnmount(){this.dragDrop.destroy()}didMountRoot(e){this.rootNode=e,this.dragDrop=new $w,this.isMounted=!0,this.dragDrop.observeEvent("onDrop",(()=>{this.isDragging=!1,this.update(),this.props.onDrop&&this.props.onDrop()})),this.dragDrop.observeEvent("onGrab",(()=>{this.isDragging=!0,this.update(),this.props.onGrab&&this.props.onGrab()})),this.dragDrop.observeEvent("onDrag",((e,t)=>{this.props.onDragUpdate(this.valueFromPixels(t.x))}))}didMountTickMarks(e){this.tickMarksNode=e,this.renderTickMarks()}didUpdate(){this.renderTickMarks()}shouldDisableSlider(){return this.props.min()===this.props.max()}renderTickMarks(){if(this.tickMarksNode){var e,t=this.props.step(),n=this.props.min(),r=this.props.max();if((e=void 0===t?0:100*t/(r-n))<3&&(e=0),e>100&&(e=0),isNaN(e)&&(e=0),this.lastTickMarksPercent!==e){this.lastTickMarksPercent=e;var i="";if(e>0&&e<100)for(var o=e;o<100;o+=e)i+='<div class="dcg-tick" style="left:'+o+'%"></div>';this.tickMarksNode.innerHTML=i}}}shouldShowZeroMarker(){return this.props.min()<=0&&this.props.max()>=0}getZeroMarkerPercent(){var e=this.props.min();return 100*(0-e)/(this.props.max()-e)}getThumbPercent(){return 100*this.percentFromValue(this.props.value())}valueFromPixels(e){if(!this.isMounted)return 0;let t=this.props.min(),n=this.props.max(),r=this.rootNode.getBoundingClientRect().width,i=t+(n-t)*JP(e/r,0,1),o=(n-t)/r;return mi(i-o,i+o)}percentFromValue(e){let t=this.props.min();return JP((e-t)/(this.props.max()-t),0,1)}pixelsFromValue(e){if(!this.isMounted)return 0;let t=this.percentFromValue(e);return this.rootNode.getBoundingClientRect().width*t}onKeyDown(e){switch(Le(e)){case Fn:this.props.onUpPress&&(this.props.onUpPress(),e.preventDefault());break;case Yn:this.props.onDownPress&&(this.props.onDownPress(),e.preventDefault());break;case il:this.props.onEnterPress&&(this.props.onEnterPress(),e.preventDefault());break;case co:document.activeElement&&P(document.activeElement).trigger("blur");break;case kc:this.props.onKeyboardUpdate("down"),e.preventDefault();break;case Ic:this.props.onKeyboardUpdate("up"),e.preventDefault();break;case pp:this.props.onKeyboardUpdate("bigdown"),e.preventDefault();break;case up:this.props.onKeyboardUpdate("bigup"),e.preventDefault();break;case gp:this.props.onKeyboardUpdate("min"),e.preventDefault();break;case hp:this.props.onKeyboardUpdate("max"),e.preventDefault()}}onStartDrag(e){if("keyboard"===e.device||!e.target)return;e.preventDefault(),Ur();let t={x:0,y:0};1===P(e.target).closest(".dcg-thumb").length?t.x=this.pixelsFromValue(this.props.value()):t.x=e.changedTouches[0].clientX-this.rootNode.getBoundingClientRect().left,this.dragDrop.startDrag(e,{origin:t})}buildFocusManager(){return this.props.onFocusedChanged&&this.props.isFocused?this.const({shouldBeFocused:this.props.isFocused,onFocusedChanged:this.props.onFocusedChanged}):this.const(void 0)}};at();var Pi=__dcg_shared_module_exports__.i(ne()),{If:rU}=Pi.Components,im=class extends Pi.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return Pi.createElement("div",{class:Pi.const("dcg-slider_menu dcg-do-blur"),handleEvent:Pi.const("true"),didMount:e=>this.node=e},Pi.createElement("div",{class:Pi.const("dcg-editable-mathquill-container")},Pi.createElement(rU,{predicate:()=>!this.shouldOnlyShowStep()},(()=>Pi.createElement("span",null,Pi.createElement(Ir,{readonly:()=>this.controller.isItemReadonly(this.id),latex:()=>this.model.slider.hardMin?this.model.slider.min:"",isFocused:()=>"min"===this.getFocusedInput(),ariaLabel:()=>this.controller.s("graphing-calculator-narration-slider-minimum"),brailleLabel:()=>this.controller.raw("sldrmin"),handleFocusChanged:(e,t)=>this.handleFocusedChanged("min",e,t),hasError:()=>!ix(this.model),controller:this.props.controller,handlePressedKey:(e,t)=>this.handlePressedKey("min",e,t),handleLatexChanged:e=>this.handleLatexChanged("min",e),dataLabelAttributeValue:this.const("slidermin")}),Pi.createElement("span",{class:Pi.const("dcg-interval-interior")},Pi.createElement(ze,{latex:this.bindFn(this.getDependentLatex),config:this.const({})},Pi.createElement("span",null))),Pi.createElement(Ir,{readonly:()=>this.controller.isItemReadonly(this.id),latex:()=>this.model.slider.hardMax?this.model.slider.max:"",isFocused:()=>"max"===this.getFocusedInput(),ariaLabel:()=>this.controller.s("graphing-calculator-narration-slider-maximum"),brailleLabel:()=>this.controller.raw("sldrmax"),handleFocusChanged:(e,t)=>this.handleFocusedChanged("max",e,t),hasError:()=>!nx(this.model),controller:this.props.controller,handlePressedKey:(e,t)=>this.handlePressedKey("max",e,t),handleLatexChanged:e=>this.handleLatexChanged("max",e),dataLabelAttributeValue:this.const("slidermax")})))),Pi.createElement("span",{class:()=>({"dcg-slider-step-container":!this.shouldOnlyShowStep()})},Pi.createElement("span",{class:Pi.const("dcg-slider-step-label"),"aria-hidden":Pi.const("true")},(()=>this.controller.s("graphing-calculator-label-slider-step"))),Pi.createElement(Ir,{readonly:()=>this.controller.isItemReadonly(this.id),latex:()=>this.model.slider.step,isFocused:()=>"step"===this.getFocusedInput(),ariaLabel:()=>this.controller.s("graphing-calculator-narration-slider-step"),brailleLabel:()=>this.controller.raw("sldrstep"),handleFocusChanged:(e,t)=>this.handleFocusedChanged("step",e,t),hasError:()=>!ox(this.model),controller:this.props.controller,handlePressedKey:(e,t)=>this.handlePressedKey("step",e,t),handleLatexChanged:e=>this.handleLatexChanged("step",e),dataLabelAttributeValue:this.const("sliderstep")}))))}handlePressedKey(e,t,n){if(!(this.controller.isInEditListMode()||this.shouldOnlyShowStep()||"Esc"!==t&&"Enter"!==t))return void this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.id}});let r=qe.getFocusedMathquill(),i=ko();"Left"!==t&&"Right"!==t&&"Down"!==t&&"Up"!==t?r&&(r.keystroke(t,n),this.handleLatexChanged(e,r.latex())):(r?qe.applyArrowKeyAndReturnIfWasAtBounds(r,t,n):!(!i||!(0===i.selectionStart&&"Left"===t||i.selectionStart===P(i).val().length&&"Right"===t||"Up"===t||"Down"===t)))&&(n&&n.preventDefault(),"Left"!==t||this.shouldOnlyShowStep()?"Right"!==t||this.shouldOnlyShowStep()?"Down"===t?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):"Up"===t&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}):"min"===e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:"max"}}):"max"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:"step"}}):"max"===e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:"min"}}):"step"===e&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:"max"}}))}shouldOnlyShowStep(){return"PLAY_INDEFINITELY"===this.model.slider.loopMode}handleLatexChanged(e,t){"min"===e?this.dispatchMinLatexIfChanged(t):"max"===e?this.dispatchMaxLatexIfChanged(t):"step"===e&&this.dispatchStepLatexIfChanged(t)}handleFocusedChanged(e,t,n){t&&this.getFocusedInput()!==e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:e}}):this.getFocusedInput()===e&&"none"===this.controller.getBrailleMode()&&(!n.relatedTarget||!this.node.contains(n.relatedTarget))&&this.controller.dispatch({type:"blur-focus-location",location:{type:"slider-limit",id:this.id,location:e}})}dispatchMinLatexIfChanged(e){this.model.slider.min!==e&&this.controller.dispatch({type:"set-slider-minlatex",id:this.id,latex:e})}dispatchMaxLatexIfChanged(e){this.model.slider.max!==e&&this.controller.dispatch({type:"set-slider-maxlatex",id:this.id,latex:e})}dispatchStepLatexIfChanged(e){this.model.slider.step!==e&&this.controller.dispatch({type:"set-slider-steplatex",id:this.id,latex:e})}getDependentLatex(){var e=kn(this.model)||"";return" \\le "+__dcg_shared_module_exports__.Ua(e)+" \\le "}getFocusedInput(){let e=this.controller.getFocusLocation();if(e&&"slider-limit"===e.type&&e.id===this.id)return e.location}getMQConfig(){return{autoOperatorNames:Ko()}}},{If:XP}=bi.Components,nm=class extends bi.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return bi.createElement("span",{class:bi.const("dcg-slider-container"),tapboundary:bi.const("true"),onKeydown:e=>{"Tab"===Le(e)&&!e.altKey&&!e.metaKey&&!e.ctrlKey&&(e.shiftKey?this.isSliderMinFocused()&&this.controller.isInEditListMode()?(null!==e.target&&P(e.target).closest(".dcg-expressionitem").find('[tabindex="0"]:visible:first').trigger("focus"),e.preventDefault(),e.stopPropagation()):this.isSliderThumbFocused()&&(this.controller.isItemReadonly(this.model.id)||(this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:"step"}}),e.preventDefault(),e.stopPropagation())):!e.shiftKey&&this.isSliderStepFocused()&&(this.controller.isInEditListMode()?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-icon",id:this.id}}):this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.id}}),e.preventDefault(),e.stopPropagation()))}},bi.createElement(XP,{predicate:this.bindFn(this.shouldShowSlider)},(()=>bi.createElement("div",{class:bi.const("dcg-do-blur dcg-slider"),handleEvent:bi.const("true")},bi.createElement("div",{class:bi.const("dcg-minLabel dcg-template-minlabelhtml"),role:bi.const("button"),tabindex:bi.const("0"),"aria-label":this.bindFn(this.getMinAriaLabel),onTap:()=>this.onEditLimit("min")},bi.createElement(ze,{latex:()=>rx(this.model),config:this.const({})})),bi.createElement(rm,{min:()=>la(this.model),max:()=>is(this.model),step:()=>Ga(this.model),value:()=>ca(this.model),ariaLabel:()=>"none"===this.controller.getBrailleMode()?'"'+kn(this.model)+'"':""+kn(this.model),onGrab:this.bindFn(this.onGrab),onDrop:this.bindFn(this.onDrop),onDragUpdate:this.bindFn(this.onDragUpdate),onKeyboardUpdate:this.bindFn(this.onKeyboardUpdate),onUpPress:()=>this.controller.dispatch({type:"on-special-key-pressed",key:"Up"}),onDownPress:()=>this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}),onEnterPress:()=>this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"}),isFocused:this.bindFn(this.isSliderThumbFocused),onFocusedChanged:e=>{e?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"slider-thumb",id:this.id}})}}),bi.createElement("div",{class:bi.const("dcg-maxLabel dcg-template-maxlabelhtml"),onTap:()=>this.onEditLimit("max"),role:bi.const("button"),tabindex:bi.const("0"),"aria-label":()=>this.controller.s("graphing-calculator-narration-slider-maximum")+" "+uo(rx(this.model))},bi.createElement(ze,{latex:()=>ZA(this.model),config:this.const({})}))))),bi.createElement(XP,{predicate:this.bindFn(this.shouldShowLimitInputs)},(()=>bi.createElement(im,{model:this.props.model,controller:this.props.controller}))))}getMinAriaLabel(){return this.controller.isItemReadonly(this.model.id)?this.controller.s("graphing-calculator-narration-slider-minimum")+" "+uo(rx(this.model)):this.controller.s("graphing-calculator-narration-edit-slider-variable-limits",{variable:"none"===this.controller.getBrailleMode()?'"'+kn(this.model)+'"':""+kn(this.model)})}onGrab(){this.dispatchIsDraggingIfChanged(!0)}onDrop(){this.controller.dispatch({type:"set-none-selected"}),this.dispatchIsPlayingIfChanged(!1),this.dispatchIsDraggingIfChanged(!1)}onKeyboardUpdate(e){this.controller.dispatch({type:"adjust-slider-by-keyboard",id:this.id,adjustment:e})}onDragUpdate(e){this.controller.dispatch({type:"adjust-slider-by-dragging-thumb",id:this.model.id,target:e})}onEditLimit(e){this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:e}})}dispatchIsPlayingIfChanged(e){this.model.slider.isPlaying!==e&&this.controller.dispatch({type:"set-slider-isplaying",id:this.id,isPlaying:e})}dispatchIsDraggingIfChanged(e){this.model.sliderDragging!==e&&this.controller.dispatch({type:"set-slider-dragging",id:this.id,dragging:e})}shouldShowLimitInputs(){if(this.controller.isInEditListMode())return!0;if(this.controller.isItemReadonly(this.model.id))return!1;if(!ix(this.model)||!nx(this.model)||!ox(this.model)||"PLAY_INDEFINITELY"===this.model.slider.loopMode)return!0;let e=this.controller.getFocusLocation();return!(!e||"slider-limit"!==e.type&&"expression"!==e.type&&"top-level-icon"!==e.type&&"readonly-expression"!==e.type||e.id!==this.id)}shouldShowSlider(){return!this.shouldShowLimitInputs()}isSliderThumbFocused(){let e=this.controller.getFocusLocation();return!(!e||"slider-thumb"!==e.type||e.id!==this.id)}isSliderMinFocused(){let e=this.controller.getFocusLocation();return!(!e||"slider-limit"!==e.type||e.id!==this.id||"min"!==e.location)}isSliderStepFocused(){let e=this.controller.getFocusLocation();return!(!e||"slider-limit"!==e.type||e.id!==this.id||"step"!==e.location)}};at();var si=__dcg_shared_module_exports__.i(ne()),{For:iU,If:nU}=si.Components,ws=class extends si.Class{init(){this.controller=this.props.controller(),this.model=this.props.model()}template(){return si.createElement("div",{class:si.const("dcg-create-sliders dcg-action-createslider"),handleEvent:si.const("true"),onTap:this.bindFn(this.onCreateSlider)},si.createElement("span",{class:si.const("dcg-msg")},(()=>this.controller.s("graphing-calculator-label-add-slider"))),si.createElement("span",{class:si.const("btns")},si.createElement(iU,{each:()=>this.getMissingVariables().slice(0,4)},si.createElement("span",null,(e=>si.createElement("div",{class:si.const("dcg-slider-btn-container"),var_name:this.const(e)},si.createElement("div",{role:si.const("button"),tabindex:si.const("0"),class:()=>({"dcg-btn-slider":!0,"dcg-btn-blue":1===this.getMissingVariables().length,"dcg-btn-light-gray":1!==this.getMissingVariables().length}),didMount:t=>{t.innerHTML=__dcg_shared_module_exports__.Va(e)}}))))),si.createElement(nU,{predicate:()=>this.getMissingVariables().length>1},(()=>si.createElement("div",{class:si.const("dcg-slider-btn-container dcg-all")},si.createElement("div",{role:si.const("button"),tabindex:si.const("0"),class:si.const("dcg-btn-slider dcg-btn-blue")},(()=>this.controller.s("graphing-calculator-button-slider-add-all-variables"))))))))}onCreateSlider(e){if(this.controller.dispatch({type:"set-none-selected"}),!e.target)return;var t=P(e.target).closest(".dcg-slider-btn-container");if(!t.length)return;let n=t.hasClass("dcg-all"),r=n?this.getMissingVariables():[t.attr("var_name")];if("ticker"===this.model.type?this.controller.dispatch({type:"create-sliders-for-ticker",variables:this.getMissingVariables()}):this.controller.dispatch({type:"create-sliders-for-item",id:this.model.id,variables:r}),"keyboard"===e.device){let e=this.model.id,t=this.props.controller().getItemSelectorById(e);if(!t)return;n?this.controller.dispatch({type:"move-focus-to-item",id:e}):t.find(".dcg-btn-blue").trigger("focus")}}getMissingVariables(){return"ticker"===this.model.type?ig(this.model):cg(this.model)}didMount(){this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout),this.promptAlertTimeout=setTimeout((()=>{for(var e=[],t=this.getMissingVariables(),n=0;n<t.length;n++)e.push('"'+t[n]+'"');ge(this.controller.s("graphing-calculator-narration-add-slider-prompt",{vars:e.join(",")})),this.promptAlertTimeout=0}),2e3)}didUnmount(){this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout)}},fo=__dcg_shared_module_exports__.i(ne()),om=class extends fo.Class{template(){return fo.createElement("div",{class:fo.const("dcg-prompt-rename"),handleEvent:fo.const("true")},(()=>Fg("graphing-calculator-label-rename")),fo.createElement("span",{class:fo.const("dcg-btn-light-gray"),onTap:this.props.handleRename,tabindex:fo.const(0),role:fo.const("button")},fo.createElement(ze,{latex:()=>this.props.from()+" \\to "+this.props.to(),config:this.const({})},fo.createElement("span",{style:fo.const("pointer-events:none")}))),fo.createElement("span",{class:fo.const("dcg-reference-count")},(()=>Fg("graphing-calculator-label-reference-count",{count:new zo(this.props.count())}))))}},Yo=__dcg_shared_module_exports__.i(ne()),Bn=__dcg_shared_module_exports__.i(ne()),{For:oU,If:aU}=Bn.Components,Oi=class extends Bn.Class{init(){this.config=this.props.staticConfig()}template(){return Bn.createElement(oU,{each:()=>this.config,key:e=>e.key},Bn.createElement("div",{class:Bn.const("dcg-segmented-control-container"),role:Bn.const("group"),"aria-label":this.props.ariaGroupLabel},(e=>Bn.createElement("div",{class:()=>({"dcg-segmented-control-btn":!0,"dcg-selected":e.selected(),"dcg-theme-mini":"mini"===this.getTheme(),"dcg-theme-default":"default"===this.getTheme(),"dcg-disabled":this.isDisabled(),[e.class?e.class():""]:!!e.class}),role:Bn.const("button"),tabindex:Bn.const(0),"aria-label":()=>this.getAriaLabel(e),style:()=>({"min-width":this.props.minButtonWidth?this.props.minButtonWidth()+"px":void 0}),"aria-pressed":()=>e.selected(),onTap:()=>{this.isDisabled()||e.onSelect()},manageFocus:()=>{if(e.focusHelperOptions)return ut(e.focusHelperOptions)}},Bn.createElement(Ue,{tooltip:()=>e.tooltip?e.tooltip():"",gravity:()=>e.tooltipGravity?e.tooltipGravity():"s",disabled:()=>!(e.tooltip&&e.tooltip())},Bn.createElement("div",{class:Bn.const("dcg-segmented-control-interior")},(()=>e.label?e.label():""),Bn.createElement(aU,{predicate:()=>!!e.icon},(()=>Bn.createElement("i",{class:()=>e.icon?e.icon():""})))))))))}getAriaLabel(e){return e.ariaLabel?e.ariaLabel():e.label?e.label():e.tooltip?e.tooltip():""}isDisabled(){return this.props.disabled&&this.props.disabled()}getTheme(){return this.props.theme?this.props.theme():"default"}},{Input:sU,IfElse:lU}=Yo.Components,Ad=class extends Yo.Class{template(){return this.controller=this.props.controller(),Yo.createElement("div",{class:()=>({"dcg-label-visible":this.getShowLabel(),"dcg-label-container":!0,"dcg-do-blur":!0}),tapboundary:Yo.const("true"),handleEvent:Yo.const("true")},Yo.createElement(kt,{onChange:this.bindFn(this.onCheckboxInput),checked:this.bindFn(this.getShowLabel)},(()=>this.controller.s("graphing-calculator-button-label")+(this.getIsDisabled()?"":":"))),lU(this.bindFn(this.hasEditableLabel),{true:()=>Yo.createElement("div",{class:Yo.const("dcg-editable-mode-toggle")},Yo.createElement(Oi,{theme:this.const("mini"),staticConfig:this.bindFn(this.getEditableLabelOptions),ariaGroupLabel:()=>this.controller.s("graphing-calculator-narration-editable-label-mode")})),false:()=>Yo.createElement(sU,{class:()=>({"dcg-label-input":!0,"dcg-disabled-input":this.getIsDisabled(),"dcg-disabled-editable-input":this.hasEditableLabel(),"dcg-readonly":this.getIsReadonly()}),disabled:this.bindFn(this.getIsReadonly),"aria-label":()=>this.controller.s("graphing-calculator-narration-label-text"),"aria-disabled":()=>this.getIsDisabled()||this.hasEditableLabel()||this.getIsReadonly(),value:this.bindFn(this.getLabel),onInput:this.bindFn(this.onLabelInput)})}))}getEditableLabelOptions(){return[{key:"math",label:()=>this.controller.s("graphing-calculator-button-editable-math"),selected:()=>"MATH"===this.model().editableLabelMode,onSelect:()=>this.setEditableLabelMode("MATH")},{key:"text",label:()=>this.controller.s("graphing-calculator-button-editable-text"),selected:()=>"TEXT"===this.model().editableLabelMode,onSelect:()=>this.setEditableLabelMode("TEXT")}]}setEditableLabelMode(e){this.controller.dispatch({type:"set-item-editable-label-mode",id:this.id(),editableLabelMode:e})}getIsReadonly(){return this.controller.isItemReadonly(this.model().id)}model(){return this.props.model()}id(){return this.model().id}getLabel(){return this.model().label||""}hasEditableLabel(){return Wu(this.model())}getShowLabel(){return!!this.model().showLabel}getIsDisabled(){return 0===this.getLabel().length&&!this.getShowLabel()}onLabelInput(e){var t=e;this.controller.dispatch({type:"set-item-label",id:this.id(),label:t}),this.controller.dispatch({type:"set-item-showlabel",id:this.id(),showLabel:!!t})}onCheckboxInput(){this.props.useSmartPointLabeling&&this.props.useSmartPointLabeling()?this.controller.dispatch({type:"toggle-label-for-all-selected-points"}):this.controller.dispatch({type:"set-item-showlabel",id:this.id(),showLabel:!this.getShowLabel()})}},ya=__dcg_shared_module_exports__.i(ne()),qi=__dcg_shared_module_exports__.i(ne()),{If:QP}=qi.Components,am=class extends qi.Class{constructor(){super(...arguments),this.focusedValues={}}template(){return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,qi.createElement("div",{class:qi.const("dcg-cdf-footer-container dcg-do-blur"),tapboundary:qi.const("true"),handleEvent:qi.const("true")},qi.createElement(kt,{checked:()=>Al(this.model),disabled:()=>uE(this.model)||this.controller.isItemReadonly(this.model.id),onChange:e=>{this.controller.dispatch({type:"set-show-cdf",id:this.model.id,showCDF:e})}},(()=>this.controller.s("graphing-calculator-button-find-cdf"))),qi.createElement(QP,{predicate:()=>Al(this.model)},(()=>qi.createElement("div",null,qi.createElement("span",{class:qi.const("dcg-cdf-limit-name")},(()=>this.controller.s("graphing-calculator-label-cdf-minimum"))),qi.createElement(Ir,{handleFocusChanged:e=>this.handleFocusedChanged("min",e),latex:()=>hx(this.model),hasError:()=>!fx(this.model),isFocused:()=>this.isInputFocused("min"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-cdf-minimum"),placeholder:()=>OV(this.model),handlePressedKey:(e,t)=>this.handlePressedKey(e,t,"min"),controller:this.props.controller,handleLatexChanged:this.bindFn(this.updateCDFMin),readonly:()=>this.controller.isItemReadonly(this.model.id)}),qi.createElement("span",{class:qi.const("dcg-cdf-limit-name")},(()=>this.controller.s("graphing-calculator-label-cdf-maximum"))),qi.createElement(Ir,{handleFocusChanged:e=>this.handleFocusedChanged("max",e),latex:()=>gx(this.model),hasError:()=>!mx(this.model),isFocused:()=>this.isInputFocused("max"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-cdf-maximum"),placeholder:()=>_V(this.model),handlePressedKey:(e,t)=>this.handlePressedKey(e,t,"max"),controller:this.props.controller,handleLatexChanged:this.bindFn(this.updateCDFMax),readonly:()=>this.controller.isItemReadonly(this.model.id)}),qi.createElement(QP,{predicate:this.bindFn(this.showEvaluation)},(()=>qi.createElement("div",{class:qi.const("dcg-cdf-evaluation-container")},qi.createElement(Gd,{val:()=>fE(this.model),controller:this.props.controller,dependent:this.const(""),id:()=>this.model.id,focusable:this.const(!0)}))))))))}handlePressedKey(e,t,n){if("Esc"!==e){if("Enter"===e)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var r=qe.getFocusedMathquill();r&&(r.keystroke(e,t),"min"===n&&hx(this.model)!==r.latex()&&this.updateCDFMin(r.latex()),"max"===n&&gx(this.model)!==r.latex()&&this.updateCDFMax(r.latex()))}else this.controller.dispatch({type:"set-focus-location",location:void 0})}updateCDFMax(e){this.controller.dispatch({type:"set-cdf-max",id:this.model.id,latex:e})}updateCDFMin(e){this.controller.dispatch({type:"set-cdf-min",id:this.model.id,latex:e})}showEvaluation(){return!(!mx(this.model)||!fx(this.model))}isInputFocused(e){let t=this.controller.getFocusLocation();return!(!t||"cdf-limit"!==t.type||t.id!==this.id)&&t.location===e}handleFocusedChanged(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"cdf-limit",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"cdf-limit",id:this.id,location:e}})}},An=__dcg_shared_module_exports__.i(ne()),{If:cU,For:ZP,SwitchUnion:dU}=An.Components,Np=class extends An.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return dU(this.bindFn(this.getSuggestionType),{list:()=>An.createElement(ZP,{each:this.bindFn(this.getListOfParameters)},An.createElement("div",{class:()=>({"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":"none"!==this.controller.getBrailleMode()})},(e=>An.createElement("span",{class:An.const("dcg-parameter-name")},(()=>this.getParamName(e)))))),listWithDefault:()=>An.createElement(ZP,{each:this.bindFn(this.getListOfParameters)},An.createElement("div",{class:()=>({"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":"none"!==this.controller.getBrailleMode()}),onTap:this.bindFn(this.fillInDefaults)},(e=>An.createElement("span",{class:An.const("dcg-parameter-name")},(()=>this.getParamName(e)),An.createElement(cU,{predicate:()=>this.shouldShowDefaultValue(e)},(()=>An.createElement("span",{class:An.const("dcg-default-marker")},An.const("= "),(()=>this.getDefaultValue(e))))))))),individual:()=>An.createElement("div",{class:()=>({"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":"none"!==this.controller.getBrailleMode()})},this.bindFn(this.getMissingRequiredParamText)),none:()=>{}})}getExtractedAndDefaultArgString(e){let{params:t,values:n,defaults:r}=e;return t.map(((e,t)=>{let i=n[e],o=r[t];return i||o||""})).join(",")}fillInDefaults(){let e=da(this.model);if(!e)return;let{symbol:t,span:n}=e,{input:r,start:i,end:o}=n,a=`\\operatorname{${t}}\\left(${this.getExtractedAndDefaultArgString(e)}\\right)`,s=`${r.slice(0,i)}${a}${r.slice(o)}`;this.controller.dispatch({type:"set-item-latex",id:this.id,latex:s}),this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}),this.controller.dispatch({type:"keypad/press-key",key:"Left"})}isMissingDefault(){if(!Vg(this.model))return!1;let e=da(this.model);if(!e)return!1;for(var t=0;t<e.params.length;t++)if(this.shouldShowDefaultValue(e.params[t]))return!0;return!1}getSuggestionType(){return this.getListOfParameters().length>1?this.isMissingDefault()?"listWithDefault":"list":this.missingRequiredParam()?"individual":"none"}missingRequiredParam(){let e=da(this.model);if(e&&1===e.params.length){var t=e.params[0];if(!this.getDefaultValue(t)&&!this.getParameterExtractedValue(t))return t}}getMissingRequiredParamText(){var e=this.missingRequiredParam();return e?this.controller.s("graphing-calculator-text-enter-pareneter",{param:this.getParamName(e)}):""}getDefaultValue(e){let t=da(this.model);if(!t||!t.params)return"";for(let n=0;n<t.params.length;n++)if(t.params[n]===e)return t.defaults[n]||"";return""}getParameterExtractedValue(e){let t=da(this.model);return t&&t.values[e]||""}shouldShowDefaultValue(e){return!this.getParameterExtractedValue(e)&&!!this.getDefaultValue(e)}getListOfParameters(){let e=da(this.model);return e?e.params:[]}getParamName(e){switch(e){case"mean":return this.controller.s("graphing-calculator-text-parameter-name-mean");case"stdev":return this.controller.s("graphing-calculator-text-parameter-name-stddev");case"dof":return this.controller.s("graphing-calculator-text-parameter-name-dof");case"probsuccess":return this.controller.s("graphing-calculator-text-parameter-name-probsuccess");case"trials":return this.controller.s("graphing-calculator-text-parameter-name-trials");case"data":return this.controller.s("graphing-calculator-text-parameter-name-data");case"binwidth":return this.controller.s("graphing-calculator-text-parameter-name-binwidth");case"min":return this.controller.s("graphing-calculator-text-parameter-name-min");case"max":return this.controller.s("graphing-calculator-text-parameter-name-max");case"height":return this.controller.s("graphing-calculator-text-parameter-name-height");case"offset":return this.controller.s("graphing-calculator-text-parameter-name-offset");default:return e}}},{If:uU}=ya.Components,sm=class extends ya.Class{template(){return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,ya.createElement("div",{class:ya.const("dcg-distribution-parameters-container dcg-do-blur"),tapboundary:ya.const("true"),handleEvent:ya.const("true")},ya.createElement(Np,{model:this.props.model,controller:this.props.controller}),ya.createElement(uU,{predicate:()=>dE(this.model)},(()=>ya.createElement(am,{model:this.props.model,controller:this.props.controller}))))}},Vt=__dcg_shared_module_exports__.i(ne()),{SwitchUnion:pU,If:eO}=Vt.Components,Bp=class extends Vt.Class{template(){return Vt.createElement("div",{class:Vt.const("dcg-toggle-container")},Vt.createElement("div",{class:Vt.const("dcg-expression-footer-title")},this.props.title,Vt.createElement(eO,{predicate:()=>!!this.props.helpLink},(()=>Vt.createElement("a",{"aria-label":()=>this.props.controller().s("account-shell-link-help"),class:Vt.const("dcg-expression-footer-title-help"),target:Vt.const("_blank"),href:this.props.helpLink},Vt.createElement("i",{class:Vt.const("dcg-icon-question-sign"),"aria-hidden":Vt.const("true")}))))),Vt.createElement(Oi,{staticConfig:this.bindFn(this.getSegmentedControlOptions),ariaGroupLabel:this.props.title,disabled:this.bindFn(this.isReadonly),theme:this.const("mini"),minButtonWidth:this.const(65)}))}isReadonly(){return this.props.controller().isItemReadonly(this.props.model().id)}getSegmentedControlOptions(){return this.props.options().map((e=>({key:e.name,label:()=>e.displayName,selected:()=>this.isSelected(e.name),onSelect:()=>{this.props.controller().dispatch({type:"set-visualization-prop",id:this.props.model().id,prop:this.props.vizProp(),value:e.name})}})))}isSelected(e){return Tl(this.props.model(),this.props.vizProp())===e}},lm=class extends Vt.Class{template(){return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,Vt.createElement("div",{class:Vt.const("dcg-visualization-parameters-container dcg-do-blur"),tapboundary:Vt.const("true"),handleEvent:Vt.const("true")},Vt.createElement(Np,__dcg_shared_module_exports__.b({},this.props)),Vt.createElement("div",{class:Vt.const("dcg-smaller-font")},pU((()=>this.getVisualizationType()),{boxplot:()=>Vt.createElement("div",null,Vt.createElement("div",{class:Vt.const("dcg-expression-footer-title")},(()=>this.controller.s("graphing-calculator-heading-visual-parameters-display-properties"))),this.makeMQInput({prop:"axisOffset",siblingProps:["breadth"],default:"1",name:()=>this.controller.s("graphing-calculator-narration-visual-parameters-offset")}),this.makeMQInput({prop:"breadth",siblingProps:["axisOffset"],default:"1",name:()=>"y"===Tl(this.model,"alignedAxis")?this.controller.s("graphing-calculator-narration-visual-parameters-width"):this.controller.s("graphing-calculator-narration-visual-parameters-height")}),Vt.createElement(kt,{checked:()=>!!Tl(this.model,"showBoxplotOutliers"),disabled:()=>this.controller.isItemReadonly(this.model.id),onChange:this.bindFn(this.onToggleOutliers)},Vt.createElement("span",{class:Vt.const("dcg-parameter-name")},(()=>this.controller.s("graphing-calculator-button-visual-parameters-exclude-outliers"))))),dotplot:()=>Vt.createElement(eO,{predicate:()=>nV(this.model)},(()=>Vt.createElement("div",{class:Vt.const("dcg-toggles-container")},Vt.createElement(Bp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{vizProp:()=>"dotplotXMode",options:()=>[{name:"exact",displayName:this.controller.s("graphing-calculator-button-visual-parameters-exact")},{name:"bin",displayName:this.controller.s("graphing-calculator-button-visual-parameters-binned")}],title:()=>this.controller.s("graphing-calculator-heading-visual-parameters-x-values")})),Vt.createElement(Bp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{vizProp:()=>"binAlignment",options:()=>[{name:"center",displayName:this.controller.s("graphing-calculator-button-visual-parameters-center")},{name:"left",displayName:this.controller.s("graphing-calculator-button-visual-parameters-left")}],title:()=>this.controller.s("graphing-calculator-heading-visual-parameters-bin-alignment")}))))),histogram:()=>Vt.createElement("div",{class:Vt.const("dcg-toggles-container")},Vt.createElement(Bp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{vizProp:()=>"histogramMode",options:()=>[{name:"",displayName:this.controller.s("graphing-calculator-button-visual-parameters-count")},{name:"relative",displayName:this.controller.s("graphing-calculator-button-visual-parameters-relative")},{name:"density",displayName:this.controller.s("graphing-calculator-button-visual-parameters-density")}],title:()=>this.controller.s("graphing-calculator-heading-visual-parameters-bar-heights"),helpLink:this.const("https://help.desmos.com/hc/en-us/articles/360022405991")})),Vt.createElement(Bp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{vizProp:()=>"binAlignment",options:()=>[{name:"center",displayName:this.controller.s("graphing-calculator-button-visual-parameters-center")},{name:"left",displayName:this.controller.s("graphing-calculator-button-visual-parameters-left")}],title:()=>this.controller.s("graphing-calculator-heading-visual-parameters-bin-alignment")}))),none:()=>Vt.createElement("span",null)})))}makeMQInput(e){return Vt.createElement("span",null,Vt.createElement("span",{class:Vt.const("dcg-parameter-name")},e.name,Vt.const(":")),Vt.createElement(Ir,{latex:()=>this.getPropLatex(e),ariaLabel:e.name,placeholder:()=>e.default,isFocused:()=>this.isInputFocused(e.prop),hasError:()=>!tV(this.model,e.prop),handleFocusChanged:t=>this.handleFocusedChanged(e.prop,t),handlePressedKey:(t,n)=>this.handlePressedKey(t,n,e.prop),handleLatexChanged:t=>this.handleLatexChanged(e.prop,t),readonly:()=>this.controller.isItemReadonly(this.model.id),controller:this.props.controller}))}handlePressedKey(e,t,n){if("Esc"!==e){if("Enter"===e)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var r=qe.getFocusedMathquill();r&&(r.keystroke(e,t),this.handleLatexChanged(n,r.latex()))}else this.controller.dispatch({type:"set-focus-location",location:void 0})}isInputFocused(e){let t=this.controller.getFocusLocation();return!(!t||"visualization-prop"!==t.type||t.id!==this.id)&&t.location===e}handleFocusedChanged(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"visualization-prop",id:this.id,location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"visualization-prop",id:this.id,location:e}})}getPropLatex({prop:e}){let t=Tl(this.model,e);return"string"==typeof t?t:""}handleLatexChanged(e,t){Tl(this.model,e)!==t&&this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:e,value:t})}onToggleOutliers(){var e=Tl(this.model,"showBoxplotOutliers");this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:"showBoxplotOutliers",value:!e})}getVisualizationType(){return Vg(this.model)?Cc(this.model)?"boxplot":Gl(this.model)?"dotplot":hd(this.model)?"histogram":"none":"none"}},Lt=__dcg_shared_module_exports__.i(ne()),cm=class extends Lt.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return Lt.createElement("div",{class:Lt.const("dcg-ttest-footer-container dcg-do-blur"),handleEvent:Lt.const("true")},Lt.createElement("table",null,Lt.createElement("tr",null,Lt.createElement("td",null,Lt.createElement("div",{class:Lt.const("dcg-value"),role:Lt.const("textbox"),"aria-readonly":Lt.const("true"),tabindex:Lt.const("0"),"aria-label":()=>"Less than: "+this.getLessThan()},Lt.createElement("span",{class:Lt.const("dcg-operator")},Lt.createElement(ze,{config:this.const({}),latex:this.const("<")})),Lt.createElement("span",{class:Lt.const("dcg-evaluation")},Lt.createElement(ze,{config:this.const({}),latex:()=>this.getLessThan()}))))),Lt.createElement("tr",null,Lt.createElement("td",null,Lt.createElement("div",{class:Lt.const("dcg-value"),role:Lt.const("textbox"),"aria-readonly":Lt.const("true"),tabindex:Lt.const("0"),"aria-label":()=>"Greater than: "+this.getGreaterThan()},Lt.createElement("span",{class:Lt.const("dcg-operator")},Lt.createElement(ze,{config:this.const({}),latex:this.const(">")})),Lt.createElement("span",{class:Lt.const("dcg-evaluation")},Lt.createElement(ze,{config:this.const({}),latex:()=>this.getGreaterThan()}))))),Lt.createElement("tr",null,Lt.createElement("td",null,Lt.createElement("div",{class:Lt.const("dcg-value"),role:Lt.const("textbox"),"aria-readonly":Lt.const("true"),tabindex:Lt.const("0"),"aria-label":()=>"Not equal: "+this.getNotEqual()},Lt.createElement("span",{class:Lt.const("dcg-operator")},Lt.createElement(ze,{config:this.const({}),latex:this.const("≠")})),Lt.createElement("span",{class:Lt.const("dcg-evaluation")},Lt.createElement(ze,{config:this.const({}),latex:()=>this.getNotEqual()})))))))}getLessThan(){var e=Dg(this.model);return e?__dcg_shared_module_exports__._b(e.lessThan,5):""}getGreaterThan(){var e=Dg(this.model);return e?__dcg_shared_module_exports__._b(e.greaterThan,5):""}getNotEqual(){var e=Dg(this.model);return e?__dcg_shared_module_exports__._b(e.notEqual,5):""}},je=__dcg_shared_module_exports__.i(ne()),dm=class extends je.Class{template(){return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,je.createElement("div",{class:je.const("dcg-stats-footer-container dcg-do-blur"),handleEvent:je.const("true")},je.createElement("table",null,je.createElement("tr",null,je.createElement("td",null,je.createElement("div",{class:je.const("dcg-value"),role:je.const("textbox"),"aria-readonly":je.const("true"),tabindex:je.const("0"),"aria-label":()=>"Min: "+this.getMin()},je.createElement("span",{class:je.const("dcg-row-header")},je.const("Min")),je.createElement("span",{class:je.const("dcg-evaluation")},je.createElement(ze,{config:this.const({}),latex:this.bindFn(this.getMin)}))))),je.createElement("tr",null,je.createElement("td",null,je.createElement("div",{class:je.const("dcg-value"),role:je.const("textbox"),"aria-readonly":je.const("true"),tabindex:je.const("0"),"aria-label":()=>"Q1: "+this.getQ1()},je.createElement("span",{class:je.const("dcg-row-header")},je.const("Q1")),je.createElement("span",{class:je.const("dcg-evaluation")},je.createElement(ze,{config:this.const({}),latex:this.bindFn(this.getQ1)}))))),je.createElement("tr",null,je.createElement("td",null,je.createElement("div",{class:je.const("dcg-value"),role:je.const("textbox"),"aria-readonly":je.const("true"),tabindex:je.const("0"),"aria-label":()=>"Median: "+this.getMedian()},je.createElement("span",{class:je.const("dcg-row-header")},je.const("Median")),je.createElement("span",{class:je.const("dcg-evaluation")},je.createElement(ze,{config:this.const({}),latex:this.bindFn(this.getMedian)}))))),je.createElement("tr",null,je.createElement("td",null,je.createElement("div",{class:je.const("dcg-value"),role:je.const("textbox"),"aria-readonly":je.const("true"),tabindex:je.const("0"),"aria-label":()=>"Q3: "+this.getQ3()},je.createElement("span",{class:je.const("dcg-row-header")},je.const("Q3")),je.createElement("span",{class:je.const("dcg-evaluation")},je.createElement(ze,{config:this.const({}),latex:this.bindFn(this.getQ3)}))))),je.createElement("tr",null,je.createElement("td",null,je.createElement("div",{class:je.const("dcg-value"),role:je.const("textbox"),"aria-readonly":je.const("true"),tabindex:je.const("0"),"aria-label":()=>"Max: "+this.getMax()},je.createElement("span",{class:je.const("dcg-row-header")},je.const("Max")),je.createElement("span",{class:je.const("dcg-evaluation")},je.createElement(ze,{config:this.const({}),latex:this.bindFn(this.getMax)})))))))}getMin(){let e=Hu(this.model);return e?__dcg_shared_module_exports__.Zb(e.min):""}getQ1(){let e=Hu(this.model);return e?__dcg_shared_module_exports__.Zb(e.q1):""}getMedian(){let e=Hu(this.model);return e?__dcg_shared_module_exports__.Zb(e.median):""}getQ3(){let e=Hu(this.model);return e?__dcg_shared_module_exports__.Zb(e.q3):""}getMax(){let e=Hu(this.model);return e?__dcg_shared_module_exports__.Zb(e.max):""}},_i=__dcg_shared_module_exports__.i(ne()),{If:hU}=_i.Components,Vd=class extends _i.Class{init(){this.controller=this.props.controller(),this.model=this.props.model()}template(){return _i.createElement("div",{class:_i.const("dcg-action-info"),handleEvent:_i.const("true")},_i.createElement("span",{class:_i.const("dcg-action-label")},_i.const("Run ")),_i.createElement(ze,{latex:()=>this.model.clickableInfo.latex,config:this.bindFn(this.getMQConfig)}),_i.createElement("span",{class:_i.const("dcg-action-label")},_i.const(" on click")),_i.createElement(hU,{predicate:()=>!this.controller.isItemReadonly(this.model.id)},(()=>_i.createElement("span",{class:_i.const("dcg-click-edit"),role:_i.const("button"),tabindex:_i.const("0"),"aria-label":()=>this.controller.s("graphing-calculator-narration-edit-action"),onTap:this.bindFn(this.editAction)},_i.createElement("i",{class:_i.const("dcg-icon-pencil"),"aria-hidden":_i.const("true")})))))}editAction(){"expression"===this.model.type?this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"expression",model:this.model,guid:this.getMenuGUID(),focusFirstOption:!1}}):this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"image",model:this.model,guid:this.getMenuGUID(),focusFirstOption:!1}}),this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:this.model.id,location:"updaterule"}})}getMenuGUID(){return this.model.guid}getMQConfig(){return{autoOperatorNames:Ko({additionalOperators:["index"]}),autoCommands:Bs()}}},It=__dcg_shared_module_exports__.i(ne()),{If:zw}=It.Components,Fa=class extends It.Class{init(){this.controller=this.props.controller()}template(){return It.createElement(zw,{predicate:this.bindFn(this.shouldShowOptions)},(()=>It.createElement("span",{class:()=>({"dcg-expression-edit-actions":!0,"dcg-limited-height":this.limitedHeight()}),style:()=>({background:this.controller.getBackgroundColor()}),didMount:()=>{this.controller.isInEditListMode()&&ge(this.controller.s("graphing-calculator-narration-edit-list-mode-on"))},didUnmount:()=>{this.controller.isInEditListMode()||ge(this.controller.s("graphing-calculator-narration-edit-list-mode-off"))}},It.createElement(zw,{predicate:()=>!this.controller.hasBackgroundColor()},(()=>It.createElement("span",{class:It.const("dcg-graphic"),handleEvent:It.const("true ")}))),It.createElement(zw,{predicate:this.bindFn(this.canConvertToTable)},(()=>It.createElement(Ue,{tooltip:this.bindFn(this.getConvertTooltip),gravity:this.const("s")},It.createElement("span",{class:It.const("dcg-action-createtable dcg-exp-action-button"),handleEvent:It.const("true"),role:It.const("button"),tabindex:It.const("0"),"aria-label":()=>yi(this.model(),"create_table"),onTap:this.bindFn(this.onCreateTable)},It.createElement("i",{class:It.const("dcg-icon-table"),"aria-hidden":It.const("true")}))))),It.createElement(zw,{predicate:()=>this.controller.shouldShowAuthorFeatures()},(()=>It.createElement(Ue,{tooltip:this.bindFn(this.getReadonlyToggleLabel),gravity:this.const("s")},It.createElement("span",{class:()=>({"dcg-action-createtable":!0,"dcg-exp-action-button":!0,"dcg-selected":this.isReadonly()}),handleEvent:It.const("true"),role:It.const("button"),tabindex:It.const("0"),"aria-label":this.bindFn(this.getReadonlyToggleLabel),onTap:this.bindFn(this.onToggleReadonly)},It.createElement("i",{class:It.const("dcg-icon-lock"),"aria-hidden":It.const("true")}))))),It.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-duplicate-expression-tooltip"),gravity:this.const("s")},It.createElement("span",{class:It.const("dcg-duplicate-btn dcg-exp-action-button"),handleEvent:It.const("true"),role:It.const("button"),tabindex:It.const("0"),"aria-label":()=>yi(this.model(),"duplicate"),onTap:this.bindFn(this.onDuplicateWithoutFocus)},It.createElement("i",{class:It.const("dcg-icon-duplicate"),"aria-hidden":It.const("true")}))),It.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-expression-delete-tooltip"),gravity:this.const("sw")},It.createElement("span",{class:It.const("dcg-delete-btn dcg-exp-action-button"),handleEvent:It.const("true"),role:It.const("button"),tabindex:It.const("0"),"aria-label":()=>yi(this.model(),"delete"),onTap:this.bindFn(this.onDelete)},It.createElement("i",{class:It.const("dcg-icon-remove"),"aria-hidden":It.const("true")}))))))}shouldShowOptions(){return this.controller.isInEditListMode()&&(this.controller.shouldShowAuthorFeatures()||!this.controller.isItemReadonly(this.props.id()))}model(){return this.controller.getItemModel(this.props.id())}getConvertTooltip(){return this.shouldInsertOnCreateTable()?this.controller.s("graphing-calculator-label-convert-to-table-tooltip"):this.controller.s("graphing-calculator-label-create-table")}canConvertToTable(){let e=this.model();return!(!e||"expression"!==e.type||!e.formula.is_tableable)}limitedHeight(){let e=this.model();return e&&("image"===e.type||this.isSlider())}isSlider(){let e=this.model();return e&&"expression"===e.type&&e.sliderExists}generateSubscriptedTableColumns(e,t,n){var r={independent:t,dependent:n};if("x"===t)return r;if("Identifier"!==__dcg_shared_module_exports__.Vb(t).type)return r;var i=__dcg_shared_module_exports__.Vb(n);if("FunctionCall"!==i.type||1!==i.args.length)return r;var o=i.args[0];if("Identifier"!==o.type||o._symbol!==t)return r;let a=i.getInputString(),s=o.getInputSpan(),l=a.substr(0,s.start),c=a.substr(s.end);return r.independent="x_{"+e+"}",r.dependent=l+r.independent+c,r}shouldInsertOnCreateTable(){let e=this.model();return!!e&&"expression"===e.type&&Ma(e)}onCreateTable(){let e=this.model();if(e&&"expression"===e.type){var t=e.formula;if(t.is_tableable&&t.table_info){var n=t.table_info,r=e.index,i=n.independent_variable,o=n.dependent_column;if(n.by_reference){let e=this.generateSubscriptedTableColumns(this.controller.generateTableXSubscript(),i,o);i=e.independent,o=e.dependent}var a,s=[],l=[];if(n.values)for(a=0;a<n.values.length;a++){var c=n.values[a][0];s.push(isNaN(c)?"":c+"");var d=n.values[a][1];l.push(isNaN(d)?"":d+"")}else for(a=-2;a<=2;a++)s.push(a+""),l.push("");var p={id:this.controller.generateId(),type:"table",readonly:!n.by_reference&&e.readonly,columns:[{id:this.controller.generateId(),latex:i,color:this.controller.getNextColor(),hidden:!1,values:s,points:!0,lines:!1,dragMode:"NONE",pointStyle:"POINT",lineStyle:"SOLID",colorLatex:"",lineOpacity:"",lineWidth:"",pointOpacity:"",pointSize:""},{id:this.controller.generateId(),latex:o,color:rs(e),hidden:!1,values:l,points:!0,lines:this.shouldInsertOnCreateTable()&&!!e.lines,dragMode:"NONE",pointStyle:"POINT",lineStyle:"SOLID",colorLatex:"",lineOpacity:"",lineWidth:"",pointOpacity:"",pointSize:""}]},u=this.controller;this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!1}),this.shouldInsertOnCreateTable()?this.controller.dispatch({type:"replace-item-at-index",index:r,state:p,focus:!0}):this.controller.dispatch({type:"insert-item-at-index",index:r+1,state:p,folderId:e.folderId,focus:!0});this.controller.dispatch({type:"toast/show",toast:{message:this.controller.s("graphing-calculator-text-table-created"),undoCallback:function(){u.dispatch({type:"undo"}),u.dispatch({type:"set-edit-list-mode",isEditListMode:!0,focusExpressionList:!1})}}})}}}onDelete(e){this.controller.dispatch({type:"delete-item-and-animate-out",id:this.props.id(),setFocusAfterDelete:"keyboard"===e.device})}onDuplicateWithoutFocus(){let e=this.model();e&&("folder"===e.type?this.controller.dispatch({type:"duplicate-folder",id:this.props.id()}):this.controller.dispatch({type:"duplicate-expression",id:this.props.id()}))}isReadonly(){return this.controller.isItemReadonly(this.props.id())}onToggleReadonly(){let e=this.model();e&&this.controller.dispatch({type:"set-item-readonly",id:this.props.id(),readonly:!e.readonly})}getReadonlyIcon(){return this.isReadonly()?"dcg-icon-lock":"dcg-icon-pencil"}getReadonlyToggleLabel(){return this.isReadonly()?this.controller.s("graphing-calculator-label-unlock-expression-tooltip"):this.controller.s("graphing-calculator-label-lock-expression-tooltip")}},To=__dcg_shared_module_exports__.i(ne()),{If:gU}=To.Components,Kp=class extends To.Class{init(){this.controller=this.props.controller(),this.model=this.props.model()}template(){return To.createElement(gU,{predicate:()=>this.controller.shouldExpressionZoomFit(this.model)},(()=>To.createElement("div",{class:To.const("dcg-suggested-zoom-view dcg-do-blur"),handleEvent:To.const(!0)},To.createElement(Ue,{tooltip:this.bindFn(this.getZoomText),gravity:()=>"e"},To.createElement("i",{onTap:this.bindFn(this.onZoom),role:To.const("button"),tabindex:To.const("0"),"aria-label":this.bindFn(this.getZoomText),class:To.const("dcg-icon-zoom-fit")})))))}getZoomText(){return this.controller.s("graphing-calculator-text-zoom-fit")}onZoom(e){this.controller.dispatch({type:"expression-zoom-fit",id:this.model.id,focusAfterTap:"keyboard"===e.device})}},ht=__dcg_shared_module_exports__.i(ne()),fn=__dcg_shared_module_exports__.i(ne()),{Switch:fU}=fn.Components,Ra=class extends fn.Class{init(){this.controller=this.props.controller(),this.model=this.props.model()}iconType(){return this.controller.shouldShowReplaceIcon()?"rename":this.controller.isItemReadonly(this.model.id)?this.controller.shouldShowAuthorFeatures()?"lock":"none":"delete"}getAriaLabel(){switch(this.iconType()){case"none":case"lock":return;case"rename":return yi(this.model,"rename");case"delete":return yi(this.model,"delete")}}onIconTap(){"delete"===this.iconType()?this.controller.dispatch({type:"delete-item-and-animate-out",id:this.model.id,setFocusAfterDelete:!this.controller.isInEditListMode()}):"rename"===this.iconType()&&this.controller.dispatch({type:"rename-identifier-in-item",search:this.controller.getExpressionSearchStr(),replace:this.controller.getExpressionReplaceStr(),id:this.model.id})}isIconTappable(){let e=this.iconType();return"none"!==e&&"lock"!==e}template(){return fn.createElement("div",{class:fn.const("dcg-top-level-icon"),tabIndex:()=>this.isIconTappable()?0:-1,"aria-label":this.bindFn(this.getAriaLabel),handleEvent:this.bindFn(this.isIconTappable),onTap:this.bindFn(this.onIconTap),role:fn.const("button"),manageFocus:this.const({shouldBeFocused:()=>Dd({controller:this.controller,location:{type:"top-level-icon",id:this.model.id}}),onFocusedChanged:(e,t)=>{var n;e?this.controller.dispatch({type:"set-focus-location",location:{type:"top-level-icon",id:this.model.id}}):t.relatedTarget&&(null==(n=t.relatedTarget)||!n.closest("[data-dcg-label]"))&&this.controller.dispatch({type:"blur-focus-location",location:{type:"top-level-icon",id:this.model.id}})}})},fn.createElement(fU,{key:()=>this.iconType()},(e=>{switch(e){case"delete":return fn.createElement("i",{class:fn.const("dcg-icon-remove dcg-top-level-delete"),"aria-hidden":fn.const("true")});case"lock":return fn.createElement("i",{class:fn.const("dcg-icon-lock dcg-lock-indicator"),"aria-hidden":fn.const("true")});case"rename":return fn.createElement("i",{class:fn.const("dcg-icon-replace"),"aria-hidden":fn.const("true")});case"none":return fn.createElement("span",null)}})))}},{If:Ld,SwitchUnion:mU}=ht.Components,um=class extends Io{didMount(){this.onItemViewMounted(),this.lastBrailleMode=this.controller.getBrailleMode()}didMountRootNode(e){this.rootNode=e}willUnmount(){this.onItemViewUnmounted()}template(){return ht.createElement("div",{class:()=>({"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-mathitem":!0,"dcg-inFolder":!!this.model.folderId,"dcg-readonly":this.controller.isItemReadonly(this.id),"dcg-selected":this.controller.isItemSelected(this.id)&&!this.controller.isInEditListMode(),"dcg-dragging":!!this.controller.isItemBeingDragged(this.id),"dcg-hasSlider":this.hasSlider(),"dcg-hasEvaluation":this.controller.shouldShowEvaluationForItem(this.id),"dcg-hasRegression":this.hasRegression(),"dcg-hasDomain":this.hasDomain()}),"expr-id":()=>this.model.id,didMount:this.bindFn(this.didMountRootNode)},ht.createElement("div",{class:ht.const("dcg-fade-container"),onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},ht.createElement("div",{class:ht.const("dcg-main")},ht.createElement(Ld,{predicate:()=>!this.controller.isInEditListMode()&&!this.isReadonly()},(()=>ht.createElement(Vi,__dcg_shared_module_exports__.b({latex:()=>kg(this.model),ariaLabel:()=>this.getAriaLabel("braille"),brailleShouldFocus:()=>this.isFocused(),onBrailleInput:e=>this.handleLatexChanged(e),onBrailleFocusedChanged:(e,t)=>this.handleMQFocusedChanged(e,t),onBrailleKeydown:this.bindFn(this.handleBraillePressedKey)},gn(this.controller)),ht.createElement(qe,{latex:()=>kg(this.model),getAriaLabel:()=>this.getAriaLabel("speech"),getAriaPostLabel:this.bindFn(this.getFormulaAria),isFocused:()=>this.isFocused(),tokenController:this.props.controller,capExpressionSize:()=>this.controller.getCapExpressionSize(),config:this.bindFn(this.getMQConfig),hasError:this.const(!1),onUserPressedKey:(e,t)=>this.handlePressedKey(e,t),onUserChangedLatex:e=>this.handleLatexChanged(e),onExpressionSizeExceeded:()=>this.controller.dispatch({type:"expression-size-exceeded"}),onFocusedChanged:(e,t)=>this.handleMQFocusedChanged(e,t),needsSystemKeypad:()=>!this.controller.isKeypadEnabled()})))),ht.createElement(Ld,{predicate:()=>this.controller.isInEditListMode()||this.isReadonly()},(()=>ht.createElement("div",{class:ht.const("dcg-edit-list-mathquill"),tabindex:()=>"none"===this.controller.getBrailleMode()?"0":"-1",onTap:()=>this.controller.isInEditListMode()?this.exitEditListMode():{},onKeydown:this.bindFn(this.handleReadonlyPressedKey),manageFocus:this.const({shouldBeFocused:()=>"none"===this.controller.getBrailleMode()&&Dd({controller:this.controller,location:{type:"readonly-expression",id:this.model.id}}),onFocusedChanged:(e,t)=>{"none"===this.controller.getBrailleMode()&&(e?this.controller.dispatch({type:"set-focus-location",location:{type:"readonly-expression",id:this.model.id}}):this.doesNodeBelongToSliderLimit(t.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"readonly-expression",id:this.model.id}}))}})},ht.createElement(Vi,__dcg_shared_module_exports__.b({latex:()=>kg(this.model),ariaLabel:()=>this.getAriaLabel("braille"),isStatic:this.const(!0),brailleShouldFocus:()=>{let e=this.controller.getFocusLocation();return!(!e||"readonly-expression"!==e.type)&&e.id===this.id},onBrailleFocusedChanged:(e,t)=>{e?this.controller.dispatch({type:"set-focus-location",location:{type:"readonly-expression",id:this.model.id}}):this.doesNodeBelongToSliderLimit(t.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"readonly-expression",id:this.model.id}})}},gn(this.controller)),ht.createElement(ze,{latex:()=>kg(this.model),config:this.bindFn(this.getMQConfig),getAriaLabel:()=>this.getAriaLabel("speech")})))))),ht.createElement(Ra,{controller:this.props.controller,model:this.props.model}),ht.createElement(Ld,{predicate:this.bindFn(this.shouldShowFooter)},(()=>ht.createElement("div",{class:this.getFooterClass()},mU((()=>this.getFooterType()),{none:()=>{},regression:()=>ht.createElement(tm,{model:this.props.model,controller:this.props.controller}),label:()=>ht.createElement(Ad,{model:this.props.model,controller:this.props.controller}),slider:()=>ht.createElement(nm,{model:this.props.model,controller:this.props.controller}),domain:()=>ht.createElement(em,{model:this.props.model,controller:this.props.controller}),evaluation:()=>ht.createElement(Gd,{id:()=>this.props.model().id,dependent:()=>kn(this.model)||"",val:()=>this.controller.getEvaluationValueForItem(this.id),controller:this.props.controller,focusable:this.const(!0)}),distribution:()=>ht.createElement(sm,{model:this.props.model,controller:this.props.controller}),visualization:()=>ht.createElement(lm,{model:this.props.model,controller:this.props.controller}),ttest:()=>ht.createElement(cm,{model:this.props.model,controller:this.props.controller}),stats:()=>ht.createElement(dm,{model:this.props.model,controller:this.props.controller}),unresolved:()=>ht.createElement(Zf,{controller:this.props.controller})}),ht.createElement(Ld,{predicate:this.bindFn(this.shouldShowBrailleError)},(()=>ht.createElement("div",{tabindex:ht.const(0),class:ht.const("dcg-expression-braille-error"),role:ht.const("button"),"aria-roledescription":ht.const("error"),"aria-label":()=>this.controller.unpack(this.model.error)},ht.createElement("i",{class:ht.const("dcg-icon-error"),"aria-hidden":ht.const("true")}),(()=>this.controller.unpack(this.model.error))))),ht.createElement(Ld,{predicate:this.bindFn(this.shouldShowSliderPrompt)},(()=>ht.createElement(ws,{model:this.props.model,controller:this.props.controller}))),ht.createElement(Ld,{predicate:this.bindFn(this.shouldShowRenamePrompt)},(()=>ht.createElement(om,{from:this.bindFn(this.getRenameIdentifierFrom),to:this.bindFn(this.getRenameIdentifierTo),count:this.bindFn(this.getRenameCountOfChanges),handleRename:this.bindFn(this.handleRename)})))))),ht.createElement(Ld,{predicate:this.bindFn(this.shouldShowActionInfo)},(()=>ht.createElement("div",{class:this.getFooterClass()},ht.createElement(Vd,{model:this.props.model,controller:this.props.controller}))))),ht.createElement("span",{class:ht.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:ht.const("true"),tapboundary:ht.const("true"),disablescroll:ht.const("true"),style:ht.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},ht.createElement("span",{class:ht.const("dcg-num")},(()=>this.model.displayIndex)),ht.createElement("div",{class:ht.const("dcg-tab-interior dcg-action-icon-mouse")},ht.createElement(Qf,{model:this.props.model,controller:this.props.controller})),ht.createElement(Kp,{model:this.props.model,controller:this.props.controller})),ht.createElement(Fa,{controller:this.props.controller,id:()=>this.model.id}))}getRenameIdentifierFrom(){let e=this.controller.getSuggestedIdentifierRenameInfo(this.id);return e&&e.from||""}getRenameIdentifierTo(){let e=this.controller.getSuggestedIdentifierRenameInfo(this.id);return e&&e.to||""}getRenameCountOfChanges(){let e=this.controller.getSuggestedIdentifierRenameInfo(this.id);return e&&e.countOfChanges||0}handleRename(){this.controller.dispatch({type:"rename-identifier-global",search:this.getRenameIdentifierFrom(),replace:this.getRenameIdentifierTo()})}didUpdate(){this.lastBrailleMode=this.controller.getBrailleMode()}shouldShowFooter(){return!!(this.shouldShowBrailleError()||this.shouldShowSliderPrompt()||this.shouldShowRenamePrompt())||"none"!==this.getFooterType()}getFooterType(){return this.hasRegression()?"regression":this.shouldShowLabelView()?"label":this.hasSlider()?"slider":this.hasDomain()?"domain":this.isTTest()?"ttest":this.isStats()?"stats":this.controller.shouldShowEvaluationForItem(this.id)?"evaluation":this.isToplevelDistribution()?"distribution":this.isVisualization()?"visualization":this.model.unresolved?"unresolved":"none"}getFooterClass(){return this.isFirstRender()?this.const("dcg-expression-bottom dcg-indent-in-folder"):this.const("dcg-expression-bottom dcg-indent-in-folder dcg-fadein-bottom")}onCreateSliders(e){this.controller.dispatch({type:"create-sliders-for-item",id:this.id,variables:e})}shouldShowLabelView(){return fu("labels")&&AV(this.model)}shouldShowSliderPrompt(){return!!this.controller.areSlidersEnabled()&&$b(this.model).length>0}shouldShowRenamePrompt(){return this.getRenameCountOfChanges()>0}shouldShowActionInfo(){return!!(this.controller.areActionsEnabled()&&this.model.clickableInfo&&this.model.clickableInfo.enabled&&this.model.clickableInfo.latex)}shouldShowBrailleError(){return"none"!==this.controller.getBrailleMode()&&this.hasError()}hasRegression(){return!(!this.model.formula||!this.model.formula.is_regression)}hasDomain(){return dx(this.model)}isToplevelDistribution(){return Sc(this.model)}isVisualization(){return px(this.model)}isTTest(){return cE(this.model)}isStats(){return LV(this.model)}hasSlider(){return!!this.model.sliderExists}getLabelOptions(){return this.controller.getEvaluationLabelOptionsForItem(this.model.id)}getAriaLabel(e){var t;return this.shouldShowLabelView()?(t=this.model.label&&""!==this.model.label?this.model.label:"speech"===e?this.controller.s("graphing-calculator-narration-expression-label"):this.controller.raw("lbl"),this.model.showLabel?t:"speech"===e?this.controller.s("graphing-calculator-narration-expression-hidden-label",{label:t}):this.controller.raw("h __label__",{label:t})):"speech"===e?this.controller.s("shared-calculator-narration-expression-index",{index:this.model.displayIndex}):this.controller.raw("eq__index__",{index:this.model.displayIndex})}getFormulaAria(){let e=this.model.formula,t="";if(!e||Ia(this.model))return t;if(this.controller.shouldShowEvaluationForItem(this.id)){t="equals ";let n=e.zero_values&&e.zero_values.length?e.zero_values[0].val:e.constant_value;Array.isArray(n)?t+=n.length+" element list.":void 0!==n&&(t+=nn(__dcg_shared_module_exports__.Ta(+n,this.getLabelOptions())))}else e.error&&!this.shouldShowSliderPrompt()?t=this.controller.unpack(e.error):Sc(this.model)?t=this.controller.s("graphing-calculator-narration-expression-evaluation-is-distribution"):this.isTTest()&&(t=this.controller.s("graphing-calculator-narration-expression-evaluation-is-t-test"));if(this.model.shouldGraph&&(e.is_graphable||e.is_regression)){e.is_graphable&&e.is_regression?t+=" "+this.controller.s("graphing-calculator-narration-expression-evaluation-has-graph-and-regression"):e.is_regression?t+=" "+this.controller.s("graphing-calculator-narration-expression-evaluation-has-regression"):t+=" "+this.controller.s("graphing-calculator-narration-expression-evaluation-has-graph");let n=this.controller.getAudioGraph();n&&n.agNavigator.canTrace(this.model)&&(t+=gi?" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-mac"):" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-windows"))}return t}handleBraillePressedKey(e){let t=Le(e);if(t)if("Esc"===t)Ur(),this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}});else if("Up"===t||"Down"===t||"Enter"===t)this.controller.dispatch({type:"on-special-key-pressed",key:t});else if("Del"===t||"Backspace"===t){let n=ko();Ia(this.model)&&Op(n)&&(this.controller.dispatch({type:"on-special-key-pressed",key:"Del"===t?"Delete":t}),e.preventDefault(),e.stopPropagation())}}handleReadonlyPressedKey(e){if(this.controller.isInEditListMode())return;let t=Le(e);!e.altKey&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&("Esc"===t?(e.preventDefault(),e.stopPropagation(),Ur(),this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}})):("Up"===t||"Down"===t||"Enter"===t)&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"on-special-key-pressed",key:t})))}handlePressedKey(e,t){var n=qe.getFocusedMathquill();if(n){if("Esc"===e)return Ur(),void(this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}}));if("Up"===e||"Down"===e)return qe.applyArrowKeyAndReturnIfWasAtBounds(n,e,t)?this.controller.dispatch({type:"on-special-key-pressed",key:e}):void 0;if("Delete"===e||"Backspace"===e){if(Ia(this.model))return this.controller.dispatch({type:"on-special-key-pressed",key:e})}else if("Enter"===e)return t&&(t.preventDefault(),t.stopPropagation()),this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});n.keystroke(e,t),this.handleLatexChanged(n.latex())}}handleLatexChanged(e){e!==this.model.latex&&this.controller.dispatch({type:"set-item-latex",id:this.id,latex:e})}doesNodeBelongToSliderLimit(e){return!(!e||!this.rootNode.contains(e))&&!!P(e).closest("[data-dcg-label]").length}handleMQFocusedChanged(e,t){e?this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}):!this.doesNodeBelongToSliderLimit(t.relatedTarget)&&this.lastBrailleMode===this.controller.getBrailleMode()&&this.controller.dispatch({type:"blur-focus-location",location:{type:"expression",id:this.id}})}onMouseSelect(e){this.isReadonly()||"keyboard"!==e.device&&("dcg-tap"===e.type&&"mouse"===e.device||"dcg-tapstart"===e.type&&"touch"===e.device||e.wasHandled()||(e.handle(),this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}})))}isReadonly(){return this.controller.isItemReadonly(this.id)}isFocused(){let e=this.controller.getFocusLocation();return!(!e||"expression"!==e.type)&&e.id===this.id}isSliderThumbFocused(){let e=this.controller.getFocusLocation();return!(!e||"slider-thumb"!==e.type)&&e.id===this.id}hasError(){return!!this.model.error&&!Ia(this.model)}getMQConfig(){return this.controller.getMathquillConfig({})}};function gn(e,t){let n=e=>ht.createElement(ze,{config:()=>({}),latex:()=>e});return{tooltipOptions:()=>__dcg_shared_module_exports__.b({latexView:n},t||{}),sixKeyInput:()=>e.getSixKeyInput(),mode:()=>e.getBrailleMode(),capExpressionSize:()=>e.getCapExpressionSize()?{exceedsLimit:e=>e.length>Dp,onExpressionSizeExceeded:()=>e.dispatch({type:"expression-size-exceeded"})}:void 0}}var vs=__dcg_shared_module_exports__.i(ne());at();var{Textarea:yU}=vs.Components,jl=class extends vs.Class{template(){return vs.createElement("div",{class:vs.const("dcg-smart-textarea-container")},vs.createElement("div",{class:vs.const("dcg-displayTextarea dcg-fixed-width-element"),didMount:this.bindFn(this.didMountDisplay)}),vs.createElement(yU,{class:()=>({"dcg-do-blur":!0,"dcg-fixed-width-element":!0,"dcg-smart-textarea":!0,"dcg-empty":!this.props.text()}),"aria-label":()=>{var e,t;return null==(t=(e=this.props).ariaLabel)?void 0:t.call(e)},placeholder:this.bindFn(this.getPlaceholder),readonly:()=>!!this.props.readonly()||void 0,value:this.props.text,onInput:this.props.onInput,didMount:this.bindFn(this.didMountTextarea),onKeydown:this.bindFn(this.onKeydownEvent)}))}getDisplayTextHTML(){let e=this.props.text()||"",t=(t,n)=>e.slice(t,n).replace(/</g,"&lt;").replace(/>/g,"&gt;"),n=0,r="";if(this.props.showLinks()){let i=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,o=null;for(;null!==(o=i.exec(e));){let[e]=o;r+=t(n,o.index),r+=`<a rel='nofollow ugc' href='${e}' target ='_blank'>${e}</a>`,n=i.lastIndex}}return r+=t(n),r}willUnmount(){this.textareaNode=void 0}didMountDisplay(e){this.displayNode=e,P(e).on("touchend",(function(e){e.preventDefault()})),P(e).on("dcg-tap dcg-tapstart","a",(function(e){e.handle()})),this.renderDisplayText()}didMountTextarea(e){this.textareaNode=e,P(e).on("dcg-tapstart",(e=>{e.handle()})),P(e).on("focusin focusout",(()=>this.onFocusEvent())),this.updateFocused()}didUpdate(){this.updateFocused(),this.renderDisplayText()}onFocusEvent(){if(this.textareaNode){var e=document.activeElement===this.textareaNode;this.shouldBeFocused()!==e&&this.props.onFocusChange(e)}}renderDisplayText(){if(!this.displayNode)return;let e=this.getDisplayTextHTML();this.lastDisplayTextHTML!==e&&(this.lastDisplayTextHTML=e,this.displayNode.innerHTML=e)}isFocused(){return document.activeElement===this.textareaNode}shouldBeFocused(){return this.props.shouldFocus()}updateFocused(){if(!this.textareaNode)return;let e=this.isFocused(),t=this.shouldBeFocused();if(e!==t)if(t){if(Ja&&El)return;this.textareaNode.focus(),this.textareaNode.selectionStart=this.textareaNode.selectionEnd=this.textareaNode.value.length}else this.textareaNode.blur()}onKeydownEvent(e){var t=this.textareaNode;if(!t)return;var n=Le(e);let r=this.props.readonly(),i=this.props.readonlyAction&&this.props.readonlyAction();r&&void 0!==i&&i.predicate()?!e.altKey&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&(n===il||n===Xg)&&(e.preventDefault(),i.action()):(n!==il||e.metaKey?n===co?Ur():n===Fn?(r||0===t.selectionStart&&0===t.selectionEnd)&&!(e.altKey||e.metaKey)&&(e.preventDefault(),this.props.onSpecialKey("Up")):n===Yn?(r||t.selectionStart===t.value.length&&t.selectionEnd===t.value.length)&&!(e.altKey||e.metaKey)&&(e.preventDefault(),this.props.onSpecialKey("Down")):n!==ga||r&&void 0!==i&&i.predicate()?n===vd&&!(r&&void 0!==i&&i.predicate())&&0===t.value.length&&(e.preventDefault(),this.props.onSpecialKey("Delete")):0===t.value.length&&(e.preventDefault(),this.props.onSpecialKey("Backspace")):(e.preventDefault(),this.props.onSpecialKey("Enter")),this.props.onKeydown&&this.props.onKeydown(e))}getPlaceholder(){var e,t;if(!this.props.text())return null==(t=(e=this.props).placeholder)?void 0:t.call(e)}},Hi=__dcg_shared_module_exports__.i(ne()),pm=class extends Io{didMount(){this.onItemViewMounted()}willUnmount(){this.onItemViewUnmounted()}template(){return Hi.createElement("div",{class:()=>({"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-readonly":this.controller.isItemReadonly(this.id),"dcg-expressiontext":!0,"dcg-inFolder":!!this.model.folderId,"dcg-selected":!!this.controller.isItemSelected(this.id),"dcg-dragging":!!this.controller.isItemBeingDragged(this.id)}),"expr-id":()=>this.model.id,onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},Hi.createElement("div",{class:Hi.const("dcg-fade-container")},Hi.createElement("div",{class:Hi.const("dcg-main")},Hi.createElement(jl,{shouldFocus:this.bindFn(this.isFocused),text:()=>this.model.text,showLinks:()=>this.controller.areLinksEnabled(),onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey),readonly:()=>this.controller.isInEditListMode()||this.controller.isItemReadonly(this.id),readonlyAction:this.const({predicate:()=>this.controller.isInEditListMode(),action:()=>this.exitEditListMode()}),ariaLabel:()=>yi(this.model,"edit_title"),placeholder:()=>this.controller.s("graphing-calculator-text-note-placeholder")})),Hi.createElement(Ra,{controller:this.props.controller,model:this.props.model})),Hi.createElement("span",{class:Hi.const("dcg-tab dcg-action-drag"),handleevent:Hi.const("true"),tapboundary:Hi.const("true"),disablescroll:Hi.const("true"),style:Hi.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},Hi.createElement("span",{class:Hi.const("dcg-num")},(()=>this.model.displayIndex)),Hi.createElement("div",{class:Hi.const("dcg-tab-interior")}),Hi.createElement("i",{class:Hi.const("dcg-icon-text"),"aria-hidden":Hi.const("true")})),Hi.createElement(Fa,{controller:this.props.controller,id:()=>this.model.id}))}onInput(e){this.controller.dispatch({type:"set-note-text",id:this.id,text:e})}onFocusChange(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"text",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"text",id:this.id}})}onSpecialKey(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})}isFocused(){let e=this.controller.getFocusLocation();return!(!e||"text"!==e.type||e.id!==this.id)}},Et=__dcg_shared_module_exports__.i(ne());at();var Gr=__dcg_shared_module_exports__.i(ne()),mo=__dcg_shared_module_exports__.i(ne()),{SwitchUnion:bU}=mo.Components,hm=class extends mo.Class{init(){this.model=this.props.model(),this.controller=this.props.controller()}template(){return mo.createElement("div",{class:mo.const("dcg-table-icon-container")},bU(this.bindFn(this.typeOfIcon),{error:()=>mo.createElement(Jn,{error:()=>this.controller.unpack(this.model.error),gravity:this.const("se")}),none:()=>mo.createElement("span",null),icon:()=>mo.createElement("div",{class:mo.const("dcg-circular-icon-container"),role:mo.const("button"),tabindex:mo.const("0"),"aria-label":this.bindFn(this.getIconAriaLabel),handleevent:mo.const("true"),"dcg-open-menu-guid":()=>this.getMenuGUID(),onTap:e=>{if(!e.wasHandled("dragdrop")&&!e.wasLongheld()){if(this.myOptionsOpen())return this.toggleOptions();if(this.controller.isInEditListMode()||e.shiftKey)return this.toggleOptions();this.toggleGraphShown()}},onLongHold:e=>{e.handle("dcg-longhold"),e.handle("dcg-tap"),this.toggleOptions()},manageFocus:this.const(ut({controller:this.controller,location:{type:"table-icon",id:this.model.table.id,columnId:this.model.id}}))},mo.createElement(Li,{iconType:this.bindFn(this.getIcon),backgroundColor:this.bindFn(this.getModelColor)}))}))}getModelColor(){return Cg(this.model)}getMenuGUID(){return this.model.guid}myOptionsOpen(){return this.controller.isItemSettingsMenuOpen(this.getMenuGUID())}toggleOptions(){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"table-column",model:this.model,guid:this.getMenuGUID(),focusFirstOption:!1}})}toggleGraphShown(){this.controller.dispatch({type:"toggle-tablecolumn-hidden",tableId:this.model.table.id,columnId:this.model.id})}hasError(){return!!this.model.error}getIcon(){return this.model.shouldGraph?this.controller.isInEditListMode()?"none":this.model.points&&this.model.lines?"table-points-and-lines":this.model.points&&!this.model.lines?"table-points":!this.model.points&&this.model.lines?"table-lines":"none":"hidden"}typeOfIcon(){return""!==this.model.latex&&this.controller.getGraphSettings().config.graphpaper?this.model.error?"error":0===this.model.index?"none":"icon":"none"}getIconAriaLabel(){return this.myOptionsOpen()?this.controller.s("graphing-calculator-narration-hide-options"):this.controller.isInEditListMode()?this.controller.s("graphing-calculator-narration-show-options"):this.model.shouldGraph?this.controller.s("graphing-calculator-narration-hide-table-column"):this.controller.s("graphing-calculator-narration-show-table-column")}},{If:gm}=Gr.Components,fm=class extends Gr.Class{init(){this.model=this.props.model(),this.controller=this.props.controller(),this.table=this.model.table}isRightSide(){return this.lookupCellPosition().column>=this.table.columnModels.length-1}template(){return Gr.createElement("div",{class:()=>({"dcg-cell":!0,"dcg-table-header":!0,"dcg-do-not-blur":!0,"dcg-left":0===this.model.index,"dcg-right":this.isRightSide(),"dcg-selected":this.shouldFocus()&&!this.table.readonly,"dcg-error":!!this.model.error}),index:()=>this.model.index,onTapStart:this.bindFn(this.focusThisCell)},Gr.createElement("div",{class:Gr.const("dcg-inner-border")}),Gr.createElement(gm,{predicate:()=>!this.isRightSide()},(()=>Gr.createElement(hm,{model:this.props.model,controller:this.props.controller}))),Gr.createElement("div",{role:Gr.const("columnheader")},Gr.createElement(gm,{predicate:()=>!this.controller.isInEditListMode()&&!this.table.readonly},(()=>Gr.createElement(Vi,__dcg_shared_module_exports__.b({latex:()=>this.model.latex||"",brailleShouldFocus:this.bindFn(this.shouldFocus),ariaLabel:()=>this.getAriaLabel("braille"),onBrailleInput:e=>this.handleLatexChanged(e),onBrailleFocusedChanged:this.bindFn(this.handleMQFocusedChanged),selectOnFocus:this.const(!0),onBrailleKeydown:this.bindFn(this.handleKeydownOnBrailleInput)},gn(this.props.controller(),{gravity:"s"})),Gr.createElement(qe,{latex:()=>this.model.latex||"",isFocused:this.bindFn(this.shouldFocus),capExpressionSize:()=>this.controller.getCapExpressionSize(),config:this.bindFn(this.getMQConfig),getAriaLabel:()=>this.getAriaLabel("speech"),getAriaPostLabel:this.bindFn(this.getAriaPostLabel),hasError:this.const(!1),onUserPressedKey:(e,t)=>this.handlePressedKey(e,t),onUserChangedLatex:e=>this.handleLatexChanged(e),onExpressionSizeExceeded:()=>this.controller.dispatch({type:"expression-size-exceeded"}),onFocusedChanged:this.bindFn(this.handleMQFocusedChanged),selectOnFocus:this.const(!0),needsSystemKeypad:()=>!this.controller.isKeypadEnabled()})))),Gr.createElement(gm,{predicate:()=>this.controller.isInEditListMode()||this.controller.isItemReadonly(this.table.id)},(()=>Gr.createElement(Vi,__dcg_shared_module_exports__.b({latex:()=>this.model.latex||"",ariaLabel:()=>this.getAriaLabel("braille"),onBrailleInput:e=>this.handleLatexChanged(e),tabindex:this.const(-1),isStatic:this.const(!0),brailleShouldFocus:this.bindFn(this.shouldFocusReadonlyCell),onBrailleFocusedChanged:this.bindFn(this.handleMQFocusedChanged)},gn(this.props.controller(),{gravity:"s"})),Gr.createElement(ze,{latex:()=>this.model.latex||"",config:this.bindFn(this.getMQConfig),getAriaLabel:()=>this.getAriaLabel("speech")},Gr.createElement("span",{class:Gr.const("dcg-math-field dcg-cell-math-content"),role:Gr.const("textbox"),"aria-readonly":Gr.const("true"),tabindex:()=>this.controller.isInEditListMode()?-1:0,onKeyDown:this.bindFn(this.handleKeydownOnReadonlyCell),manageFocus:this.const({shouldBeFocused:this.bindFn(this.shouldFocusReadonlyCell),onFocusedChanged:this.bindFn(this.handleFocusedChanged)})}))))),Gr.createElement(gm,{predicate:()=>"NONE"!==this.model.dragMode&&!this.model.error},(()=>Gr.createElement("span",{class:Gr.const("dcg-drag-icon"),"dcg-drag-mode":()=>this.model.dragMode,style:()=>({color:this.model.color})},Gr.createElement("i",{class:()=>({"dcg-icon-move":"XY"===this.model.dragMode,"dcg-icon-move-horizontal":"X"===this.model.dragMode,"dcg-icon-move-vertical":"Y"===this.model.dragMode}),"aria-hidden":Gr.const("true")}))))),Gr.createElement("div",{class:Gr.const("dcg-empty-line")}),Gr.createElement(gm,{predicate:()=>this.isRightSide()},(()=>Gr.createElement("span",{class:Gr.const("dcg-fade-right")}))))}focusThisCell(e){e.wasHandled()||(e.handle(),!this.controller.isItemReadonly(this.table.id)&&(this.shouldFocus()||this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})))}handleFocusedChanged(e,t){e?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.isNodeWithinTableCell(t.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})}lookupCellPosition(){return{row:0,column:this.model.index}}getAriaLabel(e){var t=this.lookupCellPosition();return"speech"===e?this.controller.s("graphing-calculator-narration-table-column-header",{column:t.column+1}):this.controller.raw("h__column__",{column:t.column+1})}getAriaPostLabel(){let e="",t=this.model;return t.shouldGraph&&(t.points||t.lines)&&!yG(t)&&(e=this.controller.s("graphing-calculator-narration-expression-evaluation-has-graph"),e+=gi?" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-mac"):" "+this.controller.s("graphing-calculator-narration-expression-audio-trace-windows")),e}handlePressedKey(e,t){var n=qe.getFocusedMathquill();n&&(qe.handleKeystrokeAndDecideIfSpecialEvent(n,e,t)?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:e}):this.handleLatexChanged(n.latex()))}handleKeydownOnBrailleInput(e){let t=Le(e);if(!t)return;let n="Enter"===t||"Up"===t||"Down"===t,r=ko(),i=r&&"Left"===t&&0===r.selectionStart||"Right"===t&&r.selectionStart===P(r).val().length,o=0===this.model.latex.length&&Op(r);(n||i||("Del"===t||"Backspace"===t)&&o)&&(this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:"Del"===t?"Delete":t}),e.preventDefault())}handleKeydownOnReadonlyCell(e){let t=Le(e);"Tab"!==t&&(e.preventDefault(),"Esc"===t&&Ur(),t&&this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:t}))}handleLatexChanged(e){this.model.latex!==e&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:e})}shouldFocus(){return!this.controller.isInEditListMode()&&__dcg_shared_module_exports__.Ea(this.lookupCellPosition(),ao(this.table))}shouldFocusReadonlyCell(){return __dcg_shared_module_exports__.Ea(this.lookupCellPosition(),ao(this.table))}isNodeWithinTableCell(e){if(!e||0===P(e).closest(".dcg-cell").length)return!1;var t=this.controller.getItemRootNodeById(this.table.id);return!!t&&P.contains(t,e)}handleMQFocusedChanged(e,t){e?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.isNodeWithinTableCell(t.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})}getMQConfig(){return this.controller.getMathquillConfig({})}},li=__dcg_shared_module_exports__.i(ne());at();var{If:ak}=li.Components,mm=class extends li.Class{init(){this.column=this.props.column(),this.controller=this.props.controller(),this.table=this.column.table}template(){return li.createElement("div",{class:()=>({"dcg-cell":!0,"dcg-do-not-blur":!0,"dcg-empty":this.isEmpty(),"dcg-non-editable":!!this.column.disabled,"dcg-error":!!this.hasError(),"dcg-selected":this.shouldFocus()&&!this.controller.isItemReadonly(this.table.id)}),onTapStart:this.bindFn(this.focusThisCell)},li.createElement("div",{class:li.const("dcg-inner-border")}),li.createElement("div",{role:li.const("gridcell")},li.createElement(ak,{predicate:this.bindFn(this.hasError)},(()=>li.createElement("span",{class:li.const("dcg-table-icon-error-container")},li.createElement(Jn,{error:this.bindFn(this.getErrorMessage),gravity:this.const("se"),size:this.const("small")})))),li.createElement(ak,{predicate:()=>!this.isColumnEditable()},(()=>li.createElement(Vi,__dcg_shared_module_exports__.b({latex:()=>this.getValue(),brailleShouldFocus:this.bindFn(this.shouldFocusReadonlyCell),ariaLabel:()=>this.getAriaLabel("braille"),tabindex:()=>this.controller.isInEditListMode()?-1:0,isStatic:this.const(!0),onBrailleFocusedChanged:this.bindFn(this.handleFocusedChanged),onBrailleKeydown:e=>(this.handleKeydownOnReadonlyCell(e),!0)},gn(this.props.controller(),{gravity:"s"})),li.createElement(ze,{getAriaLabel:()=>this.getAriaLabel("speech"),latex:()=>this.getValue(),config:this.bindFn(this.getMQConfig)},li.createElement("span",{class:li.const("dcg-math-field dcg-cell-math-content dcg-mathquill-input-span"),role:li.const("textbox"),"aria-roledescription":()=>this.column.disabled?this.controller.s("graphing-calculator-narration-computed-cell-role-description"):void 0,"aria-readonly":li.const("true"),tabindex:()=>this.controller.isInEditListMode()||this.isEmpty()&&this.column.disabled?-1:0,onKeyDown:this.bindFn(this.handleKeydownOnReadonlyCell),manageFocus:this.const({shouldBeFocused:this.bindFn(this.shouldFocusReadonlyCell),onFocusedChanged:this.bindFn(this.handleFocusedChanged)})}))))),li.createElement(ak,{predicate:this.bindFn(this.isColumnEditable)},(()=>li.createElement(Vi,__dcg_shared_module_exports__.b({latex:()=>this.getValue(),brailleShouldFocus:this.bindFn(this.shouldFocusEditableCell),ariaLabel:()=>this.getAriaLabel("braille"),onBrailleInput:e=>this.handleLatexChanged(e),onBrailleFocusedChanged:this.bindFn(this.handleFocusedChanged),onBrailleKeydown:this.bindFn(this.handleKeydownOnBrailleInput),selectOnFocus:this.const(!0)},gn(this.props.controller(),{gravity:"s"})),li.createElement(qe,{latex:()=>this.getValue(),isFocused:this.bindFn(this.shouldFocusEditableCell),capExpressionSize:()=>this.controller.getCapExpressionSize(),config:this.bindFn(this.getMQConfig),getAriaLabel:()=>this.getAriaLabel("speech"),getAriaPostLabel:this.bindFn(this.getErrorMessage),hasError:this.const(!1),onUserPressedKey:(e,t)=>this.handlePressedKey(e,t),onUserChangedLatex:e=>this.handleLatexChanged(e),onExpressionSizeExceeded:()=>this.controller.dispatch({type:"expression-size-exceeded"}),onFocusedChanged:this.bindFn(this.handleFocusedChanged),selectOnFocus:this.const(!0),needsSystemKeypad:()=>!this.controller.isKeypadEnabled()}))))),li.createElement("div",{class:li.const("dcg-empty-line")}))}focusThisCell(e){e.wasHandled()||this.controller.isItemReadonly(this.table.id)||(e.handle(),!this.shouldFocus()&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}))}handlePressedKey(e,t){var n=qe.getFocusedMathquill();if(n){let r=qe.handleKeystrokeAndDecideIfSpecialEvent(n,e,t);e===co&&Ur(),r?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:e}):this.handleLatexChanged(n.latex())}}handleKeydownOnBrailleInput(e){let t=Le(e);if(!t)return;t===co&&Ur();let n="Enter"===t||"Up"===t||"Down"===t,r=ko(),i=r&&"Left"===t&&0===r.selectionStart||"Right"===t&&r.selectionStart===P(r).val().length;(n||i||("Del"===t||"Backspace"===t)&&0===this.getValue().length)&&(this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:"Del"===t?"Delete":t}),e.preventDefault())}handleKeydownOnReadonlyCell(e){let t=Le(e);"Tab"!==t&&(e.preventDefault(),"Esc"===t&&Ur(),t&&this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:t}))}handleLatexChanged(e){this.getValue()!==e&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:e})}shouldFocus(){return __dcg_shared_module_exports__.Ea(this.lookupCellPosition(),ao(this.table))}shouldFocusReadonlyCell(){return!this.controller.isInEditListMode()&&(this.controller.isItemReadonly(this.table.id)||!!this.column.disabled)&&this.shouldFocus()}shouldFocusEditableCell(){return!this.column.disabled&&this.shouldFocus()}isNodeWithinTableCell(e){if(!e||0===P(e).closest(".dcg-cell").length)return!1;var t=this.controller.getItemRootNodeById(this.table.id);return!!t&&P.contains(t,e)}handleFocusedChanged(e,t){e?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.isNodeWithinTableCell(t.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})}lookupCellPosition(){return{row:this.props.rowIdx(),column:this.column.index}}getPackedError(){return this.column.packedErrors[this.props.rowIdx()-1]}hasError(){return!!this.getPackedError()}getErrorMessage(){let e=this.getPackedError();return e?this.controller.unpack(e):""}getValue(){let e=this.props.rowIdx()-1,t=this.column.index;return Eb(this.table,e,t)}isEmpty(){let e=ko();return""===this.getValue()&&Op(e)}getAriaLabel(e){var t=this.lookupCellPosition(),n=t.row,r=t.column+1;return"speech"===e?this.controller.s("graphing-calculator-narration-table-row-column",{row:n.toString(),column:r.toString()}):this.controller.raw("r__row__c__column__",{row:n.toString(),column:r.toString()})}isColumnEditable(){return!this.column.disabled&&!this.controller.isItemReadonly(this.table.id)&&!this.controller.isInEditListMode()}getMQConfig(){return this.controller.getMathquillConfig({})}};at();var{For:sk}=Et.Components,ym=class extends Io{didMount(){this.onItemViewMounted()}willUnmount(){this.onItemViewUnmounted()}template(){return Et.createElement("div",{class:()=>({"dcg-expressionitem":!0,"dcg-expressiontable":!0,"dcg-readonly":this.controller.isItemReadonly(this.id),"dcg-inFolder":!!this.model.folderId,"dcg-selected":!!this.controller.isItemSelected(this.id),"dcg-dragging":!!this.controller.isItemBeingDragged(this.id),"dcg-faded-h":this.shouldFadeLastColumn(),"dcg-faded-v":this.shouldFadeLastRow()}),"expr-id":()=>this.model.id,didMount:this.bindFn(this.didMountContainer),onKeydown:this.bindFn(this.onKeydown)},Et.createElement("div",{class:Et.const("dcg-fade-container dcg-disable-horizontal-scroll-to-cursor")},Et.createElement("div",{class:Et.const("dcg-main")},Et.createElement("div",{class:Et.const("dcg-table-container"),tabindex:()=>this.controller.isInEditListMode()?0:-1,"aria-label":()=>(this.controller.getBrailleMode(),this.controller.s("graphing-calculator-narration-expression-index-table",{index:this.model.displayIndex})),didMount:this.bindFn(this.didMountContainer),manageFocus:this.const({shouldBeFocused:this.shouldBeFocused.bind(this),onFocusedChanged:this.onFocusedChanged.bind(this)})},Et.createElement("div",{class:Et.const("dcg-table-sliding-container"),style:()=>({transform:`translateX(${this.computeScrolledX()}px)`})},Et.createElement(sk,{each:()=>this.getVisibleRows(),key:e=>this.getRowGUID(e)},Et.createElement("div",{role:Et.const("grid"),class:Et.const("dcg-tabledata")},(e=>"show-more"===e.type?Et.createElement("tr",{role:Et.const("row"),class:Et.const("dcg-show-more-row")},Et.createElement("td",{colspan:this.bindFn(this.getColSpan)},this.bindFn(this.missingRowMessage),Et.createElement("div",{tabindex:Et.const(0),role:Et.const("button"),class:Et.const("dcg-show-more"),onTap:()=>this.controller.dispatch({type:"table-show-more-rows",id:this.id})},(()=>this.controller.s("graphing-calculator-button-show-all-table-rows"))))):"spacer-row"===e.type?Et.createElement("tr",{role:Et.const("row"),class:Et.const("dcg-blank-row")},Et.createElement("td",{colspan:this.bindFn(this.getColSpan),style:()=>({height:(e.endIdx-e.startIdx+1)*this.getRowHeight()+"px"})})):"header"===e.type?Et.createElement(sk,{each:()=>this.model.columnModels,key:e=>e.guid},Et.createElement("tr",{role:Et.const("row"),"aria-rowindex":Et.const(0),class:()=>({"dcg-row":e,"dcg-braille-row":"none"!==this.controller.getBrailleMode()})},(e=>Et.createElement(fm,{controller:this.props.controller,model:this.const(e)})))):Et.createElement(sk,{each:()=>this.model.columnModels,key:e=>e.guid},Et.createElement("tr",{role:Et.const("row"),"aria-rowindex":()=>e.index,class:()=>({"dcg-row":e,"dcg-braille-row":"none"!==this.controller.getBrailleMode()})},(t=>Et.createElement(mm,{controller:this.props.controller,column:this.const(t),rowIdx:()=>e.index})))))))))),Et.createElement(Ra,{controller:this.props.controller,model:this.props.model})),Et.createElement("span",{class:Et.const("dcg-tab dcg-action-drag"),handleevent:Et.const("true"),tapboundary:Et.const("true"),disablescroll:Et.const("true"),style:Et.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},Et.createElement("span",{class:Et.const("dcg-num")},(()=>this.model.displayIndex)),Et.createElement("div",{class:Et.const("dcg-tab-interior")}),Et.createElement(Kp,{model:this.props.model,controller:this.props.controller})),Et.createElement(Fa,{controller:this.props.controller,id:()=>this.model.id}))}getRowGUID(e){switch(e.type){case"header":return"header";case"show-more":return"show-more";case"spacer-row":return`spacer-${e.startIdx}-${e.endIdx}`;case"standard-row":return`row-${e.index}`}}getColSpan(){return this.model.columnModels.length-1}getRowHeight(){return this.controller.getGraphSettings().config.projectorMode?38:33}getVisibleRows(){let e=[{type:"header"}],t=Da(this.model)+1;if(t<=25){for(let n=1;n<t;n++)e.push({type:"standard-row",index:n});return e}let n=ad(this.model);if(void 0!==n){for(let t=1;t<n.min;t++)e.push({type:"standard-row",index:t});e.push({type:"show-more"});for(let r=n.max;r<t;r++)e.push({type:"standard-row",index:r});return e}let r=jf(this.controller),i=r?r.height:0,o=P(this.node).offset(),a=(o?o.top:0)-(r?r.top:0),s=P(this.node).find(".dcg-row:eq(0)").height(),l=this.getRowHeight();if(i/l>t){for(let n=1;n<t;n++)e.push({type:"standard-row",index:n});return e}let c=(-a-s)/l,d=(i-a)/l;for(var p=1;p<t;p++){let n=ao(this.model);if(p===t-2||n&&n.row===p)e.push({type:"standard-row",index:p});else if(p>d||p<c){let t=e[e.length-1];t&&"spacer-row"===t.type?t.endIdx=p:e.push({type:"spacer-row",startIdx:p,endIdx:p})}else e.push({type:"standard-row",index:p})}return e}missingRowMessage(){let e=ad(this.model);return void 0===e?"":this.controller.s("graphing-calculator-text-table-more-rows",{rowCount:e.max-e.min})}didMountContainer(e){this.node=e,P(e).on("scroll",(()=>e.scrollLeft=0))}getSelectedCell(){return ao(this.model)}computeScrolledX(){if(!this.getSelectedCell()||!this.node)return 0;let e=this.node.children[0],t=this.node.querySelector(".dcg-selected");if(null===e||null===t)return 0;let n=this.node.getBoundingClientRect(),r=t.getBoundingClientRect(),i=r.left-e.getBoundingClientRect().left,o=n.width-i-r.width-80,a=Math.min(0,n.width-e.scrollWidth-30);return o=Math.max(o,a),Math.min(0,o)}shouldFadeLastRow(){return bG(this.model)&&!this.isBottomFocused()}shouldFadeLastColumn(){return!this.isRightFocused()}isBottomFocused(){let e=this.getSelectedCell();return!!e&&e.row===Da(this.model)}isRightFocused(){let e=this.getSelectedCell();return!!e&&e.column===this.model.columnModels.length-1}isReadonly(){return this.controller.isItemReadonly(this.id)}isFocused(){return!!this.getSelectedCell()}onKeydown(e){this.controller.isInEditListMode()||e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey&&("Up"===Le(e)?(e.preventDefault(),e.stopPropagation(),this.moveToFirstCellInColumn()):"Down"===Le(e)?(e.preventDefault(),e.stopPropagation(),this.moveToLastCellInColumn()):"Left"===Le(e)?(e.preventDefault(),e.stopPropagation(),this.moveToFirstCellInRow()):"Right"===Le(e)?(e.preventDefault(),e.stopPropagation(),this.moveToLastCellInRow()):"H"===Ei(e)&&(e.preventDefault(),e.stopPropagation(),this.speakColumnHeader()))}moveToFirstCellInColumn(){let e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:0,column:e.column}}})}moveToLastCellInColumn(){let e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:Da(this.model),column:e.column}}})}moveToFirstCellInRow(){let e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:e.row,column:0}}})}moveToLastCellInRow(){let e=this.getSelectedCell();e&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:e.row,column:Da(this.model)-1}}})}speakColumnHeader(){let e=this.controller.s("graphing-calculator-narration-table-no-column-header"),t=this.getSelectedCell();if(t){let n=this.model.columnModels[t.column].latex;n&&(e=Ca.StaticMath(document.createElement("span")).latex(n).mathspeak())}ge(e)}focusHelperOptions(){return{controller:this.controller,location:{type:"table-container",id:this.model.id}}}shouldBeFocused(){return Dd(this.focusHelperOptions())}onFocusedChanged(e){if(this.controller.isInEditListMode())return nD(this.focusHelperOptions(),e)}},gr=__dcg_shared_module_exports__.i(ne()),bm=class extends Io{didMount(){this.onItemViewMounted()}willUnmount(){this.onItemViewUnmounted()}template(){return gr.createElement("div",{class:()=>({"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-readonly":this.controller.isItemReadonly(this.id),"dcg-expressionfolder":!0,"dcg-inFolder":!1,"dcg-selected":this.renderAsSelected(),"dcg-dragging":!!this.controller.isItemBeingDragged(this.id),"dcg-collapsed":!!this.model.collapsed,"dcg-hidden":!!this.model.hidden,"dcg-has-items":this.controller.getNumberOfItemsInFolder(this.id)>0,"dcg-secretFolder":this.model.secret&&!this.controller.shouldShowAuthorFeatures()}),"expr-id":()=>this.model.id,onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},gr.createElement("div",{class:gr.const("dcg-fade-container")},gr.createElement("div",{class:gr.const("dcg-main")},gr.createElement("div",{role:gr.const("button"),tabindex:gr.const("0"),"aria-pressed":()=>this.model.collapsed,"aria-label":()=>this.model.collapsed?yi(this.model,"expand"):yi(this.model,"collapse"),class:gr.const("dcg-caret-container dcg-action-toggle-folder-collapsed dcg-do-not-blur"),handleEvent:gr.const("true"),onTap:this.bindFn(this.toggleCollapsed)},gr.createElement("i",{class:gr.const("dcg-icon-caret-down"),"aria-hidden":gr.const("true")})),gr.createElement(jl,{shouldFocus:this.bindFn(this.isFocused),text:()=>this.model.title,showLinks:()=>this.controller.areLinksEnabled(),onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey),ariaLabel:this.bindFn(this.getAriaLabel),readonly:()=>this.controller.isInEditListMode()||this.controller.isItemReadonly(this.id),readonlyAction:this.const({predicate:()=>this.controller.isInEditListMode(),action:()=>this.exitEditListMode()}),placeholder:()=>this.controller.s("graphing-calculator-text-folder-placeholder")}),gr.createElement(kt,{checked:()=>this.model.secret,class:this.const("dcg-action-toggle-secret-folder dcg-do-not-blur"),style:()=>({display:this.controller.shouldShowAuthorFeatures()?void 0:"none"}),onChange:this.bindFn(this.toggleSecret)},gr.createElement("span",{class:gr.const("dcg-checkbox-label")},(()=>this.controller.s("graphing-calculator-button-hide-folder-from-students-2"))))),gr.createElement(Ra,{controller:this.props.controller,model:this.props.model})),gr.createElement("span",{class:gr.const("dcg-tab dcg-action-drag"),handleevent:gr.const("true"),tapboundary:gr.const("true"),disablescroll:gr.const("true"),style:gr.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},gr.createElement("span",{class:gr.const("dcg-num")},(()=>this.model.displayIndex)),gr.createElement("div",{class:gr.const("dcg-tab-interior")},gr.createElement("span",{role:gr.const("button"),tabindex:gr.const("0"),"aria-pressed":()=>!!this.model.hidden,"aria-label":()=>this.model.hidden?yi(this.model,"show"):yi(this.model,"hide"),class:gr.const("dcg-circular-icon-container dcg-expression-icon-container"),onTap:this.bindFn(this.toggleHidden)},gr.createElement(Li,{iconType:()=>this.model.hidden?"hidden":"folder",whiteIcon:()=>this.renderAsSelected()||this.controller.isItemBeingDragged(this.model.id)})))),gr.createElement(Fa,{controller:this.props.controller,id:()=>this.model.id}))}renderAsSelected(){return this.controller.isItemSelected(this.model.id)||this.model.collapsedChildIsSelected}toggleHidden(){this.controller.dispatch({type:"toggle-item-hidden",id:this.id})}toggleSecret(){this.controller.dispatch({type:"set-item-secret",id:this.id,isSecret:!this.model.secret})}toggleCollapsed(){this.controller.dispatch({type:"set-folder-collapsed",id:this.id,isCollapsed:!this.model.collapsed})}onInput(e){this.controller.dispatch({type:"set-folder-title",id:this.id,title:e})}onFocusChange(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"folder",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"folder",id:this.id}})}onSpecialKey(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})}isFocused(){let e=this.controller.getFocusLocation();return!(!e||"folder"!==e.type||e.id!==this.id)}getAriaLabel(){let e="",t="";switch((this.model.hidden?1:0)+(this.model.collapsed?16:0)+(this.model.secret?256:0)+(this.model.readonly?4096:0)){case 0:t=this.controller.s("graphing-calculator-narration-description-folder");break;case 1:t=this.controller.s("graphing-calculator-narration-description-hidden-folder");break;case 16:t=this.controller.s("graphing-calculator-narration-description-collapsed-folder");break;case 256:t=this.controller.s("graphing-calculator-narration-description-secret-folder");break;case 4096:t=this.controller.s("graphing-calculator-narration-description-readonly-folder");break;case 17:t=this.controller.s("graphing-calculator-narration-description-hidden-collapsed-folder");break;case 257:t=this.controller.s("graphing-calculator-narration-description-hidden-secret-folder");break;case 4097:t=this.controller.s("graphing-calculator-narration-description-hidden-readonly-folder");break;case 272:t=this.controller.s("graphing-calculator-narration-description-collapsed-secret-folder");break;case 4352:t=this.controller.s("graphing-calculator-narration-description-secret-readonly-folder");break;case 4112:t=this.controller.s("graphing-calculator-narration-description-collapsed-readonly-folder");break;case 273:t=this.controller.s("graphing-calculator-narration-description-hidden-collapsed-secret-folder");break;case 4113:t=this.controller.s("graphing-calculator-narration-description-hidden-collapsed-readonly-folder");break;case 4353:t=this.controller.s("graphing-calculator-narration-description-hidden-secret-readonly-folder");break;case 4368:t=this.controller.s("graphing-calculator-narration-description-collapsed-secret-readonly-folder");break;case 4369:t=this.controller.s("graphing-calculator-narration-description-hidden-collapsed-secret-readonly-folder")}let n=this.controller.getNumberOfItemsInFolder(this.id);return e=n>0?this.controller.s("graphing-calculator-narration-folder-has-items",{folder:t,count:n}):t,e}};at();var Ke=__dcg_shared_module_exports__.i(ne());function Ww(e){let t=document.createElement("a");return t.href=e,t.href}var yo=__dcg_shared_module_exports__.i(ne()),{SwitchUnion:xU}=yo.Components,xm=class extends yo.Class{init(){this.model=this.props.model(),this.controller=this.props.controller()}template(){return yo.createElement("div",{class:yo.const("dcg-expression-icon-container dcg-image-icon-container")},xU(this.bindFn(this.typeOfIcon),{error:()=>yo.createElement(Jn,{error:()=>this.controller.unpack(this.model.error),isWhite:this.bindFn(this.isSelected),gravity:this.const("se")}),failed:()=>yo.createElement("span",null),loading:()=>yo.createElement(Li,{iconType:this.const("loading")}),hidden:()=>this.buildIconView(),image:()=>this.buildIconView()}))}buildIconView(){return yo.createElement("div",{class:yo.const("dcg-circular-icon-container"),role:yo.const("button"),tabindex:yo.const("0"),"dcg-open-menu-guid":()=>this.getMenuGUID(),"aria-label":this.bindFn(this.getIconAriaLabel),onTap:e=>{if(!e.wasHandled("dragdrop")&&!e.wasLongheld()){if(this.myOptionsOpen())return this.toggleOptions(e);if(this.controller.isInEditListMode()||e.shiftKey)return this.toggleOptions(e);this.toggleImageShown()}},onLongHold:e=>{e.handle("dcg-longhold"),e.handle("dcg-tap"),this.toggleOptions(e)},manageFocus:this.const(ut({controller:this.controller,location:{type:"image-icon",id:this.model.id}}))},yo.createElement(Li,{iconType:()=>"hidden"===this.typeOfIcon()?"hidden":"background",backgroundImage:this.bindFn(this.getBackgroundImage),backgroundOpacity:this.const(1),whiteIcon:this.bindFn(this.isSelected)}))}isSelected(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)}typeOfIcon(){return"loading"===this.model.loadStatus?"loading":"failed"===this.model.loadStatus?"failed":this.hasError()?"error":this.model.shouldGraph?"image":"hidden"}getMenuGUID(){return this.model.guid}myOptionsOpen(){return this.controller.isItemSettingsMenuOpen(this.getMenuGUID())}toggleOptions(e){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"image",model:this.model,guid:this.getMenuGUID(),focusFirstOption:"keyboard"===e.device}})}hasError(){return!!this.model.error&&"none"===this.controller.getBrailleMode()}getBackgroundImage(){return this.model.image_url===this.lastURL||(this.lastURL=this.model.image_url,this.lastEncodedURL='url("'+Ww(this.model.image_url)+'")'),this.lastEncodedURL}toggleImageShown(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id}),this.controller.dispatch({type:"set-focus-location",location:{type:"image-icon",id:this.model.id}})}getIconAriaLabel(){return this.myOptionsOpen()?yi(this.model,"hide-options"):this.controller.isInEditListMode()?yi(this.model,"show-options"):this.model.hidden?yi(this.model,"show"):yi(this.model,"hide")}},Na=__dcg_shared_module_exports__.i(ne());at();var Yl=class extends Na.Class{init(){this.controller=this.props.controller()}template(){return Na.createElement("div",{class:Na.const("dcg-do-not-blur"),onTap:this.bindFn(this.newImage),handleEvent:Na.const("true"),role:Na.const("button"),tabindex:()=>this.props.readonly()?-1:0,"aria-label":this.props.ariaLabel,"aria-disabled":()=>this.props.readonly(),manageFocus:this.const(this.props.location?ut({controller:this.controller,location:this.props.location()}):void 0)},this.children,Na.createElement("input",{type:Na.const("file"),accept:Na.const("image/*"),style:Na.const("display: none"),didMount:this.bindFn(this.didMountFileInput)}))}didMountFileInput(e){this.fileInputNode=e,P(e).on("change",(()=>{this.props.onFileChange(e.files),P(e).val("")}))}newImage(){this.props.readonly()||this.fileInputNode.click()}},{If:wm,SwitchUnion:wU}=Ke.Components,Pd=class extends Ke.Class{init(){this.model=this.props.model(),this.controller=this.props.controller()}template(){return Ke.createElement(Ir,{containerClass:()=>({"dcg-image-input-mathquill":!0,"dcg-suffix-degree":"angle"===this.props.name()&&this.props.controller().getGraphSettings().degreeMode,"dcg-suffix-radian":"angle"===this.props.name()&&!this.props.controller().getGraphSettings().degreeMode}),fontSize:this.const("large"),fullWidth:this.const(!0),readonly:this.props.readonly,latex:()=>this.model[this.props.name()],isFocused:()=>this.props.focusedInput()===this.props.name(),ariaLabel:()=>this.controller.raw(this.props.name()),handleFocusChanged:this.bindFn(this.handleMQFocusedChanged),hasError:()=>UG(this.model,this.props.name()),controller:this.props.controller,handlePressedKey:this.bindFn(this.handlePressedKey),handleLatexChanged:this.bindFn(this.handleLatexChanged),noBorder:()=>!this.props.focusedInput()})}getInputs(){return["center","width","angle","height","opacity"]}handlePressedKey(e,t){let n=this.props.name();var r=qe.getFocusedMathquill();let i=this.getInputs(),o=i.indexOf(n);if(!this.controller.isInEditListMode()){if("Enter"===e)return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});if("Esc"===e)return void Ur()}let a=-1;"Up"===e&&(a=1===o?4:o-2),"Down"===e&&(a=4===o?1:o+2),"Left"===e&&(a=o-1),"Right"===e&&(a=o+1);let s=e;if(a>=0&&a<i.length){let n=!1;if(r)n=qe.applyArrowKeyAndReturnIfWasAtBounds(r,s,t);else if("Up"===e||"Down"===e)n=!0;else{let t=ko();n=t&&("Left"===e&&0===t.selectionStart||"Right"===e&&t.selectionStart===P(t).val().length)}n&&(this.focusInput(i[a]),t&&t.preventDefault())}else r&&(r.keystroke(e,t),this.handleLatexChanged(r.latex()))}focusInput(e){this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.model.id,location:e}})}handleLatexChanged(e){let t=this.props.name();this.model.draggingOnGraphpaper||PG(this.model,t)!==e&&this.controller.dispatch({type:"set-image-mq-attribute",id:this.model.id,attribute:t,latex:e})}handleMQFocusedChanged(e){let t=this.props.name();e?this.props.focusedInput()!==t&&this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.model.id,location:t}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"image",id:this.model.id,location:t}})}},vm=class extends Io{didMount(){this.onItemViewMounted()}willUnmount(){this.onItemViewUnmounted()}template(){return Ke.createElement("div",{class:()=>({"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-readonly":this.controller.isItemReadonly(this.id),"dcg-expressionimage":!0,"dcg-inFolder":!!this.model.folderId,"dcg-selected":this.controller.isItemSelected(this.id),"dcg-dragging":!!this.controller.isItemBeingDragged(this.id),"dcg-input-focused":this.getFocusedInput()&&"name"!==this.getFocusedInput()}),"expr-id":()=>this.model.id,onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},Ke.createElement("div",{class:Ke.const("dcg-fade-container")},Ke.createElement("div",{class:Ke.const("dcg-main")},wU((()=>this.model.loadStatus),{failed:()=>Ke.createElement("div",null,Ke.createElement("div",{class:Ke.const("dcg-image-failed")},(()=>this.controller.s("graphing-calculator-error-failed-to-load-image"))),Ke.createElement("div",{role:Ke.const("button"),tabindex:Ke.const(0),class:Ke.const("dcg-retry-loading-image"),onTap:this.bindFn(this.onRetryLoad)},(()=>this.controller.s("graphing-calculator-button-load-image-retry")))),loading:()=>Ke.createElement("div",null,Ke.createElement("div",{class:Ke.const("dcg-image-loading")},(()=>this.controller.s("graphing-calculator-text-loading-image"))),Ke.createElement("div",{role:Ke.const("button"),tabindex:Ke.const(0),class:Ke.const("dcg-retry-loading-image"),onTap:this.bindFn(this.onRetryLoad)},(()=>this.controller.s("graphing-calculator-button-load-image-retry")))),loaded:()=>Ke.createElement("div",{class:Ke.const("dcg-image-loaded")},Ke.createElement("div",{class:Ke.const("dcg-image-title-row")},Ke.createElement(jl,{shouldFocus:()=>"name"===this.getFocusedInput(),text:()=>this.model.name,ariaLabel:()=>yi(this.model,"edit_title"),placeholder:()=>this.controller.s("graphing-calculator-text-image-placeholder"),showLinks:()=>this.controller.areLinksEnabled(),onInput:this.bindFn(this.onNameInput),onFocusChange:this.bindFn(this.onNameFocusChange),onSpecialKey:this.bindFn(this.onNameSpecialKey),readonly:()=>this.controller.isInEditListMode()||this.isReadonly()}),Ke.createElement(wm,{predicate:()=>this.controller.areImagesEnabled()},(()=>Ke.createElement(Yl,{controller:()=>this.controller,ariaLabel:()=>this.controller.s("graphing-calculator-button-change-image"),onFileChange:e=>this.insertFiles(e),location:this.const({type:"change-image-btn",id:this.id}),readonly:this.bindFn(this.isReadonly)},Ke.createElement(wm,{predicate:()=>!this.isReadonly()},(()=>Ke.createElement("div",{class:Ke.const("dcg-action-changeimage")},(()=>this.controller.s("graphing-calculator-button-change-image"))))))))),Ke.createElement("div",{class:()=>({"dcg-do-blur":!0,"dcg-image-input-grid":!0}),handleEvent:Ke.const("true")},Ke.createElement("div",{class:Ke.const("dcg-image-input-name")},(()=>this.controller.s("graphing-calculator-label-image-center"))),Ke.createElement(Pd,{name:this.const("center"),controller:()=>this.controller,model:()=>this.model,focusedInput:this.bindFn(this.getFocusedInput),readonly:this.bindFn(this.isReadonly)}),Ke.createElement("div",{class:Ke.const("dcg-image-input-name")},(()=>this.controller.s("graphing-calculator-label-image-width"))),Ke.createElement(Pd,{name:this.const("width"),controller:()=>this.controller,model:()=>this.model,focusedInput:this.bindFn(this.getFocusedInput),readonly:this.bindFn(this.isReadonly)}),Ke.createElement("div",{class:Ke.const("dcg-image-input-name")},(()=>this.controller.s("graphing-calculator-label-image-angle"))),Ke.createElement(Pd,{name:this.const("angle"),controller:()=>this.controller,model:()=>this.model,focusedInput:this.bindFn(this.getFocusedInput),readonly:this.bindFn(this.isReadonly)}),Ke.createElement("div",{class:Ke.const("dcg-image-input-name")},(()=>this.controller.s("graphing-calculator-label-image-height"))),Ke.createElement(Pd,{name:this.const("height"),controller:()=>this.controller,model:()=>this.model,focusedInput:this.bindFn(this.getFocusedInput),readonly:this.bindFn(this.isReadonly)}),Ke.createElement("div",{class:Ke.const("dcg-image-input-name")},(()=>this.controller.s("graphing-calculator-label-image-opacity"))),Ke.createElement(Pd,{name:this.const("opacity"),controller:()=>this.controller,model:()=>this.model,focusedInput:this.bindFn(this.getFocusedInput),readonly:this.bindFn(this.isReadonly)})))})),Ke.createElement("span",{class:Ke.const("dcg-fadeout")}),Ke.createElement(Ra,{controller:this.props.controller,model:this.props.model}),Ke.createElement(wm,{predicate:this.bindFn(this.shouldShowBrailleError)},(()=>Ke.createElement("div",{class:this.getFooterClass()},Ke.createElement("div",{tabindex:Ke.const(0),class:Ke.const("dcg-expression-braille-error"),"aria-roledescription":Ke.const("error"),"aria-label":()=>this.controller.unpack(this.model.error)},Ke.createElement("i",{class:Ke.const("dcg-icon-error"),"aria-hidden":Ke.const("true")}),(()=>this.controller.unpack(this.model.error)))))),Ke.createElement(wm,{predicate:()=>Tb(this.model).length>0&&this.controller.areSlidersEnabled()},(()=>Ke.createElement("div",{class:this.getFooterClass()},Ke.createElement(ws,{model:this.props.model,controller:this.props.controller})))),Ke.createElement(wm,{predicate:this.bindFn(this.shouldShowActionInfo)},(()=>Ke.createElement("div",{class:this.getFooterClass()},Ke.createElement(Vd,{model:this.props.model,controller:this.props.controller}))))),Ke.createElement("span",{class:Ke.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:Ke.const("true"),tapboundary:Ke.const("true"),disablescroll:Ke.const("true"),style:Ke.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},Ke.createElement("span",{class:Ke.const("dcg-num")},(()=>this.model.displayIndex)),Ke.createElement("div",{class:Ke.const("dcg-tab-interior dcg-action-icon-mouse")},Ke.createElement(xm,{model:this.props.model,controller:this.props.controller}))),Ke.createElement(Fa,{controller:this.props.controller,id:()=>this.model.id}))}isReadonly(){return this.controller.isItemReadonly(this.id)}shouldShowActionInfo(){return!!(this.model.clickableInfo&&this.model.clickableInfo.enabled&&this.model.clickableInfo.latex)}getFooterClass(){return this.isFirstRender()?this.const("dcg-expression-bottom dcg-indent-in-folder"):this.const("dcg-expression-bottom dcg-fadein-bottom dcg-indent-in-folder")}onNameInput(e){this.controller.dispatch({type:"set-image-name",id:this.id,name:e})}onNameFocusChange(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.id,location:"name"}}):"name"===this.getFocusedInput()&&this.controller.dispatch({type:"blur-focus-location",location:{type:"image",id:this.id,location:"name"}})}onNameSpecialKey(e){return this.controller.dispatch({type:"on-special-key-pressed",key:e})}getFocusedInput(){let e=this.controller.getFocusLocation();if(e&&"image"===e.type&&e.id===this.model.id)return e.location}onRetryLoad(){this.controller.dispatch({type:"image-retry-loading",id:this.id})}shouldShowBrailleError(){return"none"!==this.controller.getBrailleMode()&&!!this.model.error}insertFiles(e){this.controller.dispatch({type:"change-image",files:e,id:this.id})}onMouseSelect(e){"dcg-tap"===e.type&&"mouse"===e.device||"dcg-tapstart"===e.type&&"touch"===e.device||e.wasHandled()||(e.handle(),this.controller.dispatch({type:"set-selected-id",id:this.id}))}},Cm=__dcg_shared_module_exports__.i(ne()),Sm=class extends Io{didMount(){this.onItemViewMounted()}willUnmount(){this.onItemViewUnmounted()}template(){let e="";return this.model.cachedRenderHeight&&(e="height:"+this.model.cachedRenderHeight+"px"),Cm.createElement("div",{class:Cm.const("dcg-do-not-blur dcg-expressionitem dcg-shell"),"expr-id":this.const(this.model.id),onTap:this.bindFn(this.onMouseSelect),style:Cm.const(e)})}},Up=__dcg_shared_module_exports__.i(ne()),Em=class extends Up.Class{init(){this.controller=this.props.controller()}template(){return Up.createElement("div",{class:Up.const("dcg-drag-container"),style:()=>({top:this.getTopPx()})},this.children)}getTopPx(){let e=this.controller.getRawDragState();if(e)return e.itemTop+"px"}};at();var cl={delimiter:"",header:!1,dynamicTyping:!1,preview:0,step:void 0,encoding:"",comments:!1,complete:void 0,error:void 0,download:!1,chunk:void 0,keepEmptyRows:!1},ci={};function vU(e,t){var n=SU(t);if("string"==typeof e){if(!n.download)return new qp(n).parse(e);new tO(n).stream(e)}else if(e instanceof File)if(n.step||n.chunk){new rO(n).stream(e)}else{new qp(n);reader=new FileReader,reader.onload=function(e){new qp(n).parse(e.target.result)},reader.onerror=function(){Jo(n.error)&&n.error(reader.error,e)},reader.readAsText(e,n.encoding)}}function CU(e,t){var n=!1,r=",",i="\r\n";if("object"==typeof t&&("string"==typeof t.delimiter&&1==t.delimiter.length&&-1==ci.BAD_DELIMITERS.indexOf(t.delimiter)&&(r=t.delimiter),("boolean"==typeof t.quotes||t.quotes instanceof Array)&&(n=t.quotes),"string"==typeof t.newline&&(i=t.newline)),"string"==typeof e&&(e=JSON.parse(e)),e instanceof Array){if(!e.length||e[0]instanceof Array)return a(null,e);if("object"==typeof e[0])return a(o(e[0]),e)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data instanceof Array&&(e.fields||(e.fields=e.data[0]instanceof Array?e.fields:o(e.data[0])),!(e.data[0]instanceof Array)&&"object"!=typeof e.data[0]&&(e.data=[e.data])),a(e.fields||[],e.data||[]);throw"exception: Unable to serialize unrecognized input";function o(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function a(e,t){var n="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var o=e instanceof Array&&e.length>0,a=!(t[0]instanceof Array);if(o){for(var l=0;l<e.length;l++)l>0&&(n+=r),n+=s(e[l],l);t.length>0&&(n+=i)}for(var c=0;c<t.length;c++){for(var d=o?e.length:t[c].length,p=0;p<d;p++){p>0&&(n+=r);var u=o&&a?e[p]:p;n+=s(t[c][u],p)}c<t.length-1&&(n+=i)}return n}function s(e,t){if(null==e)return"";e=e.toString().replace(/"/g,'""');var i="boolean"==typeof n&&n||n instanceof Array&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}(e,ci.BAD_DELIMITERS)||e.indexOf(r)>-1||" "==e.charAt(0)||" "==e.charAt(e.length-1);return i?'"'+e+'"':e}}function tO(e){(e=e||{}).chunkSize||(e.chunkSize=ci.RemoteChunkSize);var t,n,r=0,i="",o="",a=new qp(Dm(e));this.stream=function(s){function l(){if(4==t.readyState){if(t.status<200||t.status>=400)return void c();i+=o+t.responseText,o="";var s=!e.step||r>function(e){var t=e.getResponseHeader("Content-Range");return parseInt(t.substr(t.lastIndexOf("/")+1))}(t);if(!s){var l=i.lastIndexOf("\n");if(l<0&&(l=i.lastIndexOf("\r")),!(l>-1))return void n();o=i.substring(l+1),i=i.substring(0,l)}var d=a.parse(i);i="",Jo(e.chunk)&&(e.chunk(d),d=void 0),!s&&!d.meta.paused&&n()}}function c(){Jo(e.error)&&e.error(t.statusText)}(n=function(){!function(){if((t=new XMLHttpRequest).onload=l,t.onerror=c,t.open("GET",s,!0),e.step){var n=r+e.chunkSize-1;t.setRequestHeader("Range","bytes="+r+"-"+n)}t.send(),r+=e.chunkSize}()})()}}function rO(e){(e=e||{}).chunkSize||(e.chunkSize=ci.LocalChunkSize);var t,n=0,r="",i="",o=new qp(Dm(e)),a="function"==typeof FileReader;this.stream=function(s){var l=s.slice||s.webkitSlice||s.mozSlice;function c(){var r,i;n<s.size&&(r=Math.min(n+e.chunkSize,s.size),i=t.readAsText(l.call(s,n,r),e.encoding),a||d({target:{result:i}}))}function d(t){n+=e.chunkSize,r+=i+t.target.result,i="";var a=n>=s.size;if(!a){var l=r.lastIndexOf("\n");if(l<0&&(l=r.lastIndexOf("\r")),!(l>-1))return void c();i=r.substring(l+1),r=r.substring(0,l)}var d=o.parse(r);r="",Jo(e.chunk)&&(e.chunk(d,s),d=void 0),!a&&!d.meta.paused&&c()}a?((t=new FileReader).onload=d,t.onerror=function(){Jo(e.error)&&e.error(t.error,s)}):t=new FileReaderSync,c()}}function qp(e){var t,n,r,i=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=this,a=!1,s=[],l={data:[],errors:[],meta:{}};function c(){return l&&r&&(u("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+ci.DefaultDelimiter+"'"),r=!1),d()&&function(){if(l){for(var e=0;d()&&e<l.data.length;e++)for(var t=0;t<l.data[e].length;t++)s.push(l.data[e][t]);l.data.splice(0,1)}}(),function(){if(!l||!e.header&&!e.dynamicTyping)return l;for(var t=0;t<l.data.length;t++){for(var n={},r=0;r<l.data[t].length;r++){if(e.dynamicTyping){var i=l.data[t][r];l.data[t][r]="true"==i||"false"!=i&&p(i)}e.header&&(r>=s.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(l.data[t][r])):n[s[r]]=l.data[t][r])}e.header&&(l.data[t]=n,r>s.length?u("FieldMismatch","TooManyFields","Too many fields: expected "+s.length+" fields but parsed "+r,t):r<s.length&&u("FieldMismatch","TooFewFields","Too few fields: expected "+s.length+" fields but parsed "+r,t))}return e.header&&l.meta&&(l.meta.fields=s),l}()}function d(){return e.header&&0==s.length}function p(e){return i.test(e)?parseFloat(e):e}function u(e,t,n,r){l.errors.push({type:e,code:t,message:n,row:r})}e=Dm(e),this.parse=function(i){if(r=!1,!e.delimiter){var s=function(t){for(var n,r,i,o=[",","\t","|",";",ci.RECORD_SEP,ci.UNIT_SEP],a=0;a<o.length;a++){var s=o[a],l=0,c=0;i=void 0;for(var d=new jw({delimiter:s,preview:10}).parse(t),p=0;p<d.data.length;p++){var u=d.data[p].length;(c+=u,void 0!==i)?u>1&&(l+=Math.abs(u-i),i=u):i=u}c/=d.data.length,(void 0===r||l<r)&&c>1.99&&(r=l,n=s)}return e.delimiter=n,{successful:!!n,bestDelimiter:n}}(i);s.successful?e.delimiter=s.bestDelimiter:(r=!0,e.delimiter=ci.DefaultDelimiter),l.meta.delimiter=e.delimiter}if(Jo(e.step)){var p=e.step;e.step=function(e){l=e,d()?c():p(c(),o)}}return e.preview&&e.header&&e.preview++,t=i,n=new jw(e),l=n.parse(t),c(),Jo(e.complete)&&!a&&e.complete(l),a?{meta:{paused:!0}}:l},this.pause=function(){a=!0,n.abort(),t=t.substr(n.getCharIndex())},this.resume=function(){a=!1,(n=new jw(e)).parse(t),Jo(e.complete)&&!a&&e.complete(l)},this.abort=function(){n.abort(),Jo(e.complete)&&e.complete(l),t=""}}function jw(e){var t,n,r,i,o,a,s,l,c,d,p,u,h,g,m=/^\s*$/,f=!1;function y(){s++,a=t[s]}function b(){S()&&!M()?l=!l:(v(),l&&M()?s++:T("Quotes","UnexpectedQuotes","Unexpected quotes"))}function x(){(E(s)||I(s))&&c++,v()}function _(){a==n?w():E(s)?(A(),y()):I(s)?A():r&&(0==s||I(s-1)||E(s-2))&&t[s]===r?function(){for(;!E(s)&&!I(s)&&s<t.length;)y()}():v()}function v(){d[u][h]+=a}function w(){d[u].push(""),h=d[u].length-1}function A(){k(),c++,g++,d.push([]),u=d.length-1,w()}function k(){1==d[u].length&&m.test(d[u][0])&&(e.keepEmptyRows?d[u].splice(0,1):d.splice(u,1),u=d.length-1),Jo(i)&&(d[u]&&i(P()),D())}function E(e){return e<t.length-1&&("\r"==t[e]&&"\n"==t[e+1]||"\n"==t[e]&&"\r"==t[e+1])}function I(e){return"\r"==t[e]||"\n"==t[e]}function M(){return!S()&&s<t.length-1&&'"'==t[s+1]}function S(){return!l&&C(s-1)||C(s+1)}function C(e){"number"!=typeof e&&(e=s);var r=t[e];return e<=-1||e>=t.length||r==n||"\r"==r||"\n"==r}function T(e,t,n){p.push({type:e,code:t,message:n,line:c,row:u,index:s})}function D(){d=[],p=[],u=0,h=0}function P(){return{data:d,errors:p,meta:{lines:c,delimiter:n,aborted:f,truncated:o>0&&s<t.length}}}n=(e=e||{}).delimiter,r=e.comments,i=e.step,o=e.preview,("string"!=typeof n||1!=n.length||ci.BAD_DELIMITERS.indexOf(n)>-1)&&(n=","),!0===r?r="#":("string"!=typeof r||1!=r.length||ci.BAD_DELIMITERS.indexOf(r)>-1||r==n)&&(r=!1),this.parse=function(e){if("string"!=typeof e)throw"Input must be a string";return function(e){t=e,l=!1,s=0,g=0,c=1,D(),d=[[""]],a=t[s]}(e),function(){for(;s<t.length&&!(f||o>0&&g>=o);)'"'==a?b():l?x():_(),y();return function(){if(f&&T("Abort","ParseAbort","Parsing was aborted by the user's step function"),l&&T("Quotes","MissingQuotes","Unescaped or mismatched quotes"),k(),!Jo(i))return P()}()}()},this.abort=function(){f=!0},this.getCharIndex=function(){return s}}function SU(e){"object"!=typeof e&&(e={});var t=Dm(e);return("string"!=typeof t.delimiter||1!=t.delimiter.length||ci.BAD_DELIMITERS.indexOf(t.delimiter)>-1)&&(t.delimiter=cl.delimiter),"boolean"!=typeof t.header&&(t.header=cl.header),"boolean"!=typeof t.dynamicTyping&&(t.dynamicTyping=cl.dynamicTyping),"number"!=typeof t.preview&&(t.preview=cl.preview),"function"!=typeof t.step&&(t.step=cl.step),"function"!=typeof t.complete&&(t.complete=cl.complete),"function"!=typeof t.error&&(t.error=cl.error),"string"!=typeof t.encoding&&(t.encoding=cl.encoding),"boolean"!=typeof t.download&&(t.download=cl.download),"boolean"!=typeof t.keepEmptyRows&&(t.keepEmptyRows=cl.keepEmptyRows),t}function Dm(e){if("object"!=typeof e)return e;var t=e instanceof Array?[]:{};for(var n in e)t[n]=Dm(e[n]);return t}function Jo(e){return"function"==typeof e}ci.parse=vU,ci.unparse=CU,ci.RECORD_SEP=String.fromCharCode(30),ci.UNIT_SEP=String.fromCharCode(31),ci.BYTE_ORDER_MARK="\ufeff",ci.BAD_DELIMITERS=["\r","\n",'"',ci.BYTE_ORDER_MARK],ci.LocalChunkSize=10485760,ci.RemoteChunkSize=5242880,ci.DefaultDelimiter=",",ci.Parser=jw,ci.ParserHandle=qp,ci.NetworkStreamer=tO,ci.FileStreamer=rO,P.fn.parse=function(e){var t=e.config||{},n=[];return this.each((function(e){if(!("INPUT"==P(this).prop("tagName").toUpperCase()&&"file"==P(this).attr("type").toLowerCase()&&window.FileReader)||!this.files||0==this.files.length)return!0;for(var r=0;r<this.files.length;r++)n.push({file:this.files[r],inputElem:this,instanceConfig:P.extend({},t)})})),r(),this;function r(){if(0!=n.length){var t=n[0];if(Jo(e.before)){var r=e.before(t.file,t.inputElem);if("object"==typeof r){if("abort"==r.action)return void function(t,n,r,i){Jo(e.error)&&e.error({name:t},n,r,i)}("AbortError",t.file,t.inputElem,r.reason);if("skip"==r.action)return void i();"object"==typeof r.config&&(t.instanceConfig=P.extend(t.instanceConfig,r.config))}else if("skip"==r)return void i()}var o=t.instanceConfig.complete;t.instanceConfig.complete=function(e){Jo(o)&&o(e,t.file,t.inputElem),i()},ci.parse(t.file,t.instanceConfig)}}function i(){n.splice(0,1),r()}};var{parse:iO}=ci;function lk(e){var t;if("number"==typeof e)t=e+"";else{if("string"!=typeof e)return!1;t=e}return t.trim().match(/^-?[0-9]*\.?[0-9]*$/)}function nO(e){let t=e.split(/\r?\n/),n=[],r=!1;if(!(t.length<2)){for(let e=0;e<t.length;e++){let i=t[e];if(!i.trim())continue;e>0&&!lk(i.replace(/,(\d{3})/g,"$1"))&&(r=!0);let o={content:i};n.push(o)}if(!r){let e=__dcg_shared_module_exports__.qa(n,"content").map((e=>e.replace(/,(\d{3})/g,"$1")));return lk(e[0])||(e=e.slice(1)),[{content:"\\left["+e.join(",")+"\\right]",numberList:!0}]}return n}}function oO(e){if(/^\s*$/.test(e))return;let t=iO(e,{preview:1e3}),n=t.data,r=[];if(!t.errors.length||t.data.length){if(t.data.length&&!(t.data.length<2)){var i=n[0].length;for(let e=0;e<i;e++)r.push([]);for(let e=0;e<t.data.length;e++)if(0!==e||!isNaN(parseFloat(n[e][0]))){if(n[e].length<2)return;if(n[e][0]||n[e][1])for(let t=0;t<i;t++){let i=(n[e][t]||"").replace(/,(\d{3})/g,"$1");if(i&&isNaN(parseFloat(i)))return;r[t].push(i)}}if(!(r[0].length<2))return r}}else oo("PapaParse.parse returned errors.",{metaData:{input:e,output:t.errors}})}fc();var bo=__dcg_shared_module_exports__.i(ne()),km=class extends bo.Class{template(){return this.controller=this.props.controller(),bo.createElement("div",{class:bo.const("dcg-expressionitem dcg-new-expression dcg-opened")},bo.createElement("div",{class:bo.const("dcg-new-math-div dcg-do-not-blur dcg-action-newmath"),onTap:this.bindFn(this.newMath)},bo.createElement("div",{class:bo.const("dcg-new-expression-fade")})),bo.createElement("span",{class:bo.const("dcg-tab")},bo.createElement("span",{class:bo.const("dcg-num dcg-variable-index")},this.bindFn(this.getIndex)),bo.createElement("div",{class:bo.const("dcg-tab-interior")})))}getIndex(){return this.controller.getNextDisplayIndex()}newMath(){this.controller.dispatch({type:"new-expression-at-end"})}},We=__dcg_shared_module_exports__.i(ne());at();var{If:Im}=We.Components,Mm=class extends We.Class{init(){this.controller=this.props.controller()}template(){return We.createElement("div",{class:We.const("dcg-add-expression-container")},We.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-add-item-tooltip"),gravity:()=>this.controller.isNarrow()?"ne":"se"},We.createElement("span",{class:()=>({"dcg-icon-btn":!0,"dcg-add-expression-btn":!0,"dcg-action-add-expression":!0,"dcg-do-blur":!0,"dcg-active":this.controller.isAddExpressionOpen()}),handleEvent:We.const("true"),role:We.const("button"),tabindex:We.const("0"),"aria-haspopup":We.const("true"),"aria-expanded":()=>this.controller.isAddExpressionOpen(),"aria-label":()=>this.controller.s("graphing-calculator-label-add-item-tooltip"),didMount:e=>{this.toggleButtonNode=e},onTap:this.bindFn(this.toggleAddExpression),manageFocus:this.const(ut({controller:this.controller,location:{type:"add-item-btn"}}))},We.createElement("i",{class:We.const("dcg-icon-plus"),"aria-hidden":We.const("true")}))),We.createElement(Im,{predicate:()=>this.controller.isAddExpressionOpen()},(()=>We.createElement("div",{class:()=>({"dcg-add-expression-dropdown":!0,"dcg-popover":!0,"dcg-bottom":!this.controller.isNarrow(),"dcg-right":this.controller.isNarrow()}),role:We.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-narration-add-item-menu"),didMount:this.bindFn(this.didMountPopover),didUnmount:this.bindFn(this.didUnmountPopover)},We.createElement("div",{class:We.const("dcg-popover-interior")},We.createElement("div",{class:We.const("dcg-new-item dcg-do-not-blur dcg-action-newexpression"),role:We.const("button"),tabindex:We.const(0),"aria-label":()=>this.controller.s("graphing-calculator-narration-add-expression"),onTap:this.bindFn(this.newExpression),handleEvent:We.const("true"),manageFocus:this.const(ut({controller:this.controller,location:{type:"add-expression-btn"}}))},We.createElement("i",{class:We.const("dcg-icon-new-expression dcg-expression-icon"),"aria-hidden":We.const("true")}),(()=>this.controller.s("graphing-calculator-label-expression-lowercase"))),We.createElement(Im,{predicate:()=>this.controller.areNotesEnabled()},(()=>We.createElement("div",{class:We.const("dcg-new-item dcg-do-not-blur dcg-action-newtext"),role:We.const("button"),tabindex:We.const(0),"aria-label":()=>this.controller.s("graphing-calculator-narration-add-note"),onTap:this.bindFn(this.newText),handleEvent:We.const("true"),manageFocus:this.const(ut({controller:this.controller,location:{type:"add-note-btn"}}))},We.createElement("i",{class:We.const("dcg-icon-new-text dcg-expression-icon"),"aria-hidden":We.const("true")}),(()=>this.controller.s("graphing-calculator-label-note-lowercase"))))),We.createElement("div",{class:We.const("dcg-new-item dcg-do-not-blur dcg-action-newtable"),role:We.const("button"),tabindex:We.const(0),"aria-label":()=>this.controller.s("graphing-calculator-narration-add-table"),onTap:this.bindFn(this.newTable),handleEvent:We.const("true"),manageFocus:this.const(ut({controller:this.controller,location:{type:"add-table-btn"}}))},We.createElement("i",{class:We.const("dcg-icon-new-table dcg-expression-icon"),"aria-hidden":We.const("true")}),(()=>this.controller.s("graphing-calculator-label-table-lowercase"))),We.createElement(Im,{predicate:()=>this.controller.areFoldersEnabled()},(()=>We.createElement("div",{class:We.const("dcg-new-item dcg-do-not-blur dcg-action-newfolder"),role:We.const("button"),tabindex:We.const(0),"aria-label":()=>this.controller.s("graphing-calculator-narration-add-folder"),onTap:this.bindFn(this.newFolder),handleEvent:We.const("true"),manageFocus:this.const(ut({controller:this.controller,location:{type:"add-folder-btn"}}))},We.createElement("i",{class:We.const("dcg-icon-new-folder dcg-expression-icon"),"aria-hidden":We.const("true")}),(()=>this.controller.s("graphing-calculator-label-folder-lowercase"))))),We.createElement(Im,{predicate:()=>this.controller.areImagesEnabled()},(()=>We.createElement(Yl,{controller:()=>this.controller,ariaLabel:()=>this.controller.s("graphing-calculator-narration-add-image"),onFileChange:e=>this.insertFiles(e),location:this.const({type:"add-image-btn"}),readonly:this.const(!1)},We.createElement("div",{class:We.const("dcg-new-item dcg-action-newimage")},We.createElement("i",{class:We.const("dcg-icon-new-image dcg-expression-icon"),"aria-hidden":We.const("true")}),(()=>this.controller.s("graphing-calculator-label-image-lowercase")))))),We.createElement(Im,{predicate:this.bindFn(this.showAddTicker)},(()=>We.createElement("div",{class:We.const("dcg-new-item dcg-do-not-blur dcg-action-ticker"),role:We.const("button"),tabindex:We.const(0),"aria-label":()=>this.controller.s("graphing-calculator-narration-add-ticker"),onTap:this.bindFn(this.addTicker),handleEvent:We.const("true"),manageFocus:this.const(ut({controller:this.controller,location:{type:"add-ticker-btn"}}))},We.createElement("i",{class:We.const("dcg-icon-metronome dcg-expression-icon"),"aria-hidden":We.const("true")}),(()=>this.controller.s("graphing-calculator-label-ticker-lowercase")))))),We.createElement("span",{class:We.const("dcg-arrow")})))))}showAddTicker(){return this.controller.areActionsEnabled()&&!this.controller.getTickerOpen()}didMountPopover(e){this.popoverNode=e,P(document).on("dcg-tapstart.add-expression-view wheel.add-expression-view",(e=>{this.eventShouldClosePopover(e)&&this.controller.dispatch({type:"close-add-expression",focusIconAfterClose:"keyboard"===e.device})})),P(document).on("keydown.add-expression-view",(e=>{if("Esc"===Le(e)&&this.controller.dispatch({type:"close-add-expression",focusIconAfterClose:!0}),"Tab"===Le(e)&&!e.altKey&&!e.metaKey&&!e.ctrlKey){let t,n=this.controller.getFocusLocation();if(!n)return;t=this.showAddTicker()?{type:"add-ticker-btn"}:this.controller.areImagesEnabled()?{type:"add-image-btn"}:this.controller.areFoldersEnabled()?{type:"add-folder-btn"}:{type:"add-table-btn"},e.shiftKey||n.type!==t.type?e.shiftKey&&"add-item-btn"===n.type&&(this.controller.dispatch({type:"set-focus-location",location:t}),e.preventDefault(),e.stopPropagation()):(this.controller.dispatch({type:"set-focus-location",location:{type:"add-item-btn"}}),e.preventDefault(),e.stopPropagation())}})),Ja&&El&&P(e).on("dcg-tapstart",(e=>e.preventDefault())),P(e).find(".dcg-new-item").on("touchstart",(e=>e.preventDefault()))}didUnmountPopover(){P(document).off(".add-expression-view")}toggleAddExpression(e){this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:"keyboard"===e.device})}newExpression(){this.controller.dispatch({type:"new-expression"})}newText(){this.controller.dispatch({type:"new-text"})}newFolder(){this.controller.dispatch({type:"new-folder"})}addTicker(){this.controller.dispatch({type:"open-ticker"})}newTable(){this.controller.dispatch({type:"new-table"})}insertFiles(e){this.controller.dispatch({type:"new-images",files:e})}eventShouldClosePopover(e){let t=!!P(e.target).closest(this.popoverNode).length,n=!!P(e.target).closest(this.toggleButtonNode).length;return!(t||n)}},Ye=__dcg_shared_module_exports__.i(ne()),Cs=__dcg_shared_module_exports__.i(ne()),Yw=class extends Cs.Class{init(){this.controller=this.props.controller()}template(){return Cs.createElement("span",{role:Cs.const("button"),class:()=>({"dcg-constructions-count-link":!0,"dcg-is-expanded":this.controller.getShowConstructionsOpen()}),tabindex:Cs.const("0"),"aria-expanded":()=>this.controller.getShowConstructionsOpen(),manageFocus:this.const(ut({controller:this.controller,location:{type:"geo-show-constructions-icon"}})),onTap:this.bindFn(this.showAllConstructions)},Cs.createElement("i",{class:Cs.const("dcg-shared-icon-geometry")}),Cs.createElement("span",{class:Cs.const("dcg-construction-count")},this.bindFn(this.constructionCount)))}constructionCount(){return this.controller.getGeometryConstructionCount()}showAllConstructions(){this.controller.dispatch({type:"set-show-constructions-open",open:!this.controller.getShowConstructionsOpen(),focusIcon:!1})}},Zn=__dcg_shared_module_exports__.i(ne()),Hp=class extends Zn.Class{init(){this.controller=this.props.controller()}template(){return Zn.createElement("div",null,Zn.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-undo-tooltip"),gravity:this.bindFn(this.getUndoTooltipGravity),disabled:()=>!this.controller.canUndo()},Zn.createElement("span",{class:()=>({"dcg-action-undo":!0,"dcg-icon-btn":!0,"dcg-disabled":!this.controller.canUndo()}),role:Zn.const("button"),tabindex:()=>this.controller.canUndo()?0:-1,"aria-label":()=>this.controller.s("graphing-calculator-narration-undo"),onTap:()=>this.controller.dispatch({type:"undo"}),"aria-disabled":()=>!this.controller.canUndo()},Zn.createElement("i",{class:Zn.const("dcg-icon-undo"),"aria-hidden":Zn.const("true")}))),Zn.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-redo-tooltip"),gravity:this.bindFn(this.getRedoTooltipGravity),disabled:()=>!this.controller.canRedo()},Zn.createElement("span",{class:()=>({"dcg-action-redo":!0,"dcg-icon-btn":!0,"dcg-disabled":!this.controller.canRedo()}),role:Zn.const("button"),tabindex:()=>this.controller.canRedo()?0:-1,"aria-label":()=>this.controller.s("graphing-calculator-narration-redo"),onTap:()=>this.controller.dispatch({type:"redo"}),"aria-disabled":()=>!this.controller.canRedo()},Zn.createElement("i",{class:Zn.const("dcg-icon-redo"),"aria-hidden":Zn.const("true")}))))}getUndoTooltipGravity(){return this.props.undoTooltipGravity?this.props.undoTooltipGravity():this.controller.isNarrow()?"n":"s"}getRedoTooltipGravity(){return this.props.redoTooltipGravity?this.props.redoTooltipGravity():this.controller.isNarrow()?"n":"s"}},{If:Jl}=Ye.Components,Tm=class extends Ye.Class{init(){this.controller=this.props.controller()}template(){return Ye.createElement("div",{class:()=>({"dcg-expression-top-bar":!0,"dcg-expressions-scrolled":this.showShadow()}),role:Ye.const("toolbar"),"aria-label":()=>this.controller.s("graphing-calculator-narration-expression-bar"),didMount:e=>{this.node=e},onTapStart:this.bindFn(this.clearSelectionOnMobile),style:()=>({background:this.controller.hasBackgroundColor()?this.controller.getPillboxBackgroundColor():void 0})},Ye.createElement("div",{class:Ye.const("dcg-left-buttons")},Ye.createElement(Jl,{predicate:this.bindFn(this.showHamburger)},(()=>Ye.createElement("span",{class:Ye.const("dcg-action-opendrawer dcg-tooltip dcg-icon-btn dcg-in-api-action-opendrawer"),handleEvent:Ye.const("true"),tooltip:()=>this.controller.s("graphing-calculator-label-open-graph-tooltip"),role:Ye.const("button"),tabindex:Ye.const("0"),"aria-label":()=>this.controller.s("graphing-calculator-narration-open-graph"),onTap:()=>this.controller.dispatch({type:"open-drawer"})},Ye.createElement("i",{class:Ye.const("dcg-icon-hamburger"),"aria-hidden":Ye.const("true")})))),Ye.createElement(Jl,{predicate:()=>!this.controller.isInEditListMode()},(()=>Ye.createElement(Mm,{controller:()=>this.props.controller()}))),Ye.createElement(Jl,{predicate:()=>this.controller.isGeoUIActive()},(()=>Ye.createElement(Yw,{controller:this.props.controller}))),Ye.createElement(Jl,{predicate:this.bindFn(this.showRerandomize)},(()=>Ye.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-randomize-tooltip"),gravity:()=>this.controller.isNarrow()?"n":"s"},Ye.createElement("span",{class:Ye.const("dcg-icon-btn"),handleEvent:Ye.const("true"),role:Ye.const("button"),tabindex:Ye.const("0"),"aria-label":()=>this.controller.s("graphing-calculator-label-randomize-tooltip"),onTap:()=>this.controller.dispatch({type:"re-randomize"})},Ye.createElement("i",{class:Ye.const("dcg-icon-randomize"),"aria-hidden":Ye.const("true")}))))),Ye.createElement(Jl,{predicate:()=>this.controller.isInEditListMode()&&!this.controller.hasDefaultState()},(()=>Ye.createElement("span",{class:Ye.const("dcg-btn-red dcg-action-clearall"),role:Ye.const("button"),tabindex:Ye.const("0"),onTap:()=>this.controller.dispatch({type:"clear-graph"})},(()=>this.controller.s("graphing-calculator-button-clear-graph"))))),Ye.createElement(Jl,{predicate:()=>this.controller.isInEditListMode()&&this.controller.hasDefaultState()},(()=>Ye.createElement("span",{class:Ye.const("dcg-btn-red dcg-action-reset"),role:Ye.const("button"),tabindex:Ye.const("0"),onTap:()=>this.controller.dispatch({type:"reset-graph"})},(()=>this.controller.s("graphing-calculator-button-reset-graph")))))),Ye.createElement("div",{class:Ye.const("dcg-center-buttons")},Ye.createElement(Hp,__dcg_shared_module_exports__.b({},this.props))),Ye.createElement("div",{class:Ye.const("dcg-right-buttons")},Ye.createElement(Jl,{predicate:()=>!this.controller.isInEditListMode()},(()=>Ye.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-edit-list-tooltip"),gravity:()=>this.controller.isNarrow()?"n":"s"},Ye.createElement("span",{class:Ye.const("dcg-icon-btn dcg-action-toggle-edit"),handleEvent:Ye.const("true"),role:Ye.const("button"),tabindex:Ye.const("0"),"aria-label":()=>this.controller.s("graphing-calculator-narration-edit-expression-list"),onTap:this.bindFn(this.toggleEditListMode),manageFocus:this.const(ut({controller:this.controller,location:{type:"edit-list-toggle"}}))},Ye.createElement("i",{class:Ye.const("dcg-icon-settings"),"aria-hidden":Ye.const("true")}))))),Ye.createElement(Jl,{predicate:()=>this.controller.isInEditListMode()},(()=>Ye.createElement("span",{class:Ye.const("dcg-btn-primary dcg-action-toggle-edit dcg-do-not-blur"),handleEvent:Ye.const("true"),role:Ye.const("button"),tabindex:Ye.const("0"),onTap:this.bindFn(this.toggleEditListMode),manageFocus:this.const(ut({controller:this.controller,location:{type:"edit-list-toggle"}}))},(()=>this.controller.s("graphing-calculator-button-done"))))),Ye.createElement(Jl,{predicate:()=>!this.controller.isInEditListMode()&&this.controller.getGraphSettings().config.graphpaper},(()=>Ye.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-hide-expression-list-tooltip"),gravity:()=>this.controller.isNarrow()?"nw":"sw"},Ye.const(" "),Ye.createElement("span",{class:()=>({"dcg-resize-list-btn":!0,"dcg-action-hideexpressions":!0,"dcg-icon-btn":!0,"dcg-rotated":this.controller.isNarrow()}),role:Ye.const("button"),tabindex:Ye.const("0"),"aria-label":()=>this.controller.s("graphing-calculator-label-hide-expression-list-tooltip"),onTap:e=>{this.controller.dispatch({type:"hide-expressions-list",focusShowIcon:"keyboard"===e.device})},manageFocus:this.const(ut({controller:this.controller,location:{type:"hide-expression-list-btn"}}))},Ye.createElement("i",{class:Ye.const("dcg-icon-hide"),"aria-hidden":Ye.const("true")})))))))}showShadow(){return!this.controller.getTickerOpen()&&!this.controller.getExpressionSearchOpen()&&this.props.expsScrolled()}showRerandomize(){return this.controller.anyItemDependsOnRandomSeed()}showHamburger(){return!(!this.controller.getGraphSettings().config.showHamburger||this.controller.isInEditListMode())&&!this.controller.isNarrow()}clearSelectionOnMobile(e){e.wasHandled()||this.controller.dispatch({type:"set-none-selected"})}toggleEditListMode(e){this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!this.controller.isInEditListMode(),focusExpressionList:!1}),"keyboard"===e.device&&this.controller.dispatch({type:"set-focus-location",location:{type:"edit-list-toggle"}})}};function DU(e){return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{version:"0"})}at();var aO=DU,kU={centerX:0,centerY:0,size:15},IU={scale:1,unit:"",visible:!1,showLegend:!1};function MU(e){let t=e.objects||{},n=__dcg_shared_module_exports__.k(t);for(let e in n){let t=n[e];t.label&&(t.showLabel=!0)}return{version:"1",objects:n,viewport:e.viewport||kU,customTools:e.customTools||{},grid:e.grid||IU}}var sO=MU;function TU(e){return("point"===e.type||"glider"===e.type)&&!e.draggable}function GU(e){let t=e.objects||{},n=__dcg_shared_module_exports__.k(t),r=__dcg_shared_module_exports__.k(e.grid);for(let e in n){let t=n[e];TU(t)&&(t.draggable=!0),"angle"===t.type&&t.showLabel&&!t.label&&(t.label="{angle}"),"segment"===t.type&&t.showLabel&&!t.label&&(t.label="{length}")}return r.unit="",r.scale=1,{version:"2",objects:n,viewport:e.viewport,customTools:e.customTools||{},grid:r}}var lO=GU;function ck(e){return e&&("circle"===e.type||"compass"===e.type)}function AU(e){let t=__dcg_shared_module_exports__.k(e.objects||{});for(let e in t){let n=t[e];if("point"===n.type)n.y=-n.y;else if("glider"===n.type){ck(t[n.parents.host])&&(n.t=-n.t)}else if("intersection"===n.type){let e=t[n.parents.host1],r=t[n.parents.host2];ck(e)&&ck(r)&&(n.negRoot=!n.negRoot)}}return{version:"3",objects:t,viewport:e.viewport,customTools:e.customTools||{},graphSettings:{showGrid:!!(e.grid||{}).visible,showAxes:!1,showAxisNumbers:!1}}}var cO=AU;function VU(e){let t=__dcg_shared_module_exports__.k(e.objects||{});for(let e in t){let n=t[e];!1===n.draggable&&(n.locked=!0),delete n.draggable}return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{version:"4",objects:t})}var dO=VU,Jw=[aO,sO,lO,cO,dO],LU="4";function dk(e){let t=parseInt(LU,10),n=parseInt(e.version||"0",10);for(n>t&&"undefined"!=typeof console&&console.warn&&console.warn(`Loading saved state with version ${n}, but last known version is ${t}. States saved in a newer version of the geometry tool may not load correctly in older versions of the tool.`),Jw[n]||"undefined"!=typeof console&&console.warn&&console.warn(`State has invalid version: ${n}. If a version is present, it should be a non-negative integer less than or equal to ${t}.`),0===n&&(e=Jw[0](e));n<t;)n+=1,Jw[n]&&(e=Jw[n](e));return e}var PU=!1;function $p(e,t){var n=t[e];return"transformed-object"===n.type?$p(n.parents.object,t):n.type}function uO(e){switch(e){case"circle":case"compass":case"arc":return!0}return!1}function OU(e,t,n){var r=$p(t,n);return"circle"===r||"compass"===r?e/(2*Math.PI):e}function pO(e){switch(e){case"dilation":case"rotation":case"translation":case"reflection":case"scaled-rotation":return!0}return!1}function _U(e){switch(e){case"point":case"midpoint":case"glider":case"intersection":case"polygon":return"P";case"line":case"segment":case"ray":case"vector":case"parallel":case"perpendicular":return"L";case"circle":case"compass":return"C";case"arc":case"angle":return"A";case"image":return"I";case"dilation":case"rotation":case"translation":case"reflection":case"scaled-rotation":case"transformed-object":return"T";default:return e}}function hO(e){let t=!PU,n=dk(e),r={},i={},o=e=>{if(i.hasOwnProperty(e))return i[e];let o=$p(e,n.objects);if(t&&!pO(o)){let t=r.token||1;r.token=t+1;let n="\\token{"+t+"}";return i[e]=n,n}let a=_U(o),s=r[a]||1;r[a]=s+1;let l=a+"_{"+s+"}";return i[e]=l,l};function a(e){let t=r[e]||1;return r[e]=t+1,e+"_{"+t+"}"}let s=(e,t,n)=>o(e)+"=\\operatorname{"+t+"}\\left("+n.map(o).join(",")+"\\right)",{centerX:l,centerY:c,size:d}=n.viewport;d*=1.25;let p=d/2,u=1*p,h={version:10,randomSeed:"",expressions:{list:[]},graph:{product:"geometry-calculator",viewport:{xmin:l-p,xmax:l+p,ymin:c-u,ymax:c+u},showGrid:!1,showXAxis:!1,showYAxis:!1,squareAxes:!0,degreeMode:!0}};n.graphSettings.showGrid&&(h.graph.showGrid=!0,h.graph.xAxisMinorSubdivisions=1,h.graph.yAxisMinorSubdivisions=1,h.graph.xAxisStep=1,h.graph.yAxisStep=1);let g=h.expressions.list,m=[],f=[];for(let e in n.objects){let r=n.objects[e],i=$p(r.id,n.objects),l={id:r.id,type:"expression",color:r.color,hidden:!!r.hidden};if(t&&!pO(i)&&(l.folderId=__dcg_shared_module_exports__.vc),r.locked&&(l.dragMode="NONE"),!r.hidden&&r.label&&r.showLabel){if(l.label=r.label,l.showLabel=!0,"segment"===i&&-1!==r.label.indexOf("{length}"))if("{length}"===r.label)l.label="";else{let e=a("l"),t=e+"=\\operatorname{round}\\left(\\operatorname{length}\\left("+o(r.id)+"\\right),2\\right)";f.push({id:"len-"+l.id,type:"expression",latex:t}),l.label=l.label.replace(/\{length\}/g,"${"+e+"}")}if("angle"===i&&-1!==r.label.indexOf("{angle}"))if("{angle}"===r.label)l.label="";else{let e=a("a"),t=e+"=\\operatorname{round}\\left(\\operatorname{measure}\\left("+o(r.id)+"\\right)\\right)";f.push({id:"angle-"+l.id,type:"expression",latex:t}),l.label=l.label.replace(/\{angle}/g,"${"+e+"}°")}if("polygon"===i&&-1!==r.label.indexOf("{area}"))if("{area}"===r.label)l.label="";else{let e=a("a"),t=e+"=\\operatorname{round}\\left(\\operatorname{area}\\left("+o(r.id)+"\\right),2\\right)";f.push({id:"area-"+l.id,type:"expression",latex:t}),l.label=l.label.replace(/\{area\}/g,"${"+e+"}")}if("polygon"===i&&-1!==r.label.indexOf("{perimeter}")){let e=a("p"),t=e+"=\\operatorname{round}\\left(\\operatorname{perimeter}\\left("+o(r.id)+"\\right),2\\right)";f.push({id:"perim-"+l.id,type:"expression",latex:t}),l.label=l.label.replace(/\{perimeter\}/g,"${"+e+"}")}}switch(r.type){case"point":l.latex=o(r.id)+"=\\left("+__dcg_shared_module_exports__.Zb(r.x)+","+__dcg_shared_module_exports__.Zb(r.y)+"\\right)";break;case"glider":l.latex=o(r.id)+"=\\operatorname{glider}\\left("+o(r.parents.host)+","+__dcg_shared_module_exports__.Zb(OU(r.t,r.parents.host,n.objects))+"\\right)";break;case"intersection":let e=$p(r.parents.host1,n.objects),t=$p(r.parents.host2,n.objects),i=r.negRoot;(uO(e)&&!uO(t)||"arc"===t)&&(i=!i),l.latex=s(r.id,r.type,i?[r.parents.host1,r.parents.host2]:[r.parents.host2,r.parents.host1]);break;case"midpoint":case"reflection":l.latex=s(r.id,r.type,[r.parents.straight]);break;case"circle":case"line":case"segment":case"ray":l.latex=s(r.id,r.type,[r.parents.point1,r.parents.point2]);break;case"arc":case"angle":l.latex=s(r.id,r.type,[r.parents.point1,r.parents.point2,r.parents.point3]);break;case"compass":l.latex=s(r.id,"circle",[r.parents.center,r.parents.straight]);break;case"vector":l.latex=s(r.id,"segment",[r.parents.point1,r.parents.point2]),l.arrowMode="POSITIVE";break;case"parallel":case"perpendicular":l.latex=s(r.id,r.type,[r.parents.straight,r.parents.point]);break;case"polygon":l.latex=s(r.id,r.type,r.parents.points);break;case"transformed-object":l.latex=o(r.id)+"="+o(r.parents.transformation)+"\\left("+o(r.parents.object)+"\\right)";break;case"dilation":l.latex=o(r.id)+"=\\operatorname{dilation}\\left("+o(r.parents.center)+","+r.scaleFactor+"\\right)";break;case"translation":l.latex=s(r.id,"translation",[r.parents.from,r.parents.to]);break;case"rotation":l.latex=o(r.id)+"=\\operatorname{rotation}\\left("+o(r.parents.center)+","+r.angle+"\\right)";break;case"scaled-rotation":l.latex=o(r.id)+"=";break;case"image":break;default:return r}l.latex&&(l.folderId===__dcg_shared_module_exports__.vc?m.push(l):f.push(l))}return g.push({type:"folder",id:__dcg_shared_module_exports__.vc,title:"geometry",secret:!0}),g.push.apply(g,m),g.push.apply(g,f),h}function gO(e){let t=__dcg_shared_module_exports__.k(bs(e));if(t.graph.product="geometry-calculator",!t.expressions.list.some((e=>e.id===__dcg_shared_module_exports__.vc))){let e={type:"folder",id:__dcg_shared_module_exports__.vc,title:"geometry",secret:!0};t.expressions.list.unshift(e)}return t}function Xw(e,t,n){let r=!1;e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-importing-graph"),hideAfter:0,toastStyle:"cover",onHide:()=>{r=!0}}});let i=()=>{r||e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-error-importing-graph"),toastStyle:"error",hideAfter:12e3}})},o=(t,n)=>{e.dispatch({type:"set-state",state:t}),e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-imported-graph"),undoCallback:()=>{e.dispatch({type:"set-state",state:n})}}})};P.getJSON(t,wu).done((a=>{let s=a.state;e.isGeometry()&&(Nw(t)?s=hO(s):Jf(t)&&(s=gO(s))),s=bs(s),n(s,((t,n)=>{t||!n?i():((t,n)=>{if(r)return;let i=e.getSelectedItem();if(!i)return;let a="folder"===i.type,s="folder"!==i.type&&!!i.folderId,l=a||s,c={},d=e.getState(),p=d.expressions.list;if(1===p.length&&!a)return void o(t,d);if(e.isGeometry())return void o(t,d);let u=t.expressions.list;for(let t=0;t<u.length;t++){let n=e.generateId(),r=u[t];if("folder"!==r.type)r.folderId?r.folderId=c[r.folderId]:a?r.folderId=i.id:s&&(r.folderId=i.folderId),r.id=n;else{if(l)return void e.dispatch({type:"toast/show",toast:{message:e.s("graphing-calculator-text-toast-error-no-folders"),toastStyle:"error",hideAfter:12e3}});c[r.id]=n,r.id=n}}let h=__dcg_shared_module_exports__.k(d),g=0;for(;g<p.length;){if(p[g].id===i.id){a&&(p[g].title=n);break}g+=1}let m=a?g+1:g,f=a?0:1;p.splice(m,f,...u),o(d,h)})(n,a.title||"")}))})).fail(i)}function fO(e){return window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):e&&e.clipboardData&&e.clipboardData.getData?e.clipboardData.getData("text/plain"):void 0}var Xl=__dcg_shared_module_exports__.i(ne());at();var{If:FU}=Xl.Components,Qw=class extends Xl.Class{init(){this.guid=__dcg_shared_module_exports__.Ka("dcg-exp-list-resize")}template(){return Xl.createElement(FU,{predicate:this.bindFn(this.isVisible)},(()=>Xl.createElement("div",{class:Xl.const("dcg-exp-list-resizer"),onTapStart:this.bindFn(this.onTapStart)})))}isVisible(){return!this.props.controller().expressionsAreFullWidth()&&this.props.controller().isListVisible()}onTapStart(e){this.initialWidth=this.props.controller().getExpListWidth(),this.initialLeft=e.changedTouches[0].clientX,P(document).on(`dcg-tapmove.${this.guid}`,(e=>{if(void 0===this.initialLeft||void 0===this.initialWidth)return;let t=e.changedTouches[0].clientX-this.initialLeft+this.initialWidth;this.props.controller().dispatch({type:"resize-exp-list",expListWidth:t})})),P(document).on(`dcg-tapend.${this.guid}`,this.bindFn(this.onTapEnd)),P(document).on(`dcg-tapcancel.${this.guid}`,this.bindFn(this.onTapEnd))}onTapEnd(){P(document).off(`.${this.guid}`),this.initialLeft=void 0,this.initialWidth=void 0}},Bt=__dcg_shared_module_exports__.i(ne()),{If:Gm}=Bt.Components,Zw=class extends Bt.Class{constructor(){super(...arguments),this.justGlobalReplaced=!1}init(){this.controller=this.props.controller()}template(){return Bt.createElement("div",{class:()=>({"dcg-expression-search-bar":!0,"dcg-expressions-scrolled":this.props.expsScrolled()&&!this.controller.getTickerOpen()}),role:Bt.const("search")},Bt.createElement("div",{class:Bt.const("dcg-search-row")},Bt.createElement("div",{class:Bt.const("dcg-search-mathquill-container")},Bt.createElement(qe,{hasError:this.const(!1),getAriaLabel:()=>this.controller.s("graphing-calculator-label-search-expressions"),getAriaPostLabel:()=>0===this.controller.getExpressionSearchStr().length?this.controller.raw(""):this.shouldShowReplaceError()?this.controller.s("graphing-calculator-error-expression-replacement"):this.shouldShowSearchError()?this.controller.s("graphing-calculator-error-expression-search"):this.controller.s("graphing-calculator-narration-expression-search-results",{count:this.controller.getExpressionSearchCount()}),capExpressionSize:this.const(!1),onUserChangedLatex:this.bindFn(this.onSearchChange),latex:()=>this.controller.getRawExpressionSearchStr(),isFocused:this.bindFn(this.isSearchFocused),config:this.bindFn(this.getMQConfig),onFocusedChanged:this.bindFn(this.onSearchFocusChanged),noFadeout:this.const(!0),onUserPressedKey:(e,t)=>{if("Esc"===e)t&&t.preventDefault(),this.closeSearch();else if("Enter"===e)t&&t.preventDefault(),this.onEnter();else{var n=qe.getFocusedMathquill();if(!n)return;n.keystroke(e,t),this.controller.getRawExpressionSearchStr()!==n.latex()&&(this.justGlobalReplaced=!1,this.onSearchChange(n.latex()))}}}),Bt.createElement("i",{class:Bt.const("dcg-icon-search"),"aria-hidden":Bt.const("true")}),Bt.createElement(Gm,{predicate:()=>0===this.controller.getRawExpressionSearchStr().length},(()=>Bt.createElement("span",{class:Bt.const("dcg-search-placeholder")},(()=>this.controller.s("graphing-calculator-label-search-expressions"))))),Bt.createElement(Gm,{predicate:()=>this.shouldShowSearchError()},(()=>Bt.createElement("span",{class:Bt.const("dcg-search-replace-icon-container")},Bt.createElement(Jn,{error:()=>this.controller.s("graphing-calculator-error-expression-search"),gravity:this.const("s"),size:this.const("small")})))),Bt.createElement(Gm,{predicate:()=>this.controller.isSearchReplaceValid()&&!this.justGlobalReplaced},(()=>Bt.createElement("span",{class:Bt.const("dcg-search-replace-icon-container")},Bt.createElement("i",{class:Bt.const("dcg-icon-replace"),role:Bt.const("button"),tabindex:Bt.const("0"),"aria-label":()=>this.controller.s("graphing-calculator-button-replace"),onTap:this.bindFn(this.onGlobalReplace)})))),Bt.createElement(Gm,{predicate:()=>this.justGlobalReplaced},(()=>Bt.createElement("span",{class:Bt.const("dcg-search-replace-icon-container")},Bt.createElement("i",{class:Bt.const("dcg-icon-check"),"aria-hidden":Bt.const("true")})))),Bt.createElement(Gm,{predicate:()=>this.shouldShowReplaceError()},(()=>Bt.createElement("span",{class:Bt.const("dcg-search-replace-icon-container")},Bt.createElement(Jn,{error:()=>this.controller.s("graphing-calculator-error-expression-replacement"),gravity:this.const("s"),size:this.const("small")}))))),Bt.createElement("i",{onTap:()=>this.closeSearch(),tabindex:Bt.const("0"),"aria-label":()=>this.controller.s("account-shell-button-cancel"),role:Bt.const("button"),class:Bt.const("dcg-icon-remove dcg-do-not-blur")})))}onGlobalReplace(){this.justGlobalReplaced=!0,setTimeout((()=>{this.justGlobalReplaced=!1,this.update()}),1500),this.controller.dispatch({type:"rename-identifier-global",search:this.controller.getExpressionSearchStr(),replace:this.controller.getExpressionReplaceStr()})}onEnter(){this.controller.isSearchReplaceValid()?this.onGlobalReplace():this.controller.dispatch({type:"update-expression-search-str",str:this.controller.getRawExpressionSearchStr()})}shouldShowSearchError(){return!this.controller.getIsExpressionSearchStrValidForReplace()&&this.controller.getExpressionReplaceStr().length>0}shouldShowReplaceError(){return!this.shouldShowSearchError()&&!this.controller.getIsExpressionReplaceStrValidForReplace()&&this.controller.getExpressionReplaceStr().length>0}closeSearch(){this.controller.dispatch({type:"close-expression-search"})}onSearchChange(e){this.controller.dispatch({type:"update-expression-search-str",str:e})}onSearchFocusChanged(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"search-expressions"}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"search-expressions"}})}isSearchFocused(){let e=this.controller.getFocusLocation();return!!e&&"search-expressions"===e.type}onReplaceChange(e){this.controller.dispatch({type:"update-expression-replace-str",str:e})}onReplaceFocusChanged(e){e?this.controller.dispatch({type:"set-focus-location",location:{type:"replace-expressions"}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"replace-expressions"}})}isReplaceFocused(){let e=this.controller.getFocusLocation();return!!e&&"replace-expressions"===e.type}getMQConfig(){return this.controller.getMathquillConfig({additionalOperators:["label","rename"]})}},Rt=__dcg_shared_module_exports__.i(ne()),{If:mO,IfDefined:RU}=Rt.Components,ev=class extends Rt.Class{init(){this.controller=this.props.controller()}template(){return Rt.createElement("div",{class:()=>({"dcg-ticker":!0,"dcg-expressions-scrolled":this.props.expsScrolled()})},Rt.createElement("div",{class:Rt.const("dcg-ticker-settings-container")},Rt.createElement("div",{class:Rt.const("dcg-ticker-settings-internal")},Rt.createElement("div",{class:Rt.const("dcg-editable-mathquill-container dcg-action-definition")},Rt.createElement("span",{class:Rt.const("dcg-ticker-label")},(()=>this.controller.raw("Run"))),Rt.createElement(qe,{hasError:()=>!!this.getHandlerErrorString(),getAriaPostLabel:()=>{let e=this.getHandlerErrorString();return e?this.controller.unpack(e):""},capExpressionSize:this.const(!1),onUserChangedLatex:e=>this.dispatchHandlerLatexIfChanged(e),latex:()=>this.getHandlerLatex(),getAriaLabel:()=>this.controller.s("graphing-calculator-narration-tick-action"),isFocused:()=>"handler"===this.getFocusedInput(),config:()=>this.getMQConfig(),onFocusedChanged:e=>this.handleFocusedChanged("handler",e),selectOnFocus:this.const(!0),noFadeout:this.const(!0),onUserPressedKey:(e,t)=>{this.handlePressedKey("handler",e,t)}}),RU((()=>this.getHandlerErrorString()),(e=>Rt.createElement("span",{class:Rt.const("dcg-clickable-info-error-container")},Rt.createElement(Jn,{error:()=>this.controller.unpack(e()),gravity:this.const("s"),size:this.const("small")}))))),Rt.createElement("div",{class:Rt.const("dcg-editable-mathquill-container dcg-action-frequency")},Rt.createElement("span",{class:Rt.const("dcg-ticker-label")},(()=>this.controller.raw("every"))),Rt.createElement(qe,{hasError:()=>!!this.getMinStepErrorString(),getAriaPostLabel:()=>{let e=this.getMinStepErrorString();return e?this.controller.unpack(e):""},capExpressionSize:this.const(!1),onUserChangedLatex:e=>this.dispatchMinStepLatexIfChanged(e),latex:()=>this.getMinStepLatex(),getAriaLabel:()=>this.controller.s("graphing-calculator-label-ticker-min-step"),isFocused:()=>"minstep"===this.getFocusedInput(),config:this.bindFn(this.getMQConfig),onFocusedChanged:e=>this.handleFocusedChanged("minstep",e),selectOnFocus:this.const(!0),placeholder:this.const("0"),noFadeout:this.const(!0),onUserPressedKey:(e,t)=>{this.handlePressedKey("minstep",e,t)}}),(()=>this.controller.raw("ms")),Rt.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-ticker-help-tooltip"),gravity:this.const("s")},Rt.createElement("a",{"aria-label":()=>this.controller.s("graphing-calculator-label-ticker-help-tooltip"),class:Rt.const("dcg-ticker-toggle-help"),target:Rt.const("_blank"),href:Rt.const("https://help.desmos.com/hc/en-us/articles/4407725009165")},Rt.createElement("i",{class:Rt.const("dcg-icon-question-sign"),"aria-hidden":Rt.const("true")})))),Rt.createElement(mO,{predicate:this.bindFn(this.shouldShowSliderPrompt)},(()=>Rt.createElement(ws,{model:()=>this.props.controller().getTicker(),controller:this.props.controller})))),Rt.createElement("div",{class:()=>({"dcg-circular-icon-container":!0,"dcg-disabled":this.iconDisabled()}),"aria-label":this.bindFn(this.getIconAriaLabel),role:Rt.const("button"),tabindex:()=>this.iconDisabled()?-1:0,"aria-disabled":this.bindFn(this.iconDisabled),"aria-pressed":()=>this.controller.getTickerPlaying()&&!this.iconDisabled(),onTap:this.bindFn(this.toggleTicker),onTapStart:()=>{Ur()}},Rt.createElement(Li,{iconType:this.const("metronome")}),Rt.createElement("div",{class:()=>({"dcg-metronome-bar":!0,"dcg-metronome-playing":this.controller.getTickerPlaying()&&!this.iconDisabled()})}),Rt.createElement(mO,{predicate:()=>!this.iconDisabled()},(()=>Rt.createElement("div",{class:Rt.const("dcg-mini-play-pause")},Rt.createElement(Li,{iconType:this.bindFn(this.getPlayIcon)})))))),Rt.createElement("i",{onTap:this.bindFn(this.closeTicker),tabindex:()=>this.controller.isInEditListMode()?0:-1,"aria-label":()=>this.controller.s("graphing-calculator-label-ticker-close"),role:Rt.const("link"),class:Rt.const("dcg-icon-remove dcg-do-not-blur")}))}iconDisabled(){return!(!this.getMinStepErrorString()&&!this.getHandlerErrorString()&&this.isHandlerMaybeValid())}isHandlerMaybeValid(){var e;return"maybe-valid"===(null==(e=this.controller.getTicker().formula)?void 0:e.handler.status)}closeTicker(){this.controller.dispatch({type:"close-ticker"})}toggleTicker(){this.iconDisabled()||this.controller.dispatch({type:"toggle-ticker"})}getPlayIcon(){return this.controller.getTickerPlaying()?"pause":"play"}getIconAriaLabel(){return this.controller.getTickerPlaying()?this.controller.s("graphing-calculator-label-ticker-pause"):this.controller.s("graphing-calculator-label-ticker-play")}getFocusedInput(){let e=this.controller.getFocusLocation();if(e&&"ticker"===e.type)return e.location}handlePressedKey(e,t,n){let r=qe.getFocusedMathquill();if(r){if("Enter"===t&&this.shouldShowSliderPrompt()&&this.controller.dispatch({type:"create-sliders-for-ticker",variables:ig(this.props.controller().getTicker())}),"Right"===t&&"handler"===e||"Left"===t&&"minstep"===e||"Down"===t){if(!qe.applyArrowKeyAndReturnIfWasAtBounds(r,t,n))return;if("Down"===t)return this.controller.dispatch({type:"on-special-key-pressed",key:t});if("Right"===t)return void this.handleFocusedChanged("minstep",!0);if("Left"===t)return void this.handleFocusedChanged("handler",!0)}r.keystroke(t,n),"handler"===e?this.dispatchHandlerLatexIfChanged(r.latex()):"minstep"===e&&this.dispatchMinStepLatexIfChanged(r.latex())}}handleFocusedChanged(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"ticker",location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"ticker",location:e}})}dispatchHandlerLatexIfChanged(e){this.getHandlerLatex()!==e&&this.controller.dispatch({type:"update-ticker-handlerlatex",latex:e})}dispatchMinStepLatexIfChanged(e){this.getMinStepLatex()!==e&&this.controller.dispatch({type:"update-ticker-minsteplatex",latex:e})}getHandlerLatex(){return this.controller.getTickerHandlerLatex()}getMinStepLatex(){return this.controller.getTickerMinStepLatex()}getMQConfig(){return this.controller.getMathquillConfig({additionalOperators:["dt"]})}getHandlerErrorString(){return this.getHandlerLatex()?oA(this.controller.getTicker()):void 0}getMinStepErrorString(){return aA(this.controller.getTicker())}shouldShowSliderPrompt(){return!!this.controller.areSlidersEnabled()&&ig(this.controller.getTicker()).length>0}},mn=__dcg_shared_module_exports__.i(ne()),{For:yO,If:NU}=mn.Components,tv=class extends mn.Class{init(){this.controller=this.props.controller(),this.currentlyInspectedDepth=1/0}template(){return mn.createElement("div",{class:mn.const("dcg-geo-show-constructions-pane"),didUnmount:()=>this.lastFocusedToken=void 0,onKeydown:this.bindFn(this.handleKeydown)},mn.createElement(NU,{predicate:()=>0===this.controller.getGeometryConstructionCount()},(()=>mn.createElement("div",{class:mn.const("dcg-empty-constructions")},mn.const("No constructed objects yet. Use the tools on the right to get started.")))),mn.createElement(yO,{each:this.bindFn(this.getObjectDepths)},mn.createElement("div",{class:mn.const("dcg-displayed-sections-container")},(e=>mn.createElement("div",{class:()=>({"dcg-displayed-section-level":!0,"dcg-selected-level":parseInt(e)===this.getCurrentlyInspectedDepth(),"dcg-below-the-line":parseInt(e)>this.getCurrentlyInspectedDepth()})},mn.createElement(yO,{each:()=>this.getTokensForDepth(e),key:(e,t)=>t},mn.createElement("span",{role:mn.const("listbox"),"aria-label":()=>this.controller.raw(`Depth: ${e}`)},((t,n)=>mn.createElement(Oc,{showParentChildrenHover:this.const(!0),controller:this.props.controller,tokenId:()=>this.getTokenIdForDepth(e,n),insideMQ:this.const(!1),insideGroup:this.const(!0),focusLocation:()=>({type:"geo-token",token:this.getTokenIdForDepth(e,n)}),putInTabOrder:()=>{if(void 0===this.lastFocusedToken){let e=this.getObjectDepths();this.lastFocusedToken=this.getTokenIdForDepth(e[0],0)}return this.lastFocusedToken===this.getTokenIdForDepth(e,n)}})))))))))}getCurrentlyInspectedDepth(){return Math.min(this.currentlyInspectedDepth,this.getObjectDepths().length-1)}getTokenIdForDepth(e,t){var n=this.getTokensForDepth(e)[t];return n?n.token:""}getTokensForType(e){return this.controller.cachedGeoTokenGroups[e]||[]}getTokensForDepth(e){return this.controller.cachedGeoTokenDepths[e]||[]}getObjectDepths(){let e=Object.keys(this.controller.cachedGeoTokenDepths);return e.sort(((e,t)=>{let n=parseInt(e),r=parseInt(t);return isFinite(n)?isFinite(r)?n-r:1:-1})),e}getObjectTypes(){var e=[],t=this.controller.cachedGeoTokenGroups;return t.point&&e.push("point"),t.line&&e.push("line"),t.circle&&e.push("circle"),t.polygon&&e.push("polygon"),t.angle&&e.push("angle"),t.error&&e.push("error"),t.unknown&&e.push("unknown"),e}handleKeydown(e){if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;let t=Le(e);if("Esc"===t)return e.preventDefault(),e.stopPropagation(),void this.controller.dispatch({type:"set-show-constructions-open",open:!1,focusIcon:!0});if("Up"!==t&&"Down"!==t&&"Left"!==t&&"Right"!==t)return;e.preventDefault(),e.stopPropagation();let n=this.getObjectTypes();if(0===n.length)return;let r="",i=this.controller.getFocusLocation();if(i&&"geo-token"===i.type)r=i.token;else{let e=this.getTokensForType(n[0])[0];if(!e)return;r=e.token}if(""===r)return;let o=this.controller.getTokenRenderInfoById(r),a=n.indexOf(o.groupType),s=this.getTokensForType(o.groupType);if(!s)return;let l=__dcg_shared_module_exports__.ya(s,{token:r});if(-1===a||-1===l)return;"Up"===t?a=Math.max(a-1,0):"Down"===t?a=Math.min(a+1,n.length-1):"Left"===t?l=Math.max(l-1,0):"Right"===t&&(l=Math.min(l+1,s.length-1));let c=this.getTokensForType(n[a]);if(!c)return;l=Math.min(l,c.length-1);let d=c[l].token;this.lastFocusedToken=d,this.controller.dispatch({type:"set-focus-location",location:{type:"geo-token",token:d}})}},{If:Rc,For:BU,Switch:KU,SwitchUnion:UU}=mt.Components,Am=class extends mt.Class{constructor(){super(...arguments),this.guid=__dcg_shared_module_exports__.Ka("listView")}init(){this.controller=this.props.controller()}template(){return mt.createElement("div",{didMount:this.bindFn(this.didMountContainer)},mt.createElement("div",{class:mt.const("dcg-exppanel-outer"),onDrop:this.bindFn(this.onDrop),style:()=>this.computeExppanelOuterStyle()},mt.createElement(Rc,{predicate:()=>this.controller.isFileDraggedOver()},(()=>mt.createElement("div",{class:mt.const("dcg-drop-image")},mt.createElement("span",null,(()=>this.controller.s("graphing-calculator-label-drop-image-here")))))),mt.createElement("div",{class:()=>({"dcg-exppanel-container":!0,"dcg-add-shadow":this.controller.shouldRenderList()}),style:()=>({transform:this.controller.isListVisible()?void 0:this.controller.isNarrow()?"translate(0, 100%)":"translate(-100%, 0)"})},mt.createElement(Rc,{predicate:()=>this.controller.shouldRenderList()},(()=>mt.createElement(Tm,{controller:this.props.controller,expsScrolled:()=>!!this.exppanel&&this.exppanel.scrollTop>0}))),mt.createElement(Rc,{predicate:()=>this.controller.getExpressionSearchOpen()},(()=>mt.createElement(Zw,{controller:this.props.controller,expsScrolled:()=>!!this.exppanel&&this.exppanel.scrollTop>0}))),mt.createElement(Rc,{predicate:()=>this.controller.getTickerOpen()&&!this.controller.getTicker().filteredBySearch},(()=>mt.createElement(ev,{controller:this.props.controller,expsScrolled:()=>!!this.exppanel&&this.exppanel.scrollTop>0}))),mt.createElement(Rc,{predicate:()=>this.controller.shouldRenderList()},(()=>mt.createElement("div",{class:()=>({"dcg-exppanel":!0,"dcg-disable-horizontal-scroll-to-cursor":!0,"dcg-isDragging":this.controller.isDragDropActive(),"dcg-has-background-color":this.controller.hasBackgroundColor(),"dcg-edit-list-mode":this.controller.isInEditListMode()}),style:()=>({background:this.controller.getBackgroundColor()}),onPaste:this.bindFn(this.onPaste),onTapStart:this.bindFn(this.onExppanelTapstart),didMount:this.bindFn(this.didMountExppanel)},mt.createElement("div",{class:()=>({"dcg-expressionlist":!0}),role:mt.const("region"),"aria-label":()=>this.controller.s("shared-calculator-narration-expression-list")},mt.createElement(Rc,{predicate:()=>this.controller.getShowConstructionsOpen()},(()=>mt.createElement(tv,{controller:this.props.controller}))),mt.createElement(BU,{each:()=>this.controller.getAllItemModels(),key:e=>e.guid},mt.createElement("span",{class:mt.const("dcg-template-expressioneach")},(e=>UU((()=>qA(e)),{shell:()=>this.makeShellViewForModel(e),render:()=>this.makeViewForModel(e),none:()=>{}})))),mt.createElement(km,{controller:()=>this.props.controller()}),mt.createElement(KU,{key:()=>this.controller.getDraggedItemId()},(e=>{if(e){let t=this.controller.getItemModel(e);return mt.createElement(Em,{controller:this.props.controller},this.makeDragCopyViewForModel(t))}})),mt.createElement("div",{class:mt.const("dcg-expressions-branding"),style:()=>({opacity:this.controller.isKeypadOpen()?0:1})},mt.createElement(Rc,{predicate:()=>this.controller.canEditOnWeb()},(()=>mt.createElement("span",{role:mt.const("link"),tabindex:mt.const(0),class:mt.const("dcg-edit-branding"),onTap:()=>this.controller.dispatch({type:"open-on-web"})},mt.createElement("div",{class:mt.const("dcg-powered-by"),"aria-label":()=>this.controller.s("graphing-calculator-narration-edit-graph-on-desmos")},(()=>this.controller.s("graphing-calculator-button-edit-graph-on-desmos-logo"))),mt.createElement("i",{class:mt.const("dcg-icon-desmos"),"aria-hidden":mt.const("true")})))),mt.createElement(Rc,{predicate:()=>!this.controller.canEditOnWeb()},(()=>mt.createElement("span",{class:mt.const("dcg-noedit-branding")},mt.createElement("div",{class:mt.const("dcg-powered-by"),"aria-label":()=>this.controller.s("graphing-calculator-narration-powered-by-desmos")},(()=>this.controller.s("graphing-calculator-label-powered-by"))),mt.createElement("i",{class:mt.const("dcg-icon-desmos"),"aria-hidden":mt.const("true")})))))))))),mt.createElement(Qw,{controller:this.props.controller})))}makeShellViewForModel(e){return mt.createElement(Sm,{controller:this.props.controller,model:()=>e,onDragPending:()=>{},isDragCopy:()=>!1})}computeExppanelOuterStyle(){this.getListBottomAndUpdateLastExpressionPadding();let{list:e}=this.controller.computeMajorLayout(),t=e.top;return e.top>0&&!this.controller.isListVisible()&&(t-=e.height),{position:"absolute",left:"0px",top:t+"px",width:e.width+"px",height:e.height+"px"}}makeDragCopyViewForModel(e){return this.makeViewForModel(e,!0)}makeViewForModel(e,t=!1){var n;if("table"===e.type)n=mt.createElement(ym,{controller:this.props.controller,model:()=>e,onDragPending:t=>this.onDragPending(t,e.id),isDragCopy:()=>t});else if("folder"===e.type)n=mt.createElement(bm,{controller:this.props.controller,model:()=>e,onDragPending:t=>this.onDragPending(t,e.id),isDragCopy:()=>t});else if("text"===e.type)n=mt.createElement(pm,{controller:this.props.controller,model:()=>e,onDragPending:t=>this.onDragPending(t,e.id),isDragCopy:()=>t});else if("image"===e.type)n=mt.createElement(vm,{controller:this.props.controller,model:()=>e,onDragPending:t=>this.onDragPending(t,e.id),isDragCopy:()=>t});else{if("expression"!==e.type)return;n=mt.createElement(um,{controller:this.props.controller,model:()=>e,onDragPending:t=>this.onDragPending(t,e.id),isDragCopy:()=>t})}return n}didUnmount(){P(document.documentElement).off("."+this.guid)}didMountContainer(e){this.node=e,P(document.documentElement).on("keydown."+this.guid,this.bindFn(this.handleKeyDown))}didMountExppanel(e){this.exppanel=e,e.onscroll=()=>this.controller.markTickRequiredNextFrame()}getListBottomAndUpdateLastExpressionPadding(){let e=this.controller.getKeypadHeight(),t=this.__listBottom||0;return this.__listBottom=e,0===e&&0!==t&&q1()&&this.padLastExpressionUntilTapEnd(t),e}padLastExpression(e){P(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom",e+"px")}unpadLastExpression(){P(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom","0")}padLastExpressionUntilTapEnd(e){this.padLastExpression(e),P(document).on("dcg-tap.animating-bottom",(()=>{this.unpadLastExpression(),P(document).off("dcg-tap.animating-bottom")}))}handleKeyDown(e){if(this.controller.inAudioTraceMode())return;let t=Le(e),n=Ei(e),r=this.controller.getSelectedItem();if(!r)return void((t===ga||t===vd)&&!this.controller.needsFakeKeypad()&&this.controller.hasMultipleItemsSelected()&&this.controller.dispatch({type:"delete-all-selected-items"}));let i=this.controller.getFocusLocation();if(!this.controller.getSelectedGeoExpression()||void 0===i&&(t===vd||t===ga)){if(e.ctrlKey&&e.shiftKey&&!e.metaKey&&!e.altKey&&void 0!==i){if("O"===n){let t;if(e.preventDefault(),e.stopPropagation(),"expression"===r.type)r.sliderExists||Yu(r)?r.sliderExists&&(t={type:"slider",model:r,guid:"slider-"+r.guid,focusFirstOption:!0,previousFocusLocation:i},this.controller.dispatch({type:"set-focus-location",location:{type:"slider-animation-properties-icon",id:r.id}})):(t={type:"expression",model:r,guid:r.guid,focusFirstOption:!0,previousFocusLocation:i},this.controller.dispatch({type:"set-focus-location",location:{type:"expression-icon",id:r.id}}));else if("image"===r.type)t={type:"image",model:r,guid:r.guid,focusFirstOption:!0,previousFocusLocation:i},this.controller.dispatch({type:"set-focus-location",location:{type:"image-icon",id:r.id}});else if("table"===r.type&&"table"===i.type){let e=i.location;if(!e)return;let n=r.columnModels[e.column];if(!n||""===n.latex||!this.controller.getGraphSettings().config.graphpaper||n.error||0===n.index)return;t={type:"table-column",model:n,guid:n.guid,focusFirstOption:!0,previousFocusLocation:i},this.controller.dispatch({type:"set-focus-location",location:{type:"table-icon",id:r.id,columnId:n.id}})}if(!t)return;return void this.controller.dispatch({type:"toggle-item-settings-menu",menu:t})}if("D"===n){if(this.controller.isItemReadonly(r.id)&&!this.controller.isInEditListMode())return;return e.preventDefault(),e.stopPropagation(),void this.controller.dispatch({type:"delete-item-and-animate-out",id:r.id,setFocusAfterDelete:!0})}}if(this.controller.isInEditListMode()&&!e.altKey&&!e.ctrlKey&&!e.metaKey){if(t===rl&&void 0!==i){let t=this.controller.getItemModelByIndex(0);if(!t)return;let n=("readonly-expression"===i.type&&"expression"===t.type||"table-container"===i.type&&"table"===t.type||i.type===t.type)&&i.id===t.id,r={type:"edit-list-toggle"},o=this.controller.isFocusLocationFocused(r);e.shiftKey&&n?(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"set-focus-location",location:r})):!e.shiftKey&&o&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"move-focus-to-item",id:t.id,where:"table"===t.type?"container":void 0}))}else if(t===Fn||t===Yn){let e=this.controller.getListModel(),n=t===Fn?sd(e,r.index):ld(e,r.index);if(!n)return;this.controller.dispatch({type:"move-focus-to-item",id:n.id,where:"table"===n.type?"container":"start"})}return}if((!document.activeElement||!P.contains(document.body,document.activeElement))&&!P(e.target).closest(this.exppanel).length&&P.contains(document.documentElement,e.target))switch(t){case Fn:e.preventDefault(),this.controller.dispatch({type:"select-previous-expression"});break;case Yn:e.preventDefault(),this.controller.dispatch({type:"select-next-expression"});break;case co:e.preventDefault(),this.controller.dispatch({type:"set-none-selected"});break;case Ic:e.preventDefault(),r&&("expression"===r.type&&r.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:r.id,adjustment:"up"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:r.id}})):this.controller.dispatch({type:"move-focus-to-item",id:r.id,where:"start"}));break;case rl:e.preventDefault(),r&&this.controller.dispatch({type:"move-focus-to-item",id:r.id,where:"start"});break;case kc:e.preventDefault(),r&&("expression"===r.type&&r.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:r.id,adjustment:"down"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:r.id}})):this.controller.dispatch({type:"move-focus-to-item",id:r.id,where:"end"}));break;case ga:e.preventDefault(),r&&!this.controller.isItemReadonly(r.id)&&this.controller.dispatch({type:"upward-delete-selected-expression"});break;case vd:e.preventDefault(),r&&!this.controller.isItemReadonly(r.id)&&this.controller.dispatch({type:"downward-delete-selected-expression"});break;case il:e.wasHandled("create-expression-with-keyboard")||(e.preventDefault(),e.handle("create-expression-with-keyboard"),r&&this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"}));break;default:if(e.metaKey||e.ctrlKey||t===Jg||t===Xg)return;r&&("table"===r.type||this.controller.dispatch({type:"move-focus-to-item",id:r.id,where:"end"}))}}}onDragPending(e,t){e.preventDefault(),Ur();var n=e.touches[0].clientY,r=n,i=setTimeout((()=>{P(document).off(".dragpending"),this.onDragStart(e,t,n,r)}),500);P(document).on("dcg-tapmove.dragpending",(o=>{r=o.touches[0].clientY,Math.abs(r-n)>3&&(clearTimeout(i),P(document).off(".dragpending"),this.onDragStart(e,t,n,r))})),P(document).on("dcg-tapend.dragpending",(function(){clearTimeout(i),P(document).off(".dragpending")}))}onDragStart(e,t,n,r){1===e.touches.length&&(e.wasHandled("dcg-longhold")||this.controller.dispatch({type:"start-dragdrop",id:t,grabY:n,mouseY:r}))}onExppanelTapstart(e){"mouse"!==e.device&&0===P(e.target).closest(".dcg-expressionitem").length&&Ur()}onPaste(e){let t=this.controller.getGraphSettings().config;var n=fO(e);if(!n)return;var r=this.controller.getSelectedItem();if(this.controller.canLoadPastedLink(n)&&r&&"folder"===r.type&&""===r.title)return e.stopPropagation(),e.preventDefault(),void Xw(this.controller,n,((e,t)=>t(null,e)));if(r&&("text"===r.type||"folder"===r.type))return;if(this.controller.canLoadPastedLink(n)){e.stopPropagation(),e.preventDefault();let r=t.pasteGraphLinkCallback?t.pasteGraphLinkCallback:(e,t)=>t(null,e);return void Xw(this.controller,n,r)}if(t.pasteTableData){let t=oO(n);if(void 0!==t)return e.stopPropagation(),e.preventDefault(),this.controller.dispatch({type:"paste-table",data:t})}let i=nO(n);if(void 0===i);else{e.stopPropagation(),e.preventDefault();let t=[];1===i.length&&i[0].numberList?this.controller.dispatch({type:"append-number-list",latex:i[0].content}):(i.forEach((e=>{t.push({type:"expression",id:this.controller.generateId(),latex:e.content})})),this.controller.dispatch({type:"insert-several-expressions",expressions:t}))}}onDrop(e){if(!this.controller.areImagesEnabled())return;let t=e.dataTransfer&&e.dataTransfer.files;t&&this.controller.dispatch({type:"new-images",files:t})}},Yr=__dcg_shared_module_exports__.i(ne());at();var ln=__dcg_shared_module_exports__.i(ne());at();var bO=__dcg_shared_module_exports__.i(ne()),yn=class extends bO.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}getFocusedInput(){let e=this.controller.getFocusLocation(),t="table-column"===this.model.type?this.model.table.id:this.id;if(e&&"expression-menu"===e.type&&e.id===t)return e.location}handleFocusedChanged(e,t){let n="table-column"===this.model.type?this.model.table.id:this.id;e?this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:n,location:t}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"expression-menu",id:n,location:t}})}onColorSelected(e){"image"!==this.model.type&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-color",id:this.id,color:e}):this.controller.dispatch({type:"set-tablecolumn-color",color:e,tableId:this.model.table.id,columnId:this.id}))}onCustomColorSelected(e){"image"!==this.model.type&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-colorlatex",id:this.id,colorLatex:e}):this.controller.dispatch({type:"set-tablecolumn-colorlatex",tableId:this.model.table.id,columnId:this.model.id,colorLatex:e}))}getModelColor(){return"image"===this.model.type?"":rs(this.model)}},fr=__dcg_shared_module_exports__.i(ne()),Ql=__dcg_shared_module_exports__.i(ne()),bn=class extends Ql.Class{template(){return Ql.createElement("div",{class:()=>({"dcg-toggle-view":!0,"dcg-toggled":this.props.toggled()}),"aria-label":()=>this.props.ariaLabel(),role:Ql.const("checkbox"),tabindex:Ql.const("0"),"aria-checked":()=>this.props.toggled(),toggled:()=>this.props.toggled(),onTap:this.bindFn(this.props.onChange)},Ql.createElement("div",{class:Ql.const("dcg-toggle-switch")}))}},nr=__dcg_shared_module_exports__.i(ne()),{For:xO,If:uk}=nr.Components,Xo=class extends nr.Class{init(){this.controller=this.props.controller()}template(){return nr.createElement("div",{class:nr.const("dcg-color-picker-container")},nr.createElement(xO,{each:()=>this.getColorValues()},nr.createElement("span",{class:nr.const("dcg-color-picker-menu dcg-do-not-blur")},(e=>nr.createElement("span",{class:nr.const("dcg-color-tile"),handleevent:nr.const("true"),role:nr.const("button"),tabindex:nr.const("0"),"aria-label":()=>bd(this.controller,e),"aria-pressed":()=>this.isSelected(e),onTap:()=>this.props.onColorSelected(e)},nr.createElement("span",{class:nr.const("dcg-color-swatch"),style:()=>({background:e})}),nr.createElement(uk,{predicate:()=>this.isSelected(e)},(()=>nr.createElement("i",{class:nr.const("dcg-icon-check"),"aria-hidden":nr.const("true")}))))))),nr.createElement(uk,{predicate:()=>this.getUniqueCustomColors().length>0},(()=>nr.createElement(xO,{each:this.bindFn(this.getUniqueCustomColors),key:e=>"string"==typeof e?e:e.assignmentLatex},nr.createElement("span",{class:nr.const("dcg-color-picker-menu dcg-do-not-blur")},(e=>"string"==typeof e?nr.createElement("span",{class:nr.const("dcg-color-picker-placeholder")}):nr.createElement(Ue,{tooltip:()=>e.assignmentLatex,renderAsLatex:()=>({view:e=>nr.createElement(ze,{config:this.const({}),latex:()=>e})})},nr.createElement("span",{class:nr.const("dcg-color-tile"),handleevent:nr.const("true"),role:nr.const("button"),tabindex:nr.const(0),"aria-label":()=>nn(e.assignmentLatex),"aria-pressed":()=>this.props.colorLatex()===e.assignmentLatex,onTap:()=>this.props.onCustomColorSelected(e.assignmentLatex)},nr.createElement(Rp,{color:()=>this.getColorValue(e)}),nr.createElement(uk,{predicate:()=>this.props.colorLatex()===e.assignmentLatex},(()=>nr.createElement("i",{class:()=>this.getCheckmarkClass(e),"aria-hidden":nr.const("true")})))))))))))}isSelected(e){var t=this.props.colorLatex();return!(t&&__dcg_shared_module_exports__.qa(this.getUniqueCustomColors(),"assignmentLatex").indexOf(t)>=0)&&this.props.selectedColor()===e}getColorValues(){return __dcg_shared_module_exports__.Ca(this.controller.getColors())}getUniqueCustomColors(){if(this.props.hideCustomColors&&this.props.hideCustomColors())return[];let e=this.controller.getAllColorAssignments(),t=__dcg_shared_module_exports__.va(e,(function(e){return e.assignmentLatex})),n=__dcg_shared_module_exports__.ma(e,(e=>1===t[e.assignmentLatex]));for(let e=0;e<n.length%6;e++)n.push("placholder-"+e);return n}getColorValue(e){return this.controller.getColorById(e.id)}getCheckmarkClass(e){return Fx(this.getColorValue(e))?"dcg-icon-check "+(E1(this.getColorValue(e))?"dcg-light-color":"dcg-mixed-color"):"dcg-icon-check"}},{If:pk}=fr.Components,zp=class extends yn{template(){return fr.createElement("div",{class:fr.const("dcg-options-menu-section")},fr.createElement("div",{class:fr.const("dcg-options-menu-section-title")},(()=>this.controller.s("graphing-calculator-heading-lines")),fr.createElement(bn,{ariaLabel:()=>this.controller.s("graphing-calculator-narration-lines-visible"),toggled:this.props.isOpen,onChange:this.bindFn(this.toggleLinesVisible)})),fr.createElement(pk,{predicate:()=>this.props.isOpen()},(()=>fr.createElement("div",{class:fr.const("dcg-options-menu-content")},fr.createElement("div",{class:fr.const("dcg-options-flex-container")},fr.createElement("div",{class:fr.const("dcg-options-left-side")},fr.createElement("div",{class:fr.const("dcg-iconed-mathquill-row dcg-line-opacity-row")},fr.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-opacity-tooltip"),sticky:this.const(!0),gravity:this.const("se")},fr.createElement("i",{class:fr.const("dcg-icon-opacity"),"aria-hidden":fr.const("true")})),fr.createElement(Ir,{latex:()=>this.model.lineOpacity,placeholder:this.bindFn(this.getLineOpacity),isFocused:()=>"lineopacity"===this.getFocusedInput(),ariaPostLabel:()=>this.isLineOpacityValid()?this.controller.raw(""):this.controller.s("shared-calculator-narration-input-error"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-line-opacity"),hasError:()=>!this.isLineOpacityValid(),handleLatexChanged:this.bindFn(this.dispatchLineOpacityLatexIfChanged),dataLabelAttributeValue:this.const("line-opacity"),controller:this.props.controller,readonly:()=>this.controller.isItemReadonly(this.model.id),handleFocusChanged:e=>this.handleFocusedChanged(e,"lineopacity")})),fr.createElement("div",{class:fr.const("dcg-iconed-mathquill-row dcg-line-thickness-row")},fr.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-line-thickness-tooltip"),sticky:this.const(!0),gravity:this.const("se")},fr.createElement("i",{class:fr.const("dcg-icon-line-thickness"),"aria-hidden":fr.const("true")})),fr.createElement(Ir,{latex:()=>this.model.lineWidth,placeholder:this.bindFn(this.getLineWidth),isFocused:()=>"linewidth"===this.getFocusedInput(),ariaPostLabel:()=>this.isLineWidthValid()?this.controller.raw(""):this.controller.s("shared-calculator-narration-input-error"),ariaLabel:()=>this.controller.s("graphing-calculator-label-line-thickness-tooltip"),hasError:()=>!this.isLineWidthValid(),handleLatexChanged:this.bindFn(this.dispatchLineWidthLatexIfChanged),dataLabelAttributeValue:this.const("line-width"),controller:this.props.controller,readonly:()=>this.controller.isItemReadonly(this.model.id),handleFocusChanged:e=>this.handleFocusedChanged(e,"linewidth")}))),fr.createElement("div",{class:fr.const("dcg-options-right-side")},fr.createElement(pk,{predicate:this.bindFn(this.shouldShowLineStyles)},(()=>fr.createElement(Oi,{staticConfig:this.bindFn(this.getPointStyleOptions),ariaGroupLabel:()=>this.controller.s("graphing-calculator-heading-style"),theme:this.const("mini")}))))),fr.createElement(pk,{predicate:this.props.isFirstOpenSection},(()=>fr.createElement(Xo,{controller:this.props.controller,colorLatex:()=>this.model.colorLatex,selectedColor:this.bindFn(this.getModelColor),onColorSelected:this.bindFn(this.onColorSelected),onCustomColorSelected:this.bindFn(this.onCustomColorSelected)})))))))}getLineWidth(){return this.isGeometryPolygon()?"2":"2.5"}getLineOpacity(){return this.isGeometryPolygon()?"0.6":"0.9"}isGeometryPolygon(){return this.controller.isGeometry()&&"expression"===this.model.type&&Js(this.model)}getPointStyleOptions(){return["SOLID","DASHED","DOTTED"].map((e=>({key:e,icon:()=>this.getStyleIcon(e),ariaLabel:()=>this.getStyleAria(e),selected:()=>this.model.lineStyle===e,class:()=>"dcg-line-segmented-option",onSelect:()=>{this.onLineStyleSelected(e)}})))}getStyleIcon(e){switch(e){case"SOLID":return"dcg-icon-line-solid";case"DASHED":return"dcg-icon-line-dashed";case"DOTTED":return"dcg-icon-line-dotted"}}getStyleAria(e){let t=this.controller.s;switch(e){case"SOLID":return t("graphing-calculator-narration-line-style-solid");case"DASHED":return t("graphing-calculator-narration-line-style-dashed");case"DOTTED":return t("graphing-calculator-narration-line-style-dotted")}}isLineOpacityValid(){return"expression"===this.model.type?RV(this.model):"table-column"===this.model.type&&z0(this.model)}isLineWidthValid(){return"expression"===this.model.type?KV(this.model):"table-column"===this.model.type&&W0(this.model)}dispatchLineOpacityLatexIfChanged(e){this.model.lineOpacity!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-lineopacity",id:this.id,lineOpacity:e}):this.controller.dispatch({type:"set-tablecolumn-lineopacity",tableId:this.model.table.id,columnId:this.model.id,lineOpacity:e}))}shouldShowLineStyles(){return!("expression"===this.model.type&&Qs(this.model))}onLineStyleSelected(e){this.model.lineStyle!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-linestyle",id:this.id,lineStyle:e}):this.controller.dispatch({type:"set-tablecolumn-linestyle",tableId:this.model.table.id,columnId:this.model.id,lineStyle:e}))}dispatchLineWidthLatexIfChanged(e){this.model.lineWidth!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-linewidth",id:this.id,lineWidth:e}):this.controller.dispatch({type:"set-tablecolumn-linewidth",tableId:this.model.table.id,columnId:this.model.id,lineWidth:e}))}toggleLinesVisible(){"expression"===this.model.type?this.controller.dispatch({type:"set-item-lines",id:this.id,lines:!this.props.isOpen()}):this.controller.dispatch({type:"set-tablecolumn-lines",tableId:this.model.table.id,columnId:this.model.id,bool:!this.props.isOpen()})}},sn=__dcg_shared_module_exports__.i(ne()),{If:$U,For:zU}=sn.Components,rv=class extends yn{template(){return sn.createElement("div",{class:sn.const("dcg-options-menu-section dcg-options-menu-section-arrows")},sn.createElement("div",{class:sn.const("dcg-options-menu-section-title")},(()=>this.controller.s("graphing-calculator-heading-arrows")),sn.createElement(bn,{ariaLabel:()=>this.controller.s("graphing-calculator-narration-menu-arrows-enabled"),toggled:this.props.isOpen,onChange:this.bindFn(this.toggleArrowsEnabled)})),sn.createElement($U,{predicate:this.props.isOpen},(()=>sn.createElement("div",{class:sn.const("dcg-options-menu-content")},sn.createElement(zU,{each:()=>this.getArrowModeOptions()},sn.createElement("div",{class:sn.const("dcg-style-icons"),role:sn.const("radiogroup")},(e=>sn.createElement("div",{class:sn.const("dcg-style-icon-container"),onTap:()=>this.setArrowMode(e),role:sn.const("radio"),tabindex:sn.const(0),"aria-label":()=>this.getAriaLabel(e),"aria-checked":()=>this.getArrowMode()===e},sn.createElement(Li,{backgroundColor:()=>"#000",semiTransparent:()=>this.getArrowMode()!==e,iconType:()=>this.getArrowIconType(e)})))))))))}getArrowModeOptions(){return Ag(this.model)?["POSITIVE","BOTH"]:[]}getArrowIconType(e){switch(e){case"POSITIVE":return"arrow-right";case"BOTH":return"movable-horizontal"}}getAriaLabel(e){switch(e){case"POSITIVE":return this.controller.s("graphing-calculator-narration-arrow-mode-one");case"BOTH":return this.controller.s("graphing-calculator-narration-arrow-mode-both")}}setArrowMode(e){this.controller.dispatch({type:"set-item-arrow-mode",id:this.id,value:e})}getArrowMode(){return lx(this.model)}toggleArrowsEnabled(){"expression"===this.model.type&&this.setArrowMode(this.props.isOpen()?"NONE":"POSITIVE")}},Vm=__dcg_shared_module_exports__.i(ne()),iv=class extends yn{template(){return Vm.createElement("div",{class:Vm.const("dcg-options-menu-section")},Vm.createElement(Xo,{controller:this.props.controller,colorLatex:()=>this.model.colorLatex,selectedColor:this.bindFn(this.getModelColor),onColorSelected:this.bindFn(this.onColorSelected),onCustomColorSelected:this.bindFn(this.onCustomColorSelected),hideCustomColors:()=>"expression"===this.model.type&&ux(this.model)}))}},Ji=__dcg_shared_module_exports__.i(ne()),{If:hk}=Ji.Components,nv=class extends yn{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return Ji.createElement("div",{class:Ji.const("dcg-options-menu-section")},Ji.createElement("div",{class:Ji.const("dcg-options-menu-section-title")},(()=>this.controller.s("graphing-calculator-heading-fill")),Ji.createElement(hk,{predicate:()=>!this.isInequality()},(()=>Ji.createElement(bn,{ariaLabel:()=>this.controller.s("graphing-calculator-narration-fill-visible"),toggled:this.props.isOpen,onChange:this.bindFn(this.toggleFillVisible)})))),Ji.createElement(hk,{predicate:this.props.isOpen},(()=>Ji.createElement("div",{class:Ji.const("dcg-options-menu-content")},Ji.createElement("div",{class:Ji.const("dcg-iconed-mathquill-row dcg-fill-opacity-row")},Ji.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-opacity-tooltip"),sticky:this.const(!0),gravity:this.const("se")},Ji.createElement("i",{class:Ji.const("dcg-icon-opacity"),"aria-hidden":Ji.const("true")})),Ji.createElement(Ir,{latex:()=>this.model.fillOpacity,placeholder:this.bindFn(this.getFillOpacity),isFocused:()=>"opacity"===this.getFocusedInput(),ariaPostLabel:()=>pE(this.model)?this.controller.raw(""):this.controller.s("shared-calculator-narration-input-error"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-fill-opacity"),hasError:()=>!pE(this.model),handleLatexChanged:this.bindFn(this.dispatchOpacityLatexIfChanged),dataLabelAttributeValue:this.const("fill-opacity"),controller:this.props.controller,readonly:()=>this.controller.isItemReadonly(this.model.id),handleFocusChanged:e=>this.handleFocusedChanged(e,"opacity")})),Ji.createElement(hk,{predicate:this.props.isFirstOpenSection},(()=>Ji.createElement(Xo,{controller:this.props.controller,colorLatex:()=>this.model.colorLatex,selectedColor:this.bindFn(this.getModelColor),onColorSelected:this.bindFn(this.onColorSelected),onCustomColorSelected:this.bindFn(this.onCustomColorSelected)})))))))}getFillOpacity(){return this.controller.isGeometry()&&Js(this.model)?"0.2":"0.4"}isInequality(){return Qs(this.model)}toggleFillVisible(){this.controller.dispatch({type:"set-item-fill",id:this.id,fill:!this.props.isOpen()})}dispatchOpacityLatexIfChanged(e){this.model.fillOpacity!==e&&this.controller.dispatch({type:"set-item-fillopacity",id:this.id,fillOpacity:e})}},mr=__dcg_shared_module_exports__.i(ne()),Pt=__dcg_shared_module_exports__.i(ne()),{If:wO,Switch:vO}=Pt.Components,ov=class extends Pt.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return Pt.createElement("div",{class:Pt.const("dcg-clickable-image-info-view"),role:Pt.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-narration-clickable-image-options")},Pt.createElement("div",{class:Pt.const("dcg-clickable-image-state-container")},Pt.createElement(Ue,{tooltip:()=>this.tooltip("hovered"),gravity:this.const("s")},Pt.createElement(Yl,{controller:()=>this.controller,ariaLabel:()=>this.tooltip("hovered"),onFileChange:e=>this.updateImage("hovered",e),readonly:()=>this.controller.isItemReadonly(this.id)},Pt.createElement(vO,{key:this.bindFn(this.hoveredStatus)},(()=>Pt.createElement("div",{class:Pt.const("dcg-clickable-image-state"),style:()=>this.getStyleForState("hovered")}))))),Pt.createElement(wO,{predicate:()=>!!this.model.clickableInfo.hoveredImage},(()=>Pt.createElement("div",{class:Pt.const("dcg-clickable-image-state-close"),onTap:()=>this.removeImageState("hovered"),ariaLabel:()=>this.controller.s("graphing-calculator-label-remove-hovered-image"),role:Pt.const("button"),tabIndex:Pt.const(0)},Pt.createElement("i",{class:Pt.const("dcg-icon-remove"),"aria-hidden":Pt.const("true")})))),Pt.createElement("div",{role:Pt.const("heading"),"aria-level":Pt.const("2"),class:Pt.const("dcg-clickable-image-label")},(()=>this.controller.s("graphing-calculator-label-hovered")))),Pt.createElement("div",{class:Pt.const("dcg-clickable-image-state-container")},Pt.createElement(Ue,{tooltip:()=>this.tooltip("depressed"),gravity:this.const("s")},Pt.createElement(Yl,{controller:()=>this.controller,ariaLabel:()=>this.tooltip("depressed"),onFileChange:e=>this.updateImage("depressed",e),readonly:()=>this.controller.isItemReadonly(this.id)},Pt.createElement(vO,{key:this.bindFn(this.depressedStatus)},(()=>Pt.createElement("div",{class:Pt.const("dcg-clickable-image-state"),style:()=>this.getStyleForState("depressed")}))))),Pt.createElement(wO,{predicate:()=>!!this.model.clickableInfo.depressedImage},(()=>Pt.createElement("div",{class:Pt.const("dcg-clickable-image-state-close"),onTap:()=>this.removeImageState("depressed"),ariaLabel:()=>this.controller.s("graphing-calculator-label-remove-depressed-image"),role:Pt.const("button"),tabIndex:Pt.const(0)},Pt.createElement("i",{class:Pt.const("dcg-icon-remove"),"aria-hidden":Pt.const("true")})))),Pt.createElement("div",{role:Pt.const("heading"),"aria-level":Pt.const("2"),class:Pt.const("dcg-clickable-image-label")},(()=>this.controller.s("graphing-calculator-label-depressed")))))}hoveredStatus(){return this.hoveredUploading?"loading":"background"}depressedStatus(){return this.depressedUploading?"loading":"background"}tooltip(e){return("hovered"===e?this.model.clickableInfo.hoveredImage:this.model.clickableInfo.depressedImage)?"depressed"===e?this.controller.s("graphing-calculator-label-change-depressed-image-tooltip"):this.controller.s("graphing-calculator-label-change-hovered-image-tooltip"):"depressed"===e?this.controller.s("graphing-calculator-label-add-depressed-image-tooltip"):this.controller.s("graphing-calculator-label-add-hovered-image-tooltip")}getImageURLForState(e){let t;if("hovered"===e){if("background"!==this.hoveredStatus())return"";t="hoveredImage"}else{if("background"!==this.depressedStatus())return"";t="depressedImage"}let n=this.model.clickableInfo[t];return n?`url(${n})`:`url(${this.model.image_url})`}getStyleForState(e){let t={"background-image":this.getImageURLForState(e),opacity:1};return"hovered"===e&&!this.model.clickableInfo.hoveredImage&&(t.opacity=.5),t}removeImageState(e){"hovered"===e?this.controller.dispatch({type:"set-hovered-image",id:this.model.id,url:""}):this.controller.dispatch({type:"set-depressed-image",id:this.model.id,url:""})}updateImage(e,t){if(!t||!t[0])return;let n=t[0];"hovered"===e&&(this.hoveredUploading=!0),"depressed"===e&&(this.depressedUploading=!0),this.controller.getGraphSettings().config.imageUploadCallback(n,((t,n)=>{"hovered"===e&&(this.hoveredUploading=!1),"depressed"===e&&(this.depressedUploading=!1),!t&&n&&("hovered"===e?this.controller.dispatch({type:"set-hovered-image",id:this.model.id,url:n}):this.controller.dispatch({type:"set-depressed-image",id:this.model.id,url:n}))}))}},Ba=__dcg_shared_module_exports__.i(ne()),av=__dcg_shared_module_exports__.i(VO()),fk=/\{\$([a-zA-Z0-9\-]+([a-zA-Z0-9\-]+_)*[a-zA-Z0-9\-]+)\}/;function LO(e,t){let n=0,r=0,i={},o={},a=function a(l){if(t.isConst(l))return e8(t.getConstValue(l));if(t.isNamedBinding(l)){let e=s(i,t.getBindingName(l)),n=`{$${e}}`;if(!fk.test(n))throw new Error(`Invalid <Localize> variable: ${n}.`);return t.addBinding&&t.addBinding(e,l),i[e]=!0,n}if(l!==e&&t.isView(l)){let e=s(o,t.getViewName(l));if(!/[a-zA-Z0-9\-_]/.test(e))throw new Error(`Invalid <Localize> subview identifier: ${e}.`);return t.addView&&t.addView(e,l),o[e]=!0,`<${e}/>`}if(t.isBinding(l)){let e=s(i,"v"+n++),r=`{$${e}}`;return t.addBinding&&t.addBinding(e,l),i[e]=!0,r}{let e=""+r++;t.addElement&&t.addElement(e,l);let n=[];return t.forEachChild(l,(e=>{n.push(a(e))})),o[e]=!0,n.length>0?`<${e}>${n.join("")}</${e}>`:`<${e}/>`}}(e);if(!/^<0>/.test(a)||!/<\/0>$/.test(a))throw new Error("Expected template string to start and end with <0> and </0>, but found "+JSON.stringify(a));return a.slice(3,-4).trim();function s(e,t){let n=0,r=t;for(;e[r];)r=`${t}-${++n}`;return r}}var ZU=!0;function e8(e){return ZU?e:e.replace(/\{|\}/g,(e=>`{"${e}"}`)).replace(/(^|[\s\n]+)(\[|\]|\.)/g,((e,t,n)=>`${t}{"${n}"}`))}function t8(e){return e.__DCGViewLocalizeBindingName}function r8(e){return"function"==typeof e&&e.__DCGViewLocalizeViewName}var Wp=class extends Ba.Class{init(){this.viewMap={},this.elementMap={},this.bindingMap={},this.i18n=this.props.i18n(),this.templateString=this.serializeToTemplateString(Ba.createElement("div",null,this.children))}template(){return Ba.createElement(Ba.Components.If,{predicate:()=>this.shouldShow()},(()=>Ba.createElement(Ba.Components.Switch,{key:()=>mk(this.translatedString())},(e=>this.renderDeserializedTemplateNode(this.parseAndValidate(e))))))}shouldShow(){let e=this.props.options&&this.props.options();return!(e&&e.hideUntranslatedView&&this.i18n.hasTranslation)||this.i18n.hasTranslation(this.props.key())}translatedString(){let e={};for(let t in this.bindingMap)e[t]=Aa(`{$${t}}`);return this.i18n.s(this.props.key(),e)}static variable(e,t){let n=()=>t();return n.__DCGViewLocalizeBindingName=e,n}static subview(e,t){let n=()=>t();return n.__DCGViewLocalizeViewName=e,n}parseAndValidate(e){let t=(0,av.parse)(e),n={},r={};!function e(t){if(Array.isArray(t)){for(let n of t)e(n);return}"token"===t.name?n[t.attrs.id]=!0:"text"!==t.type&&(r[t.name]=!0,e(t.children))}(t);for(let e in this.elementMap)if(!r[e])return(0,av.parse)(mk(this.templateString));for(let e in this.bindingMap)if(!n[e])return(0,av.parse)(mk(this.templateString));return t}renderDeserializedTemplateNode(e){if(Array.isArray(e))return e.map((e=>this.renderDeserializedTemplateNode(e)));if("text"===e.type)return Ba.const(e.content||"");if("token"===e.name){return this.bindingMap[e.attrs.id]||(()=>"")}if(this.elementMap[e.name]){let t=this.elementMap[e.name],n=e.children.map((e=>this.renderDeserializedTemplateNode(e)));return OO(t.type,t.attrs,n)}return this.viewMap[e.name]?this.viewMap[e.name]():OO("span",{},[])}serializeToTemplateString(e){return LO(e,{isView:r8,isConst:PO,isBinding:e=>"function"==typeof e,isNamedBinding:t8,getConstValue:e=>e(),getBindingName:e=>e.__DCGViewLocalizeBindingName,getViewName:e=>e.__DCGViewLocalizeViewName,addBinding:(e,t)=>{this.bindingMap[e]=t},addElement:(e,t)=>{this.elementMap[e]={type:t.tagName,attrs:t.attrs}},addView:(e,t)=>{if(this.viewMap[e])throw new Error(`Unexpected duplicate view ${e}.`);this.viewMap[e]=t},forEachChild:(e,t)=>{for(let n of e.children){if(!PO(n)&&"function"!=typeof n&&n._isDCGView)throw new Error("Bare DCGViews are not allowed inside <Localize>. Use Localize.subview().");t(n)}}})}};function PO(e){return"function"==typeof e&&e.isDCGViewConst}function OO(e,t,n){return Ba.createElement(e,t,n)}function mk(e){return`<0>${e}</0>`.replace(new RegExp(fk.source,"g"),((e,t)=>`<token id="${t}"/>`))}var{If:sv,IfDefined:i8,Textarea:n8}=mr.Components,jp=class extends yn{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return mr.createElement("div",{class:mr.const("dcg-options-menu-section dcg-clickable-section")},mr.createElement("div",{class:mr.const("dcg-options-menu-section-title")},(()=>this.controller.s("graphing-calculator-heading-clickable")),mr.createElement(bn,{ariaLabel:()=>this.controller.s("graphing-calculator-narration-make-clickable"),toggled:this.props.isOpen,onChange:this.bindFn(this.toggleClickable)})),mr.createElement(sv,{predicate:this.props.isOpen},(()=>mr.createElement("div",{class:mr.const("dcg-options-menu-content")},mr.createElement("div",{class:mr.const("dcg-clickable-menu-row")},mr.createElement("span",{class:mr.const("dcg-input-label")},(()=>this.controller.s("graphing-calculator-label-update-on-click"))),mr.createElement(qe,{latex:()=>this.model.clickableInfo.latex,placeholder:this.const(""),isFocused:()=>"updaterule"===this.getFocusedInput(),capExpressionSize:()=>!!this.controller.getGraphSettings().config.capExpressionSize,selectOnFocus:this.const(!0),config:this.bindFn(this.getMQConfig),getAriaLabel:()=>this.controller.s("graphing-calculator-narration-click-action"),getAriaPostLabel:this.const(""),hasError:()=>this.hasError(),onUserChangedLatex:e=>this.dispatchUpdateRuleLatexIfChanged(e),onExpressionSizeExceeded:()=>this.controller.dispatch({type:"expression-size-exceeded"}),onFocusedChanged:e=>this.handleFocusedChanged(e,"updaterule"),dataLabelAttributeValue:this.const("click-handler"),needsSystemKeypad:()=>!this.controller.isKeypadEnabled()}),i8((()=>this.packedError()),(e=>mr.createElement("span",{class:mr.const("dcg-clickable-info-error-container")},mr.createElement(Jn,{error:()=>this.controller.unpack(e()),gravity:this.const("s"),size:this.const("small")}))))),mr.createElement(sv,{predicate:this.bindFn(this.isList)},(()=>mr.createElement("div",{class:mr.const("dcg-clickable-list-index-notice")},mr.createElement(Wp,{i18n:this.const(this.controller),key:this.const("graphing-calculator-label-list-index")},mr.const("Use"),mr.const(" "),mr.createElement("span",{class:()=>({"dcg-index-variable-marker":!0,"dcg-btn":!0,"dcg-btn-light-gray":!0,"dcg-mathquill-has-focus":"updaterule"===this.getFocusedInput(),"dcg-do-not-blur":!0}),onTap:this.bindFn(this.insertIndex)},mr.const("index")),mr.const(" "),mr.const("to reference the clicked index in the list."))))),mr.createElement(sv,{predicate:()=>"image"!==this.model.type},(()=>mr.createElement(n8,{placeholder:()=>this.controller.s("graphing-calculator-text-add-screen-reader-label-placeholder"),value:()=>this.model.description,onInput:e=>this.controller.dispatch({type:"set-item-description",id:this.model.id,description:e})}))),mr.createElement(sv,{predicate:()=>"image"===this.model.type},(()=>mr.createElement("div",{class:mr.const("dcg-clickable-menu-row")},mr.createElement(ov,{controller:()=>this.controller,model:()=>this.model}))))))))}insertIndex(){this.controller.dispatch({type:"keypad/type-text",text:"index"})}isList(){return!!this.model.formula&&!!this.model.formula.is_concrete_list}hasError(){return void 0!==this.packedError()}packedError(){if(this.model.formula.click_handler&&"error"===this.model.formula.click_handler.status)return this.model.formula.click_handler.error}toggleClickable(){this.controller.dispatch({type:"set-clickableinfo-prop",id:this.model.id,prop:"enabled",value:!this.model.clickableInfo.enabled}),this.model.clickableInfo.enabled&&this.handleFocusedChanged(!0,"updaterule")}dispatchUpdateRuleLatexIfChanged(e){this.model.clickableInfo.latex!==e&&this.controller.dispatch({type:"set-clickableinfo-rule-latex",id:this.id,latex:e})}getMQConfig(){return this.controller.getMathquillConfig({additionalOperators:["index"]})}},Pr=__dcg_shared_module_exports__.i(ne()),Zl=__dcg_shared_module_exports__.i(ne()),Yp=class extends yn{template(){return Zl.createElement("div",{class:Zl.const("dcg-iconed-mathquill-row dcg-point-opacity-row")},Zl.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-opacity-tooltip"),sticky:this.const(!0),gravity:this.const("se")},Zl.createElement("i",{class:Zl.const("dcg-icon-opacity"),"aria-hidden":Zl.const("true")})),Zl.createElement(Ir,{latex:()=>this.model.pointOpacity,placeholder:this.bindFn(this.getPointOpacityPlaceholder),isFocused:()=>"pointopacity"===this.getFocusedInput(),ariaPostLabel:()=>this.isPointOpacityValid()?this.controller.raw(""):this.controller.s("shared-calculator-narration-input-error"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-line-opacity"),hasError:()=>!this.isPointOpacityValid(),handleLatexChanged:this.bindFn(this.dispatchPointOpacityLatexIfChanged),dataLabelAttributeValue:this.const("point-opacity"),controller:this.props.controller,readonly:()=>this.controller.isItemReadonly(this.model.id),handleFocusChanged:e=>this.handleFocusedChanged(e,"pointopacity")}))}isPointOpacityValid(){return"expression"===this.model.type?NV(this.model):"table-column"===this.model.type&&Y0(this.model)}dispatchPointOpacityLatexIfChanged(e){this.model.pointOpacity!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-pointopacity",id:this.id,pointOpacity:e}):this.controller.dispatch({type:"set-tablecolumn-pointopacity",columnId:this.model.id,tableId:this.model.table.id,pointOpacity:e}))}getPointOpacityPlaceholder(){return"NONE"===this.getDragMode()?"0.9":"1"}getDragMode(){return"expression"===this.model.type&&this.model.reconciledDragMode||this.model.dragMode}},{If:lv}=Pr.Components,Jp=class extends yn{template(){return Pr.createElement("div",{class:Pr.const("dcg-options-menu-section")},Pr.createElement("div",{class:Pr.const("dcg-options-menu-section-title")},(()=>this.controller.s("graphing-calculator-heading-points")),Pr.createElement(bn,{ariaLabel:()=>this.controller.s("graphing-calculator-narration-points-visible"),toggled:this.props.isOpen,onChange:this.bindFn(this.togglePointsVisible)})),Pr.createElement(lv,{predicate:this.props.isOpen},(()=>Pr.createElement("div",{class:Pr.const("dcg-options-menu-content")},Pr.createElement("div",{class:Pr.const("dcg-options-flex-container")},Pr.createElement("div",{class:Pr.const("dcg-options-left-side")},Pr.createElement(Yp,__dcg_shared_module_exports__.b({},this.props)),Pr.createElement(lv,{predicate:()=>!this.isDraggable()},(()=>Pr.createElement("div",{class:Pr.const("dcg-iconed-mathquill-row")},Pr.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-point-size-tooltip"),gravity:this.const("se"),sticky:this.const(!0)},Pr.createElement("i",{class:Pr.const("dcg-icon-line-thickness"),"aria-hidden":Pr.const("true")})),Pr.createElement(Ir,{latex:()=>this.model.pointSize,placeholder:this.bindFn(this.getDefaultPointSize),isFocused:()=>"pointsize"===this.getFocusedInput(),ariaPostLabel:()=>this.isPointSizeValid()?this.controller.raw(""):this.controller.s("shared-calculator-narration-input-error"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-point-size"),hasError:()=>!this.isPointSizeValid(),handleLatexChanged:e=>this.dispatchPointSizeLatexIfChanged(e),dataLabelAttributeValue:this.const("point-size"),controller:this.props.controller,readonly:()=>this.controller.isItemReadonly(this.model.id),handleFocusChanged:e=>this.handleFocusedChanged(e,"pointsize")}))))),Pr.createElement("div",{class:Pr.const("dcg-options-right-side")},Pr.createElement(lv,{predicate:()=>!this.isDraggable()},(()=>Pr.createElement(Oi,{staticConfig:this.bindFn(this.getPointStyleOptions),ariaGroupLabel:()=>this.controller.s("graphing-calculator-heading-style"),theme:this.const("mini")}))))),Pr.createElement(lv,{predicate:this.props.isFirstOpenSection},(()=>Pr.createElement(Xo,{controller:this.props.controller,colorLatex:()=>this.model.colorLatex,selectedColor:this.bindFn(this.getModelColor),onColorSelected:this.bindFn(this.onColorSelected),onCustomColorSelected:this.bindFn(this.onCustomColorSelected)})))))))}getPointStyleOptions(){return["POINT","OPEN","CROSS"].map((e=>({key:e,icon:()=>this.getStyleIcon(e),ariaLabel:()=>this.getStyleAria(e),selected:()=>this.model.pointStyle===e,class:()=>"dcg-point-segmented-option",onSelect:()=>{this.onPointStyleSelected(e)}})))}getStyleIcon(e){switch(e){case"POINT":return"dcg-icon-point";case"OPEN":return"dcg-icon-open";case"CROSS":return"dcg-icon-cross"}}getStyleAria(e){let t=this.controller.s;switch(e){case"POINT":return t("graphing-calculator-narration-point-style-point");case"OPEN":return t("graphing-calculator-narration-point-style-open");case"CROSS":return t("graphing-calculator-narration-point-style-cross")}}isPointSizeValid(){return"expression"===this.model.type?BV(this.model):"table-column"===this.model.type&&j0(this.model)}onPointStyleSelected(e){this.model.pointStyle!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-pointstyle",id:this.id,pointStyle:e}):this.controller.dispatch({type:"set-tablecolumn-pointstyle",columnId:this.model.id,tableId:this.model.table.id,pointStyle:e}))}dispatchPointSizeLatexIfChanged(e){this.model.pointSize!==e&&("expression"===this.model.type?this.controller.dispatch({type:"set-item-pointsize",id:this.id,pointSize:e}):this.controller.dispatch({type:"set-tablecolumn-pointsize",columnId:this.model.id,tableId:this.model.table.id,pointSize:e}))}isDraggable(){return"NONE"!==this.getDragMode()}togglePointsVisible(){"expression"===this.model.type&&So(this.model)?this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id}):"expression"===this.model.type?this.controller.dispatch({type:"set-item-points",id:this.id,points:!this.props.isOpen()}):this.controller.dispatch({type:"set-tablecolumn-points",columnId:this.model.id,tableId:this.model.table.id,bool:!this.props.isOpen()})}getDragMode(){return"expression"===this.model.type&&this.model.reconciledDragMode||this.model.dragMode}getDefaultPointSize(){return"expression"===this.model.type&&Gl(this.model)?"14":"9"}},_t=__dcg_shared_module_exports__.i(ne()),Kn=__dcg_shared_module_exports__.i(ne()),{For:a8}=Kn.Components,s8=[{orientation:"default",cssClass:"dcg-label-orientation-center",description:"graphing-calculator-text-label-orientation-default"},{orientation:"above",cssClass:"dcg-label-orientation-above",description:"graphing-calculator-text-label-orientation-above"},{orientation:"above_right",cssClass:"dcg-label-orientation-above-right",description:"graphing-calculator-text-label-orientation-above-right"},{orientation:"right",cssClass:"dcg-label-orientation-right",description:"graphing-calculator-text-label-orientation-right"},{orientation:"below_right",cssClass:"dcg-label-orientation-below-right",description:"graphing-calculator-text-label-orientation-below-right"},{orientation:"below",cssClass:"dcg-label-orientation-below",description:"graphing-calculator-text-label-orientation-below"},{orientation:"below_left",cssClass:"dcg-label-orientation-below-left",description:"graphing-calculator-text-label-orientation-below-left"},{orientation:"left",cssClass:"dcg-label-orientation-left",description:"graphing-calculator-text-label-orientation-left"},{orientation:"above_left",cssClass:"dcg-label-orientation-above-left",description:"graphing-calculator-text-label-orientation-above-left"}],cv=class extends Kn.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return Kn.createElement("div",{class:Kn.const("dcg-label-orientation-view"),style:()=>`transform: rotate(${this.getCSSRotationValue()});`},Kn.createElement("span",{class:Kn.const("dcg-vertical-orientation-indicator")}),Kn.createElement(a8,{each:()=>s8,key:e=>e.orientation},Kn.createElement("div",{class:Kn.const("dcg-label-orientations"),role:Kn.const("radiogroup"),"aria-label":()=>this.controller.s("graphing-calculator-heading-label-orientation")},(e=>Kn.createElement("div",{class:()=>({[e.cssClass]:!0,"dcg-orientation-option":!0,"dcg-selected":this.isSelected(e.orientation),"dcg-orientation-disabled":this.isDisabled(e.orientation)}),role:Kn.const("radio"),tabindex:Kn.const("0"),"aria-label":()=>this.controller.s(e.description),"aria-checked":()=>this.getOrientation()===e.orientation,onTap:()=>this.onTapOrientation(e.orientation)},Kn.createElement("i",{class:()=>({"dcg-icon-chevron-left":"default"!==e.orientation})}))))))}isDisabled(e){return"default"===e&&(!!this.isPointVisible()||"default"===this.model.labelOrientation)}isSelected(e){return"default"===e&&e===this.model.labelOrientation?!this.isPointVisible():e===this.model.labelOrientation}isPointVisible(){return!this.model.hidden&&(So(this.model)?!this.model.hidden:this.model.points)}getCSSRotationValue(){let e=UV(this.model);return`${Array.isArray(e)?0:e}rad`}getOrientation(){return this.props.model().labelOrientation}onTapOrientation(e){e===this.getOrientation()&&(e="default"),this.controller.dispatch({type:"set-item-label-orientation",id:this.id,labelOrientation:e})}},{If:Xp}=_t.Components,dv=class extends yn{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return _t.createElement("div",{class:_t.const("dcg-options-menu-section")},_t.createElement("div",{class:_t.const("dcg-options-menu-section-title")},(()=>this.controller.s("graphing-calculator-heading-label")),_t.createElement(bn,{ariaLabel:()=>this.controller.s("graphing-calculator-narration-label-visible"),toggled:this.props.isOpen,onChange:this.bindFn(this.toggleLabelVisible)})),_t.createElement(Xp,{predicate:this.props.isOpen},(()=>_t.createElement("div",{class:_t.const("dcg-options-menu-content")},_t.createElement("div",{class:_t.const("dcg-options-flex-container")},_t.createElement("div",{class:_t.const("dcg-options-left-side")},_t.createElement(Xp,{predicate:this.props.isFirstOpenSection},(()=>_t.createElement(Yp,__dcg_shared_module_exports__.b({},this.props)))),_t.createElement("div",{class:_t.const("dcg-iconed-mathquill-row dcg-label-size-row")},_t.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-label-size-tooltip"),sticky:this.const(!0),gravity:this.const("se")},_t.createElement("span",{class:_t.const("dcg-font-size")},_t.const("A"))),_t.createElement(Ir,{latex:()=>this.model.labelSize,placeholder:()=>"1",isFocused:()=>"labelsize"===this.getFocusedInput(),ariaPostLabel:()=>hE(this.model)?this.controller.raw(""):this.controller.s("shared-calculator-narration-input-error"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-label-size"),hasError:()=>!hE(this.model),handleLatexChanged:this.bindFn(this.dispatchLabelSizeIfChanged),dataLabelAttributeValue:this.const("label-size"),controller:this.props.controller,readonly:()=>this.controller.isItemReadonly(this.model.id),handleFocusChanged:e=>this.handleFocusedChanged(e,"labelsize")})),_t.createElement("div",{class:()=>({"dcg-iconed-mathquill-row":!0,"dcg-label-angle-row":!0,"dcg-suffix-degree":this.props.controller().getGraphSettings().degreeMode,"dcg-suffix-radian":!this.props.controller().getGraphSettings().degreeMode})},_t.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-angle-tooltip"),sticky:this.const(!0)},_t.createElement("i",{class:_t.const("dcg-icon-angle"),"aria-hidden":_t.const("true")})),_t.createElement(Ir,{latex:()=>this.model.labelAngle,placeholder:()=>"0",isFocused:()=>"labelangle"===this.getFocusedInput(),ariaPostLabel:()=>gE(this.model)?this.controller.raw(""):this.controller.s("shared-calculator-narration-input-error"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-label-angle"),hasError:()=>!gE(this.model),handleLatexChanged:this.bindFn(this.dispatchLabelAngleIfChanged),dataLabelAttributeValue:this.const("label-angle"),controller:this.props.controller,readonly:()=>this.controller.isItemReadonly(this.model.id),handleFocusChanged:e=>this.handleFocusedChanged(e,"labelangle")}))),_t.createElement("div",{class:_t.const("dcg-options-right-side")},_t.createElement(cv,{controller:()=>this.controller,model:()=>this.model}))),_t.createElement(Xp,{predicate:this.props.isFirstOpenSection},(()=>_t.createElement(Xo,{controller:this.props.controller,colorLatex:()=>this.model.colorLatex,selectedColor:this.bindFn(this.getModelColor),onColorSelected:this.bindFn(this.onColorSelected),onCustomColorSelected:this.bindFn(this.onCustomColorSelected)}))),_t.createElement(Xp,{predicate:()=>this.controller.canUseAdvancedStyling()},(()=>_t.createElement("div",{class:_t.const("dcg-label-advanced")},_t.createElement(kt,{checked:this.bindFn(this.getWhiteTextOutline),onChange:this.bindFn(this.setWhiteTextOutline),disabled:()=>this.getEditable()},(()=>this.controller.s("graphing-calculator-button-label-text-outline"))),_t.createElement("div",{role:_t.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-heading-advanced")},_t.createElement(Xp,{predicate:()=>this.shouldShowHoverLabelCheckbox()},(()=>_t.createElement(kt,{checked:this.bindFn(this.getInteractiveLabel),onChange:this.bindFn(this.setInteractiveLabel)},(()=>this.controller.s("graphing-calculator-button-label-show-on-hover"))))),_t.createElement(Xp,{predicate:this.bindFn(this.shouldShowEditableLabelToggle)},(()=>_t.createElement(kt,{checked:this.bindFn(this.getEditable),onChange:this.bindFn(this.setEditable)},(()=>this.controller.s("graphing-calculator-button-label-editable")))))))))))))}getWhiteTextOutline(){return!this.getEditable()&&!this.model.suppressTextOutline}setWhiteTextOutline(e){this.controller.dispatch({type:"set-suppress-text-outline",id:this.id,suppressTextOutline:!e})}setInteractiveLabel(e){this.controller.dispatch({type:"set-item-interactive-label",id:this.id,interactiveLabel:e})}getInteractiveLabel(){return!!this.model.interactiveLabel}setEditable(e){if(e){let e="latex"===__dcg_shared_module_exports__.Ic(this.model.label)?"MATH":"TEXT";this.controller.dispatch({type:"set-item-editable-label-mode",id:this.id,editableLabelMode:e})}else this.controller.dispatch({type:"set-item-editable-label-mode",id:this.id,editableLabelMode:"NONE"})}getEditable(){return"NONE"!==this.model.editableLabelMode}shouldShowEditableLabelToggle(){return So(this.model)}shouldShowHoverLabelCheckbox(){return"NONE"===this.model.reconciledDragMode}dispatchLabelAngleIfChanged(e){this.model.labelAngle!==e&&this.controller.dispatch({type:"set-item-labelangle",id:this.id,labelAngle:e})}dispatchLabelSizeIfChanged(e){this.model.labelSize!==e&&this.controller.dispatch({type:"set-item-labelSize",id:this.id,labelSize:e})}toggleLabelVisible(){this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!this.props.isOpen()})}},Vn=__dcg_shared_module_exports__.i(ne()),{If:l8,For:c8}=Vn.Components,Qp=class extends yn{template(){return Vn.createElement("div",{class:Vn.const("dcg-options-menu-section")},Vn.createElement("div",{class:Vn.const("dcg-options-menu-section-title")},(()=>this.controller.s("graphing-calculator-heading-drag")),Vn.createElement(bn,{ariaLabel:()=>this.controller.s("graphing-calculator-narration-menu-drag-enabled"),toggled:this.props.isOpen,onChange:this.bindFn(this.toggleDragEnabled)})),Vn.createElement(l8,{predicate:this.props.isOpen},(()=>Vn.createElement("div",{class:Vn.const("dcg-options-menu-content")},Vn.createElement(c8,{each:()=>["X","Y","XY"]},Vn.createElement("div",{class:Vn.const("dcg-style-icons"),role:Vn.const("radiogroup")},(e=>Vn.createElement("div",{class:()=>({"dcg-style-icon-container":!0,"dcg-disabled":this.isDisabled(e)}),onTap:()=>this.onDragModeSelected(e),role:Vn.const("radio"),tabindex:()=>this.isDisabled(e)?-1:0,"aria-label":()=>"X"===e?this.controller.s("graphing-calculator-narration-drag-mode-x"):"Y"===e?this.controller.s("graphing-calculator-narration-drag-mode-y"):"XY"===e?this.controller.s("graphing-calculator-narration-drag-mode-xy"):this.controller.raw(""),"aria-checked":()=>this.getDragMode()===e},Vn.createElement(Li,{backgroundColor:()=>"#000",semiTransparent:()=>this.getDragMode()!==e,iconType:()=>"X"===e?"movable-horizontal":"Y"===e?"movable-vertical":"movable-both"})))))))))}isDisabled(e){let t=this.controller.getEnabledDragModesForItem(this.id);return!__dcg_shared_module_exports__.pa(t,e)}onDragModeSelected(e){if("expression"===this.model.type){if(this.isDisabled(e))return;this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:e})}else{let t=this.model.id,n=this.model.table.id;this.controller.dispatch({type:"set-tablecolumn-dragmode",tableId:n,columnId:t,dragMode:e})}}getDragMode(){return"expression"===this.model.type&&this.model.reconciledDragMode||this.model.dragMode}toggleDragEnabled(){let e="NONE"!==this.getDragMode()?"NONE":"XY";"expression"===this.model.type?this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:e}):this.onDragModeSelected(e)}},{For:d8,If:u8}=ln.Components,Zp=class extends ln.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,this.props.registerRepositionCb(this.bindFn(this.renderOffset))}template(){return ln.createElement("div",{class:()=>({"dcg-expressions-options-menu":!0,"dcg-options-menu":!0}),role:ln.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-narration-options-menu"),didMount:this.bindFn(this.didMountContainer)},ln.createElement(d8,{each:this.bindFn(this.getSections)},ln.createElement("div",null,(e=>{switch(e){case"points":return ln.createElement(Jp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:()=>this.isSectionOpen("points"),isFirstOpenSection:()=>this.isFirstOpenSection("points")}));case"label":return ln.createElement(dv,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:()=>this.isSectionOpen("label"),isFirstOpenSection:()=>this.isFirstOpenSection("label")}));case"drag":return ln.createElement(Qp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:()=>this.isSectionOpen("drag"),isFirstOpenSection:()=>this.isFirstOpenSection("drag")}));case"lines":return ln.createElement(zp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:()=>this.isSectionOpen("lines"),isFirstOpenSection:()=>this.isFirstOpenSection("lines")}));case"arrows":return ln.createElement(rv,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:()=>this.isSectionOpen("arrows"),isFirstOpenSection:()=>this.isFirstOpenSection("arrows")}));case"fill":return ln.createElement(nv,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:()=>this.isSectionOpen("fill"),isFirstOpenSection:()=>this.isFirstOpenSection("fill")}));case"colors-only":return ln.createElement(iv,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:this.const(!0),isFirstOpenSection:this.const(!0)}))}}))),ln.createElement(u8,{predicate:this.bindFn(this.isClickable)},(()=>ln.createElement(jp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:()=>!!this.model.clickableInfo.enabled,isFirstOpenSection:this.const(!1)})))),ln.createElement("div",{class:ln.const("dcg-triangle"),didMount:this.bindFn(this.didMountArrow)}))}willUnmount(){ge(this.controller.s("graphing-calculator-narration-options-menu-closed"))}didMountContainer(e){this.$containerElt=P(e),ge(this.controller.s("graphing-calculator-narration-options-menu-open"))}didMountArrow(e){this.$arrowElt=P(e)}renderOffset(e){if(!this.$containerElt||!this.$arrowElt)return;let t=this.$containerElt.outerHeight(),n=0;t>e&&(n=+e-t);let r=-n<t-38;this.$containerElt.css("margin-top",`${n}px`),this.$arrowElt.css("margin-top",-n+"px"),this.$arrowElt.css("display",r?"":"none")}isClickable(){return this.controller.areActionsEnabled()&&mE(this.model)&&!this.controller.isItemReadonly(this.model.id)}getSections(){return hd(this.model)||Cc(this.model)||ux(this.model)||PV(this.model)?["colors-only"]:Sc(this.model)?["lines"]:Gl(this.model)?["points"]:VV(this.model)?["points","label","lines"]:So(this.model)?this.model.formula.move_strategy?["points","label","drag"]:["points","label"]:wc(this.model)||Js(this.model)?["lines","fill"]:Qs(this.model)?vc(this.model)?["lines"]:["lines","fill"]:Ag(this.model)?["lines","arrows"]:["lines"]}isFirstOpenSection(e){let t=this.getSections();for(let n of t){if(n===e)return this.isSectionOpen(e);if(this.isSectionOpen(n))return!1}return!1}isSectionOpen(e){let{points:t,lines:n,fill:r}=this.model,i=__dcg_shared_module_exports__.ac(this.model.formula.expression_type,{points:t,lines:n,fill:r});switch(e){case"lines":return!this.model.hidden&&i.lines;case"label":return this.model.showLabel;case"fill":return!this.model.hidden&&(!!Qs(this.model)||i.fill);case"points":return!this.model.hidden&&(So(this.model)?!this.model.hidden:i.points);case"drag":return"NONE"!==this.model.reconciledDragMode;case"arrows":return"NONE"!==lx(this.model);case"colors-only":return!0}}},xr=__dcg_shared_module_exports__.i(ne()),eo=__dcg_shared_module_exports__.i(ne()),{Input:p8}=eo.Components,uv=class extends eo.Class{init(){this.controller=this.props.controller(),this.cacheFolderList(),this.newFolderTitle=""}willUpdate(){this.cacheFolderList()}template(){return eo.createElement("div",{class:eo.const("dcg-move-to-folder")},eo.createElement("div",{class:eo.const("dcg-move-to-folder-title")},this.bindFn(this.getMoveMessage)),eo.createElement("div",{class:eo.const("dcg-move-to-folder-flex")},eo.createElement(p8,{value:()=>this.newFolderTitle,onInput:e=>{this.newFolderTitle=e,this.update()},placeholder:()=>"Folder name",didMount:e=>{e.onkeydown=function(e){let t=Le(e);("Backspace"===t||"Del"===t)&&e.stopPropagation()}},onEnterPressed:this.bindFn(this.onEnterPressed)}),eo.createElement("div",{class:()=>({"dcg-btn-blue":!0,"dcg-disabled":!this.newFolderTitle}),role:eo.const("button"),tabindex:eo.const("0"),onTap:this.bindFn(this.createNewFolder)},eo.const("Move"))))}getMoveMessage(){return 1===this.controller.getAllSelectedItems().length?"Move to folder:":`Move ${this.controller.getAllSelectedItems().length} objects to folder:`}onEnterPressed(){let e=!1;this.folderList.forEach((t=>{t.title===this.newFolderTitle&&(e=!0,this.chooseFolder(t.id))})),e||this.createNewFolder()}chooseFolder(e){this.controller.dispatch({type:"update-all-selected-items",update:{prop:"folderId",value:e}})}createNewFolder(){this.newFolderTitle&&this.controller.dispatch({type:"update-all-selected-items",update:{prop:"folderId",value:this.newFolderTitle,createFolder:!0}})}cacheFolderList(){this.folderList=[],this.controller.getAllItemModels().forEach((e=>{"folder"===e.type&&!this.controller.isGeoFolder(e)&&this.folderList.push(e)}))}},le=__dcg_shared_module_exports__.i(ne()),Sk={};function _O(e){let t=bs(e);var n={},r=t.graph.degreeMode,i=t.randomSeed;let o="graphing"===t.graph.product?"graphing":"geometry";function a(e){switch(e.type){case void 0:case"expression":{let t=__dcg_shared_module_exports__.Ec(__dcg_shared_module_exports__.Ac(e));n[t.id]=t}break;case"table":{let t=fb(gb(e));n[t.id]=t}break;case"folder":case"text":case"image":break;default:return e}}for(var s of t.expressions.list)a(s);return{setExpression(e){a(e)},getChangeSet:()=>({statements:n,isCompleteState:!0,degreeMode:r,globalRandomSeed:i,evaluationMode:o})}}function eh(e,t){switch(e.type){case"Mul":case"Div":case"Prime":case"Call":case"ImplicitCall":case"Dot":case"Pipes":case"Sqrt":case"Nthroot":case"Frac":case"Derivative":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Piecewise":case"Paren":case"Juxt":case"Superscript":case"Bang":case"Index":case"Equals":case"Inequality":case"Tilde":case"Pos":case"Neg":case"Add":case"Sub":case"List":case"Seq":case"Colon":case"Ellipsis":case"PercentOf":case"RightArrow":case"For":case"With":{let n=0;for(let r of e.args)n+=eh(r,t);return n}case"Decimal":return void 0===t||parseFloat(e.val)===t?1:0;case"MixedNumber":{if(void 0===t)return 3;let n=0;return parseFloat(e.whole)===t&&(n+=1),parseFloat(e.num)===t&&(n+=1),parseFloat(e.den)===t&&(n+=1),n}case"Letter":case"EmptyPiecewise":case"Cmd":case"EmptyRangeEnd":return 0;case"Subscript":return eh(e.args[0],t);case"InequalityChain":{let n=0;n+=eh(e.first,t);for(let r of e.chain)n+=eh(r.args[0],t);return n}default:throw`Unexpected surface node ${e.type}.`}}function FO(e){let t=e.length,n=new Array(t),r=new Array(t+1),i=0;for(let o=0;o<t;o++){let t;if(e[r[i]]<e[o])t=i+1;else{let n=1,a=i-1;for(;n<=a;){let t=Math.ceil((n+a)/2);e[r[t]]<e[o]?n=t+1:a=t-1}t=n}n[o]=r[t-1],r[t]=o,t>i&&(i=t)}let o=new Array(i),a=r[i];for(let t=i-1;t>=0;t--)o[t]=e[a],a=n[a];return o}function NO(e,t){return pv(e,t,0)}function pv(e,t,n){let r={};for(let i in e){if(!e.hasOwnProperty(i))continue;if(!t.hasOwnProperty(i)){r[i]={d:1};continue}let o=h8(e[i],t[i],n,i);o&&(r[i]=o)}for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(r[n]={s:t[n]});return r}function h8(e,t,n,r){if(__dcg_shared_module_exports__.Ga(e)&&__dcg_shared_module_exports__.Ga(t)){if(1===n&&"list"===r||2===n&&"columns"===r)return f8(e,t);if(!__dcg_shared_module_exports__.Ea(e,t))return{s:t}}else if(__dcg_shared_module_exports__.Ha(e)&&__dcg_shared_module_exports__.Ha(t)){let i=pv(e,t,g8(n,r));if(!__dcg_shared_module_exports__.Fa(i))return{e:i}}else if(!__dcg_shared_module_exports__.Ea(e,t))return{s:t}}function g8(e,t){return 0===e&&"expressions"===t?1:3}function f8(e,t){let n={},r={};for(let n=0;n<e.length;n++){if(void 0!==r[e[n].id])return{s:t};r[e[n].id]=n}let i={};for(let e=0;e<t.length;e++){if(void 0!==i[t[e].id])return{s:t};i[t[e].id]=e}let o=m8(e,t,r),a=0;for(let s=0;s<e.length;s++){let l=e[s];if(o[l.id]){let o=i[l.id],c=t[o],d={};if(a!==o&&(d.a=t.slice(a,o).map((t=>RO(e,r,t)))),!__dcg_shared_module_exports__.Ea(l,c)){let e="table"===l.type&&"table"===c.type;d.e=pv(l,c,e?2:3)}__dcg_shared_module_exports__.Fa(d)||(n[s]=d),a=o+1}else n[s]={d:1}}if(a<t.length&&(n[e.length]={a:t.slice(a,t.length).map((t=>RO(e,r,t)))}),!__dcg_shared_module_exports__.Fa(n))return{l:n}}function RO(e,t,n){if(t[n.id]){let r=e[t[n.id]],i={f:t[n.id]};return __dcg_shared_module_exports__.Ea(r,n)||(i.e=pv(r,n,3)),{m:i}}return{s:n}}function m8(e,t,n){let r={},i=FO(t.filter((e=>void 0!==n[e.id])).map((e=>n[e.id])));for(let t of i)r[e[t].id]=!0;return r}function KO(e,t){return hv(__dcg_shared_module_exports__.k(e),t)}function hv(e,t){for(let n of __dcg_shared_module_exports__.Ba(t)){let r=t[n];b8(r)?e[n]=r.s:x8(r)?delete e[n]:w8(r)?e[n]=y8(e[n],r.l):v8(r)&&(e[n]=hv(e[n],r.e))}return e}function y8(e,t){let n=[];for(let r=0;r<e.length;r++){let i=t[r];i&&i.a&&n.push(...BO(e,i.a)),i&&i.e?n.push(hv(e[r],i.e)):(!i||!i.d)&&n.push(e[r])}let r=t[e.length];return r&&r.a&&n.push(...BO(e,r.a)),n}function BO(e,t){let n=[];for(let r of t)if(C8(r))n.push(r.s);else if(S8(r)){let t=e[r.m.f];r.m.e?n.push(hv(t,r.m.e)):n.push(t)}return n}function b8(e){return e.hasOwnProperty("s")}function x8(e){return e.hasOwnProperty("d")}function w8(e){return e.hasOwnProperty("l")}function v8(e){return e.hasOwnProperty("e")}function C8(e){return e.hasOwnProperty("s")}function S8(e){return e.hasOwnProperty("m")}function UO(e){return"expression"===e.location||"object"===e.location?`${e.location}:${e.id}:${e.path}`:`${e.location}:${e.path}`}function yk(e){let t=()=>new Error(`Invalid key: ${e}`),n=e.split(":"),r=n[0];if(!r||"expression"!=r&&"settings"!=r&&"object"!=r)throw t();if("settings"==r){if(2!=n.length)throw t();return{location:r,path:n[1]}}if(3!=n.length)throw t();return{location:r,id:n[1],path:n[2]}}function gv(e,t,n){if(!e)return;let r=t.split("."),i=e;for(let e=0;e<r.length;e++){let t=r[e];if(!i[t])break;e==r.length-1&&"string"==typeof i[t]?i[t]=n:i=i[t]}}function bk(e,t){return(n,r,i,o)=>{if(n){let a=UO(__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t),{path:r}));e[a]={value:n,type:i,context:o}}}}function E8(e){var t,n;let r={},i=bk(r,{location:"expression",id:e.id});switch(e.type){case"expression":i(e.label,"label","interpolated-string","expression-list-expression-label"),i(e.description,"description","string","expression-list-expression-clickable-description");break;case"image":i(e.image_url,"image_url","image","expression-list-image-url"),i(e.description,"description","string","expression-list-image-clickable-description"),i(null==(t=e.clickableInfo)?void 0:t.hoveredImage,"clickableInfo.hoveredImage","image","expression-list-image-clickable-hovered"),i(null==(n=e.clickableInfo)?void 0:n.depressedImage,"clickableInfo.depressedImage","image","expression-list-image-clickable-depressed");break;case"text":i(e.text,"text","string","expression-list-note-text");break;case"folder":i(e.title,"title","string","expression-list-folder-title")}return r}function D8(e){let t={},n=bk(t,{location:"settings"});return n(e.graph.xAxisLabel,"xAxisLabel","string","settings-xaxis-label"),n(e.graph.yAxisLabel,"yAxisLabel","string","settings-yaxis-label"),t}function k8(e){let t={},n=bk(t,{location:"object",id:e.id});return n(e.label,"label","string","geometry-object-label"),"image"===e.type&&n(e.url,"url","image","geometry-object-image-url"),t}function qO(e){let t={};if("graph"==e.type){let n=e.graphState.expressions.list;for(let e of n){let n=E8(e);for(let e in n)t[e]=n[e]}let r=D8(e.graphState);for(let e in r)t[e]=r[e]}else{let n=e.geometryState.objects;for(let e in n){let r=k8(n[e]);for(let e in r)t[e]=r[e]}}return t}function HO(e,t,n){var r;let i=__dcg_shared_module_exports__.k(e);if("graph"===n){let e={},n=null==(r=i.expressions)?void 0:r.list,o=Array.isArray(n)?n:[];for(let t of o)e[t.id]=t;for(let n in t){let r=yk(n);"expression"==r.location?gv(e[r.id],r.path,t[n].value):gv(i.graph,r.path,t[n].value)}}else if(i.objects)for(let e in t){let n=yk(e);"object"==n.location&&gv(i.objects[n.id],n.path,t[e].value)}return i}function yr(e){switch(e.type){case"Equals":return to(e.args,"=");case"Inequality":return to(e.args,e.symbol);case"InequalityChain":return yr(e.first)+e.chain.map(yr).join("");case"TrailingInequalityPiece":return e.symbol+yr(e.args[0]);case"Tilde":return to(e.args,"~");case"Pos":return"+"+yr(e.args[0]);case"Neg":return"-"+yr(e.args[0]);case"Add":return to(e.args,"+");case"Sub":return to(e.args,"-");case"Mul":return to(e.args,"*");case"Div":return to(e.args,"/");case"Bang":return yr(e.args[0])+"!";case"Call":let t=wk(e.args);return t?t.script+"\\left("+t.arg+"\\right)":yr(e.args[0])+"\\left("+yr(e.args[1])+"\\right)";case"Paren":return"\\left("+yr(e.args[0])+"\\right)";case"List":return"\\left["+e.args.map(yr).join(",")+"\\right]";case"Pipes":return"\\left|"+yr(e.args[0])+"\\right|";case"Index":return yr(e.args[0])+"\\left["+yr(e.args[1])+"\\right]";case"Subscript":return to(e.args,"_",!0);case"Superscript":return to(e.args,"^",!0);case"Prime":if("Call"===e.args[0].type){let t=wk(e.args[0].args);return t?t.script+xk(e.nprimes)+"\\left("+t.arg+"\\right)":yr(e.args[0].args[0])+xk(e.nprimes)+"\\left("+yr(e.args[0].args[1])+"\\right)"}return yr(e.args[0])+xk(e.nprimes);case"Seq":return e.args.map(yr).join(",");case"Sqrt":return"\\sqrt"+Lm(yr(e.args[0]));case"Nthroot":return"\\sqrt\\left["+yr(e.args[0])+"\\right]"+Lm(yr(e.args[1]));case"Frac":return"\\frac{"+yr(e.args[0])+"}{"+yr(e.args[1])+"}";case"Derivative":return"\\frac{d}{d"+yr(e.args[0])+"}"+yr(e.args[1]);case"Integral":case"EmptyIntegral":if("Cmd"!==e.args[0].type)throw new Error("Expected first argument of an integral to be the variable");let n="d"+e.args[0].val;if(3===e.args.length)return Pm("int",e.args[1],e.args[2])+n;let r=yr(e.args[3]);return Pm("int",e.args[1],e.args[2])+r+n;case"Sum":return $O(e.args,"sum");case"Product":return $O(e.args,"prod");case"Piecewise":return"\\{"+yr(e.args[0])+"\\}";case"EmptyPiecewise":return"\\{\\}";case"Colon":return to(e.args,":");case"Ellipsis":return to(e.args,"...");case"For":return to(e.args,"\\for ");case"With":return to(e.args,"\\with ");case"Dot":return to(e.args,".");case"PercentOf":return to(e.args,"\\% \\of ");case"RightArrow":return to(e.args,"->");case"Juxt":case"ImplicitCall":{let t=wk(e.args);return t?t.script+t.arg:to(e.args,"")}case"MixedNumber":return e.whole+"\\frac{"+e.num+"}{"+e.den+"}";case"Letter":case"Decimal":case"Alphanumeric":return e.val;case"Cmd":return"\\"+e.val;case"EmptyRangeEnd":return"EmptyRangeEnd";case"Err":throw e.error;default:return e}}function Lm(e){return e.length>1?"{"+e+"}":e}function Pm(e,t,n){let r=Lm(yr(t));if(n){return`\\${e}_${r}^${Lm(yr(n))}`}return`\\${e}_${r}`}function to(e,t,n=!1){return yr(e[0])+t+(n?Lm(yr(e[1])):yr(e[1]))}function $O(e,t){let n=yr(e[0]);return Pm(t,e[1],e[2])+n}function xk(e){let t="";for(let n=0;n<e;n++)t+="'";return t}function zO(e){return"Cmd"===e.type&&"logbase"===e.val}function wk(e){let t,n=e[1];return"Seq"===e[1].type&&2===e[1].args.length&&(n=e[1].args[1],t=e[1].args[0]),"Superscript"===e[0].type&&zO(e[0].args[0])?{script:Pm("log",n,e[0].args[1]),arg:t?yr(t):""}:zO(e[0])?{script:Pm("log",n),arg:t?yr(t):""}:void 0}function jO(e){let t=Ck.parse(e.latex);if("Err"==t.type)return;let n=xn(t);for(;"Paren"===n.type;)n=n.args[0];return ec(n)?{latex:e.latex}:{latex:yr(n)}}function I8(e){return e.isPseudoSurfaceNode}function ec(e){switch(e.type){case"Letter":case"Decimal":case"Cmd":return"0"===e.val;default:return!1}}function Od(e){switch(e.type){case"Letter":case"Decimal":case"Cmd":return"1"===e.val;default:return!1}}function M8(e){return"Neg"===e.type&&Od(e.args[0])}function fv(e){return{isPseudoSurfaceNode:!0,type:"Decimal",span:e,val:"0"}}function vk(e,t){return{isPseudoSurfaceNode:!0,type:"Neg",span:t,args:[e]}}function WO(e,t){return{isPseudoSurfaceNode:!0,type:"Paren",span:t,args:[e]}}function Qo(e,t){return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{span:t})}function xn(e){let t;switch(e.type){case"Add":{let n,r=xn(e.args[0]),i=xn(e.args[1]);if(ec(r))return Qo(i,e.span);if(ec(i))return Qo(r,e.span);if("Neg"===i.type?n=xn(i.args[0]):"Paren"===i.type&&"Neg"===i.args[0].type&&(n=xn(i.args[0].args[0])),void 0!==n)return{isPseudoSurfaceNode:!0,type:"Sub",span:e.span,args:[r,n]};t=[r,i];break}case"Sub":{let n,r=xn(e.args[0]),i=xn(e.args[1]);if(ec(r))return vk(i,e.span);if(ec(i))return Qo(r,e.span);if("Neg"===i.type?n=i.args[0]:"Paren"===i.type&&"Neg"===i.args[0].type&&(n=i.args[0].args[0]),n)return{isPseudoSurfaceNode:!0,type:"Add",span:e.span,args:[r,n]};t=[r,i];break}case"Mul":{let n=xn(e.args[0]),r=xn(e.args[1]);if(Od(n))return Qo(r,e.span);if(Od(r))return Qo(n,e.span);if(ec(n)||ec(r))return fv(e.span);t=[n,r];break}case"Juxt":{let n=xn(e.args[0]),r=xn(e.args[1]);if(Od(n))return Qo(r,e.span);if(Od(r))return Qo(n,e.span);if(M8(n))return vk(r,e.span);if(ec(n)||ec(r))return fv(e.span);if("Paren"===e.args[0].type&&"Paren"!==n.type&&(n=WO(n,e.span)),"Juxt"===e.type&&"Paren"===e.args[1].type&&"Paren"!==r.type&&(r=WO(r,e.span)),"Neg"===n.type){return vk(__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{type:"Juxt",isPseudoSurfaceNode:!0,args:[n.args[0],r]}),e.span)}t=[n,r];break}case"Frac":case"Div":{let n=xn(e.args[0]),r=xn(e.args[1]);if(Od(r))return Qo(n,e.span);t=[n,r];break}case"Superscript":let n=xn(e.args[0]),r=xn(e.args[1]);if(Od(r))return Qo(n,e.span);t=[n,r];break;case"Paren":{let n=xn(e.args[0]);if(__dcg_shared_module_exports__.Qb(n))return Qo(n,e.span);let r="args"in n?n.args:void 0;if((!r||r.length<=1)&&"Neg"!==n.type)return Qo(n,e.span);t=[n];break}case"Pos":return Qo(xn(e.args[0]),e.span);case"Neg":{let n=xn(e.args[0]),r="args"in n?n.args[0]:void 0;if("Paren"===n.type&&r&&"Neg"===r.type&&r.args[0])return Qo(xn(r.args[0]),e.span);if("Neg"===n.type&&r)return Qo(r,e.span);t=[n];break}case"Cmd":case"Letter":case"Decimal":case"MixedNumber":case"EmptyRangeEnd":case"EmptyPiecewise":case"InequalityChain":return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{isPseudoSurfaceNode:!0});default:t=e.args.map((e=>I8(e)?e:"Alphanumeric"===e.type?__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{isPseudoSurfaceNode:!0}):xn(e)))}return __dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{isPseudoSurfaceNode:!0,args:t})}function T8(e,t){return null==e&&(e=""),__dcg_shared_module_exports__.Vb(e,t)}function G8(e){if(null!=e)try{let t=__dcg_shared_module_exports__.Pb(e);return __dcg_shared_module_exports__.Ub(t)}catch(t){let n=t instanceof YO.Base?t.getInputSpan():__dcg_shared_module_exports__.o(e,0,e.length),r=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},__dcg_shared_module_exports__.Sb()),{originalError:t});return __dcg_shared_module_exports__.Rb(n,r)}}__dcg_shared_module_exports__.h(Sk,{CLCalculator:()=>_O,Label:()=>__dcg_shared_module_exports__.Ya,applyDiff:()=>KO,applyLocalizationMap:()=>HO,blankGeometryCalculatorState:()=>R8,blankGraphingCalculatorState:()=>F8,builtInFrame:()=>P8,calculateDiff:()=>NO,colorHelpers:()=>__dcg_shared_module_exports__.hc,context:()=>L8,expressionParser:()=>Ck,extractLocalizationMap:()=>qO,formatLatex:()=>jO,migrateToLatest:()=>bs,numberToDecimalString:()=>__dcg_shared_module_exports__.Zb,numberToLatex:()=>__dcg_shared_module_exports__.Yb,parseNodes:()=>YO,parser:()=>A8,policies:()=>_8,replaceIdentifierWithLatex:()=>FS,treeQueries:()=>V8,types:()=>O8});var A8={parse:T8},Ck={parse:G8},V8={countNumbers:eh},L8=__dcg_shared_module_exports__.Mc,P8=__dcg_shared_module_exports__.ia,O8=__dcg_shared_module_exports__.W,YO=__dcg_shared_module_exports__._a,_8={graphing:new __dcg_shared_module_exports__.Gc({enableGeometry:!1,scales:void 0}),scientific:new __dcg_shared_module_exports__.Lc({singleExpression:!1}),fourFunction:new __dcg_shared_module_exports__.Kc({singleExpression:!1})},F8=Vp,R8=Fp,{Switch:JO,For:N8}=le.Components,br=class extends le.Class{template(){return le.createElement(JO,{key:()=>this.getLatex().indexOf("\\token")>=0},(e=>e?le.createElement(Oc,{tokenId:()=>this.getTokenId(this.getLatex()),insideMQ:()=>!1,controller:()=>this.props.controller(),insideGroup:()=>!1,putInTabOrder:()=>!0}):le.createElement("span",null,le.createElement(ze,{config:this.const({}),latex:()=>this.getLatex()}))))}getLatex(){return this.props.latex()||"unknown"}getTokenId(e){return(e.split("{")[1]||"").split("}")[0]||""}},th=class extends le.Class{init(){this.controller=this.props.controller()}call(){let e=this.getGeometry();return e&&e.call&&e.call.symbol}template(){return le.createElement(JO,{key:this.bindFn(this.getObjectType)},(e=>{var t;switch(e){case"copy":return le.createElement("div",null,le.const("Copy of"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>{var e;return __dcg_shared_module_exports__.Ya.geoParentToLatex(null==(e=this.getGeometry())?void 0:e.assignmentRhsReference)}}));case"apply":return le.createElement("div",null,le.const("Transformation of"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[1]}));case __dcg_shared_module_exports__.y:return le.createElement("div",null,(()=>3===this.getParents().length?"Triangle":4===this.getParents().length?"Quadrilateral":"Polygon"),le.const(" "),le.const("with vertices"),le.const(" "),le.createElement(N8,{each:()=>this.getParents(),key:(e,t)=>t},le.createElement("span",null,((e,t)=>le.createElement("span",null,(()=>t>0?", ":""),(()=>t===this.getParents().length-1?"and ":""),le.createElement(br,{controller:this.props.controller,latex:()=>e}))))));case __dcg_shared_module_exports__.q:return"intersection"===this.call()?le.createElement("div",null,le.const("Intersection of"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" "),le.const("and"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[1]})):"glider"===this.call()?le.createElement("div",null,le.const("Glider on"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]})):"midpoint"===this.call()?le.createElement("div",null,le.const("Midpoint of"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]})):le.createElement("div",null,le.const("Free Point"));case __dcg_shared_module_exports__.A:return 1===this.getParents().length&&this.getGeometry()&&this.getGeometry().listAccess?le.createElement("div",null,le.const("Segment "),(()=>this.getGeometry().listAccess),le.const(" of a"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]})):le.createElement("div",null,le.const("Segment between"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" "),le.const("and"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[1]}));case __dcg_shared_module_exports__.I:return le.createElement("div",null,le.const("Ray from"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" "),le.const("through"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[1]}));case __dcg_shared_module_exports__.E:return le.createElement("div",null,le.const("Arc from"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" "),le.const("to"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[2]}),le.const(" "),le.const("through"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[1]}));case __dcg_shared_module_exports__.G:return"parallel"===this.call()?le.createElement("div",null,le.const("Parallel to"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" "),le.const("passing through"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[1]})):"perpendicular"===this.call()?le.createElement("div",null,le.const("Perpendicuar to"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" "),le.const("passing through"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[1]})):le.createElement("div",null,le.const("Line through"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" "),le.const("and"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[1]}));case __dcg_shared_module_exports__.C:return le.createElement("div",null,le.const("Circle from"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" "),le.const("through"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[1]}));case __dcg_shared_module_exports__.K:case __dcg_shared_module_exports__.M:return 1===this.getParents().length&&null!=(t=this.getGeometry())&&t.listAccess?le.createElement("div",null,(()=>e===__dcg_shared_module_exports__.M?"Directed ":""),le.const("Angle "),(()=>{var e;return null==(e=this.getGeometry())?void 0:e.listAccess}),le.const(" of"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]})):le.createElement("div",null,(()=>e===__dcg_shared_module_exports__.M?"Directed ":""),le.const("Angle at"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[1]}),le.const(" "),le.const("from"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" "),le.const("to"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[2]}));case __dcg_shared_module_exports__.O:case __dcg_shared_module_exports__.P:return"translation"===this.call()?le.createElement("div",null,le.const("Translation from"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" "),le.const("to"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[1]})):"reflection"===this.call()?le.createElement("div",null,le.const("Reflection over"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]})):"dilation"===this.call()?le.createElement("div",null,le.const("Dilation at"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" by "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getRawParentLatex(1)})):"rotation"===this.call()?le.createElement("div",null,le.const("Rotation around"),le.const(" "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getParents()[0]}),le.const(" by "),le.createElement(br,{controller:this.props.controller,latex:()=>this.getRawParentLatex(1)})):le.createElement("div",null,le.const("Unknown transformation: "),(()=>this.call()));default:return le.createElement("span",null,le.const("Object Description coming soon!"))}}))}getParents(){let e=this.getGeometry();return e&&e.call&&e&&e.call?e.call.parents.map((e=>__dcg_shared_module_exports__.Ya.geoParentToLatex(e))):[]}getRawParentLatex(e){var t,n=null==(t=this.props.model())?void 0:t.latex;if(!n)return"";let r=__dcg_shared_module_exports__.Vb(n)._expression;if(!r)return"";let i=r.args[e];return i&&i.getInputString&&i.getInputString()||""}getGeometry(){let e=this.props.model();if(e)return e.formula.geometry}isTransformationApply(e){var t,n;if(!e||!e.call||"apply"!==e.call.symbol)return!1;let r=null==(t=e.call.parents[0])?void 0:t[0];if(void 0===r)return!1;let i=this.controller.getItemsByIdentifier(r);return 1===i.length&&(null==(n=i[0].formula.typed_constant_value)?void 0:n.valueType)===__dcg_shared_module_exports__.O}getObjectType(){let e=this.getGeometry();return null!=e&&e.assignmentRhsReference?"copy":this.isTransformationApply(e)?"apply":e&&e.valueType}},yv=__dcg_shared_module_exports__.i(ne()),mv=class extends yv.Class{init(){this.controller=this.props.controller(),this.cacheSelectedColor()}template(){return yv.createElement(Xo,{controller:this.props.controller,colorLatex:()=>this.colorLatex,selectedColor:()=>this.selectedColor,onColorSelected:this.bindFn(this.onColorSelected),onCustomColorSelected:this.bindFn(this.onCustomColorSelected),hideCustomColors:this.const(!1)})}onCustomColorSelected(e){this.controller.dispatch({type:"update-all-selected-items",update:{prop:"colorLatex",value:e}})}cacheSelectedColor(){let e=__dcg_shared_module_exports__.ma(this.controller.getAllSelectedItems(),(e=>"expression"===e.type));if(0===e.length)return this.selectedColor="",void(this.colorLatex="");this.selectedColor=rs(e[0]),this.colorLatex=e[0].colorLatex;for(let t=1;t<e.length;t++)if(this.selectedColor!==rs(e[t])||this.colorLatex!==e[t].colorLatex)return this.selectedColor="",void(this.colorLatex="")}willUpdate(){this.cacheSelectedColor()}onColorSelected(e){this.controller.dispatch({type:"update-all-selected-items",update:{prop:"color",value:e}})}getFirstSelectedExpression(){var e=this.controller.getAllSelectedItems();for(let t of e)if("expression"===t.type)return t}},{If:rh}=xr.Components,bv=class extends xr.Class{init(){this.controller=this.props.controller(),this.cacheSectionValues()}willUpdate(){this.cacheSectionValues()}template(){return xr.createElement("div",{class:()=>({"dcg-generic-options-menu":!0,"dcg-options-menu":!0,"dcg-multi-select-options-menu":!0}),role:xr.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-narration-options-menu")},xr.createElement("div",{class:xr.const("dcg-options-menu-section")},xr.createElement(rh,{predicate:()=>1===this.controller.getAllSelectedItems().length},(()=>xr.createElement("div",{class:xr.const("dcg-selected-objects-header")},xr.createElement(th,{controller:this.props.controller,model:()=>{let e=this.controller.getAllSelectedItems();if(1!==e.length)return;let t=e[0];return t&&"expression"===t.type?t:void 0}})))),xr.createElement("div",{class:xr.const("dcg-multi-select-color-picker")},xr.createElement(mv,{controller:this.props.controller})),xr.createElement(rh,{predicate:()=>void 0!==this.sectionValues.showPointLabels},(()=>xr.createElement("div",{class:xr.const("dcg-checkbox-section")},xr.createElement(kt,{checked:()=>!!this.sectionValues.showPointLabels,onChange:this.bindFn(this.onShowPointLabelChanged)},xr.const("Label Points"))))),xr.createElement(rh,{predicate:()=>void 0!==this.sectionValues.singleLabelableExpressionModel},(()=>xr.createElement("div",{class:xr.const("dcg-checkbox-section")},xr.createElement(Ad,{controller:this.props.controller,model:()=>this.sectionValues.singleLabelableExpressionModel,useSmartPointLabeling:()=>void 0!==this.sectionValues.draggableFreePoint})))),xr.createElement(rh,{predicate:()=>void 0!==this.sectionValues.draggableFreePoint},(()=>xr.createElement("div",{class:xr.const("dcg-checkbox-section")},xr.createElement(kt,{checked:()=>!!this.sectionValues.draggableFreePoint,onChange:this.bindFn(this.onDraggableFreePointChanged)},xr.const("Draggable"))))),xr.createElement(rh,{predicate:()=>void 0!==this.sectionValues.arrowMode},(()=>xr.createElement("div",null,xr.const("arrowMode: "),this.sectionValues.arrowMode))),xr.createElement(rh,{predicate:()=>this.controller.getGraphSettings().config.expressions},(()=>xr.createElement(uv,{controller:this.props.controller})))))}onShowPointLabelChanged(){this.controller.dispatch({type:"toggle-label-for-all-selected-points"})}onDraggableFreePointChanged(e){this.controller.dispatch({type:"update-all-selected-items",update:{prop:"dragMode",value:e?"AUTO":"NONE"}})}cacheSectionValues(){this.sectionValues=this.computeSectionValues()}computeSectionValues(){var e;let t={showPointLabels:[],singleLabelableExpressionModel:[],draggableFreePoint:[],arrowMode:[]},n=this.controller.getAllSelectedItems();for(let r of n){if("expression"!==r.type)return{};let n=null==(e=r.formula.geometry)?void 0:e.valueType;if(void 0===n)return{};if(__dcg_shared_module_exports__.S(n)&&(n=__dcg_shared_module_exports__.T(n)),!__dcg_shared_module_exports__.U(n))return{};switch(n){case __dcg_shared_module_exports__.q:t.showPointLabels.push(r.showLabel),t.singleLabelableExpressionModel.push(r),t.draggableFreePoint.push("NONE"!==r.dragMode);break;case __dcg_shared_module_exports__.y:break;case __dcg_shared_module_exports__.E:t.arrowMode.push(r.arrowMode);break;case __dcg_shared_module_exports__.C:case __dcg_shared_module_exports__.G:case __dcg_shared_module_exports__.I:break;case __dcg_shared_module_exports__.A:t.singleLabelableExpressionModel.push(r),t.arrowMode.push(r.arrowMode);break;case __dcg_shared_module_exports__.K:case __dcg_shared_module_exports__.M:t.singleLabelableExpressionModel.push(r);break;case __dcg_shared_module_exports__.O:break;default:return n}}let r={},i=n.length;for(let e in t){let n=e;switch(n){case"singleLabelableExpressionModel":{let e=t[n];1===i&&1===e.length&&(r[n]=e[0])}break;case"showPointLabels":{let e=t[n];e.length>0&&i>1&&(r[n]=__dcg_shared_module_exports__.na(e,(e=>!!e)))}break;case"draggableFreePoint":{let e=t[n];e.length===i&&(r[n]=__dcg_shared_module_exports__.oa(e))}break;case"arrowMode":break;default:return n}}return r}willUnmount(){ge(this.controller.s("graphing-calculator-narration-options-menu-closed"))}didMount(){ge(this.controller.s("graphing-calculator-narration-options-menu-open"))}},qr=__dcg_shared_module_exports__.i(ne()),wv=__dcg_shared_module_exports__.i(ne());function XO(e){return e.uncommitted?"#ccc":e.selected||e.hovered||1!==QO(e)?e.color:__dcg_shared_module_exports__.ec(e.color,.2)}function QO(e){let t=.6;return e.hidden?t=e.selected?.4:.25:e.selected||e.isPoint?t=1:e.hovered&&(t=.8),e.isTransparentObject&&(t*=.3),t}function B8(e){return e.hidden?e.isPoint?0:e.selected?.3:.2:e.selected||e.isPoint||e.hovered?1:.7}function ZO(e,t){if(3===(e=e.replace(/#/,"")).length)var n=parseInt(e.slice(0,1)+e.slice(0,1),16),r=parseInt(e.slice(1,2)+e.slice(1,2),16),i=parseInt(e.slice(2,3)+e.slice(2,3),16);else if(6===e.length)n=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),i=parseInt(e.slice(4,6),16);else n=0,r=0,i=0;return`rgba(${n}, ${r}, ${i}, ${t})`}function Om(e){return ZO(XO(e),B8(e))}function xv(e){return ZO(XO(e),QO(e))}function t_(e,t,n){e.save();for(let r of n)switch(r.type){case"point":{let n,i;switch(n=r.color&&"dark"!==r.color?"light"===r.color?__dcg_shared_module_exports__.ec(t.point,.7):r.color:xv({isPoint:!0,color:t.point,uncommitted:!1,featured:!1,hidden:!1,hovered:!1,projectorMode:!1}),r.size){case"small":case"medium":default:i=5;break;case"large":i=10}r.hollow?(e.lineWidth=2,e.strokeStyle=n,e.beginPath(),e.arc(r.x,r.y,i-1,0,2*Math.PI),e.stroke()):(e.fillStyle=n,e.beginPath(),e.arc(r.x,r.y,i,0,2*Math.PI),e.fill())}break;case"circle":{let n,i;switch(n=r.color&&"dark"!==r.color?"light"===r.color?__dcg_shared_module_exports__.ec(t.circle,.7):r.color:Om({isPoint:!1,color:t.circle,uncommitted:!1,featured:!1,hidden:!1,hovered:!1,projectorMode:!1}),r.lineWidth){case"small":i=2;break;case"large":i=7;break;default:i=4}e.lineWidth=i,e.strokeStyle=n,e.beginPath(),e.arc(r.x,r.y,r.radius,0,2*Math.PI),e.stroke()}break;case"arc":{let n,i;switch(n=r.color&&"dark"!==r.color?"light"===r.color?__dcg_shared_module_exports__.ec(t.circle,.7):r.color:Om({isPoint:!1,color:t.circle,uncommitted:!1,featured:!1,hidden:!1,hovered:!1,projectorMode:!1}),r.lineWidth){case"small":i=2;break;case"large":i=7;break;default:i=4}e.lineWidth=i,e.strokeStyle=n,e.beginPath(),e.arc(r.x,r.y,r.radius,r.startAngle,r.endAngle),e.stroke()}break;case"stroked-path":{let n;n=r.color&&"dark"!==r.color?"light"===r.color?__dcg_shared_module_exports__.ec(t.line,.7):r.color:Om({isPoint:!1,color:t.line,uncommitted:!1,featured:!1,hidden:!1,hovered:!1,projectorMode:!1});let i,o=r.path;switch(r.lineWidth){case"small":i=1;break;case"large":i=5;break;default:i=3}e.lineCap="round",e.lineJoin="round",e.strokeStyle=n,e.lineWidth=i,e.beginPath(),e.moveTo(o[0],o[1]);for(let t=2;t<o.length;t+=2)e.lineTo(o[t],o[t+1]);if(r.arrow){let t=[],n=o.length-1;U8(t,o[n-3],o[n-2],o[n-1],o[n],i/2+9.5);for(let n=0;n<t.length;n+=2)e.lineTo(t[n],t[n+1])}e.stroke()}break;case"filled-polygon":{let n;n=r.color?r.color:xv({isPoint:!1,color:t.polygon,uncommitted:!1,featured:!1,hidden:!1,hovered:!1,projectorMode:!1,isTransparentObject:!0});let i=r.path;e.fillStyle=n,e.beginPath(),e.moveTo(i[0],i[1]);for(let t=2;t<i.length;t+=2)e.lineTo(i[t],i[t+1]);e.fill()}break;case"angle":K8(e,{type:"angle-indicator",lineWidth:4,strokeStyle:Om({isPoint:!1,color:t.angle,uncommitted:!1,featured:!1,hidden:!1,hovered:!1,projectorMode:!1,isTransparentObject:!0}),fillStyle:xv({isPoint:!1,color:t.angle,uncommitted:!1,featured:!1,hidden:!1,hovered:!1,projectorMode:!1,isTransparentObject:!0}),isRightAngle:!1,x:r.x,y:r.y,isDirected:r.isDirected,radius:r.radius,startAngle:r.startAngle,deltaAngle:r.deltaAngle});break;default:return r}e.restore()}function K8(e,t){e.beginPath(),e_(e,t),e.lineTo(t.x,t.y),e.lineTo(t.x+t.radius*Math.cos(t.startAngle),t.y+t.radius*Math.sin(t.startAngle)),t.isDirected||(e.fillStyle=t.fillStyle,e.fill()),e.strokeStyle=t.strokeStyle,e.lineWidth=t.lineWidth,e.beginPath(),e_(e,t),e.stroke()}function e_(e,t){let n=t.startAngle+t.deltaAngle;if(t.isRightAngle){let r=t.radius*Math.cos(t.startAngle),i=t.radius*Math.cos(n),o=t.radius*Math.sin(t.startAngle),a=t.radius*Math.sin(n);e.moveTo(t.x+r,t.y+o),e.lineTo(t.x+r+i,t.y+o+a),e.lineTo(t.x+i,t.y+a)}else e.arc(t.x,t.y,t.radius,t.startAngle,n)}function U8(e,t,n,r,i,o=12){let a=Math.atan2(i-n,r-t),s=r-o*Math.cos(a-Math.PI/9),l=i-o*Math.sin(a-Math.PI/9),c=r-o*Math.cos(a+Math.PI/9),d=i-o*Math.sin(a+Math.PI/9),p=r-(o-2)*Math.cos(a-Math.PI/18),u=i-(o-2)*Math.sin(a-Math.PI/18),h=r-(o-2)*Math.cos(a+Math.PI/18),g=i-(o-2)*Math.sin(a+Math.PI/18);e.push(s,l,c,d,r,i,p,u,h,g,r,i)}var Nc=class extends wv.Class{template(){return wv.createElement("canvas",{didMount:this.bindFn(this.didMountCanvas),width:()=>this.props.width(),height:()=>this.props.height(),style:()=>({width:this.props.width()/2+"px",height:this.props.height()/2+"px"})})}didMountCanvas(e){this.canvas=e,this.redraw()}didUpdate(){this.redraw()}redraw(){let e=this.props.instructions()||[],t=this.props.model().getNonObjectsState().ui.colors;if(__dcg_shared_module_exports__.Ea(e,this.lastInstructions)&&__dcg_shared_module_exports__.Ea(t,this.lastColors))return;this.lastInstructions=e,this.lastColors=t;let n=this.canvas.getContext("2d");n.clearRect(0,0,n.canvas.width,n.canvas.height),t_(n,t,e)}},{Each:r_,If:q8}=qr.Components,vv=class extends qr.Class{init(){this.controller=this.props.controller(),this.cacheExistingTransformations(),this.geoModel=this.controller.getGeoModel()}willUpdate(){this.cacheExistingTransformations()}template(){return qr.createElement("div",{class:()=>({"dcg-generic-options-menu":!0,"dcg-options-menu":!0,"dcg-multi-select-transformations-menu":!0}),role:qr.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-narration-transformations-menu")},qr.createElement("div",{class:qr.const("dcg-transformation-header"),role:qr.const("heading"),"aria-level":qr.const("1")},(()=>this.controller.s("graphing-calculator-label-new-transformation"))),qr.createElement("div",{class:qr.const("dcg-new-transformations-container"),role:qr.const("group"),"aria-label":()=>this.controller.s("graphing-calculator-label-new-transformation")},r_(this.getTransformations,{item:e=>qr.createElement("div",{class:qr.const("dcg-new-transformation"),role:qr.const("button"),tabindex:qr.const("0"),onTap:t=>{this.controller.dispatch({type:"select-geo-tool",tool:e}),"keyboard"===t.device&&this.controller.dispatch({type:"set-focus-location",location:{type:"graph-paper"}})}},qr.createElement(Nc,{model:()=>this.controller.getGeoModel(),width:this.const(80),height:this.const(80),instructions:()=>this.geoModel.getIconInstructionsForTool(e)}),(()=>this.getTransformationName(e)))})),qr.createElement(q8,{predicate:()=>this.cachedExistingTransformations.length>0},(()=>qr.createElement("div",{class:qr.const("dcg-transformation-header")},(()=>this.controller.s("graphing-calculator-label-recent-transformations"))))),qr.createElement("div",{role:qr.const("group"),"aria-label":()=>this.controller.s("graphing-calculator-label-recent-transformations")},r_((()=>this.cachedExistingTransformations),{item:e=>qr.createElement("div",{class:qr.const("dcg-existing-transformation"),role:qr.const("button"),tabindex:qr.const("0"),onTap:()=>this.applyTransformation(e),onPointerOut:t=>this.onPointerOut(t,e),onPointerOver:t=>this.onPointerOver(t,e),willUnmount:()=>this.onImplicitMouseOut(e)},qr.createElement(th,{controller:this.props.controller,model:()=>e})),key:e=>e.id})))}willUnmount(){ge(this.controller.s("graphing-calculator-narration-options-menu-closed"))}didMount(){ge(this.controller.s("graphing-calculator-narration-options-menu-open"))}computeExistingTransformations(){var e;let t=[];for(let n of this.controller.getAllItemModels()){if("expression"!==n.type||!this.controller.isItemInGeoFolder(n.id))continue;let r=null==(e=n.formula.geometry)?void 0:e.call;r&&_p(r.symbol)&&t.push(n)}return t.reverse()}cacheExistingTransformations(){this.cachedExistingTransformations=this.computeExistingTransformations()}getTransformations(){return["translation","reflection","dilation","rotation"]}getTransformationName(e){switch(e){case"dilation":return this.controller.raw("Dilation");case"reflection":return this.controller.raw("Reflection");case"rotation":return this.controller.raw("Rotation");case"translation":return this.controller.raw("Translation")}}onPointerOver(e,t){if("mouse"!==e.pointerType)return;let n=$u(t.latex);n&&(this.currentlyActiveTokenId=n,this.controller.dispatch({type:"set-active-token",id:this.currentlyActiveTokenId,style:"hovered"}))}onPointerOut(e,t){if("mouse"!==e.pointerType)return;let n=$u(t.latex);n&&this.currentlyActiveTokenId&&this.currentlyActiveTokenId===n&&(this.controller.dispatch({type:"unset-active-token",id:this.currentlyActiveTokenId,style:"hovered"}),this.currentlyActiveTokenId=void 0)}onImplicitMouseOut(e){let t=$u(e.latex);t&&this.currentlyActiveTokenId&&this.currentlyActiveTokenId===t&&this.controller.runAfterDispatch((()=>{let e=this.currentlyActiveTokenId;e&&(this.currentlyActiveTokenId=void 0,this.controller.dispatch({type:"unset-active-token",id:e,style:"hovered"}))}))}applyTransformation(e){if(!e.formula.assignment)return;let t=__dcg_shared_module_exports__.Ua(e.formula.assignment);this.controller.dispatch({type:"apply-transformation-to-selected",assignmentLatex:t})}},Go=__dcg_shared_module_exports__.i(ne()),{For:H8}=Go.Components,Cv=class extends Go.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return Go.createElement("div",{class:()=>({"dcg-table-column-menu":!0,"dcg-options-menu":!0}),role:Go.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-narration-options-menu"),didMount:()=>{ge(this.controller.s("graphing-calculator-narration-options-menu-open"))},didUnmount:()=>{ge(this.controller.s("graphing-calculator-narration-options-menu-closed"))}},Go.createElement(H8,{each:this.bindFn(this.getSections)},Go.createElement("div",null,(e=>{switch(e){case"points":return Go.createElement(Jp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:()=>this.isSectionOpen("points"),isFirstOpenSection:()=>this.isFirstOpenSection("points")}));case"drag":return Go.createElement(Qp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:()=>this.isSectionOpen("drag"),isFirstOpenSection:()=>this.isFirstOpenSection("drag")}));case"lines":return Go.createElement(zp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:()=>this.isSectionOpen("lines"),isFirstOpenSection:()=>this.isFirstOpenSection("lines")}))}}))),Go.createElement("div",{class:Go.const("dcg-triangle")}))}getSections(){return this.model.draggable?["points","lines","drag"]:["points","lines"]}isFirstOpenSection(e){let t=this.getSections();for(let n of t){if(n===e)return this.isSectionOpen(e);if(this.isSectionOpen(n))return!1}return!1}isSectionOpen(e){switch(e){case"drag":return"NONE"!==this.model.dragMode;case"lines":return!!this.model.lines;case"points":return!!this.model.points}}},$t=__dcg_shared_module_exports__.i(ne()),{For:$8,If:Ek,Textarea:z8}=$t.Components,Sv=class extends $t.Class{template(){return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,$t.createElement("div",{class:$t.const("dcg-image-options-menu dcg-options-menu")},$t.createElement("div",{class:$t.const("dcg-triangle")}),$t.createElement("div",{class:$t.const("dcg-opacities-menu dcg-dividing-line-after")},$t.createElement("div",{role:$t.const("heading"),"aria-level":$t.const("2"),class:$t.const("dcg-title")},(()=>this.controller.s("graphing-calculator-heading-image-opacity"))),$t.createElement($8,{each:()=>this.controller.getImageOpacities()},$t.createElement("div",{class:$t.const("dcg-opacities-menu-flex"),role:$t.const("group"),"aria-label":()=>this.controller.s("graphing-calculator-heading-image-opacity")},(e=>$t.createElement("span",{class:$t.const("dcg-opacity-option"),role:$t.const("button"),tabindex:$t.const(0),"aria-label":()=>`opacity: ${e}`,"aria-pressed":()=>this.isOpacitySelected(e),handleevent:$t.const("true"),onTap:()=>this.onSelectOpacity(e)},$t.createElement(Li,{backgroundImage:this.bindFn(this.getBackgroundImage),iconType:()=>this.isOpacitySelected(e)?"check":"none",backgroundOpacity:()=>parseFloat(e)})))))),$t.createElement("div",{class:$t.const("dcg-styles-div dcg-options-menu-section")},$t.createElement("div",{class:$t.const("dcg-styles-menu"),role:$t.const("group"),"aria-label":()=>this.controller.s("graphing-calculator-narration-image-styles")},$t.createElement(kt,{checked:()=>!this.model.foreground,onChange:this.bindFn(this.onToggleForeground)},(()=>this.controller.s("graphing-calculator-button-place-image-behind-graphs")))),$t.createElement(Ek,{predicate:()=>this.shouldShowDraggableCheckbox()},(()=>$t.createElement("div",{class:$t.const("dcg-draggable-checkbox-container")},$t.createElement(kt,{checked:()=>Ws(this.model),onChange:this.bindFn(this.onToggleDraggable)},(()=>this.controller.s("graphing-calculator-button-draggable")))))),$t.createElement(Ek,{predicate:this.bindFn(this.shouldShowClickable)},(()=>$t.createElement("div",{class:$t.const("dcg-clickable-image-controls")},$t.createElement(jp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isOpen:()=>!!this.model.clickableInfo.enabled,isFirstOpenSection:this.const(!1)}))))),$t.createElement(Ek,{predicate:()=>Ws(this.model)||!!this.model.clickableInfo.enabled},(()=>$t.createElement(z8,{placeholder:()=>this.controller.s("graphing-calculator-text-add-screen-reader-label-placeholder"),value:()=>this.model.description,onInput:e=>this.controller.dispatch({type:"set-item-description",id:this.model.id,description:e})})))))}onToggleDraggable(){Du(this.model)?this.controller.dispatch({type:"set-image-draggable",id:this.id,draggable:!this.model.draggable}):this.makeDraggable()}onToggleForeground(e){this.controller.dispatch({type:"set-image-in-foreground",id:this.id,foreground:!e})}onSelectOpacity(e){this.controller.dispatch({type:"set-image-opacity",id:this.id,opacity:e})}isOpacitySelected(e){return this.model.opacity===e}getBackgroundImage(){return this.model.image_url===this.lastURL||(this.lastURL=this.model.image_url,this.lastEncodedURL='url("'+Ww(this.model.image_url)+'")'),this.lastEncodedURL}shouldShowClickable(){return this.controller.areActionsEnabled()}makeDraggable(){this.controller.dispatch({type:"convert-image-to-draggable",id:this.model.id})}shouldShowDraggableCheckbox(){var e=Du(this.model);return e?HV(e):FG(this.model)}},di=__dcg_shared_module_exports__.i(ne()),wn=__dcg_shared_module_exports__.i(ne()),Ev=[.05,.1,.15,.2,.35,.5,.75,1,1.5,2,3.5,5,7.5,10,15,20],W8=__dcg_shared_module_exports__.sa(Ev),j8=__dcg_shared_module_exports__.ra(Ev),_m=class extends wn.Class{init(){this.controller=this.props.controller(),this.model=this.props.model()}template(){return wn.createElement("div",{class:wn.const("dcg-slider-speed-container dcg-do-not-blur"),handleEvent:wn.const("true")},wn.createElement("span",{class:()=>({"dcg-action-slower":!0,"dcg-disabled":this.isSlowerDisabled()}),onTap:()=>this.animateSlower(),role:wn.const("button"),"aria-label":()=>this.getSlowerAriaLabel(),tabindex:()=>this.isSlowerDisabled()?-1:0,"aria-disabled":()=>this.isSlowerDisabled()},wn.createElement("i",{class:wn.const("dcg-icon-show"),"aria-hidden":wn.const("true")})),wn.createElement("span",{class:wn.const("dcg-variable-speed")},this.bindFn(this.computeSpeed),wn.const("x")),wn.createElement("span",{class:()=>({"dcg-action-faster":!0,"dcg-disabled":this.isFasterDisabled()}),onTap:()=>this.animateFaster(),role:wn.const("button"),"aria-label":()=>this.getFasterAriaLabel(),tabindex:()=>this.isFasterDisabled()?-1:0,"aria-disabled":()=>this.isFasterDisabled()},wn.createElement("i",{class:wn.const("dcg-icon-show"),"aria-hidden":wn.const("true")})))}computeSpeed(){var e=__dcg_shared_module_exports__.wc/this.model.slider.animationPeriod;return e=Number(e.toFixed(3))}isSlowerDisabled(){return W8>=this.computeSpeed()}isFasterDisabled(){return j8<=this.computeSpeed()}animateSlower(){var e=this.computeSpeed(),t=__dcg_shared_module_exports__.ma(Ev,(function(t){return t<e}));0!==t.length&&this.setPeriodFromSpeed(__dcg_shared_module_exports__.ra(t))}animateFaster(){var e=this.computeSpeed(),t=__dcg_shared_module_exports__.ma(Ev,(function(t){return t>e}));0!==t.length&&this.setPeriodFromSpeed(__dcg_shared_module_exports__.sa(t))}setPeriodFromSpeed(e){var t=__dcg_shared_module_exports__.wc/e;this.controller.dispatch({type:"set-slider-animationperiod",id:this.model.id,animationPeriod:t}),ge(this.controller.s("graphing-calculator-narration-slider-animating-at-speed",{speed:e+""}))}getSlowerAriaLabel(){return this.controller.s("graphing-calculator-narration-slider-animate-slower")}getFasterAriaLabel(){return this.controller.s("graphing-calculator-narration-slider-animate-faster")}},Dv=class extends di.Class{init(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id}template(){return di.createElement("div",{class:di.const("dcg-slider-options-view dcg-options-menu")},di.createElement("div",{class:di.const("dcg-triangle")}),di.createElement("div",{class:di.const("dcg-slider-menu")},di.createElement("div",{role:di.const("group"),"aria-label":()=>this.controller.s("graphing-calculator-heading-slider-animation-mode")},di.createElement("div",{role:di.const("heading"),"aria-level":di.const("2"),class:di.const("dcg-title")},(()=>this.controller.s("graphing-calculator-heading-slider-animation-mode"))),di.createElement(Oi,{ariaGroupLabel:()=>this.controller.s("graphing-calculator-heading-slider-animation-mode"),staticConfig:this.bindFn(this.getAnimationOptions),theme:this.const("mini")}))),di.createElement("div",{class:di.const("dcg-slider-menu dcg-slider-speed-menu"),role:di.const("group"),"aria-label":()=>this.controller.s("graphing-calculator-heading-slider-speed")},di.createElement("div",{role:di.const("heading"),"aria-level":di.const("2"),class:di.const("dcg-title")},(()=>this.controller.s("graphing-calculator-heading-slider-speed"))),di.createElement("div",{class:di.const("dcg-slider-speed-container")},di.createElement(_m,__dcg_shared_module_exports__.b({},this.props)))))}getAnimationOptions(){return["LOOP_FORWARD_REVERSE","LOOP_FORWARD","PLAY_ONCE","PLAY_INDEFINITELY"].map(((e,t)=>({key:e,icon:()=>__dcg_shared_module_exports__.n(e),tooltip:()=>this.getTooltip(e),tooltipGravity:()=>0===t?"se":"s",selected:()=>this.isSelected(e),onSelect:()=>{this.props.controller().dispatch({type:"set-slider-loopmode",id:this.props.model().id,loopMode:e})}})))}getTooltip(e){let t=this.controller.s;switch(e){case"LOOP_FORWARD_REVERSE":return t("graphing-calculator-narration-slider-loop-forwards-and-backwards");case"LOOP_FORWARD":return t("graphing-calculator-narration-slider-repeat-one-direction");case"PLAY_ONCE":return t("graphing-calculator-narration-slider-play-once");case"PLAY_INDEFINITELY":return t("graphing-calculator-narration-slider-play-indefinitely")}}isSelected(e){return this.model.slider.loopMode===e}},Zt=__dcg_shared_module_exports__.i(ne());at();var{If:Y8,For:i_}=Zt.Components,kv=class extends Zt.Class{init(){this.controller=this.props.controller(),this.geoModel=this.controller.getGeoModel()}template(){return Zt.createElement("div",{role:Zt.const("toolbar"),"aria-label":()=>this.controller.s("graphing-calculator-label-geometry-tools"),class:Zt.const("dcg-geo-basic-tools dcg-animate-in-after-initial-load")},Zt.createElement(i_,{each:()=>this.controller.getGeoTools(),key:e=>e.key},Zt.createElement("span",{class:Zt.const("dcg-icon-row")},(e=>Zt.createElement("span",{class:()=>({"dcg-icon-container":!0,"dcg-split-btn":!!e.dropdown,"dcg-selected":this.selectedTool()===e.key}),"dcg-geo-tool":this.const(e.key),onKeydown:t=>this.handleToolbarKeydown(t,e)},Zt.createElement("span",{role:Zt.const("button"),tabindex:()=>this.selectedTool()===e.key?0:-1,"aria-label":()=>this.geoModel.getDisplayNameForTool(e.key),"aria-haspopup":()=>!!e.dropdown,"aria-pressed":()=>this.selectedTool()===e.key,class:()=>({"dcg-basic-tool-btn":!0,"dcg-icon":!0}),onTap:t=>this.chooseTool(t,e),onLongHold:t=>this.openMenuFromLongHold(t,e),manageFocus:this.const(ut({controller:this.controller,location:{type:"geo-basic-tool",tool:e.key}}))},Zt.createElement(Nc,{model:()=>this.geoModel,width:this.const(100),height:this.const(100),instructions:()=>this.geoModel.getIconInstructionsForTool(e.key)})),Zt.createElement(Y8,{predicate:()=>!!e.dropdown},(()=>Zt.createElement(Dk,{geoModel:()=>this.geoModel,spec:()=>e,controller:this.props.controller}))))))))}handleToolbarKeydown(e,t){let n=Le(e);if("Up"!==n&&"Down"!==n&&"Left"!==n&&"Right"!==n&&"Home"!==n&&"End"!==n)return;e.preventDefault(),e.stopPropagation();let r=this.controller.getFocusLocation();if(!r)return;let i,o=this.controller.getGeoTools(),a=o.indexOf(t),s=o[a];if(!s)return;let l,c=s.dropdown||[];if("Home"===n)l=o[0],i={type:"geo-basic-tool",tool:l.key},this.controller.dispatch({type:"select-geo-tool",tool:l.key});else if("End"===n)l=o[o.length-1],i={type:"geo-basic-tool",tool:l.key},this.controller.dispatch({type:"select-geo-tool",tool:l.key});else if("Left"===n)"geo-basic-tool-dropdown"===r.type&&c.length>0?i={type:"geo-basic-tool",tool:t.key}:a>0&&(l=o[Math.max(0,a-1)],i={type:"geo-basic-tool",tool:l.key},this.controller.dispatch({type:"select-geo-tool",tool:l.key}));else if("Right"===n&&a<o.length-1)l=o[Math.min(a+1,o.length-1)],i={type:"geo-basic-tool",tool:l.key},this.controller.dispatch({type:"select-geo-tool",tool:l.key});else if(c.length>0){let e=c.indexOf(s.key);if(-1===e)return;let t="";"Up"===n?t=c[Math.max(0,e-1)]:"Down"===n&&(t=c[Math.min(e+1,c.length-1)]),""!==t&&(this.controller.dispatch({type:"select-geo-tool",tool:t}),i={type:"geo-basic-tool",tool:t})}i&&this.controller.dispatch({type:"set-focus-location",location:i})}selectedTool(){return this.controller.getActiveTool()}openDropdownMenu(e,t){t.dropdown&&this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"geo-tool-dropdown",guid:"geo-dropdown-"+t.dropdown[0],tools:t.dropdown,focusFirstOption:"keyboard"===e.device}})}openMenuFromLongHold(e,t){this.controller.dispatch({type:"select-geo-tool",tool:t.key}),this.openDropdownMenu(e,t)}chooseTool(e,t){e.wasLongheld()||(this.controller.dispatch({type:"select-geo-tool",tool:t.key,focusGraphPaper:"keyboard"===e.device}),e.shiftKey&&this.openDropdownMenu(e,t))}},Iv=class extends Zt.Class{init(){this.controller=this.props.controller(),this.geoModel=this.controller.getGeoModel()}template(){return Zt.createElement("div",{class:()=>({"dcg-options-menu":!0,"dcg-select-tools-dropdown":!0}),role:Zt.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-narration-options-menu"),didMount:this.bindFn(this.didMountContainer)},Zt.createElement("div",{class:Zt.const("dcg-options-menu-section")},Zt.createElement(i_,{each:()=>this.props.tools()},Zt.createElement("div",null,(e=>Zt.createElement("div",{role:Zt.const("button"),tabindex:Zt.const("0"),"aria-pressed":()=>this.controller.getActiveTool()===e,onTap:t=>this.chooseTool({tool:e,focusIcon:"keyboard"===t.device}),class:()=>({"dcg-dropdown-tool":!0,"dcg-selected-tool":this.controller.getActiveTool()===e}),manageFocus:this.const(ut({controller:this.controller,location:{type:"geo-basic-tool-menu-item",tool:e}}))},Zt.createElement(Nc,{model:()=>this.geoModel,width:this.const(100),height:this.const(100),instructions:()=>this.geoModel.getIconInstructionsForTool(e)}),Zt.createElement("span",null,(()=>this.geoModel.getDisplayNameForTool(e)))))))))}chooseTool(e){let t=this.props.controller();t.dispatch({type:"select-geo-tool",tool:e.tool}),e.focusIcon&&t.dispatch({type:"set-focus-location",location:{type:"geo-basic-tool-dropdown",tool:this.props.tools()[0]}})}willUnmount(){ge(this.controller.s("graphing-calculator-narration-options-menu-closed"))}didMountContainer(e){this.$containerElt=P(e),ge(this.controller.s("graphing-calculator-narration-options-menu-open"))}},Dk=class extends Zt.Class{init(){this.controller=this.props.controller(),this.geoModel=this.props.geoModel()}template(){return Zt.createElement("span",{style:Zt.const("position:relative;"),class:Zt.const("dcg-tool-dropdown"),role:Zt.const("button"),tabindex:Zt.const("-1"),"aria-label":()=>this.controller.s("graphing-calculator-label-geometry-tool-options",{tool:this.geoModel.getDisplayNameForTool(this.props.spec().key)}),"aria-expanded":this.bindFn(this.getMenuOpen),onTap:this.bindFn(this.handleOnTap),manageFocus:this.const(ut({controller:this.props.controller(),location:{type:"geo-basic-tool-dropdown",tool:this.getPrimaryToolName()}})),"dcg-open-menu-guid":this.bindFn(this.getMenuGUID)},Zt.createElement("span",{class:Zt.const("dcg-dropdown-icon")},Zt.createElement("i",{class:Zt.const("dcg-icon-caret-down")})))}getMenuGUID(){return"geo-dropdown-"+(this.props.spec().dropdown||[])[0]}getMenuOpen(){let e=this.controller.getOpenItemMenu();return void 0!==e&&"geo-tool-dropdown"===e.type&&e.guid===this.getMenuGUID()}handleOnTap(e){let{key:t,dropdown:n=[]}=this.props.spec(),r="keyboard"===e.device;this.controller.getActiveTool()!==t&&this.controller.dispatch({type:"select-geo-tool",tool:t}),this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"geo-tool-dropdown",guid:this.getMenuGUID(),tools:n,focusFirstOption:r}})}getPrimaryToolName(){let e=this.props.spec().dropdown;return void 0!==e?e[0]:""}},{Switch:J8}=Yr.Components,n_=':input, [role="textbox"], [tabindex="0"]:visible',Mv=class extends Yr.Class{init(){this.controller=this.props.controller()}template(){return Yr.createElement(J8,{key:this.bindFn(this.getActiveGuid)},(()=>{let e=this.controller.getOpenItemMenu();return this.registeredChildRepositionCb=void 0,e?"expression"===e.type?Yr.createElement("div",{class:Yr.const("dcg-options-menu-container"),didMount:this.bindFn(this.didMountView),didUnmount:this.bindFn(this.didUnmountView)},Yr.createElement(Zp,{controller:this.props.controller,model:()=>e.model,registerRepositionCb:e=>{this.registeredChildRepositionCb=e}})):"image"===e.type?Yr.createElement("div",{class:Yr.const("dcg-options-menu-container"),didMount:this.bindFn(this.didMountView),didUnmount:this.bindFn(this.didUnmountView)},Yr.createElement(Sv,{controller:this.props.controller,model:()=>e.model})):"table-column"===e.type?Yr.createElement("div",{class:Yr.const("dcg-options-menu-container"),didMount:this.bindFn(this.didMountView),didUnmount:this.bindFn(this.didUnmountView)},Yr.createElement(Cv,{controller:this.props.controller,model:()=>e.model})):"slider"===e.type?Yr.createElement("div",{class:Yr.const("dcg-options-menu-container"),didMount:this.bindFn(this.didMountView),didUnmount:this.bindFn(this.didUnmountView)},Yr.createElement(Dv,{controller:this.props.controller,model:()=>e.model})):"multi-select-more"===e.type?Yr.createElement("div",{class:Yr.const("dcg-options-menu-container"),didMount:this.bindFn(this.didMountView),didUnmount:this.bindFn(this.didUnmountView)},Yr.createElement(bv,{controller:this.props.controller,registerRepositionCb:e=>{this.registeredChildRepositionCb=e}})):"multi-select-transformations"===e.type?Yr.createElement("div",{class:Yr.const("dcg-options-menu-container"),didMount:this.bindFn(this.didMountView),didUnmount:this.bindFn(this.didUnmountView)},Yr.createElement(vv,{controller:this.props.controller,registerRepositionCb:e=>{this.registeredChildRepositionCb=e}})):"geo-tool-dropdown"===e.type?Yr.createElement("div",{class:Yr.const("dcg-options-menu-container"),didMount:this.bindFn(this.didMountView),didUnmount:this.bindFn(this.didUnmountView)},Yr.createElement(Iv,{controller:this.props.controller,registerRepositionCb:e=>{this.registeredChildRepositionCb=e},tools:()=>e.tools})):e:Yr.createElement("span",null)}))}getActiveGuid(){let e=this.controller.getOpenItemMenu();if(e)return e.guid}didMountView(e){this.guid=__dcg_shared_module_exports__.Ka("dcg-item-settings-view"),this.openView=e,this.positionMenu(),this.moveFocusIfAppropriate(),P(document.body).on(`keydown.${this.guid}`,(e=>{let t=Le(e);t===co?(e.preventDefault(),e.stopPropagation(),this.focusMenuIcon(),this.hideOptions()):"Tab"===t&&!e.altKey&&!e.ctrlKey&&!e.metaKey&&(e.shiftKey?e.shiftKey&&(this.isIconModelFocused()?(e.preventDefault(),e.stopPropagation(),this.focusLastOption()):this.isFirstOptionViewFocused()?(e.preventDefault(),e.stopPropagation(),this.focusIcon()):this.focusAnywhere()):this.isIconModelFocused()?(e.preventDefault(),e.stopPropagation(),this.focusFirstOption()):this.isLastOptionViewFocused()?(e.preventDefault(),e.stopPropagation(),this.focusIcon()):this.focusAnywhere())})),requestAnimationFrame((()=>{var e;if(this.openView){let t=this.controller.getExppanelSelector();t&&null!=(e=this.controller.getOpenMenuIcon())&&e.closest(t).length&&t.on("scroll."+this.guid,(()=>{t.off("scroll."+this.guid),this.hideOptions()}))}})),P(document.body).on(`dcg-tapstart.${this.guid}`,(e=>{if(!this.openView)return;let t=P(e.target),n=this.controller.getOpenMenuIcon();if(!n||!t.closest(n).length){if(t.closest(this.openView).length){if(!t.is(n_))return;let{$first:n,$last:r}=this.getDOMTabStops();return void(void 0!==n&&n.is(t)?this.focusFirstOption():void 0!==r&&r.is(t)?this.focusLastOption():!e.target.hasAttribute("dataLabelAttributeValue")&&"fill-opacity"!==e.target.getAttribute("dataLabelAttributeValue")&&this.focusAnywhere())}t.closest(".dcg-keypad,.dcg-show-keypad-container").length||this.hideOptions()}}))}didUnmountView(){P(document.body).off(`.${this.guid}`),this.openView=void 0}didUpdate(){this.positionMenu(),this.moveFocusIfAppropriate()}moveFocusIfAppropriate(){let{$first:e,$last:t}=this.getDOMTabStops();void 0===e||void 0===t||(this.shouldMoveFocusToFirstOption()?e.trigger("focus"):this.shouldMoveFocusToLastOption()&&t.trigger("focus"))}open(){return!!this.controller.getOpenItemMenu()}hideOptions(){if(!this.open())return;let e=this.controller.getFocusLocation(),t=this.controller.getOpenItemMenu();e&&t&&"expression-menu"===e.type&&"model"in t&&e.id===t.model.id&&this.controller.dispatch({type:"blur-focus-location",location:e}),this.controller.dispatch({type:"close-item-settings-menu"})}positionMenu(){let e=this.controller.getOpenMenuIcon();if(!e||!this.openView)return;var t=this.controller.find$(".dcg-container")[0].getBoundingClientRect();let n=e[0].getBoundingClientRect(),r=n.top-t.top,i=n.left-t.left,o=this.controller.computeMajorLayout(),a=o.list.top+o.list.height,s=o.keypad.top,l=Math.min(a,s)+t.top-n.top;P(this.openView).css({top:r+"px",left:i+"px",display:"block"}),this.registeredChildRepositionCb&&this.registeredChildRepositionCb(l)}focusMenuIcon(){let e=this.controller.getOpenItemMenu();if(e){if("geo-tool-dropdown"===e.type)return void this.controller.dispatch({type:"set-focus-location",location:{type:"geo-basic-tool-dropdown",tool:e.tools[0]}});if(!("model"in e))return;this.controller.dispatch({type:"set-focus-location",location:{type:"expression-icon",id:e.model.id}})}}isIconModelFocused(){let e=this.controller.getOpenItemMenu();if(void 0===e)return!1;if("slider"===e.type)return this.controller.isFocusLocationFocused({type:"slider-animation-properties-icon",id:e.model.id});if("image"===e.type)return this.controller.isFocusLocationFocused({type:"image-icon",id:e.model.id});if("table-column"===e.type)return this.controller.isFocusLocationFocused({type:"table-icon",id:e.model.table.id,columnId:e.model.id});if("geo-tool-dropdown"===e.type)return this.controller.isFocusLocationFocused({type:"geo-basic-tool-dropdown",tool:e.tools[0]});if("multi-select-more"===e.type)return this.controller.isFocusLocationFocused({type:"multi-select-more-icon"});if("multi-select-transformations"===e.type)return this.controller.isFocusLocationFocused({type:"multi-select-transformations-icon"});var t=this.getModelForOpenMenu();return t?this.controller.isFocusLocationFocused({type:"expression-icon",id:t.id}):void 0}focusIcon(){this.controller.focusOpenMenuIcon()}isFirstOptionViewFocused(){let{$first:e}=this.getDOMTabStops();return void 0!==e&&e.is(":focus")}shouldMoveFocusToFirstOption(){let e=this.controller.getOpenItemMenu();if(e){if("geo-tool-dropdown"===e.type)return!this.isFirstOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"geo-basic-tool-menu-item",tool:e.tools[0]});if("multi-select-more"===e.type||"multi-select-transformations"===e.type)return!this.isFirstOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"generic-menu",where:"start"});var t=this.getModelForOpenMenu();if(t)return!this.isFirstOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"expression-menu",id:t.id,location:"start"})}}focusFirstOption(){let e=this.controller.getOpenItemMenu();if(e){if("geo-tool-dropdown"===e.type)return void this.controller.dispatch({type:"set-focus-location",location:{type:"geo-basic-tool-menu-item",tool:e.tools[0]}});if("multi-select-more"===e.type||"multi-select-transformations"===e.type)return void this.controller.dispatch({type:"set-focus-location",location:{type:"generic-menu",where:"start"}});var t=this.getModelForOpenMenu();t&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:t.id,location:"start"}})}}isLastOptionViewFocused(){let{$last:e}=this.getDOMTabStops();return void 0!==e&&e.is(":focus")}getModelForOpenMenu(){let e=this.controller.getOpenItemMenu();if(e&&"model"in e)return e.model}shouldMoveFocusToLastOption(){let e=this.controller.getOpenItemMenu();if(e){if("geo-tool-dropdown"===e.type)return!this.isLastOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"geo-basic-tool-menu-item",tool:e.tools[e.tools.length-1]});if("multi-select-more"===e.type||"multi-select-transformations"===e.type)return!this.isLastOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"generic-menu",where:"end"});var t=this.getModelForOpenMenu();if(t)return!this.isLastOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"expression-menu",id:t.id,location:"end"})}}focusLastOption(){let e=this.controller.getOpenItemMenu();if(e){if("geo-tool-dropdown"===e.type)return void this.controller.dispatch({type:"set-focus-location",location:{type:"geo-basic-tool-menu-item",tool:e.tools[e.tools.length-1]}});if("multi-select-more"===e.type||"multi-select-transformations"===e.type)return void this.controller.dispatch({type:"set-focus-location",location:{type:"generic-menu",where:"end"}});var t=this.getModelForOpenMenu();t&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:t.id,location:"end"}})}}focusAnywhere(){let e=this.controller.getOpenItemMenu();if(e){if("multi-select-more"===e.type||"multi-select-transformations"===e.type)return void this.controller.dispatch({type:"set-focus-location",location:{type:"generic-menu",where:"anywhere"}});var t=this.getModelForOpenMenu();t&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:t.id,location:"anywhere"}})}}getDOMTabStops(){if(void 0===this.openView)return{};let e=P(this.openView).find(n_);return{$first:e.first(),$last:e.last()}}},Mt=__dcg_shared_module_exports__.i(ne()),o_=__dcg_shared_module_exports__.i(ne()),Fi=class extends o_.Class{init(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch,this.s=this.controller.s}};Fi.uuid=bp();var ah=__dcg_shared_module_exports__.i(ne()),tc=__dcg_shared_module_exports__.i(ne()),er=class extends tc.Class{template(){return tc.createElement("div",{class:()=>({"dcg-keypad-btn-container":!0,"dcg-disabled":this.isDisabled()}),style:()=>({"flex-grow":this.getColSpan()})},tc.createElement("span",{role:tc.const("button"),class:this.bindFn(this.getClasses),"dcg-command":this.props.command,"aria-label":this.bindFn(this.getAriaLabel),"aria-disabled":this.bindFn(this.isDisabled),"aria-controls":this.props.ariaControls?this.props.ariaControls:this.const(void 0),"aria-expanded":this.props.ariaExpanded?this.bindFn(this.getAriaExpanded):this.const(void 0),onTap:()=>{this.isDisabled()||this.props.onTap()}},tc.createElement("span",{class:tc.const("dcg-keypad-btn-content")},this.children)))}getClasses(){let e={"dcg-keypad-btn":!0,"dcg-keypad-btn-active":this.isActive()},t=this.props.style();switch(t){case"default":e["dcg-btn-light-on-gray"]=!0;break;case"highlight":e["dcg-btn-dark-on-gray"]=!0;break;case"popover":e["dcg-btn-light-gray"]=!0;break;case"blue":e["dcg-btn-short-blue"]=!0;break;case"tall-blue":e["dcg-btn-tall-blue"]=!0;break;default:return t}return e}isActive(){return!!this.props.active&&this.props.active()}getAriaLabel(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()}getColSpan(){if(this.props.colspan)return this.props.colspan()}isDisabled(){return this.props.disabled&&this.props.disabled()}getAriaExpanded(){return this.props.ariaExpanded?this.props.ariaExpanded():void 0}},Q=__dcg_shared_module_exports__.i(ne()),{IfElse:l_,If:a_,Switch:X8}=Q.Components;function or(e,t){return void 0===e?Q.const(t):"function"==typeof e?e:Q.const(e)}function ih(e){return(t,n,r={},i)=>Q.createElement(er,{command:Q.const(e.command||e.typedText||e.keys[0]),ariaLabel:()=>e.ariaLabelKey?i(e.ariaLabelKey):e.typedText||e.keys[0],colspan:or(r.colspan,1),style:()=>r.style||"default",onTap:()=>n({type:"keypad/type-text",text:e.typedText||e.keys[0]})},l_((()=>"{"===e.keys[0]||"["===e.keys[0]),{true:()=>Q.createElement("span",{class:Q.const("dcg-mq-math-mode"),style:Q.const("font-size: 120%")},Q.const(e.keys[0]),Q.const(" "),Q.createElement("span",{style:Q.const("color: #999")},Q.const(e.keys[1]))),false:()=>Q.createElement("span",{class:Q.const("dcg-either-or-btn")},Q.createElement(ze,{config:Q.const({}),latex:Q.const(e.keys[0])}),Q.createElement("span",{style:Q.const("color: #999")},Q.createElement(ze,{config:Q.const({}),latex:Q.const(e.keys[1])})))}))}function nh(e){return(t,n,r={},i)=>Q.createElement(er,{command:Q.const(e.command||e.typedText||e.keys[1]),ariaLabel:()=>e.ariaLabelKey?i(e.ariaLabelKey):e.typedText||e.keys[0],colspan:or(r.colspan,1),style:or(r.style,"default"),onTap:()=>n({type:"keypad/type-text",text:e.typedText||e.keys[1]})},l_((()=>"}"===e.keys[1]||"]"===e.keys[1]),{true:()=>Q.createElement("span",{class:Q.const("dcg-mq-math-mode"),style:Q.const("font-size: 120%")},Q.createElement("span",{style:Q.const("color: #999")},Q.const(e.keys[0])),Q.const(" "),Q.const(e.keys[1])),false:()=>Q.createElement("span",null,Q.createElement("span",{style:Q.const("color: #999")},Q.createElement(ze,{config:Q.const({}),latex:Q.const(e.keys[0])})),Q.createElement(ze,{config:Q.const({}),latex:Q.const(e.keys[1])}))}))}function Q8(e){return(t,n,r={},i)=>Q.createElement(er,{command:Q.const(e.command),ariaLabel:()=>e.ariaLabelKey?i(e.ariaLabelKey):t,colspan:or(r.colspan,1),style:()=>r.style||"default",onTap:()=>{n({type:"keypad/audio-trace",command:e.command})}},Q.createElement(a_,{predicate:Q.const(void 0!==e.iconClass)},(()=>Q.createElement("span",{class:()=>({"dcg-button-icon":!0,"dcg-icon-only":void 0===e.contentKey})},Q.createElement("i",{class:Q.const(e.iconClass),"aria-hidden":Q.const("true")})))),Q.createElement(a_,{predicate:Q.const(void 0!==e.contentKey)},(()=>Q.createElement("span",null,(()=>i(e.contentKey)||t)))))}function ke(e){return(t,n,r={},i)=>Q.createElement(er,{command:Q.const(e.command||t),ariaLabel:()=>e.ariaLabelKey?i(e.ariaLabelKey):t,colspan:or(r.colspan,1),style:()=>r.style||"default",onTap:()=>n({type:"keypad/type-text",text:e.typedText||t})},Q.createElement(ze,{config:Q.const({}),latex:Q.const(e.content||t)}))}function s_(e){return(t,n,r={},i)=>Q.createElement(er,{command:Q.const(e.command||t),ariaLabel:()=>e.ariaLabelKey?i(e.ariaLabelKey):t,colspan:or(r.colspan,1),style:()=>r.style||"default",onTap:()=>n({type:"keypad/type-text",text:e.typedText||t})},Q.createElement("span",{class:Q.const("dcg-mq-math-mode")},Q.const(e.content||t)))}function Qe(e){return(t,n,r={},i)=>Q.createElement(er,{command:Q.const(t),ariaLabel:()=>e.ariaLabelKey?i(e.ariaLabelKey):t,colspan:or(r.colspan,1),style:()=>r.style||"default",onTap:()=>n({type:"keypad/type-text",text:t+"("})},Q.createElement(X8,{key:()=>t.match(/^[a-z]{2,}$/)},(e=>e?Q.createElement("span",{class:Q.const("dcg-mq-math-mode dcg-static-mathquill-view")},Q.createElement("span",{class:Q.const("dcg-mq-root-block")},Q.createElement("span",{class:Q.const("dcg-mq-operator-name")},(()=>t)))):Q.createElement(ze,{config:Q.const({}),latex:Q.const(t)}))))}function Ln(e){return(t,n,r={},i)=>Q.createElement(er,{command:Q.const(e.command),ariaLabel:()=>e.ariaLabelKey?i(e.ariaLabelKey):e.command,colspan:or(r.colspan,1),style:()=>r.style||"default",onTap:()=>{n({type:"keypad/custom-command",command:e.command})}},Q.createElement(ze,{config:Q.const({}),latex:Q.const(e.content)}))}var Z8={"{":s_({ariaLabelKey:"shared-calculator-narration-keypad-key-left-bracket"}),"}":s_({ariaLabelKey:"shared-calculator-narration-keypad-key-right-bracket"}),"(":ke({ariaLabelKey:"shared-calculator-narration-keypad-key-left-paren"}),")":ke({ariaLabelKey:"shared-calculator-narration-keypad-key-right-paren"}),sqrt:ke({content:"\\sqrt{}",ariaLabelKey:"shared-calculator-narration-keypad-key-sqrt"}),"/":ke({ariaLabelKey:"shared-calculator-narration-keypad-key-divide"}),division:ke({content:"÷",typedText:"/",command:"/",ariaLabelKey:"shared-calculator-narration-keypad-key-divide"}),obelus:ke({content:"÷",typedText:"÷",ariaLabelKey:"shared-calculator-narration-keypad-key-divide"}),"*":ke({ariaLabelKey:"shared-calculator-narration-keypad-key-times"}),multiplication:ke({content:"×",typedText:"*",command:"*",ariaLabelKey:"shared-calculator-narration-keypad-key-times"}),"±":ke({ariaLabelKey:"shared-calculator-narration-keypad-plus-minus"}),"-":ke({ariaLabelKey:"shared-calculator-narration-keypad-key-minus"}),"+":ke({ariaLabelKey:"shared-calculator-narration-keypad-key-plus"}),".":ke({ariaLabelKey:"shared-calculator-narration-keypad-key-decimal"}),ans:(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("shared-calculator-narration-keypad-key-ans"),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/type-text",text:e})},Q.const("ans")),enter:(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("shared-calculator-narration-keypad-key-enter"),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/press-key",key:"Enter"})},Q.createElement("i",{class:Q.const("dcg-icon-arrow-enter"),"aria-hidden":Q.const("true")})),shift:(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("shared-calculator-narration-keypad-key-shift"),colspan:or(n.colspan,1),style:()=>n.style||"default",active:or(n.active,!1),onTap:()=>t({type:"keypad/shift"})},Q.createElement("i",{class:Q.const("dcg-icon-shift"),"aria-hidden":Q.const("true")})),left:(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("shared-calculator-narration-keypad-key-left-arrow"),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/press-key",key:"Left"})},Q.createElement("i",{class:Q.const("dcg-icon-arrow-left"),"aria-hidden":Q.const("true")})),right:(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("shared-calculator-narration-keypad-key-right-arrow"),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/press-key",key:"Right"})},Q.createElement("i",{class:Q.const("dcg-icon-arrow-right"),"aria-hidden":Q.const("true")})),123:(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("shared-calculator-narration-keypad-key-toggle-numbers"),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/123"})},Q.const("1 2 3")),ABC:(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("shared-calculator-narration-keypad-key-toggle-letters"),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/abc"})},Q.const("A B C")),Audio:(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("shared-calculator-narration-keypad-key-toggle-audio-trace"),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/audio-trace",command:"on"})},Q.createElement("i",{class:Q.const("dcg-icon-volume"),"aria-hidden":Q.const("true")})),backspace:(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("shared-calculator-narration-keypad-key-backspace"),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/press-key",key:"Backspace"})},Q.createElement("i",{class:Q.const("dcg-icon-delete"),"aria-hidden":Q.const("true")})),pi:ke({content:"\\pi",ariaLabelKey:"shared-calculator-narration-keypad-key-pi"}),alpha:ke({content:"\\alpha",ariaLabelKey:"shared-calculator-narration-keypad-key-alpha"}),beta:ke({content:"\\beta",ariaLabelKey:"shared-calculator-narration-keypad-key-beta"}),theta:ke({content:"\\theta",ariaLabelKey:"shared-calculator-narration-keypad-key-theta"}),tau:ke({content:"\\tau",ariaLabelKey:"shared-calculator-narration-keypad-key-tau"}),"a^2":Ln({command:"a^2",content:"a^2",ariaLabelKey:"shared-calculator-narration-keypad-key-squared"}),"a^3":Ln({command:"a^3",content:"a^3",ariaLabelKey:"shared-calculator-narration-keypad-key-cubed"}),"x^3":Ln({command:"a^3",content:"x^3",ariaLabelKey:"shared-calculator-narration-keypad-key-cubed"}),"a^b":ke({content:"a^b",typedText:"^",ariaLabelKey:"shared-calculator-narration-keypad-key-superscript"}),a_b:ke({content:"a_b",typedText:"_",ariaLabelKey:"shared-calculator-narration-keypad-key-subscript"}),"a/b":Ln({content:"\\frac{a}{b}",command:"a/b",ariaLabelKey:"shared-calculator-narration-keypad-key-fraction"}),"x^2":Ln({command:"a^2",content:"x^2",ariaLabelKey:"shared-calculator-narration-keypad-key-squared"}),"x^y":ke({content:"x^y",typedText:"^",ariaLabelKey:"shared-calculator-narration-keypad-key-superscript"}),"x/y":ke({content:"\\frac{x}{y}",typedText:"/",ariaLabelKey:"shared-calculator-narration-keypad-key-fraction"}),nthroot:Ln({command:"nthroot",content:"\\sqrt[n]{}",ariaLabelKey:"shared-calculator-narration-keypad-key-nthroot"}),ythroot:Ln({command:"nthroot",content:"\\sqrt[y]{}",ariaLabelKey:"shared-calculator-narration-keypad-key-ythroot"}),sin:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-sin"}),cos:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-cos"}),tan:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-tan"}),sec:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-sec"}),csc:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-csc"}),cot:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-cot"}),sinh:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-sinh"}),cosh:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-cosh"}),tanh:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-tanh"}),sech:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-csch"}),csch:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-csch"}),coth:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-coth"}),arcsin:Ln({command:"arcsin",content:"sin^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arcsin"}),arccos:Ln({command:"arccos",content:"cos^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arccos"}),arctan:Ln({command:"arctan",content:"tan^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arctan"}),arccsc:Ln({command:"arccsc",content:"csc^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arccsc"}),arcsec:Ln({command:"arcsec",content:"sec^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arcsec"}),arccot:Ln({command:"arccot",content:"cot^{-1}",ariaLabelKey:"shared-calculator-narration-keypad-key-arccot"}),"|a|":ke({typedText:"|",ariaLabelKey:"shared-calculator-narration-keypad-key-abs"}),"|x|":ke({typedText:"|",ariaLabelKey:"shared-calculator-narration-keypad-key-abs"}),ln:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-ln"}),log:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-log"}),quantile:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-quantile"}),quartile:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-quartile"}),var:Qe({}),varp:Qe({}),nCr:Qe({}),loga:Ln({command:"loga",content:"log_a",ariaLabelKey:"shared-calculator-narration-keypad-key-loga"}),stdev:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-stdev"}),mad:Qe({}),nPr:Qe({}),total:Qe({}),length:Qe({}),for:Qe({}),min:Qe({}),max:Qe({}),cov:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-cov"}),covp:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-covp"}),corr:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-corr"}),spearman:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-spearman"}),stats:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-stats"}),polygon:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-polygon"}),distance:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-distance"}),midpoint:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-midpoint"}),mean:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-mean"}),stdevp:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-stdevp"}),mod:Qe({}),"e^x":ke({typedText:"e^",ariaLabelKey:"shared-calculator-narration-keypad-key-exp"}),"10^n":ke({content:"\\times10^{n}",typedText:"*10^",ariaLabelKey:"shared-calculator-narration-keypad-key-10-n"}),"a^{-1}":ke({typedText:"^-1",ariaLabelKey:"shared-calculator-narration-keypad-key-reciprocal"}),sum:ke({content:"\\sum",ariaLabelKey:"shared-calculator-narration-keypad-key-sum"}),prod:ke({content:"\\prod",ariaLabelKey:"shared-calculator-narration-keypad-key-product"}),floor:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-floor"}),ceil:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-ceil"}),round:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-round"}),abs:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-abs"}),"!":ke({ariaLabelKey:"shared-calculator-narration-keypad-key-factorial"}),"n!":ke({typedText:"!",ariaLabelKey:"shared-calculator-narration-keypad-key-factorial"}),median:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-median"}),lcm:Qe({}),gcd:Qe({}),gcf:Qe({}),ddx:Ln({command:"ddx",content:"\\frac{d}{dx}"}),integral:Ln({command:"integral",content:"\\int",ariaLabelKey:"shared-calculator-narration-keypad-key-int"}),"%":ke({content:"\\%",ariaLabelKey:"shared-calculator-narration-keypad-key-percent-of"}),"->":ke({content:"\\to",ariaLabelKey:"shared-calculator-narration-keypad-key-action-to"}),with:ke({typedText:"with",content:"with",ariaLabelKey:"shared-calculator-narration-keypad-key-action-with"}),prime:ke({typedText:"'",content:"f'",ariaLabelKey:"shared-calculator-narration-keypad-key-prime"}),exp:ke({}),sign:Qe({}),normaldist:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-normaldist"}),poissondist:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-poissondist"}),binomialdist:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-binomialdist"}),uniformdist:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-uniformdist"}),erf:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-erf"}),histogram:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-histogram"}),boxplot:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-boxplot"}),dotplot:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-dotplot"}),tscore:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-tscore"}),ittest:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-ittest"}),ttest:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-ttest"}),tdist:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-tdist"}),pdf:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-pdf"}),cdf:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-pdf"}),random:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-random"}),inversecdf:Qe({ariaLabelKey:"shared-calculator-narration-keypad-key-inversecdf"}),hsv:Qe({}),rgb:Qe({}),sort:Qe({}),shuffle:Qe({}),unique:Qe({}),join:Qe({}),"A^-1":Ln({command:"A^-1",content:"A^{-1}",ariaLabelKey:"matrix-calculator-narration-keypad-key-inverse"}),"A^T":Ln({command:"A^T",content:"A^T",ariaLabelKey:"matrix-calculator-narration-keypad-key-transpose"}),"A^2":Ln({command:"A^2",content:"A^2",ariaLabelKey:"shared-calculator-narration-keypad-key-squared"}),"A^n":ke({content:"A^n",typedText:"^",ariaLabelKey:"shared-calculator-narration-keypad-key-exp"}),det:Qe({ariaLabelKey:"matrix-calculator-narration-keypad-key-det"}),trace:Qe({ariaLabelKey:"matrix-calculator-narration-keypad-key-trace"}),rref:Qe({ariaLabelKey:"matrix-calculator-narration-keypad-key-rref"}),a:ke({}),b:ke({}),c:ke({}),d:ke({}),e:ke({}),f:ke({}),g:ke({}),h:ke({}),i:ke({}),j:ke({}),k:ke({}),l:ke({}),m:ke({}),n:ke({}),o:ke({}),p:ke({}),q:ke({}),r:ke({}),s:ke({}),t:ke({}),u:ke({}),v:ke({}),w:ke({}),x:ke({}),boldX:ke({content:"x",typedText:"x"}),y:ke({}),boldY:ke({content:"y",typedText:"y"}),z:ke({}),A:ke({}),B:ke({}),C:ke({}),D:ke({}),E:ke({}),F:ke({}),G:ke({}),H:ke({}),I:ke({}),J:ke({}),K:ke({}),L:ke({}),M:ke({}),N:ke({}),O:ke({}),P:ke({}),Q:ke({}),R:ke({}),S:ke({}),T:ke({}),U:ke({}),V:ke({}),W:ke({}),X:ke({}),Y:ke({}),Z:ke({}),0:ke({}),1:ke({}),2:ke({}),3:ke({}),4:ke({}),5:ke({}),6:ke({}),7:ke({}),8:ke({}),9:ke({}),",":ke({}),"=":ke({}),"[":ke({}),"]":ke({}),"{}_left":ih({keys:["{","}"]}),"{}_right":nh({keys:["{","}"]}),"()_left":ih({keys:["(",")"]}),"()_right":nh({keys:["(",")"]}),"[]_left":ih({keys:["[","]"]}),"[]_right":nh({keys:["[","]"]}),",'_left":ih({keys:[",","′"]}),",'_right":nh({keys:[",","′"],typedText:"'"}),'"':ke({}),"'":ke({}),"~":ke({}),":":ke({}),">":ke({}),"<":ke({}),">=":ke({content:"\\ge"}),"<=":ke({content:"\\le"}),"!%_left":ih({keys:["!","{}^{%}"]}),"!%_right":nh({keys:["!","{}^{%}"],typedText:"%"}),"~:_left":ih({keys:["~","{}^{:}"]}),"~:_right":nh({keys:["~","{}^{:}"],typedText:":"}),"audio-trace-off":Q8({contentKey:"graphing-calculator-button-keypad-audio-trace-off",command:"off"}),"hear-graph":(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),disabled:or(n.disabled,!1),colspan:or(n.colspan,1),style:or(n.style,"blue"),onTap:()=>{t({type:"keypad/audio-trace",command:"hear-graph"})}},Q.createElement("span",{class:Q.const("dcg-play-icon-container")},Q.createElement("i",{class:Q.const("dcg-icon-play"),"aria-hidden":Q.const("true")})),Q.createElement("span",null,(()=>r("graphing-calculator-button-audio-trace-hear-graph")))),"stop-graph":(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),disabled:or(n.disabled,!1),colspan:or(n.colspan,1),style:or(n.style,"blue"),onTap:()=>{t({type:"keypad/audio-trace",command:"stop-graph"})}},Q.createElement("span",{class:Q.const("dcg-stop-icon-container")},Q.createElement("span",{class:Q.const("dcg-stop-icon")})),Q.createElement("span",null,(()=>r("graphing-calculator-button-audio-trace-stop-graph")))),"volume-down":(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("graphing-calculator-narration-keypad-key-volume-down"),disabled:or(n.disabled,!1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/audio-trace",command:"volume-down"})},Q.createElement("span",{class:Q.const("dcg-button-icon dcg-icon-only")},Q.createElement("i",{class:Q.const("dcg-icon-volume-down"),"aria-hidden":Q.const("true")}))),"volume-up":(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("graphing-calculator-narration-keypad-key-volume-up"),disabled:or(n.disabled,!1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/audio-trace",command:"volume-up"})},Q.createElement("span",{class:Q.const("dcg-button-icon dcg-icon-only")},Q.createElement("i",{class:Q.const("dcg-icon-volume-up"),"aria-hidden":Q.const("true")}))),"speed-down":(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("graphing-calculator-narration-keypad-key-speed-down"),disabled:or(n.disabled,!1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/audio-trace",command:"speed-down"})},Q.createElement("span",{class:Q.const("dcg-button-icon dcg-icon-only")},Q.createElement("i",{class:Q.const("dcg-icon-hide"),"aria-hidden":Q.const("true")}))),"speed-up":(e,t,n={},r)=>Q.createElement(er,{command:Q.const(e),ariaLabel:()=>r("graphing-calculator-narration-keypad-key-speed-up"),disabled:or(n.disabled,!1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/audio-trace",command:"speed-up"})},Q.createElement("span",{class:Q.const("dcg-button-icon dcg-icon-only")},Q.createElement("i",{class:Q.const("dcg-icon-show"),"aria-hidden":Q.const("true")}))),"previous-point":(e,t,n={},r)=>Q.createElement(er,{ariaLabel:()=>r("graphing-calculator-narration-keypad-key-previous-point"),command:Q.const(e),disabled:or(n.disabled,!1),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/audio-trace",command:"previous-point"})},Q.createElement("span",{class:Q.const("dcg-button-icon dcg-icon-only")},Q.createElement("i",{class:Q.const("dcg-icon-thin-arrow-left"),"aria-hidden":Q.const("true")}))),"next-point":(e,t,n={},r)=>Q.createElement(er,{ariaLabel:()=>r("graphing-calculator-narration-keypad-key-next-point"),command:Q.const(e),disabled:or(n.disabled,!1),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/audio-trace",command:"next-point"})},Q.createElement("span",{class:Q.const("dcg-button-icon dcg-icon-only")},Q.createElement("i",{class:Q.const("dcg-icon-thin-arrow-right"),"aria-hidden":Q.const("true")}))),"previous-poi":(e,t,n={},r)=>Q.createElement(er,{ariaLabel:()=>r("graphing-calculator-narration-keypad-key-previous-poi"),command:Q.const(e),disabled:or(n.disabled,!1),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/audio-trace",command:"previous-poi"})},Q.createElement("span",{class:Q.const("dcg-button-icon dcg-icon-only")},Q.createElement("i",{class:Q.const("dcg-icon-hide"),"aria-hidden":Q.const("true")}))),"next-poi":(e,t,n={},r)=>Q.createElement(er,{ariaLabel:()=>r("graphing-calculator-narration-keypad-key-next-poi"),command:Q.const(e),disabled:or(n.disabled,!1),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/audio-trace",command:"next-poi"})},Q.createElement("span",{class:Q.const("dcg-button-icon dcg-icon-only")},Q.createElement("i",{class:Q.const("dcg-icon-show"),"aria-hidden":Q.const("true")}))),"previous-curve":(e,t,n={},r)=>Q.createElement(er,{ariaLabel:()=>r("graphing-calculator-narration-keypad-key-previous-curve"),command:Q.const(e),disabled:or(n.disabled,!1),colspan:or(n.colspan,1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/audio-trace",command:"previous-curve"})},Q.createElement("span",{class:Q.const("dcg-button-icon dcg-icon-only")},Q.createElement("i",{class:Q.const("dcg-icon-caret-up"),"aria-hidden":Q.const("true")}))),"next-curve":(e,t,n={},r)=>Q.createElement(er,{ariaLabel:()=>r("graphing-calculator-narration-keypad-key-next-curve"),command:Q.const(e),disabled:or(n.disabled,!1),style:()=>n.style||"default",onTap:()=>t({type:"keypad/audio-trace",command:"next-curve"})},Q.createElement("span",{class:Q.const("dcg-button-icon dcg-icon-only")},Q.createElement("i",{class:Q.const("dcg-icon-caret-down"),"aria-hidden":Q.const("true")})))};function C(e,t,n={}){let r=e.dispatch;return Z8[t](t,r,n,e.s)}function Hr(e=1){return Q.createElement("div",{style:Q.const(`flex-grow:${e}`)})}var Tv=__dcg_shared_module_exports__.i(ne()),c_=__dcg_shared_module_exports__.i(ne()),rc=class extends c_.Class{init(){this.controller=this.props.controller()}},qt=class extends rc{template(){return Tv.createElement("div",{class:Tv.const("dcg-basic-keypad dcg-do-not-blur")},this.children)}},oh=__dcg_shared_module_exports__.i(ne()),Ge=class extends oh.Class{template(){return oh.createElement("div",{class:oh.const("dcg-keypad-row")},this.children)}},Gv=class extends Fi{template(){return ah.createElement(qt,{controller:this.props.controller},ah.createElement(Ge,null,C(this,"q"),C(this,"w"),C(this,"e"),C(this,"r"),C(this,"t"),C(this,"y"),C(this,"u"),C(this,"i"),C(this,"o"),C(this,"p")),ah.createElement(Ge,null,C(this,"a"),C(this,"s"),C(this,"d"),C(this,"f"),C(this,"g"),C(this,"h"),C(this,"j"),C(this,"k"),C(this,"l"),C(this,"theta")),ah.createElement(Ge,null,C(this,"shift",{colspan:1.364,style:"highlight"}),Hr(.136),C(this,"z"),C(this,"x"),C(this,"c"),C(this,"v"),C(this,"b"),C(this,"n"),C(this,"m"),Hr(.136),C(this,"backspace",{colspan:1.364,style:"highlight"})),ah.createElement(Ge,null,C(this,"123",{colspan:1.818,style:"highlight"}),Hr(.182),C(this,"a_b"),C(this,"!%_left"),C(this,"[]_left"),C(this,"{}_left"),C(this,"~:_left"),C(this,",'_left"),Hr(.182),C(this,"enter",{colspan:1.818,style:"blue"})))}},sh=__dcg_shared_module_exports__.i(ne()),Av=class extends Fi{template(){return sh.createElement(qt,{controller:this.props.controller},sh.createElement(Ge,null,C(this,"Q"),C(this,"W"),C(this,"E"),C(this,"R"),C(this,"T"),C(this,"Y"),C(this,"U"),C(this,"I"),C(this,"O"),C(this,"P")),sh.createElement(Ge,null,C(this,"A"),C(this,"S"),C(this,"D"),C(this,"F"),C(this,"G"),C(this,"H"),C(this,"J"),C(this,"K"),C(this,"L"),C(this,"tau")),sh.createElement(Ge,null,C(this,"shift",{colspan:1.364,active:!0,style:"highlight"}),Hr(.136),C(this,"Z"),C(this,"X"),C(this,"C"),C(this,"V"),C(this,"B"),C(this,"N"),C(this,"M"),Hr(.136),C(this,"backspace",{colspan:1.364,style:"highlight"})),sh.createElement(Ge,null,C(this,"123",{colspan:1.818,style:"highlight"}),Hr(.182),C(this,"a^b"),C(this,"!%_right"),C(this,"[]_right"),C(this,"{}_right"),C(this,"~:_right"),C(this,",'_right"),Hr(.182),C(this,"enter",{colspan:1.818,style:"blue"})))}},ro=__dcg_shared_module_exports__.i(ne()),Vv=class extends Fi{template(){return ro.createElement(qt,{controller:this.props.controller},ro.createElement(Ge,null,C(this,"boldX"),C(this,"boldY"),C(this,"a^2"),C(this,"a^b"),Hr(.5),C(this,"7",{style:"highlight"}),C(this,"8",{style:"highlight"}),C(this,"9",{style:"highlight"}),C(this,"division"),Hr(.5),ro.createElement(er,{command:this.const("functions"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-functions"),colspan:this.const(2),style:this.const("highlight"),active:()=>this.controller.isKeypadFunctionsPopoverOpen(),onTap:()=>this.dispatch({type:"keypad/functions"}),ariaControls:this.const(`dcg-functions-popover-${Fi.uuid}`),ariaExpanded:()=>this.controller.isKeypadFunctionsPopoverOpen()},this.bindFn(this.getFuncsBtnText))),ro.createElement(Ge,null,C(this,"("),C(this,")"),C(this,"<"),C(this,">"),Hr(.5),C(this,"4",{style:"highlight"}),C(this,"5",{style:"highlight"}),C(this,"6",{style:"highlight"}),C(this,"multiplication"),Hr(.5),C(this,"left",{style:"highlight"}),C(this,"right",{style:"highlight"})),ro.createElement(Ge,null,C(this,"|a|"),C(this,","),C(this,"<="),C(this,">="),Hr(.5),C(this,"1",{style:"highlight"}),C(this,"2",{style:"highlight"}),C(this,"3",{style:"highlight"}),C(this,"-"),Hr(1),C(this,"backspace",{colspan:1.5,style:"highlight"})),ro.createElement(Ge,null,ro.createElement("div",{class:ro.const("dcg-abc-audio-container")},ro.createElement(er,{command:ro.const("ABC"),colspan:this.const(1),ariaLabel:()=>this.controller.s("graphing-calculator-narration-toggle-letters"),style:this.const("highlight"),onTap:()=>{this.dispatch({type:"keypad/abc"})}},(()=>this.controller.getLayoutMeasurements().width<=600?this.controller.raw("ABC"):this.controller.raw("A B C"))),ro.createElement(er,{command:ro.const("Audio"),disabled:()=>!this.controller.canAudioTrace(),ariaLabel:()=>this.controller.s("graphing-calculator-narration-toggle-audio-trace"),colspan:this.const(1),style:()=>"highlight",onTap:()=>this.dispatch({type:"keypad/audio-trace",command:"on"})},ro.createElement("i",{class:ro.const("dcg-icon-volume"),"aria-hidden":ro.const("true")}))),C(this,"sqrt"),C(this,"pi"),Hr(.5),C(this,"0",{style:"highlight"}),C(this,".",{style:"highlight"}),C(this,"="),C(this,"+"),Hr(.5),C(this,"enter",{colspan:2,style:"blue"})))}getFuncsBtnText(){return this.controller.isNarrow()?this.controller.s("graphing-calculator-button-funcs"):this.controller.s("graphing-calculator-button-functions")}},lh=__dcg_shared_module_exports__.i(ne()),Lv=class extends Fi{template(){return lh.createElement(qt,{controller:this.props.controller},lh.createElement(Ge,null,C(this,"a"),C(this,"b"),C(this,"c"),C(this,"d"),C(this,"e"),C(this,"f"),C(this,"g"),C(this,"h"),C(this,"i"),C(this,"j")),lh.createElement(Ge,null,C(this,"k"),C(this,"l"),C(this,"m"),C(this,"n"),C(this,"o"),C(this,"p"),C(this,"q"),C(this,"r"),C(this,"s"),C(this,"t")),lh.createElement(Ge,null,C(this,"shift",{style:"highlight"}),C(this,"u"),C(this,"v"),C(this,"w"),C(this,"x"),C(this,"y"),C(this,"z"),C(this,"theta"),C(this,"backspace",{colspan:2,style:"highlight"})),lh.createElement(Ge,null,C(this,"123",{colspan:2,style:"highlight"}),C(this,"a_b"),C(this,"!%_left"),C(this,"[]_left"),C(this,"{}_left"),C(this,"~:_left"),C(this,",'_left"),C(this,"enter",{colspan:2,style:"blue"})))}},ch=__dcg_shared_module_exports__.i(ne()),Pv=class extends Fi{template(){return ch.createElement(qt,{controller:this.props.controller},ch.createElement(Ge,null,C(this,"A"),C(this,"B"),C(this,"C"),C(this,"D"),C(this,"E"),C(this,"F"),C(this,"G"),C(this,"H"),C(this,"I"),C(this,"J")),ch.createElement(Ge,null,C(this,"K"),C(this,"L"),C(this,"M"),C(this,"N"),C(this,"O"),C(this,"P"),C(this,"Q"),C(this,"R"),C(this,"S"),C(this,"T")),ch.createElement(Ge,null,C(this,"shift",{style:"highlight"}),C(this,"U"),C(this,"V"),C(this,"W"),C(this,"X"),C(this,"Y"),C(this,"Z"),C(this,"tau"),C(this,"backspace",{colspan:2,style:"highlight"})),ch.createElement(Ge,null,C(this,"123",{colspan:2,style:"highlight"}),C(this,"a^b"),C(this,"!%_right"),C(this,"[]_right"),C(this,"{}_right"),C(this,"~:_right"),C(this,",'_right"),C(this,"enter",{colspan:2,style:"blue"})))}},Fe=__dcg_shared_module_exports__.i(ne()),{IfElse:e6}=Fe.Components,Ov=460,_v=class extends Fi{template(){return Fe.createElement(qt,{controller:this.props.controller},Fe.createElement("div",{class:Fe.const("dcg-audio-keypad-container")},Fe.createElement("div",{class:Fe.const("dcg-audio-keypad-column dcg-playback-column")},Fe.createElement(Ue,{tooltip:this.bindFn(this.getDisabledTooltipText),gravity:this.const("s"),sticky:this.const(!1)},Fe.createElement("div",{class:Fe.const("dcg-btn-playback")},e6((()=>this.controller.isAudioTracing()),{true:()=>C(this,"stop-graph",{disabled:this.bindFn(this.isAudioDisabled)}),false:()=>C(this,"hear-graph",{disabled:this.bindFn(this.isAudioDisabled)})}))),Fe.createElement("div",{class:Fe.const("dcg-key-nav-section-container")},Fe.createElement(Ue,{tooltip:this.bindFn(this.getDisabledTooltipText),class:this.const("dcg-volume-button-container"),gravity:this.const("s"),sticky:this.const(!1)},Fe.createElement("div",{class:Fe.const("dcg-key-nav-section")},C(this,"volume-down",{disabled:this.bindFn(this.isVolumeDownDisabled)}),Fe.createElement("div",{role:Fe.const("heading"),"aria-level":Fe.const("2"),class:()=>({"dcg-key-nav-section-title-container":!0,"dcg-disabled":this.isAudioDisabled()})},Fe.createElement("span",{class:Fe.const("dcg-key-nav-section-title")},(()=>this.controller.s("graphing-calculator-label-audio-trace-volume"))),Fe.createElement("span",{class:Fe.const("dcg-keypad-volume-value dcg-key-nav-section-value")},(()=>this.getAudioTraceVolume()))),C(this,"volume-up",{disabled:this.bindFn(this.isVolumeUpDisabled)})))),Fe.createElement("div",{class:Fe.const("dcg-key-nav-section-container")},Fe.createElement(Ue,{tooltip:this.bindFn(this.getDisabledTooltipText),gravity:this.const("s"),sticky:this.const(!1)},Fe.createElement("div",{class:Fe.const("dcg-key-nav-section")},C(this,"speed-down",{disabled:this.bindFn(this.isSpeedDownDisabled)}),Fe.createElement("div",{class:()=>({"dcg-key-nav-section-title-container":!0,"dcg-disabled":this.isAudioDisabled()}),role:Fe.const("heading"),"aria-level":Fe.const("2")},Fe.createElement("span",{class:Fe.const("dcg-key-nav-section-title")},(()=>this.controller.s("graphing-calculator-label-audio-trace-speed"))),Fe.createElement("span",{class:Fe.const("dcg-keypad-speed-value dcg-key-nav-section-value")},(()=>this.getAudioTraceSpeed()))),C(this,"speed-up",{disabled:this.bindFn(this.isSpeedUpDisabled)})))),C(this,"audio-trace-off",{style:"highlight"})),Fe.createElement("div",{class:Fe.const("dcg-audio-keypad-spacer")}),Fe.createElement("div",{class:Fe.const("dcg-audio-keypad-column dcg-navigation-column")},Fe.createElement("span",{class:Fe.const("dcg-key-section-title dcg-center-col"),role:Fe.const("heading"),"aria-level":Fe.const("2")},(()=>this.controller.s("graphing-calculator-heading-audio-trace-navigation"))),Fe.createElement("div",{class:Fe.const("dcg-key-nav-section dcg-center-col")},C(this,"previous-point",{disabled:this.bindFn(this.isPrevPointDisabled)}),Fe.createElement("div",{class:Fe.const("dcg-key-nav-section-title-container"),role:Fe.const("heading"),"aria-level":Fe.const("2")},(()=>this.controller.s("graphing-calculator-label-audio-trace-point"))),C(this,"next-point",{disabled:this.bindFn(this.isNextPointDisabled)})),Fe.createElement("div",{class:Fe.const("dcg-key-nav-section")},C(this,"previous-poi",{disabled:this.bindFn(this.isPrevPOIDisabled)}),Fe.createElement("div",{class:Fe.const("dcg-key-nav-section-title-container dcg-poi-section-container"),role:Fe.const("heading"),"aria-level":Fe.const("2")},Fe.createElement(Wp,{i18n:this.const(this.controller),key:this.const("graphing-calculator-heading-keypad-audio-trace-point-of-interest")},Fe.createElement("span",{class:Fe.const("dcg-key-nav-section-value")},Fe.const("Point")),Fe.createElement("span",{class:Fe.const("dcg-key-nav-section-title")},Fe.const("of Interest")))),C(this,"next-poi",{disabled:this.bindFn(this.isNextPOIDisabled)})),Fe.createElement("div",{class:Fe.const("dcg-key-nav-section dcg-center-col")},C(this,"previous-curve",{disabled:this.bindFn(this.isPrevCurveDisabled)}),Fe.createElement("div",{class:Fe.const("dcg-key-nav-section-title-container"),role:Fe.const("heading"),"aria-level":Fe.const("2")},(()=>this.controller.s("graphing-calculator-label-audio-trace-curve"))),C(this,"next-curve",{disabled:this.bindFn(this.isNextCurveDisabled)}))),Fe.createElement("div",{class:Fe.const("dcg-audio-keypad-spacer")}),Fe.createElement("div",{class:Fe.const("dcg-audio-keypad-column dcg-screenreader-options")},Fe.createElement("span",{class:Fe.const("dcg-key-section-title"),role:Fe.const("heading"),"aria-level":Fe.const("2")},(()=>this.layoutWidth()<=Ov?this.controller.s("graphing-calculator-heading-audio-trace-describe"):this.controller.s("graphing-calculator-heading-audio-trace-screen-reader")),Fe.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-audio-trace-need-screen-reader"),gravity:this.const("s"),sticky:this.const(!0)},Fe.createElement("i",{class:Fe.const("dcg-icon-question-sign"),"aria-hidden":Fe.const("true")}))),Fe.createElement(er,{command:Fe.const("describe-point"),colspan:this.const(1),style:this.const("default"),onTap:()=>{this.dispatch({type:"keypad/audio-trace",command:"describe-point"})}},Fe.createElement("span",null,(()=>this.layoutWidth()<=Ov?this.controller.s("graphing-calculator-button-keypad-describe-point-short"):this.controller.s("graphing-calculator-button-keypad-describe-point")))),Fe.createElement(er,{command:Fe.const("describe-curve"),colspan:this.const(1),style:this.const("default"),onTap:()=>{this.dispatch({type:"keypad/audio-trace",command:"describe-curve"})}},Fe.createElement("span",null,(()=>this.layoutWidth()<=Ov?this.controller.s("graphing-calculator-button-keypad-describe-curve-short"):this.controller.s("graphing-calculator-button-keypad-describe-curve")))),Fe.createElement(er,{command:Fe.const("describe-axes"),colspan:this.const(1),style:this.const("default"),onTap:()=>{this.dispatch({type:"keypad/audio-trace",command:"describe-axes"})}},Fe.createElement("span",null,(()=>this.layoutWidth()<=Ov?this.controller.s("graphing-calculator-label-axes"):this.controller.s("graphing-calculator-button-keypad-describe-axes")))))))}layoutWidth(){return this.controller.getLayoutMeasurements().width}isPrevPointDisabled(){let e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToPrevPoint()}isNextPointDisabled(){let e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToNextPoint()}isPrevPOIDisabled(){let e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToPrevPOI()}isNextPOIDisabled(){let e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToNextPOI()}isPrevCurveDisabled(){let e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToPrevCurve()}isNextCurveDisabled(){let e=this.controller.getAudioGraph();return!e||!e.agNavigator.canMoveToNextCurve()}isAudioDisabled(){return!this.controller.getAudio()}getAudioTraceVolume(){let e=this.controller.getAudioGraph();return!e||this.isAudioDisabled()?"0%":100*e.tonegen.getAudioVolume()+"%"}isVolumeDownDisabled(){let e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||e.tonegen.getAudioVolume()<=0}isVolumeUpDisabled(){let e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||e.tonegen.getAudioVolume()>=1}getAudioTraceSpeed(){let e=this.controller.getAudioGraph();return!e||this.isAudioDisabled()?"0":lf[e.getAudioSpeedIndex()].displayedSpeed}isSpeedDownDisabled(){let e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||e.getAudioSpeedIndex()<=0}isSpeedUpDisabled(){let e=this.controller.getAudioGraph();return!(e&&!this.isAudioDisabled())||e.getAudioSpeedIndex()===lf.length-1}getDisabledTooltipText(){return this.isAudioDisabled()?this.controller.s("graphing-calculator-narration-audio-trace-sound-effects-disabled"):""}},wr=__dcg_shared_module_exports__.i(ne()),{If:kk,For:d_}=wr.Components,Fv=class extends Fi{template(){return wr.createElement("div",{class:wr.const("dcg-functions-popover dcg-popover dcg-top"),id:this.const(`dcg-functions-popover-${Fi.uuid}`),role:wr.const("group"),"aria-label":()=>this.controller.s("graphing-calculator-button-functions")},wr.createElement("div",{class:wr.const("dcg-popover-interior")},wr.createElement("div",{class:wr.const("dcg-interior-buttons")},wr.createElement(d_,{each:this.bindFn(this.getKeypadKeys),key:e=>e.id},wr.createElement("div",{class:wr.const("dcg-basic-keypad dcg-do-not-blur")},(e=>wr.createElement("div",{class:wr.const("dcg-keypad-keys-section")},wr.createElement(kk,{predicate:()=>void 0!==e.title},(()=>wr.createElement("div",{class:wr.const("dcg-section-heading"),role:wr.const("heading"),"aria-level":wr.const("2")},(()=>e.title),wr.createElement(kk,{predicate:()=>!!e.helpLink},(()=>wr.createElement("a",{href:()=>e.helpLink.url,target:wr.const("_blank"),"aria-label":()=>e.helpLink.tooltip},wr.createElement("i",{class:wr.const("dcg-icon-question-sign"),"aria-hidden":wr.const("true")}))))))),wr.createElement(kk,{predicate:()=>void 0===e.title},(()=>wr.createElement("div",{class:wr.const("dcg-popover-section-separator"),role:wr.const("separator")}))),wr.createElement(d_,{each:()=>e.keys},wr.createElement("div",{class:wr.const("dcg-keypad-keys-buttons")},(e=>this.b(e)))))))))),wr.createElement("div",{class:wr.const("dcg-arrow")}))}getInverseTrigSection(){let e=this.controller.areFunctionsRestricted()?["arcsin","arccos","arctan"]:["arcsin","arccos","arctan","arccsc","arcsec","arccot"];return{id:"inversetrig",title:this.controller.s("graphing-calculator-heading-inverse-trig"),keys:e}}getGeometryMethods(){let e=!this.controller.areFunctionsRestricted()||this.controller.areGeometryFunctionsForceEnabled()?["polygon","distance","midpoint"]:["polygon"];return{id:"geometry",title:this.controller.s("graphing-calculator-heading-geometry"),keys:e}}getTrigSection(){let e=this.controller.areFunctionsRestricted()?["sin","cos","tan"]:["sin","cos","tan","csc","sec","cot"];return{id:"trig",title:this.controller.s("graphing-calculator-heading-trig"),keys:e}}getHyperbolicTrigSection(){let e=this.controller.areFunctionsRestricted()?["sinh","cosh","tanh"]:["sinh","cosh","tanh","csch","sech","coth"];return{id:"hyperbtrig",title:this.controller.s("graphing-calculator-heading-hyperbolic-trig"),keys:e}}getListFunctions(){return{id:"lists",title:this.controller.s("graphing-calculator-heading-lists"),keys:["join","sort","shuffle","unique","for"]}}getStatTests(){return{id:"stat-tests",title:this.controller.s("graphing-calculator-heading-stat-tests"),keys:["ttest","tscore","ittest"]}}getStatsSection(){let e=["mean","median","min","max","quartile","quantile","stdev","stdevp","var"];return this.controller.areFunctionsRestricted()||(e=e.concat(["mad","cov","covp"])),e=e.concat(["corr","spearman","stats","length","total"]),{id:"stats",title:this.controller.s("graphing-calculator-heading-stats"),keys:e}}getMiscSection(){return{title:this.controller.s("graphing-calculator-button-functions-menu-number-theory"),id:"misc",keys:["lcm","gcd","mod","ceil","floor","round","sign","nthroot","nPr","nCr"]}}getVisualizationsSection(){return{title:this.controller.s("graphing-calculator-heading-dist-tab-visualizations"),id:"visualizations",keys:["histogram","dotplot","boxplot"],helpLink:{url:"https://help.desmos.com/hc/en-us/articles/360022405991-Data-Visualizations",tooltip:this.controller.s("graphing-calculator-narration-dist-tab-visualizations")}}}getCalculusSection(){return{title:this.controller.s("graphing-calculator-heading-calculus"),id:"calculus",keys:["exp","ln","log","loga","ddx","prime","integral","sum","prod"]}}getDistributionsSection(){return{title:this.controller.s("graphing-calculator-heading-dist-tab-distributions"),id:"distributions",keys:["normaldist","tdist","poissondist","binomialdist","uniformdist","pdf","cdf","inversecdf","random"],helpLink:{url:"https://help.desmos.com/hc/en-us/articles/360022401451-Distributions",tooltip:this.controller.s("graphing-calculator-narration-dist-tab-distributions")}}}getColorsSection(){return{title:this.controller.s("graphing-calculator-button-functions-menu-custom-colors"),id:"colors",keys:["rgb","hsv"],helpLink:{url:"https://help.desmos.com/hc/en-us/articles/4406795899533-Custom-Colors",tooltip:this.controller.s("graphing-calculator-button-functions-menu-custom-colors")}}}getAdvancedSection(){return{title:this.controller.s("graphing-calculator-heading-functions-menu-advanced"),id:"advanced",keys:["->","with"],helpLink:{url:"https://help.desmos.com/hc/en-us/sections/4406370087053-Advanced-Features",tooltip:this.controller.s("graphing-calculator-heading-functions-menu-advanced")}}}getKeypadKeys(){let e=[this.getTrigSection(),this.getInverseTrigSection(),this.getStatsSection(),this.getListFunctions()];return this.controller.areDistributionsEnabled()&&(e.push(this.getVisualizationsSection()),e.push(this.getDistributionsSection()),e.push(this.getStatTests())),e.push(this.getCalculusSection()),e.push(this.getHyperbolicTrigSection()),e.push(this.getGeometryMethods()),e.push(this.getColorsSection()),e.push(this.getMiscSection()),this.controller.areActionsEnabled()&&e.push(this.getAdvancedSection()),e}b(e){return C(this,e,{style:"popover"})}};at();var{SwitchUnion:t6,If:Ik}=Mt.Components,Rv=class extends Fi{template(){return Mt.createElement("div",{class:Mt.const("dcg-keypad"),role:Mt.const("region"),"aria-label":()=>this.controller.s("shared-calculator-narration-keypad")},Mt.createElement("div",{class:()=>({"dcg-keys-container":!0,"dcg-smaller-functions-text":this.controller.getLayoutMeasurements().width<650,"dcg-small-ABC":this.controller.getLayoutMeasurements().width<490,"dcg-smaller-ABC":this.controller.getLayoutMeasurements().width<420,"dcg-smallest-ABC":this.controller.getLayoutMeasurements().width<380}),style:this.bindFn(this.computeStyles),didMount:this.bindFn(this.didMountContainer),"aria-hidden":()=>!this.controller.isKeypadOpen()},Mt.createElement("div",{class:Mt.const("dcg-keys-background dcg-do-not-blur"),style:()=>({background:this.controller.getPillboxBackgroundColor()})},Mt.createElement("div",{class:Mt.const("dcg-keys")},t6((()=>this.controller.getKeypadLayout()),{letters:()=>Mt.createElement(Gv,{controller:this.props.controller}),capitalLetters:()=>Mt.createElement(Av,{controller:this.props.controller}),mainNumbers:()=>Mt.createElement(Vv,{controller:this.props.controller}),noQwertyLetters:()=>Mt.createElement(Lv,{controller:this.props.controller}),noQwertyCapitalLetters:()=>Mt.createElement(Pv,{controller:this.props.controller}),audio:()=>Mt.createElement(_v,{controller:this.props.controller})}),Mt.createElement(Ik,{predicate:()=>this.controller.isKeypadFunctionsPopoverOpen()},(()=>Mt.createElement(Fv,{controller:this.props.controller})))),Mt.createElement(Ik,{predicate:()=>this.controller.isHideKeypadButtonVisible()},(()=>Mt.createElement("div",{class:Mt.const("dcg-minimize-keypad-container")},Mt.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-hide-keypad"),gravity:this.const("ne"),offset:this.const({left:6})},Mt.createElement("div",{role:Mt.const("button"),"aria-expanded":Mt.const("true"),"aria-controls":this.const(Fi.uuid),"aria-label":()=>this.controller.s("graphing-calculator-label-hide-keypad"),class:Mt.const("dcg-minimize-keypad"),style:()=>({"border-bottom-color":this.controller.getPillboxBackgroundColor(),background:this.controller.getPillboxBackgroundColor()}),onTap:()=>{this.controller.dispatch({type:"keypad/set-minimized",minimized:!0})}},Mt.createElement("i",{class:Mt.const("dcg-icon-keyboard"),"aria-hidden":Mt.const("true")}),Mt.createElement("i",{class:Mt.const("dcg-icon-caret-down"),"aria-hidden":Mt.const("true")})))))))),Mt.createElement(Ik,{predicate:this.bindFn(this.isShowKeypadButtonVisible)},(()=>Mt.createElement("div",{class:Mt.const("dcg-show-keypad-container")},Mt.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-show-keypad"),gravity:this.const("ne")},Mt.createElement("div",{role:Mt.const("button"),"aria-expanded":Mt.const("false"),"aria-controls":this.const(Fi.uuid),"aria-label":()=>this.controller.s("graphing-calculator-label-show-keypad"),class:Mt.const("dcg-btn-flat-gray dcg-show-keypad dcg-do-not-blur"),style:()=>({background:this.controller.getPillboxBackgroundColor()}),onTap:()=>{this.controller.dispatch({type:"keypad/set-minimized",minimized:!1})}},Mt.createElement("i",{class:Mt.const("dcg-icon-keyboard"),"aria-hidden":Mt.const("true")}),Mt.createElement("i",{class:Mt.const("dcg-icon-caret-up dcg-do-not-blur"),"aria-hidden":Mt.const("true")})))))))}didMountContainer(e){this.containerElt=e}isShowKeypadButtonVisible(){return"none"===this.controller.getBrailleMode()&&(!this.controller.isKeypadOpen()&&!this.controller.isNarrow()&&!this.controller.isInEditListMode()&&(this.controller.isListVisible()||this.controller.inAudioTraceMode()))}didMount(){this.updatePopoverPosition()}didUpdate(){this.updatePopoverPosition()}computeStyles(){let e={};return this.controller.isNarrow()||(e.transition="transform .3s, opacity .3s"),this.controller.isKeypadOpen()||(e.opacity="0",e.transform="translate3d(0, 255px, 0)"),e}updatePopoverPosition(){if(!this.controller.isKeypadFunctionsPopoverOpen())return void(this.__popoverCache=void 0);let e=this.controller.computeMajorLayout(),t={keypadTop:e.keypad.top,keypadWidth:e.keypad.width,keypadHeight:e.keypad.height,showToLeft:e.grapher.height<525};if(__dcg_shared_module_exports__.Ea(t,this.__popoverCache))return;this.__popoverCache=t;let n=P(this.containerElt),r=n.find("[dcg-command=functions]"),i=n.find(".dcg-functions-popover"),o=n.find(".dcg-arrow");if(t.showToLeft){i.removeClass("dcg-top").addClass("dcg-left");var a=t.keypadHeight-(r.offset().top-n.offset().top)-r.outerHeight()/2-2-10;o.css({left:"auto",bottom:a})}else i.removeClass("dcg-left").addClass("dcg-top"),o.css({left:i.width()-r.width()/2,bottom:"auto"})}},vn=__dcg_shared_module_exports__.i(ne()),Or=__dcg_shared_module_exports__.i(ne()),{SwitchUnion:r6}=Or.Components,Fm=class extends Or.Class{template(){return this.controller=this.props.controller(),r6((()=>this.controller.getBrandingMode()),{"static-edit-link":()=>Or.createElement("div",{class:Or.const("dcg-graphpaper-branding")},Or.createElement("a",{href:()=>this.controller.getEditLink(),target:Or.const("_blank")},Or.createElement("span",{class:Or.const("dcg-powered-by"),"aria-label":()=>this.controller.s("graphing-calculator-narration-edit-on-desmos")},(()=>this.controller.s("graphing-calculator-link-edit-on-desmos"))),Or.createElement("i",{class:Or.const("dcg-icon-desmos"),"aria-hidden":Or.const("true")}))),"edit-link":()=>Or.createElement("div",{class:Or.const("dcg-graphpaper-branding")},Or.createElement("span",{class:Or.const("dcg-edit-branding"),onTap:()=>this.controller.dispatch({type:"open-on-web"})},Or.createElement("span",{class:Or.const("dcg-powered-by"),"aria-label":()=>this.controller.s("graphing-calculator-narration-edit-on-desmos")},(()=>this.controller.s("graphing-calculator-link-edit-on-desmos"))),Or.createElement("i",{class:Or.const("dcg-icon-desmos"),"aria-hidden":Or.const("true")}))),"powered-by":()=>Or.createElement("div",{class:Or.const("dcg-graphpaper-branding dcg-unclickable")},Or.createElement("span",{class:Or.const("dcg-powered-by"),"aria-label":()=>this.controller.s("graphing-calculator-narration-powered-by-desmos")},(()=>this.controller.s("graphing-calculator-label-powered-by"))),Or.createElement("i",{class:Or.const("dcg-icon-desmos"),"aria-hidden":Or.const("true")}))})}},oe=__dcg_shared_module_exports__.i(ne());at();var Ss=__dcg_shared_module_exports__.i(ne()),_d=class extends Ss.Class{template(){return Ss.createElement(Ue,{tooltip:()=>this.props.controller().s("shared-calculator-label-toast-learn-more")},Ss.createElement("a",{"aria-label":()=>this.props.controller().s("shared-calculator-label-toast-learn-more"),class:Ss.const("dcg-learn-more-link"),href:this.props.href,target:Ss.const("_blank")},Ss.createElement("i",{class:Ss.const("dcg-icon-question-sign"),"aria-hidden":Ss.const("true")})))}},Un=__dcg_shared_module_exports__.i(ne()),{If:i6}=Un.Components,ic=class extends Un.Class{init(){this.controller=this.props.controller()}template(){return Un.createElement(Ue,{tooltip:this.bindFn(this.getTooltip),gravity:this.const("w")},Un.createElement("div",{class:()=>({"dcg-action-settings":!0,"dcg-icon-btn":!0,"dcg-btn-flat-gray":this.isPillbox(),"dcg-settings-pillbox":this.isPillbox()}),style:()=>({background:this.isPillbox()?this.controller.getPillboxBackgroundColor():void 0}),role:Un.const("button"),tabindex:Un.const("0"),"aria-haspopup":Un.const("true"),"aria-expanded":()=>this.controller.isGraphSettingsOpen(),"aria-label":this.bindFn(this.getTooltip),onTap:this.bindFn(this.onTapSettingsButton),manageFocus:this.const(ut({controller:this.controller,location:{type:"settings",location:"icon"}}))},Un.createElement("i",{class:Un.const("dcg-icon-wrench"),"aria-hidden":Un.const("true")}),Un.createElement(i6,{predicate:()=>this.controller.getLockViewportUserSetting()},(()=>Un.createElement("i",{class:Un.const("dcg-icon-lock"),"aria-hidden":Un.const("true")})))))}getTooltip(){return this.controller.isGeometry()?this.controller.s("graphing-calculator-label-tooltip-geometry-settings"):this.controller.s("graphing-calculator-label-tooltip-graph-settings")}isPillbox(){return this.props.isPillbox&&this.props.isPillbox()}onTapSettingsButton(e){this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:"keyboard"===e.device})}},{Input:u_,If:Ao,IfElse:p_}=oe.Components,Bc=class extends oe.Class{template(){return oe.createElement(Ir,{isFocused:()=>this.props.parent().getFocusedLimit()===this.props.limit(),latex:()=>this.props.parent().getLimitLatex(this.props.limit()),ariaLabel:this.props.ariaLabel,handleLatexChanged:e=>this.props.parent().setLimitLatex(this.props.limit(),e),handleFocusChanged:e=>this.props.parent().onFocusedChanged(this.props.limit(),e),hasError:()=>this.props.parent().isLimitInvalid(this.props.limit()),dataLabelAttributeValue:this.props.limit,controller:this.props.controller,readonly:this.const(!1),containerClass:()=>({"dcg-log-scale":"logarithmic"===this.props.axisScale()})})}},Rm=class extends oe.Class{init(){this.controller=this.props.controller(),this.uuid=bp()}template(){return oe.createElement("div",{class:oe.const("dcg-settings-view-container")},oe.createElement(ic,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isPillbox:this.const(!0)})),oe.createElement(Ao,{predicate:()=>this.controller.isGraphSettingsOpen()},(()=>oe.createElement("div",{class:oe.const("dcg-settings-container dcg-left dcg-popover dcg-constrained-height-popover"),style:this.bindFn(this.getContainerStyle),didMount:this.bindFn(this.didMountContainer),didUnmount:this.bindFn(this.didUnmountContainer)},oe.createElement("div",{class:oe.const("dcg-popover-interior"),role:oe.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-label-tooltip-graph-settings")},oe.createElement("div",{class:oe.const("dcg-visual-settings")},oe.createElement("div",{class:oe.const("dcg-displaysizegroup")},oe.createElement(Oi,{ariaGroupLabel:()=>this.controller.s("shared-calculator-narration-settings-display-size"),staticConfig:this.bindFn(this.getProjectorModeOptions)})),oe.createElement(kt,{onChange:this.bindFn(this.toggleInvertedColors),checked:()=>this.controller.getInvertedColors(),manageFocus:this.const(ut({controller:this.controller,location:{type:"settings",location:"reverse-contrast"}}))},(()=>this.controller.s("graphing-calculator-label-settings-reverse-contrast"))),oe.createElement(Ao,{predicate:()=>this.controller.getBrailleControls()},(()=>oe.createElement("div",{class:oe.const("dcg-braille-container dcg-braille-mode")},oe.createElement(kt,{onChange:this.bindFn(this.toggleBrailleMode),checked:()=>"none"!==this.controller.getBrailleMode()},(()=>this.controller.s("shared-calculator-narration-braille-mode"))),oe.createElement(Ao,{predicate:()=>"none"!==this.controller.getBrailleMode()},(()=>oe.createElement("div",{class:oe.const("dcg-braille-options-container")},oe.createElement("div",{class:oe.const("dcg-braille-options-buttons")},oe.createElement(Oi,{ariaGroupLabel:()=>this.controller.s("shared-calculator-narration-braille-mode"),staticConfig:this.bindFn(this.getBrailleOptions)})),oe.createElement("div",{class:oe.const("dcg-checkbox-title dcg-six-key-checkbox")},oe.createElement(kt,{onChange:e=>this.controller.dispatch({type:"set-six-key-input",useSixKeyInput:e}),checked:()=>this.controller.getSixKeyInput()},(()=>this.controller.s("graphing-calculator-label-settings-six-key-braille"))),oe.createElement("a",{href:oe.const("https://www.desmos.com/accessibility#braille"),"aria-label":()=>this.controller.s("graphing-calculator-link-learn-more"),class:oe.const("dcg-six-key-info"),target:oe.const("_blank")},oe.createElement("i",{class:oe.const("dcg-icon-question-sign"),"aria-hidden":oe.const("true")}))),oe.createElement("div",{class:oe.const("dcg-refreshable-braille-note")},(()=>this.controller.s("graphing-calculator-text-refreshable-braille-display-note")+" "),oe.createElement("a",{href:()=>"https://www.desmos.com/braille-examples?"+this.controller.getBrailleMode(),target:oe.const("_blank")},(()=>this.controller.s("graphing-calculator-link-view-braille-examples"))))))))))),oe.createElement("div",{class:oe.const("dcg-top-section-flex dcg-grid-settings-container")},oe.createElement("div",{class:oe.const("dcg-grid-settings")},oe.createElement(kt,{class:this.const("dcg-settings-grid-toggle"),onChange:this.bindFn(this.toggleGrid),checked:this.bindFn(this.getShowGrid)},(()=>this.controller.s("graphing-calculator-label-settings-grid"))),oe.createElement(Ao,{predicate:this.bindFn(this.getShowGrid)},(()=>oe.createElement("div",{class:oe.const("dcg-circle-icon-group dcg-grid-group")},oe.createElement("div",{class:()=>({"dcg-circle-icon":!0,"dcg-action-cartesian":!0,"dcg-selected":!this.getPolarMode()}),role:oe.const("button"),tabindex:oe.const("0"),"aria-pressed":()=>!this.getPolarMode(),"aria-label":()=>this.controller.s("graphing-calculator-narration-settings-cartesian-grid"),onTap:this.bindFn(this.setCartesianMode)}),oe.const(" "),oe.createElement("div",{class:()=>({"dcg-circle-icon":!0,"dcg-action-polar":!0,"dcg-selected":this.getPolarMode()}),role:oe.const("button"),tabindex:oe.const("0"),"aria-pressed":()=>this.getPolarMode(),"aria-label":()=>this.controller.s("graphing-calculator-narration-settings-polar-grid"),onTap:this.bindFn(this.setPolarMode)})))),oe.createElement(kt,{onChange:this.bindFn(this.toggleArrows),checked:()=>"NONE"!==this.getAxisArrowMode()},(()=>this.controller.s("graphing-calculator-label-settings-arrows"))),oe.createElement(Ao,{predicate:()=>"NONE"!==this.getAxisArrowMode()},(()=>oe.createElement("div",{class:oe.const("dcg-circle-icon-group dcg-arrow-group")},oe.createElement("div",{role:oe.const("button"),tabindex:oe.const("0"),class:()=>({"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-selected":"BOTH"===this.getAxisArrowMode()}),"dcg-arrows":oe.const("BOTH"),"aria-label":()=>this.controller.s("graphing-calculator-narration-settings-show-both"),"aria-pressed":()=>"BOTH"===this.getAxisArrowMode(),onTap:()=>this.setAxisArrowMode("BOTH")},oe.createElement("i",{class:oe.const("dcg-icon-arrows-two"),"aria-hidden":oe.const("true")})),oe.const(" "),oe.createElement("div",{role:oe.const("button"),tabindex:oe.const("0"),class:()=>({"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-selected":"POSITIVE"===this.getAxisArrowMode()}),"dcg-arrows":oe.const("POSITIVE"),"aria-label":()=>this.controller.s("graphing-calculator-narration-settings-show-positive"),"aria-pressed":()=>"POSITIVE"===this.getAxisArrowMode(),onTap:()=>this.setAxisArrowMode("POSITIVE")},oe.createElement("i",{class:oe.const("dcg-icon-arrows-one"),"aria-hidden":oe.const("true")})))))),oe.createElement("div",{class:oe.const("dcg-top-checkboxes-container")},oe.createElement(kt,{onChange:this.bindFn(this.toggleAxisNumbers),checked:this.bindFn(this.getAxisNumbers),small:this.const(!0)},(()=>this.controller.s("graphing-calculator-label-settings-axis-numbers"))),oe.createElement(Ao,{predicate:()=>this.getShowGrid()&&!this.getPolarMode()},(()=>oe.createElement(kt,{onChange:this.bindFn(this.toggleMinorGridlines),checked:this.bindFn(this.getMinorGridlines),small:this.const(!0)},(()=>this.controller.s("graphing-calculator-label-settings-minor-gridlines"))))),oe.createElement(Ao,{predicate:()=>this.controller.canUseAdvancedStyling()&&!this.getPolarMode()},(()=>oe.createElement(kt,{checked:()=>this.controller.getGraphSettings().restrictGridToFirstQuadrant,ariaLabel:this.const("One Quadrant"),onChange:e=>this.controller.dispatch({type:"set-graph-settings",restrictGridToFirstQuadrant:e}),small:this.const(!0)},(()=>this.controller.s("graphing-calculator-label-settings-one-quadrant"))))),oe.createElement(Ao,{predicate:this.bindFn(this.showZoomSquareButton)},(()=>oe.createElement("div",{role:oe.const("button"),tabindex:oe.const("0"),class:oe.const("dcg-action-zoom-square dcg-btn-light-gray"),onTap:this.bindFn(this.zoomSquare)},(()=>this.controller.s("graphing-calculator-button-settings-zoom-square"))))))),oe.createElement("div",{class:oe.const("dcg-axes-settings-container")},oe.createElement("div",{class:oe.const("dcg-checkbox-title dcg-x-axis-title")},oe.createElement(kt,{onChange:this.bindFn(this.toggleXAxis),checked:this.bindFn(this.getShowXAxis)},oe.createElement("span",{id:this.const(`x-axis-description-${this.uuid}`)},(()=>this.controller.s("graphing-calculator-label-settings-x-axis")))),oe.createElement(Ao,{predicate:this.bindFn(this.getShowXAxis)},(()=>oe.createElement("div",{class:oe.const("dcg-axis-label")},oe.createElement("label",{for:this.const(`x-axis-label-${this.uuid}`)},(()=>this.controller.s("graphing-calculator-button-label"))),oe.createElement(u_,{class:this.const("dcg-x-axis-label"),disabled:()=>!this.getShowXAxis()||void 0,"aria-describedby":this.const(`x-axis-description-${this.uuid}`),onInput:this.bindFn(this.onXAxisLabelInput),value:this.bindFn(this.getXAxisLabel),id:this.const(`x-axis-label-${this.uuid}`),placeholder:()=>this.controller.s("graphing-calculator-narration-settings-x-axis-label-placeholder")}))))),oe.createElement("div",{class:oe.const("dcg-editable-mathquill-container dcg-x-axis-options")},oe.createElement(Bc,{limit:this.const("xmin"),axisScale:()=>this.getAxisScale("x"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-settings-x-axis-min"),needsSystemKeypad:()=>!this.controller.isKeypadEnabled(),parent:this.const(this),controller:this.props.controller}),oe.createElement(ze,{config:this.const({}),latex:this.const("\\le x\\le")},oe.createElement("span",{class:oe.const("dcg-interval-interior")})),oe.createElement(Bc,{limit:this.const("xmax"),axisScale:()=>this.getAxisScale("x"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-settings-x-axis-max"),needsSystemKeypad:()=>!this.controller.isKeypadEnabled(),parent:this.const(this),controller:this.props.controller}),oe.createElement(Ao,{predicate:()=>!this.getPolarMode()},(()=>p_((()=>"linear"===this.getAxisScale("x")),{true:()=>oe.createElement("span",{class:oe.const("dcg-step-container")},oe.createElement("span",{class:oe.const("dcg-step-label"),"aria-hidden":oe.const("true")},(()=>this.controller.s("graphing-calculator-label-settings-step"))),oe.createElement(Bc,{limit:this.const("xstep"),axisScale:this.const("linear"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-settings-x-axis-step"),needsSystemKeypad:()=>!this.controller.isKeypadEnabled(),parent:this.const(this),controller:this.props.controller})),false:()=>oe.createElement("span",{style:oe.const("display: none")})}))),oe.createElement(Ao,{predicate:()=>this.shouldShowLogScalesOption()},(()=>oe.createElement("div",{class:oe.const("dcg-logarithmic-scale-checkbox")},oe.createElement(kt,{ariaLabel:()=>this.controller.s("graphing-calculator-narration-settings-x-axis-logarithmic-scale"),onChange:()=>{this.setAxisScale({axis:"x",scale:"linear"===this.getAxisScale("x")?"logarithmic":"linear"})},checked:()=>"logarithmic"===this.getAxisScale("x"),small:this.const(!0)},(()=>this.controller.s("graphing-calculator-label-settings-logarithmic-scale"))))))),oe.createElement("div",{class:oe.const("dcg-checkbox-title dcg-y-axis-title")},oe.createElement(kt,{onChange:this.bindFn(this.toggleYAxis),checked:this.bindFn(this.getShowYAxis)},oe.createElement("span",{id:this.const(`y-axis-description-${this.uuid}`)},(()=>this.controller.s("graphing-calculator-label-settings-y-axis")))),oe.createElement(Ao,{predicate:this.bindFn(this.getShowYAxis)},(()=>oe.createElement("div",{class:oe.const("dcg-axis-label")},oe.createElement("label",{for:this.const(`y-axis-label-${this.uuid}`)},(()=>this.controller.s("graphing-calculator-button-label"))),oe.createElement(u_,{class:this.const("dcg-y-axis-label"),onInput:this.bindFn(this.onYAxisLabelInput),value:this.bindFn(this.getYAxisLabel),"aria-describedby":this.const(`y-axis-description-${this.uuid}`),id:this.const(`y-axis-label-${this.uuid}`),placeholder:()=>this.controller.s("graphing-calculator-narration-settings-y-axis-label-placeholder")}))))),oe.createElement("div",{class:oe.const("dcg-editable-mathquill-container dcg-y-axis-options")},oe.createElement(Bc,{limit:this.const("ymin"),axisScale:()=>this.getAxisScale("y"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-settings-y-axis-min"),needsSystemKeypad:()=>!this.controller.isKeypadEnabled(),parent:this.const(this),controller:this.props.controller}),oe.createElement(ze,{config:this.const({}),latex:this.const("\\le y\\le")},oe.createElement("span",{class:oe.const("dcg-interval-interior")})),oe.createElement(Bc,{limit:this.const("ymax"),axisScale:()=>this.getAxisScale("y"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-settings-y-axis-max"),needsSystemKeypad:()=>!this.controller.isKeypadEnabled(),parent:this.const(this),controller:this.props.controller}),oe.createElement(Ao,{predicate:()=>!this.getPolarMode()},(()=>p_((()=>"linear"===this.getAxisScale("y")),{true:()=>oe.createElement("span",{class:oe.const("dcg-step-container")},oe.createElement("span",{class:oe.const("dcg-step-label"),"aria-hidden":oe.const("true")},(()=>this.controller.s("graphing-calculator-label-settings-step"))),oe.createElement(Bc,{limit:this.const("ystep"),axisScale:this.const("linear"),ariaLabel:()=>this.controller.s("graphing-calculator-narration-settings-y-axis-step"),needsSystemKeypad:()=>!this.controller.isKeypadEnabled(),parent:this.const(this),controller:this.props.controller})),false:()=>oe.createElement("span",{style:oe.const("display: none")})}))),oe.createElement(Ao,{predicate:()=>this.shouldShowLogScalesOption()},(()=>oe.createElement("div",{class:oe.const("dcg-logarithmic-scale-checkbox")},oe.createElement(kt,{ariaLabel:()=>this.controller.s("graphing-calculator-narration-settings-y-axis-logarithmic-scale"),onChange:()=>{this.setAxisScale({axis:"y",scale:"linear"===this.getAxisScale("y")?"logarithmic":"linear"})},checked:()=>"logarithmic"===this.getAxisScale("y"),small:this.const(!0)},(()=>this.controller.s("graphing-calculator-label-settings-logarithmic-scale"))))))),oe.createElement(Ao,{predicate:()=>!this.controller.getLockViewportConfigSetting()},(()=>oe.createElement("div",{class:oe.const("dcg-checkbox-title dcg-lock-viewport-option")},oe.createElement(kt,{ariaLabel:()=>this.controller.s("graphing-calculator-label-settings-lock-viewport"),onChange:()=>{this.controller.dispatch({type:"toggle-lock-viewport"})},checked:()=>this.controller.getLockViewportUserSetting()},(()=>this.controller.s("graphing-calculator-label-settings-lock-viewport"))),oe.createElement(_d,{href:this.const("https://help.desmos.com/hc/en-us/articles/4405296853517#h_01FZX4DBWKD83TZVMH615XF3QA"),controller:this.props.controller}))))),oe.createElement("div",{class:oe.const("dcg-radiangroup")},oe.createElement(Oi,{ariaGroupLabel:()=>this.controller.s("graphing-calculator-narration-settings-angle"),staticConfig:this.bindFn(this.getAngleModeOptions)})),oe.createElement("div",{class:oe.const("dcg-arrow")}))))))}getAngleModeOptions(){return[{key:"radians",label:()=>this.controller.s("graphing-calculator-button-settings-radians"),selected:()=>!this.getDegreeMode(),onSelect:()=>this.setDegreeMode(!1),focusHelperOptions:{controller:this.controller,location:{type:"settings",location:"radian-mode"}}},{key:"degrees",label:()=>this.controller.s("graphing-calculator-button-settings-degrees"),selected:()=>this.getDegreeMode(),onSelect:()=>this.setDegreeMode(!0),focusHelperOptions:{controller:this.controller,location:{type:"settings",location:"degree-mode"}}}]}getDegreeMode(){return!!this.controller.getGraphSettings().degreeMode}setDegreeMode(e){this.controller.dispatch({type:"set-graph-settings",degreeMode:e})}toggleBrailleMode(){this.controller.dispatch({type:"set-braille-mode",mode:"none"===this.controller.getBrailleMode()?"nemeth":"none"})}getBrailleOptions(){return[{key:"nemeth",label:()=>this.controller.s("shared-calculator-button-braille-mode-nemeth"),selected:()=>"nemeth"===this.controller.getBrailleMode(),onSelect:()=>this.setBrailleMode("nemeth")},{key:"ueb",label:()=>this.controller.s("shared-calculator-button-braille-mode-ueb"),selected:()=>"ueb"===this.controller.getBrailleMode(),onSelect:()=>this.setBrailleMode("ueb")}]}setBrailleMode(e){this.controller.dispatch({type:"set-braille-mode",mode:e})}getProjectorModeOptions(){return[{key:"default",label:()=>"A",ariaLabel:()=>this.controller.s("shared-calculator-narration-settings-display-size-default"),class:()=>"dcg-displaysize-default",selected:()=>!this.getProjectorMode(),onSelect:()=>this.onSelectProjectorModeOption(!1),focusHelperOptions:{controller:this.controller,location:{type:"settings",location:"default-size"}}},{key:"large",label:()=>"A",ariaLabel:()=>this.controller.s("shared-calculator-narration-settings-display-size-large"),class:()=>"dcg-displaysize-large",selected:()=>this.getProjectorMode(),onSelect:()=>this.onSelectProjectorModeOption(!0),focusHelperOptions:{controller:this.controller,location:{type:"settings",location:"large-size"}}}]}onSelectProjectorModeOption(e){this.controller.dispatch({type:"set-projector-mode",value:e})}didMountContainer(e){this.node=e,P(document).on("dcg-tapstart.settings-view wheel.settings-view",(e=>{this.eventShouldClosePopover(e)&&this.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:"keyboard"===e.device})})),P(document).on("keydown.settings-view",(e=>{let t=Le(e);if("Esc"===t&&this.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:!0}),this.controller.isGraphSettingsOpen()&&"Tab"===t&&!e.altKey&&!e.metaKey&&!e.ctrlKey){let t=this.controller.getFocusLocation();if(!t||"settings"!==t.type)return;e.shiftKey?e.shiftKey&&("default-size"===t.location?(this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"icon"}}),e.preventDefault(),e.stopPropagation()):"icon"===t.location&&(this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"degree-mode"}}),e.preventDefault(),e.stopPropagation())):"icon"===t.location?(this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"default-size"}}),e.preventDefault(),e.stopPropagation()):"degree-mode"===t.location&&(this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"icon"}}),e.preventDefault(),e.stopPropagation())}}))}didUnmountContainer(){P(document).off(".settings-view")}didUpdate(){if(!this.controller.isGraphSettingsOpen())return;let e=this.controller.getKeypadHeight();e!==this.cachedKeypadHeight&&document.activeElement&&P(document.activeElement).closest(this.node).length&&ss(P(document.activeElement),P(this.node).find(".dcg-popover-interior"),50),this.cachedKeypadHeight=e}eventShouldClosePopover(e){let t=P(e.target),n=!!t.closest(this.node).length,r=!!t.closest(".dcg-action-settings").length,i=this.isMathquillFocused()&&t.closest(".dcg-keypad").length,o=!!t.closest(".dcg-action-undo").length||!!t.closest(".dcg-action-redo").length;return!(n||r||i||o)}isMathquillFocused(){return void 0!==this.getFocusedLimit()}getLimitLatex(e){return this.controller.getSettingsViewModel().limitLatex[e]}setLimitLatex(e,t){t!==this.controller.getSettingsViewModel().limitLatex[e]&&this.controller.dispatch({type:"set-axis-limit-latex",limit:e,latex:t})}getFocusedLimit(){let e=this.controller.getFocusLocation();if(e&&"settings"===e.type)return e.location}getInvalidLimits(){let e=!!this.controller.getGraphSettings().degreeMode,t=ai(this.getLimitLatex("xmin"),e),n=ai(this.getLimitLatex("xmax"),e),r=ai(this.getLimitLatex("ymin"),e),i=ai(this.getLimitLatex("ymax"),e),o=""===this.getLimitLatex("xstep")?0:ai(this.getLimitLatex("xstep"),e),a=""===this.getLimitLatex("ystep")?0:ai(this.getLimitLatex("ystep"),e),s={},l=new Ci(t,n,r,i);return isFinite(t)&&isFinite(n)?(s.xmin=!l.isXValid(this.controller.getGraphSettings().xAxisScale),s.xmax=s.xmin):(s.xmin=!isFinite(t),s.xmax=!isFinite(n)),isFinite(r)&&isFinite(i)?(s.ymin=!l.isYValid(this.controller.getGraphSettings().yAxisScale),s.ymax=s.ymin):(s.ymin=!isFinite(r),s.ymax=!isFinite(i)),s.xstep=!op(o),s.ystep=!op(a),s}isLimitInvalid(e){return this.getInvalidLimits()[e]}onFocusedChanged(e,t){t?this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:e}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"settings",location:e}})}onXAxisLabelInput(e){this.controller.dispatch({type:"set-graph-settings",xAxisLabel:e})}onYAxisLabelInput(e){this.controller.dispatch({type:"set-graph-settings",yAxisLabel:e})}getXAxisLabel(){return this.controller.getGraphSettings().xAxisLabel}getYAxisLabel(){return this.controller.getGraphSettings().yAxisLabel}getShowXAxis(){return!!this.controller.getGraphSettings().showXAxis}toggleXAxis(){this.controller.dispatch({type:"set-graph-settings",showXAxis:!this.getShowXAxis()})}getShowYAxis(){return!!this.controller.getGraphSettings().showYAxis}toggleYAxis(){this.controller.dispatch({type:"set-graph-settings",showYAxis:!this.getShowYAxis()})}getAxisNumbers(){return!!this.controller.getGraphSettings().xAxisNumbers}toggleAxisNumbers(){let e=this.getAxisNumbers();this.controller.dispatch({type:"set-graph-settings",xAxisNumbers:!e,yAxisNumbers:!e,polarNumbers:!e})}getMinorGridlines(){return 0===this.controller.getGraphSettings().xAxisMinorSubdivisions}toggleMinorGridlines(){let e=this.getMinorGridlines()?1:0;this.controller.dispatch({type:"set-graph-settings",yAxisMinorSubdivisions:e,xAxisMinorSubdivisions:e})}getPolarMode(){return!!this.controller.getGraphSettings().polarMode}shouldShowLogScalesOption(){return this.controller.getGraphSettings().config.logScales&&!this.getPolarMode()}setPolarMode(){this.controller.dispatch({type:"set-polar-mode",polarMode:!0})}setCartesianMode(){this.controller.dispatch({type:"set-polar-mode",polarMode:!1})}getAxisScale(e){return this.controller.getGraphSettings()["x"===e?"xAxisScale":"yAxisScale"]}setAxisScale({axis:e,scale:t}){let n=this.getLimitLatex("x"===e?"xmin":"ymin"),r=this.getLimitLatex("x"===e?"xmax":"ymax");if("linear"===t)return this.controller.dispatch({type:"set-axis-scale",settings:{axis:e,scale:t,limitLatex:{min:n,max:r}}});let i=this.controller.getGraphSettings(),o=ai(n,!!i.degreeMode),a=ai(r,!!i.degreeMode),s=os(i["x"===e?"xAxisBase":"yAxisBase"]),l=a>0?r:`${s}`,c=o>0?n:`${s}^{${Math.floor(__dcg_shared_module_exports__.Pa(Math.log(a>0?a:s)/Math.log(s)))-5}}`;return this.controller.dispatch({type:"set-axis-scale",settings:{axis:e,scale:t,limitLatex:{min:c,max:l}}})}getProjectorMode(){return!!this.controller.getGraphSettings().config.projectorMode}toggleInvertedColors(){this.controller.dispatch({type:"set-inverted-colors",value:!this.controller.getInvertedColors()})}getAxisArrowMode(){return this.controller.getGraphSettings().xAxisArrowMode}setAxisArrowMode(e){this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:e,yAxisArrowMode:e})}getShowGrid(){return this.controller.getGraphSettings().showGrid}toggleGrid(){this.controller.dispatch({type:"set-graph-settings",showGrid:!this.getShowGrid()})}toggleArrows(){let e="NONE"===this.getAxisArrowMode()?"BOTH":"NONE";this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:e,yAxisArrowMode:e})}showZoomSquareButton(){let e=this.controller.getAxisScaleSettings();return e.xAxisScale===e.yAxisScale&&!this.controller.getGraphSettings().squareAxes}getContainerStyle(){return this.controller.getKeypadHeight()?"bottom: 0":""}zoomSquare(){this.controller.dispatch({type:"zoom",direction:"square"})}},$r=__dcg_shared_module_exports__.i(ne()),Nm=class extends $r.Class{init(){this.controller=this.props.controller()}template(){return $r.createElement("div",{class:$r.const("dcg-zoom-container")},$r.createElement("div",{class:$r.const("dcg-zoominout-pillbox dcg-btn-flat-gray dcg-btn-flat-gray-group"),style:()=>({background:this.controller.getPillboxBackgroundColor()})},$r.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-tooltip-zoom-in"),gravity:this.const("w")},$r.createElement("div",{class:$r.const("dcg-action-zoomin"),role:$r.const("button"),tabindex:$r.const("0"),"aria-label":()=>this.controller.s("graphing-calculator-label-tooltip-zoom-in"),onTap:this.bindFn(this.zoomIn)},$r.createElement("i",{class:$r.const("dcg-icon dcg-icon-plus"),"aria-hidden":$r.const("true")}))),$r.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-tooltip-zoom-out"),gravity:this.const("w")},$r.createElement("div",{class:$r.const("dcg-option dcg-action-zoomout dcg-tooltip-e"),tooltip:()=>this.controller.s("graphing-calculator-label-tooltip-zoom-out"),role:$r.const("button"),tabindex:$r.const("0"),"aria-label":()=>this.controller.s("graphing-calculator-label-tooltip-zoom-out"),onTap:this.bindFn(this.zoomOut)},$r.createElement("i",{class:$r.const("dcg-icon dcg-icon-minus"),"aria-hidden":$r.const("true")})))),$r.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-tooltip-viewport-default"),gravity:this.const("w")},$r.createElement("div",{class:()=>({"dcg-btn-flat-gray":!0,"dcg-option":!0,"dcg-action-zoomrestore":!0,"dcg-disabled":this.isDefaultViewportRestored()}),"aria-disabled":this.bindFn(this.isDefaultViewportRestored),role:$r.const("button"),tabindex:()=>this.isDefaultViewportRestored()?-1:0,"aria-label":()=>this.controller.s("graphing-calculator-narration-viewport-restore-default"),onTap:this.bindFn(this.setDefaultViewport),style:()=>({background:this.controller.getPillboxBackgroundColor()}),manageFocus:this.const(ut({controller:this.controller,location:{type:"zoom-restore-btn"}}))},$r.createElement("i",{class:$r.const("dcg-icon dcg-icon-home"),"aria-hidden":$r.const("true")}))))}zoomIn(){this.controller.dispatch({type:"zoom",direction:"in"})}zoomOut(){this.controller.dispatch({type:"zoom",direction:"out"})}setDefaultViewport(){this.controller.dispatch({type:"set-default-viewport"})}isDefaultViewportRestored(){let e=this.controller.getGrapher();return!!e&&e.viewportController.isDefaultViewportRestored()}},Zo=__dcg_shared_module_exports__.i(ne()),Bm=class extends Zo.Class{init(){this.controller=this.props.controller()}template(){return Zo.createElement("div",{class:Zo.const("dcg-reset-container")},Zo.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-tooltip-reset"),gravity:this.const("w")},Zo.createElement("div",{class:Zo.const("dcg-reset-pillbox dcg-action-reset dcg-btn-flat-gray"),role:Zo.const("button"),tabindex:Zo.const("0"),"aria-label":()=>this.controller.s("graphing-calculator-label-tooltip-reset"),onTap:this.bindFn(this.reset),style:()=>({background:this.controller.getPillboxBackgroundColor()})},Zo.createElement("i",{class:Zo.const("dcg-icon dcg-icon-reset"),"aria-hidden":Zo.const("true")}))))}reset(){this.controller.dispatch({type:"reset-graph"})}},{If:Km}=vn.Components,Um=class extends vn.Class{init(){this.controller=this.props.controller()}template(){return vn.createElement("div",null,vn.createElement(Km,{predicate:this.bindFn(this.shouldShowContainer)},(()=>vn.createElement("div",{class:()=>({"dcg-pillbox-container":!0,"dcg-geometry-toolbar-present":this.controller.isGeoUIActive()}),role:()=>this.controller.isGeoUIActive()?void 0:"region","aria-label":()=>this.controller.isGeoUIActive()?void 0:this.controller.s("graphing-calculator-narration-graph-settings-controls")},vn.createElement("div",{class:vn.const("dcg-overgraph-pillbox-elements"),style:this.bindFn(this.getContainerStyle)},vn.createElement(Km,{predicate:this.bindFn(this.shouldShowGraphSettings)},(()=>vn.createElement(Rm,{controller:this.props.controller}))),vn.createElement(Km,{predicate:this.bindFn(this.shouldShowGeometrySettings)},(()=>vn.createElement(ic,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{isPillbox:this.const(!0)})))),vn.createElement(Km,{predicate:this.bindFn(this.shouldShowResetButton)},(()=>vn.createElement(Bm,{controller:this.props.controller}))),vn.createElement(Km,{predicate:this.bindFn(this.shouldShowZoomButtons)},(()=>vn.createElement(Nm,{controller:this.props.controller}))))))),vn.createElement(Fm,{controller:()=>this.props.controller()}))}getContainerStyle(){let e=this.controller.isKeypadOpen()?this.controller.getKeypadHeight():0;return this.controller.isGraphSettingsOpen()?`bottom: ${e}px;`:"bottom: auto"}shouldShowContainer(){return this.shouldShowGeometrySettings()||this.shouldShowGraphSettings()||this.shouldShowZoomButtons()||this.shouldShowResetButton()}shouldShowGraphSettings(){return this.controller.getGraphSettings().config.settingsMenu&&!this.controller.isGeometry()}shouldShowGeometrySettings(){return this.controller.getGraphSettings().config.settingsMenu&&this.controller.isGeometry()&&this.controller.isNarrowGeometryHeader()}shouldShowZoomButtons(){return this.controller.getGraphSettings().config.zoomButtons&&!this.isViewportLocked()}isViewportLocked(){return this.controller.getGraphSettings().config.lockViewport||this.controller.getGraphSettings().userLockedViewport}shouldShowResetButton(){return this.controller.getGraphSettings().config.showResetButtonOnGraphpaper&&this.controller.hasDefaultState()}},tr=__dcg_shared_module_exports__.i(ne()),zr=__dcg_shared_module_exports__.i(ne()),{Each:n6,SwitchUnion:o6,If:a6}=zr.Components,Nv=class extends zr.Class{init(){this.controller=this.props.controller()}template(){return zr.createElement("div",{role:zr.const("toolbar"),"aria-label":()=>this.controller.s("graphing-calculator-label-geometry-tools"),class:zr.const("dcg-geo-basic-tools dcg-animate-in-after-initial-load dcg-create-transformation-view")},zr.createElement(xp,{ariaLabel:()=>this.controller.s("account-shell-button-mygraphs-cancel"),controller:this.props.controller,message:this.bindFn(this.getMessage),onBack:this.bindFn(this.onCancel)}),n6((()=>this.getInputIndexes()),{item:e=>zr.createElement(Mk,{activeStep:this.bindFn(this.getInputIndex),controller:this.props.controller,toolSpec:()=>this.getToolSpec(),stepIdx:()=>e})}))}onCancel(){this.controller.dispatch({type:"select-geo-tool",tool:"selection"}),this.controller.dispatch({type:"set-focus-location",location:{type:"graph-paper"}})}getMessage(){return this.controller.raw("New "+this.controller.getActiveTool())}getInputIndex(){return this.controller.getGeoModel().getNonObjectsState().ui.currentTool.inputIndex}getInputIndexes(){return this.getToolSpec().inputs.map(((e,t)=>t))}getToolSpec(){return this.controller.getGeoModel().getCurrentTool().getSpec()}},Mk=class extends zr.Class{init(){this.controller=this.props.controller()}template(){return o6((()=>this.getInputType()),{completed:()=>zr.createElement("span",{class:zr.const("dcg-step-completed")},zr.createElement("i",{class:zr.const("dcg-icon-check")})),upcoming:()=>zr.createElement("span",{class:zr.const("dcg-step-upcoming")},zr.createElement("span",null)),active:()=>zr.createElement("span",{class:zr.const("dcg-active-step")},zr.createElement("span",{class:zr.const("dcg-step-active-icon")},zr.createElement("span",null,(()=>this.props.stepIdx()+1))),this.bindFn(this.getActiveString),zr.createElement(a6,{predicate:this.bindFn(this.isNumberInputStep)},(()=>zr.createElement("span",{class:zr.const("dcg-input-flex-container"),didMount:this.bindFn(this.didMountNumberInput)},zr.createElement(Ir,{containerClass:()=>({"dcg-suffix-degree":"°"===this.getNumberUnits(),"dcg-suffix-radian":"rad"===this.getNumberUnits()}),readonly:()=>!1,latex:()=>this.getNumberInputLatex(),ariaLabel:this.bindFn(this.getActiveString),isFocused:()=>this.isNumberInputFocused(),handleFocusChanged:(e,t)=>this.handleFocusedChanged(e,t),hasError:this.bindFn(this.doesNumberInputHaveError),controller:this.props.controller,handlePressedKey:(e,t)=>{this.handlePressedKey(e,t)},handleLatexChanged:e=>{this.handleLatexChanged(e)},dataLabelAttributeValue:this.const("transformation-number")}),zr.createElement("span",{class:()=>({"dcg-action-submit":!0,"dcg-disabled":this.isSubmitNumberDisabled(),"dcg-btn-blue":!0}),role:zr.const("button"),tabindex:()=>this.isSubmitNumberDisabled()?-1:0,"aria-disabled":this.bindFn(this.isSubmitNumberDisabled),onTap:e=>this.submitNumberInput({device:e.device})},(()=>this.controller.raw("Go")))))))})}getNumberUnits(){return"rotation"===this.controller.getActiveTool()?this.controller.isDegreeMode()?"°":"rad":""}didMountNumberInput(){this.controller.dispatch({type:"set-focus-location",location:{type:"new-transformation-number"}});let e=this.getStep();if(e&&"number"===e.type){let e="",t=this.controller.getActiveTool();"rotation"===t?e=this.controller.isDegreeMode()?"90":"\\frac{\\pi}{2}":"dilation"===t&&(e="2"),e&&this.controller.runAfterDispatch((()=>{this.handleLatexChanged(e)}))}}isNumberInputFocused(){let e=this.controller.getFocusLocation();return!(!e||"new-transformation-number"!==e.type)}doesNumberInputHaveError(){if(!this.getNumberInputLatex())return!1;let e=this.props.toolSpec().outputs[0].id,{idMap:t}=this.controller.getGeoModel().getNonObjectsState().ui.currentTool,n=t[e];if(!n)return!0;let r=n+"=",i=Pu(this.controller.getListModel()).filter((e=>{if("expression"===e.type)return 0===e.latex.trim().indexOf(r)})),o=i[0];if(!o||0===i.length||i.length>1||o.error)return!0;let a=o.formula.typed_constant_value;return!a||!__dcg_shared_module_exports__.V(a.valueType,__dcg_shared_module_exports__.O)}handlePressedKey(e,t){let n=qe.getFocusedMathquill();"Enter"!==e?n&&(n.keystroke(e,t),this.handleLatexChanged(n.latex())):this.submitNumberInput({device:"keyboard"})}getNumberInputLatex(){return this.controller.getGeoModel().getCurrentTool().getNumberInputLatex()}isSubmitNumberDisabled(){return!(!this.doesNumberInputHaveError()&&this.getNumberInputLatex())}submitNumberInput(e){var t,n,r;if(this.isSubmitNumberDisabled())return;let i=this.controller.getGeoModel(),o=this.controller.getActiveTool(),a=i.getCurrentTool(),s=null==(t=a.getSpec)?void 0:t.call(a),{committed:l}=a.tryCommitResults();l&&(this.controller.dispatch({type:"commit-geo-objects",objects:l}),null==(r=null==(n=this.controller.getGrapher())?void 0:n.poiController)||r.speakReleaseAndUpdate(o,s,l),"keyboard"===e.device&&this.controller.dispatch({type:"set-focus-location",location:{type:"graph-paper"}}))}handleLatexChanged(e){this.getNumberInputLatex()!==e&&(this.controller.getGeoModel().getCurrentTool().onNumberInput(e),this.controller.getGeoModel().onPreviewChange())}handleFocusedChanged(e,t){e&&!this.isNumberInputFocused()?this.controller.dispatch({type:"set-focus-location",location:{type:"new-transformation-number"}}):this.isNumberInputFocused()&&this.controller.dispatch({type:"blur-focus-location",location:{type:"new-transformation-number"}})}getActiveString(){let e=this.getStep().hint;return e?this.props.controller().s(e):this.props.controller().raw("unknown instruction")}isNumberInputStep(){return"number"===this.getStep().type}getStep(){return this.props.toolSpec().inputs[this.props.stepIdx()]}getInputType(){let e=this.props.activeStep(),t=this.props.stepIdx();return t<e?"completed":t>e?"upcoming":"active"}},{SwitchUnion:s6,If:Bv}=tr.Components,Kv=class extends tr.Class{constructor(){super(...arguments),this.afterInitialLoad=!1}init(){this.controller=this.props.controller()}template(){return tr.createElement("div",{class:()=>({"dcg-geometry-toolbar-view":!0,"dcg-after-initial-load":this.afterInitialLoad}),style:()=>({left:`${this.controller.computeMajorLayout().grapher.left}px`}),onTapStart:this.bindFn(this.onTapStart)},tr.createElement("div",{class:tr.const("dcg-header-left dcg-do-blur")},tr.createElement(Bv,{predicate:this.bindFn(this.showHamburger)},(()=>tr.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-tooltip-open-graph"),gravity:this.const("se")},tr.createElement("div",{role:tr.const("button"),"aria-label":()=>this.controller.s("graphing-calculator-label-tooltip-open-graph"),tabindex:tr.const("0"),class:tr.const("dcg-action-opendrawer dcg-icon-btn dcg-in-api-action-opendrawer"),onTap:()=>this.controller.dispatch({type:"open-drawer"})},tr.createElement("i",{class:tr.const("dcg-icon-hamburger"),"aria-hidden":tr.const("true")}))))),tr.createElement(Bv,{predicate:this.bindFn(this.showOpenExpressionsButton)},(()=>tr.createElement("div",{class:tr.const("dcg-show-expressions-tab dcg-icon-btn"),"aria-label":()=>this.controller.s("graphing-calculator-label-tooltip-show-list"),role:tr.const("button"),tabindex:tr.const("0"),onTap:e=>{this.controller.dispatch({type:"show-expressions-list",focusHideIcon:"keyboard"===e.device})},manageFocus:this.const(ut({controller:this.controller,location:{type:"show-expression-list-btn"}}))},tr.createElement("i",{class:tr.const("dcg-icon-show"),"aria-hidden":tr.const("true")})))),tr.createElement(Bv,{predicate:this.bindFn(this.showUndoRedo)},(()=>tr.createElement("div",{class:()=>({"dcg-geo-undo-redo-container":!0,"dcg-overgraph-undo-redo":this.undoRedoOverGraph()})},tr.createElement(Hp,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},this.props),{undoTooltipGravity:this.const("se"),redoTooltipGravity:this.const("s")})))))),tr.createElement("div",{class:tr.const("dcg-flex-spacer")}),s6(this.bindFn(this.getViewToShow),{tools:()=>tr.createElement(kv,{controller:this.props.controller}),selectedItems:()=>tr.createElement(lw,{controller:this.props.controller}),createTransformation:()=>tr.createElement(Nv,{controller:this.props.controller})}),tr.createElement("div",{class:tr.const("dcg-flex-spacer")}),tr.createElement("div",{class:tr.const("dcg-header-right dcg-do-blur")},tr.createElement(Bv,{predicate:()=>this.controller.getGraphSettings().config.settingsMenu&&!this.controller.isNarrowGeometryHeader()},(()=>tr.createElement(ic,__dcg_shared_module_exports__.b({},this.props))))))}undoRedoOverGraph(){return this.controller.isNarrowGeometryHeader()}showUndoRedo(){return!this.controller.isListEnabled()}showHamburger(){return!!this.controller.getGraphSettings().config.showHamburger&&(!this.controller.isListEnabled()||!this.controller.isListVisible()||this.controller.isNarrow())}showOpenExpressionsButton(){return this.controller.isListEnabled()&&!this.controller.isListVisible()&&!this.controller.isNarrow()}willUpdate(){this.afterInitialLoad||"selectedItems"===this.getViewToShow()&&(this.afterInitialLoad=!0)}onTapStart(e){e.target.classList.contains("dcg-do-blur")&&this.controller.dispatch({type:"set-none-selected"})}getViewToShow(){return _p(this.controller.getActiveTool())?"createTransformation":this.controller.getSelectedGeoExpression()||this.controller.hasMultipleItemsSelected()?"selectedItems":"tools"}},Jt=__dcg_shared_module_exports__.i(ne()),{If:qm}=Jt.Components,Tk=class extends Jt.Class{template(){return Jt.createElement("span",{class:Jt.const("dcg-toast")},Jt.createElement("i",{class:Jt.const("dcg-icon-error"),"aria-hidden":Jt.const("true")}),Jt.createElement(qm,{predicate:()=>!this.props.showUndo()&&(!this.props.showClose||this.props.showClose())},(()=>Jt.createElement("i",{class:Jt.const("dcg-icon-remove"),onTap:()=>this.props.onClose&&this.props.onClose(),role:Jt.const("link"),tabindex:Jt.const(0),"aria-label":Jt.const("Dismiss Notice")}))),Jt.createElement("span",{class:Jt.const("dcg-msg"),"aria-atomic":()=>!this.props.noAria(),"aria-live":()=>this.props.noAria()?"":"assertive"},(()=>this.props.message())),Jt.createElement(qm,{predicate:this.props.showUndo},(()=>Jt.createElement("a",{role:Jt.const("link"),tabindex:Jt.const(0),class:Jt.const("dcg-undo"),onTap:()=>this.props.onUndo&&this.props.onUndo()},(()=>this.props.s("shared-calculator-label-toast-undo"))))),Jt.createElement(qm,{predicate:this.props.showLearnMore},(()=>Jt.createElement("a",{role:Jt.const("link"),tabindex:Jt.const(0),target:Jt.const("_blank"),onTap:()=>this.props.onLearnMore&&this.props.onLearnMore()},(()=>this.props.s("shared-calculator-label-toast-learn-more"))))),Jt.createElement(qm,{predicate:()=>!!this.props.link&&!!this.props.link()},(()=>Jt.createElement("a",{role:Jt.const("link"),tabindex:Jt.const(0),target:()=>{var e;return null!=(e=this.props.link().target)?e:"_blank"},href:()=>this.props.link().url},(()=>this.props.link().text)))))}shouldUpdate(){return!!this.props.message()}},Uv=class extends Jt.Class{template(){return Jt.createElement("div",{class:()=>({"dcg-toast-view":!0,"dcg-visible":!!this.props.message()}),"toast-style":()=>this.props.toastStyle&&this.props.toastStyle()},Jt.createElement(qm,{predicate:()=>!!this.props.message()},(()=>Jt.createElement("div",{class:Jt.const("dcg-toast-wrapper")},Jt.createElement("div",{class:Jt.const("dcg-toast-cover")}),Jt.createElement(Tk,__dcg_shared_module_exports__.b({},this.props))))))}};function Gk(e){e.on("drag dragend dragenter dragover dragleave drop",(e=>{e.preventDefault(),e.stopPropagation()}))}var yt=__dcg_shared_module_exports__.i(ne());at();var{If:Hm}=yt.Components,$m=class extends yt.Class{init(){this.controller=this.props.controller()}template(){return yt.createElement("div",{class:()=>({"dcg-geometry-settings-container":!0,"dcg-popover":!0,"dcg-constrained-height-popover":!0,"dcg-generic-options-menu":!0,"dcg-narrow-geometry-header":this.controller.isNarrowGeometryHeader()}),style:this.bindFn(this.getContainerStyle),didMount:this.bindFn(this.didMountContainer),didUnmount:this.bindFn(this.didUnmountContainer)},yt.createElement("div",{class:yt.const("dcg-popover-interior"),role:yt.const("region"),"aria-label":()=>this.controller.s("graphing-calculator-label-tooltip-geometry-settings")},yt.createElement("div",{class:yt.const("dcg-options-menu-section")},yt.createElement(kt,{onChange:this.bindFn(this.toggleInvertedColors),checked:()=>this.controller.getInvertedColors(),manageFocus:this.const(ut({controller:this.controller,location:{type:"settings",location:"reverse-contrast"}}))},(()=>this.controller.s("graphing-calculator-label-settings-reverse-contrast"))),yt.createElement(Hm,{predicate:()=>!this.controller.getLockViewportConfigSetting()},(()=>yt.createElement("div",{class:yt.const("dcg-checkbox-title dcg-lock-viewport-option")},yt.createElement(kt,{onChange:()=>{this.controller.dispatch({type:"toggle-lock-viewport"})},checked:()=>this.controller.getLockViewportUserSetting()},(()=>this.controller.s("graphing-calculator-label-settings-lock-viewport"))),yt.createElement(_d,{href:this.const("https://help.desmos.com/hc/en-us/articles/4405296853517#h_01FZX4DBWKD83TZVMH615XF3QA"),controller:this.props.controller}))))),yt.createElement("div",{class:yt.const("dcg-options-menu-section")},yt.createElement("div",{class:yt.const("dcg-options-menu-section-title")},(()=>this.controller.s("graphing-calculator-label-settings-grid")),yt.createElement(bn,{ariaLabel:()=>this.controller.s("graphing-calculator-label-settings-grid"),toggled:this.bindFn(this.getShowGrid),onChange:this.bindFn(this.toggleGrid)})),yt.createElement(Hm,{predicate:this.bindFn(this.getShowGrid)},(()=>yt.createElement(kt,{onChange:this.bindFn(this.toggleMinorGridlines),checked:this.bindFn(this.getMinorGridlines)},(()=>this.controller.s("graphing-calculator-label-settings-minor-gridlines")))))),yt.createElement("div",{class:yt.const("dcg-options-menu-section")},yt.createElement("div",{class:yt.const("dcg-options-menu-section-title")},(()=>this.controller.s("graphing-calculator-label-axes")),yt.createElement(bn,{ariaLabel:()=>this.controller.s("graphing-calculator-label-axes"),toggled:this.bindFn(this.getShowAxes),onChange:this.bindFn(this.toggleAxes)})),yt.createElement(Hm,{predicate:this.bindFn(this.getShowAxes)},(()=>yt.createElement("div",null,yt.createElement(kt,{onChange:this.bindFn(this.toggleAxisNumbers),checked:this.bindFn(this.getAxisNumbers)},(()=>this.controller.s("graphing-calculator-label-settings-axis-numbers"))),yt.createElement("div",null,yt.createElement(kt,{onChange:this.bindFn(this.toggleArrows),checked:()=>"NONE"!==this.getAxisArrowMode()},(()=>this.controller.s("graphing-calculator-label-settings-arrows")))))))),yt.createElement(Hm,{predicate:this.bindFn(this.shouldShowBrailleSection)},(()=>yt.createElement("div",{class:yt.const("dcg-options-menu-section")},yt.createElement("div",{class:yt.const("dcg-options-menu-section-title")},(()=>this.controller.s("shared-calculator-narration-braille-mode")),yt.createElement(bn,{ariaLabel:()=>this.controller.s("shared-calculator-narration-braille-mode"),onChange:this.bindFn(this.toggleBrailleMode),toggled:()=>"none"!==this.controller.getBrailleMode()})),yt.createElement(Hm,{predicate:()=>"none"!==this.controller.getBrailleMode()},(()=>yt.createElement("div",{class:yt.const("dcg-braille-options-container")},yt.createElement("div",{class:yt.const("dcg-braille-options-buttons")},yt.createElement(Oi,{ariaGroupLabel:()=>this.controller.s("shared-calculator-narration-braille-mode"),staticConfig:this.bindFn(this.getBrailleOptions)})),yt.createElement("div",{class:yt.const("dcg-checkbox-title dcg-six-key-checkbox")},yt.createElement(kt,{onChange:e=>this.controller.dispatch({type:"set-six-key-input",useSixKeyInput:e}),checked:()=>this.controller.getSixKeyInput()},(()=>this.controller.s("graphing-calculator-label-settings-six-key-braille"))),yt.createElement(_d,{href:this.const("https://www.desmos.com/accessibility#braille"),controller:this.props.controller})),yt.createElement("div",{class:yt.const("dcg-refreshable-braille-note")},(()=>this.controller.s("graphing-calculator-text-refreshable-braille-display-note")+" "),yt.createElement("a",{href:()=>"https://www.desmos.com/braille-examples?"+this.controller.getBrailleMode(),class:yt.const("dcg-shared-blue-link"),target:yt.const("_blank")},(()=>this.controller.s("graphing-calculator-link-view-braille-examples")))))))))),yt.createElement("div",{class:yt.const("dcg-options-menu-section dcg-radiangroup")},yt.createElement(Oi,{ariaGroupLabel:()=>this.controller.s("graphing-calculator-narration-settings-angle"),staticConfig:this.bindFn(this.getAngleModeOptions)}))))}shouldShowBrailleSection(){return this.controller.getBrailleControls()&&this.controller.getGraphSettings().config.expressions}getAngleModeOptions(){return[{key:"radians",label:()=>this.controller.s("graphing-calculator-button-settings-radians"),selected:()=>!this.getDegreeMode(),onSelect:()=>this.setDegreeMode(!1),focusHelperOptions:{controller:this.controller,location:{type:"settings",location:"radian-mode"}}},{key:"degrees",label:()=>this.controller.s("graphing-calculator-button-settings-degrees"),selected:()=>this.getDegreeMode(),onSelect:()=>this.setDegreeMode(!0),focusHelperOptions:{controller:this.controller,location:{type:"settings",location:"degree-mode"}}}]}getDegreeMode(){return!!this.controller.getGraphSettings().degreeMode}setDegreeMode(e){this.controller.dispatch({type:"set-graph-settings",degreeMode:e})}toggleBrailleMode(){this.controller.dispatch({type:"set-braille-mode",mode:"none"===this.controller.getBrailleMode()?"nemeth":"none"})}getBrailleOptions(){return[{key:"nemeth",label:()=>this.controller.s("shared-calculator-button-braille-mode-nemeth"),selected:()=>"nemeth"===this.controller.getBrailleMode(),onSelect:()=>this.setBrailleMode("nemeth")},{key:"ueb",label:()=>this.controller.s("shared-calculator-button-braille-mode-ueb"),selected:()=>"ueb"===this.controller.getBrailleMode(),onSelect:()=>this.setBrailleMode("ueb")}]}setBrailleMode(e){this.controller.dispatch({type:"set-braille-mode",mode:e})}didMountContainer(e){this.node=e,P(document).on("dcg-tapstart.geometry-settings-view wheel.geometry-settings-view",(e=>{this.eventShouldClosePopover(e)&&this.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:"keyboard"===e.device})})),P(document).on("keydown.geometry-settings-view",(e=>{let t=Le(e);if("Esc"===t&&this.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:!0}),this.controller.isGraphSettingsOpen()&&"Tab"===t&&!e.altKey&&!e.metaKey&&!e.ctrlKey){let t=this.controller.getFocusLocation();if(!t||"settings"!==t.type)return;e.shiftKey?e.shiftKey&&("reverse-contrast"===t.location?(this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"icon"}}),e.preventDefault(),e.stopPropagation()):"icon"===t.location&&(this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"degree-mode"}}),e.preventDefault(),e.stopPropagation())):"icon"===t.location?(this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"reverse-contrast"}}),e.preventDefault(),e.stopPropagation()):"degree-mode"===t.location&&(this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"icon"}}),e.preventDefault(),e.stopPropagation())}}))}didUnmountContainer(){P(document).off(".geometry-settings-view")}didUpdate(){if(!this.controller.isGraphSettingsOpen())return;let e=this.controller.getKeypadHeight();e!==this.cachedKeypadHeight&&document.activeElement&&P(document.activeElement).closest(this.node).length&&ss(P(document.activeElement),P(this.node).find(".dcg-popover-interior"),50),this.cachedKeypadHeight=e}eventShouldClosePopover(e){let t=P(e.target),n=!!t.closest(this.node).length,r=!!t.closest(".dcg-action-settings").length,i=this.isMathquillFocused()&&t.closest(".dcg-keypad").length,o=!!t.closest(".dcg-action-undo").length||!!t.closest(".dcg-action-redo").length;return!(n||r||i||o)}isMathquillFocused(){return void 0!==this.getFocusedLimit()}getFocusedLimit(){let e=this.controller.getFocusLocation();if(e&&"settings"===e.type)return e.location}getShowXAxis(){return!!this.controller.getGraphSettings().showXAxis}toggleAxes(){this.controller.dispatch({type:"set-graph-settings",showXAxis:!this.getShowXAxis(),showYAxis:!this.getShowXAxis()})}getShowAxes(){return!!this.controller.getGraphSettings().showXAxis}getAxisNumbers(){return!!this.controller.getGraphSettings().xAxisNumbers}toggleAxisNumbers(){let e=this.getAxisNumbers();this.controller.dispatch({type:"set-graph-settings",xAxisNumbers:!e,yAxisNumbers:!e,polarNumbers:!e})}getMinorGridlines(){return 0===this.controller.getGraphSettings().xAxisMinorSubdivisions}toggleMinorGridlines(){let e=this.getMinorGridlines()?1:0;this.controller.dispatch({type:"set-graph-settings",yAxisMinorSubdivisions:e,xAxisMinorSubdivisions:e})}toggleInvertedColors(){this.controller.dispatch({type:"set-inverted-colors",value:!this.controller.getInvertedColors()})}getAxisArrowMode(){return this.controller.getGraphSettings().xAxisArrowMode}getShowGrid(){return this.controller.getGraphSettings().showGrid}toggleGrid(){this.controller.dispatch({type:"set-graph-settings",showGrid:!this.getShowGrid()})}toggleArrows(){let e="NONE"===this.getAxisArrowMode()?"BOTH":"NONE";this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:e,yAxisArrowMode:e})}getContainerStyle(){return this.controller.getKeypadHeight()?"bottom: 0":""}},{If:dh}=Kt.Components,zm=class extends Kt.Class{init(){this.controller=this.props.controller()}settings(){return this.controller.getGraphSettings()}template(){return Kt.createElement("div",{class:Kt.const("dcg-calculator-api-container"),style:Kt.const("width: 100%; height: 100%; position: relative;")},Kt.createElement("div",{class:()=>({"dcg-container":!0,"dcg-fullscreen":!this.controller.isListVisible(),"dcg-narrow":this.controller.isNarrow(),"dcg-PROJECTOR-MODE":this.settings().config.projectorMode,"dcg-inverted-colors":!!this.settings().config.invertedColors,"dcg-EDIT-LIST-MODE":this.controller.isInEditListMode(),"dcg-no-graphpaper":!this.settings().config.graphpaper,"dcg-no-branding":!this.settings().config.branding,"dcg-no-expression-topbar":!this.settings().config.expressionsTopbar,"dcg-default-border":!!this.settings().config.border,"dcg-no-hyperlinks":!this.settings().config.links,"dcg-has-background-color":this.controller.hasBackgroundColor(),"dcg-is-interactive":this.settings().config.expressions||!(this.settings().config.lockViewport||this.settings().userLockedViewport)}),style:()=>({"font-size":this.settings().config.fontSize+"px",background:this.getContainerBackgroundColor(),color:this.controller.getTextColor()}),role:Kt.const("application"),"aria-label":()=>this.controller.isGeometry()?this.controller.s("graphing-calculator-narration-main-desmos-geometry"):this.controller.s("graphing-calculator-narration-main-desmos-graphing-calculator"),"x-ms-format-detection":Kt.const("none"),didMount:this.bindFn(this.didMountRoot)},Kt.createElement(dh,{predicate:()=>this.controller.getGraphSettings().config.expressions},(()=>Kt.createElement(Am,{controller:this.props.controller}))),Kt.createElement(Mv,{controller:this.props.controller}),Kt.createElement(dh,{predicate:()=>this.controller.isListEnabled()&&!this.controller.isListVisible()&&(!this.controller.isGeometry()||this.controller.isNarrow())},(()=>Kt.createElement("div",{class:()=>({"dcg-overgraph-icon-container":!0,"dcg-bottom-right":this.controller.isNarrow()})},Kt.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-tooltip-show-list"),gravity:()=>this.controller.isNarrow()?"nw":"se"},Kt.createElement("div",{class:()=>({"dcg-show-expressions-tab":!0,"dcg-overgraph-icon":!0,"dcg-rotated":this.controller.isNarrow()}),"aria-label":()=>this.controller.s("graphing-calculator-label-tooltip-show-list"),role:Kt.const("button"),tabindex:Kt.const("0"),onTap:e=>{this.controller.dispatch({type:"show-expressions-list",focusHideIcon:"keyboard"===e.device})},manageFocus:this.const(ut({controller:this.controller,location:{type:"show-expression-list-btn"}}))},Kt.createElement("i",{class:Kt.const("dcg-icon-show"),"aria-hidden":Kt.const("true")})))))),Kt.createElement(dh,{predicate:this.bindFn(this.showHamburger)},(()=>Kt.createElement("div",{class:Kt.const("dcg-overgraph-icon-container")},Kt.createElement(Ue,{tooltip:()=>this.controller.s("graphing-calculator-label-tooltip-open-graph"),gravity:this.const("se")},Kt.createElement("div",{role:Kt.const("button"),"aria-label":()=>this.controller.s("graphing-calculator-label-tooltip-open-graph"),class:Kt.const("dcg-action-opendrawer dcg-in-api-action-opendrawer dcg-overgraph-icon"),onTap:()=>this.controller.dispatch({type:"open-drawer"})},Kt.createElement("i",{class:Kt.const("dcg-icon-hamburger"),"aria-hidden":Kt.const("true")})))))),Kt.createElement(Um,{controller:this.props.controller}),Kt.createElement(dh,{predicate:()=>this.controller.isGeoUIActive()&&this.controller.getGraphSettings().config.settingsMenu&&this.controller.isGraphSettingsOpen()},(()=>Kt.createElement($m,{controller:this.props.controller}))),Kt.createElement(dh,{predicate:()=>this.controller.isGeoUIActive()},(()=>Kt.createElement(Kv,{controller:this.props.controller}))),Kt.createElement(Uv,{message:()=>{let e=this.controller.getToastData().message;return this.controller.raw(e||"")},link:()=>this.controller.getToastData().link||void 0,showUndo:()=>!!this.controller.getToastData().undoCallback,showLearnMore:()=>!!this.controller.getToastData().learnMoreCallback,noAria:()=>!!this.controller.getToastData().noAria,toastStyle:()=>this.controller.getToastData().toastStyle,s:this.controller.s,onUndo:()=>this.controller.dispatch({type:"toast/undo"}),onLearnMore:()=>this.controller.dispatch({type:"toast/learn-more"}),onClose:()=>this.controller.dispatch({type:"toast/close"})}),Kt.createElement("div",{class:Kt.const("dcg-grapher")}),Kt.createElement(dh,{predicate:()=>this.controller.getGraphSettings().config.keypad},(()=>Kt.createElement(Rv,{controller:this.props.controller})))))}showHamburger(){return!(!this.controller.getGraphSettings().config.showHamburger||this.controller.isGeometry())&&this.controller.isNarrow()}getContainerBackgroundColor(){return this.controller.hasTransparentBackground()?"none":this.controller.getBackgroundColor()}didMountRoot(e){fp(e),this.controller.getGraphSettings().config.disableScrollFix||Bw(e),this.setupFileDragDrop(e)}setupFileDragDrop(e){let t=P(e);Gk(t);let n=P(),r=this;function i(){n=P(),t.off(".filedraggedover"),r.controller.dispatch({type:"file-is-not-dragged-over"})}t.on("dragenter",(e=>{this.controller.areImagesEnabled()&&(0===n.length&&t.on("dcg-tapstart.filedraggedover",i),n=n.add(e.target),this.controller.dispatch({type:"file-is-dragged-over"}))})).on("dragleave",(e=>{n=n.not(e.target),0===n.length&&i()})).on("drop",i)}},qv=class extends pa{constructor(e){super(),this.workerPool=e,this.guid=__dcg_shared_module_exports__.Ka("worker-pool-connection"),this.worker=e.allocateWorker(),this.worker.__connections[this.guid]=this}destroy(){this.sendMessage({type:"destroy"}),delete this.worker.__connections[this.guid]}killWorker(){this.worker.__isFake||this.workerPool.killWorker(this.worker)}onWorkerKilled(){}onResponse(e){}sendMessage(e){this.worker.__isFake?this.worker.postMessage(e):this.worker.postMessage({connectionId:this.guid,originalMessage:e})}};function h_(e){var t={},n=new __dcg_shared_module_exports__.Nc((function(t,n){e({type:t,payload:n})}));return t.postMessage=function(e){setTimeout((function(){n.processChangeSet(e)}),0)},t}sb();var Wm="";try{Wm=Zh(window.location.search,"workerThrottle"),null==Wm&&(Wm=Zh(window.top.location.search,"workerThrottle"))}catch(t){}var g_=parseInt(Wm,10),Ak=0;function f_(e){return g_?function(t){Ak=Math.max(Date.now(),Ak)+g_,setTimeout(e,Ak-Date.now(),t)}:e}var uh=class extends pa{constructor(e=1/0){super(),this.workers=[],this.maxWorkers=e}allowedToSpawnWorker(){return!!__dcg_worker_source_exports__.createWorker&&this.workers.length<this.maxWorkers}killWorker(e){-1!==__dcg_shared_module_exports__.za(this.workers,e)&&(e.terminate(),this.workers=__dcg_shared_module_exports__.xa(this.workers,e),__dcg_shared_module_exports__.ta(__dcg_shared_module_exports__.Ca(e.__connections)).forEach((function(e){e&&e.onWorkerKilled&&e.onWorkerKilled()})))}spawnWorker(){if(!__dcg_worker_source_exports__.createWorker)return null;try{var e=__dcg_worker_source_exports__.createWorker();return e.__connections={},e.__isFake=!1,e.onerror=function(e){__dcg_shared_module_exports__.Hc.log(e)},e.addEventListener("message",f_((function(t){var n=t.data;if((!n||!n.log)&&n&&n.connectionId){var r=e.__connections[n.connectionId];r&&r.onResponse(n.originalMessage)}}))),this.workers.push(e),e}catch(e){return null}}spawnFakeWorker(){var e=h_(f_((function(t){var n=__dcg_shared_module_exports__.Ca(e.__connections)[0];n&&n.onResponse(t)})));return e.__isFake=!0,e.__connections={},e}findLeastUsedWorker(){return __dcg_shared_module_exports__.ua(this.workers,(function(e){return __dcg_shared_module_exports__.wa(e.__connections)}))[0]}allocateWorker(){var e=null;return this.allowedToSpawnWorker()&&(e=this.spawnWorker()),e||(e=this.findLeastUsedWorker()),e||(e=this.spawnFakeWorker()),e}},l6=4e3,Kc=class{constructor(e){this.__ticksEnabled=!0,this.listeners={processChangeSet(e){var t={},n={};for(var r in e.graphChanges){var i=e.graphChanges[r];void 0===i?n[r]=!0:(__dcg_shared_module_exports__.Kb(i),t[r]=i)}var o={};for(var r in e.intersectionChanges)n[r]||(o[r]=e.intersectionChanges[r]);var a=!!this.changeSet;this.onEvaluatorResults({evaluationStates:e.statusChanges,graphData:{addedGraphs:t,removedGraphs:n,intersections:o},renderSlowly:!!e.isCompleteState,timingData:e.timingData,eventUpdates:e.eventUpdates});let s=e.syncId;for(;this.syncRequests.length&&void 0!==s&&this.syncRequests[0].id<=s;)this.syncRequests.shift().callback();this.markJobFinished(),a&&this._processChangeSet()}},this.__state={},this.changeSet=null,this.cumulativeChangeSet={},this.syncId=1,this.syncRequests=[],e||(e=new uh),this.workerPool=e,this.createWorkerPoolConnection()}privateGetWorkerPool(){return this.workerPool}privateGetWorkerPoolConnection(){return this.workerPoolConnection}createWorkerPoolConnection(){this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){}),this.workerPoolConnection=new qv(this.workerPool),this.markJobFinished(),this.workerPoolConnection.onResponse=e=>{this.shouldIgnoreWorkerMessage(e)?"processChangeSet"===e.type&&(this.markJobFinished(),this._processChangeSet()):this.listeners[e.type].call(this,e.payload)},this.workerPoolConnection.onWorkerKilled=()=>{var e=this.hasJobInWorker();this.createWorkerPoolConnection(),e?(this.changeSet=__dcg_shared_module_exports__.k(this.cumulativeChangeSet),this.__state.changed=!0,this.__state.droppedMessage=!0):(this.changeSet=__dcg_shared_module_exports__.k(this.cumulativeChangeSet),this.__state.changed=!1),this.processChangeSet()}}destroy(){this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){},this.workerPoolConnection.destroy())}shouldIgnoreWorkerMessage(e){return!!this.__suspendUntilSyncId&&(!e||!e.payload||!(e.payload.syncId>=this.__suspendUntilSyncId))}suspend(){(!this.changeSet||!this.changeSet.syncId)&&(this.syncId++,this.applyToChangeSets((e=>{e.syncId=this.syncId}))),this.__suspendUntilSyncId=this.changeSet.syncId}markJobFinished(){this.__state.droppedMessage=!1,this.__jobStartTime=-1,this.__suspendUntilSyncId=void 0}startJobTimer(){this.__jobStartTime=(new Date).getTime()}hasJobInWorker(){return-1!==this.__jobStartTime}getJobElapsedTime(){return this.hasJobInWorker()?(new Date).getTime()-this.__jobStartTime:NaN}setTicksEnabled(e){this.__ticksEnabled=e}tick(){this.__ticksEnabled&&this._processChangeSet()}processChangeSet(){this.__processChangeSetRequested=!0}_processChangeSet(){if(this._syncEvaluatorConfig(),!this.__processChangeSetRequested)return;let e=this.getJobElapsedTime()>=l6;if(this.__state.droppedMessage&&e)this.workerPoolConnection.killWorker();else if(this.__state.changed&&this.changeSet)if(this.changeSet.syncId||(this.syncId++,this.changeSet.syncId=this.syncId),this.hasJobInWorker())this.changeSet.isCompleteState&&e&&this.workerPoolConnection.killWorker();else{let e=this.changeSet;this.changeSet=null,this.__state.changed=!1,this.startJobTimer(),this.workerPoolConnection.sendMessage(e),this.__processChangeSetRequested=!1}}notifyWhenSynced(e){this._syncEvaluatorConfig(),this.hasJobInWorker()||this.changeSet?(this.syncId++,this.syncRequests.push({id:this.syncId,callback:e}),this.applyToChangeSets((e=>{e.syncId=this.syncId}))):setTimeout(e,0)}applyToChangeSets(e){this.__state.changed=!0,this.changeSet||(this.changeSet={}),this.cumulativeChangeSet||(this.cumulativeChangeSet={}),e(this.changeSet),e(this.cumulativeChangeSet),this.processChangeSet()}clearStatementsAndStartCompleteState(){this.hasJobInWorker()&&this.suspend(),this.applyToChangeSets((function(e){e.isCompleteState=!0,delete e.statements}))}markUndoRedoState(){this.applyToChangeSets((function(e){e.isUndoRedoState=!0}))}addStatement(e){this.applyToChangeSets((function(t){t.statements||(t.statements={}),t.statements[e.id]=__dcg_shared_module_exports__.k(e)}))}removeStatement(e){this.applyToChangeSets((function(t){t.statements||(t.statements={}),t.removes||(t.removes={}),delete t.statements[e],t.removes[e]=!0}))}addActionStepEvent(e){this.applyToChangeSets((function(t){t.events||(t.events=[]),t.events.push({type:"step",expressionId:e})}))}addClockTickEvent(e,t){this.applyToChangeSets((function(n){n.events||(n.events=[]),n.events.push({type:"clock-tick",id:e,isFirstTick:t})}))}addClickEvent(e,t){this.applyToChangeSets((function(n){n.events||(n.events=[]),void 0===t&&(t=0),n.events.push({type:"click",expressionId:e,indexVar:t})}))}_syncEvaluatorConfig(){if(this.readEvaluatorConfig){var e=this.readEvaluatorConfig();for(let t in e)this._applyIfChanged(e,t)}}_applyIfChanged(e,t){let n=this.cumulativeChangeSet&&this.cumulativeChangeSet[t],r=e[t];__dcg_shared_module_exports__.Ea(n,r)||this.applyToChangeSets((function(e){e[t]=r}))}};function dl(e){return"es-ES"===e?(__dcg_shared_module_exports__.Hc.warn("{language: 'es-ES'} has been deprecated. Proceeding with {language: 'es'}"),"es"):e}Ns();var c6=0,jm=class{constructor(e,t,n,r){e||(e=document.createElement("div"));let i=document.createElement("div");i.className="dcg-wrapper",i.style.width="100%",i.style.height="100%",e.appendChild(i),this.__id=c6++;let o=new as;this.graphSettings=o;for(let e in n)o.config.setProperty(e,n[e]);let a=new Td(o);this.controller=a,r&&a.dispatch({type:"ui/container-resized",size:r}),this.rootElt=i,this.view=ph.mountToNode(zm,this.rootElt,{controller:ph.const(a)});let s=new Kc(t);this.controller.setEvaluator(s),this.controller.setRootElt(this.rootElt);let l=a.find$(".dcg-grapher"),c=new Hl(l,o,this.controller,s);this.controller.setGrapher(c),o.registerCallbacks(c,s),this.controller.initStateStack(),s.readEvaluatorConfig=()=>({evaluationMode:a.isGeometry()?"geometry":"graphing",globalRandomSeed:o.randomSeed,degreeMode:o.degreeMode,viewState:a.getViewState(),selectedIds:a.getPropagatedSelectedIds(),restrictedFunctions:o.config.restrictedFunctions,forceEnableGeometryFunctions:o.config.forceEnableGeometryFunctions,distributions:o.config.distributions,pointsOfInterest:o.config.pointsOfInterest,plotSingleVariableImplicitEquations:o.config.plotSingleVariableImplicitEquations,plotImplicits:o.config.plotImplicits,plotInequalities:o.config.plotInequalities,sliders:o.config.sliders,actions:!!o.config.actions,substitutions:!!o.config.substitutions,dimensions:a.getGrapherDimensions()}),s.onEvaluatorResults=e=>{this.controller.dispatch({type:"on-evaluator-changes",changes:e.evaluationStates,timingData:e.timingData,graphData:e.graphData,eventUpdates:e.eventUpdates}),c.redrawAllLayers()},this.unsubFunc=this.controller.subToChanges((()=>{this.controller.doesDOMHaveSize()&&(this.view.update(),c.update());var e=!1;(function(){var e=!1,t=a.computeMajorLayout(),n={left:t.grapher.left,right:t.grapher.left+t.grapher.width,width:t.grapher.width,top:t.grapher.top,bottom:t.grapher.top+t.grapher.height,height:t.grapher.height},r=c.getCurrentViewport(),i={top:r.ymax,bottom:r.ymin,left:r.xmin,right:r.xmax,width:r.xmax-r.xmin,height:r.ymax-r.ymin};return __dcg_shared_module_exports__.Ea(i,d.mathCoordinates)||(d.setProperty("mathCoordinates",i),e=!0),n.height>0&&n.width>0&&!__dcg_shared_module_exports__.Ea(n,d.pixelCoordinates)&&(d.setProperty("pixelCoordinates",n),e=!0),e})()&&(e=!0),e&&this.controller.doesDOMHaveSize()&&(this.view.update(),c.update())}));let d=new Mn;d.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=d,P(this.rootElt).on("keydown.calculator-"+this.__id,(e=>{this.grapher&&this.grapher.audioGraph.handleKeydown(e),this.instanceHotkeys.handleKeydown(e)})),P(window).on("dcg-tapstart.calculator-"+this.__id,(e=>{let t=P(e.target),n=!!t.closest(this.rootElt).length,r=e.wasHandled("create-expression-with-keyboard"),i=!!t.closest(".dcg-api-shared-keypad-root").length,o=!!t.hasClass("dcg-shell");if(!n&&!i&&!o&&!r&&a.dispatch({type:"set-none-selected"}),e.wasHandled("do-not-clear-poi-labels")||(c.traceLayer.clearOpenedPOI(),c.redrawAllLayers()),a.isInEditListMode()){let e=0===t.closest(".dcg-exppanel").length&&0===t.closest(".dcg-options-menu").length&&0===t.closest(".dcg-expression-top-bar").length&&0===t.closest(".dcg-keypad").length;(!n||e)&&a.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!1})}})),this.grapher=c,this.evaluator=s,this.tourManager=new $x,this.controller.dispatch({type:"set-blank"});let p={};["degreeMode"].forEach((function(e){void 0!==n[e]&&(p[e]=n[e])})),o.setGraphSettings(p),o.config.expressionsCollapsed&&this.setOptions({expressionsCollapsed:!0}),o.config.capExpressionSize&&this.setOptions({capExpressionSize:!0}),o.config.hasOwnProperty("pointsOfInterest")&&this.setOptions({pointsOfInterest:o.config.pointsOfInterest}),o.config.hasOwnProperty("backgroundColor")&&this.setOptions({backgroundColor:o.config.backgroundColor}),o.config.hasOwnProperty("textColor")&&this.setOptions({textColor:o.config.textColor}),o.config.observe("language",(()=>{let e=this.controller.getState();this.controller.dispatch({type:"set-state",state:e}),this.tourManager&&(this.tourManager.closingMsg=(e,t)=>"<b>"+e+"</b><br>"+this.controller.s("graphing-tours-label-self-destruct",{seconds:t}))})),o.config.observe("forceLogModeRegressions",(()=>{o.config.forceLogModeRegressions&&this.controller.setAllRegressionsToLogMode()})),this.instanceHotkeys=new Xf(a)}setOption(e,t){this.controller.getGraphSettings().config.setProperty(e,t)}setOptions(e){let t,n=this.controller.getGraphSettings().config,r=__dcg_shared_module_exports__.b({},e);function i(e){let{notes:t,folders:n,images:r}=e;return!1===t||!1===n||!1===r}e.hasOwnProperty("backgroundColor")&&(__dcg_shared_module_exports__.dc(e.backgroundColor)||(__dcg_shared_module_exports__.Hc.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete r.backgroundColor)),e.hasOwnProperty("textColor")&&(__dcg_shared_module_exports__.dc(e.textColor)||(__dcg_shared_module_exports__.Hc.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete r.textColor)),e.hasOwnProperty("menus")&&(__dcg_shared_module_exports__.Hc.warn("Deprecated option: menus. Setting settingsMenu and expressionsTopbar instead."),e.hasOwnProperty("settingsMenu")||(r.settingsMenu=!!e.menus),e.hasOwnProperty("expressionsTopbar")||(r.expressionsTopbar=!!e.menus),delete r.menus),e.hasOwnProperty("solutions")&&(__dcg_shared_module_exports__.Hc.warn("Deprecated option: solutions. Setting pointsOfInterest instead."),e.hasOwnProperty("pointsOfInterest")||(r.pointsOfInterest=!!e.solutions),delete r.solutions),e.hasOwnProperty("administerSecretFolders")&&(__dcg_shared_module_exports__.Hc.warn("Deprecated option: administerSecretFolders. Setting authorFeatures instead."),e.hasOwnProperty("authorFeatures")||(r.authorFeatures=!!e.administerSecretFolders),delete r.administerSecretFolders),e.hasOwnProperty("singleVariableSolutions")&&(__dcg_shared_module_exports__.Hc.warn("Deprecated option: singleVariableSolutions has been removed."),delete r.singleVariableSolutions),!1===e.graphpaper&&(e.expressionsCollapsed&&(r.expressionsCollapsed=!1,__dcg_shared_module_exports__.Hc.warn("Cannot set graphpaper: false with expressionsCollapsed: true. Proceeding with expressionsCollapsed: false.")),n.expressionsCollapsed&&(r.expressionsCollapsed=!1,__dcg_shared_module_exports__.Hc.warn("Disabling the graphpaper with the expressions list collapsed is not supported.Setting expressionsCollapsed: false.")),e.zoomButtons&&(r.zoomButtons=!1,__dcg_shared_module_exports__.Hc.warn("Cannot set graphpaper: false with zoomButtons: true. Proceeding with zoomButtons: false.")),e.showResetButtonOnGraphpaper&&(r.showResetButtonOnGraphpaper=!1,__dcg_shared_module_exports__.Hc.warn("Cannot set graphpaper: false with showResetButtonOnGraphpaper: true. Proceeding with showResetButtonOnGraphpaper: false.")),n.zoomButtons&&(r.zoomButtons=!1,__dcg_shared_module_exports__.Hc.warn("Disabling the graphpaper with the zoomButtons visible is not supported. Setting zoomButtons: false.")),n.showResetButtonOnGraphpaper&&(r.showResetButtonOnGraphpaper=!1,__dcg_shared_module_exports__.Hc.warn("Disabling the graphpaper with the reset button visible is not supported. Setting showResetButtonOnGraphpaper: false."))),!1===n.graphpaper&&(e.expressionsCollapsed||e.zoomButtons||e.showResetButtonOnGraphpaper)&&(r.graphpaper=!0,__dcg_shared_module_exports__.Hc.warn("Must have visible graphpaper to proceed. Setting graphpaper: true.")),e.lockViewport&&e.zoomButtons&&(r.zoomButtons=!1,__dcg_shared_module_exports__.Hc.warn("Cannot set zoomButtons: true and lockViewport: true. Proceeding with zoomButtons: false.")),n.lockViewport&&e.zoomButtons&&(r.lockViewport=!1,__dcg_shared_module_exports__.Hc.warn("Cannot set zoomButtons: true while the viewport is locked. Setting lockViewport: false.")),n.zoomButtons&&e.lockViewport&&(r.zoomButtons=!1,__dcg_shared_module_exports__.Hc.warn("Cannot lock the viewport without hiding the zoom buttons. Setting zoomButtons: false."));let o=i(e),a=i(__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},n),e)),s=n.pasteGraphLink,l=e.pasteGraphLink;for(t in o?(l||s)&&(r.pasteGraphLink=!1,__dcg_shared_module_exports__.Hc.warn("Cannot disable creating note, folder, or image expressions without disabling graph link pasting. Setting pasteGraphLink: false.")):l&&a&&(r.notes=!0,r.folders=!0,r.images=!0,__dcg_shared_module_exports__.Hc.warn("Cannot enable graph link pasting while the creation of notes, folders, or images is disable. Setting notes: true, folders: true, images: true.")),e.language&&(r.language=dl(e.language)),e.logScales&&this.controller.isGeometry()&&(__dcg_shared_module_exports__.Hc.warn("Cannot set logScales: true in the geometry calculator"),delete r.logScales),r)if(r.hasOwnProperty(t))switch(t){case"expressionsCollapsed":this.setOption("expressionsCollapsed",!!r.expressionsCollapsed),r.expressionsCollapsed?this.controller.dispatch({type:"hide-expressions-list",focusShowIcon:!1}):this.controller.dispatch({type:"show-expressions-list",focusHideIcon:!1});break;case"qwertyKeyboard":this.setOption("qwertyKeyboard",!!r.qwertyKeyboard),this.controller.isLetterKeypadOpen()&&this.controller.dispatch({type:"keypad/abc"});break;case"degreeMode":this.setOption("degreeMode",!!r.degreeMode),this.controller.getGraphSettings().setGraphSettings({degreeMode:!!r.degreeMode});break;case"actions":{let e=r[t];if(void 0===e||e===this.controller.getGraphSettings().config.actions)break;this.setOption(t,e),this.setState(this.getState(),{allowUndo:!0});break}case"substitutions":{let e=r[t];if(void 0===e||e===this.controller.getGraphSettings().config.substitutions)break;this.setOption(t,e),this.setState(this.getState(),{allowUndo:!0});break}case"product":__dcg_shared_module_exports__.Hc.warn("Cannot update 'product' setting.");break;case"keypad":case"graphpaper":case"expressions":case"settingsMenu":case"zoomButtons":case"showResetButtonOnGraphpaper":case"expressionsTopbar":case"pointsOfInterest":case"trace":case"border":case"lockViewport":case"authorFeatures":case"advancedStyling":case"images":case"imageUploadCallback":case"folders":case"notes":case"sliders":case"links":case"restrictedFunctions":case"forceEnableGeometryFunctions":case"distributions":case"pasteGraphLink":case"pasteTableData":case"clearIntoDegreeMode":case"autosize":case"plotSingleVariableImplicitEquations":case"plotImplicits":case"plotInequalities":case"colors":case"branding":case"disableScrollFix":case"invertedColors":case"fontSize":case"projectorMode":case"language":case"onlyTraceSelected":case"disableMouseInteractions":case"nativeOnscreenKeypad":case"functionDefinition":case"plaidMode":case"pasteGraphLinkCallback":case"editOnWeb":case"crossOriginSaveTest":case"backgroundColor":case"textColor":case"enableTabindex":case"audioTraceReverseExpressions":case"showHamburger":case"decimalToFraction":case"capExpressionSize":case"transparentBackground":case"pauseWhenOffscreen":case"hideGeoUI":case"brailleMode":case"sixKeyInput":case"brailleControls":case"zoomFit":case"forceLogModeRegressions":case"audio":case"logScales":{let e=r[t];void 0!==e&&this.setOption(t,e);break}default:return t}}setViewport(e){let t=new Ci(e[0],e[1],e[2],e[3]);this.grapher.viewportController.setViewport(t),this.controller.dispatch({type:"commit-user-requested-viewport",viewport:t})}resize(e){e&&this.controller.dispatch({type:"ui/container-resized",size:e})}interceptTouch(){let e=P(this.rootElt),t=e.find(".dcg-expression-top-bar");t.add(e.find(".dcg-keypad")),t.length&&(t.on("touchstart",(e=>{P(e.target).is("input, textarea")||e.preventDefault()})),t.on("touchend",(e=>{P(e.target).closest(".dcg-do-not-blur").length>0||nk()})))}destroy(){P(window).off(".calculator-"+this.__id);let e=P(this.rootElt);e.off(".calculator-"+this.__id),this.unsubFunc(),this.graphSettings.unobserveAll(),this.evaluator&&this.evaluator.destroy(),this.grapher&&this.grapher.remove(),ph.unmountFromNode(this.rootElt),e.remove()}tick(e,t){t||(this.controller.handleTick(e),this.controller.updateRenderShellsAfterDispatch()),this.evaluator.tick(),this.grapher&&this.grapher.tick(e)}getState(e){return this.controller.getState(e)}setBlank(e){this.controller.dispatch({type:"set-blank",opts:e||{}})}setState(e,t){this.controller.dispatch({type:"set-state",state:e,opts:t||{}})}};function d6(){var e=P('<div style="z-index:99999; position: absolute; left: 0; top: 0;background:#FFF">waiting...</div>').appendTo("body"),t=window,n=[];t.Calc.controller.onEvaluatorChangesSpy=function(){n.push(Date.now())},setInterval((function(){for(var t=Date.now();t-n[0]>1e3;)n.shift();e.text(n.length+" fps")}),100)}function u6(){var e=P('<div style="z-index:99999; position: absolute; left: 0; top: 0;background:#FFF">waiting...</div>').appendTo("body"),t=window,n=[],r=0;let i;t.Calc.controller.onEvaluatorChangesSpy=function(e,t){let{timeInWorker:i}=t;n[r%100]=i,r+=1},function t(){cancelAnimationFrame(i),i=requestAnimationFrame(t),function(){let t=0;for(let e of n)t+=e;let r=t/n.length;e.text(r.toFixed(1)+" ms")}()}()}var p6=!!Sn().simulationFPS;p6&&(Ym=setInterval((function(){window.Calc&&(clearInterval(Ym),setTimeout(d6,1e3))}),1));var Ym,h6=!!Sn().timeInWorker,Ym;h6&&(Ym=setInterval((function(){window.Calc&&(clearInterval(Ym),setTimeout(u6,1e3))}),1)),at();var m_=1,hh={},Jm=!1;function b_(){Jm=!0,requestAnimationFrame(g6)}var y_={};function g6(){y_.rafSPY&&y_.rafSPY(),Jm=!1;for(let e in hh)hh[e].detectAndEnqueueEvent(),Jm=!0;if(Jm){b_();for(let e in hh)hh[e].dispatchQueuedEvent()}}var Fd=class{constructor(e,t){this.elt=e,this.cb=t,this.destroyed=!1,this.lastOffscreen=!1,this.id=m_.toString(),this.appliedScale={x:1,y:1},m_++}stopWatching(){delete hh[this.id]}startWatching(){this.checkForChanges(),hh[this.id]=this,Jm||b_()}resetAppliedScalingAndGetBoundingClientRect(){var e=this.elt.getBoundingClientRect(),t={x:e.width/this.elt.offsetWidth,y:e.height/this.elt.offsetHeight};if(t.x===this.appliedScale.x&&t.y===this.appliedScale.y)return e;let n=P(this.elt).children(".dcg-wrapper")[0];return n&&(this.appliedScale=t,P(n).css({transform:"scale("+1/this.appliedScale.x+","+1/this.appliedScale.y+")",width:100*this.appliedScale.x+"%",height:100*this.appliedScale.y+"%","transform-origin":"0 0"})),e}detectAndEnqueueEvent(){if(this.destroyed)return;let e=!0;if(document.body&&document.body.contains(this.elt)){let t=this.resetAppliedScalingAndGetBoundingClientRect();e=t.top>window.innerHeight||t.bottom<0||t.left>window.innerWidth||t.right<0,this.lastSize?(t.width!==this.lastSize.width||t.height!==this.lastSize.height)&&(this.lastSize.width=t.width,this.lastSize.height=t.height,this.queuedEvent={type:"resized",target:this.elt,size:__dcg_shared_module_exports__.b({},this.lastSize),isOffscreen:e}):(this.lastSize={width:t.width,height:t.height},this.queuedEvent={type:"added",target:this.elt,size:__dcg_shared_module_exports__.b({},this.lastSize),isOffscreen:e})}else this.lastSize&&(this.lastSize=void 0,this.queuedEvent={type:"removed",target:this.elt,isOffscreen:!0});e!==this.lastOffscreen&&(this.lastOffscreen=e,this.queuedEvent||(this.queuedEvent={type:"offscreen-noop",target:this.elt,isOffscreen:e}))}dispatchQueuedEvent(){let e=this.queuedEvent;e&&(this.queuedEvent=void 0,this.cb(e))}checkForChanges(){this.detectAndEnqueueEvent(),this.dispatchQueuedEvent()}destroy(){for(var e in this.stopWatching(),this)this.hasOwnProperty(e)&&delete this[e];this.destroyed=!0}};function x_(e){var t=e.mode,n=e.width,r=e.height,i=e.currentBounds,o=e.graphpaperAspectRatio,a=e.mathAspectRatio,s=e.mathBounds,l=n/r,c=i.left+i.width/2,d=i.bottom+i.height/2;if(void 0===s.left!=(void 0===s.right)||void 0===s.bottom!=(void 0===s.top))return __dcg_shared_module_exports__.Hc.warn('asyncScreenshot: cannot specify "left" bound without "right" or "bottom" bound without "top". Got: '+s),i;var p,u,h,g,m,f,y,b,x,_=void 0!==s.left&&void 0!==s.right,v=void 0!==s.bottom&&void 0!==s.top,w=_&&v;switch(t){case"stretch":return w?s:_?{left:s.left,right:s.right,bottom:i.bottom,top:i.top}:v?{left:i.left,right:i.right,bottom:s.bottom,top:s.top}:i;case"contain":return w?(h=s.right-s.left,g=s.top-s.bottom,m={x:s.left+h/2,y:s.bottom+g/2},l>h/g?(p=(u=g/r)*a,{left:m.x-p*n/2,right:m.x+p*n/2,bottom:s.bottom,top:s.top}):(u=(p=h/n)/a,{left:s.left,right:s.right,bottom:m.y-u*r/2,top:m.y+u*r/2})):_?(f=s.right-s.left,y=s.left+f/2,l>f/i.height?{left:y-(p=(u=i.height/r)*a)*n/2,right:y+p*n/2,bottom:i.bottom,top:i.top}:(u=(p=f/n)/a,{left:s.left,right:s.right,bottom:d-u*r/2,top:d+u*r/2})):v?(b=s.top-s.bottom,x=s.bottom+b/2,l>i.width/b?{left:c-(p=(u=b/r)*a)*n/2,right:c+p*n/2,bottom:s.bottom,top:s.top}:(u=(p=i.width/n)/a,{left:i.left,right:i.right,bottom:x-u*r/2,top:x+u*r/2})):l>o?{left:c-(p=(u=i.height/r)*a)*n/2,right:c+p*n/2,bottom:i.bottom,top:i.top}:(u=(p=i.width/n)/a,{left:i.left,right:i.right,bottom:d-u*r/2,top:d+u*r/2});case"preserveX":return w?(h=s.right-s.left,g=s.top-s.bottom,m={x:s.left+h/2,y:s.bottom+g/2},h/g,u=(p=h/n)/a,{left:s.left,right:s.right,bottom:m.y-u*r/2,top:m.y+u*r/2}):v?(b=s.top-s.bottom,x=s.bottom+b/2,i.width/b,u=(p=i.width/n)/a,{left:i.left,right:i.right,bottom:x-u*r/2,top:x+u*r/2}):_?(u=(p=(f=s.right-s.left)/n)/a,{left:s.left,right:s.right,bottom:d-u*r/2,top:d+u*r/2}):(u=(p=(f=i.right-i.left)/n)/a,{left:i.left,right:i.right,bottom:d-u*r/2,top:d+u*r/2});case"preserveY":return w?((h=s.right-s.left)/(g=s.top-s.bottom),p=(u=g/r)*a,{left:(m={x:s.left+h/2,y:s.bottom+g/2}).x-p*n/2,right:m.x+p*n/2,bottom:s.bottom,top:s.top}):_?(f=s.right-s.left,y=s.left+f/2,f/i.height,{left:y-(p=(u=i.height/r)*a)*n/2,right:y+p*n/2,bottom:i.bottom,top:i.top}):v?{left:c-(p=(u=(b=s.top-s.bottom)/r)*a)*n/2,right:c+p*n/2,bottom:s.bottom,top:s.top}:{left:c-(p=(u=(b=i.top-i.bottom)/r)*a)*n/2,right:c+p*n/2,bottom:i.bottom,top:i.top};default:return i}}var $v=class{constructor(e){this.mq=e,this.id=e.id,this.data=e.data}simulateUserChangedLatex(){qe.simulateUserChangedLatex(this.mq)}simulateKeypress(e){qe.simulateKeypress(this.mq,e)}latex(e){return void 0===e?this.mq.latex():(this.mq.latex(e),this.simulateUserChangedLatex(),this)}reflow(){this.mq.reflow()}el(){return this.mq.el()}getAriaLabel(){return this.mq.getAriaLabel()}setAriaLabel(e){return this.mq.setAriaLabel(e)}html(){return this.mq.html()}mathspeak(){return this.mq.mathspeak()}text(){return this.mq.text()}selection(){return this.mq.selection()}select(){return this.mq.select(),this}moveToRightEnd(){return this.mq.moveToRightEnd(),this}moveToLeftEnd(){return this.mq.moveToLeftEnd(),this}cmd(e){return this.mq.cmd(e),this.simulateUserChangedLatex(),this}write(e){return this.mq.write(e),this.simulateUserChangedLatex(),this}keystroke(e){return this.simulateKeypress(e),this}typedText(e){return this.mq.typedText(e),this.simulateUserChangedLatex(),this}clearSelection(){return this.mq.clearSelection(),this}getAriaPostLabel(){return this.mq.getAriaPostLabel()}setAriaPostLabel(e,t){return this.mq.setAriaPostLabel(e,t),this}blur(){return this.mq.blur(),this}focus(){return this.mq.focus(),this}revert(){return this.mq.revert()}ignoreNextMousedown(e){return this.mq.ignoreNextMousedown(e),this}clickAt(e,t,n){return this.mq.clickAt(e,t,n),this}};sb();var w_=Zh(location.search,"nworkers"),v_=4;w_&&(v_=parseInt(w_,10));var gh=new uh(v_),Vk={keypad:!0,graphpaper:!0,expressions:!0,settingsMenu:!0,zoomButtons:!0,showResetButtonOnGraphpaper:!1,expressionsTopbar:!0,capExpressionSize:!1,pointsOfInterest:!0,trace:!0,border:!0,lockViewport:!1,expressionsCollapsed:!1,authorFeatures:!1,advancedStyling:!1,images:!0,imageUploadCallback:qx,folders:!0,notes:!0,sliders:!0,links:!0,qwertyKeyboard:!0,restrictedFunctions:!1,forceEnableGeometryFunctions:!1,pasteGraphLink:!1,pasteTableData:!0,degreeMode:!1,clearIntoDegreeMode:!1,autosize:!0,plotSingleVariableImplicitEquations:!0,plotImplicits:!0,plotInequalities:!0,colors:{RED:Ax,BLUE:Vx,GREEN:Lx,ORANGE:Ox,PURPLE:Px,BLACK:_x},invertedColors:!1,functionDefinition:!0,projectorMode:!1,decimalToFraction:!0,fontSize:16,language:"en",backgroundColor:"#fff",textColor:"#000",distributions:!0,brailleMode:"none",sixKeyInput:!1,brailleControls:!0,zoomFit:!0,forceLogModeRegressions:!1,actions:"auto",audio:!0},C_=Object.keys(Vk),S_={product:"graphing",showHamburger:!1,disableScrollFix:!1,branding:!0,onlyTraceSelected:!1,disableMouseInteractions:!1,nativeOnscreenKeypad:!1,plaidMode:!1,pasteGraphLinkCallback:void 0,editOnWeb:!1,crossOriginSaveTest:!1,enableTabindex:!0,audioTraceReverseExpressions:!1,transparentBackground:!1,pauseWhenOffscreen:!1,hideGeoUI:!1,substitutions:!0,logScales:!1},f6={solutions:!0,menus:!0,singleVariableSolutions:!0,clickableObjects:!1,administerSecretFolders:!1},zv=__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},Vk),S_);function E_(e){return!!(Vk.hasOwnProperty(e)||S_.hasOwnProperty(e)||f6.hasOwnProperty(e))}function Wv(e){var t=__dcg_shared_module_exports__.k(zv);for(var n in e)t.hasOwnProperty(n)&&(t[n]=e[n]);return __dcg_shared_module_exports__.dc(t.backgroundColor)||(t.backgroundColor=zv.backgroundColor,__dcg_shared_module_exports__.Hc.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)")),__dcg_shared_module_exports__.dc(t.textColor)||(t.textColor=zv.textColor,__dcg_shared_module_exports__.Hc.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)")),!0!==t.actions&&!1!==t.actions&&"auto"!==t.actions&&(t.actions=zv.actions,__dcg_shared_module_exports__.Hc.warn("Invalid actions setting. Must be true, false, or 'auto'.")),void 0===e.zoomButtons&&(!t.graphpaper||t.lockViewport)&&(t.zoomButtons=!1),void 0===e.images&&(t.graphpaper||(t.images=!1)),e.hasOwnProperty("menus")&&(__dcg_shared_module_exports__.Hc.warn("As of API version 0.4, the 'menus' option is deprecated and has been split into 'settingsMenu' (boolean) and 'expressionsTopbar' (boolean)."),e.hasOwnProperty("settingsMenu")||(t.settingsMenu=!!e.menus),e.hasOwnProperty("expressionsTopbar")||(t.expressionsTopbar=!!e.menus)),e.hasOwnProperty("solutions")&&(__dcg_shared_module_exports__.Hc.warn("As of API v1.0, the 'solutions' option is deprecated and has been replaced with 'pointsOfInterest' (boolean)."),e.hasOwnProperty("pointsOfInterest")||(t.pointsOfInterest=!!e.solutions)),e.hasOwnProperty("singleVariableSolutions")&&__dcg_shared_module_exports__.Hc.warn("As of API v1.0, the 'singleVariableSolutions' has been removed. The calculator no longer displays solutions to single variable equations."),e.hasOwnProperty("clickableObjects")&&(__dcg_shared_module_exports__.Hc.warn("As of API v1.7, the 'clickableObjects' option is deprecated and has been replaced with 'actions'."),!0===e.clickableObjects&&!e.hasOwnProperty("actions")&&(t.actions=!0)),e.hasOwnProperty("administerSecretFolders")&&(__dcg_shared_module_exports__.Hc.warn("As of API v1.8, the 'administerSecretFolders' option is deprecated and has been subsumed under 'authorFeatures'."),!0===e.administerSecretFolders&&!e.hasOwnProperty("authorFeatures")&&(t.authorFeatures=!0)),t.graphpaper||(t.expressionsCollapsed&&(t.expressionsCollapsed=!1,__dcg_shared_module_exports__.Hc.warn("Desmos API initialized with bad options. graphpaper: false and expressionsCollapsed: true are incompatible. Proceeding with expressionsCollapsed: false.")),t.zoomButtons&&(t.zoomButtons=!1,__dcg_shared_module_exports__.Hc.warn("Desmos API initialized with bad options. graphpaper: false and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),t.showResetButtonOnGraphpaper&&(t.showResetButtonOnGraphpaper=!1,__dcg_shared_module_exports__.Hc.warn("Desmos API initialized with bad options. graphpaper: false and showResetButtonOnGraphpaper: true are incompatible. Proceeding with showResetButtonOnGraphpaper: false."))),t.lockViewport&&t.zoomButtons&&(t.zoomButtons=!1,__dcg_shared_module_exports__.Hc.warn("Desmos API initialized with bad options. lockViewport: true and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),(!1===t.notes||!1===t.folders||!1===t.images)&&!0===t.pasteGraphLink&&(t.pasteGraphLink=!1,__dcg_shared_module_exports__.Hc.warn("Desmos API initialized with bad options. pasteGraphLink: true is incompatible with disabling the creation of note, folder, or image expressions. Proceeding with pasteGraphLink: false.")),t.language&&(t.language=dl(t.language)),t}function D_(e,t){var n={},r={};for(var i in e)E_(i)?n[i]=e[i]:G1(i)?r[i]=e[i]:t||__dcg_shared_module_exports__.Hc.warn("Unrecognized setting: "+i+". Ignoring.");return{configOptions:n,settingsOptions:r}}function k_(e,t){var n={};return t.hasOwnProperty("x")&&(n.x=e.mapX(t.x)),t.hasOwnProperty("y")&&(n.y=e.mapY(t.y)),n}var M_=[],Lk=!1,I_=new Map;function m6(e){let t=I_.get(e);return t||(t=new e,I_.set(e,t)),t}function T_(e){if(!e||Lk)return;let t;for(;(t=M_.shift())&&t.api._destroyed;);if(!t)return;let n=t;Lk=!0;let{options:r,mathBounds:i,state:o,callback:a}=n;var s=m6(e);s.setState(o),s.setMathBounds(i),["majorAxisOpacity","minorAxisOpacity","axisLineOffset","axisLineWidth","labelSize","graphLineWidth","pointLineWidth"].forEach((e=>{"axisLineWidth"===e?s._calc.grapher.settings.setProperty(e,n.api._calc.grapher.settings[e]):s._calc.grapher.settings[e]=n.api._calc.grapher.settings[e]}));var l=s._calc.evaluator,c=()=>{s._calc.grapher.asyncScreenshot(r,(t=>{Lk=!1,T_(e),a(t)}))},d=n.api._calc.controller,p=Vl((function(){d.areAnyImagesLoading()||(md(p),l.notifyWhenSynced(c))}))}var Rd=class extends pa{constructor(e,t,n){super(),this._destroyed=!1,this.isOffscreen=!1;var r=D_(t||{},!0),i=Wv(r.configOptions),o=r.settingsOptions;this._calc=new jm(e,gh,i),this._calc.interceptTouch(),this.controller=this._calc.controller,this.controller.onEventsEmitted=e=>{let t=this.controller.getSelectedItem();this.setProperty("isAnyExpressionSelected",!!t),this.setProperty("selectedExpressionId",t?t.id:void 0),this.setProperty("expressionAnalysis",this.controller.getExpressionAnalysis());var n=qe.getFocusedMathquill();for(var r in this.setProperty("focusedMathQuill",n?new $v(n):void 0),e){if(!e.hasOwnProperty(r))continue;let t=e[r];t&&this.triggerEvent(r,t)}},this._calc.graphpaperBounds.observeAndSync("mathCoordinates",this._syncGraphpaperBounds.bind(this)),this._calc.graphpaperBounds.observeAndSync("pixelCoordinates",this._syncGraphpaperBounds.bind(this)),this.colors=this.controller.getColors(),this._initGraphSettings(),this.updateSettings(o),this._sharedClockBusToken=Vl((e=>this.withControllerInAPIMode((()=>{var t=this._calc.grapher.settings.config.pauseWhenOffscreen&&this.isOffscreen;this._calc.tick(e,t)})))),this.domChangeDetector=new Fd(e,(e=>this.withControllerInAPIMode((()=>{switch(this.isOffscreen=e.isOffscreen,e.type){case"offscreen-noop":case"removed":break;case"added":case"resized":this._calc.resize(e.size)}})))),i.autosize?this.domChangeDetector.startWatching():this.domChangeDetector.checkForChanges(),"function"==typeof n&&n(this)}destroy(){function e(e){__dcg_shared_module_exports__.Hc.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}this.controller.onEventsEmitted=function(){},this._calc.destroy(),md(this._sharedClockBusToken),this.domChangeDetector.destroy();for(var t={},n=this;n;)Object.getOwnPropertyNames(n).forEach((e=>t[e]=!0)),n=Object.getPrototypeOf(n);for(var r in t)"function"==typeof this[r]?this[r]=e.bind(this,r):this.hasOwnProperty(r)&&delete this[r];this.destroy=function(){},this._destroyed=!0}withControllerInAPIMode(e){try{return this.controller.pushAPIMethodCall(),e()}finally{this.controller.popAPIMethodCall()}}_syncGraphpaperBounds(){return this.withControllerInAPIMode((()=>{this.controller.runAfterDispatch((()=>{this.setProperty("graphpaperBounds",{mathCoordinates:this._calc.graphpaperBounds.mathCoordinates,pixelCoordinates:this._calc.graphpaperBounds.pixelCoordinates})}))}))}_initGraphSettings(){return this.withControllerInAPIMode((()=>{var e=new Mn;this.settings=this.graphSettings=e,T1.forEach((t=>{this._calc.grapher.settings.observeAndSync(t,(()=>{this.controller.runAfterDispatch((()=>{e.setProperty(t,this._calc.grapher.settings[t])}))}))})),C_.forEach((t=>{this._calc.grapher.settings.config.observeAndSync(t,(()=>{this.controller.runAfterDispatch((()=>{e.setProperty(t,this._calc.grapher.settings.config[t])}))}))}))}))}updateSettings(e){return this.withControllerInAPIMode((()=>{var t=D_(e,!1),n=t.configOptions,r=t.settingsOptions;__dcg_shared_module_exports__.Fa(n)||this._calc.setOptions(n),__dcg_shared_module_exports__.Fa(r)||this._calc.grapher.settings.setGraphSettings(r),this.notifyControllerOfAPICall()}))}setGraphSettings(e){return this.withControllerInAPIMode((()=>{__dcg_shared_module_exports__.Hc.warn("As of API v0.8 the 'setGraphSettings' method is deprecated and has been renamed 'updateSettings.'"),this.updateSettings(e),this.setGraphSettings=this.updateSettings,this.notifyControllerOfAPICall()}))}fetchLanguage(e){return this.withControllerInAPIMode((()=>Gx(e)))}setDefaultState(e){return this.withControllerInAPIMode((()=>{this._calc.grapher.settings.setProperty("defaultState",e),this.notifyControllerOfAPICall()}))}mathToPixels(e){return this.withControllerInAPIMode((()=>k_(po.fromRects(this.graphpaperBounds.mathCoordinates,this.graphpaperBounds.pixelCoordinates),e)))}pixelsToMath(e){return this.withControllerInAPIMode((()=>k_(po.fromRects(this.graphpaperBounds.pixelCoordinates,this.graphpaperBounds.mathCoordinates),e)))}notifyControllerOfAPICall(){return this.withControllerInAPIMode((()=>{this.controller.dispatch({type:"render"})}))}setExpression(e){return this.withControllerInAPIMode((()=>{var t=this.controller.getItemModel(e.id),n=t&&t.type,r=Bx(e,n,this.controller);if(r)if(n)this.controller.dispatch({type:"set-expression-properties-from-api",id:r.id,properties:r});else{if("image"===r.type)return;this.controller.dispatch({type:"add-item-to-end-from-api",state:r})}}))}setExpressions(e){return this.withControllerInAPIMode((()=>{e.forEach(this.setExpression.bind(this))}))}removeExpression(e){return this.withControllerInAPIMode((()=>{var t=e.id.toString();this.controller.dispatch({type:"remove-item-by-id",id:t})}))}removeExpressions(e){return this.withControllerInAPIMode((()=>{e.forEach(this.removeExpression.bind(this))}))}removeSelected(){return this.withControllerInAPIMode((()=>{var e=this.controller.getSelectedItem();if(!e)return;let{id:t}=e;return this.controller.dispatch({type:"remove-item-by-id",id:t}),t}))}setMathBounds(e){return this.withControllerInAPIMode((()=>{e&&e.left<e.right&&e.bottom<e.top?(this._calc.setViewport([e.left,e.right,e.bottom,e.top]),this._calc.controller.markSquareAxesAfterUserEditedViewport()):__dcg_shared_module_exports__.Hc.warn("Invalid bounds argument. Expected a bounds object with bounds.bottom < bounds.top, and bounds.left < bounds.right. Got "+JSON.stringify(e)),this.notifyControllerOfAPICall()}))}setViewport(e){return this.withControllerInAPIMode((()=>{4==e.length&&e[1]>e[0]&&e[3]>e[2]?(this._calc.setViewport(e),this._calc.controller.markSquareAxesAfterUserEditedViewport()):__dcg_shared_module_exports__.Hc.warn("Invalid viewport.  Expected [xmin, xmax, ymin, ymax].  Got "+e),this.notifyControllerOfAPICall()}))}resize(){return this.withControllerInAPIMode((()=>{this.domChangeDetector.checkForChanges()}))}getState(e){return this.withControllerInAPIMode((()=>this.controller.getState(e)))}getExpressions(){return this.withControllerInAPIMode((()=>this.getState({stripDefaults:!1}).expressions.list.map(Nx)))}setBlank(e){return this.withControllerInAPIMode((()=>{this.controller.dispatch({type:"set-blank",opts:e||{}})}))}setState(e,t){return this.withControllerInAPIMode((()=>{this.controller.dispatch({type:"set-state",state:e,opts:t||{}})}))}undo(){return this.withControllerInAPIMode((()=>{this.controller.dispatch({type:"undo"})}))}redo(){return this.withControllerInAPIMode((()=>{this.controller.dispatch({type:"redo"})}))}clearHistory(){return this.withControllerInAPIMode((()=>{this.controller.dispatch({type:"clear-undoredo-history"})}))}newRandomSeed(){return this.withControllerInAPIMode((()=>{this.updateSettings({randomSeed:al()})}))}screenshot(e){return this.withControllerInAPIMode((()=>(e||(e={}),e=this._validateBrailleScreenshotOptions(e),this._calc.grapher.screenshot(e))))}_getMathAspectRatio(){return this.withControllerInAPIMode((()=>{var e=this.graphpaperBounds.mathCoordinates,t=this._calc.grapher.getProjection().pixelCoordinates,n=t.right-t.left,r=t.bottom-t.top;return e.width/n/(e.height/r)}))}isProjectionUniform(){return this.withControllerInAPIMode((()=>!!this._calc.grapher.getProjection().settings.squareAxes))}_validateBrailleScreenshotOptions(e){return this.withControllerInAPIMode((()=>{var t=(e=__dcg_shared_module_exports__.k(e)).braille;if(t){let n=t.embosserModel;if(!n)return __dcg_shared_module_exports__.Hc.warn("Screenshot braille options requires an embosser model to be specified. "),__dcg_shared_module_exports__.Hc.warn("Continuing with non-braille screenshot."),delete e.braille,e;if("etc"===n&&(t.embosserModel="etc11"),"vpmax"===n&&(t.embosserModel="vpmax11"),"etc8"!==t.embosserModel&&"etc11"!==t.embosserModel&&"vpmax8"!==t.embosserModel&&"vpmax11"!==t.embosserModel)return __dcg_shared_module_exports__.Hc.warn('Unknown screenshot braille embosser model. Valid models are "etc" and "vpmax".'),__dcg_shared_module_exports__.Hc.warn("Continuing with non-braille screenshot."),delete e.braille,e;"nemeth"!==t.brailleMode&&"ueb"!==t.brailleMode&&(__dcg_shared_module_exports__.Hc.warn("Screenshot options braille.brailleMode must be nemeth or ueb. Proceeding with nemeth."),t.brailleMode="nemeth"),e.width&&(__dcg_shared_module_exports__.Hc.warn("Screenshot width option is ignored when exporting Braille."),delete e.width),e.height&&(__dcg_shared_module_exports__.Hc.warn("Screenshot height option is ignored when exporting Braille."),delete e.height),e.targetPixelRatio&&(__dcg_shared_module_exports__.Hc.warn("Screenshot targetPixelRatio option is ignored when exporting Braille."),delete e.targetPixelRatio),e.preserveAxisNumbers&&(__dcg_shared_module_exports__.Hc.warn("Screenshot preserveAxisNumbers option is ignored when exporting Braille."),delete e.preserveAxisNumbers)}return e}))}_validateAsyncScreenshotOpts(e){return this.withControllerInAPIMode((()=>{let t=(e=__dcg_shared_module_exports__.k(e)).mode||"contain",n=e.width||e.height||this.graphpaperBounds.pixelCoordinates.width,r=e.height||e.width||this.graphpaperBounds.pixelCoordinates.height,i=e.targetPixelRatio||1;i<1&&(i=1);let o=e.preserveAxisNumbers;e.hasOwnProperty("format")||(e.svg?(e.format="svg",delete e.svg):e.format="png");let a=e.mathBounds||{},s=this._getMathAspectRatio(),l=this.graphpaperBounds.pixelCoordinates.width/this.graphpaperBounds.pixelCoordinates.height,c=x_({mode:t,width:n,height:r,currentBounds:this.graphpaperBounds.mathCoordinates,graphpaperAspectRatio:l,mathAspectRatio:s,mathBounds:a});return{opts:__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{width:n,height:r,targetPixelRatio:i,preserveAxisNumbers:o}),mathBounds:c}}))}asyncScreenshot(e,t){if(arguments.length){if(1===arguments.length){if("function"!=typeof e)return void __dcg_shared_module_exports__.Hc.warn("asyncScreenshot expects a callback");t=e,e={}}return this.withControllerInAPIMode((()=>{e||(e={}),e=this._validateBrailleScreenshotOptions(e);let{opts:n,mathBounds:r}=this._validateAsyncScreenshotOpts(e);M_.push({api:this,options:n,mathBounds:r,state:this.getState(),callback:t}),T_(this.constructor)}))}__dcg_shared_module_exports__.Hc.warn("asyncScreenshot expects a callback")}setOptions(e){return this.withControllerInAPIMode((()=>{var t=this._calc.setOptions(e);return this.notifyControllerOfAPICall(),t}))}focusFirstExpression(){return this.withControllerInAPIMode((()=>{this.controller.dispatch({type:"focus-first-expression"})}))}pleaseFocusLastExpression(){return this.withControllerInAPIMode((()=>{this.controller.dispatch({type:"focus-last-expression"})}))}openKeypad(){return this.withControllerInAPIMode((()=>{this.controller.dispatch({type:"keypad/set-minimized",minimized:!1})}))}HelperExpression(e){return this.withControllerInAPIMode((()=>{var t=e&&e.latex||"",n=new Mn;return n.latex=t,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:t,proxy:n}}),n}))}},fh=class extends Rd{constructor(e,t,n){super(e,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t),{product:"graphing"}),n)}},jv=class{constructor(e,t){var n=new as;for(var r in t)n.config.setProperty(r,t[r]);this.controller=new Td(n);var i=new Kc(e);this.controller.setEvaluator(i),i.readEvaluatorConfig=()=>({evaluationMode:this.controller.isGeometry()?"geometry":"graphing",globalRandomSeed:n.randomSeed,degreeMode:n.degreeMode,restrictedFunctions:n.config.restrictedFunctions,distributions:n.config.distributions,pointsOfInterest:n.config.pointsOfInterest,plotSingleVariableImplicitEquations:n.config.plotSingleVariableImplicitEquations,plotImplicits:n.config.plotImplicits,plotInequalities:n.config.plotInequalities,sliders:n.config.sliders,actions:n.config.actions}),i.onEvaluatorResults=e=>{this.controller.dispatch({type:"on-evaluator-changes",changes:e.evaluationStates,timingData:e.timingData,eventUpdates:e.eventUpdates})};var o=new Mn;o.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=o,this.evaluator=i,this.setBlank()}setBlank(e){this.controller.dispatch({type:"set-blank",opts:e})}tick(){this.evaluator.tick()}destroy(){this.evaluator.destroy()}},mh=class{constructor(e){this._calc=new jv(gh,Wv(__dcg_shared_module_exports__.b({},e))),this.controller=this._calc.controller,this._sharedClockBusToken=Vl((()=>{this._calc.tick()}))}destroy(){function e(e){__dcg_shared_module_exports__.Hc.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}this._calc.destroy(),md(this._sharedClockBusToken);for(var t={},n=this;n;)Object.getOwnPropertyNames(n).forEach((e=>t[e]=!0)),n=Object.getPrototypeOf(n);for(var r in t)"function"==typeof this[r]?this[r]=e.bind(this,r):this.hasOwnProperty(r)&&delete this[r];this.destroy=function(){}}setExpression(e){var t=this.controller.getItemModel(e.id),n=t&&t.type,r=Bx(e,n,this.controller);if(r)if(n)this.controller.dispatch({type:"set-expression-properties-from-api",id:r.id,properties:r});else{if("image"===r.type)return;this.controller.dispatch({type:"add-item-to-end-from-api",state:r})}}setExpressions(e){e.forEach(this.setExpression.bind(this))}removeExpression(e){var t=e.id.toString();this.controller.dispatch({type:"remove-item-by-id",id:t})}removeExpressions(e){e.forEach(this.removeExpression.bind(this))}getState(e){return this.controller.getState(e)}getExpressions(){return this.getState({stripDefaults:!1}).expressions.list.map(Nx)}setBlank(e){this.controller.dispatch({type:"set-blank",opts:e||{}})}setState(e,t){this.controller.dispatch({type:"set-state",state:e,opts:t||{}})}HelperExpression(e){var t=e&&e.latex||"",n=new Mn;return n.latex=t,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:t,proxy:n}}),n}resize(){}},Dh=__dcg_shared_module_exports__.i(ne()),Nd=class{constructor(e){if(this.rootElt=e,this.eventModel=new Mn,!e)throw new Error("must pass an HTMLElement to the API")}setupDomChangeDetector(e){this.autoSize=e,Bw(this.rootElt),this.domChangeDetector=new Fd(this.rootElt,(e=>{switch(e.type){case"added":this.view=this.onCreateView(),this.onResizeView(e.size);break;case"removed":this.onDestroyView(),this.view=void 0;break;case"resized":this.onResizeView(e.size)}})),!1!==this.autoSize?this.domChangeDetector.startWatching():this.domChangeDetector.checkForChanges()}detach(){__dcg_shared_module_exports__.Hc.warn(".detach() is deprecated. It should no longer be necessary")}destroy(){function e(e){__dcg_shared_module_exports__.Hc.warn("You've destroyed this API instance. You can no longer call ."+e+"()")}this.view&&this.onDestroyView(),this.domChangeDetector.destroy();for(var t={},n=this;n;)Object.getOwnPropertyNames(n).forEach((e=>t[e]=!0)),n=Object.getPrototypeOf(n);for(var r in t)"function"==typeof this[r]?this[r]=e.bind(this,r):this.hasOwnProperty(r)&&delete this[r];this.destroy=function(){}}resize(){this.domChangeDetector.checkForChanges()}updateView(){this.view&&document.body&&document.body.contains(this.rootElt)&&this.view.update()}triggerEvent(e,t){this.eventModel.triggerEvent(e,t)}observeEvent(e,t){this.eventModel.observeEvent(e,t)}unobserveEvent(e){this.eventModel.unobserveEvent(e)}},Xm=class{constructor({evaluationMode:e,additionalFunctions:t,functionDefinition:n,replaceRoundWithReciprocal:r,workerPool:i}){this._evaluations={},this._nextObjectId=0,this.store=new ys({expressions:{1:{id:"1",latex:"",braille:"",type:"latex",displayAsFraction:!1}},order:["1"],settings:{degreeMode:!1},ui:{focus:void 0}}),this.evaluationMode=e,this.additionalFunctions=t,this.functionDefinition=n,this.replaceRoundWithReciprocal=r,this.workerPool=i,this._setupEvaluator(),this.clear(),this._sharedClockBusToken=Vl((()=>{this._evaluator.tick()}))}isSingleExpression(){return"singleExpressionScientific"===this.evaluationMode||"singleExpressionFourFunction"===this.evaluationMode}destroy(){md(this._sharedClockBusToken)}generateObjectId(){return(this._nextObjectId++).toString()}updateNextObjectId(){let e=this.store.getState().order;this._nextObjectId=0;let t=/^[0-9]+$/;for(let n of e)if(t.test(n)){let e=parseInt(n,10);e>=this._nextObjectId&&(this._nextObjectId=e+1)}}clearShouldDebounceUndoRedo(){this._shouldDebounceUndoRedo=!1}markShouldDebounceUndoRedo(){this._shouldDebounceUndoRedo=!0}getShouldDebounceUndoRedo(){return this._shouldDebounceUndoRedo}clearCachedBrailleValues(){for(let e of this.getExpressionOrder())this.store.set(["expressions",e,"braille"],"")}getState(){return this.store.getState()}getPersistedState(){let{expressions:e,order:t,settings:n}=this.getState();return{expressions:{list:t.map((t=>{var n=e[t];return{id:n.id,latex:n.latex,displayAsFraction:n.displayAsFraction}}))},settings:n}}setState(e){this.store.set(e),this._updateIndexes(),this.updateNextObjectId()}setStateFromAPI(e){let t=[],n={};e.expressions.list.forEach((e=>{t.push(e.id),n[e.id]={id:e.id,latex:e.latex,braille:"",type:"latex",displayAsFraction:!!e.displayAsFraction}})),this.setState({expressions:n,order:t,settings:e.settings,ui:{focus:void 0}})}canClear(){if(this.getNumberOfExpressions()>1)return!0;let e=this.getExpressionOrder()[0];return""!==this.getExpressionLatex(e)}clear(){this.setState({expressions:{1:{id:"1",type:"latex",latex:"",braille:"",displayAsFraction:!1}},ui:{focus:void 0},order:["1"],settings:this.getState().settings})}getExpressionOrder(){return this.store.getState().order}getNumberOfExpressions(){return this.getExpressionOrder().length}getExpressionById(e){return this.getState().expressions[e]}getExpressionIndex(e){return this._indexes[e]}_getExpressionByIndex(e){let t=this.getExpressionOrder()[e];return this.getExpressionById(t)}_updateIndexes(){this._indexes={};let e=0;for(let t of this.getExpressionOrder())this._indexes[t]=e,e+=1;this._evaluate()}_usesAnsById(e){return-1!==this.getExpressionById(e).latex.indexOf("\\operatorname{ans}")}_getPreviousExpById(e){let t=this.getExpressionIndex(e);return this._getExpressionByIndex(t-1)}createBlankAfterId(e){if(this.isSingleExpression()||!this.getExpressionById(e).latex)return;let t=this.getExpressionIndex(e),n=this.generateObjectId();this.store.shallowMutate("order",(e=>{e.splice(t+1,0,n)})),this.store.shallowMutate("expressions",(e=>{e[n]={id:n,latex:"",braille:"",type:"latex",displayAsFraction:!1}})),this._updateIndexes(),this.setFocusedById(n,!0)}conditionallyCopyPrevious(e){let t=this._getPreviousExpById(e),n=this.getExpressionById(e);null!=t&&""===n.latex&&this._usesAnsById(t.id)&&this.setLatexById(e,t.latex)}backspaceAtFrontOfId(e){if(""!==this.getExpressionById(e).latex||1===this.getNumberOfExpressions())return;let t=this.getExpressionIndex(e);this.store.shallowMutate("order",(e=>{e.splice(t,1)})),this.store.shallowMutate("expressions",(t=>{delete t[e]})),this._updateIndexes(),this._setFocusedByIndex(Math.max(t-1,0),!0)}setLatexById(e,t){this.store.set(["expressions",e,"latex"],t),this.store.set(["expressions",e,"braille"],""),""===t&&this.setFractionEvaluation(e,!1),this._evaluate()}setLatexAndBrailleById(e,t,n){this.store.set(["expressions",e,"latex"],t),this.store.set(["expressions",e,"braille"],n),""===t&&this.setFractionEvaluation(e,!1),this._evaluate()}setFractionEvaluation(e,t){this.store.set(["expressions",e,"displayAsFraction"],t)}setLatexOfFocusedExpression(e){let t=this.getFocusedExpressionId();t&&this.setLatexById(t,e)}isExpressionFocused(e){return this.getFocusedExpressionId()===e}getExpressionLatex(e){return this.getExpressionById(e).latex}getExpressionError(e){let t=this._evaluations[e];return t?t.error:""}getExpressionValue(e){let t=this._evaluations[e];if(t)return t.value}getExpressionAns(e){let t=this._evaluations[e];if(t)return t.ans}getExpressionAnsId(e){let t=this._evaluations[e];if(t)return t.ansId}shouldShowEvaluationForExpression(e){let t=this._evaluations[e];return!!t&&t.showEvaluation}isRationalizableConstant(e){let t=this._evaluations[e];return!!t&&t.isRationalizableConstant}canDisplayEvaluationAsFraction(e){let t=this.getExpressionValue(e);return!!t&&__dcg_shared_module_exports__.Qa(t)}_setFocusedByIndex(e,t){let n=this._getExpressionByIndex(e),r=this.store.getState().ui.focus,i=t?{type:"latex-expression",id:n.id}:void 0;if(!__dcg_shared_module_exports__.Ea(r,i)){if(r){let e=r.id;this.store.deepMutate("expressions",(t=>{var n=t[e];n&&(n.braille="")}))}!t&&this.getFocusedExpressionId()!==n.id||this.store.shallowMutate("ui",(e=>{e.focus=i}))}}setFocusedById(e,t){let n=this.getExpressionIndex(e);this._setFocusedByIndex(n,t)}focusPrevById(e){let t=this.getExpressionIndex(e)-1;t>=0&&this._setFocusedByIndex(t,!0)}focusNextById(e){let t=this.getExpressionIndex(e)+1;t<this.getNumberOfExpressions()?this._setFocusedByIndex(t,!0):this.createAtEnd()}getFocusedExpression(){let e=this.getFocusedExpressionId();if(e)return this.getExpressionById(e)}getFocusedExpressionId(){let e=this.getState().ui.focus;return e&&e.id}clearFocusedExpression(){let e=this.getFocusedExpression();e&&this.setLatexById(e.id,"")}shouldShowClear(){if(1===this.getNumberOfExpressions())return!1;let e=this.getFocusedExpression();return!!e&&!!e.latex}getLastExpression(){return this._getExpressionByIndex(this.getNumberOfExpressions()-1)}isLastExpressionEmpty(){return!!this.getLastExpression().latex}createAtEnd(){this.createBlankAfterId(this.getLastExpression().id)}focusLastExpression(){console.log("last"),this._setFocusedByIndex(this.getNumberOfExpressions()-1,!0)}focusFirstExpression(){this._setFocusedByIndex(0,!0)}getDegreeMode(){return this.getState().settings.degreeMode}setDegreeMode(e){this.store.set(["settings","degreeMode"],!!e),this._evaluate()}_cleanupLatex(e){return"="===(e=__dcg_shared_module_exports__.Xa(e)).substr(e.length-1)&&(e=e.substr(0,e.length-1)),e}_evaluate(){this._evaluator.clearStatementsAndStartCompleteState(),this.getExpressionOrder().forEach((e=>this._evaluator.addStatement({id:e,index:this.getExpressionIndex(e),latex:this._cleanupLatex(this.getExpressionLatex(e)),shouldGraph:!1,type:"statement"})))}_setupEvaluator(){this._evaluator=new Kc(this.workerPool),this._evaluator.readEvaluatorConfig=()=>({degreeMode:this.getDegreeMode(),evaluationMode:this.evaluationMode,additionalFunctions:this.additionalFunctions,functionDefinition:this.functionDefinition,replaceRoundWithReciprocal:this.replaceRoundWithReciprocal,actions:!1}),this._evaluator.onEvaluatorResults=e=>{let t,n,r=e.evaluationStates;this._evaluations={};for(let e in r){let t=r[e];if(!this.getExpressionById(e))continue;let n=t.constant_value;void 0===n&&t.zero_values&&t.zero_values.length&&(n=t.zero_values[0].val);let i=t.hasOwnProperty("constant_value")&&__dcg_shared_module_exports__.Qa(t.constant_value),o=!t.is_evaluable&&i,a=!!t.is_evaluable||o||Array.isArray(n);this._evaluations[e]={error:t.error,ans:void 0,ansId:void 0,value:n,showEvaluation:a,isRationalizableConstant:o}}for(let e of this.getExpressionOrder()){let r=this._evaluations[e];if(t&&r){let e=t.value;"number"==typeof e?(r.ans=e,r.ansId=n):Array.isArray(e)&&(r.ans="[...]")}t=r,n=e}"function"==typeof this.onEvaluationUpdate&&this.onEvaluationUpdate()}}reloadState(){this.setState(this.getState())}getFunctionDefinition(){return!!this.functionDefinition}enableFunctionDefinition(){this.functionDefinition=!0,this.reloadState()}disableFunctionDefinition(){this.functionDefinition=!1,this.reloadState()}getReplaceRoundWithReciprocal(){return!!this.replaceRoundWithReciprocal}enableReplaceRoundWithReciprocal(){this.replaceRoundWithReciprocal=!0,this.reloadState()}disableReplaceRoundWithReciprocal(){this.replaceRoundWithReciprocal=!1,this.reloadState()}};fc(),Ns();var Qm=class{constructor(e,t){this.keyboardMode="main",this.fontSize=16,this.invertedColors=!1,this.backgroundColor="",this.textColor="",this.projectorMode=!1,this.capExpressionSize=!1,this.decimalToFraction=!0,this.settingsMenu=!0,this.settingsMenuOpen=!1,this.language="en",this.brailleMode="none",this.sixKeyInput=!1,this.brailleControls=!0,this.brailleExpressionDownload=!0,this.replaceCommaWith10Exp=!1,this.typingAsteriskWritesTimesSymbol=!1,this.stateStack=new $l,this.dispatcher=new Fc,this.s=Pl((()=>this.language)),this.dispatch=e=>{let t;for(Qh("dispatch",{type:e.type}),this.dispatcher.dispatch(e);t=this._queuedCallbacks.shift();)t()},this._queuedCallbacks=[],this.stateStack=new $l,this.dispatcher=new Fc,this.options=e,this.model=new Xm({evaluationMode:this.options.evaluationMode,additionalFunctions:this.options.additionalFunctions,functionDefinition:this.options.functionDefinition,replaceRoundWithReciprocal:this.options.replaceRoundWithReciprocal,workerPool:t.workerPool}),this.model=this.model,this.model.setDegreeMode(e.degreeMode),this.setLanguage(e.language),this.setBrailleMode(e.brailleMode),this.setSixKeyInput(e.sixKeyInput),this.setBrailleControls(e.brailleControls),this.setBrailleExpressionDownload(e.brailleExpressionDownload),this.setReplaceCommaWith10Exp(e.replaceCommaWith10Exp),this.setReplaceRoundWithReciprocal(e.replaceRoundWithReciprocal),this.setTypingAsteriskWritesTimesSymbol(e.typingAsteriskWritesTimesSymbol),this.setProjectorMode(e.projectorMode),this.setCapExpressionSize(e.capExpressionSize),this.setDecimalToFraction(e.decimalToFraction),this.invertedColors=e.invertedColors,this.backgroundColor=e.backgroundColor,this.textColor=e.textColor,this.settingsMenu=e.settingsMenu,this.model.onEvaluationUpdate=()=>this.dispatch({type:"render"}),this.settingsProxy=t.settingsProxy,this.syncPublicSettings(),this.hookUpDispatcher(),this.containerSize={width:0,height:0}}runAfterDispatch(e){this._queuedCallbacks.push(e)}enqueueEvent(e){this.runAfterDispatch((()=>{this.onEventEmitted&&this.onEventEmitted(e)}))}getFunctionDefinition(){return this.options.functionDefinition}getSettingsMenu(){return this.settingsMenu}getBrailleMode(){return this.brailleMode}renderAsBraille(){return"none"!==this.brailleMode}setBrailleMode(e){this.brailleMode=e}getSixKeyInput(){return this.sixKeyInput}setSixKeyInput(e){this.sixKeyInput=e}getBrailleControls(){return this.brailleControls}setBrailleControls(e){this.brailleControls=e}getBrailleExpressionDownload(){return this.brailleExpressionDownload}setBrailleExpressionDownload(e){this.brailleExpressionDownload=e}getRestrictedEditing(){return this.options.restrictedEditing}getKeyboardMode(){return this.keyboardMode}getFontSize(){return this.fontSize}getInvertedColors(){return this.invertedColors}hasBackgroundColor(){return"#ffffff"!==this.getBackgroundColor()}getBackgroundColor(){let e=__dcg_shared_module_exports__.cc(this.backgroundColor||"#fff");return this.getInvertedColors()&&"#ffffff"!==e?__dcg_shared_module_exports__.fc(e):e}getTextColor(){let e=__dcg_shared_module_exports__.cc(this.textColor||"#000");return this.getInvertedColors()&&"#000000"!==e?__dcg_shared_module_exports__.fc(e):e}getAdditionalFunctions(){return this.options.additionalFunctions}getTypingSlashWritesDivisionSymbol(){return this.options.typingSlashWritesDivisionSymbol}setTypingAsteriskWritesTimesSymbol(e){this.typingAsteriskWritesTimesSymbol=e}getTypingAsteriskWritesTimesSymbol(){return this.typingAsteriskWritesTimesSymbol}setProjectorMode(e){this.projectorMode=e}isProjectorMode(){return this.projectorMode}getReplaceCommaWith10Exp(){return this.replaceCommaWith10Exp}setReplaceCommaWith10Exp(e){this.replaceCommaWith10Exp=e}getReplaceRoundWithReciprocal(){return this.model.getReplaceRoundWithReciprocal()}setReplaceRoundWithReciprocal(e){e?this.model.enableReplaceRoundWithReciprocal():this.model.disableReplaceRoundWithReciprocal()}setCapExpressionSize(e){this.capExpressionSize=e}getCapExpressionSize(){return this.capExpressionSize}setDecimalToFraction(e){this.decimalToFraction=e}setLanguage(e){"en"!==e&&-1===Desmos.supportedLanguages.indexOf(e)?__dcg_shared_module_exports__.Hc.warn(`Translation for '${e}' isn't currently available. Using '${this.language}' instead.`):this.language=e}getLanguage(){return this.language}getDecimalToFraction(){return this.decimalToFraction}isScientificCalc(){let e=this.options.evaluationMode;return"scientific"===e||"singleExpressionScientific"===e}isFourFunctionCalc(){return"fourFunction"===this.options.evaluationMode||"singleExpressionFourFunction"===this.options.evaluationMode}getAllowLinks(){return this.options.links}canUndo(){return this.stateStack.canUndo()}canRedo(){return this.stateStack.canRedo()}undo(e){if(!this.canUndo())return;this.stateStack.undo();let t=this.stateStack.getState();if(!e.restoreFocus){let e={focus:void 0};t=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t),{ui:e})}this.model.setState(t),this.enqueueEvent("change")}redo(e){if(!this.canRedo())return;this.stateStack.redo();let t=this.stateStack.getState();if(!e.restoreFocus){let e={focus:void 0};t=__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t),{ui:e})}this.model.setState(t),this.enqueueEvent("change")}clearHistory(){this.stateStack.clear()}canBackspace(){let e=this.model.getFocusedExpression();return e&&(e.latex.length>0||this.model.getNumberOfExpressions()>1)}focusLastExpression(){console.log("last 2"),this.model.focusLastExpression()}shouldRender(){return this.containerSize.width>0&&this.containerSize.height>0}canClear(){return this.model.canClear()}shouldShowClear(){return this.model.shouldShowClear()}enableSettingsMenu(){this.settingsMenu=!0}disableSettingsMenu(){this.closeSettingsMenu(),this.settingsMenu=!1}closeSettingsMenu(){this.settingsMenuOpen=!1}toggleSettingsMenu(){this.settingsMenuOpen=!this.settingsMenuOpen}isSettingsMenuOpen(){return this.settingsMenuOpen}isLastExpressionEmpty(){return this.model.isLastExpressionEmpty()}createAtEnd(){this.model.createAtEnd()}clearFocusedExpression(){this.model.clearFocusedExpression()}setLatexById(e,t){this.model.setLatexById(e,t)}setLatexAndBrailleById(e,t,n){this.model.setLatexAndBrailleById(e,t,n)}setLatexOfFocusedExpression(e){this.model.setLatexOfFocusedExpression(e)}toggleFractionEvaluationById(e){this.model.setFractionEvaluation(e,!this.model.getExpressionById(e).displayAsFraction)}conditionallyCopyPrevious(e){this.model.conditionallyCopyPrevious(e)}createBlankAfterId(e){this.model.createBlankAfterId(e)}backspaceAtFrontOfId(e){this.model.backspaceAtFrontOfId(e)}areStatesDifferentEnoughForUndoRedo(e,t){let n={focus:void 0};return __dcg_shared_module_exports__.Ea(__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},e),{ui:n}),__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t),{ui:n}))}commitUndoRedoDebounced(){let e=this.model.getState(),t=this.stateStack.getState();if(this.areStatesDifferentEnoughForUndoRedo(e,t))return;let n=(new Date).getTime();n-this._lastDebouncedTime<1e3?this.stateStack.replaceState(e):this.stateStack.addState(e),this._lastDebouncedTime=n,this.enqueueEvent("change")}commitUndoRedoSynchronously(){let e=this.model.getState(),t=this.stateStack.getState();this.areStatesDifferentEnoughForUndoRedo(e,t)||(this._lastDebouncedTime=0,this.stateStack.addState(e),this.enqueueEvent("change"))}updateKeyboardMode(e){this.keyboardMode=e}getFocusedMathquill(){if(this.model.getFocusedExpressionId())return qe.getFocusedMathquill()}ensureMathquillIsFocusedAndReturnFocusedMathquill(){return this.getFocusedMathquill()||(this.isLastExpressionEmpty()&&!this.model.isSingleExpression()?this.createAtEnd():this.focusLastExpression(),this.onEventEmitted&&this.onEventEmitted("render"),this.getFocusedMathquill())}typeIntoFocusedMathquill(e){e=e.replace(/\r|\n/g,"");let t=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();t&&qe.canAcceptText(t,this.getCapExpressionSize(),e)&&(t.typedText(e),this.setLatexOfFocusedExpression(t.latex()),this.model.markShouldDebounceUndoRedo())}pressKeyInFocusedMathquill(e,t){if("none"!==this.getBrailleMode())return;let n=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();n&&("Up"===e||"Down"===e||"Left"===e||"Right"===e?qe.applyArrowKeyAndReturnIfWasAtBounds(n,e,t)&&this.moveFocusInDirection(e):"Enter"===e?(t&&(t.preventDefault(),t.stopPropagation()),this.handleEnter()):"Backspace"===e&&this.attemptToMoveFocusWithBackspace()||(n.keystroke(e,t),this.setLatexOfFocusedExpression(n.latex())))}moveFocusInDirection(e){let t=this.model.getFocusedExpressionId();t&&("Up"===e?this.model.focusPrevById(t):"Down"===e&&this.model.focusNextById(t))}handleEnter(){if(this.model.isSingleExpression())return;let e=this.model.getFocusedExpressionId();e&&(this.conditionallyCopyPrevious(e),this.createBlankAfterId(e))}attemptToMoveFocusWithBackspace(){let e=this.model.getFocusedExpression();if(!e)return!1;let{latex:t,id:n}=e;return""===t&&(this.backspaceAtFrontOfId(n),!0)}executeCommandInFocusedMathquill(e){let t=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();t&&(Lp(t,e),this.setLatexOfFocusedExpression(t.latex()))}syncPublicSettings(){this.settingsProxy.setProperty("language",this.language),this.settingsProxy.setProperty("fontSize",this.fontSize),this.settingsProxy.setProperty("degreeMode",this.model.getDegreeMode()),this.settingsProxy.setProperty("invertedColors",this.invertedColors),this.settingsProxy.setProperty("backgroundColor",this.backgroundColor),this.settingsProxy.setProperty("textColor",this.textColor),this.settingsProxy.setProperty("brailleMode",this.brailleMode),this.settingsProxy.setProperty("sixKeyInput",this.sixKeyInput),this.settingsProxy.setProperty("brailleControls",this.brailleControls),this.settingsProxy.setProperty("brailleExpressionDownload",this.brailleExpressionDownload),this.settingsProxy.setProperty("projectorMode",this.projectorMode),this.settingsProxy.setProperty("capExpressionSize",this.capExpressionSize),this.settingsProxy.setProperty("decimalToFraction",this.decimalToFraction),this.settingsProxy.setProperty("qwertyKeyboard",this.options.qwertyKeyboard),this.settingsProxy.setProperty("links",this.options.links),this.settingsProxy.setProperty("settingsMenu",this.settingsMenu),this.settingsProxy.setProperty("functionDefinition",this.model.getFunctionDefinition()),this.settingsProxy.setProperty("replaceCommaWith10Exp",this.replaceCommaWith10Exp),this.settingsProxy.setProperty("replaceRoundWithReciprocal",this.model.getReplaceRoundWithReciprocal()),this.settingsProxy.setProperty("typingAsteriskWritesTimesSymbol",this.typingAsteriskWritesTimesSymbol)}hookUpDispatcher(){this.dispatcher.register((e=>{this.enqueueEvent("render");let t=!1,n=this.getRestrictedEditing();switch(e.type){case"update-options":this.options=__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},this.options),e.options);break;case"keypad/shift":{let e;switch(this.keyboardMode){case"qwerty":e="capitalQwerty";break;case"capitalQwerty":default:e="qwerty";break;case"letters":e="capitalLetters";break;case"capitalLetters":e="letters"}this.updateKeyboardMode(e)}break;case"undo":n||(this.undo({restoreFocus:"keyboard-shortcut"===e.source}),t=!0);break;case"redo":n||(this.redo({restoreFocus:"keyboard-shortcut"===e.source}),t=!0);break;case"clear-history":this.clearHistory();break;case"set-state-from-api":e.opts.allowUndo||this.clearHistory(),this.model.setStateFromAPI(e.state);break;case"main":this.updateKeyboardMode("main");break;case"ABC":this.options.qwertyKeyboard?this.updateKeyboardMode("qwerty"):this.updateKeyboardMode("letters");break;case"functions":this.updateKeyboardMode("functions");break;case"degrees":this.model.setDegreeMode(!this.model.getDegreeMode());break;case"update-degree-mode":this.model.setDegreeMode(!!e.mode);break;case"update-font-size":var r=e.size;if("number"!=typeof r&&(r=parseInt(r,10)),isNaN(r))return;this.fontSize=r;break;case"update-inverted-colors":this.invertedColors=!!e.mode;break;case"update-background-color":this.backgroundColor=e.color;break;case"update-text-color":this.textColor=e.color;break;case"update-projector-mode":this.setProjectorMode(!!e.mode);break;case"update-cap-expression-size":this.setCapExpressionSize(!!e.mode);break;case"update-decimal-to-fraction":this.setDecimalToFraction(!!e.mode);break;case"update-language":this.setLanguage(e.language);break;case"set-blank":e.opts.allowUndo||this.clearHistory(),this.model.clear(),this.focusLastExpression();break;case"clear":this.model.clearFocusedExpression();break;case"set-braille-mode":let i=e.mode;"nemeth"!==i&&"ueb"!==i&&"none"!==i?__dcg_shared_module_exports__.Hc.warn(`Valid Braille modes are 'nemeth', 'none', and 'ueb'. You passed '${i}'.`):(this.model.clearCachedBrailleValues(),this.setBrailleMode(e.mode));break;case"set-six-key-input":this.setSixKeyInput(!!e.mode);break;case"set-braille-controls":this.setBrailleControls(!!e.value);break;case"set-braille-expression-download":this.setBrailleExpressionDownload(!!e.mode);break;case"set-replace-comma-with-10-exp":this.setReplaceCommaWith10Exp(!!e.replace);break;case"set-replace-round-with-reciprocal":this.setReplaceRoundWithReciprocal(!!e.replace);break;case"set-typing-asterisk-writes-times-symbol":this.setTypingAsteriskWritesTimesSymbol(!!e.mode);break;case"update-latex":this.model.markShouldDebounceUndoRedo(),this.setLatexById(e.id,e.latex);break;case"update-latex-from-braille":this.model.markShouldDebounceUndoRedo(),this.setLatexAndBrailleById(e.id,e.latex,e.braille);break;case"focusin":this.model.setFocusedById(e.id,!0);break;case"focusout":this.model.setFocusedById(e.id,!1);break;case"focus-first-expression":this.model.focusFirstExpression();break;case"focus-prev-expression":this.moveFocusInDirection("Up");break;case"focus-next-expression":this.moveFocusInDirection("Down");break;case"focus-last-expression":this.model.focusLastExpression();break;case"insert-blank-expression":this.handleEnter();break;case"backspace-from-braille":this.attemptToMoveFocusWithBackspace();break;case"keypad/type-text":this.typeIntoFocusedMathquill(e.text);break;case"keypad/press-key":this.pressKeyInFocusedMathquill(e.key,e.evt);break;case"keypad/custom-command":this.executeCommandInFocusedMathquill(e.command);break;case"keypad/123":case"keypad/abc":case"keypad/audio-trace":case"render":break;case"enable-settings-menu":this.enableSettingsMenu();break;case"disable-settings-menu":this.disableSettingsMenu();break;case"toggle-settings-menu":this.toggleSettingsMenu();break;case"close-settings-menu":this.closeSettingsMenu();break;case"ui/container-resized":this.containerSize=e.size;break;case"toggle-fraction-evaluation":this.toggleFractionEvaluationById(e.id);break;default:return e}this.runAfterDispatch((()=>this.syncPublicSettings())),t||(this.model.getShouldDebounceUndoRedo()?(this.commitUndoRedoDebounced(),this.model.clearShouldDebounceUndoRedo()):this.commitUndoRedoSynchronously())}))}getMathquillConfig(){let e=this.getAdditionalFunctions(),t=this.isFourFunctionCalc()&&(!e||-1===e.indexOf("fraction"));return{typingAsteriskWritesTimesSymbol:this.getTypingAsteriskWritesTimesSymbol(),typingSlashWritesDivisionSymbol:this.getTypingSlashWritesDivisionSymbol(),disableCopyPaste:this.getRestrictedEditing(),autoCommands:Bs({disallowFrac:t}),autoOperatorNames:Ko(),logAriaAlerts:!!Sn().logAria}}},Xt=__dcg_shared_module_exports__.i(ne()),G_=__dcg_shared_module_exports__.i(ne()),zt=class extends G_.Class{init(){this.controller=this.props.controller(),this.model=this.controller.model,this.dispatch=this.controller.dispatch,this.s=this.controller.s}};at();var ui=__dcg_shared_module_exports__.i(ne()),Bd=__dcg_shared_module_exports__.i(ne()),ba=class extends rc{template(){return Bd.createElement("div",{class:Bd.const("dcg-keypad-control-bar dcg-do-not-blur"),role:Bd.const("group"),"aria-label":()=>this.controller.s("shared-calculator-narration-keypad-controlbar")},Bd.createElement("div",{class:Bd.const("dcg-keypad-control-bar-contents")},this.children))}},yh=__dcg_shared_module_exports__.i(ne()),Ar=class extends yh.Class{template(){return yh.createElement("div",{class:()=>({"dcg-keypad-control-btn":!0,"dcg-disabled":this.isDisabled(),"dcg-selected":!this.isDisabled()&&this.isSelected(),"dcg-selectable-btn":!this.isDisabled()&&this.isSelectable(),"dcg-narrow-control-btn":this.props.narrowButton&&this.props.narrowButton()}),didMount:this.bindFn(this.didMount),role:yh.const("button"),"aria-disabled":()=>this.isDisabled()||void 0,"aria-label":()=>this.getAriaLabel(),"dcg-command":this.props.command,onTap:this.bindFn(this.handleTap),"aria-pressed":()=>this.hasPopup()||this.isDisabled()||!this.isSelectable()?void 0:this.isSelected(),"aria-expanded":()=>this.hasPopup()&&!this.isDisabled()?this.isSelected():void 0,tabindex:this.bindFn(this.getTabIndex)},this.children)}getTabIndex(){if(!this.isDisabled())return this.props.ignoreInTabOrder&&this.props.ignoreInTabOrder()?-1:0}handleTap(e){this.isDisabled()||this.props.onTap(e)}getAriaLabel(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()}hasPopup(){return!!this.props.ariaPopup&&this.props.ariaPopup()}isDisabled(){return!!this.props.disabled&&this.props.disabled()}isSelected(){return!!this.props.selected&&this.props.selected()}isSelectable(){return!!this.props.selectable&&this.props.selectable()}didMount(e){this.props.didMount&&this.props.didMount(e)}},Ka=__dcg_shared_module_exports__.i(ne()),rr=__dcg_shared_module_exports__.i(ne());at();var ul=__dcg_shared_module_exports__.i(ne());function y6(){if(!bT)return!1;let e=navigator.userAgent.match(/Version\/(\d+)/);return!(!e||!e[1])&&parseFloat(e[1])<11}function A_(){return!xT&&!y6()&&void 0!==document.createElement("a").download}function V_(){return A_()||void 0!==navigator.msSaveBlob}var Zm=class extends ul.Class{init(){this.supportsDirectDownload=A_()}template(){return ul.createElement("a",{role:ul.const("button"),tabindex:()=>this.props.enabled()?0:-1,"aria-disabled":()=>!this.props.enabled(),class:()=>({"dcg-download-button":!0,"dcg-disabled":!this.props.enabled(),"dcg-braille-equations":this.props.isBraille,"dcg-svg-button":this.props.isSvg}),didMount:this.bindFn(this.didMountDownload),didUnmount:this.bindFn(this.didUnmountDownload),didUpdate:this.bindFn(this.didUpdate),download:()=>this.supportsDirectDownload?this.props.filename():void 0,onTap:e=>{if(this.supportsDirectDownload||!navigator.msSaveOrOpenBlob)return;let t=this.props.data();t&&(navigator.msSaveOrOpenBlob(t,this.props.filename()),e.preventDefault())}},ul.createElement("i",{class:ul.const("dcg-icon-download"),"aria-hidden":ul.const("true")}),ul.createElement("span",null,(()=>this.props.text())))}didMountDownload(e){this.downloadLink=e,this.didUpdate()}didUnmountDownload(){this.revokeBlobURL()}didUpdate(){this.updateDownloadURL(),this.cachedObjectURL&&(this.downloadLink.href=this.cachedObjectURL)}updateDownloadURL(){if(this.revokeBlobURL(),!this.supportsDirectDownload)return;let e=this.props.data();e&&(this.cachedObjectURL=URL.createObjectURL(e))}revokeBlobURL(){this.cachedObjectURL&&URL.revokeObjectURL(this.cachedObjectURL)}},bh=__dcg_shared_module_exports__.i(Vc());function Yv(e,t,n=!1){if(n&&(e=e.replace(/ /g,"\\ ")),"none"===t)return e;let r="nemeth"===t?bh.latexToNemeth(e):bh.latexToUeb(e);return r.isError?"":bh.UnicodeBraille.toBrailleAscii(r.value)}function L_(e,t){if("none"===t)return"";let n=[];n.push(Yv("Expression List",t,!0)),n.push(""),n.push("");for(let r of e.getExpressionOrder()){let i=b6(e.getExpressionIndex(r)+1,t),o=e.getExpressionLatex(r),a=e.getExpressionValue(r);void 0!==a&&(o+=`=${a}`),n.push(`${i}  ${Yv(o,t,!1)}`)}return n.join("\n")}function b6(e,t){let n=""+e;return"nemeth"===t?`${Yv(n,t,!1)}_4`:"ueb"===t?Yv(`${n}.`,t,!1):""}var{If:Jv}=rr.Components,Xv=class extends zt{template(){return rr.createElement("div",{class:()=>({"dcg-settings-dropdown":!0,"dcg-popover":!0,"dcg-has-background-color":this.controller.hasBackgroundColor(),"dcg-point-left":this.controller.containerSize.height<=420}),role:rr.const("region"),"aria-label":rr.const("Settings Menu"),didMount:this.bindFn(this.didMountSettingsDropdown),didUnmount:this.bindFn(this.didUnmountSettingsDropdown)},rr.createElement("div",{class:rr.const("dcg-popover-interior"),style:()=>({background:this.controller.getBackgroundColor()})},rr.createElement("div",{class:()=>({"dcg-settings-menu-option":!0,"dcg-displaysize-container":!0})},rr.createElement(Oi,{ariaGroupLabel:()=>this.controller.s("shared-calculator-narration-settings-display-size"),staticConfig:this.bindFn(this.getProjectorModeOptions)})),rr.createElement(kt,{onChange:this.bindFn(this.onToggleInvertedColors),checked:()=>this.controller.getInvertedColors(),class:this.const("dcg-settings-menu-option dcg-do-not-blur dcg-reverse-contrast")},rr.createElement("span",{class:rr.const("dcg-checkbox-label")},(()=>this.controller.s("basic-calculator-label-reverse-contrast")))),rr.createElement(Jv,{predicate:()=>this.controller.getBrailleControls()},(()=>rr.createElement("div",null,rr.createElement(kt,{onChange:this.bindFn(this.onToggleBrailleMode),checked:()=>this.controller.renderAsBraille(),class:this.const("dcg-settings-menu-option dcg-do-not-blur dcg-braille-mode")},rr.createElement("span",{class:rr.const("dcg-checkbox-label")},(()=>this.controller.s("shared-calculator-narration-braille-mode")))),rr.createElement(Jv,{predicate:()=>this.controller.renderAsBraille()},(()=>rr.createElement("div",{class:()=>({"dcg-settings-menu-option":!0,"dcg-braille-container":!0})},rr.createElement(Oi,{ariaGroupLabel:()=>this.controller.s("shared-calculator-narration-braille-mode"),staticConfig:this.bindFn(this.getBrailleOptions)}),rr.createElement("div",{class:rr.const("dcg-braille-options-container")},rr.createElement(kt,{onChange:()=>this.onToggleSixKeyInput(),checked:()=>this.controller.getSixKeyInput(),class:this.const("dcg-settings-menu-option dcg-do-not-blur dcg-six-key-checkbox")},rr.createElement("span",{class:rr.const("dcg-checkbox-label")},(()=>this.controller.s("basic-calculator-label-six-key-input")))),rr.createElement("a",{href:rr.const("https://www.desmos.com/accessibility#braille"),class:rr.const("dcg-six-key-info"),target:rr.const("_blank")},rr.createElement("i",{class:rr.const("dcg-icon-question-sign"),"aria-hidden":rr.const("true")})),rr.createElement(Jv,{predicate:()=>!Xy&&V_()&&this.controller.getBrailleExpressionDownload()},(()=>rr.createElement(Zm,{data:()=>{let e=L_(this.model,this.controller.getBrailleMode());return new Blob([e],{type:"text/plain"})},enabled:this.const(!0),filename:this.const("desmos-equations.brl"),text:()=>this.controller.s("basic-calculator-link-download-braille-equations"),isBraille:this.const(!0)})))))))))),rr.createElement(Jv,{predicate:()=>!!this.getVersionNumber()},(()=>rr.createElement("div",{class:rr.const("dcg-version-number")},rr.const("Version: "),(()=>this.getVersionNumber()))))))}getBrailleOptions(){return[{key:"nemeth",label:()=>this.controller.s("shared-calculator-button-braille-mode-nemeth"),selected:()=>this.isNemeth(),onSelect:()=>this.setBrailleMode("nemeth")},{key:"ueb",label:()=>this.controller.s("shared-calculator-button-braille-mode-ueb"),selected:()=>!this.isNemeth(),onSelect:()=>this.setBrailleMode("ueb")}]}setBrailleMode(e){this.controller.dispatch({type:"set-braille-mode",mode:e})}getProjectorModeOptions(){return[{key:"default",label:()=>"A",ariaLabel:()=>this.controller.s("shared-calculator-narration-settings-display-size-default"),class:()=>"dcg-displaysize-default",selected:()=>!this.getProjectorMode(),onSelect:()=>this.onSelectProjectorModeOption(!1)},{key:"large",label:()=>"A",ariaLabel:()=>this.controller.s("shared-calculator-narration-settings-display-size-large"),class:()=>"dcg-displaysize-large",selected:()=>this.getProjectorMode(),onSelect:()=>this.onSelectProjectorModeOption(!0)}]}onSelectProjectorModeOption(e){this.controller.dispatch({type:"update-projector-mode",mode:e})}getVersionNumber(){let e=window;if(e&&e.AppBridge)return e.AppBridge.versionNumber}didUnmountSettingsDropdown(){P(document).off(".dcg-settings-view")}didMountSettingsDropdown(e){this.settingsGroupNode=e,P(document).on("dcg-tapstart.dcg-settings-view",(e=>{0===P(e.target).closest(".dcg-basic-settings-container").length&&this.controller.dispatch({type:"close-settings-menu"})})),P(document).on("keydown.dcg-settings-view",(e=>{if("Esc"===Le(e)&&(this.controller.dispatch({type:"close-settings-menu"}),this.controller.dispatch({type:"focus-last-expression"})),"Tab"===Le(e)&&!e.altKey&&!e.metaKey&&!e.ctrlKey){let t=document.activeElement,n=P(this.props.settingsButtonNode()),r=P(this.settingsGroupNode).find(".dcg-settings-menu-option:last");e.shiftKey||t!==r[0]?e.shiftKey&&t===n[0]&&(r.trigger("focus"),e.preventDefault(),e.stopPropagation()):(n.trigger("focus"),e.preventDefault(),e.stopPropagation())}}))}onToggleBrailleMode(){this.controller.dispatch({type:"set-braille-mode",mode:this.controller.renderAsBraille()?"none":"nemeth"})}isNemeth(){return"nemeth"===this.controller.getBrailleMode()}isUEB(){return"ueb"===this.controller.getBrailleMode()}isLatex(){return"none"===this.controller.getBrailleMode()}onToggleSixKeyInput(){let e=!this.controller.getSixKeyInput();this.controller.dispatch({type:"set-six-key-input",mode:e})}onToggleInvertedColors(){let e=!this.controller.getInvertedColors();this.controller.dispatch({type:"update-inverted-colors",mode:e})}getProjectorMode(){return this.controller.isProjectorMode()}},{If:w6}=Ka.Components,xh=class extends zt{template(){let e=this.props.controller();return Ka.createElement("div",{class:Ka.const("dcg-basic-settings-container")},Ka.createElement(Ar,{didMount:e=>this.settingsButtonNode=e,command:this.const("settings"),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-settings"),onTap:this.bindFn(this.onToggleSettingsMenu),selected:()=>this.controller.isSettingsMenuOpen(),ariaPopup:this.const(!0)},Ka.createElement("i",{class:Ka.const("dcg-icon-wrench"),"aria-hidden":Ka.const("true")})),Ka.createElement(w6,{predicate:()=>this.controller.isSettingsMenuOpen()},(()=>Ka.createElement(Xv,{controller:this.props.controller,settingsButtonNode:()=>this.settingsButtonNode}))))}onToggleSettingsMenu(){this.controller.dispatch({type:"toggle-settings-menu"})}},{If:ey,IfElse:v6}=ui.Components,Qv=class extends zt{template(){let e=this.props.controller();return ui.createElement(ba,{controller:this.props.controller},ui.createElement(ey,{predicate:()=>!this.controller.getRestrictedEditing()},(()=>ui.createElement(Ar,{command:this.const("undo"),disabled:()=>!e.canUndo(),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-undo"),onTap:t=>e.dispatch({type:"undo",source:"keyboard"===t.device?"button-keyboard":"button-tap"})},ui.createElement("i",{class:ui.const("dcg-icon-undo"),"aria-hidden":ui.const("true")})))),ui.createElement(ey,{predicate:()=>!this.controller.getRestrictedEditing()},(()=>ui.createElement(Ar,{command:this.const("redo"),disabled:()=>!e.canRedo(),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-redo"),onTap:t=>e.dispatch({type:"redo",source:"keyboard"===t.device?"button-keyboard":"button-tap"})},ui.createElement("i",{class:ui.const("dcg-icon-redo"),"aria-hidden":ui.const("true")})))),v6((()=>e.shouldShowClear()),{true:()=>ui.createElement(Ar,{command:this.const("clear"),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-clear"),onTap:()=>e.dispatch({type:"clear"})},(()=>e.s("basic-calculator-button-controlbar-clear"))),false:()=>ui.createElement(Ar,{command:this.const("clearall"),disabled:()=>!e.canClear(),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-clear-all"),onTap:()=>e.dispatch({type:"set-blank",opts:{allowUndo:!0}})},(()=>e.s("basic-calculator-button-controlbar-clear-all")))}),ui.createElement(ey,{predicate:()=>this.controller.getRestrictedEditing()},(()=>ui.createElement("div",{class:ui.const("dcg-spacer-2")}))),ui.createElement(ey,{predicate:()=>"none"===e.getBrailleMode()},(()=>ui.createElement(Ar,{command:this.const("backspace"),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-backspace"),disabled:()=>!e.canBackspace(),onTap:()=>e.dispatch({type:"keypad/press-key",key:"Backspace"})},ui.createElement("i",{class:ui.const("dcg-icon-delete"),"aria-hidden":ui.const("true")})))),ui.createElement(ey,{predicate:()=>this.props.controller().getSettingsMenu()},(()=>ui.createElement(xh,{controller:this.props.controller}))))}onToggleSettingsMenu(){this.controller.dispatch({type:"toggle-settings-menu"})}},Ri=__dcg_shared_module_exports__.i(ne()),{If:Zv}=Ri.Components,eC=class extends zt{template(){let e=this.props.controller();return Ri.createElement(ba,{controller:this.props.controller},Ri.createElement(Zv,{predicate:()=>!this.controller.getRestrictedEditing()},(()=>Ri.createElement(Ar,{command:this.const("undo"),disabled:()=>!e.canUndo(),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-undo"),onTap:t=>e.dispatch({type:"undo",source:"keyboard"===t.device?"button-keyboard":"button-tap"})},Ri.createElement("i",{class:Ri.const("dcg-icon-undo"),"aria-hidden":Ri.const("true")})))),Ri.createElement(Zv,{predicate:()=>!this.controller.getRestrictedEditing()},(()=>Ri.createElement(Ar,{command:this.const("redo"),disabled:()=>!e.canRedo(),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-redo"),onTap:t=>e.dispatch({type:"redo",source:"keyboard"===t.device?"button-keyboard":"button-tap"})},Ri.createElement("i",{class:Ri.const("dcg-icon-redo"),"aria-hidden":Ri.const("true")})))),Ri.createElement(Ar,{command:this.const("clear"),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-clear"),onTap:()=>e.dispatch({type:"clear"})},(()=>e.s("basic-calculator-button-controlbar-clear"))),Ri.createElement(Zv,{predicate:()=>this.controller.getRestrictedEditing()},(()=>Ri.createElement("div",{class:Ri.const("dcg-spacer-2")}))),Ri.createElement(Zv,{predicate:()=>"none"===e.getBrailleMode()},(()=>Ri.createElement(Ar,{command:this.const("backspace"),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-backspace"),disabled:()=>!e.canBackspace(),onTap:()=>e.dispatch({type:"keypad/press-key",key:"Backspace"})},Ri.createElement("i",{class:Ri.const("dcg-icon-delete"),"aria-hidden":Ri.const("true")})))))}},$i=__dcg_shared_module_exports__.i(ne()),Es=__dcg_shared_module_exports__.i(ne()),Kd=class extends rc{template(){return Es.createElement("div",{class:()=>({"dcg-keypad-control-toggle":!0,"dcg-toggled":this.props.toggled()}),role:Es.const("button"),tabindex:Es.const("0"),"aria-label":this.bindFn(this.getAriaLabel),onTap:this.bindFn(this.handleTap)},Es.createElement("div",{class:Es.const("dcg-ctrl-toggle-option")},this.props.defaultOption),Es.createElement("div",{class:Es.const("dcg-ctrl-toggle-option")},this.props.toggledOption),Es.createElement("div",{class:Es.const("dcg-ctrl-toggle-cover"),style:()=>({background:__dcg_shared_module_exports__.ec(this.controller.getBackgroundColor(),-.1)})}))}getAriaLabel(){let e={toggled:this.props.toggledAriaLabel(),default:this.props.defaultAriaLabel()};return this.props.toggled()?this.controller.s("shared-calculator-narration-control-toggle-switch-to-default",e):this.controller.s("shared-calculator-narration-control-toggle-switch-to-toggled",e)}handleTap(){this.props.toggled()?ge(this.props.defaultAriaLabel()):ge(this.props.toggledAriaLabel()),this.props.onTap(this.props.command())}},{If:Pk,IfElse:C6}=$i.Components,tC=class extends zt{template(){let e=this.props.controller();return $i.createElement(ba,{controller:this.props.controller},$i.createElement(Ar,{command:this.const("main"),selected:()=>"main"===e.getKeyboardMode(),disabled:()=>this.controller.renderAsBraille(),ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:()=>e.dispatch({type:"main"}),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-main")},(()=>e.s("basic-calculator-button-controlbar-main"))),$i.createElement(Ar,{command:this.const("ABC"),selected:()=>-1!==["qwerty","capitalQwerty","letters"].indexOf(e.getKeyboardMode()),disabled:()=>this.controller.renderAsBraille(),ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-abc"),onTap:()=>e.dispatch({type:"ABC"})},(()=>e.s("basic-calculator-button-controlbar-abc"))),$i.createElement(Ar,{command:this.const("functions"),selected:()=>-1!==["functions","restrictedFunctions"].indexOf(e.getKeyboardMode()),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-functions"),disabled:()=>this.controller.renderAsBraille(),ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:()=>e.dispatch({type:"functions"})},(()=>e.s("basic-calculator-button-controlbar-func"))),$i.createElement(Kd,{command:this.const("degrees"),toggled:()=>this.model.getDegreeMode(),defaultOption:()=>e.s("basic-calculator-label-controlbar-rad"),toggledOption:()=>e.s("basic-calculator-label-controlbar-deg"),defaultAriaLabel:()=>e.s("basic-calculator-narration-controlbar-radians"),toggledAriaLabel:()=>e.s("basic-calculator-narration-controlbar-degrees"),onTap:()=>e.dispatch({type:"degrees"}),controller:this.props.controller}),$i.createElement(Pk,{predicate:()=>!this.controller.getRestrictedEditing()},(()=>$i.createElement(Ar,{command:this.const("undo"),disabled:()=>!e.canUndo(),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-undo"),onTap:t=>e.dispatch({type:"undo",source:"keyboard"===t.device?"button-keyboard":"button-tap"})},$i.createElement("i",{class:$i.const("dcg-icon-undo"),"aria-hidden":$i.const("true")})))),$i.createElement(Pk,{predicate:()=>!this.controller.getRestrictedEditing()},(()=>$i.createElement(Ar,{command:this.const("redo"),disabled:()=>!e.canRedo(),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-redo"),onTap:t=>e.dispatch({type:"redo",source:"keyboard"===t.device?"button-keyboard":"button-tap"})},$i.createElement("i",{class:$i.const("dcg-icon-redo"),"aria-hidden":$i.const("true")})))),C6((()=>e.shouldShowClear()),{true:()=>$i.createElement(Ar,{command:this.const("clear"),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-clear"),onTap:()=>e.dispatch({type:"clear"})},(()=>e.s("basic-calculator-button-controlbar-clear"))),false:()=>$i.createElement(Ar,{command:this.const("clearall"),disabled:()=>!e.canClear(),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-clear-all"),onTap:()=>e.dispatch({type:"set-blank",opts:{allowUndo:!0}})},(()=>e.s("basic-calculator-button-controlbar-clear-all")))}),$i.createElement(Pk,{predicate:()=>this.props.controller().getSettingsMenu()},(()=>$i.createElement(xh,{controller:this.props.controller}))))}},ki=__dcg_shared_module_exports__.i(ne()),{If:P_}=ki.Components,rC=class extends zt{template(){let e=this.props.controller();return ki.createElement(ba,{controller:this.props.controller},ki.createElement(Kd,{command:this.const("degrees"),toggled:()=>this.model.getDegreeMode(),defaultOption:()=>e.s("basic-calculator-label-controlbar-rad"),toggledOption:()=>e.s("basic-calculator-label-controlbar-deg"),defaultAriaLabel:()=>e.s("basic-calculator-narration-controlbar-radians"),toggledAriaLabel:()=>e.s("basic-calculator-narration-controlbar-degrees"),onTap:()=>e.dispatch({type:"degrees"}),controller:this.props.controller}),ki.createElement("div",{class:ki.const("dcg-spacer")}),ki.createElement(P_,{predicate:()=>!this.controller.getRestrictedEditing()},(()=>ki.createElement(Ar,{command:this.const("undo"),disabled:()=>!e.canUndo(),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-undo"),onTap:t=>e.dispatch({type:"undo",source:"keyboard"===t.device?"button-keyboard":"button-tap"})},ki.createElement("i",{class:ki.const("dcg-icon-undo"),"aria-hidden":ki.const("true")})))),ki.createElement(P_,{predicate:()=>!this.controller.getRestrictedEditing()},(()=>ki.createElement(Ar,{command:this.const("redo"),disabled:()=>!e.canRedo(),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-redo"),onTap:t=>e.dispatch({type:"redo",source:"keyboard"===t.device?"button-keyboard":"button-tap"})},ki.createElement("i",{class:ki.const("dcg-icon-redo"),"aria-hidden":ki.const("true")})))),ki.createElement("div",{class:ki.const("dcg-spacer")}),ki.createElement(Ar,{narrowButton:this.const(!0),command:this.const("clear"),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-clear"),onTap:()=>e.dispatch({type:"clear"})},(()=>e.s("basic-calculator-button-controlbar-clear"))),ki.createElement(Ar,{narrowButton:this.const(!0),command:this.const("backspace"),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-backspace"),onTap:()=>e.dispatch({type:"keypad/press-key",key:"Backspace"})},ki.createElement("i",{class:ki.const("dcg-icon-delete"),"aria-hidden":ki.const("true")})))}},pl=__dcg_shared_module_exports__.i(ne()),ty=class extends zt{template(){return pl.createElement("div",{role:pl.const("region"),"aria-label":()=>this.s("shared-calculator-narration-keypad")},pl.createElement(qt,{controller:this.props.controller},pl.createElement(Ge,null,C(this,"(",{colspan:this.parenColspan()}),C(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(0),this.makeAdditionalFunctionKey(1),C(this,"division")),pl.createElement(Ge,null,C(this,"7",{style:"highlight"}),C(this,"8",{style:"highlight"}),C(this,"9",{style:"highlight"}),C(this,"multiplication")),pl.createElement(Ge,null,C(this,"4",{style:"highlight"}),C(this,"5",{style:"highlight"}),C(this,"6",{style:"highlight"}),C(this,"-")),pl.createElement(Ge,null,C(this,"1",{style:"highlight"}),C(this,"2",{style:"highlight"}),C(this,"3",{style:"highlight"}),C(this,"+")),pl.createElement(Ge,null,C(this,"0",{style:"highlight"}),C(this,".",{style:"highlight"}),C(this,"ans"),C(this,"enter",{style:"blue"}))))}parenColspan(){return this.controller.getAdditionalFunctions().length>1?.5:1}makeAdditionalFunctionKey(e){let t=this.controller.getAdditionalFunctions()[e];return"exponent"===t?C(this,"a^b"):"percent"===t?C(this,"%"):"sqrt"===t?C(this,"sqrt"):"fraction"===t?C(this,"a/b"):void 0}},hl=__dcg_shared_module_exports__.i(ne()),ry=class extends zt{template(){return hl.createElement("div",{role:hl.const("region"),"aria-label":()=>this.s("shared-calculator-narration-keypad")},hl.createElement(qt,{controller:this.props.controller},hl.createElement(Ge,null,C(this,"(",{colspan:this.parenColspan()}),C(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(1)),hl.createElement(Ge,null,C(this,"7",{style:"highlight"}),C(this,"8",{style:"highlight"}),C(this,"9",{style:"highlight"}),C(this,"division")),hl.createElement(Ge,null,C(this,"4",{style:"highlight"}),C(this,"5",{style:"highlight"}),C(this,"6",{style:"highlight"}),C(this,"multiplication")),hl.createElement(Ge,null,C(this,"1",{style:"highlight"}),C(this,"2",{style:"highlight"}),C(this,"3",{style:"highlight"}),C(this,"-")),hl.createElement(Ge,null,C(this,"0",{style:"highlight"}),C(this,".",{style:"highlight",colspan:this.dotColspan()}),this.makeAdditionalFunctionKey(0),C(this,"+"))))}parenColspan(){return 2===this.controller.getAdditionalFunctions().length?1.5:2}dotColspan(){return this.controller.getAdditionalFunctions().length?1:2}makeAdditionalFunctionKey(e){let t=this.controller.getAdditionalFunctions()[e];return"exponent"===t?C(this,"a^b"):"percent"===t?C(this,"%"):"sqrt"===t?C(this,"sqrt"):void 0}},qn=__dcg_shared_module_exports__.i(ne()),iy=class extends zt{template(){return qn.createElement(qt,{controller:this.props.controller},qn.createElement(Ge,null,C(this,"("),C(this,")"),C(this,"x^2"),C(this,"sqrt"),qn.createElement("div",{class:qn.const("dcg-partition-placeholder")}),C(this,"x^3"),C(this,"x^y"),C(this,"ythroot")),qn.createElement(Ge,null,C(this,"7",{style:"highlight"}),C(this,"8",{style:"highlight"}),C(this,"9",{style:"highlight"}),C(this,"division"),qn.createElement("div",{class:qn.const("dcg-partition-placeholder")}),C(this,"pi"),C(this,"e^x"),C(this,"!")),qn.createElement(Ge,null,C(this,"4",{style:"highlight"}),C(this,"5",{style:"highlight"}),C(this,"6",{style:"highlight"}),C(this,"multiplication"),qn.createElement("div",{class:qn.const("dcg-partition-placeholder")}),C(this,"log"),C(this,"ln"),C(this,"|x|")),qn.createElement(Ge,null,C(this,"1",{style:"highlight"}),C(this,"2",{style:"highlight"}),C(this,"3",{style:"highlight"}),C(this,"-"),qn.createElement("div",{class:qn.const("dcg-partition-placeholder")}),C(this,"sin"),C(this,"cos"),C(this,"tan")),qn.createElement(Ge,null,C(this,"0",{style:"highlight"}),C(this,".",{style:"highlight"}),C(this,"x/y"),C(this,"+"),qn.createElement("div",{class:qn.const("dcg-partition-placeholder")}),C(this,"arcsin"),C(this,"arccos"),C(this,"arctan")))}},Ua=__dcg_shared_module_exports__.i(ne()),Ii=__dcg_shared_module_exports__.i(ne()),{IfElse:S6}=Ii.Components,ny=class extends zt{template(){return Ii.createElement(qt,{controller:this.props.controller},Ii.createElement(Ge,null,C(this,"a^2"),C(this,"a^b"),C(this,"|a|"),Ii.createElement("div",{class:Ii.const("dcg-partition-placeholder")}),C(this,"7",{style:"highlight"}),C(this,"8",{style:"highlight"}),C(this,"9",{style:"highlight"}),C(this,"division"),Ii.createElement("div",{class:Ii.const("dcg-partition-placeholder")}),C(this,"%"),C(this,"a/b")),Ii.createElement(Ge,null,C(this,"sqrt"),C(this,"nthroot"),C(this,"pi"),Ii.createElement("div",{class:Ii.const("dcg-partition-placeholder")}),C(this,"4",{style:"highlight"}),C(this,"5",{style:"highlight"}),C(this,"6",{style:"highlight"}),C(this,"multiplication"),Ii.createElement("div",{class:Ii.const("dcg-partition-placeholder")}),C(this,"left",{style:"highlight"}),C(this,"right",{style:"highlight"})),Ii.createElement(Ge,null,C(this,"sin"),C(this,"cos"),C(this,"tan"),Ii.createElement("div",{class:Ii.const("dcg-partition-placeholder")}),C(this,"1",{style:"highlight"}),C(this,"2",{style:"highlight"}),C(this,"3",{style:"highlight"}),C(this,"-"),Ii.createElement("div",{class:Ii.const("dcg-partition-placeholder")}),Hr(.5),C(this,"backspace",{style:"highlight",colspan:1.5})),Ii.createElement(Ge,null,C(this,"("),C(this,")"),S6((()=>this.controller.getReplaceCommaWith10Exp()),{true:()=>C(this,"10^n"),false:()=>C(this,",")}),Ii.createElement("div",{class:Ii.const("dcg-partition-placeholder")}),C(this,"0",{style:"highlight"}),C(this,".",{style:"highlight"}),C(this,"ans"),C(this,"+"),Ii.createElement("div",{class:Ii.const("dcg-partition-placeholder")}),C(this,"enter",{style:"blue",colspan:2})))}},Ds=__dcg_shared_module_exports__.i(ne()),oy=class extends zt{template(){return Ds.createElement(qt,{controller:this.props.controller},Ds.createElement(Ge,null,C(this,"q"),C(this,"w"),C(this,"e"),C(this,"r"),C(this,"t"),C(this,"y"),C(this,"u"),C(this,"i"),C(this,"o"),C(this,"p")),Ds.createElement(Ge,null,Ds.createElement("div",{class:Ds.const("dcg-half-width-placeholder")}),C(this,"a"),C(this,"s"),C(this,"d"),C(this,"f"),C(this,"g"),C(this,"h"),C(this,"j"),C(this,"k"),C(this,"l"),Ds.createElement("div",{class:Ds.const("dcg-half-width-placeholder")})),Ds.createElement(Ge,null,C(this,"=",{style:"highlight"}),C(this,"z"),C(this,"x"),C(this,"c"),C(this,"v"),C(this,"b"),C(this,"n"),C(this,"m"),C(this,","),C(this,"backspace",{style:"highlight"})),Ds.createElement(Ge,null,C(this,"shift",{style:"highlight",colspan:1.5}),C(this,"("),C(this,")"),C(this,"["),C(this,"]"),C(this,"!"),C(this,"'"),C(this,"pi"),C(this,"enter",{style:"blue",colspan:1.5})))}},wh=__dcg_shared_module_exports__.i(ne()),ay=class extends zt{template(){return wh.createElement(qt,{controller:this.props.controller},wh.createElement(Ge,null,C(this,"a"),C(this,"b"),C(this,"c"),C(this,"d"),C(this,"e"),C(this,"f"),C(this,"g"),C(this,"h"),C(this,"i"),C(this,"j")),wh.createElement(Ge,null,C(this,"k"),C(this,"l"),C(this,"m"),C(this,"n"),C(this,"o"),C(this,"p"),C(this,"q"),C(this,"r"),C(this,"s"),C(this,"t")),wh.createElement(Ge,null,C(this,"=",{style:"highlight"}),C(this,","),C(this,"u"),C(this,"v"),C(this,"w"),C(this,"x"),C(this,"y"),C(this,"z"),C(this,"pi"),C(this,"backspace",{style:"highlight"})),wh.createElement(Ge,null,C(this,"shift",{style:"highlight",colspan:2}),C(this,"("),C(this,")"),C(this,"["),C(this,"]"),C(this,"!"),C(this,"'"),C(this,"enter",{style:"blue",colspan:2})))}},ks=__dcg_shared_module_exports__.i(ne()),sy=class extends zt{template(){return ks.createElement(qt,{controller:this.props.controller},ks.createElement(Ge,null,C(this,"Q"),C(this,"W"),C(this,"E"),C(this,"R"),C(this,"T"),C(this,"Y"),C(this,"U"),C(this,"I"),C(this,"O"),C(this,"P")),ks.createElement(Ge,null,ks.createElement("div",{class:ks.const("dcg-half-width-placeholder")}),C(this,"A"),C(this,"S"),C(this,"D"),C(this,"F"),C(this,"G"),C(this,"H"),C(this,"J"),C(this,"K"),C(this,"L"),ks.createElement("div",{class:ks.const("dcg-half-width-placeholder")})),ks.createElement(Ge,null,C(this,"=",{style:"highlight"}),C(this,"Z"),C(this,"X"),C(this,"C"),C(this,"V"),C(this,"B"),C(this,"N"),C(this,"M"),C(this,","),C(this,"backspace",{style:"highlight"})),ks.createElement(Ge,null,C(this,"shift",{style:"highlight",colspan:1.5}),C(this,"("),C(this,")"),C(this,"["),C(this,"]"),C(this,"!"),C(this,"'"),C(this,"pi"),C(this,"enter",{style:"blue",colspan:1.5})))}},vh=__dcg_shared_module_exports__.i(ne()),ly=class extends zt{template(){return vh.createElement(qt,{controller:this.props.controller},vh.createElement(Ge,null,C(this,"A"),C(this,"B"),C(this,"C"),C(this,"D"),C(this,"E"),C(this,"F"),C(this,"G"),C(this,"H"),C(this,"I"),C(this,"J")),vh.createElement(Ge,null,C(this,"K"),C(this,"L"),C(this,"M"),C(this,"N"),C(this,"O"),C(this,"P"),C(this,"Q"),C(this,"R"),C(this,"S"),C(this,"T")),vh.createElement(Ge,null,C(this,"=",{style:"highlight"}),C(this,","),C(this,"U"),C(this,"V"),C(this,"W"),C(this,"X"),C(this,"Y"),C(this,"Z"),C(this,"pi"),C(this,"backspace",{style:"highlight"})),vh.createElement(Ge,null,C(this,"shift",{style:"highlight",colspan:2}),C(this,"("),C(this,")"),C(this,"["),C(this,"]"),C(this,"!"),C(this,"'"),C(this,"enter",{style:"blue",colspan:2})))}},Pn=__dcg_shared_module_exports__.i(ne()),{IfElse:E6}=Pn.Components,cy=class extends zt{template(){return Pn.createElement("div",{class:Pn.const("dcg-sci-func-keypad")},Pn.createElement(qt,{controller:this.props.controller},Pn.createElement(Ge,null,C(this,"sin"),C(this,"cos"),C(this,"tan"),Pn.createElement("div",{class:Pn.const("dcg-partition-placeholder")}),C(this,"a^b"),C(this,"sqrt"),C(this,"nthroot")),Pn.createElement(Ge,null,C(this,"arcsin"),C(this,"arccos"),C(this,"arctan"),Pn.createElement("div",{class:Pn.const("dcg-partition-placeholder")}),C(this,"e^x"),C(this,"abs"),E6((()=>this.controller.getReplaceRoundWithReciprocal()),{true:()=>C(this,"a^{-1}"),false:()=>C(this,"round")})),Pn.createElement(Ge,null,C(this,"mean"),C(this,"stdev"),C(this,"stdevp"),Pn.createElement("div",{class:Pn.const("dcg-partition-placeholder")}),C(this,"ln"),C(this,"log"),C(this,"backspace",{style:"highlight"})),Pn.createElement(Ge,null,C(this,"nPr"),C(this,"nCr"),C(this,"!"),Pn.createElement("div",{class:Pn.const("dcg-partition-placeholder")}),C(this,"e"),C(this,"pi"),C(this,"enter",{style:"blue"}))))}},{SwitchUnion:D6}=Ua.Components,dy=class extends zt{template(){return Ua.createElement("div",{role:Ua.const("region"),"aria-label":()=>this.s("shared-calculator-narration-keypad")},D6((()=>this.controller.getKeyboardMode()),{qwerty:()=>Ua.createElement(oy,{controller:this.props.controller}),letters:()=>Ua.createElement(ay,{controller:this.props.controller}),capitalQwerty:()=>Ua.createElement(sy,{controller:this.props.controller}),capitalLetters:()=>Ua.createElement(ly,{controller:this.props.controller}),functions:()=>Ua.createElement(cy,{controller:this.props.controller}),main:()=>Ua.createElement(ny,{controller:this.props.controller})}))}},Wr=__dcg_shared_module_exports__.i(ne()),Vo=__dcg_shared_module_exports__.i(ne()),Sh=__dcg_shared_module_exports__.i(Vc()),{For:k6}=Vo.Components,Ch=class extends Vo.Class{template(){return Vo.createElement("tr",null,Vo.createElement(k6,{each:()=>this.getBrailleAscii(this.props.latex()),key:e=>e.key},Vo.createElement("td",null,(e=>Vo.createElement("span",{class:Vo.const("dcg-key-press")},(()=>e.char))))),Vo.createElement("td",{class:Vo.const("dcg-braille-font")},(()=>this.getBrailleUnicode(this.props.latex()))),Vo.createElement("td",null,Vo.createElement(ze,{config:this.const({}),latex:()=>this.props.latex()})))}getBrailleAscii(e){let t=Sh.UnicodeBraille.toExpandedBrailleAscii(this.getBrailleUnicode(e)),n=[];for(let e=0;e<t.length;e++)n.push({char:t[e],key:e+")"+t[e]});return n}getBrailleUnicode(e){let t;return"nemeth"===this.props.brailleMode()?t=Sh.latexToNemeth(e):"ueb"===this.props.brailleMode()&&(t=Sh.latexToUeb(e)),t&&t.value?t.value:""}},Ud=class extends zt{template(){return Wr.createElement("div",{class:()=>({"dcg-braille-io-keypad-container":!0,"dcg-has-background-color":this.controller.hasBackgroundColor()})},Wr.createElement("div",{class:Wr.const("dcg-braille-io-keypad")},Wr.createElement("div",{class:Wr.const("dcg-braille-description")},Wr.createElement("div",{class:Wr.const("dcg-braille-title")},(()=>this.controller.s("basic-calculator-text-braille-mode-is-on",{mode:this.brailleType()}))),Wr.createElement("div",{class:Wr.const("dcg-braille-info-text")},(()=>this.controller.s("basic-calculator-text-how-to-type-braille"))),Wr.createElement("div",{class:Wr.const("dcg-btn-primary"),role:Wr.const("button"),tabindex:Wr.const(0),onTap:()=>this.controller.dispatch({type:"set-braille-mode",mode:"none"})},(()=>this.controller.s("basic-calculator-button-turn-braille-mode-off",{mode:this.brailleType()})))),Wr.createElement("div",{class:Wr.const("dcg-braille-examples-table-container")},Wr.createElement("table",{class:Wr.const("dcg-braille-examples-table")},Wr.createElement("tr",null,Wr.createElement("th",null,(()=>this.controller.s("basic-calculator-heading-braille-table-type-this"))),Wr.createElement("th",null,(()=>this.brailleType())),Wr.createElement("th",null,(()=>this.controller.s("basic-calculator-heading-braille-table-typeset")))),Wr.createElement(Ch,{brailleMode:()=>this.controller.getBrailleMode(),latex:this.const("2+2")}),Wr.createElement(Ch,{brailleMode:()=>this.controller.getBrailleMode(),latex:this.const("\\frac{1}{2}")}),Wr.createElement(Ch,{brailleMode:()=>this.controller.getBrailleMode(),latex:this.const("\\sqrt{4}")})),Wr.createElement("div",{class:Wr.const("dcg-more-examples-link")},Wr.createElement("a",{href:()=>"https://www.desmos.com/braille-examples?"+this.controller.getBrailleMode(),target:Wr.const("_blank")},(()=>this.controller.s("basic-calculator-link-view-braille-examples")))))))}brailleType(){return"nemeth"===this.controller.getBrailleMode()?"Nemeth":"ueb"===this.controller.getBrailleMode()?"UEB":""}},Lo=__dcg_shared_module_exports__.i(ne()),St=__dcg_shared_module_exports__.i(ne());at();var uy=__dcg_shared_module_exports__.i(Vc()),Uc=__dcg_shared_module_exports__.i(Vc());function iC(e,t){return"nemeth"===t?Uc.latexToNemeth(e):"ueb"===t?Uc.latexToUeb(e):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}function O_(e,t){return"nemeth"===t?Uc.nemethToLatex(e):"ueb"===t?Uc.uebToLatex(e):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}var{If:nc,Input:I6,Textarea:M6}=St.Components,py=class extends zt{constructor(){super(...arguments),this.lastBrailleModeDuringFocusChange="none"}getAriaLabel(){let e=this.getIndex()+1+"";return this.s("shared-calculator-narration-expression-index",{index:e})}didUpdate(){this.renderAnsValue()}didMountMQ(e){this.$mq=P(e)}getExp(){return this.model.getExpressionById(this.props.id())}getAns(){return this.model.getExpressionAns(this.props.id())}getAnsId(){return this.model.getExpressionAnsId(this.props.id())}getLatex(){return this.getExp().latex}getValue(){return this.model.getExpressionValue(this.props.id())}getBraille(){let e=this.getExp().braille;if(""!==e)return e;{let e=iC(this.getLatex(),this.controller.getBrailleMode());return e.isError?"":uy.UnicodeBraille.toExpandedBrailleAscii(e.value)}}getIndex(){return this.model.getExpressionIndex(this.props.id())}getShowEvaluation(){return this.model.shouldShowEvaluationForExpression(this.props.id())}isFractionEvaluation(){return this.getExp().displayAsFraction}canDisplayEvaluationAsFraction(){return this.controller.getDecimalToFraction()&&this.model.canDisplayEvaluationAsFraction(this.props.id())}shouldDisplayEvaluationAsFraction(){return this.canDisplayEvaluationAsFraction()&&this.getExp().displayAsFraction}toggleFractionEvaluation(){this.dispatch({type:"toggle-fraction-evaluation",id:this.props.id()})}getFractionDisplayAriaLabel(){return this.shouldDisplayEvaluationAsFraction()?this.controller.s("basic-calculator-narration-convert-to-decimal"):this.controller.s("basic-calculator-narration-convert-to-fraction")}getError(){let e=this.model.getExpressionError(this.props.id());return e&&this.getLatex().length>0?ip(e,this.controller.getLanguage()):""}showError(){return!!this.getError()}getFractionMessage(){return this.shouldDisplayEvaluationAsFraction()?this.s("basic-calculator-label-convert-to-decimal"):this.s("basic-calculator-label-convert-to-fraction")}getIsFocused(){return!this.controller.isSettingsMenuOpen()&&this.model.isExpressionFocused(this.props.id())}onFocusedChanged(e){let t=this.controller.getBrailleMode(),n=t!==this.lastBrailleModeDuringFocusChange;this.lastBrailleModeDuringFocusChange=t,this.getExp()&&!n&&(e?this.dispatch({type:"focusin",id:this.props.id()}):this.dispatch({type:"focusout",id:this.props.id()}))}onMQReflow(){this.renderedAnsData=void 0,this.renderAnsValue()}renderAnsValue(){if(!this.$mq)return;let e=this.getAns(),t=!1,n=this.getAnsId();if(n){let e=this.model.getExpressionById(n);t=e&&e.displayAsFraction}this.renderedAnsData&&this.renderedAnsData.value==e&&this.renderedAnsData.displayAsFraction===t||(this.renderedAnsData={value:e,displayAsFraction:t},this.$mq.find(".dcg-mq-ans").each(((n,r)=>{let i,o=P(r);"number"==typeof e?i=__dcg_shared_module_exports__.Sa(e,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:t}):"string"==typeof e&&(i=e),i?o.removeClass("dcg-invalid").html(i):o.addClass("dcg-invalid").html('<i class="dcg-icon-error" aria-hidden="true"></i>')})))}getEvaluationLatex(){let e,t=this.getValue();if(void 0===t&&(t=NaN),this.model.isRationalizableConstant(this.props.id())&&!this.shouldDisplayEvaluationAsFraction())return"";if(!Array.isArray(t)){var n=__dcg_shared_module_exports__.Ta(t,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()});return"undefined"===n?"=\\mathrm{undefined}":"="+n}return e=`\\mathrm{${t.length}\\ element\\ list}`,e}getEvaluationBraille(){let e=iC(this.getEvaluationLatex(),this.controller.getBrailleMode());return e.isError?"":uy.UnicodeBraille.toExpandedBrailleAscii(e.value)}didMountBrailleInput(e){this.brailleInputNode=e}didUnmountBrailleInput(){this.brailleInputNode=void 0}handleBrailleFocus(e){let t=e.target;t&&setTimeout((()=>{t.setSelectionRange(0,0)}))}handleBrailleKeydown(e){!e.altKey&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&(Le(e)===Fn?(this.forceModelFocus(),this.dispatch({type:"focus-prev-expression"}),e.preventDefault()):Le(e)===Yn?(this.forceModelFocus(),this.dispatch({type:"focus-next-expression"}),e.preventDefault()):Le(e)===il?(this.forceModelFocus(),this.dispatch({type:"insert-blank-expression"}),e.preventDefault()):Le(e)===ga&&document.activeElement===this.brailleInputNode&&""===this.getBraille()&&(this.dispatch({type:"backspace-from-braille"}),e.preventDefault()))}forceModelFocus(){document.activeElement!==this.brailleInputNode&&this.onFocusedChanged(!0)}focusBrailleInput(){this.brailleInputNode&&document.activeElement!==this.brailleInputNode&&this.brailleInputNode.focus()}getPostLabel(){if(this.showError())return this.getError();if(this.getShowEvaluation()){let e=this.getValue();return void 0===e&&(e=NaN),Array.isArray(e)?`${e.length} element list`:"equals "+nn(__dcg_shared_module_exports__.Ta(e,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()}))}return""}onBrailleInput(e){this.controller.isSettingsMenuOpen()&&this.controller.dispatch({type:"close-settings-menu"});let t=O_(uy.UnicodeBraille.coerceToSixDotCells(e),this.controller.getBrailleMode()),n=t.isError?"":t.value;(!this.controller.getCapExpressionSize()||Ep(n)<=Dp)&&this.controller.dispatch({type:"update-latex-from-braille",latex:n,braille:e,id:this.props.id()})}getIndexSubscript(){return`_{${this.getIndex()+1}}`}getEvaluationDigits(){return this.controller.isScientificCalc()?10:7}onMountContainer(e){this.containerNode=e}onTapContainer(e){e.target===this.containerNode&&!this.getShowEvaluation()&&!this.showError()&&this.forceModelFocus()}template(){return St.createElement("div",{class:()=>({"dcg-basic-expression":!0,"dcg-focused":this.getIsFocused(),"dcg-braille-io":this.controller.renderAsBraille()}),onTap:this.bindFn(this.onTapContainer),onMount:this.bindFn(this.onMountContainer)},St.createElement(nc,{predicate:()=>this.controller.renderAsBraille()},(()=>St.createElement("div",{class:St.const("dcg-braille-input")},St.createElement(Md,{ariaLabel:()=>{let e=iC(`eq${this.getIndexSubscript()}`,this.controller.getBrailleMode());return e.isError?"":uy.UnicodeBraille.toExpandedBrailleAscii(e.value)},didMount:this.bindFn(this.didMountBrailleInput),didUnmount:this.bindFn(this.didUnmountBrailleInput),onFocusedChanged:this.bindFn(this.onFocusedChanged),shouldFocus:this.bindFn(this.getIsFocused),onKeydown:this.bindFn(this.handleBrailleKeydown),onInput:this.bindFn(this.onBrailleInput),sixKeyInput:()=>this.controller.getSixKeyInput(),value:()=>this.getBraille(),isStatic:this.const(!1)})))),St.createElement(nc,{predicate:()=>this.controller.renderAsBraille()},(()=>St.createElement("div",{class:St.const("dcg-braille-evaluation-container")},St.createElement(nc,{predicate:()=>this.getShowEvaluation()},(()=>St.createElement("div",{class:St.const("dcg-braille-evaluation")},St.createElement(I6,{readonly:this.const("true"),class:this.const("dcg-braille-evaluation-inner"),value:()=>this.getEvaluationBraille(),onFocus:this.bindFn(this.handleBrailleFocus),onKeydown:this.bindFn(this.handleBrailleKeydown),onInput:()=>{}})))),St.createElement(nc,{predicate:()=>this.showError()},(()=>St.createElement("div",{class:St.const("dcg-braille-error")},St.createElement("div",{class:St.const("dcg-basic-expression-error")},St.createElement("i",{class:St.const("dcg-icon-error"),"aria-hidden":St.const("true")})),St.createElement(M6,{readonly:this.const("true"),class:this.const("dcg-braille-error-inner"),value:()=>this.getError(),onFocus:this.bindFn(this.handleBrailleFocus),onKeydown:this.bindFn(this.handleBrailleKeydown),onInput:()=>{}}))))))),St.createElement(nc,{predicate:()=>this.controller.renderAsBraille()},(()=>St.createElement("div",{class:St.const("dcg-exp-mathquill-container"),didMount:this.bindFn(this.didMountMQ),onTap:this.bindFn(this.forceModelFocus)},St.createElement(ze,{latex:()=>this.getLatex(),config:this.const({}),onReflow:this.bindFn(this.onMQReflow)})))),St.createElement(nc,{predicate:()=>!this.controller.renderAsBraille()},(()=>St.createElement("div",{class:St.const("dcg-exp-mathquill-container"),didMount:this.bindFn(this.didMountMQ)},St.createElement(qe,{latex:()=>this.getLatex(),onReflow:this.bindFn(this.onMQReflow),isFocused:this.bindFn(this.getIsFocused),capExpressionSize:()=>this.controller.getCapExpressionSize(),config:this.bindFn(this.getMQConfig),getAriaLabel:()=>this.getAriaLabel(),getAriaPostLabel:()=>this.getPostLabel(),hasError:()=>!1,onUserPressedKey:(e,t)=>{this.controller.isSettingsMenuOpen()&&this.controller.dispatch({type:"close-settings-menu"}),this.dispatch({type:"keypad/press-key",key:e,evt:t})},onUserTypedText:e=>this.dispatch({type:"keypad/type-text",text:e}),onUserChangedLatex:e=>{this.dispatch({type:"update-latex",id:this.props.id(),latex:e})},onFocusedChanged:this.bindFn(this.onFocusedChanged),disableSpace:()=>this.controller.getRestrictedEditing()})))),St.createElement("div",{class:St.const("dcg-exp-output-container")},St.createElement(nc,{predicate:()=>this.showError()&&!this.controller.renderAsBraille()},(()=>St.createElement(Ue,{tooltip:this.bindFn(this.getError),gravity:this.const("w"),sticky:this.const(!0)},St.createElement("div",{class:St.const("dcg-basic-expression-error")},St.createElement("i",{class:St.const("dcg-icon-error"),"aria-hidden":St.const("true")}))))),St.createElement(nc,{predicate:()=>this.getShowEvaluation()},(()=>St.createElement("div",{class:()=>({"dcg-basic-expression-value":!0,"dcg-basic-evaluation-gray":Array.isArray(this.getValue())})},St.createElement(ze,{config:this.const({}),latex:()=>this.getEvaluationLatex()}),St.createElement(nc,{predicate:this.bindFn(this.canDisplayEvaluationAsFraction)},(()=>St.createElement(Ue,{tooltip:this.bindFn(this.getFractionMessage),gravity:this.const("sw")},St.createElement("span",{role:St.const("button"),tabindex:St.const("0"),"aria-label":this.bindFn(this.getFractionDisplayAriaLabel),class:()=>({"dcg-basic-fraction-toggle":!0,"dcg-selected":this.isFractionEvaluation()}),onTap:this.bindFn(this.toggleFractionEvaluation)},St.createElement("i",{class:St.const("dcg-icon-fraction"),"aria-hidden":St.const("true")}))))))))))}getMQConfig(){return this.controller.getMathquillConfig()}};at();var{For:T6,If:G6}=Lo.Components,hy=class extends zt{constructor(){super(...arguments),this.didShowAnswerHint=!1,this.didHideAnswerHint=!1}template(){return Lo.createElement("div",{class:Lo.const("dcg-basic-list-container"),role:Lo.const("region"),"aria-label":()=>this.controller.s("shared-calculator-narration-expression-list"),didMount:this.bindFn(this.didMountContainer)},Lo.createElement("div",{class:Lo.const("dcg-basic-list-placeholder"),didMount:this.bindFn(this.didMountPlaceholder)},Lo.createElement(G6,{predicate:this.bindFn(this.showAnswerHint)},(()=>Lo.createElement("div",{class:Lo.const("dcg-answer-hint")},(()=>this.controller.s("basic-calculator-label-answer-hint")))))),Lo.createElement(T6,{each:()=>this.model.getExpressionOrder()},Lo.createElement("div",{class:()=>({"dcg-basic-list":!0,"dcg-projector-mode":this.controller.isProjectorMode()})},(e=>Lo.createElement(py,{controller:this.props.controller,id:this.const(e)})))))}didMountPlaceholder(e){P(e).on("dcg-tap",Ur)}showAnswerHint(){if(this.didHideAnswerHint)return!1;let e=this.model.getExpressionOrder()[0];return!(!this.model.shouldShowEvaluationForExpression(e)&&!this.didShowAnswerHint)&&(this.didShowAnswerHint=!0,!(this.model.getNumberOfExpressions()>1||""===this.model.getExpressionLatex(e))||(this.didHideAnswerHint=!0,!1))}didUpdate(){if(!this.$container)return;let e=this.$container.find(".dcg-focused");e.length>0&&ss(e,this.$container,50)}didMountContainer(e){this.$container=P(e)}},{If:gy,IfElse:nC}=Xt.Components,fy=class extends zt{template(){return Xt.createElement(gy,{predicate:()=>this.controller.shouldRender()},(()=>Xt.createElement("div",{class:Xt.const("dcg-calculator-api-container"),style:Xt.const("width: 100%; height: 100%; position: relative;")},Xt.createElement("div",{class:()=>({"dcg-calc-basic-main-wrapper":!0,"dcg-narrow":this.controller.containerSize.width<570,"dcg-short":this.controller.containerSize.height<=540,"dcg-scientific-calculator":this.controller.isScientificCalc(),"dcg-four-function-calculator":this.controller.isFourFunctionCalc(),"dcg-container":!0}),onKeydown:this.bindFn(this.handleRootKeydown),didMount:this.bindFn(this.didMountRoot),"x-ms-format-detection":Xt.const("none")},Xt.createElement("div",{role:Xt.const("application"),"aria-label":()=>this.controller.isScientificCalc()?this.controller.s("basic-calculator-narration-calc-description-scientific"):this.controller.isFourFunctionCalc()?this.controller.s("basic-calculator-narration-calc-description-fourfunction"):"",class:()=>({"dcg-calc-basic-main":!0,"dcg-inverted-colors":this.controller.getInvertedColors(),"dcg-projector-mode":this.controller.isProjectorMode(),"dcg-ipad":Ja,"dcg-has-background-color":this.controller.hasBackgroundColor(),"dcg-no-hyperlinks":!this.controller.getAllowLinks()}),style:()=>({"font-size":`${this.controller.getFontSize()}px`,background:this.controller.getBackgroundColor(),color:this.controller.getTextColor(),filter:this.controller.getInvertedColors()?"invert(100%)":"none"})},Xt.createElement(hy,{controller:this.props.controller}),Xt.createElement(gy,{predicate:()=>this.controller.isScientificCalc()&&this.model.isSingleExpression()},(()=>Xt.createElement("div",null,Xt.createElement(rC,{controller:this.props.controller}),Xt.createElement("div",{class:Xt.const("dcg-basic-keypad-container")},nC((()=>this.controller.renderAsBraille()),{true:()=>Xt.createElement(Ud,{controller:this.props.controller}),false:()=>Xt.createElement(iy,{controller:this.props.controller})}))))),Xt.createElement(gy,{predicate:()=>this.controller.isScientificCalc()&&!this.model.isSingleExpression()},(()=>Xt.createElement("div",null,Xt.createElement(tC,{controller:this.props.controller}),Xt.createElement("div",{class:Xt.const("dcg-basic-keypad-container")},nC((()=>this.controller.renderAsBraille()),{true:()=>Xt.createElement(Ud,{controller:this.props.controller}),false:()=>Xt.createElement(dy,{controller:this.props.controller})}))))),Xt.createElement(gy,{predicate:()=>this.controller.isFourFunctionCalc()&&this.model.isSingleExpression()},(()=>Xt.createElement("div",null,Xt.createElement(eC,{controller:this.props.controller}),Xt.createElement("div",{class:Xt.const("dcg-basic-keypad-container")},nC((()=>this.controller.renderAsBraille()),{true:()=>Xt.createElement(Ud,{controller:this.props.controller}),false:()=>Xt.createElement(ry,{controller:this.props.controller})}))))),Xt.createElement(gy,{predicate:()=>this.controller.isFourFunctionCalc()&&!this.model.isSingleExpression()},(()=>Xt.createElement("div",null,Xt.createElement(Qv,{controller:this.props.controller}),Xt.createElement("div",{class:Xt.const("dcg-basic-keypad-container")},nC((()=>this.controller.renderAsBraille()),{true:()=>Xt.createElement(Ud,{controller:this.props.controller}),false:()=>Xt.createElement(ty,{controller:this.props.controller})}))))))))))}didMountRoot(e){fp(e)}handleRootKeydown(e){let t=Ei(e),n=this.controller.model;if(jg(e))return this.dispatch({type:"undo",source:"keyboard-shortcut"}),!1;if(Yg(e))return this.dispatch({type:"redo",source:"keyboard-shortcut"}),!1;if(e.altKey!==gi&&e.metaKey===gi&&!e.ctrlKey&&e.shiftKey&&"A"===t&&this.controller.getDecimalToFraction()){let t=n.getFocusedExpression();t&&n.canDisplayEvaluationAsFraction(t.id)&&(e.preventDefault(),e.stopPropagation(),this.controller.dispatch({type:"toggle-fraction-evaluation",id:t.id}),this.controller.runAfterDispatch((()=>{n.getFocusedExpression().displayAsFraction?ge(this.controller.s("shared-calculator-narration-show-as-fraction")):ge(this.controller.s("shared-calculator-narration-show-as-decimal"))})))}else if(!e.metaKey&&!e.shiftKey)if(e.ctrlKey||e.altKey||Le(e)!==ga){if(e.ctrlKey===gi&&e.altKey===!gi){if("N"===t)return this.controller.getBrailleControls()?(this.dispatch({type:"set-braille-mode",mode:"nemeth"}),ge(this.controller.s("shared-calculator-narration-hotkey-braille-mode-nemeth")),!1):void 0;if("U"===t)return this.controller.getBrailleControls()?(this.dispatch({type:"set-braille-mode",mode:"ueb"}),ge(this.controller.s("shared-calculator-narration-hotkey-braille-mode-ueb")),!1):void 0;if("Q"===t||"X"===t)return this.controller.getBrailleControls()?(this.dispatch({type:"set-braille-mode",mode:"none"}),ge(this.controller.s("shared-calculator-narration-hotkey-braille-mode-off")),!1):void 0;if("6"===t){if(!this.controller.getBrailleControls())return;let e=!this.controller.getSixKeyInput();return this.dispatch({type:"set-six-key-input",mode:e}),ge(e?this.controller.s("basic-calculator-narration-hotkey-six-key-input-on"):this.controller.s("basic-calculator-narration-hotkey-six-key-input-off")),!1}if("D"===t)return this.controller.isScientificCalc()?(e.preventDefault(),this.controller.dispatch({type:"degrees"}),ge(n.getDegreeMode()?this.controller.s("basic-calculator-narration-controlbar-degrees"):this.controller.s("basic-calculator-narration-controlbar-radians")),!1):void 0}}else if(!document.activeElement||Mc(P(document.activeElement)))return!1;return!0}},Eh=class extends Nd{constructor(e){super(e)}init(e){(e=__dcg_shared_module_exports__.k(e)).backgroundColor&&!__dcg_shared_module_exports__.dc(e.backgroundColor)&&(__dcg_shared_module_exports__.Hc.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete e.backgroundColor),e.textColor&&!__dcg_shared_module_exports__.dc(e.textColor)&&(__dcg_shared_module_exports__.Hc.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete e.textColor);let t=__dcg_shared_module_exports__.b({language:"en",qwertyKeyboard:!0,links:!0,degreeMode:!1,settingsMenu:!0,invertedColors:!1,backgroundColor:"#fff",textColor:"#000",brailleMode:"none",sixKeyInput:!1,brailleControls:!0,brailleExpressionDownload:!0,projectorMode:!1,capExpressionSize:!1,functionDefinition:!0,autosize:!0,evaluationMode:"scientific",restrictedEditing:!1,additionalFunctions:["sqrt"],typingSlashWritesDivisionSymbol:!1,typingAsteriskWritesTimesSymbol:!1,decimalToFraction:!0,replaceCommaWith10Exp:!1,replaceRoundWithReciprocal:!1},e);this.settings=new Mn;let n={workerPool:gh,settingsProxy:this.settings};this.controller=new Qm(t,n),this.controller.onEventEmitted=e=>{"render"===e&&this.updateView(),this.triggerEvent(e,void 0)},this.setupDomChangeDetector(t.autosize)}onCreateView(){return Dh.mountToNode(fy,this.rootElt,{controller:Dh.const(this.controller)})}setState(e,t){t||(t={}),this.controller.dispatch({type:"set-state-from-api",state:e,opts:{allowUndo:!!t.allowUndo}})}getState(){return __dcg_shared_module_exports__.k(this.controller.model.getPersistedState())}undo(){this.controller.dispatch({type:"undo",source:"api"})}redo(){this.controller.dispatch({type:"redo",source:"api"})}clearHistory(){this.controller.dispatch({type:"clear-history"})}setBlank(e){e||(e={}),this.controller.dispatch({type:"set-blank",opts:{allowUndo:!!e.allowUndo}})}updateSettings(e){if(null!=e)for(let t in e)switch(t){case"fontSize":let n=e[t];if(void 0===n)continue;this.controller.dispatch({type:"update-font-size",size:n});break;case"invertedColors":let r=e[t];if(void 0===r)continue;this.controller.dispatch({type:"update-inverted-colors",mode:r});break;case"backgroundColor":let i=e[t];if(void 0===i||!__dcg_shared_module_exports__.dc(i)){__dcg_shared_module_exports__.Hc.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)");continue}this.controller.dispatch({type:"update-background-color",color:i});break;case"textColor":let o=e[t];if(void 0===o||!__dcg_shared_module_exports__.dc(o)){__dcg_shared_module_exports__.Hc.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)");continue}this.controller.dispatch({type:"update-text-color",color:o});break;case"degreeMode":let a=e[t];if(void 0===a)continue;this.controller.dispatch({type:"update-degree-mode",mode:a});break;case"brailleMode":let s=e[t];this.controller.dispatch({type:"set-braille-mode",mode:s});break;case"sixKeyInput":let l=e[t];if(void 0===l)continue;this.controller.dispatch({type:"set-six-key-input",mode:l});break;case"brailleControls":{let n=e[t];if(void 0===n)continue;this.controller.dispatch({type:"set-braille-controls",value:n});break}case"brailleExpressionDownload":let c=e[t];if(void 0===c)continue;this.controller.dispatch({type:"set-braille-expression-download",mode:c});break;case"projectorMode":let d=e[t];if(void 0===d)continue;this.controller.dispatch({type:"update-projector-mode",mode:d});break;case"capExpressionSize":let p=e[t];if(void 0===p)continue;this.controller.dispatch({type:"update-cap-expression-size",mode:p});break;case"language":let u=e[t];if(void 0===u)continue;this.controller.dispatch({type:"update-language",language:dl(u)});break;case"settingsMenu":e.settingsMenu?this.controller.dispatch({type:"enable-settings-menu"}):this.controller.dispatch({type:"disable-settings-menu"});break;case"qwertyKeyboard":{this.controller.dispatch({type:"update-options",options:{qwertyKeyboard:!!e.qwertyKeyboard}});let t=this.controller.getKeyboardMode();("qwerty"===t||"letters"===t)&&this.controller.dispatch({type:"ABC"})}break;case"functionDefinition":e.functionDefinition?this.controller.model.enableFunctionDefinition():this.controller.model.disableFunctionDefinition();break;case"links":this.controller.dispatch({type:"update-options",options:{links:!!e.links}});break;case"decimalToFraction":let h=e[t];if(void 0===h)continue;this.controller.dispatch({type:"update-decimal-to-fraction",mode:h});break;case"replaceCommaWith10Exp":let g=e[t];if(void 0===g)continue;this.controller.dispatch({type:"set-replace-comma-with-10-exp",replace:g});break;case"replaceRoundWithReciprocal":let m=e[t];if(void 0===m)continue;this.controller.dispatch({type:"set-replace-round-with-reciprocal",replace:m});break;case"restrictedEditing":this.controller.dispatch({type:"update-options",options:{restrictedEditing:!!e.restrictedEditing}});break;case"typingAsteriskWritesTimesSymbol":let f=e[t];if(void 0===f)continue;this.controller.dispatch({type:"set-typing-asterisk-writes-times-symbol",mode:f})}}focusFirstExpression(){this.controller.dispatch({type:"focus-first-expression"})}onResizeView(e){this.controller.dispatch({type:"ui/container-resized",size:e})}onDestroyView(){Dh.unmountFromNode(this.rootElt)}destroy(){this.controller.model.destroy(),super.destroy()}},kh=class extends Eh{constructor(e,t){super(e),this.init(A6(t||{}))}};function A6(e){if((e=__dcg_shared_module_exports__.k(e)).hasOwnProperty("typingSlashWritesDivisionSymbol")||(e.typingSlashWritesDivisionSymbol=!0),e.hasOwnProperty("typingAsteriskWritesTimesSymbol")||(e.typingAsteriskWritesTimesSymbol=!0),e.exponentButtonForSquareRoot&&(__dcg_shared_module_exports__.Hc.warn("As of API version 1.0, the 'exponentButtonForSquareRoot' option is deprecated.Use 'additionalFunctions: \"exponent\"' instead."),e.additionalFunctions=["exponent"]),e.additionalFunctions){var t=e.additionalFunctions;"string"==typeof t&&(t=[t]),t.length>2&&(__dcg_shared_module_exports__.Hc.warn("additionalFunctions can only take up to 2 new functions. Using the first two."),t=t.slice(0,2));let r=!0;for(var n=0;n<t.length;n++)-1===["sqrt","exponent","percent","fraction"].indexOf(t[n])&&(__dcg_shared_module_exports__.Hc.warn("Unrecognized value: '"+t[n]+"' for 'additionalFunction'. Valid values are 'sqrt', 'percent', 'exponent', or 'fraction'. Using default (\"sqrt\")"),r=!1);e.additionalFunctions=r?t:["sqrt"]}return(!e.additionalFunctions||!e.additionalFunctions.length)&&(e.additionalFunctions=["sqrt"]),e.singleExpression?e.evaluationMode="singleExpressionFourFunction":e.evaluationMode="fourFunction",delete e.singleExpression,e.hasOwnProperty("decimalToFraction")||(e.decimalToFraction=!1),e.language&&(e.language=dl(e.language)),e}var Ih=class extends Eh{constructor(e,t){super(e),this.init(V6(t||{}))}};function V6(e){return(e=__dcg_shared_module_exports__.k(e)).singleExpression?e.evaluationMode="singleExpressionScientific":e.evaluationMode="scientific",delete e.singleExpression,e.language&&(e.language=dl(e.language)),e}var Th=__dcg_shared_module_exports__.i(ne()),my=class{constructor(e){var t,n;this.keypadType="scientific",this.projectorMode="none",this.scientificKeyboardMode="main",this.dispatcher=new Fc,this.s=Pl((()=>"en")),this.dispatch=e=>{let t;for(this.dispatcher.dispatch(e);t=this._queuedCallbacks.shift();)t()},this._queuedCallbacks=[],this.keypadType=null!=(t=null==e?void 0:e.keypadType)?t:"scientific",this.projectorMode=null!=(n=null==e?void 0:e.projectorMode)?n:"none",this.dispatcher=new Fc,this.hookUpDispatcher()}getBackgroundColor(){return"does-not-matter"}runAfterDispatch(e){this._queuedCallbacks.push(e)}enqueueEvent(e){this.runAfterDispatch((()=>{this.onEventEmitted&&this.onEventEmitted(e)}))}getKeypadType(){return this.keypadType}getProjectorMode(){return this.projectorMode}getScientificKeyboardMode(){return this.scientificKeyboardMode}updateKeyboardMode(e){this.scientificKeyboardMode=e}typeIntoFocusedMathquill(e){e=e.replace(/\r|\n/g,"");let t=this.activeMQ;t&&(t.typedText(e),qe.simulateUserChangedLatex(t))}pressKeyInFocusedMathquill(e,t){let n=this.activeMQ;if(n){if("Enter"===e)return t&&(t.preventDefault(),t.stopPropagation()),void this.enqueueEvent("enter");n.keystroke(e,t)}}executeCommandInFocusedMathquill(e){let t=this.activeMQ;t&&Lp(t,e)}hookUpDispatcher(){this.dispatcher.register((e=>{switch(this.enqueueEvent("render"),e.type){case"hide-keypad":this.enqueueEvent("hide-keypad");break;case"set-active-mq":this.activeMQ=e.mq;break;case"set-keypad-type":this.keypadType=e.keypadType;break;case"keypad/shift":this.updateKeyboardMode("capitalQwerty"===this.scientificKeyboardMode?"qwerty":"capitalQwerty");break;case"main":this.updateKeyboardMode("main");break;case"ABC":this.updateKeyboardMode("qwerty");break;case"functions":this.updateKeyboardMode("functions");break;case"keypad/type-text":this.typeIntoFocusedMathquill(e.text);break;case"keypad/press-key":this.pressKeyInFocusedMathquill(e.key,e.evt);break;case"keypad/custom-command":this.executeCommandInFocusedMathquill(e.command);break;case"keypad/123":case"keypad/abc":case"keypad/audio-trace":break;default:return e}}))}},Ni=__dcg_shared_module_exports__.i(ne()),__=__dcg_shared_module_exports__.i(ne()),On=class extends __.Class{init(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch,this.s=this.controller.s}},zi=__dcg_shared_module_exports__.i(ne()),oC=class extends On{template(){return zi.createElement(qt,{controller:this.props.controller},zi.createElement(Ge,null,C(this,"a^2"),C(this,"a^b"),C(this,"|a|"),C(this,"a/b"),zi.createElement("div",{class:zi.const("dcg-partition-placeholder")}),C(this,"7",{style:"highlight"}),C(this,"8",{style:"highlight"}),C(this,"9",{style:"highlight"}),C(this,"/"),zi.createElement("div",{class:zi.const("dcg-partition-placeholder")}),C(this,"x"),C(this,"y")),zi.createElement(Ge,null,C(this,"("),C(this,")"),C(this,"<"),C(this,">"),zi.createElement("div",{class:zi.const("dcg-partition-placeholder")}),C(this,"4",{style:"highlight"}),C(this,"5",{style:"highlight"}),C(this,"6",{style:"highlight"}),C(this,"*"),zi.createElement("div",{class:zi.const("dcg-partition-placeholder")}),C(this,"left",{style:"highlight"}),C(this,"right",{style:"highlight"})),zi.createElement(Ge,null,C(this,"sqrt"),C(this,","),C(this,"<="),C(this,">="),zi.createElement("div",{class:zi.const("dcg-partition-placeholder")}),C(this,"1",{style:"highlight"}),C(this,"2",{style:"highlight"}),C(this,"3",{style:"highlight"}),C(this,"-"),zi.createElement("div",{class:zi.const("dcg-partition-placeholder")}),Hr(.5),C(this,"backspace",{style:"highlight",colspan:1.5})),zi.createElement(Ge,null,C(this,"nthroot"),C(this,"pi"),C(this,"%"),C(this,"a_b"),zi.createElement("div",{class:zi.const("dcg-partition-placeholder")}),C(this,"0",{style:"highlight"}),C(this,".",{style:"highlight"}),C(this,"="),C(this,"+"),zi.createElement("div",{class:zi.const("dcg-partition-placeholder")}),C(this,"enter",{colspan:2,style:"blue"})))}},Is=__dcg_shared_module_exports__.i(ne()),aC=class extends On{template(){return Is.createElement(qt,{controller:this.props.controller},Is.createElement(Ge,null,C(this,"q"),C(this,"w"),C(this,"e"),C(this,"r"),C(this,"t"),C(this,"y"),C(this,"u"),C(this,"i"),C(this,"o"),C(this,"p")),Is.createElement(Ge,null,Is.createElement("div",{class:Is.const("dcg-half-width-placeholder")}),C(this,"a"),C(this,"s"),C(this,"d"),C(this,"f"),C(this,"g"),C(this,"h"),C(this,"j"),C(this,"k"),C(this,"l"),Is.createElement("div",{class:Is.const("dcg-half-width-placeholder")})),Is.createElement(Ge,null,C(this,"shift",{style:"highlight"}),C(this,"z"),C(this,"x"),C(this,"c"),C(this,"v"),C(this,"b"),C(this,"n"),C(this,"m"),C(this,":"),C(this,"backspace",{style:"highlight"})),Is.createElement(Ge,null,C(this,"~"),C(this,"{"),C(this,"}"),C(this,"["),C(this,"]"),C(this,"±"),C(this,"'"),C(this,"obelus"),C(this,"enter",{style:"blue"})))}},Ms=__dcg_shared_module_exports__.i(ne()),sC=class extends On{template(){return Ms.createElement(qt,{controller:this.props.controller},Ms.createElement(Ge,null,C(this,"Q"),C(this,"W"),C(this,"E"),C(this,"R"),C(this,"T"),C(this,"Y"),C(this,"U"),C(this,"I"),C(this,"O"),C(this,"P")),Ms.createElement(Ge,null,Ms.createElement("div",{class:Ms.const("dcg-half-width-placeholder")}),C(this,"A"),C(this,"S"),C(this,"D"),C(this,"F"),C(this,"G"),C(this,"H"),C(this,"J"),C(this,"K"),C(this,"L"),Ms.createElement("div",{class:Ms.const("dcg-half-width-placeholder")})),Ms.createElement(Ge,null,C(this,"shift",{style:"highlight"}),C(this,"Z"),C(this,"X"),C(this,"C"),C(this,"V"),C(this,"B"),C(this,"N"),C(this,"M"),C(this,","),C(this,"backspace",{style:"highlight"})),Ms.createElement(Ge,null,C(this,"="),C(this,"("),C(this,")"),C(this,"["),C(this,"]"),C(this,"±"),C(this,"'"),C(this,"obelus"),C(this,"enter",{style:"blue"})))}},Po=__dcg_shared_module_exports__.i(ne()),lC=class extends On{template(){return Po.createElement(qt,{controller:this.props.controller},Po.createElement(Ge,null,C(this,"sin"),C(this,"cos"),C(this,"tan"),Po.createElement("div",{class:Po.const("dcg-partition-placeholder")}),C(this,"ln"),C(this,"log"),C(this,"backspace",{style:"highlight"})),Po.createElement(Ge,null,C(this,"arcsin"),C(this,"arccos"),C(this,"arctan"),Po.createElement("div",{class:Po.const("dcg-partition-placeholder")}),C(this,"e^x"),C(this,"abs"),C(this,"round")),Po.createElement(Ge,null,C(this,"mean"),C(this,"stdev"),C(this,"stdevp"),Po.createElement("div",{class:Po.const("dcg-partition-placeholder")}),C(this,"a^b"),C(this,"sqrt"),C(this,"nthroot")),Po.createElement(Ge,null,C(this,"nPr"),C(this,"nCr"),C(this,"!"),Po.createElement("div",{class:Po.const("dcg-partition-placeholder")}),C(this,"e"),C(this,"%"),C(this,"enter",{style:"blue"})))}},xo=__dcg_shared_module_exports__.i(ne()),cC=class extends On{template(){return xo.createElement(qt,{controller:this.props.controller},xo.createElement(Ge,null,C(this,"1",{style:"highlight"}),C(this,"2",{style:"highlight"}),C(this,"3",{style:"highlight"}),C(this,"4",{style:"highlight"}),C(this,"5",{style:"highlight"}),C(this,"6",{style:"highlight"}),C(this,"7",{style:"highlight"}),C(this,"8",{style:"highlight"}),C(this,"9",{style:"highlight"}),C(this,"0",{style:"highlight"}),xo.createElement("div",{class:xo.const("dcg-partition-placeholder")}),C(this,"left",{style:"highlight"}),C(this,"right",{style:"highlight"}),xo.createElement("div",{class:xo.const("dcg-inline-hide-keypad-button"),"dcg-command":xo.const("hide-keypad"),onTap:()=>this.props.controller().dispatch({type:"hide-keypad"})},xo.createElement("div",{class:xo.const("dcg-inline-hide-keypad-button-inner")},xo.createElement("i",{class:xo.const("dcg-icon-hide"),"aria-hidden":xo.const("true")})))),xo.createElement(Ge,null,Hr(2),C(this,"."),C(this,"="),C(this,"+"),C(this,"-"),C(this,"multiplication"),C(this,"obelus"),Hr(3),C(this,"backspace",{style:"highlight",colspan:1.5}),Hr(1)),xo.createElement(Ge,null,Hr(2),C(this,"a/b"),C(this,","),C(this,"("),C(this,")"),C(this,"<"),C(this,">"),Hr(2.5),C(this,"enter",{colspan:2,style:"blue"}),Hr(1)))}},qa=__dcg_shared_module_exports__.i(ne()),dC=class extends On{template(){let e=this.props.controller();return qa.createElement(ba,{controller:this.props.controller},qa.createElement(Ar,{command:this.const("main"),selected:()=>"main"===e.getScientificKeyboardMode(),ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:()=>e.dispatch({type:"main"})},(()=>e.s("basic-calculator-button-controlbar-main"))),qa.createElement(Ar,{command:this.const("ABC"),selected:()=>-1!==["qwerty","capitalQwerty"].indexOf(e.getScientificKeyboardMode()),ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-abc"),onTap:()=>e.dispatch({type:"ABC"})},(()=>e.s("basic-calculator-button-controlbar-abc"))),qa.createElement(Ar,{command:this.const("functions"),selected:()=>-1!==["functions","restrictedFunctions"].indexOf(e.getScientificKeyboardMode()),ariaLabel:()=>e.s("basic-calculator-narration-controlbar-functions"),ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:()=>e.dispatch({type:"functions"})},(()=>e.s("shared-calculator-button-controlbar-functions"))),qa.createElement("div",{class:qa.const("dcg-hide-keypad-button"),"dcg-command":qa.const("hide-keypad"),onTap:()=>e.dispatch({type:"hide-keypad"})},qa.createElement("i",{class:qa.const("dcg-icon-hide"),"aria-hidden":qa.const("true")})))}},{Switch:L6,SwitchUnion:P6}=Ni.Components,uC=class extends On{template(){return Ni.createElement("div",{class:Ni.const("dcg-calculator-api-container"),style:()=>"width: 100%; height: 100%; position: relative;"},Ni.createElement("div",{class:Ni.const("dcg-do-not-blur dcg-container dcg-api-shared-keypad-root"),didMount:this.bindFn(this.didMountRoot)},this.children))}didMountRoot(e){fp(e)}},Ok=class extends On{template(){return Ni.createElement(uC,__dcg_shared_module_exports__.b({},this.props),Ni.createElement("div",{class:()=>({"dcg-fourfunction-keypad-container":!0,"dcg-projector-mode":"none"!==this.props.controller().getProjectorMode(),"dcg-classroom-large-projector-mode":"large"===this.props.controller().getProjectorMode()}),role:Ni.const("region"),"aria-label":()=>this.s("shared-calculator-narration-keypad")},Ni.createElement(cC,{controller:this.props.controller})))}},_k=class extends On{template(){return Ni.createElement(uC,__dcg_shared_module_exports__.b({},this.props),Ni.createElement("div",{class:()=>({"dcg-scientific-keypad-container":!0,"dcg-projector-mode":"none"!==this.props.controller().getProjectorMode(),"dcg-classroom-large-projector-mode":"large"===this.props.controller().getProjectorMode()})},Ni.createElement(dC,{controller:this.props.controller}),Ni.createElement("div",{role:Ni.const("group"),"aria-label":()=>this.s("shared-calculator-narration-keypad")},Ni.createElement(L6,{key:()=>this.controller.getScientificKeyboardMode()},(e=>{switch(e){case"qwerty":return Ni.createElement(aC,{controller:this.props.controller});case"capitalQwerty":return Ni.createElement(sC,{controller:this.props.controller});case"functions":return Ni.createElement(lC,{controller:this.props.controller});default:return Ni.createElement(oC,{controller:this.props.controller})}})))))}},pC=class extends On{template(){return P6((()=>this.controller.getKeypadType()),{fourfunction:()=>Ni.createElement(Ok,__dcg_shared_module_exports__.b({},this.props)),scientific:()=>Ni.createElement(_k,__dcg_shared_module_exports__.b({},this.props))})}},Mh=class extends Nd{constructor(e,t){super(e),this.init(t)}init(e){this.controller=new my(e),this.controller.onEventEmitted=e=>{"render"===e&&this.updateView(),this.triggerEvent(e,void 0)},this.setupDomChangeDetector(!0)}setActiveMathquill(e){this.controller.dispatch({type:"set-active-mq",mq:e})}setKeypadType(e){this.controller.dispatch({type:"set-keypad-type",keypadType:e})}onCreateView(){return Th.mountToNode(pC,this.rootElt,{controller:Th.const(this.controller)})}onResizeView(e){}onDestroyView(){Th.unmountFromNode(this.rootElt)}destroy(){super.destroy()}},Gh=class extends Rd{constructor(e,t,n){super(e,__dcg_shared_module_exports__.c(__dcg_shared_module_exports__.b({},t),{product:"geometry-calculator"}),n),this.setState(Fp),this.clearHistory()}},F_=__dcg_shared_module_exports__.i(Vc()),O6=__dcg_shared_module_exports__.i(ne()),oc;Ns(),void 0!==Desmos?oc=Desmos:(oc={},window.Desmos=oc);var _6={SMALL:"0.85",MEDIUM:"1",LARGE:"1.35"};function Fk(...e){return new fh(...e)}function R_(...e){return new Gh(...e)}function Rk(...e){return new mh(...e)}function N_(...e){return new kh(...e)}function B_(...e){return new Ih(...e)}function K_(...e){return new Mh(...e)}Fk.prototype=fh.prototype,R_.prototype=Gh.prototype,Rk.prototype=mh.prototype,N_.prototype=kh.prototype,B_.prototype=Ih.prototype,K_.prototype=Mh.prototype;var gC={version:o1,Colors:{RED:Ax,BLUE:Vx,GREEN:Lx,ORANGE:Ox,PURPLE:Px,BLACK:_x},imageFileToDataURL:qx,supportedLanguages:["en"].concat(oc.localeData?Object.keys(oc.localeData):oc.locales?Object.keys(oc.locales):[]),Styles:__dcg_shared_module_exports__.b(__dcg_shared_module_exports__.b({},PE),LE),ColumnModes:Rg,DragModes:OE,AxisArrowModes:__dcg_shared_module_exports__.sc,FontSizes:Kx,LabelSizes:_6,LabelOrientations:_E,GraphingCalculator:Fk,Calculator:Fk,FourFunctionCalculator:N_,ScientificCalculator:B_,Abraham:F_,Private:{Abraham:F_,Mathtools:Sk,Graphtools:{ScalePair:__dcg_shared_module_exports__.kc,getClippingGraphType:Pg,mapSegmentToCanvas:Xu,computeDrawingCommandsForDOMLabel:vx,drawCommandsToCtx:Cx},MathquillConfig:{getAutoCommands:Bs,getAutoOperators:Ko},Parser:__dcg_shared_module_exports__.Fc,extractSliderValueFromLatex:Sg,__compareBranches:{getSliderMin:la,getSliderMax:is},GeometryBeta:R_,HeadlessGraphingCalculator:Rk,Fragile:{DCGView:O6,PromptSliderView:ws,Checkbox:kt,SegmentedControl:Oi,MathquillView:qe,InlineMathInputView:Ir,StaticMathquillView:ze,Tooltip:Ue,ExpressionOptionsMenuView:Zp,evaluateLatex:ai,Keys:Vr,jQuery,getQueryParams:Sn,getReconciledExpressionProps:__dcg_shared_module_exports__.ac,List:{moveItemsTo:Nu,removeItemById:Ku},currentLanguage:ME}},TestInternal:{subscribeToSharedClockBus:e=>Vl(e),getCalcConfigAll:()=>ST(),fetchLanguage:e=>Gx(e),asyncLoadStateAtStartup:E0},MathQuill:Ca,PillowKeypad:K_,HeadlessGraphingCalculator:Rk},hC;function Nk(e){var t=oc.enabledFeatures;return!t||t[e]}function fC(e){gC[e]=function(){throw new Error("The Desmos "+e+" is not enabled for this API key.")}}for(hC in Nk("GraphingCalculator")||(fC("GraphingCalculator"),fC("Calculator")),Nk("FourFunctionCalculator")||fC("FourFunctionCalculator"),Nk("ScientificCalculator")||fC("ScientificCalculator"),gC)gC.hasOwnProperty(hC)&&(oc[hC]=gC[hC]);function U_(){Desmos.$=P,Desmos._=__dcg_shared_module_exports__.Ma,Desmos.$.noConflict(!0)}at(),void 0===Desmos&&(Desmos={}),void 0===Desmos&&(Desmos={}),U_()})()}()})(void 0!==typeof window?window:this||{})})()}},254:(e,t,n)=>{n.r(t),n.d(t,{Start:()=>Ve});var r={};n.r(r),n.d(r,{Decoder:()=>xe,Encoder:()=>ye,PacketType:()=>fe,protocol:()=>me});var i=n(226);const o=Object.create(null);o.open="0",o.close="1",o.ping="2",o.pong="3",o.message="4",o.upgrade="5",o.noop="6";const a=Object.create(null);Object.keys(o).forEach((e=>{a[o[e]]=e}));const s={type:"error",data:"parser error"},l="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),c="function"==typeof ArrayBuffer,d=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,p=({type:e,data:t},n,r)=>l&&t instanceof Blob?n?r(t):u(t,r):c&&(t instanceof ArrayBuffer||d(t))?n?r(t):u(new Blob([t]),r):r(o[e]+(t||"")),u=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function h(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let g;const m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)f[m.charCodeAt(e)]=e;const y="function"==typeof ArrayBuffer,b=(e,t)=>{if("string"!=typeof e)return{type:"message",data:_(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:x(e.substring(1),t)};return a[n]?e.length>1?{type:a[n],data:e.substring(1)}:{type:a[n]}:s},x=(e,t)=>{if(y){const n=(e=>{let t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);const c=new ArrayBuffer(a),d=new Uint8Array(c);for(t=0;t<s;t+=4)n=f[e.charCodeAt(t)],r=f[e.charCodeAt(t+1)],i=f[e.charCodeAt(t+2)],o=f[e.charCodeAt(t+3)],d[l++]=n<<2|r>>4,d[l++]=(15&r)<<4|i>>2,d[l++]=(3&i)<<6|63&o;return c})(e);return _(n,t)}return{base64:!0,data:e}},_=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,v=String.fromCharCode(30);function w(){return new TransformStream({transform(e,t){!function(e,t){l&&e.data instanceof Blob?e.data.arrayBuffer().then(h).then(t):c&&(e.data instanceof ArrayBuffer||d(e.data))?t(h(e.data)):p(e,!1,(e=>{g||(g=new TextEncoder),t(g.encode(e))}))}(e,(n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const e=new DataView(i.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{i=new Uint8Array(9);const e=new DataView(i.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!=typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)}))}})}let A;function k(e){return e.reduce(((e,t)=>e+t.length),0)}function E(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function I(e){if(e)return function(e){for(var t in I.prototype)e[t]=I.prototype[t];return e}(e)}I.prototype.on=I.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},I.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},I.prototype.off=I.prototype.removeListener=I.prototype.removeAllListeners=I.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},I.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},I.prototype.emitReserved=I.prototype.emit,I.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},I.prototype.hasListeners=function(e){return!!this.listeners(e).length};const M="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function S(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const C=M.setTimeout,T=M.clearTimeout;function D(e,t){t.useNativeTimers?(e.setTimeoutFn=C.bind(M),e.clearTimeoutFn=T.bind(M)):(e.setTimeoutFn=M.setTimeout.bind(M),e.clearTimeoutFn=M.clearTimeout.bind(M))}class P extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class O extends I{constructor(e){super(),this.writable=!1,D(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new P(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=b(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}const B="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),L=64,F={};let N,R=0,q=0;function G(e){let t="";do{t=B[e%L]+t,e=Math.floor(e/L)}while(e>0);return t}function Q(){const e=G(+new Date);return e!==N?(R=0,N=e):e+"."+G(R++)}for(;q<L;q++)F[B[q]]=q;let z=!1;try{z="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const U=z;function j(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||U))return new XMLHttpRequest}catch(e){}if(!t)try{return new(M[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function Y(){}const V=null!=new j({xdomain:!1}).responseType;class H extends I{constructor(e,t){super(),D(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=S(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new j(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=H.requestsCount++,H.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=Y,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete H.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(H.requestsCount=0,H.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",K);else if("function"==typeof addEventListener){addEventListener("onpagehide"in M?"pagehide":"unload",K,!1)}function K(){for(let e in H.requests)H.requests.hasOwnProperty(e)&&H.requests[e].abort()}const W="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),J=M.WebSocket||M.MozWebSocket,$="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const X={websocket:class extends O{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=$?{}:S(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=$?new J(e,t,n):t?new J(e,t):new J(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;p(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}r&&W((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Q()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!J}},webtransport:class extends O{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){A||(A=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,l){for(n.push(a);;){if(0===r){if(k(n)<1)break;const e=E(n,1);o=128==(128&e[0]),i=127&e[0],r=i<126?3:126===i?1:2}else if(1===r){if(k(n)<2)break;const e=E(n,2);i=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(k(n)<8)break;const e=E(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),o=t.getUint32(0);if(o>Math.pow(2,21)-1){l.enqueue(s);break}i=o*Math.pow(2,32)+t.getUint32(4),r=3}else{if(k(n)<i)break;const e=E(n,i);l.enqueue(b(o?e:A.decode(e),t)),r=0}if(0===i||i>e){l.enqueue(s);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=w();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const i=()=>{n.read().then((({done:e,value:t})=>{e||(this.onPacket(t),i())})).catch((e=>{}))};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this.writer.write(n).then((()=>{r&&W((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends O{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port}const t=e&&e.forceBase64;this.supportsBinary=V&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(v),r=[];for(let e=0;e<n.length;e++){const i=b(n[e],t);if(r.push(i),"error"===i.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach(((e,o)=>{p(e,!1,(e=>{r[o]=e,++i===n&&t(r.join(v))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Q()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new H(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},Z=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ee=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function te(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=Z.exec(e||""),o={},a=14;for(;a--;)o[ee[a]]=i[a]||"";return-1!=n&&-1!=r&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,o.path),o.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,o.query),o}class ne extends I{constructor(e,t={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=te(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=te(t.host).host),D(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,r=n.length;e<r;e++){let r=n[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new X[e](n)}open(){let e;if(this.opts.rememberUpgrade&&ne.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;ne.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;ne.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,c(),t.close(),t=null)}const o=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function a(){o("transport closed")}function s(){o("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",r),t.removeListener("error",o),t.removeListener("close",a),this.off("close",s),this.off("upgrading",l)};t.once("open",r),t.once("error",o),t.once("close",a),this.once("close",s),this.once("upgrading",l),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onOpen(){if(this.readyState="open",ne.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"==typeof(t=r)?function(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){ne.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}ne.protocol=4;ne.protocol;const re="function"==typeof ArrayBuffer,ie=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,oe=Object.prototype.toString,ae="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===oe.call(Blob),se="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===oe.call(File);function le(e){return re&&(e instanceof ArrayBuffer||ie(e))||ae&&e instanceof Blob||se&&e instanceof File}function ce(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(ce(e[t]))return!0;return!1}if(le(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return ce(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&ce(e[t]))return!0;return!1}function de(e){const t=[],n=e.data,r=e;return r.data=pe(n,t),r.attachments=t.length,{packet:r,buffers:t}}function pe(e,t){if(!e)return e;if(le(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=pe(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=pe(e[r],t));return n}return e}function ue(e,t){return e.data=he(e.data,t),delete e.attachments,e}function he(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=he(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=he(e[n],t));return e}const ge=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],me=5;var fe;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(fe||(fe={}));class ye{constructor(e){this.replacer=e}encode(e){return e.type!==fe.EVENT&&e.type!==fe.ACK||!ce(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===fe.EVENT?fe.BINARY_EVENT:fe.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==fe.BINARY_EVENT&&e.type!==fe.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=de(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function be(e){return"[object Object]"===Object.prototype.toString.call(e)}class xe extends I{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===fe.BINARY_EVENT;n||t.type===fe.BINARY_ACK?(t.type=n?fe.EVENT:fe.ACK,this.reconstructor=new _e(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!le(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===fe[n.type])throw new Error("unknown packet type "+n.type);if(n.type===fe.BINARY_EVENT||n.type===fe.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(r,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!xe.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case fe.CONNECT:return be(t);case fe.DISCONNECT:return void 0===t;case fe.CONNECT_ERROR:return"string"==typeof t||be(t);case fe.EVENT:case fe.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===ge.indexOf(t[0]));case fe.ACK:case fe.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class _e{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=ue(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ve(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const we=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ae extends I{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ve(e,"open",this.onopen.bind(this)),ve(e,"packet",this.onpacket.bind(this)),ve(e,"error",this.onerror.bind(this)),ve(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(we.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:fe.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(i),t.apply(this,[null,...e])}}emitWithAck(e,...t){const n=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise(((r,i)=>{t.push(((e,t)=>n?e?i(e):r(t):r(e))),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...r)=>{if(n!==this._queue[0])return;return null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:fe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fe.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fe.EVENT:case fe.BINARY_EVENT:this.onevent(e);break;case fe.ACK:case fe.BINARY_ACK:this.onack(e);break;case fe.DISCONNECT:this.ondisconnect();break;case fe.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:fe.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:fe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function ke(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ke.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},ke.prototype.reset=function(){this.attempts=0},ke.prototype.setMin=function(e){this.ms=e},ke.prototype.setMax=function(e){this.max=e},ke.prototype.setJitter=function(e){this.jitter=e};class Ee extends I{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,D(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new ke({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||r;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ne(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=ve(t,"open",(function(){n.onopen(),e&&e()})),i=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},o=ve(t,"error",i);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),i(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ve(e,"ping",this.onping.bind(this)),ve(e,"data",this.ondata.bind(this)),ve(e,"error",this.onerror.bind(this)),ve(e,"close",this.onclose.bind(this)),ve(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){W((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Ae(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ie={};function Me(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=te(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=Ie[i]&&o in Ie[i].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?s=new Ee(r,t):(Ie[i]||(Ie[i]=new Ee(r,t)),s=Ie[i]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(Me,{Manager:Ee,Socket:Ae,io:Me,connect:Me});var Se=n(385),Ce=n.n(Se),Te=new URL(n(931),n.b);const De='<!DOCTYPE html> <html> <head> <title>Desmos | Graphing Calculator</title> <link rel="icon" href="'+Ce()(Te)+'"/> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/> </head> <body> <div id="topBar"> <div id="leftBar"> <div id="leftHamburger"> <svg stroke="currentColor" fill="none" stroke-width="2.3" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1.6em" width="1.6em" xmlns="http://www.w3.org/2000/svg"> <line x1="5" y1="12" x2="20" y2="12"></line> <line x1="5" y1="6" x2="20" y2="6"></line> <line x1="5" y1="18" x2="20" y2="18"></line> </svg> </div> <div> <p>Untitled Graph</p> </div> </div> <svg version="1.1" class="dcg-desmos-svg-logo" id="svg-desmos" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 909.3 188.4" xml:space="preserve"> <title>Desmos Logo</title> <g class=""> <path d="M129.6,0c-6.8,0-12.4,5.5-12.4,12.4v48c-27.7-25.4-70.6-24-96.7,3.1c-27.4,28.4-27.4,73.4,0,101.8\n        c26.1,27.1,69.1,28.4,96.8,3v8.8c2,6.5,9,10.2,15.5,8.2c3.9-1.2,7-4.3,8.2-8.2V12.4C141.1,5.9,136.1,0.5,129.6,0z M103.9,148.7\n        c-17.3,18.2-46.1,18.9-64.3,1.6c-0.6-0.5-1.1-1.1-1.6-1.6c-18.4-19.2-18.4-49.5,0-68.7c17.3-18.2,46.1-18.9,64.3-1.6\n        c0.6,0.5,1.1,1.1,1.6,1.6C122.3,99.3,122.3,129.6,103.9,148.7z"></path> <path d="M298.3,124c2.2-2.3,3.4-5.3,3.5-8.4c-0.1-19-7.6-37.2-20.9-50.7c-26.6-27.6-70.6-28.4-98.2-1.8c-0.6,0.6-1.2,1.2-1.8,1.8\n        c-27.4,28.4-27.4,73.4,0,101.8c21.8,22.6,56.2,27.7,83.7,12.4c10-5.6,18.5-13.5,24.8-23.1c3.4-5.5,1.9-12.7-3.3-16.5\n        c-5.5-3.3-12.6-1.7-16.4,3.5c-4.2,6.4-9.9,11.6-16.6,15.4c-6.8,3.8-14.4,5.8-22.2,5.8c-12.5,0-24.4-5.1-33.1-14.1\n        c-6-6.3-10.3-14-12.4-22.4h104C292.7,127.6,296,126.3,298.3,124z M231.3,67.2c12.4,0.1,24.3,5.2,33,14.1\n        c6.1,6.3,10.4,14.1,12.4,22.6h-90.7c2.1-8.5,6.3-16.3,12.4-22.6C207,72.4,218.8,67.3,231.3,67.2z"></path> <path d="M763.5,63c-26.7-28.1-71.1-29.2-99.2-2.5c-0.8,0.8-1.7,1.6-2.5,2.5c-13.7,13.9-21.3,32.7-20.9,52.2\n        c-0.2,19.3,7.2,37.8,20.7,51.6c27.7,28.2,73.1,28.7,101.3,0.9c0.3-0.3,0.6-0.6,0.9-0.9c13.4-13.8,20.9-32.4,20.7-51.7\n        c0.2-19.4-7.3-38.2-21.1-51.9 M712.8,66.7c12.4,0,24.2,5.2,32.5,14.4c8.9,9.2,13.8,21.5,13.6,34.3c0.2,12.7-4.6,25-13.5,34.1\n        c-8.5,9.2-20.5,14.2-33,13.9c-12.3,0.3-24.2-4.7-32.5-13.8c-8.8-9.1-13.6-21.4-13.3-34.1c-0.3-12.9,4.7-25.4,13.8-34.6\n        c8.2-9.3,20-14.6,32.4-14.4"></path> <path d="M623.8,92.6v81.9c0.3,6.8-4.9,12.7-11.8,13c-6.8,0.3-12.7-4.9-13-11.8V93.1c0-7.5-3-14.6-8.3-19.8\n        c-4.3-4.7-10.2-7.6-16.5-8.1h-1.9c-7-0.1-13.6,2.9-18.2,8.2c-4.8,4.9-7.5,11.5-7.7,18.3v2l0,0v81.1c0,6.8-5.5,12.4-12.4,12.4\n        c-6.5,0-11.9-4.9-12.4-11.4V91.5c-0.6-4.3-1.8-8.4-3.5-12.4c-1.2-2.3-2.6-4.5-4.3-6.4c-4.7-5.2-11.3-8.3-18.3-8.3\n        c-7,0-13.6,3-18.1,8.3c-5.1,5.2-8,12.3-7.9,19.6V176c-0.8,6.3-6.1,11-12.4,10.9c-6.8,0-12.4-5.5-12.4-12.4V52.9\n        c-0.7-6.8,4.2-12.9,11-13.6c5.9-0.6,11.4,3,13.1,8.7l2.9-1.9c7.4-3.9,15.6-6,23.9-5.9c12.3-0.1,24.1,4.3,33.3,12.4\n        c1.1,0.9,2.1,2,3,3.1c0.9,0.7,1.7,1.5,2.5,2.4l2.2-2.4c0.9-1.1,1.9-2.2,3-3.1c9.2-8.1,21-12.5,33.2-12.4h4.3\n        c10.8,0.8,21,5.1,29,12.4c0.9,1,2,1.9,3,2.9C618.9,65.3,624,78.7,623.8,92.6" class=""></path> <path d="M427.2,145.4c0.1,23.4-18.6,42.5-42,43h-50.8c-6.8,0-12.4-5.5-12.4-12.4s5.5-12.4,12.4-12.4H384c10-0.2,17.9-8.4,17.8-18.3\n        c0.1-9.9-7.9-18-17.8-18.1c0,0-0.1,0-0.1,0h-24.8c-23.8-1.3-42-21.6-40.8-45.4c1.2-22,18.8-39.6,40.8-40.8h50.2\n        c6.8,0,12.4,5.5,12.4,12.4s-5.5,12.4-12.4,12.4h-49.1c-10,0.8-17.5,9.6-16.7,19.7c0.7,8.9,7.8,15.9,16.7,16.7H385\n        c5.9,0,11.8,1.2,17.2,3.7C417.7,112.8,427.2,128.4,427.2,145.4"></path> <path d="M908.9,145.2c0,23.4-18.3,42.7-41.6,43.3h-50.8c-6.8,0-12.4-5.5-12.4-12.4s5.5-12.4,12.4-12.4h50.2\n        c10-0.2,17.9-8.4,17.8-18.3c0.1-9.9-7.9-18-17.8-18.1c0,0-0.1,0-0.1,0h-24.8c-23.8-1.3-42-21.6-40.8-45.4\n        c1.2-22,18.8-39.6,40.8-40.8h49.6c6.8,0,12.4,5.5,12.4,12.4s-5.5,12.4-12.4,12.4h-49.6c-10.1,0-18.2,8.2-18.2,18.2c0,0,0,0,0,0\n        c0,9.9,8,18,17.8,18.1h24.8c5.9,0,11.8,1.3,17.2,3.7C898.9,112.8,908.9,128.2,908.9,145.2"></path> </g> </svg> <div id="rightBar"> <button id="logIn">Log In</button> or <button id="signUp">Sign Up</button> <svg fill="rgb(221, 221, 221)" width="1.1em" height="1.1em" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"> <title>share</title> <path d="M0 25.472q0 2.368 1.664 4.032t4.032 1.664h18.944q2.336 0 4-1.664t1.664-4.032v-8.192l-3.776 3.168v5.024q0 0.8-0.544 1.344t-1.344 0.576h-18.944q-0.8 0-1.344-0.576t-0.544-1.344v-18.944q0-0.768 0.544-1.344t1.344-0.544h9.472v-3.776h-9.472q-2.368 0-4.032 1.664t-1.664 4v18.944zM5.696 19.808q0 2.752 1.088 5.28 0.512-2.944 2.24-5.344t4.288-3.872 5.632-1.664v5.6l11.36-9.472-11.36-9.472v5.664q-2.688 0-5.152 1.056t-4.224 2.848-2.848 4.224-1.024 5.152zM32 22.080v0 0 0z"/> </svg> <svg height="1.1em" width="1.1em" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve"> <style>.st0{fill:rgb(221,221,221)}</style> <g> <path class="st0" d="M256,0C114.616,0,0,114.612,0,256s114.616,256,256,256s256-114.612,256-256S397.385,0,256,0z M207.678,378.794   c0-17.612,14.281-31.893,31.893-31.893c17.599,0,31.88,14.281,31.88,31.893c0,17.595-14.281,31.884-31.88,31.884   C221.959,410.678,207.678,396.389,207.678,378.794z M343.625,218.852c-3.596,9.793-8.802,18.289-14.695,25.356   c-11.847,14.148-25.888,22.718-37.442,29.041c-7.719,4.174-14.533,7.389-18.769,9.769c-2.905,1.604-4.479,2.95-5.256,3.826   c-0.768,0.926-1.029,1.306-1.496,2.826c-0.273,1.009-0.558,2.612-0.558,5.091c0,6.868,0,12.512,0,12.512   c0,6.472-5.248,11.728-11.723,11.728h-28.252c-6.475,0-11.732-5.256-11.732-11.728c0,0,0-5.645,0-12.512   c0-6.438,0.752-12.744,2.405-18.777c1.636-6.008,4.215-11.718,7.508-16.694c6.599-10.083,15.542-16.802,23.984-21.48   c7.401-4.074,14.723-7.455,21.516-11.281c6.789-3.793,12.843-7.91,17.302-12.372c2.988-2.975,5.31-6.05,7.087-9.52   c2.335-4.628,3.955-10.067,3.992-18.389c0.012-2.463-0.698-5.702-2.632-9.405c-1.926-3.686-5.066-7.694-9.264-11.29   c-8.45-7.248-20.843-12.545-35.054-12.521c-16.285,0.058-27.186,3.876-35.587,8.62c-8.36,4.776-11.029,9.595-11.029,9.595   c-4.268,3.718-10.603,3.85-15.025,0.314l-21.71-17.397c-2.719-2.173-4.322-5.438-4.396-8.926c-0.063-3.479,1.425-6.81,4.061-9.099   c0,0,6.765-10.43,22.451-19.38c15.62-8.992,36.322-15.488,61.236-15.429c20.215,0,38.839,5.562,54.268,14.661   c15.434,9.148,27.897,21.744,35.851,36.876c5.281,10.074,8.525,21.43,8.533,33.38C349.211,198.042,347.248,209.058,343.625,218.852   z"/> </g> </svg> <svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 758 758" height="1.1em" width="1.1em"> <g id="SVGRepo_iconCarrier"> <path d="m758,379c0-101.08-39.45-196.21-111.1-267.87C575.24,39.47,480.1,0,379,0,170.02,0,0,170.02,0,379s170.02,379,379,379c208.98,0,379-170.02,379-379Zm-379,308.86c-170.29,0-308.84-138.57-308.84-308.9,0-12.01.8-24.37,2.38-36.76,11.25,16.58,24.62,35.54,39.76,56.38,46.43,63.81,82.12,75.35,119.91,87.58,22.54,7.29,45.84,14.83,74.2,35.82,19.46,14.39,33.86,21.1,45.3,21.1,7.74,0,14.54-3.02,19.14-8.51,2.21-2.63,3.83-5.74,4.81-9.22h0c4.9,13.03,9.84,24.04,13.11,30.99,1.98,4.21,5.73,7.58,10.08,9.24,5.34,2.04,14.78,8.8,16.34,21.16.62,4.95.71,13.42.8,22.4.25,23.8.56,53.43,9.55,74.97-15.7,2.48-31.36,3.74-46.54,3.74Zm114.57-213.12c-4.99-1.5-10.22-3.06-15.6-4.72-20.77-6.36-34.49-32.86-38.85-45.99-1.7-5.12-5.61-9.22-10.65-11.16-11.05-4.25-20.58-6.31-29.16-6.31-14.22,0-25.86,6.02-32.8,16.97-7.64,12.08-9.14,30.71-4.45,55.35-13.12-18.75-30.03-29.95-45.22-29.95h-.5c-11.37,0-30.37-31.45-39.79-59.61l-.03-.09c-3.24-11.28-8.21-43.85,7.46-59,5.64-5.46,8.21-5.61,8.23-5.61,1.21,0,4.25,1.64,7.27,3.31,5.18,2.88,13.85,7.7,24.58,7.7,2.86,0,5.73-.34,8.59-1.03,13.1-3.2,24.31-12.19,31.55-25.31,9.19-16.62,10.84-38.03,4.44-57.22-.52-1.56-1.08-2.99-1.72-4.39,4.05-1.06,8.4-2.14,13.07-3.22,22.2-5.13,52.05-14.67,54.98-38.2,2.59-20.67-17.62-34.12-26.43-38.94-4.91-2.69-10.78-2.94-15.9-.7-1.55.68-9.79,4.05-20.43,4.05-9.36,0-17.51-2.52-24.88-7.67-7.67-5.39-14.99-8.01-22.37-8.01-6.5,0-12.51,2.02-18.35,6.18h0c-2.22-3.38-4.74-7.74-7.48-12.96-12.99-24.71-34.73-38.89-64.61-42.16,44.61-23.82,93.22-35.9,144.46-35.9,83.5,0,161.72,32.94,220.24,92.75-35.9,9.45-59.63,28.85-68.62,56.09l-40.22,46.21c-30.69,36.25-22.95,68.23-15.6,84.06,12.53,27.02,42.2,47.2,60.38,47.2,2.51,0,4.93-.36,7.13-1.05,3.04-.95,6.1-2.3,8.77-3.49,4.63-2.04,9.4-4.14,12.89-4.14,2.89,0,7.5,2.77,13.08,15.93,8.61,20.52,12.93,54.86,16.39,82.44.62,4.95,1.19,9.45,1.74,13.63-9.67-4.41-21.73-4.97-31.16-4.97-7.16,0-14.39.41-20.53.83-7.16-7.89-20.35-12.08-49.51-20.8l-.42-.12Zm27.02,178.27l8.21-11.68c7.66-9.65,25.01-32.52,29.03-46.37,1.45-2.08,6.17-6.43,10.9-10.71,10.47-9.5,24.82-22.5,36.05-41.06,1.1,2.17,2.3,4.03,3.65,5.65,4.95,5.96,11.88,9.24,19.52,9.24.76,0,1.53-.03,2.21-.09-28.38,39.77-66.26,72.62-109.57,95.01Z"/> </g> </svg> </div> </div> <div id="calculator"></div> </body> </html> ';var Pe=n(72),Oe=n.n(Pe),Be=n(825),Le=n.n(Be),Fe=n(659),Ne=n.n(Fe),Re=n(56),qe=n.n(Re),Ge=n(540),Qe=n.n(Ge),ze=n(113),Ue=n.n(ze),je=n(913),Ye={};Ye.styleTagTransform=Ue(),Ye.setAttributes=qe(),Ye.insert=Ne().bind(null,"head"),Ye.domAPI=Le(),Ye.insertStyleElement=Qe();Oe()(je.A,Ye);je.A&&je.A.locals&&je.A.locals;function Ve(){document.body.innerHTML=De,(0,i.L)();var e=document.getElementById("calculator"),t=i.c.GraphingCalculator(e,{}),n=Me("https://api.desmos.help/",{transports:"MISSING_ENV_VAR".TRANSPORTS});let r,o,a,s="",l="enterPassword",c="enterPassword",d=[],p=[],u=!0;function h(e){c=l,l=e,x()}function g(){if(null!=r&&(r.removeEventListener("keydown",(e=>{b(e)})),r.removeEventListener("input",(()=>{y(),e()})),r.removeEventListener("select",y),r.removeEventListener("keyup",y),r.removeEventListener("mouseup",y),r.removeEventListener("touchend",y)),r=document.querySelector(`.dcg-template-expressioneach .dcg-smart-textarea[aria-label="Note ${d.length+1}"]`),console.log(r),null!=r)return r.setSelectionRange(m,f),r.addEventListener("input",(()=>{y(),e()})),r.addEventListener("keydown",(e=>{b(e)})),r.addEventListener("select",y),r.addEventListener("keyup",y),r.addEventListener("mouseup",y),r.addEventListener("touchend",y),void(u&&(r.focus(),t.pleaseFocusLastExpression(),console.log("focused")));function e(){s=r.value}"waitingRoom"!=l&&setTimeout((()=>{g()}),1)}x(),g();let m=0,f=0;function y(){console.log(r.selectionStart,r.selectionEnd),m=r.selectionStart,f=r.selectionEnd}function b(e){u&&"Enter"==e.key&&(x(),g(),""!==s?"enterPassword"==l?(n.emit("password",s),s="",h("waitingRoom"),d=[],a?t.setState(a):t.setState({version:10,expressions:{list:[{type:"expression",id:1,latex:""}]}}),g()):"chooseUsername"==l&&""!==s?(o=s,s="",d=[...p],n.emit("username",o),h("chatRoom"),x(),g(),t.pleaseFocusLastExpression()):("chatRoom"==l&&(n.emit("chat message",s),s=""),g()):"enterPassword"==l&&(h("waitingRoom"),d=[],a?t.setState(a):t.setState({version:10,expressions:{list:[{type:"expression",id:1,latex:""}]}}),g()))}function x(){"chatRoom"==l&&(t.setState({version:10,expressions:{list:[...d.map(((e,t)=>({type:"text",id:t,text:e.username+": "+e.message,readonly:!0}))),{type:"text",id:(d.length+1).toString(),text:s}]}}),g()),"enterPassword"==l&&t.setState({version:10,expressions:{list:[{type:"text",id:(d.length+1).toString(),text:s}]}}),"chooseUsername"==l&&(d=[{message:"Choose Username",readonly:!0}],t.setState({version:10,expressions:{list:[...d.map(((e,t)=>({type:"text",id:t,text:e.message,readonly:!0}))),{type:"text",id:(d.length+1).toString(),text:s}]}}),g())}document.addEventListener("keydown",(e=>{if("Escape"===e.key)if("waitingRoom"===l)h(c),g();else h("waitingRoom"),a?t.setState(a):t.setState({version:10,expressions:{list:[{type:"expression",id:1,latex:""}]}})})),t.observeEvent("change",(()=>{"waitingRoom"==l&&(a=t.getState())})),n.on("chat message",(function(e){d.push(e),"chatRoom"==l&&x()})),n.on("system message",(e=>{"waitingRoom"==l&&"access granted"==e&&(s="",h("chooseUsername"),d=[{message:"Choose Username",readonly:!0}],t.setState({version:10,expressions:{list:[...d.map(((e,t)=>({type:"text",id:t,text:e.message,readonly:!0}))),{type:"text",id:(d.length+1).toString(),text:s}]}}),g())})),n.on("messages",(e=>{p=[...e]})),document.addEventListener("click",(e=>{u=t.isAnyExpressionSelected,y()}))}},931:(e,t,n)=>{e.exports=n.p+"favicon.ico"}}]);